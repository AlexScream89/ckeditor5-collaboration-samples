var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __generator = (this && this.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [op[0] & 2, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};
var __values = (this && this.__values) || function (o) {
    var m = typeof Symbol === "function" && o[Symbol.iterator], i = 0;
    if (m) return m.call(o);
    return {
        next: function () {
            if (o && i >= o.length) o = void 0;
            return { value: o && o[i++], done: !o };
        }
    };
};
var __read = (this && this.__read) || function (o, n) {
    var m = typeof Symbol === "function" && o[Symbol.iterator];
    if (!m) return o;
    var i = m.call(o), r, ar = [], e;
    try {
        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);
    }
    catch (error) { e = { error: error }; }
    finally {
        try {
            if (r && !r.done && (m = i["return"])) m.call(i);
        }
        finally { if (e) throw e.error; }
    }
    return ar;
};
var __spread = (this && this.__spread) || function () {
    for (var ar = [], i = 0; i < arguments.length; i++) ar = ar.concat(__read(arguments[i]));
    return ar;
};
(window["webpackJsonp"] = window["webpackJsonp"] || []).push([["main"], {
        /***/ "./$$_lazy_route_resource lazy recursive": 
        /*!******************************************************!*\
          !*** ./$$_lazy_route_resource lazy namespace object ***!
          \******************************************************/
        /*! no static exports found */
        /***/ (function (module, exports) {
            function webpackEmptyAsyncContext(req) {
                // Here Promise.resolve().then() is used instead of new Promise() to prevent
                // uncaught exception popping up in devtools
                return Promise.resolve().then(function () {
                    var e = new Error("Cannot find module '" + req + "'");
                    e.code = 'MODULE_NOT_FOUND';
                    throw e;
                });
            }
            webpackEmptyAsyncContext.keys = function () { return []; };
            webpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;
            module.exports = webpackEmptyAsyncContext;
            webpackEmptyAsyncContext.id = "./$$_lazy_route_resource lazy recursive";
            /***/ 
        }),
        /***/ "./node_modules/raw-loader/index.js!./src/app/app.component.html": 
        /*!**************************************************************!*\
          !*** ./node_modules/raw-loader!./src/app/app.component.html ***!
          \**************************************************************/
        /*! no static exports found */
        /***/ (function (module, exports) {
            module.exports = "<router-outlet></router-outlet>\n";
            /***/ 
        }),
        /***/ "./node_modules/raw-loader/index.js!./src/app/load-save-integration/load-save-integration.component.html": 
        /*!******************************************************************************************************!*\
          !*** ./node_modules/raw-loader!./src/app/load-save-integration/load-save-integration.component.html ***!
          \******************************************************************************************************/
        /*! no static exports found */
        /***/ (function (module, exports) {
            module.exports = "<header>\n\t<div class=\"centered\">\n\t\t<h1>\n\t\t\t<a href=\"https://ckeditor.com/ckeditor-5/\" target=\"_blank\" rel=\"noopener noreferrer\">\n\t\t\t\t<img src=\"https://c.cksource.com/a/1/logos/ckeditor5.svg\" alt=\"CKEditor 5 logo\" /> CKEditor 5\n\t\t\t</a>\n\t\t</h1>\n\n\t\t<nav>\n\t\t\t<ul>\n\t\t\t\t<li>\n\t\t\t\t\t<a href=\"https://ckeditor.com/collaboration/track-changes/\" target=\"_blank\" rel=\"noopener noreferrer\">Website</a>\n\t\t\t\t</li>\n\t\t\t\t<li>\n\t\t\t\t\t<a href=\"https://ckeditor.com/docs/ckeditor5/latest/features/collaboration/track-changes/track-changes.html\"\n\t\t\t\t\t\ttarget=\"_blank\" rel=\"noopener noreferrer\">Documentation</a>\n\t\t\t\t</li>\n\t\t\t</ul>\n\t\t</nav>\n\t</div>\n</header>\n\n<main>\n\t<div class=\"message\">\n\t\t<div class=\"centered\">\n\t\t\t<h1>CKEditor 5 track changes \"load and save\" integration for Angular</h1>\n\t\t</div>\n\t</div>\n\t<div class=\"centered\">\n\t\t<div class='row row-editor'>\n\t\t\t<ckeditor [editor]=\"Editor\" (ready)=\"onReady($event)\" [config]=\"editorConfig\" [data]=\"data\"></ckeditor>\n\t\t\t<div #sidebar class='sidebar'></div>\n\t\t</div>\n\t\t<div class=\"row row-info\">\n\t\t\tSee the editor data in the console.\n\t\t\t<button class=\"get-data\" (click)=\"showEditorDataInConsole($event)\">Get editor data</button>\n\t\t</div>\n\t\t<div class=\"row row-info\">\n\t\t\tYour license key is stored in the local storage.\n\t\t\t<button class=\"remove-license-key\" (click)=\"resetLicenseKey()\">Reset license key</button>\n\t\t</div>\n\t</div>\n</main>\n\n<footer>\n\t<div class=\"centered\">\n\t\t<p>\n\t\t\t<a href=\"https://ckeditor.com/ckeditor-5/\" target=\"_blank\" rel=\"noopener noreferrer\">CKEditor 5</a> – Rich text editor of tomorrow, available today\n\t\t</p>\n\t\t<p>\n\t\t\tCopyright © 2003-2019, <a href=\"https://cksource.com/\" target=\"_blank\" rel=\"noopener noreferrer\">CKSource</a> – Frederico Knabben. All rights reserved.\n\t\t</p>\n\t</div>\n</footer>\n";
            /***/ 
        }),
        /***/ "./node_modules/raw-loader/index.js!./src/app/menu/menu.component.html": 
        /*!********************************************************************!*\
          !*** ./node_modules/raw-loader!./src/app/menu/menu.component.html ***!
          \********************************************************************/
        /*! no static exports found */
        /***/ (function (module, exports) {
            module.exports = "<h1>Track changes for Angular</h1>\n<nav>\n  <ul>\n    <li>\n      <a routerLink=\"/load-save-integration\">Load and save integration</a>\n    </li>\n    <li>\n      <a routerLink=\"/track-changes-adapter\">Track changes adapter</a>\n    </li>\n  </ul>\n</nav>\n";
            /***/ 
        }),
        /***/ "./node_modules/raw-loader/index.js!./src/app/track-changes-adapter/track-changes-adapter.component.html": 
        /*!******************************************************************************************************!*\
          !*** ./node_modules/raw-loader!./src/app/track-changes-adapter/track-changes-adapter.component.html ***!
          \******************************************************************************************************/
        /*! no static exports found */
        /***/ (function (module, exports) {
            module.exports = "<header>\n\t<div class=\"centered\">\n\t\t<h1>\n\t\t\t<a href=\"https://ckeditor.com/ckeditor-5/\" target=\"_blank\" rel=\"noopener noreferrer\">\n\t\t\t\t<img src=\"https://c.cksource.com/a/1/logos/ckeditor5.svg\" alt=\"CKEditor 5 logo\" /> CKEditor 5\n\t\t\t</a>\n\t\t</h1>\n\n\t\t<nav>\n\t\t\t<ul>\n\t\t\t\t<li>\n\t\t\t\t\t<a href=\"https://ckeditor.com/collaboration/track-changes/\" target=\"_blank\" rel=\"noopener noreferrer\">Website</a>\n\t\t\t\t</li>\n\t\t\t\t<li>\n\t\t\t\t\t<a href=\"https://ckeditor.com/docs/ckeditor5/latest/features/collaboration/track-changes/track-changes.html\"\n\t\t\t\t\t\ttarget=\"_blank\" rel=\"noopener noreferrer\">Documentation</a>\n\t\t\t\t</li>\n\t\t\t</ul>\n\t\t</nav>\n\t</div>\n</header>\n\n<main>\n\t<div class=\"message\">\n\t\t<div class=\"centered\">\n\t\t\t<h1>CKEditor 5 track changes adapter integration for Angular</h1>\n\t\t</div>\n\t</div>\n\t<div class=\"centered\">\n\t\t<div class='row row-editor'>\n\t\t\t<ckeditor [editor]=\"Editor\" (ready)=\"onReady($event)\" [config]=\"editorConfig\" [data]=\"data\"></ckeditor>\n\t\t\t<div #sidebar class='sidebar'></div>\n\t\t</div>\n\t\t<div class=\"row row-info\">\n\t\t\tYour license key is stored in the local storage.\n\t\t\t<button class=\"remove-license-key\" (click)=\"resetLicenseKey()\">Reset license key</button>\n\t\t</div>\n\t</div>\n</main>\n\n<footer>\n\t<div class=\"centered\">\n\t\t<p>\n\t\t\t<a href=\"https://ckeditor.com/ckeditor-5/\" target=\"_blank\" rel=\"noopener noreferrer\">CKEditor 5</a> – Rich text editor of tomorrow, available today\n\t\t</p>\n\t\t<p>\n\t\t\tCopyright © 2003-2019, <a href=\"https://cksource.com/\" target=\"_blank\" rel=\"noopener noreferrer\">CKSource</a> – Frederico Knabben. All rights reserved.\n\t\t</p>\n\t</div>\n</footer>\n";
            /***/ 
        }),
        /***/ "./node_modules/tslib/tslib.es6.js": 
        /*!*****************************************!*\
          !*** ./node_modules/tslib/tslib.es6.js ***!
          \*****************************************/
        /*! exports provided: __extends, __assign, __rest, __decorate, __param, __metadata, __awaiter, __generator, __exportStar, __values, __read, __spread, __spreadArrays, __await, __asyncGenerator, __asyncDelegator, __asyncValues, __makeTemplateObject, __importStar, __importDefault */
        /***/ (function (module, __webpack_exports__, __webpack_require__) {
            "use strict";
            __webpack_require__.r(__webpack_exports__);
            /* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "__extends", function () { return __extends; });
            /* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "__assign", function () { return __assign; });
            /* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "__rest", function () { return __rest; });
            /* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "__decorate", function () { return __decorate; });
            /* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "__param", function () { return __param; });
            /* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "__metadata", function () { return __metadata; });
            /* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "__awaiter", function () { return __awaiter; });
            /* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "__generator", function () { return __generator; });
            /* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "__exportStar", function () { return __exportStar; });
            /* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "__values", function () { return __values; });
            /* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "__read", function () { return __read; });
            /* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "__spread", function () { return __spread; });
            /* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "__spreadArrays", function () { return __spreadArrays; });
            /* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "__await", function () { return __await; });
            /* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "__asyncGenerator", function () { return __asyncGenerator; });
            /* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "__asyncDelegator", function () { return __asyncDelegator; });
            /* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "__asyncValues", function () { return __asyncValues; });
            /* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "__makeTemplateObject", function () { return __makeTemplateObject; });
            /* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "__importStar", function () { return __importStar; });
            /* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "__importDefault", function () { return __importDefault; });
            /*! *****************************************************************************
            Copyright (c) Microsoft Corporation. All rights reserved.
            Licensed under the Apache License, Version 2.0 (the "License"); you may not use
            this file except in compliance with the License. You may obtain a copy of the
            License at http://www.apache.org/licenses/LICENSE-2.0
            
            THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
            KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
            WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
            MERCHANTABLITY OR NON-INFRINGEMENT.
            
            See the Apache Version 2.0 License for specific language governing permissions
            and limitations under the License.
            ***************************************************************************** */
            /* global Reflect, Promise */
            var extendStatics = function (d, b) {
                extendStatics = Object.setPrototypeOf ||
                    ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
                    function (d, b) { for (var p in b)
                        if (b.hasOwnProperty(p))
                            d[p] = b[p]; };
                return extendStatics(d, b);
            };
            function __extends(d, b) {
                extendStatics(d, b);
                function __() { this.constructor = d; }
                d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
            }
            var __assign = function () {
                __assign = Object.assign || function __assign(t) {
                    for (var s, i = 1, n = arguments.length; i < n; i++) {
                        s = arguments[i];
                        for (var p in s)
                            if (Object.prototype.hasOwnProperty.call(s, p))
                                t[p] = s[p];
                    }
                    return t;
                };
                return __assign.apply(this, arguments);
            };
            function __rest(s, e) {
                var t = {};
                for (var p in s)
                    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)
                        t[p] = s[p];
                if (s != null && typeof Object.getOwnPropertySymbols === "function")
                    for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {
                        if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))
                            t[p[i]] = s[p[i]];
                    }
                return t;
            }
            function __decorate(decorators, target, key, desc) {
                var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
                if (typeof Reflect === "object" && typeof Reflect.decorate === "function")
                    r = Reflect.decorate(decorators, target, key, desc);
                else
                    for (var i = decorators.length - 1; i >= 0; i--)
                        if (d = decorators[i])
                            r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
                return c > 3 && r && Object.defineProperty(target, key, r), r;
            }
            function __param(paramIndex, decorator) {
                return function (target, key) { decorator(target, key, paramIndex); };
            }
            function __metadata(metadataKey, metadataValue) {
                if (typeof Reflect === "object" && typeof Reflect.metadata === "function")
                    return Reflect.metadata(metadataKey, metadataValue);
            }
            function __awaiter(thisArg, _arguments, P, generator) {
                return new (P || (P = Promise))(function (resolve, reject) {
                    function fulfilled(value) { try {
                        step(generator.next(value));
                    }
                    catch (e) {
                        reject(e);
                    } }
                    function rejected(value) { try {
                        step(generator["throw"](value));
                    }
                    catch (e) {
                        reject(e);
                    } }
                    function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }
                    step((generator = generator.apply(thisArg, _arguments || [])).next());
                });
            }
            function __generator(thisArg, body) {
                var _ = { label: 0, sent: function () { if (t[0] & 1)
                        throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
                return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function () { return this; }), g;
                function verb(n) { return function (v) { return step([n, v]); }; }
                function step(op) {
                    if (f)
                        throw new TypeError("Generator is already executing.");
                    while (_)
                        try {
                            if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done)
                                return t;
                            if (y = 0, t)
                                op = [op[0] & 2, t.value];
                            switch (op[0]) {
                                case 0:
                                case 1:
                                    t = op;
                                    break;
                                case 4:
                                    _.label++;
                                    return { value: op[1], done: false };
                                case 5:
                                    _.label++;
                                    y = op[1];
                                    op = [0];
                                    continue;
                                case 7:
                                    op = _.ops.pop();
                                    _.trys.pop();
                                    continue;
                                default:
                                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) {
                                        _ = 0;
                                        continue;
                                    }
                                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) {
                                        _.label = op[1];
                                        break;
                                    }
                                    if (op[0] === 6 && _.label < t[1]) {
                                        _.label = t[1];
                                        t = op;
                                        break;
                                    }
                                    if (t && _.label < t[2]) {
                                        _.label = t[2];
                                        _.ops.push(op);
                                        break;
                                    }
                                    if (t[2])
                                        _.ops.pop();
                                    _.trys.pop();
                                    continue;
                            }
                            op = body.call(thisArg, _);
                        }
                        catch (e) {
                            op = [6, e];
                            y = 0;
                        }
                        finally {
                            f = t = 0;
                        }
                    if (op[0] & 5)
                        throw op[1];
                    return { value: op[0] ? op[1] : void 0, done: true };
                }
            }
            function __exportStar(m, exports) {
                for (var p in m)
                    if (!exports.hasOwnProperty(p))
                        exports[p] = m[p];
            }
            function __values(o) {
                var m = typeof Symbol === "function" && o[Symbol.iterator], i = 0;
                if (m)
                    return m.call(o);
                return {
                    next: function () {
                        if (o && i >= o.length)
                            o = void 0;
                        return { value: o && o[i++], done: !o };
                    }
                };
            }
            function __read(o, n) {
                var m = typeof Symbol === "function" && o[Symbol.iterator];
                if (!m)
                    return o;
                var i = m.call(o), r, ar = [], e;
                try {
                    while ((n === void 0 || n-- > 0) && !(r = i.next()).done)
                        ar.push(r.value);
                }
                catch (error) {
                    e = { error: error };
                }
                finally {
                    try {
                        if (r && !r.done && (m = i["return"]))
                            m.call(i);
                    }
                    finally {
                        if (e)
                            throw e.error;
                    }
                }
                return ar;
            }
            function __spread() {
                for (var ar = [], i = 0; i < arguments.length; i++)
                    ar = ar.concat(__read(arguments[i]));
                return ar;
            }
            function __spreadArrays() {
                for (var s = 0, i = 0, il = arguments.length; i < il; i++)
                    s += arguments[i].length;
                for (var r = Array(s), k = 0, i = 0; i < il; i++)
                    for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)
                        r[k] = a[j];
                return r;
            }
            ;
            function __await(v) {
                return this instanceof __await ? (this.v = v, this) : new __await(v);
            }
            function __asyncGenerator(thisArg, _arguments, generator) {
                if (!Symbol.asyncIterator)
                    throw new TypeError("Symbol.asyncIterator is not defined.");
                var g = generator.apply(thisArg, _arguments || []), i, q = [];
                return i = {}, verb("next"), verb("throw"), verb("return"), i[Symbol.asyncIterator] = function () { return this; }, i;
                function verb(n) { if (g[n])
                    i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }
                function resume(n, v) { try {
                    step(g[n](v));
                }
                catch (e) {
                    settle(q[0][3], e);
                } }
                function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }
                function fulfill(value) { resume("next", value); }
                function reject(value) { resume("throw", value); }
                function settle(f, v) { if (f(v), q.shift(), q.length)
                    resume(q[0][0], q[0][1]); }
            }
            function __asyncDelegator(o) {
                var i, p;
                return i = {}, verb("next"), verb("throw", function (e) { throw e; }), verb("return"), i[Symbol.iterator] = function () { return this; }, i;
                function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === "return" } : f ? f(v) : v; } : f; }
            }
            function __asyncValues(o) {
                if (!Symbol.asyncIterator)
                    throw new TypeError("Symbol.asyncIterator is not defined.");
                var m = o[Symbol.asyncIterator], i;
                return m ? m.call(o) : (o = typeof __values === "function" ? __values(o) : o[Symbol.iterator](), i = {}, verb("next"), verb("throw"), verb("return"), i[Symbol.asyncIterator] = function () { return this; }, i);
                function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }
                function settle(resolve, reject, d, v) { Promise.resolve(v).then(function (v) { resolve({ value: v, done: d }); }, reject); }
            }
            function __makeTemplateObject(cooked, raw) {
                if (Object.defineProperty) {
                    Object.defineProperty(cooked, "raw", { value: raw });
                }
                else {
                    cooked.raw = raw;
                }
                return cooked;
            }
            ;
            function __importStar(mod) {
                if (mod && mod.__esModule)
                    return mod;
                var result = {};
                if (mod != null)
                    for (var k in mod)
                        if (Object.hasOwnProperty.call(mod, k))
                            result[k] = mod[k];
                result.default = mod;
                return result;
            }
            function __importDefault(mod) {
                return (mod && mod.__esModule) ? mod : { default: mod };
            }
            /***/ 
        }),
        /***/ "./src/app/app-routing.module.ts": 
        /*!***************************************!*\
          !*** ./src/app/app-routing.module.ts ***!
          \***************************************/
        /*! exports provided: AppRoutingModule */
        /***/ (function (module, __webpack_exports__, __webpack_require__) {
            "use strict";
            __webpack_require__.r(__webpack_exports__);
            /* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AppRoutingModule", function () { return AppRoutingModule; });
            /* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
            /* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
            /* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm2015/router.js");
            /* harmony import */ var _load_save_integration_load_save_integration_component__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./load-save-integration/load-save-integration.component */ "./src/app/load-save-integration/load-save-integration.component.ts");
            /* harmony import */ var _track_changes_adapter_track_changes_adapter_component__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./track-changes-adapter/track-changes-adapter.component */ "./src/app/track-changes-adapter/track-changes-adapter.component.ts");
            /* harmony import */ var _menu_menu_component__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./menu/menu.component */ "./src/app/menu/menu.component.ts");
            var routes = [
                { path: '', component: _menu_menu_component__WEBPACK_IMPORTED_MODULE_5__["MenuComponent"] },
                { path: 'load-save-integration', component: _load_save_integration_load_save_integration_component__WEBPACK_IMPORTED_MODULE_3__["LoadSaveIntegrationComponent"] },
                { path: 'track-changes-adapter', component: _track_changes_adapter_track_changes_adapter_component__WEBPACK_IMPORTED_MODULE_4__["TrackChangesAdapterComponent"] }
            ];
            var AppRoutingModule = /** @class */ (function () {
                function AppRoutingModule() {
                }
                return AppRoutingModule;
            }());
            AppRoutingModule = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
                Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["NgModule"])({
                    imports: [_angular_router__WEBPACK_IMPORTED_MODULE_2__["RouterModule"].forRoot(routes)],
                    exports: [_angular_router__WEBPACK_IMPORTED_MODULE_2__["RouterModule"]]
                })
            ], AppRoutingModule);
            /***/ 
        }),
        /***/ "./src/app/app.component.css": 
        /*!***********************************!*\
          !*** ./src/app/app.component.css ***!
          \***********************************/
        /*! no static exports found */
        /***/ (function (module, exports) {
            module.exports = "";
            /***/ 
        }),
        /***/ "./src/app/app.component.ts": 
        /*!**********************************!*\
          !*** ./src/app/app.component.ts ***!
          \**********************************/
        /*! exports provided: AppComponent */
        /***/ (function (module, __webpack_exports__, __webpack_require__) {
            "use strict";
            __webpack_require__.r(__webpack_exports__);
            /* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AppComponent", function () { return AppComponent; });
            /* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
            /* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
            var AppComponent = /** @class */ (function () {
                function AppComponent() {
                }
                return AppComponent;
            }());
            AppComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
                Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Component"])({
                    selector: 'app-root',
                    template: tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"](__webpack_require__(/*! raw-loader!./app.component.html */ "./node_modules/raw-loader/index.js!./src/app/app.component.html")).default,
                    styles: [tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"](__webpack_require__(/*! ./app.component.css */ "./src/app/app.component.css")).default]
                })
            ], AppComponent);
            /***/ 
        }),
        /***/ "./src/app/app.module.ts": 
        /*!*******************************!*\
          !*** ./src/app/app.module.ts ***!
          \*******************************/
        /*! exports provided: AppModule */
        /***/ (function (module, __webpack_exports__, __webpack_require__) {
            "use strict";
            __webpack_require__.r(__webpack_exports__);
            /* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AppModule", function () { return AppModule; });
            /* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
            /* harmony import */ var _angular_platform_browser__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/platform-browser */ "./node_modules/@angular/platform-browser/fesm2015/platform-browser.js");
            /* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
            /* harmony import */ var _app_routing_module__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./app-routing.module */ "./src/app/app-routing.module.ts");
            /* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm2015/router.js");
            /* harmony import */ var _app_component__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./app.component */ "./src/app/app.component.ts");
            /* harmony import */ var _track_changes_adapter_track_changes_adapter_component__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./track-changes-adapter/track-changes-adapter.component */ "./src/app/track-changes-adapter/track-changes-adapter.component.ts");
            /* harmony import */ var _load_save_integration_load_save_integration_component__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./load-save-integration/load-save-integration.component */ "./src/app/load-save-integration/load-save-integration.component.ts");
            /* harmony import */ var _ckeditor_ckeditor5_angular__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @ckeditor/ckeditor5-angular */ "./node_modules/@ckeditor/ckeditor5-angular/fesm2015/ckeditor-ckeditor5-angular.js");
            /* harmony import */ var _menu_menu_component__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./menu/menu.component */ "./src/app/menu/menu.component.ts");
            var AppModule = /** @class */ (function () {
                function AppModule() {
                }
                return AppModule;
            }());
            AppModule = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
                Object(_angular_core__WEBPACK_IMPORTED_MODULE_2__["NgModule"])({
                    declarations: [
                        _app_component__WEBPACK_IMPORTED_MODULE_5__["AppComponent"],
                        _track_changes_adapter_track_changes_adapter_component__WEBPACK_IMPORTED_MODULE_6__["TrackChangesAdapterComponent"],
                        _load_save_integration_load_save_integration_component__WEBPACK_IMPORTED_MODULE_7__["LoadSaveIntegrationComponent"],
                        _menu_menu_component__WEBPACK_IMPORTED_MODULE_9__["MenuComponent"]
                    ],
                    imports: [
                        _angular_platform_browser__WEBPACK_IMPORTED_MODULE_1__["BrowserModule"],
                        _ckeditor_ckeditor5_angular__WEBPACK_IMPORTED_MODULE_8__["CKEditorModule"],
                        _angular_router__WEBPACK_IMPORTED_MODULE_4__["RouterModule"],
                        _app_routing_module__WEBPACK_IMPORTED_MODULE_3__["AppRoutingModule"],
                    ],
                    providers: [],
                    bootstrap: [_app_component__WEBPACK_IMPORTED_MODULE_5__["AppComponent"]]
                })
            ], AppModule);
            /***/ 
        }),
        /***/ "./src/app/load-save-integration/load-save-integration.component.css": 
        /*!***************************************************************************!*\
          !*** ./src/app/load-save-integration/load-save-integration.component.css ***!
          \***************************************************************************/
        /*! no static exports found */
        /***/ (function (module, exports) {
            module.exports = "";
            /***/ 
        }),
        /***/ "./src/app/load-save-integration/load-save-integration.component.ts": 
        /*!**************************************************************************!*\
          !*** ./src/app/load-save-integration/load-save-integration.component.ts ***!
          \**************************************************************************/
        /*! exports provided: LoadSaveIntegrationComponent */
        /***/ (function (module, __webpack_exports__, __webpack_require__) {
            "use strict";
            __webpack_require__.r(__webpack_exports__);
            /* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "LoadSaveIntegrationComponent", function () { return LoadSaveIntegrationComponent; });
            /* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
            /* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
            /* harmony import */ var _vendor_ckeditor5_build_classic_editor_with_track_changes_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../vendor/ckeditor5/build/classic-editor-with-track-changes.js */ "./vendor/ckeditor5/build/classic-editor-with-track-changes.js");
            /* harmony import */ var _vendor_ckeditor5_build_classic_editor_with_track_changes_js__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/ __webpack_require__.n(_vendor_ckeditor5_build_classic_editor_with_track_changes_js__WEBPACK_IMPORTED_MODULE_2__);
            /* harmony import */ var _load_save_integration__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./load-save-integration */ "./src/app/load-save-integration/load-save-integration.ts");
            var LoadSaveIntegrationComponent = /** @class */ (function () {
                function LoadSaveIntegrationComponent() {
                    this.ready = new _angular_core__WEBPACK_IMPORTED_MODULE_1__["EventEmitter"]();
                    this.Editor = _vendor_ckeditor5_build_classic_editor_with_track_changes_js__WEBPACK_IMPORTED_MODULE_2__;
                    this.data = this.getInitialData();
                    this.STORAGE_KEY = 'ckeditor-license-key';
                    this.licenseKey = '';
                    // Application data will be available under a global variable `appData`.
                    this.appData = {
                        // The ID of the current user.
                        userId: 'user-1',
                        // Users data.
                        users: [
                            {
                                id: 'user-1',
                                name: 'Joe Doe',
                                // Note that the avatar is optional.
                                avatar: 'https://randomuser.me/api/portraits/thumb/men/26.jpg'
                            },
                            {
                                id: 'user-2',
                                name: 'Ella Harper',
                                avatar: 'https://randomuser.me/api/portraits/thumb/women/65.jpg'
                            }
                        ],
                        // Suggestion threads data.
                        suggestions: [
                            {
                                id: 'suggestion-1',
                                type: 'insertion',
                                authorId: 'user-2',
                                createdAt: new Date(2019, 1, 13, 11, 20, 48)
                            },
                            {
                                id: 'suggestion-2',
                                type: 'deletion',
                                authorId: 'user-1',
                                createdAt: new Date(2019, 1, 14, 12, 7, 20)
                            },
                            {
                                id: 'suggestion-3',
                                type: 'insertion',
                                authorId: 'user-1',
                                createdAt: new Date(2019, 1, 14, 12, 7, 20)
                            },
                            {
                                id: 'suggestion-4',
                                type: 'deletion',
                                authorId: 'user-1',
                                createdAt: new Date(2019, 1, 15, 8, 44, 1)
                            },
                            {
                                id: 'suggestion-5',
                                type: 'formatInline:886cqig6g8rf',
                                authorId: 'user-2',
                                createdAt: new Date(2019, 2, 8, 10, 2, 7),
                                data: {
                                    commandName: 'bold',
                                    commandParams: [{ forceValue: true }]
                                }
                            },
                            {
                                id: 'suggestion-6',
                                type: 'formatBlock:698dn3otqzd6',
                                authorId: 'user-2',
                                createdAt: new Date(2019, 2, 8, 10, 2, 10),
                                data: {
                                    commandName: 'heading',
                                    commandParams: [{ value: 'heading2' }],
                                    ormatGroupId: 'blockName',
                                    multipleBlocks: false
                                }
                            }
                        ],
                        // Comment threads data.
                        commentThreads: [
                            {
                                threadId: 'suggestion-1',
                                comments: [
                                    {
                                        commentId: 'comment-1',
                                        authorId: 'user-1',
                                        content: '<p>Are you sure it will fit here?</p>',
                                        createdAt: new Date('09/20/2018 14:21:53')
                                    },
                                    {
                                        commentId: 'comment-2',
                                        authorId: 'user-2',
                                        content: '<p>I think so...</p>',
                                        createdAt: new Date('09/21/2018 08:17:01')
                                    }
                                ]
                            }
                        ]
                    };
                    // Note that Angular refs can be used once the view is initialized so we need to create
                    // this container and use in the above editor configuration to work around this problem.
                    this.sidebar = document.createElement('div');
                    this.boundRefreshDisplayMode = this.refreshDisplayMode.bind(this);
                    this.boundCheckPendingActions = this.checkPendingActions.bind(this);
                }
                Object.defineProperty(LoadSaveIntegrationComponent.prototype, "editorConfig", {
                    get: function () {
                        return {
                            extraPlugins: [
                                Object(_load_save_integration__WEBPACK_IMPORTED_MODULE_3__["getLoadSaveIntegration"])(this.appData)
                            ],
                            sidebar: {
                                container: this.sidebar,
                            },
                            licenseKey: this.licenseKey
                        };
                    },
                    enumerable: true,
                    configurable: true
                });
                LoadSaveIntegrationComponent.prototype.ngOnInit = function () {
                    // Save the provided license key in the local storage.
                    this.licenseKey = window.localStorage.getItem(this.STORAGE_KEY) || window.prompt('Your license key');
                    window.localStorage.setItem(this.STORAGE_KEY, this.licenseKey);
                };
                LoadSaveIntegrationComponent.prototype.ngAfterViewInit = function () {
                    if (!this.sidebarContainer) {
                        throw new Error('Div container for sidebar was not found');
                    }
                    this.sidebarContainer.nativeElement.appendChild(this.sidebar);
                };
                LoadSaveIntegrationComponent.prototype.ngOnDestroy = function () {
                    window.removeEventListener('resize', this.boundRefreshDisplayMode);
                    window.removeEventListener('beforeunload', this.boundCheckPendingActions);
                };
                LoadSaveIntegrationComponent.prototype.onReady = function (editor) {
                    this.editor = editor;
                    this.ready.emit(editor);
                    // Make the track changes mode the "default" state by turning it on right after the editor initializes.
                    this.editor.execute('trackChanges');
                    // Prevent closing the tab when any action is pending.
                    window.addEventListener('beforeunload', this.boundCheckPendingActions);
                    // Switch between inline and sidebar annotations according to the window size.
                    window.addEventListener('resize', this.boundRefreshDisplayMode);
                    this.refreshDisplayMode();
                };
                LoadSaveIntegrationComponent.prototype.resetLicenseKey = function () {
                    window.localStorage.removeItem(this.STORAGE_KEY);
                    window.location.reload();
                };
                LoadSaveIntegrationComponent.prototype.checkPendingActions = function (domEvt) {
                    if (this.editor.plugins.get('PendingActions').hasAny) {
                        domEvt.preventDefault();
                        domEvt.returnValue = true;
                    }
                };
                LoadSaveIntegrationComponent.prototype.showEditorDataInConsole = function (evt) {
                    var editorData = this.editor.data.get();
                    var trackChanges = this.editor.plugins.get('TrackChanges');
                    var comments = this.editor.plugins.get('Comments');
                    var suggestionsData = Array.from(trackChanges.getSuggestions());
                    var commentThreadsData = Array.from(comments.getCommentThreads());
                    console.log('Editor data:');
                    console.log(editorData);
                    console.log('Suggestions data:');
                    console.log(suggestionsData);
                    console.log('Comment threads data:');
                    console.log(commentThreadsData);
                    evt.preventDefault();
                };
                LoadSaveIntegrationComponent.prototype.refreshDisplayMode = function () {
                    var annotations = this.editor.plugins.get('Annotations');
                    var sidebarElement = this.sidebarContainer.nativeElement;
                    if (window.innerWidth < 1070) {
                        sidebarElement.classList.remove('narrow');
                        sidebarElement.classList.add('hidden');
                        annotations.switchTo('inline');
                    }
                    else if (window.innerWidth < 1300) {
                        sidebarElement.classList.remove('hidden');
                        sidebarElement.classList.add('narrow');
                        annotations.switchTo('narrowSidebar');
                    }
                    else {
                        sidebarElement.classList.remove('hidden', 'narrow');
                        annotations.switchTo('wideSidebar');
                    }
                };
                LoadSaveIntegrationComponent.prototype.getInitialData = function () {
                    return "\n\t<h2>\n\t\tBilingual Personality Disorder\n\t</h2>\n\t\t<figure class=\"image image-style-side\">\n\t\t\t<img src=\"https://c.cksource.com/a/1/img/docs/sample-image-bilingual-personality-disorder.jpg\">\n\t\t\t<figcaption>\n\t\t\t\tOne language, one person.\n\t\t\t</figcaption>\n\t\t</figure>\n\t\t<p>\n\t\t\tThis may be the first time you hear about this made-up disorder but it\n\t\t\t<suggestion id=\"suggestion-1:user-2\" suggestion-type=\"insertion\" type=\"start\"></suggestion>actually<suggestion id=\"suggestion-1:user-2\" suggestion-type=\"insertion\" type=\"end\"></suggestion>\n\t\t\tisn\u2019t so far from the truth. Even the studies that were conducted almost half a century show\n\t\t\tthat <strong>the language you speak has more effects on you than you realise</strong>.\n\t\t</p>\n\t\t<p>\n\t\t\tOne of the very first experiments conducted on this topic dates back to 1964.\n\t\t\t<a href=\"https://www.researchgate.net/publication/9440038_Language_and_TAT_content_in_bilinguals\">In the experiment</a>\n\t\t\tdesigned by linguist Ervin-Tripp who is an\n\t\t\t<suggestion id=\"suggestion-2:user-1\" suggestion-type=\"deletion\" type=\"start\"></suggestion>\n\t\t\tauthority<suggestion id=\"suggestion-2:user-1\" suggestion-type=\"deletion\" type=\"end\">\n\t\t\t</suggestion>\n\t\t\t<suggestion id=\"suggestion-3:user-1\" suggestion-type=\"insertion\" type=\"start\"></suggestion>\n\t\t\texpert<suggestion id=\"suggestion-3:user-1\" suggestion-type=\"insertion\" type=\"end\"></suggestion>\n\t\t\tin psycholinguistic and sociolinguistic studies, adults who are bilingual\n\t\t\tin English in French were showed series of pictures and were asked to create 3-minute stories.\n\t\t\tIn the end participants emphasized\n\t\t\tdrastically different dynamics for stories in English and French.\n\t\t</p>\n\t\t<p>\n\t\t\tAnother ground-breaking experiment which included bilingual Japanese women married to American men\n\t\t\t<suggestion id=\"suggestion-4:user-1\" suggestion-type=\"deletion\" type=\"start\"></suggestion>in San\n\t\t\tFrancisco <suggestion id=\"suggestion-4:user-1\" suggestion-type=\"deletion\" type=\"end\">\n\t\t\t</suggestion>were\n\t\t\tasked to complete sentences. The goal of the experiment was to investigate whether or not human\n\t\t\tfeelings and thoughts\n\t\t\tare expressed differently in <strong>different language mindsets</strong>.\n\t\t</p>\n\t\t<suggestion id=\"suggestion-6:user-2\" suggestion-type=\"formatBlock:698dn3otqzd6\" type=\"start\"></suggestion>\n\t\t<p>\n\t\t\tHere is a sample from the the experiment:\n\t\t\t<suggestion id=\"suggestion-6:user-2\" suggestion-type=\"formatBlock:698dn3otqzd6\" type=\"end\"></suggestion>\n\t\t</p>\n\t\t<table>\n\t\t\t<thead>\n\t\t\t\t<tr>\n\t\t\t\t\t<th></th>\n\t\t\t\t\t<th>English</th>\n\t\t\t\t\t<th>Japanese</th>\n\t\t\t\t</tr>\n\t\t\t</thead>\n\t\t\t<tbody>\n\t\t\t\t<tr>\n\t\t\t\t\t<td>Real friends should</td>\n\t\t\t\t\t<td>Be very frank</td>\n\t\t\t\t\t<td>Help each other</td>\n\t\t\t\t</tr>\n\t\t\t\t<tr>\n\t\t\t\t\t<td>I will <suggestion id=\"suggestion-5:user-2\" suggestion-type=\"formatInline:886cqig6g8rf\" type=\"start\"></suggestion>probably<suggestion id=\"suggestion-5:user-2\" suggestion-type=\"formatInline:886cqig6g8rf\" type=\"end\"></suggestion> become</td>\n\t\t\t\t\t<td>A teacher</td>\n\t\t\t\t\t<td>A housewife</td>\n\t\t\t\t</tr>\n\t\t\t\t<tr>\n\t\t\t\t\t<td>When there is a conflict with family</td>\n\t\t\t\t\t<td>I do what I want</td>\n\t\t\t\t\t<td>It's a time of great unhappiness</td>\n\t\t\t\t</tr>\n\t\t\t</tbody>\n\t\t</table>\n\t\t<p>\n\t\t\tMore recent <a href=\"https://books.google.pl/books?id=1LMhWGHGkRUC\">studies</a> show, the\n\t\t\tlanguage a person speaks affects\n\t\t\ttheir cognition, behaviour, emotions and hence <strong>their personality</strong>.\n\t\t\tThis shouldn\u2019t come as a surprise\n\t\t\t<a href=\"https://en.wikipedia.org/wiki/Lateralization_of_brain_function\">since we already know</a>\n\t\t\tthat different regions of the brain become more active depending on the person\u2019s activity at hand.\n\t\t\tSince structure, information and especially <strong>the culture</strong> of languages varies\n\t\t\tsubstantially and the language a person speaks is an essential element of daily life.\n\t\t</p>\n\t";
                };
                return LoadSaveIntegrationComponent;
            }());
            tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
                Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Output"])(),
                tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", Object)
            ], LoadSaveIntegrationComponent.prototype, "ready", void 0);
            tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
                Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["ViewChild"])('sidebar', { static: true }),
                tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", _angular_core__WEBPACK_IMPORTED_MODULE_1__["ElementRef"])
            ], LoadSaveIntegrationComponent.prototype, "sidebarContainer", void 0);
            LoadSaveIntegrationComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
                Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Component"])({
                    selector: 'load-save-integration',
                    template: tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"](__webpack_require__(/*! raw-loader!./load-save-integration.component.html */ "./node_modules/raw-loader/index.js!./src/app/load-save-integration/load-save-integration.component.html")).default,
                    styles: [tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"](__webpack_require__(/*! ./load-save-integration.component.css */ "./src/app/load-save-integration/load-save-integration.component.css")).default]
                })
            ], LoadSaveIntegrationComponent);
            /***/ 
        }),
        /***/ "./src/app/load-save-integration/load-save-integration.ts": 
        /*!****************************************************************!*\
          !*** ./src/app/load-save-integration/load-save-integration.ts ***!
          \****************************************************************/
        /*! exports provided: getLoadSaveIntegration */
        /***/ (function (module, __webpack_exports__, __webpack_require__) {
            "use strict";
            __webpack_require__.r(__webpack_exports__);
            /* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getLoadSaveIntegration", function () { return getLoadSaveIntegration; });
            /* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
            function getLoadSaveIntegration(appData) {
                return /** @class */ (function () {
                    function LoadSaveIntegration(editor) {
                        this.editor = editor;
                    }
                    LoadSaveIntegration.prototype.init = function () {
                        var e_1, _j, e_2, _q, e_3, _z;
                        var usersPlugin = this.editor.plugins.get('Users');
                        var trackChangesPlugin = this.editor.plugins.get('TrackChanges');
                        var commentsPlugin = this.editor.plugins.get('Comments');
                        try {
                            // Load the users data.
                            for (var _0 = __values(appData.users), _1 = _0.next(); !_1.done; _1 = _0.next()) {
                                var user = _1.value;
                                usersPlugin.addUser(user);
                            }
                        }
                        catch (e_1_1) { e_1 = { error: e_1_1 }; }
                        finally {
                            try {
                                if (_1 && !_1.done && (_j = _0.return)) _j.call(_0);
                            }
                            finally { if (e_1) throw e_1.error; }
                        }
                        // Set the current user.
                        usersPlugin.defineMe(appData.userId);
                        try {
                            // Load the suggestion threads data.
                            for (var _2 = __values(appData.suggestions), _3 = _2.next(); !_3.done; _3 = _2.next()) {
                                var suggestion = _3.value;
                                trackChangesPlugin.addSuggestion(suggestion);
                            }
                        }
                        catch (e_2_1) { e_2 = { error: e_2_1 }; }
                        finally {
                            try {
                                if (_3 && !_3.done && (_q = _2.return)) _q.call(_2);
                            }
                            finally { if (e_2) throw e_2.error; }
                        }
                        try {
                            // Load the comment threads data.
                            for (var _4 = __values(appData.commentThreads), _5 = _4.next(); !_5.done; _5 = _4.next()) {
                                var commentThread = _5.value;
                                commentsPlugin.addCommentThread(commentThread);
                            }
                        }
                        catch (e_3_1) { e_3 = { error: e_3_1 }; }
                        finally {
                            try {
                                if (_5 && !_5.done && (_z = _4.return)) _z.call(_4);
                            }
                            finally { if (e_3) throw e_3.error; }
                        }
                    };
                    return LoadSaveIntegration;
                }());
            }
            /***/ 
        }),
        /***/ "./src/app/menu/menu.component.css": 
        /*!*****************************************!*\
          !*** ./src/app/menu/menu.component.css ***!
          \*****************************************/
        /*! no static exports found */
        /***/ (function (module, exports) {
            module.exports = "";
            /***/ 
        }),
        /***/ "./src/app/menu/menu.component.ts": 
        /*!****************************************!*\
          !*** ./src/app/menu/menu.component.ts ***!
          \****************************************/
        /*! exports provided: MenuComponent */
        /***/ (function (module, __webpack_exports__, __webpack_require__) {
            "use strict";
            __webpack_require__.r(__webpack_exports__);
            /* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MenuComponent", function () { return MenuComponent; });
            /* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
            /* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
            var MenuComponent = /** @class */ (function () {
                function MenuComponent() {
                }
                return MenuComponent;
            }());
            MenuComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
                Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Component"])({
                    selector: 'menu',
                    template: tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"](__webpack_require__(/*! raw-loader!./menu.component.html */ "./node_modules/raw-loader/index.js!./src/app/menu/menu.component.html")).default,
                    styles: [tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"](__webpack_require__(/*! ./menu.component.css */ "./src/app/menu/menu.component.css")).default]
                })
            ], MenuComponent);
            /***/ 
        }),
        /***/ "./src/app/track-changes-adapter/track-changes-adapter.component.css": 
        /*!***************************************************************************!*\
          !*** ./src/app/track-changes-adapter/track-changes-adapter.component.css ***!
          \***************************************************************************/
        /*! no static exports found */
        /***/ (function (module, exports) {
            module.exports = "";
            /***/ 
        }),
        /***/ "./src/app/track-changes-adapter/track-changes-adapter.component.ts": 
        /*!**************************************************************************!*\
          !*** ./src/app/track-changes-adapter/track-changes-adapter.component.ts ***!
          \**************************************************************************/
        /*! exports provided: TrackChangesAdapterComponent */
        /***/ (function (module, __webpack_exports__, __webpack_require__) {
            "use strict";
            __webpack_require__.r(__webpack_exports__);
            /* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "TrackChangesAdapterComponent", function () { return TrackChangesAdapterComponent; });
            /* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
            /* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
            /* harmony import */ var _vendor_ckeditor5_build_classic_editor_with_track_changes_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../vendor/ckeditor5/build/classic-editor-with-track-changes.js */ "./vendor/ckeditor5/build/classic-editor-with-track-changes.js");
            /* harmony import */ var _vendor_ckeditor5_build_classic_editor_with_track_changes_js__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/ __webpack_require__.n(_vendor_ckeditor5_build_classic_editor_with_track_changes_js__WEBPACK_IMPORTED_MODULE_2__);
            /* harmony import */ var _track_changes_adapter__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./track-changes-adapter */ "./src/app/track-changes-adapter/track-changes-adapter.ts");
            var TrackChangesAdapterComponent = /** @class */ (function () {
                function TrackChangesAdapterComponent() {
                    this.ready = new _angular_core__WEBPACK_IMPORTED_MODULE_1__["EventEmitter"]();
                    this.Editor = _vendor_ckeditor5_build_classic_editor_with_track_changes_js__WEBPACK_IMPORTED_MODULE_2__;
                    this.data = this.getInitialData();
                    this.STORAGE_KEY = 'ckeditor-license-key';
                    this.licenseKey = '';
                    this.appData = {
                        // The ID of the current user.
                        userId: 'user-1',
                        // Users data.
                        users: [
                            {
                                id: 'user-1',
                                name: 'Joe Doe',
                                // Note that the avatar is optional.
                                avatar: 'https://randomuser.me/api/portraits/thumb/men/26.jpg'
                            },
                            {
                                id: 'user-2',
                                name: 'Ella Harper',
                                avatar: 'https://randomuser.me/api/portraits/thumb/women/65.jpg'
                            }
                        ],
                        // Suggestion threads data.
                        suggestions: [
                            {
                                id: 'suggestion-1',
                                type: 'insertion',
                                authorId: 'user-2',
                                createdAt: new Date(2019, 1, 13, 11, 20, 48),
                                hasComments: true
                            },
                            {
                                id: 'suggestion-2',
                                type: 'deletion',
                                authorId: 'user-1',
                                createdAt: new Date(2019, 1, 14, 12, 7, 20),
                                hasComments: false
                            },
                            {
                                id: 'suggestion-3',
                                type: 'insertion',
                                authorId: 'user-1',
                                createdAt: new Date(2019, 1, 14, 12, 7, 20),
                                hasComments: false
                            },
                            {
                                id: 'suggestion-4',
                                type: 'deletion',
                                authorId: 'user-1',
                                createdAt: new Date(2019, 1, 15, 8, 44, 1),
                                hasComments: true
                            },
                            {
                                id: 'suggestion-5',
                                type: 'formatInline:886cqig6g8rf',
                                authorId: 'user-2',
                                hasComments: false,
                                createdAt: new Date(2019, 2, 8, 10, 2, 7),
                                data: {
                                    commandName: 'bold',
                                    commandParams: [{ forceValue: true }]
                                }
                            },
                            {
                                id: 'suggestion-6',
                                type: 'formatBlock:698dn3otqzd6',
                                authorId: 'user-2',
                                hasComments: false,
                                createdAt: new Date(2019, 2, 8, 10, 2, 10),
                                data: {
                                    commandName: 'heading',
                                    commandParams: [{ value: 'heading2' }],
                                    formatGroupId: 'blockName',
                                    multipleBlocks: false
                                }
                            }
                        ],
                        // Comment threads data.
                        comments: [
                            {
                                threadId: 'suggestion-1',
                                comments: [
                                    {
                                        commentId: 'comment-1',
                                        content: 'Sounds good.',
                                        authorId: 'user-1',
                                        createdAt: new Date(2019, 1, 13, 11, 32, 57)
                                    }
                                ]
                            },
                            {
                                threadId: 'suggestion-4',
                                comments: [
                                    {
                                        commentId: 'comment-2',
                                        content: 'I think it\'s not relevant.',
                                        authorId: 'user-2',
                                        createdAt: new Date(2019, 1, 15, 9, 3, 1)
                                    },
                                    {
                                        commentId: 'comment-3',
                                        content: 'You are right. Thanks.',
                                        authorId: 'user-1',
                                        createdAt: new Date(2019, 1, 15, 9, 28, 1)
                                    },
                                ]
                            }
                        ]
                    };
                    // Note that Angular refs can be used once the view is initialized so we need to create
                    // this container and use in the above editor configuration to work around this problem.
                    this.sidebar = document.createElement('div');
                    this.boundRefreshDisplayMode = this.refreshDisplayMode.bind(this);
                    this.boundCheckPendingActions = this.checkPendingActions.bind(this);
                }
                Object.defineProperty(TrackChangesAdapterComponent.prototype, "editorConfig", {
                    get: function () {
                        return {
                            extraPlugins: [
                                Object(_track_changes_adapter__WEBPACK_IMPORTED_MODULE_3__["getTrackChangesAdapter"])(this.appData)
                            ],
                            sidebar: {
                                container: this.sidebar,
                            },
                            licenseKey: this.licenseKey
                        };
                    },
                    enumerable: true,
                    configurable: true
                });
                TrackChangesAdapterComponent.prototype.ngOnInit = function () {
                    // Save the provided license key in the local storage.
                    this.licenseKey = window.localStorage.getItem(this.STORAGE_KEY) || window.prompt('Your license key');
                    window.localStorage.setItem(this.STORAGE_KEY, this.licenseKey);
                };
                TrackChangesAdapterComponent.prototype.ngAfterViewInit = function () {
                    if (!this.sidebarContainer) {
                        throw new Error('Div container for sidebar was not found');
                    }
                    this.sidebarContainer.nativeElement.appendChild(this.sidebar);
                };
                TrackChangesAdapterComponent.prototype.ngOnDestroy = function () {
                    window.removeEventListener('resize', this.boundRefreshDisplayMode);
                    window.removeEventListener('beforeunload', this.boundCheckPendingActions);
                };
                TrackChangesAdapterComponent.prototype.onReady = function (editor) {
                    this.editor = editor;
                    this.ready.emit(editor);
                    // Make the track changes mode the "default" state by turning it on right after the editor initializes.
                    this.editor.execute('trackChanges');
                    // Prevent closing the tab when any action is pending.
                    window.addEventListener('beforeunload', this.boundCheckPendingActions);
                    // Switch between inline and sidebar annotations according to the window size.
                    window.addEventListener('resize', this.boundRefreshDisplayMode);
                    this.refreshDisplayMode();
                };
                TrackChangesAdapterComponent.prototype.resetLicenseKey = function () {
                    window.localStorage.removeItem(this.STORAGE_KEY);
                    window.location.reload();
                };
                TrackChangesAdapterComponent.prototype.checkPendingActions = function (domEvt) {
                    if (this.editor.plugins.get('PendingActions').hasAny) {
                        domEvt.preventDefault();
                        domEvt.returnValue = true;
                    }
                };
                TrackChangesAdapterComponent.prototype.refreshDisplayMode = function () {
                    var annotations = this.editor.plugins.get('Annotations');
                    var sidebarElement = this.sidebarContainer.nativeElement;
                    if (window.innerWidth < 1070) {
                        sidebarElement.classList.remove('narrow');
                        sidebarElement.classList.add('hidden');
                        annotations.switchTo('inline');
                    }
                    else if (window.innerWidth < 1300) {
                        sidebarElement.classList.remove('hidden');
                        sidebarElement.classList.add('narrow');
                        annotations.switchTo('narrowSidebar');
                    }
                    else {
                        sidebarElement.classList.remove('hidden', 'narrow');
                        annotations.switchTo('wideSidebar');
                    }
                };
                TrackChangesAdapterComponent.prototype.getInitialData = function () {
                    return "\n\t<h2>\n\t\tBilingual Personality Disorder\n\t</h2>\n\t\t<figure class=\"image image-style-side\">\n\t\t\t<img src=\"https://c.cksource.com/a/1/img/docs/sample-image-bilingual-personality-disorder.jpg\">\n\t\t\t<figcaption>\n\t\t\t\tOne language, one person.\n\t\t\t</figcaption>\n\t\t</figure>\n\t\t<p>\n\t\t\tThis may be the first time you hear about this made-up disorder but it\n\t\t\t<suggestion id=\"suggestion-1:user-2\" suggestion-type=\"insertion\" type=\"start\"></suggestion>actually<suggestion id=\"suggestion-1:user-2\" suggestion-type=\"insertion\" type=\"end\"></suggestion>\n\t\t\tisn\u2019t so far from the truth. Even the studies that were conducted almost half a century show\n\t\t\tthat <strong>the language you speak has more effects on you than you realise</strong>.\n\t\t</p>\n\t\t<p>\n\t\t\tOne of the very first experiments conducted on this topic dates back to 1964.\n\t\t\t<a href=\"https://www.researchgate.net/publication/9440038_Language_and_TAT_content_in_bilinguals\">In the experiment</a>\n\t\t\tdesigned by linguist Ervin-Tripp who is an\n\t\t\t<suggestion id=\"suggestion-2:user-1\" suggestion-type=\"deletion\" type=\"start\"></suggestion>\n\t\t\tauthority<suggestion id=\"suggestion-2:user-1\" suggestion-type=\"deletion\" type=\"end\">\n\t\t\t</suggestion>\n\t\t\t<suggestion id=\"suggestion-3:user-1\" suggestion-type=\"insertion\" type=\"start\"></suggestion>\n\t\t\texpert<suggestion id=\"suggestion-3:user-1\" suggestion-type=\"insertion\" type=\"end\"></suggestion>\n\t\t\tin psycholinguistic and sociolinguistic studies, adults who are bilingual\n\t\t\tin English in French were showed series of pictures and were asked to create 3-minute stories.\n\t\t\tIn the end participants emphasized\n\t\t\tdrastically different dynamics for stories in English and French.\n\t\t</p>\n\t\t<p>\n\t\t\tAnother ground-breaking experiment which included bilingual Japanese women married to American men\n\t\t\t<suggestion id=\"suggestion-4:user-1\" suggestion-type=\"deletion\" type=\"start\"></suggestion>in San\n\t\t\tFrancisco <suggestion id=\"suggestion-4:user-1\" suggestion-type=\"deletion\" type=\"end\">\n\t\t\t</suggestion>were\n\t\t\tasked to complete sentences. The goal of the experiment was to investigate whether or not human\n\t\t\tfeelings and thoughts\n\t\t\tare expressed differently in <strong>different language mindsets</strong>.\n\t\t</p>\n\t\t<suggestion id=\"suggestion-6:user-2\" suggestion-type=\"formatBlock:698dn3otqzd6\" type=\"start\"></suggestion>\n\t\t<p>\n\t\t\tHere is a sample from the the experiment:\n\t\t\t<suggestion id=\"suggestion-6:user-2\" suggestion-type=\"formatBlock:698dn3otqzd6\" type=\"end\"></suggestion>\n\t\t</p>\n\t\t<table>\n\t\t\t<thead>\n\t\t\t\t<tr>\n\t\t\t\t\t<th></th>\n\t\t\t\t\t<th>English</th>\n\t\t\t\t\t<th>Japanese</th>\n\t\t\t\t</tr>\n\t\t\t</thead>\n\t\t\t<tbody>\n\t\t\t\t<tr>\n\t\t\t\t\t<td>Real friends should</td>\n\t\t\t\t\t<td>Be very frank</td>\n\t\t\t\t\t<td>Help each other</td>\n\t\t\t\t</tr>\n\t\t\t\t<tr>\n\t\t\t\t\t<td>I will <suggestion id=\"suggestion-5:user-2\" suggestion-type=\"formatInline:886cqig6g8rf\" type=\"start\"></suggestion>probably<suggestion id=\"suggestion-5:user-2\" suggestion-type=\"formatInline:886cqig6g8rf\" type=\"end\"></suggestion> become</td>\n\t\t\t\t\t<td>A teacher</td>\n\t\t\t\t\t<td>A housewife</td>\n\t\t\t\t</tr>\n\t\t\t\t<tr>\n\t\t\t\t\t<td>When there is a conflict with family</td>\n\t\t\t\t\t<td>I do what I want</td>\n\t\t\t\t\t<td>It's a time of great unhappiness</td>\n\t\t\t\t</tr>\n\t\t\t</tbody>\n\t\t</table>\n\t\t<p>\n\t\t\tMore recent <a href=\"https://books.google.pl/books?id=1LMhWGHGkRUC\">studies</a> show, the\n\t\t\tlanguage a person speaks affects\n\t\t\ttheir cognition, behaviour, emotions and hence <strong>their personality</strong>.\n\t\t\tThis shouldn\u2019t come as a surprise\n\t\t\t<a href=\"https://en.wikipedia.org/wiki/Lateralization_of_brain_function\">since we already know</a>\n\t\t\tthat different regions of the brain become more active depending on the person\u2019s activity at hand.\n\t\t\tSince structure, information and especially <strong>the culture</strong> of languages varies\n\t\t\tsubstantially and the language a person speaks is an essential element of daily life.\n\t\t</p>\n\t";
                };
                return TrackChangesAdapterComponent;
            }());
            tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
                Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Output"])(),
                tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", Object)
            ], TrackChangesAdapterComponent.prototype, "ready", void 0);
            tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
                Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["ViewChild"])('sidebar', { static: true }),
                tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", _angular_core__WEBPACK_IMPORTED_MODULE_1__["ElementRef"])
            ], TrackChangesAdapterComponent.prototype, "sidebarContainer", void 0);
            TrackChangesAdapterComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
                Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Component"])({
                    selector: 'track-changes-adapter',
                    template: tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"](__webpack_require__(/*! raw-loader!./track-changes-adapter.component.html */ "./node_modules/raw-loader/index.js!./src/app/track-changes-adapter/track-changes-adapter.component.html")).default,
                    styles: [tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"](__webpack_require__(/*! ./track-changes-adapter.component.css */ "./src/app/track-changes-adapter/track-changes-adapter.component.css")).default]
                })
            ], TrackChangesAdapterComponent);
            /***/ 
        }),
        /***/ "./src/app/track-changes-adapter/track-changes-adapter.ts": 
        /*!****************************************************************!*\
          !*** ./src/app/track-changes-adapter/track-changes-adapter.ts ***!
          \****************************************************************/
        /*! exports provided: getTrackChangesAdapter */
        /***/ (function (module, __webpack_exports__, __webpack_require__) {
            "use strict";
            __webpack_require__.r(__webpack_exports__);
            /* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getTrackChangesAdapter", function () { return getTrackChangesAdapter; });
            /* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
            function getTrackChangesAdapter(appData) {
                return /** @class */ (function () {
                    function TrackChangesAdapter(editor) {
                        this.editor = editor;
                    }
                    TrackChangesAdapter.prototype.init = function () {
                        var e_4, _j;
                        var usersPlugin = this.editor.plugins.get('Users');
                        var trackChangesPlugin = this.editor.plugins.get('TrackChanges');
                        var commentsPlugin = this.editor.plugins.get('Comments');
                        try {
                            // Load the users data.
                            for (var _q = __values(appData.users), _z = _q.next(); !_z.done; _z = _q.next()) {
                                var user = _z.value;
                                usersPlugin.addUser(user);
                            }
                        }
                        catch (e_4_1) { e_4 = { error: e_4_1 }; }
                        finally {
                            try {
                                if (_z && !_z.done && (_j = _q.return)) _j.call(_q);
                            }
                            finally { if (e_4) throw e_4.error; }
                        }
                        // Set the current user.
                        usersPlugin.defineMe(appData.userId);
                        // Set the adapter to the `TrackChanges#adapter` property.
                        trackChangesPlugin.adapter = {
                            getSuggestion: function (suggestionId) {
                                // This function should query the database for data for a suggestion with a `suggestionId`.
                                console.log('Get suggestion', suggestionId);
                                return new Promise(function (resolve) {
                                    resolve(appData.suggestions.find(function (suggestion) { return suggestionId === suggestion.id; }));
                                });
                            },
                            addSuggestion: function (suggestionData) {
                                // This function should save `suggestionData` in the database.
                                console.log('Suggestion added', suggestionData);
                                return Promise.resolve({
                                    createdAt: new Date() // Should be set server-side.
                                });
                            },
                            updateSuggestion: function (id, suggestionData) {
                                // This function should update `suggestionData` in the database.
                                console.log('Suggestion updated', id, suggestionData);
                                return Promise.resolve();
                            }
                        };
                        // Track changes uses comments to allow discussing about the suggestions.
                        // The comments adapter has to be defined as well.
                        commentsPlugin.adapter = {
                            getCommentThread: function (commentThreadId) {
                                // This function should query the database for data for the comment thread with a `commentThreadId`.
                                console.log('Get comment thread', commentThreadId);
                                return new Promise(function (resolve) {
                                    resolve(appData.comments.find(function (comment) { return commentThreadId === comment.threadId; }));
                                });
                            },
                            addComment: function (data) {
                                // This function should save `data` in the database.
                                console.log('Comment added', data);
                                return Promise.resolve({
                                    createdAt: new Date() // Should be set server-side.
                                });
                            },
                            updateComment: function (data) {
                                // This function should save `data` in the database.
                                console.log('Comment updated', data);
                                return Promise.resolve();
                            },
                            removeComment: function (data) {
                                // This function should remove the comment of a given `data` from the database.
                                console.log('Comment removed', data);
                                return Promise.resolve();
                            }
                        };
                    };
                    return TrackChangesAdapter;
                }());
            }
            /***/ 
        }),
        /***/ "./src/environments/environment.ts": 
        /*!*****************************************!*\
          !*** ./src/environments/environment.ts ***!
          \*****************************************/
        /*! exports provided: environment */
        /***/ (function (module, __webpack_exports__, __webpack_require__) {
            "use strict";
            __webpack_require__.r(__webpack_exports__);
            /* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "environment", function () { return environment; });
            /* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
            // This file can be replaced during build by using the `fileReplacements` array.
            // `ng build --prod` replaces `environment.ts` with `environment.prod.ts`.
            // The list of file replacements can be found in `angular.json`.
            var environment = {
                production: false
            };
            /*
             * For easier debugging in development mode, you can import the following file
             * to ignore zone related error stack frames such as `zone.run`, `zoneDelegate.invokeTask`.
             *
             * This import should be commented out in production mode because it will have a negative impact
             * on performance if an error is thrown.
             */
            // import 'zone.js/dist/zone-error';  // Included with Angular CLI.
            /***/ 
        }),
        /***/ "./src/main.ts": 
        /*!*********************!*\
          !*** ./src/main.ts ***!
          \*********************/
        /*! no exports provided */
        /***/ (function (module, __webpack_exports__, __webpack_require__) {
            "use strict";
            __webpack_require__.r(__webpack_exports__);
            /* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
            /* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
            /* harmony import */ var _angular_platform_browser_dynamic__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/platform-browser-dynamic */ "./node_modules/@angular/platform-browser-dynamic/fesm2015/platform-browser-dynamic.js");
            /* harmony import */ var _app_app_module__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./app/app.module */ "./src/app/app.module.ts");
            /* harmony import */ var _environments_environment__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./environments/environment */ "./src/environments/environment.ts");
            if (_environments_environment__WEBPACK_IMPORTED_MODULE_4__["environment"].production) {
                Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["enableProdMode"])();
            }
            Object(_angular_platform_browser_dynamic__WEBPACK_IMPORTED_MODULE_2__["platformBrowserDynamic"])().bootstrapModule(_app_app_module__WEBPACK_IMPORTED_MODULE_3__["AppModule"])
                .catch(function (err) { return console.error(err); });
            /***/ 
        }),
        /***/ "./vendor/ckeditor5/build/classic-editor-with-track-changes.js": 
        /*!*********************************************************************!*\
          !*** ./vendor/ckeditor5/build/classic-editor-with-track-changes.js ***!
          \*********************************************************************/
        /*! no static exports found */
        /***/ (function (module, exports, __webpack_require__) {
            /*!
             * CKEditor 5 with collaboration features is licensed only under a commercial license and is protected by copyright law.
             * For more details about available licensing options please contact us at https://ckeditor.com/contact/.
             */
            !function (t) { t.en = Object.assign(t.en || {}, { a: "Image toolbar", b: "Table toolbar", c: "Cannot upload file:", d: "Align left", e: "Align right", f: "Align center", g: "Justify", h: "Text alignment", i: "Text alignment toolbar", j: "Block quote", k: "Bold", l: "Italic", m: "Strikethrough", n: "Underline", o: "Insert image or file", p: "Font Family", q: "Default", r: "Font Size", s: "Tiny", t: "Small", u: "Big", v: "Huge", w: "Choose heading", x: "Heading", y: "image widget", z: "Full size image", aa: "Side image", ab: "Left aligned image", ac: "Centered image", ad: "Right aligned image", ae: "Insert image", af: "Numbered List", ag: "Bulleted List", ah: "Yellow marker", ai: "Green marker", aj: "Pink marker", ak: "Blue marker", al: "Red pen", am: "Green pen", an: "Remove highlight", ao: "Highlight", ap: "Text highlight toolbar", aq: "Enter image caption", ar: "Upload failed", as: "media widget", at: "Widget toolbar", au: "Insert media", av: "The URL must not be empty.", aw: "This media URL is not supported.", ax: "Insert table", ay: "Header column", az: "Insert column left", ba: "Insert column right", bb: "Delete column", bc: "Column", bd: "Header row", be: "Insert row below", bf: "Insert row above", bg: "Delete row", bh: "Row", bi: "Merge cell up", bj: "Merge cell right", bk: "Merge cell down", bl: "Merge cell left", bm: "Split cell vertically", bn: "Split cell horizontally", bo: "Merge cells", bp: "Remove Format", bq: "Link", br: "Could not obtain resized image URL.", bs: "Selecting resized image failed", bt: "Could not insert image at the current position.", bu: "Inserting image failed", bv: "Change image text alternative", bw: "Upload in progress", bx: "Dropdown toolbar", by: "Undo", bz: "Redo", ca: "%0 of %1", cb: "Previous", cc: "Next", cd: "Rich Text Editor", ce: "Editor toolbar", cf: "Show more items", cg: "Unlink", ch: "Edit link", ci: "Open link in new tab", cj: "This link has no URL", ck: "Save", cl: "Cancel", cm: "Link URL", cn: "Text alternative", co: "Open in a new tab", cp: "Downloadable", cq: "Rich Text Editor, %0", cr: "Paste the media URL in the input.", cs: "Tip: Paste the URL into the content to embed faster.", ct: "Media URL", cu: "Paragraph", cv: "Heading 1", cw: "Heading 2", cx: "Heading 3", cy: "Heading 4", cz: "Heading 5", da: "Heading 6", db: "Black", dc: "Dim grey", dd: "Grey", de: "Light grey", df: "White", dg: "Red", dh: "Orange", di: "Yellow", dj: "Light green", dk: "Green", dl: "Aquamarine", dm: "Turquoise", dn: "Light blue", do: "Blue", dp: "Purple" }); }(window.CKEDITOR_TRANSLATIONS || (window.CKEDITOR_TRANSLATIONS = {})), function (t, e) { true ? module.exports = e() : undefined; }(window, function () { return function (t) { var e = {}; function n(i) { if (e[i])
                return e[i].exports; var o = e[i] = { i: i, l: !1, exports: {} }; return t[i].call(o.exports, o, o.exports, n), o.l = !0, o.exports; } return n.m = t, n.c = e, n.d = function (t, e, i) { n.o(t, e) || Object.defineProperty(t, e, { enumerable: !0, get: i }); }, n.r = function (t) { "undefined" != typeof Symbol && Symbol.toStringTag && Object.defineProperty(t, Symbol.toStringTag, { value: "Module" }), Object.defineProperty(t, "__esModule", { value: !0 }); }, n.t = function (t, e) { if (1 & e && (t = n(t)), 8 & e)
                return t; if (4 & e && "object" == typeof t && t && t.__esModule)
                return t; var i = Object.create(null); if (n.r(i), Object.defineProperty(i, "default", { enumerable: !0, value: t }), 2 & e && "string" != typeof t)
                for (var o in t)
                    n.d(i, o, function (e) { return t[e]; }.bind(null, o)); return i; }, n.n = function (t) { var e = t && t.__esModule ? function () { return t.default; } : function () { return t; }; return n.d(e, "a", e), e; }, n.o = function (t, e) { return Object.prototype.hasOwnProperty.call(t, e); }, n.p = "", n(n.s = 200); }([function (t, e, n) {
                    "use strict";
                    n.d(e, "b", function () { return o; }), n.d(e, "a", function () { return r; });
                    var i = "https://ckeditor.com/docs/ckeditor5/latest/framework/guides/support/error-codes.html";
                    var o = /** @class */ (function (_super) {
                        __extends(o, _super);
                        function o(t, e, n) {
                            var _this = this;
                            t = r(t), n && (t += " " + JSON.stringify(n)), _this = _super.call(this, t) || this, _this.name = "CKEditorError", _this.context = e, _this.data = n;
                            return _this;
                        }
                        o.prototype.is = function (t) { return "CKEditorError" === t; };
                        o.rethrowUnexpectedError = function (t, e) { if (t.is && t.is("CKEditorError"))
                            throw t; var n = new o(t.message, e); throw n.stack = t.stack, n; };
                        return o;
                    }(Error));
                    function r(t) { var e = t.match(/^([^:]+):/); return e ? t + (" Read more: " + i + "#error-" + e[1] + "\n") : t; }
                }, function (t, e, n) {
                    "use strict";
                    var i = {}, o = function () { var t; return function () { return void 0 === t && (t = Boolean(window && document && document.all && !window.atob)), t; }; }(), r = function () { var t = {}; return function (e) { if (void 0 === t[e]) {
                        var n = document.querySelector(e);
                        if (window.HTMLIFrameElement && n instanceof window.HTMLIFrameElement)
                            try {
                                n = n.contentDocument.head;
                            }
                            catch (t) {
                                n = null;
                            }
                        t[e] = n;
                    } return t[e]; }; }();
                    function s(t, e) { for (var n = [], i = {}, o = 0; o < t.length; o++) {
                        var r = t[o], s = e.base ? r[0] + e.base : r[0], a = { css: r[1], media: r[2], sourceMap: r[3] };
                        i[s] ? i[s].parts.push(a) : n.push(i[s] = { id: s, parts: [a] });
                    } return n; }
                    function a(t, e) { for (var n = 0; n < t.length; n++) {
                        var o = t[n], r = i[o.id], s = 0;
                        if (r) {
                            for (r.refs++; s < r.parts.length; s++)
                                r.parts[s](o.parts[s]);
                            for (; s < o.parts.length; s++)
                                r.parts.push(m(o.parts[s], e));
                        }
                        else {
                            for (var a = []; s < o.parts.length; s++)
                                a.push(m(o.parts[s], e));
                            i[o.id] = { id: o.id, refs: 1, parts: a };
                        }
                    } }
                    function c(t) { var e = document.createElement("style"); if (void 0 === t.attributes.nonce) {
                        var i = n.nc;
                        i && (t.attributes.nonce = i);
                    } if (Object.keys(t.attributes).forEach(function (n) { e.setAttribute(n, t.attributes[n]); }), "function" == typeof t.insert)
                        t.insert(e);
                    else {
                        var o = r(t.insert || "head");
                        if (!o)
                            throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");
                        o.appendChild(e);
                    } return e; }
                    var l = function () { var t = []; return function (e, n) { return t[e] = n, t.filter(Boolean).join("\n"); }; }();
                    function d(t, e, n, i) { var o = n ? "" : i.css; if (t.styleSheet)
                        t.styleSheet.cssText = l(e, o);
                    else {
                        var r = document.createTextNode(o), s = t.childNodes;
                        s[e] && t.removeChild(s[e]), s.length ? t.insertBefore(r, s[e]) : t.appendChild(r);
                    } }
                    var u = null, h = 0;
                    function m(t, e) { var n, i, o; if (e.singleton) {
                        var r = h++;
                        n = u || (u = c(e)), i = d.bind(null, n, r, !1), o = d.bind(null, n, r, !0);
                    }
                    else
                        n = c(e), i = function (t, e, n) { var i = n.css, o = n.media, r = n.sourceMap; if (o && t.setAttribute("media", o), r && btoa && (i += "\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(r)))), " */")), t.styleSheet)
                            t.styleSheet.cssText = i;
                        else {
                            for (; t.firstChild;)
                                t.removeChild(t.firstChild);
                            t.appendChild(document.createTextNode(i));
                        } }.bind(null, n, e), o = function () { !function (t) { if (null === t.parentNode)
                            return !1; t.parentNode.removeChild(t); }(n); }; return i(t), function (e) { if (e) {
                        if (e.css === t.css && e.media === t.media && e.sourceMap === t.sourceMap)
                            return;
                        i(t = e);
                    }
                    else
                        o(); }; }
                    t.exports = function (t, e) { (e = e || {}).attributes = "object" == typeof e.attributes ? e.attributes : {}, e.singleton || "boolean" == typeof e.singleton || (e.singleton = o()); var n = s(t, e); return a(n, e), function (t) { for (var o = [], r = 0; r < n.length; r++) {
                        var c = n[r], l = i[c.id];
                        l && (l.refs--, o.push(l));
                    } t && a(s(t, e), e); for (var d = 0; d < o.length; d++) {
                        var u = o[d];
                        if (0 === u.refs) {
                            for (var h = 0; h < u.parts.length; h++)
                                u.parts[h]();
                            delete i[u.id];
                        }
                    } }; };
                }, , function (t, e, n) {
                    "use strict";
                    var i = n(10), o = "object" == typeof self && self && self.Object === Object && self, r = i.a || o || Function("return this")();
                    e.a = r;
                }, function (t, e) { t.exports = '<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M6.972 16.615a.997.997 0 0 1-.744-.292l-4.596-4.596a1 1 0 1 1 1.414-1.414l3.926 3.926 9.937-9.937a1 1 0 0 1 1.414 1.415L7.717 16.323a.997.997 0 0 1-.745.292z"/></svg>'; }, function (t, e) { t.exports = '<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M11.591 10.177l4.243 4.242a1 1 0 0 1-1.415 1.415l-4.242-4.243-4.243 4.243a1 1 0 0 1-1.414-1.415l4.243-4.242L4.52 5.934A1 1 0 0 1 5.934 4.52l4.243 4.243 4.242-4.243a1 1 0 1 1 1.415 1.414l-4.243 4.243z"/></svg>'; }, function (t, e, n) {
                    "use strict";
                    (function (t) { var i = n(10), o = true && exports && !exports.nodeType && exports, r = o && "object" == typeof t && t && !t.nodeType && t, s = r && r.exports === o && i.a.process, a = function () { try {
                        var t = r && r.require && r.require("util").types;
                        return t || s && s.binding && s.binding("util");
                    }
                    catch (t) { } }(); e.a = a; }).call(this, n(15)(t));
                }, function (t, e, n) { var i = n(114), o = n(26), r = 36e5, s = 6e4, a = 2, c = /[T ]/, l = /:/, d = /^(\d{2})$/, u = [/^([+-]\d{2})$/, /^([+-]\d{3})$/, /^([+-]\d{4})$/], h = /^(\d{4})/, m = [/^([+-]\d{4})/, /^([+-]\d{5})/, /^([+-]\d{6})/], g = /^-(\d{2})$/, f = /^-?(\d{3})$/, p = /^-?(\d{2})-?(\d{2})$/, x = /^-?W(\d{2})$/, b = /^-?W(\d{2})-?(\d{1})$/, k = /^(\d{2}([.,]\d*)?)$/, w = /^(\d{2}):?(\d{2}([.,]\d*)?)$/, _ = /^(\d{2}):?(\d{2}):?(\d{2}([.,]\d*)?)$/, v = /([Z+-].*)$/, y = /^(Z)$/, C = /^([+-])(\d{2})$/, T = /^([+-])(\d{2}):?(\d{2})$/; function A(t, e, n) { e = e || 0, n = n || 0; var i = new Date(0); i.setUTCFullYear(t, 0, 4); var o = 7 * e + n + 1 - (i.getUTCDay() || 7); return i.setUTCDate(i.getUTCDate() + o), i; } t.exports = function (t, e) { if (o(t))
                    return new Date(t.getTime()); if ("string" != typeof t)
                    return new Date(t); var n = (e || {}).additionalDigits; n = null == n ? a : Number(n); var S = function (t) { var e, n = {}, i = t.split(c); if (l.test(i[0]) ? (n.date = null, e = i[0]) : (n.date = i[0], e = i[1]), e) {
                    var o = v.exec(e);
                    o ? (n.time = e.replace(o[1], ""), n.timezone = o[1]) : n.time = e;
                } return n; }(t), P = function (t, e) { var n, i = u[e], o = m[e]; if (n = h.exec(t) || o.exec(t)) {
                    var r = n[1];
                    return { year: parseInt(r, 10), restDateString: t.slice(r.length) };
                } if (n = d.exec(t) || i.exec(t)) {
                    var s = n[1];
                    return { year: 100 * parseInt(s, 10), restDateString: t.slice(s.length) };
                } return { year: null }; }(S.date, n), M = P.year, E = function (t, e) { if (null === e)
                    return null; var n, i, o, r; if (0 === t.length)
                    return (i = new Date(0)).setUTCFullYear(e), i; if (n = g.exec(t))
                    return i = new Date(0), o = parseInt(n[1], 10) - 1, i.setUTCFullYear(e, o), i; if (n = f.exec(t)) {
                    i = new Date(0);
                    var s = parseInt(n[1], 10);
                    return i.setUTCFullYear(e, 0, s), i;
                } if (n = p.exec(t)) {
                    i = new Date(0), o = parseInt(n[1], 10) - 1;
                    var a = parseInt(n[2], 10);
                    return i.setUTCFullYear(e, o, a), i;
                } if (n = x.exec(t))
                    return r = parseInt(n[1], 10) - 1, A(e, r); if (n = b.exec(t)) {
                    r = parseInt(n[1], 10) - 1;
                    var c = parseInt(n[2], 10) - 1;
                    return A(e, r, c);
                } return null; }(P.restDateString, M); if (E) {
                    var I, N = E.getTime(), R = 0;
                    if (S.time && (R = function (t) { var e, n, i; if (e = k.exec(t))
                        return (n = parseFloat(e[1].replace(",", "."))) % 24 * r; if (e = w.exec(t))
                        return n = parseInt(e[1], 10), i = parseFloat(e[2].replace(",", ".")), n % 24 * r + i * s; if (e = _.exec(t)) {
                        n = parseInt(e[1], 10), i = parseInt(e[2], 10);
                        var o = parseFloat(e[3].replace(",", "."));
                        return n % 24 * r + i * s + 1e3 * o;
                    } return null; }(S.time)), S.timezone)
                        I = function (t) { var e, n; return (e = y.exec(t)) ? 0 : (e = C.exec(t)) ? (n = 60 * parseInt(e[2], 10), "+" === e[1] ? -n : n) : (e = T.exec(t)) ? (n = 60 * parseInt(e[2], 10) + parseInt(e[3], 10), "+" === e[1] ? -n : n) : 0; }(S.timezone) * s;
                    else {
                        var O = N + R, D = new Date(O);
                        I = i(D);
                        var L = new Date(O);
                        L.setDate(D.getDate() + 1);
                        var V = i(L) - i(D);
                        V > 0 && (I += V);
                    }
                    return new Date(N + R + I);
                } return new Date(t); }; }, function (t, e, n) {
                    "use strict";
                    (function (t) { var i = n(3), o = n(31), r = true && exports && !exports.nodeType && exports, s = r && "object" == typeof t && t && !t.nodeType && t, a = s && s.exports === r ? i.a.Buffer : void 0, c = (a ? a.isBuffer : void 0) || o.a; e.a = c; }).call(this, n(15)(t));
                }, function (t, e, n) {
                    "use strict";
                    (function (t) { var e = n(0); var i = "object" == typeof window ? window : t; if (i.CKEDITOR_VERSION)
                        throw new e.b("ckeditor-duplicated-modules: Some CKEditor 5 modules are duplicated.", null); i.CKEDITOR_VERSION = "16.0.0"; }).call(this, n(25));
                }, function (t, e, n) {
                    "use strict";
                    (function (t) { var n = "object" == typeof t && t && t.Object === Object && t; e.a = n; }).call(this, n(25));
                }, function (t, e) { t.exports = '<svg viewBox="0 0 10 10" xmlns="http://www.w3.org/2000/svg"><path d="M.941 4.523a.75.75 0 1 1 1.06-1.06l3.006 3.005 3.005-3.005a.75.75 0 1 1 1.06 1.06l-3.549 3.55a.75.75 0 0 1-1.168-.136L.941 4.523z"/></svg>'; }, function (t, e) { t.exports = '<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M7.3 17.37l-.061.088a1.518 1.518 0 0 1-.934.535l-4.178.663-.806-4.153a1.495 1.495 0 0 1 .187-1.058l.056-.086L8.77 2.639c.958-1.351 2.803-1.076 4.296-.03 1.497 1.047 2.387 2.693 1.433 4.055L7.3 17.37zM9.14 4.728l-5.545 8.346 3.277 2.294 5.544-8.346L9.14 4.728zM6.07 16.512l-3.276-2.295.53 2.73 2.746-.435zM9.994 3.506L13.271 5.8c.316-.452-.16-1.333-1.065-1.966-.905-.634-1.895-.78-2.212-.328zM8 18.5L9.375 17H19v1.5H8z"/></svg>'; }, function (t, e) { t.exports = '<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M8.636 9.531l-2.758 3.94a.5.5 0 0 0 .122.696l3.224 2.284h1.314l2.636-3.736L8.636 9.53zm.288 8.451L5.14 15.396a2 2 0 0 1-.491-2.786l6.673-9.53a2 2 0 0 1 2.785-.49l3.742 2.62a2 2 0 0 1 .491 2.785l-7.269 10.053-2.147-.066z"/><path d="M4 18h5.523v-1H4zm-2 0h1v-1H2z"/></svg>'; }, function (t, e) { t.exports = '<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 4.5V3h16v1.5zm0 3V6h5.674v1.5zm0 3V9h5.674v1.5zm0 3V12h5.674v1.5zm8.5-6V12h6V7.5h-6zM9.682 6h7.636c.377 0 .682.407.682.91v5.68c0 .503-.305.91-.682.91H9.682c-.377 0-.682-.407-.682-.91V6.91c0-.503.305-.91.682-.91zM2 16.5V15h16v1.5z"/></svg>'; }, function (t, e) { t.exports = function (t) { if (!t.webpackPolyfill) {
                    var e = Object.create(t);
                    e.children || (e.children = []), Object.defineProperty(e, "loaded", { enumerable: !0, get: function () { return e.l; } }), Object.defineProperty(e, "id", { enumerable: !0, get: function () { return e.i; } }), Object.defineProperty(e, "exports", { enumerable: !0 }), e.webpackPolyfill = 1;
                } return e; }; }, function (t, e, n) { var i = n(118); t.exports = function (t) { return i(t, { weekStartsOn: 1 }); }; }, function (t, e, n) { var i = n(116), o = 6e4, r = 864e5; t.exports = function (t, e) { var n = i(t), s = i(e), a = n.getTime() - n.getTimezoneOffset() * o, c = s.getTime() - s.getTimezoneOffset() * o; return Math.round((a - c) / r); }; }, function (t, e) { t.exports = '<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M5.042 9.367l2.189 1.837a.75.75 0 0 1-.965 1.149l-3.788-3.18a.747.747 0 0 1-.21-.284.75.75 0 0 1 .17-.945L6.23 4.762a.75.75 0 1 1 .964 1.15L4.863 7.866h8.917A.75.75 0 0 1 14 7.9a4 4 0 1 1-1.477 7.718l.344-1.489a2.5 2.5 0 1 0 1.094-4.73l.008-.032H5.042z"/></svg>'; }, function (t, e) { t.exports = '<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M14.958 9.367l-2.189 1.837a.75.75 0 0 0 .965 1.149l3.788-3.18a.747.747 0 0 0 .21-.284.75.75 0 0 0-.17-.945L13.77 4.762a.75.75 0 1 0-.964 1.15l2.331 1.955H6.22A.75.75 0 0 0 6 7.9a4 4 0 1 0 1.477 7.718l-.344-1.489A2.5 2.5 0 1 1 6.039 9.4l-.008-.032h8.927z"/></svg>'; }, function (t, e) { t.exports = '<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 4.5V3h16v1.5zm2.5 3V12h11V7.5h-11zM4.061 6H15.94c.586 0 1.061.407 1.061.91v5.68c0 .503-.475.91-1.061.91H4.06c-.585 0-1.06-.407-1.06-.91V6.91C3 6.406 3.475 6 4.061 6zM2 16.5V15h16v1.5z"/></svg>'; }, function (t, e) { t.exports = '<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg" clip-rule="evenodd" stroke-linejoin="round" stroke-miterlimit="1.414"><path d="M18 4.5V3H2v1.5h16zm0 3V6h-5.674v1.5H18zm0 3V9h-5.674v1.5H18zm0 3V12h-5.674v1.5H18zm-8.5-6V12h-6V7.5h6zm.818-1.5H2.682C2.305 6 2 6.407 2 6.91v5.68c0 .503.305.91.682.91h7.636c.377 0 .682-.407.682-.91V6.91c0-.503-.305-.91-.682-.91zM18 16.5V15H2v1.5h16z"/></svg>'; }, function (t, e) { t.exports = '<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 4.5V3h16v1.5zm4.5 3V12h7V7.5h-7zM5.758 6h8.484c.419 0 .758.407.758.91v5.681c0 .502-.34.909-.758.909H5.758c-.419 0-.758-.407-.758-.91V6.91c0-.503.34-.91.758-.91zM2 16.5V15h16v1.5z"/></svg>'; }, function (t, e) { t.exports = '<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 8c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 4c0 .414.336.75.75.75h9.929a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0-8c0 .414.336.75.75.75h9.929a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75z"/></svg>'; }, function (t, e) { t.exports = '<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M18 3.75a.75.75 0 0 1-.75.75H2.75a.75.75 0 1 1 0-1.5h14.5a.75.75 0 0 1 .75.75zm0 8a.75.75 0 0 1-.75.75H2.75a.75.75 0 1 1 0-1.5h14.5a.75.75 0 0 1 .75.75zm0 4a.75.75 0 0 1-.75.75H7.321a.75.75 0 1 1 0-1.5h9.929a.75.75 0 0 1 .75.75zm0-8a.75.75 0 0 1-.75.75H7.321a.75.75 0 1 1 0-1.5h9.929a.75.75 0 0 1 .75.75z"/></svg>'; }, function (t, e) { var n; n = function () { return this; }(); try {
                    n = n || new Function("return this")();
                }
                catch (t) {
                    "object" == typeof window && (n = window);
                } t.exports = n; }, function (t, e) { t.exports = function (t) { return t instanceof Date; }; }, function (t, e, n) { var i = n(7), o = n(16); t.exports = function (t) { var e = i(t), n = e.getFullYear(), r = new Date(0); r.setFullYear(n + 1, 0, 4), r.setHours(0, 0, 0, 0); var s = o(r), a = new Date(0); a.setFullYear(n, 0, 4), a.setHours(0, 0, 0, 0); var c = o(a); return e.getTime() >= s.getTime() ? n + 1 : e.getTime() >= c.getTime() ? n : n - 1; }; }, function (t, e, n) { var i = n(137); "string" == typeof i && (i = [[t.i, i, ""]]); var o = { injectType: "singletonStyleTag", insert: "head", singleton: !0 }; n(1)(i, o); i.locals && (t.exports = i.locals); }, function (t, e, n) { var i = n(138); "string" == typeof i && (i = [[t.i, i, ""]]); var o = { injectType: "singletonStyleTag", insert: "head", singleton: !0 }; n(1)(i, o); i.locals && (t.exports = i.locals); }, function (t, e, n) { var i = n(173); "string" == typeof i && (i = [[t.i, i, ""]]); var o = { injectType: "singletonStyleTag", insert: "head", singleton: !0 }; n(1)(i, o); i.locals && (t.exports = i.locals); }, function (t, e, n) {
                    "use strict";
                    e.a = function () { return !1; };
                }, function (t, e, n) {
                    "use strict";
                    (function (t) { var i = n(3), o = true && exports && !exports.nodeType && exports, r = o && "object" == typeof t && t && !t.nodeType && t, s = r && r.exports === o ? i.a.Buffer : void 0, a = s ? s.allocUnsafe : void 0; e.a = function (t, e) { if (e)
                        return t.slice(); var n = t.length, i = a ? a(n) : new t.constructor(n); return t.copy(i), i; }; }).call(this, n(15)(t));
                }, function (t, e) { t.exports = '<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><circle cx="9.5" cy="4.5" r="1.5"/><circle cx="9.5" cy="10.5" r="1.5"/><circle cx="9.5" cy="16.5" r="1.5"/></svg>\n'; }, function (t, e) { t.exports = '\x3c!--\n\n What you\'re currently looking at is the source code of a legally protected, proprietary software.\n CKEditor 5 Collaboration is licensed under a commercial license and protected by copyright law. Where not otherwise indicated,\n all CKEditor 5 Collaboration content is authored by CKSource engineers and consists of CKSource-owned intellectual property.\n\n Copyright (c) 2003-2019, CKSource Frederico Knabben. All rights reserved.\n\n!--\x3e\n\n<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 9.41c0 3.54 3.24 6.42 7.23 6.42 1.03 0 2.02-.19 2.95-.56 1.65.93 1.79.98 3.62 1.63.3.11.57.13.61.05.04-.08.02-.43-.08-.75-.48-1.63-.87-1.77-1.01-3.32a5.87 5.87 0 0 0 1.15-3.47C16.97 5.88 13.72 3 9.73 3S2.5 5.88 2.5 9.41zm9.64 0c0-.52.44-.95.97-.95s.96.43.96.95c0 .53-.43.95-.96.95a.96.96 0 0 1-.97-.95zm-3.37 0c0-.52.43-.95.96-.95.54 0 .97.43.97.95 0 .53-.43.95-.97.95a.96.96 0 0 1-.96-.95zm-3.38 0c0-.52.44-.95.97-.95s.96.43.96.95c0 .53-.43.95-.96.95a.96.96 0 0 1-.97-.95z"/></svg>\n'; }, function (t, e) { t.exports = '<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M11.463 5.187a.888.888 0 1 1 1.254 1.255L9.16 10l3.557 3.557a.888.888 0 1 1-1.254 1.255L7.26 10.61a.888.888 0 0 1 .16-1.382l4.043-4.042z" /></svg>\n'; }, function (t, e) { t.exports = '<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M8.537 14.813a.888.888 0 1 1-1.254-1.255L10.84 10 7.283 6.442a.888.888 0 1 1 1.254-1.255L12.74 9.39a.888.888 0 0 1-.16 1.382l-4.043 4.042z"/></svg>\n'; }, function (t, e) { t.exports = '\x3c!--\n\n What you\'re currently looking at is the source code of a legally protected, proprietary software.\n CKEditor 5 Collaboration is licensed under a commercial license and protected by copyright law. Where not otherwise indicated,\n all CKEditor 5 Collaboration content is authored by CKSource engineers and consists of CKSource-owned intellectual property.\n\n Copyright (c) 2003-2019, CKSource Frederico Knabben. All rights reserved.\n\n!--\x3e\n\n<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M12 9.4a1 1 0 0 1 2 0c0 .5-.5 1-1 1a1 1 0 0 1-1-1zM8.7 9.4c0-.5.4-1 1-1 .5 0 .9.5.9 1s-.4 1-1 1a1 1 0 0 1-1-1zM6.3 8.5c.5 0 1 .4 1 1 0 .4-.5.9-1 .9a1 1 0 0 1-1-1c0-.5.4-1 1-1z"/><path d="M16 17.4c.6.2 1 .2 1.3-.2V16l-.5-1.1-.3-.7-.3-1.3c.8-1 1.2-2.3 1.2-3.6 0-3.8-3.5-6.9-7.8-6.9-4.2 0-7.7 3-7.7 7 0 3.7 3.5 6.8 7.7 6.8 1 0 2-.1 3-.5 1.4.8 1.6 1 3.4 1.6zm-3.2-2.6h-.4c-.9.4-1.8.5-2.8.5C6 15.3 3 12.7 3 9.4c0-3.2 3-5.9 6.7-5.9 3.8 0 6.8 2.7 6.8 6 0 1-.4 2.2-1 3l-.2.2v.2c0 .7.2 1.2.4 1.8l.3.7a10.4 10.4 0 0 1 .4 1c-1.8-.6-2-.7-3.5-1.6z"/></svg>\n'; }, function (t, e) { t.exports = '\x3c!--\n\n What you\'re currently looking at is the source code of a legally protected, proprietary software.\n CKEditor 5 Collaboration is licensed under a commercial license and protected by copyright law. Where not otherwise indicated,\n all CKEditor 5 Collaboration content is authored by CKSource engineers and consists of CKSource-owned intellectual property.\n\n Copyright (c) 2003-2019, CKSource Frederico Knabben. All rights reserved.\n\n!--\x3e\n\n<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M5.2 7h9.2c.6 0 1 .4 1 1v9.9c0 .5-.4 1-1 1H5.2a1 1 0 0 1-1-1V8c0-.6.4-1 1-1zm1 1.5c-.3 0-.5.2-.5.5v8c0 .3.2.5.5.5h.5c.2 0 .5-.2.5-.5V9c0-.3-.3-.5-.5-.5h-.5zm3.2 0c-.2 0-.5.2-.5.5v8c0 .3.3.5.5.5h.5c.3 0 .5-.2.5-.5V9c0-.3-.2-.5-.5-.5h-.4zm3.5 0c-.2 0-.5.2-.5.5v8c0 .3.3.5.5.5h.5c.3 0 .5-.2.5-.5V9c0-.3-.2-.5-.5-.5h-.5zm-1.4-7.1H8.3L6.5 3.6H3.8c-.5 0-.7.3-.7.8s.2.7.7.7h12c.6 0 .9-.2.9-.7 0-.5-.3-.8-1-.8h-2.4l-1.8-2.2z"/></svg>\n'; }, function (t, e) { t.exports = '<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10.187 17H5.773c-.637 0-1.092-.138-1.364-.415-.273-.277-.409-.718-.409-1.323V4.738c0-.617.14-1.062.419-1.332.279-.27.73-.406 1.354-.406h4.68c.69 0 1.288.041 1.793.124.506.083.96.242 1.36.478.341.197.644.447.906.75a3.262 3.262 0 0 1 .808 2.162c0 1.401-.722 2.426-2.167 3.075C15.05 10.175 16 11.315 16 13.01a3.756 3.756 0 0 1-2.296 3.504 6.1 6.1 0 0 1-1.517.377c-.571.073-1.238.11-2 .11zm-.217-6.217H7v4.087h3.069c1.977 0 2.965-.69 2.965-2.072 0-.707-.256-1.22-.768-1.537-.512-.319-1.277-.478-2.296-.478zM7 5.13v3.619h2.606c.729 0 1.292-.067 1.69-.2a1.6 1.6 0 0 0 .91-.765c.165-.267.247-.566.247-.897 0-.707-.26-1.176-.778-1.409-.519-.232-1.31-.348-2.375-.348H7z"/></svg>'; }, function (t, e) { t.exports = '<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M9.586 14.633l.021.004c-.036.335.095.655.393.962.082.083.173.15.274.201h1.474a.6.6 0 1 1 0 1.2H5.304a.6.6 0 0 1 0-1.2h1.15c.474-.07.809-.182 1.005-.334.157-.122.291-.32.404-.597l2.416-9.55a1.053 1.053 0 0 0-.281-.823 1.12 1.12 0 0 0-.442-.296H8.15a.6.6 0 0 1 0-1.2h6.443a.6.6 0 1 1 0 1.2h-1.195c-.376.056-.65.155-.823.296-.215.175-.423.439-.623.79l-2.366 9.347z"/></svg>'; }, function (t, e) { t.exports = '<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M7 5.75c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zM3.5 3v5H2V3.7H1v-1h2.5V3zM.343 17.857l2.59-3.257H2.92a.6.6 0 1 0-1.04 0H.302a2 2 0 1 1 3.995 0h-.001c-.048.405-.16.734-.333.988-.175.254-.59.692-1.244 1.312H4.3v1h-4l.043-.043zM7 14.75a.75.75 0 0 1 .75-.75h9.5a.75.75 0 1 1 0 1.5h-9.5a.75.75 0 0 1-.75-.75z"/></svg>'; }, function (t, e) { t.exports = '<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M7 5.75c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zm-6 0C1 4.784 1.777 4 2.75 4c.966 0 1.75.777 1.75 1.75 0 .966-.777 1.75-1.75 1.75C1.784 7.5 1 6.723 1 5.75zm6 9c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zm-6 0c0-.966.777-1.75 1.75-1.75.966 0 1.75.777 1.75 1.75 0 .966-.777 1.75-1.75 1.75-.966 0-1.75-.777-1.75-1.75z"/></svg>'; }, function (t, e, n) { var i = n(113), o = n(117), r = n(27), s = n(7), a = n(120), c = n(121); var l = { M: function (t) { return t.getMonth() + 1; }, MM: function (t) { return h(t.getMonth() + 1, 2); }, Q: function (t) { return Math.ceil((t.getMonth() + 1) / 3); }, D: function (t) { return t.getDate(); }, DD: function (t) { return h(t.getDate(), 2); }, DDD: function (t) { return i(t); }, DDDD: function (t) { return h(i(t), 3); }, d: function (t) { return t.getDay(); }, E: function (t) { return t.getDay() || 7; }, W: function (t) { return o(t); }, WW: function (t) { return h(o(t), 2); }, YY: function (t) { return h(t.getFullYear(), 4).substr(2); }, YYYY: function (t) { return h(t.getFullYear(), 4); }, GG: function (t) { return String(r(t)).substr(2); }, GGGG: function (t) { return r(t); }, H: function (t) { return t.getHours(); }, HH: function (t) { return h(t.getHours(), 2); }, h: function (t) { var e = t.getHours(); return 0 === e ? 12 : e > 12 ? e % 12 : e; }, hh: function (t) { return h(l.h(t), 2); }, m: function (t) { return t.getMinutes(); }, mm: function (t) { return h(t.getMinutes(), 2); }, s: function (t) { return t.getSeconds(); }, ss: function (t) { return h(t.getSeconds(), 2); }, S: function (t) { return Math.floor(t.getMilliseconds() / 100); }, SS: function (t) { return h(Math.floor(t.getMilliseconds() / 10), 2); }, SSS: function (t) { return h(t.getMilliseconds(), 3); }, Z: function (t) { return u(t.getTimezoneOffset(), ":"); }, ZZ: function (t) { return u(t.getTimezoneOffset()); }, X: function (t) { return Math.floor(t.getTime() / 1e3); }, x: function (t) { return t.getTime(); } }; function d(t) { return t.match(/\[[\s\S]/) ? t.replace(/^\[|]$/g, "") : t.replace(/\\/g, ""); } function u(t, e) { e = e || ""; var n = t > 0 ? "-" : "+", i = Math.abs(t), o = i % 60; return n + h(Math.floor(i / 60), 2) + e + h(o, 2); } function h(t, e) { for (var n = Math.abs(t).toString(); n.length < e;)
                    n = "0" + n; return n; } t.exports = function (t, e, n) { var i = e ? String(e) : "YYYY-MM-DDTHH:mm:ss.SSSZ", o = (n || {}).locale, r = c.format.formatters, u = c.format.formattingTokensRegExp; o && o.format && o.format.formatters && (r = o.format.formatters, o.format.formattingTokensRegExp && (u = o.format.formattingTokensRegExp)); var h = s(t); return a(h) ? function (t, e, n) { var i, o, r = t.match(n), s = r.length; for (i = 0; i < s; i++)
                    o = e[r[i]] || l[r[i]], r[i] = o || d(r[i]); return function (t) { for (var e = "", n = 0; n < s; n++)
                    r[n] instanceof Function ? e += r[n](t, l) : e += r[n]; return e; }; }(i, r, u)(h) : "Invalid Date"; }; }, function (t, e) { t.exports = '<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><g><path class="ck-icon__fill" d="M16.935 5.328a2 2 0 010 2.829l-7.778 7.778a2 2 0 01-2.829 0L3.5 13.107a1.999 1.999 0 112.828-2.829l.707.707a1 1 0 001.414 0l5.658-5.657a2 2 0 012.828 0z"/><path d="M14.814 6.035L8.448 12.4a1 1 0 01-1.414 0l-1.413-1.415A1 1 0 104.207 12.4l2.829 2.829a1 1 0 001.414 0l7.778-7.778a1 1 0 10-1.414-1.415z"/></g></svg>\n'; }, function (t, e) { t.exports = '\x3c!--\n\n What you\'re currently looking at is the source code of a legally protected, proprietary software.\n CKEditor 5 Collaboration is licensed under a commercial license and protected by copyright law. Where not otherwise indicated,\n all CKEditor 5 Collaboration content is authored by CKSource engineers and consists of CKSource-owned intellectual property.\n\n Copyright (c) 2003-2019, CKSource Frederico Knabben. All rights reserved.\n\n!--\x3e\n\n<svg viewBox="0 0 20 20" width="20" height="20" xmlns="http://www.w3.org/2000/svg"><g fill="#000" fill-rule="nonzero"><path d="M1 3.28C1 2.574 1.574 2 2.272 2h10.23c.703 0 1.272.573 1.272 1.28v12.768c0 .708-.574 1.281-1.271 1.281H2.272A1.276 1.276 0 0 1 1 16.049V3.28zm11.503 12.954c-.008 0-.006-12.77-.006-12.77 0-.003-10.225-.004-10.225-.004.007 0 .005 12.77.005 12.77 0 .003 10.226.004 10.226.004zm-8.31-9.58c0-.353.292-.64.636-.64h5.116c.351 0 .636.284.636.64a.641.641 0 0 1-.636.638H4.829a.636.636 0 0 1-.635-.639zm0 2.554c0-.352.292-.638.636-.638h5.116c.351 0 .636.283.636.638a.641.641 0 0 1-.636.639H4.829a.636.636 0 0 1-.635-.639zm0 2.555c0-.353.289-.639.633-.639h2.567c.35 0 .633.284.633.64a.639.639 0 0 1-.633.638H4.826a.634.634 0 0 1-.632-.639z"/><path d="M10.515 17.958l.154-.23c-.195-.099-.304-.193-.328-.28-.024-.09.001-.275.076-.552.062-.165.099-.296.111-.393.013-.159.013-.319 0-.478-.138-.41-.2-.686-.187-.83.013-.145.117-.335.313-.57l4.465-6.208c.356-.6 1.059-.56 2.11.119 1.051.68 1.443 1.271 1.177 1.771L14.53 17.14c-.105.271-.22.444-.347.516-.128.07-.399.118-.813.138a2.954 2.954 0 0 0-.487.21 2.044 2.044 0 0 0-.347.31c-.193.174-.332.262-.416.262-.064 0-.178-.05-.346-.15l-.204.27-1.056-.738h.001zm-.184.274l1.039.727-.259.34H9.614l.717-1.067z"/></g></svg>\n'; }, function (t, e) { t.exports = '<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 8c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm2.286 4c0 .414.336.75.75.75h9.928a.75.75 0 1 0 0-1.5H5.036a.75.75 0 0 0-.75.75zm0-8c0 .414.336.75.75.75h9.928a.75.75 0 1 0 0-1.5H5.036a.75.75 0 0 0-.75.75z"/></svg>'; }, function (t, e) { t.exports = '<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 8c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 4c0 .414.336.75.75.75h9.929a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0-8c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75z"/></svg>'; }, function (t, e) { t.exports = '<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3 10.423a6.5 6.5 0 0 1 6.056-6.408l.038.67C6.448 5.423 5.354 7.663 5.22 10H9c.552 0 .5.432.5.986v4.511c0 .554-.448.503-1 .503h-5c-.552 0-.5-.449-.5-1.003v-4.574zm8 0a6.5 6.5 0 0 1 6.056-6.408l.038.67c-2.646.739-3.74 2.979-3.873 5.315H17c.552 0 .5.432.5.986v4.511c0 .554-.448.503-1 .503h-5c-.552 0-.5-.449-.5-1.003v-4.574z"/></svg>'; }, function (t, e) { t.exports = '<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M11.627 16.5zm5.873-.196zm0-7.001V8h-13v8.5h4.341c.191.54.457 1.044.785 1.5H2a1.5 1.5 0 0 1-1.5-1.5v-13A1.5 1.5 0 0 1 2 2h4.5a1.5 1.5 0 0 1 1.06.44L9.122 4H16a1.5 1.5 0 0 1 1.5 1.5v1A1.5 1.5 0 0 1 19 8v2.531a6.027 6.027 0 0 0-1.5-1.228zM16 6.5v-1H8.5l-2-2H2v13h1V8a1.5 1.5 0 0 1 1.5-1.5H16z"/><path d="M14.5 19.5a5 5 0 1 1 0-10 5 5 0 0 1 0 10zM15 14v-2h-1v2h-2v1h2v2h1v-2h2v-1h-2z"/></svg>'; }, function (t, e) { t.exports = '<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M4 0v1H1v3H0V.5A.5.5 0 0 1 .5 0H4zm8 0h3.5a.5.5 0 0 1 .5.5V4h-1V1h-3V0zM4 16H.5a.5.5 0 0 1-.5-.5V12h1v3h3v1zm8 0v-1h3v-3h1v3.5a.5.5 0 0 1-.5.5H12z"/><path fill-opacity=".256" d="M1 1h14v14H1z"/><g class="ck-icon__selected-indicator"><path d="M7 0h2v1H7V0zM0 7h1v2H0V7zm15 0h1v2h-1V7zm-8 8h2v1H7v-1z"/><path fill-opacity=".254" d="M1 1h14v14H1z"/></g></svg>'; }, function (t, e) { t.exports = '<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M5.085 6.22L2.943 4.078a.75.75 0 1 1 1.06-1.06l2.592 2.59A11.094 11.094 0 0 1 10 5.068c4.738 0 8.578 3.101 8.578 5.083 0 1.197-1.401 2.803-3.555 3.887l1.714 1.713a.75.75 0 0 1-.09 1.138.488.488 0 0 1-.15.084.75.75 0 0 1-.821-.16L6.17 7.304c-.258.11-.51.233-.757.365l6.239 6.24-.006.005.78.78c-.388.094-.78.166-1.174.215l-1.11-1.11h.011L4.55 8.197a7.2 7.2 0 0 0-.665.514l-.112.098 4.897 4.897-.005.006 1.276 1.276a10.164 10.164 0 0 1-1.477-.117l-.479-.479-.009.009-4.863-4.863-.022.031a2.563 2.563 0 0 0-.124.2c-.043.077-.08.158-.108.241a.534.534 0 0 0-.028.133.29.29 0 0 0 .008.072.927.927 0 0 0 .082.226c.067.133.145.26.234.379l3.242 3.365.025.01.59.623c-3.265-.918-5.59-3.155-5.59-4.668 0-1.194 1.448-2.838 3.663-3.93zm7.07.531a4.632 4.632 0 0 1 1.108 5.992l.345.344.046-.018a9.313 9.313 0 0 0 2-1.112c.256-.187.5-.392.727-.613.137-.134.27-.277.392-.431.072-.091.141-.185.203-.286.057-.093.107-.19.148-.292a.72.72 0 0 0 .036-.12.29.29 0 0 0 .008-.072.492.492 0 0 0-.028-.133.999.999 0 0 0-.036-.096 2.165 2.165 0 0 0-.071-.145 2.917 2.917 0 0 0-.125-.2 3.592 3.592 0 0 0-.263-.335 5.444 5.444 0 0 0-.53-.523 7.955 7.955 0 0 0-1.054-.768 9.766 9.766 0 0 0-1.879-.891c-.337-.118-.68-.219-1.027-.301zm-2.85.21l-.069.002a.508.508 0 0 0-.254.097.496.496 0 0 0-.104.679.498.498 0 0 0 .326.199l.045.005c.091.003.181.003.272.012a2.45 2.45 0 0 1 2.017 1.513c.024.061.043.125.069.185a.494.494 0 0 0 .45.287h.008a.496.496 0 0 0 .35-.158.482.482 0 0 0 .13-.335.638.638 0 0 0-.048-.219 3.379 3.379 0 0 0-.36-.723 3.438 3.438 0 0 0-2.791-1.543l-.028-.001h-.013z"/></svg>'; }, function (t, e) { t.exports = '<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M6.91 10.54c.26-.23.64-.21.88.03l3.36 3.14 2.23-2.06a.64.64 0 0 1 .87 0l2.52 2.97V4.5H3.2v10.12l3.71-4.08zm10.27-7.51c.6 0 1.09.47 1.09 1.05v11.84c0 .59-.49 1.06-1.09 1.06H2.79c-.6 0-1.09-.47-1.09-1.06V4.08c0-.58.49-1.05 1.1-1.05h14.38zm-5.22 5.56a1.96 1.96 0 1 1 3.4-1.96 1.96 1.96 0 0 1-3.4 1.96z"/></svg>'; }, function (t, e) { t.exports = '<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 700 250"><rect rx="4"/></svg>'; }, function (t, e) { t.exports = '<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M11.03 3h6.149a.75.75 0 1 1 0 1.5h-5.514L11.03 3zm1.27 3h4.879a.75.75 0 1 1 0 1.5h-4.244L12.3 6zm1.27 3h3.609a.75.75 0 1 1 0 1.5h-2.973L13.57 9zm-2.754 2.5L8.038 4.785 5.261 11.5h5.555zm.62 1.5H4.641l-1.666 4.028H1.312l5.789-14h1.875l5.789 14h-1.663L11.436 13z"/></svg>'; }, function (t, e) { t.exports = '<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M9.816 11.5L7.038 4.785 4.261 11.5h5.555zm.62 1.5H3.641l-1.666 4.028H.312l5.789-14h1.875l5.789 14h-1.663L10.436 13zm7.55 2.279l.779-.779.707.707-2.265 2.265-2.193-2.265.707-.707.765.765V4.825c0-.042 0-.083.002-.123l-.77.77-.707-.707L17.207 2.5l2.265 2.265-.707.707-.782-.782c.002.043.003.089.003.135v10.454z"/></svg>'; }, function (t, e) { t.exports = '<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path class="ck-icon__fill" d="M10.798 1.59L3.002 12.875l1.895 1.852 2.521 1.402 6.997-12.194z"/><path d="M2.556 16.727l.234-.348c-.297-.151-.462-.293-.498-.426-.036-.137.002-.416.115-.837.094-.25.15-.449.169-.595a4.495 4.495 0 0 0 0-.725c-.209-.621-.303-1.041-.284-1.26.02-.218.178-.506.475-.862l6.77-9.414c.539-.91 1.605-.85 3.199.18 1.594 1.032 2.188 1.928 1.784 2.686l-5.877 10.36c-.158.412-.333.673-.526.782-.193.108-.604.179-1.232.21-.362.131-.608.237-.738.318-.13.081-.305.238-.526.47-.293.265-.504.397-.632.397-.096 0-.27-.075-.524-.226l-.31.41-1.6-1.12zm-.279.415l1.575 1.103-.392.515H1.19l1.087-1.618zm8.1-13.656l-4.953 6.9L8.75 12.57l4.247-7.574c.175-.25-.188-.647-1.092-1.192-.903-.546-1.412-.652-1.528-.32zM8.244 18.5L9.59 17h9.406v1.5H8.245z"/></svg>'; }, function (t, e) { t.exports = '<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path class="ck-icon__fill" d="M10.126 2.268L2.002 13.874l1.895 1.852 2.521 1.402L14.47 5.481l-1.543-2.568-2.801-.645z"/><path d="M4.5 18.088l-2.645-1.852-.04-2.95-.006-.005.006-.008v-.025l.011.008L8.73 2.97c.165-.233.356-.417.567-.557l-1.212.308L4.604 7.9l-.83-.558 3.694-5.495 2.708-.69 1.65 1.145.046.018.85-1.216 2.16 1.512-.856 1.222c.828.967 1.144 2.141.432 3.158L7.55 17.286l.006.005-3.055.797H4.5zm-.634.166l-1.976.516-.026-1.918 2.002 1.402zM9.968 3.817l-.006-.004-6.123 9.184 3.277 2.294 6.108-9.162.005.003c.317-.452-.16-1.332-1.064-1.966-.891-.624-1.865-.776-2.197-.349zM8.245 18.5L9.59 17h9.406v1.5H8.245z"/></svg>'; }, function (t, e) { t.exports = '<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M11.077 15l.991-1.416a.75.75 0 1 1 1.229.86l-1.148 1.64a.748.748 0 0 1-.217.206 5.251 5.251 0 0 1-8.503-5.955.741.741 0 0 1 .12-.274l1.147-1.639a.75.75 0 1 1 1.228.86L4.933 10.7l.006.003a3.75 3.75 0 0 0 6.132 4.294l.006.004zm5.494-5.335a.748.748 0 0 1-.12.274l-1.147 1.639a.75.75 0 1 1-1.228-.86l.86-1.23a3.75 3.75 0 0 0-6.144-4.301l-.86 1.229a.75.75 0 0 1-1.229-.86l1.148-1.64a.748.748 0 0 1 .217-.206 5.251 5.251 0 0 1 8.503 5.955zm-4.563-2.532a.75.75 0 0 1 .184 1.045l-3.155 4.505a.75.75 0 1 1-1.229-.86l3.155-4.506a.75.75 0 0 1 1.045-.184zm4.919 10.562l-1.414 1.414a.75.75 0 1 1-1.06-1.06l1.414-1.415-1.415-1.414a.75.75 0 0 1 1.061-1.06l1.414 1.414 1.414-1.415a.75.75 0 0 1 1.061 1.061l-1.414 1.414 1.414 1.415a.75.75 0 0 1-1.06 1.06l-1.415-1.414z"/></svg>'; }, function (t, e) { t.exports = '<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M11.077 15l.991-1.416a.75.75 0 1 1 1.229.86l-1.148 1.64a.748.748 0 0 1-.217.206 5.251 5.251 0 0 1-8.503-5.955.741.741 0 0 1 .12-.274l1.147-1.639a.75.75 0 1 1 1.228.86L4.933 10.7l.006.003a3.75 3.75 0 0 0 6.132 4.294l.006.004zm5.494-5.335a.748.748 0 0 1-.12.274l-1.147 1.639a.75.75 0 1 1-1.228-.86l.86-1.23a3.75 3.75 0 0 0-6.144-4.301l-.86 1.229a.75.75 0 0 1-1.229-.86l1.148-1.64a.748.748 0 0 1 .217-.206 5.251 5.251 0 0 1 8.503 5.955zm-4.563-2.532a.75.75 0 0 1 .184 1.045l-3.155 4.505a.75.75 0 1 1-1.229-.86l3.155-4.506a.75.75 0 0 1 1.045-.184z"/></svg>'; }, function (t, e) { t.exports = '<svg viewBox="0 0 64 42" xmlns="http://www.w3.org/2000/svg"><path d="M47.426 17V3.713L63.102 0v19.389h-.001l.001.272c0 1.595-2.032 3.43-4.538 4.098-2.506.668-4.538-.083-4.538-1.678 0-1.594 2.032-3.43 4.538-4.098.914-.244 2.032-.565 2.888-.603V4.516L49.076 7.447v9.556A1.014 1.014 0 0 0 49 17h-1.574zM29.5 17h-8.343a7.073 7.073 0 1 0-4.657 4.06v3.781H3.3a2.803 2.803 0 0 1-2.8-2.804V8.63a2.803 2.803 0 0 1 2.8-2.805h4.082L8.58 2.768A1.994 1.994 0 0 1 10.435 1.5h8.985c.773 0 1.477.448 1.805 1.149l1.488 3.177H26.7c1.546 0 2.8 1.256 2.8 2.805V17zm-11.637 0H17.5a1 1 0 0 0-1 1v.05A4.244 4.244 0 1 1 17.863 17zm29.684 2c.97 0 .953-.048.953.889v20.743c0 .953.016.905-.953.905H19.453c-.97 0-.953.048-.953-.905V19.89c0-.937-.016-.889.97-.889h28.077zm-4.701 19.338V22.183H24.154v16.155h18.692zM20.6 21.375v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616V37.53H20.6zm24.233-16.155v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615V37.53h-1.615zM29.485 25.283a.4.4 0 0 1 .593-.35l9.05 4.977a.4.4 0 0 1 0 .701l-9.05 4.978a.4.4 0 0 1-.593-.35v-9.956z"/></svg>'; }, function (t, e) { t.exports = '<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M18.68 2.53c.6 0 .59-.03.59.55v12.84c0 .59.01.56-.59.56H1.29c-.6 0-.59.03-.59-.56V3.08c0-.58-.01-.55.6-.55h17.38zM15.77 14.5v-10H4.2v10h11.57zM2 4v1h1V4H2zm0 2v1h1V6H2zm0 2v1h1V8H2zm0 2v1h1v-1H2zm0 2v1h1v-1H2zm0 2v1h1v-1H2zM17 4v1h1V4h-1zm0 2v1h1V6h-1zm0 2v1h1V8h-1zm0 2v1h1v-1h-1zm0 2v1h1v-1h-1zm0 2v1h1v-1h-1zM7.5 6.677a.4.4 0 0 1 .593-.351l5.133 2.824a.4.4 0 0 1 0 .7l-5.133 2.824a.4.4 0 0 1-.593-.35V6.676z"/></svg>'; }, function (t, e) { t.exports = '<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M8.69 14.915c.053.052.173.083.36.093a.366.366 0 0 1 .345.485l-.003.01a.738.738 0 0 1-.697.497h-2.67a.374.374 0 0 1-.353-.496l.013-.038a.681.681 0 0 1 .644-.458c.197-.012.325-.043.386-.093a.28.28 0 0 0 .072-.11L9.592 4.5H6.269c-.359-.017-.609.013-.75.09-.142.078-.289.265-.442.563-.192.29-.516.464-.864.464H4.17a.43.43 0 0 1-.407-.569L4.46 3h13.08l-.62 2.043a.81.81 0 0 1-.775.574h-.114a.486.486 0 0 1-.486-.486c.001-.284-.054-.464-.167-.54-.112-.076-.367-.106-.766-.091h-3.28l-2.68 10.257c-.006.074.007.127.038.158zM3 17h8a.5.5 0 1 1 0 1H3a.5.5 0 1 1 0-1zm11.299 1.17a.75.75 0 1 1-1.06-1.06l1.414-1.415-1.415-1.414a.75.75 0 0 1 1.06-1.06l1.415 1.414 1.414-1.415a.75.75 0 1 1 1.06 1.06l-1.413 1.415 1.414 1.415a.75.75 0 0 1-1.06 1.06l-1.415-1.414-1.414 1.414z"/></svg>'; }, function (t, e) { t.exports = '<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M7 16.4c-.8-.4-1.5-.9-2.2-1.5a.6.6 0 0 1-.2-.5l.3-.6h1c1 1.2 2.1 1.7 3.7 1.7 1 0 1.8-.3 2.3-.6.6-.4.6-1.2.6-1.3.2-1.2-.9-2.1-.9-2.1h2.1c.3.7.4 1.2.4 1.7v.8l-.6 1.2c-.6.8-1.1 1-1.6 1.2a6 6 0 0 1-2.4.6c-1 0-1.8-.3-2.5-.6zM6.8 9L6 8.3c-.4-.5-.5-.8-.5-1.6 0-.7.1-1.3.5-1.8.4-.6 1-1 1.6-1.3a6.3 6.3 0 0 1 4.7 0 4 4 0 0 1 1.7 1l.3.7c0 .1.2.4-.2.7-.4.2-.9.1-1 0a3 3 0 0 0-1.2-1c-.4-.2-1-.3-2-.4-.7 0-1.4.2-2 .6-.8.6-1 .8-1 1.5 0 .8.5 1 1.2 1.5.6.4 1.1.7 1.9 1H6.8z"/><path d="M3 10.5V9h14v1.5z"/></svg>'; }, function (t, e) { t.exports = '<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3 6v3h4V6H3zm0 4v3h4v-3H3zm0 4v3h4v-3H3zm5 3h4v-3H8v3zm5 0h4v-3h-4v3zm4-4v-3h-4v3h4zm0-4V6h-4v3h4zm1.5 8a1.5 1.5 0 0 1-1.5 1.5H3A1.5 1.5 0 0 1 1.5 17V4c.222-.863 1.068-1.5 2-1.5h13c.932 0 1.778.637 2 1.5v13zM12 13v-3H8v3h4zm0-4V6H8v3h4z"/></svg>'; }, function (t, e) { t.exports = '<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 1h15A1.5 1.5 0 0 1 19 2.5v15a1.5 1.5 0 0 1-1.5 1.5h-15A1.5 1.5 0 0 1 1 17.5v-15A1.5 1.5 0 0 1 2.5 1zM2 2v16h16V2H2z" opacity=".6"/><path d="M18 7v1H2V7h16zm0 5v1H2v-1h16z" opacity=".6"/><path d="M14 1v18a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1V1a1 1 0 0 1 1-1h6a1 1 0 0 1 1 1zm-2 1H8v4h4V2zm0 6H8v4h4V8zm0 6H8v4h4v-4z"/></svg>'; }, function (t, e) { t.exports = '<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 1h15A1.5 1.5 0 0 1 19 2.5v15a1.5 1.5 0 0 1-1.5 1.5h-15A1.5 1.5 0 0 1 1 17.5v-15A1.5 1.5 0 0 1 2.5 1zM2 2v16h16V2H2z" opacity=".6"/><path d="M7 2h1v16H7V2zm5 0h1v16h-1V2z" opacity=".6"/><path d="M1 6h18a1 1 0 0 1 1 1v6a1 1 0 0 1-1 1H1a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1zm1 2v4h4V8H2zm6 0v4h4V8H8zm6 0v4h4V8h-4z"/></svg>'; }, function (t, e) { t.exports = '<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 1h15A1.5 1.5 0 0 1 19 2.5v15a1.5 1.5 0 0 1-1.5 1.5h-15A1.5 1.5 0 0 1 1 17.5v-15A1.5 1.5 0 0 1 2.5 1zM2 2v16h16V2H2z" opacity=".6"/><path d="M7 2h1v16H7V2zm5 0h1v7h-1V2zm6 5v1H2V7h16zM8 12v1H2v-1h6z" opacity=".6"/><path d="M7 7h12a1 1 0 0 1 1 1v11a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1V8a1 1 0 0 1 1-1zm1 2v9h10V9H8z"/></svg>'; }, function (t, e) { t.exports = '<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3 18v-1.5h14V18zM5.2 10V3.6c0-.4.4-.6.8-.6.3 0 .7.2.7.6v6.2c0 2 1.3 2.8 3.2 2.8 1.9 0 3.4-.9 3.4-2.9V3.6c0-.3.4-.5.8-.5.3 0 .7.2.7.5V10c0 2.7-2.2 4-4.9 4-2.6 0-4.7-1.2-4.7-4z"/></svg>'; }, function (t, e, n) { var i = n(70); "string" == typeof i && (i = [[t.i, i, ""]]); var o = { injectType: "singletonStyleTag", insert: "head", singleton: !0 }; n(1)(i, o); i.locals && (t.exports = i.locals); }, function (t, e) { t.exports = ".ck.ck-placeholder:before,.ck .ck-placeholder:before{content:attr(data-placeholder);pointer-events:none}.ck.ck-read-only .ck-placeholder:before{display:none}.ck.ck-placeholder:before,.ck .ck-placeholder:before{cursor:text;color:var(--ck-color-engine-placeholder-text)}"; }, function (t, e, n) { var i = n(72); "string" == typeof i && (i = [[t.i, i, ""]]); var o = { injectType: "singletonStyleTag", insert: "head", singleton: !0 }; n(1)(i, o); i.locals && (t.exports = i.locals); }, function (t, e) { t.exports = ".ck-hidden{display:none!important}.ck.ck-reset,.ck.ck-reset_all,.ck.ck-reset_all *{box-sizing:border-box;width:auto;height:auto;position:static}:root{--ck-z-default:1;--ck-z-modal:calc(var(--ck-z-default) + 999);--ck-color-base-foreground:#fafafa;--ck-color-base-background:#fff;--ck-color-base-border:#c4c4c4;--ck-color-base-action:#61b045;--ck-color-base-focus:#6cb5f9;--ck-color-base-text:#333;--ck-color-base-active:#198cf0;--ck-color-base-active-focus:#0e7fe1;--ck-color-base-error:#db3700;--ck-color-focus-border:#1f89e5;--ck-color-focus-outer-shadow:#bcdefb;--ck-color-focus-disabled-shadow:rgba(119,186,248,0.3);--ck-color-focus-error-shadow:rgba(255,64,31,0.3);--ck-color-text:var(--ck-color-base-text);--ck-color-shadow-drop:rgba(0,0,0,0.15);--ck-color-shadow-drop-active:rgba(0,0,0,0.2);--ck-color-shadow-inner:rgba(0,0,0,0.1);--ck-color-button-default-background:transparent;--ck-color-button-default-hover-background:#e6e6e6;--ck-color-button-default-active-background:#d9d9d9;--ck-color-button-default-active-shadow:#bfbfbf;--ck-color-button-default-disabled-background:transparent;--ck-color-button-on-background:#dedede;--ck-color-button-on-hover-background:#c4c4c4;--ck-color-button-on-active-background:#bababa;--ck-color-button-on-active-shadow:#a1a1a1;--ck-color-button-on-disabled-background:#dedede;--ck-color-button-action-background:var(--ck-color-base-action);--ck-color-button-action-hover-background:#579e3d;--ck-color-button-action-active-background:#53973b;--ck-color-button-action-active-shadow:#498433;--ck-color-button-action-disabled-background:#7ec365;--ck-color-button-action-text:var(--ck-color-base-background);--ck-color-button-save:#008a00;--ck-color-button-cancel:#db3700;--ck-color-switch-button-off-background:#b0b0b0;--ck-color-switch-button-off-hover-background:#a3a3a3;--ck-color-switch-button-on-background:var(--ck-color-button-action-background);--ck-color-switch-button-on-hover-background:#579e3d;--ck-color-switch-button-inner-background:var(--ck-color-base-background);--ck-color-switch-button-inner-shadow:rgba(0,0,0,0.1);--ck-color-dropdown-panel-background:var(--ck-color-base-background);--ck-color-dropdown-panel-border:var(--ck-color-base-border);--ck-color-input-background:var(--ck-color-base-background);--ck-color-input-border:#c7c7c7;--ck-color-input-error-border:var(--ck-color-base-error);--ck-color-input-text:var(--ck-color-base-text);--ck-color-input-disabled-background:#f2f2f2;--ck-color-input-disabled-border:#c7c7c7;--ck-color-input-disabled-text:#5c5c5c;--ck-color-list-background:var(--ck-color-base-background);--ck-color-list-button-hover-background:var(--ck-color-button-default-hover-background);--ck-color-list-button-on-background:var(--ck-color-base-active);--ck-color-list-button-on-background-focus:var(--ck-color-base-active-focus);--ck-color-list-button-on-text:var(--ck-color-base-background);--ck-color-panel-background:var(--ck-color-base-background);--ck-color-panel-border:var(--ck-color-base-border);--ck-color-toolbar-background:var(--ck-color-base-foreground);--ck-color-toolbar-border:var(--ck-color-base-border);--ck-color-tooltip-background:var(--ck-color-base-text);--ck-color-tooltip-text:var(--ck-color-base-background);--ck-color-engine-placeholder-text:#707070;--ck-color-upload-bar-background:#6cb5f9;--ck-color-link-default:#0000f0;--ck-color-link-selected-background:rgba(31,177,255,0.1);--ck-disabled-opacity:.5;--ck-focus-outer-shadow-geometry:0 0 0 3px;--ck-focus-outer-shadow:var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-outer-shadow);--ck-focus-disabled-outer-shadow:var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-disabled-shadow);--ck-focus-error-outer-shadow:var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-error-shadow);--ck-focus-ring:1px solid var(--ck-color-focus-border);--ck-font-size-base:13px;--ck-line-height-base:1.84615;--ck-font-face:Helvetica,Arial,Tahoma,Verdana,Sans-Serif;--ck-font-size-tiny:0.7em;--ck-font-size-small:0.75em;--ck-font-size-normal:1em;--ck-font-size-big:1.4em;--ck-font-size-large:1.8em;--ck-ui-component-min-height:2.3em}.ck.ck-reset,.ck.ck-reset_all,.ck.ck-reset_all *{margin:0;padding:0;border:0;background:transparent;text-decoration:none;vertical-align:middle;transition:none;word-wrap:break-word}.ck.ck-reset_all,.ck.ck-reset_all *{border-collapse:collapse;font:normal normal normal var(--ck-font-size-base)/var(--ck-line-height-base) var(--ck-font-face);color:var(--ck-color-text);text-align:left;white-space:nowrap;cursor:auto;float:none}.ck.ck-reset_all .ck-rtl *{text-align:right}.ck.ck-reset_all iframe{vertical-align:inherit}.ck.ck-reset_all textarea{white-space:pre-wrap}.ck.ck-reset_all input[type=password],.ck.ck-reset_all input[type=text],.ck.ck-reset_all textarea{cursor:text}.ck.ck-reset_all input[type=password][disabled],.ck.ck-reset_all input[type=text][disabled],.ck.ck-reset_all textarea[disabled]{cursor:default}.ck.ck-reset_all fieldset{padding:10px;border:2px groove #dfdee3}.ck.ck-reset_all button::-moz-focus-inner{padding:0;border:0}.ck[dir=rtl],.ck[dir=rtl] .ck{text-align:right}:root{--ck-border-radius:2px;--ck-inner-shadow:2px 2px 3px var(--ck-color-shadow-inner) inset;--ck-drop-shadow:0 1px 2px 1px var(--ck-color-shadow-drop);--ck-drop-shadow-active:0 3px 6px 1px var(--ck-color-shadow-drop-active);--ck-spacing-unit:0.6em;--ck-spacing-large:calc(var(--ck-spacing-unit)*1.5);--ck-spacing-standard:var(--ck-spacing-unit);--ck-spacing-medium:calc(var(--ck-spacing-unit)*0.8);--ck-spacing-small:calc(var(--ck-spacing-unit)*0.5);--ck-spacing-tiny:calc(var(--ck-spacing-unit)*0.3);--ck-spacing-extra-tiny:calc(var(--ck-spacing-unit)*0.16)}"; }, function (t, e, n) { var i = n(74); "string" == typeof i && (i = [[t.i, i, ""]]); var o = { injectType: "singletonStyleTag", insert: "head", singleton: !0 }; n(1)(i, o); i.locals && (t.exports = i.locals); }, function (t, e) { t.exports = ".ck.ck-editor__editable:not(.ck-editor__nested-editable){border-radius:0}.ck-rounded-corners .ck.ck-editor__editable:not(.ck-editor__nested-editable),.ck.ck-editor__editable:not(.ck-editor__nested-editable).ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-editor__editable:not(.ck-editor__nested-editable).ck-focused{outline:none;border:var(--ck-focus-ring);box-shadow:var(--ck-inner-shadow),0 0}.ck.ck-editor__editable_inline{overflow:auto;padding:0 var(--ck-spacing-standard);border:1px solid transparent}.ck.ck-editor__editable_inline[dir=ltr]{text-align:left}.ck.ck-editor__editable_inline[dir=rtl]{text-align:right}.ck.ck-editor__editable_inline>:first-child{margin-top:var(--ck-spacing-large)}.ck.ck-editor__editable_inline>:last-child{margin-bottom:var(--ck-spacing-large)}.ck.ck-balloon-panel.ck-toolbar-container[class*=arrow_n]:after{border-bottom-color:var(--ck-color-base-foreground)}.ck.ck-balloon-panel.ck-toolbar-container[class*=arrow_s]:after{border-top-color:var(--ck-color-base-foreground)}"; }, function (t, e, n) { var i = n(76); "string" == typeof i && (i = [[t.i, i, ""]]); var o = { injectType: "singletonStyleTag", insert: "head", singleton: !0 }; n(1)(i, o); i.locals && (t.exports = i.locals); }, function (t, e) { t.exports = ".ck.ck-label{display:block}.ck.ck-voice-label{display:none}.ck.ck-label{font-weight:700}"; }, function (t, e, n) { var i = n(78); "string" == typeof i && (i = [[t.i, i, ""]]); var o = { injectType: "singletonStyleTag", insert: "head", singleton: !0 }; n(1)(i, o); i.locals && (t.exports = i.locals); }, function (t, e) { t.exports = ".ck.ck-sticky-panel .ck-sticky-panel__content_sticky{z-index:var(--ck-z-modal);position:fixed;top:0}.ck.ck-sticky-panel .ck-sticky-panel__content_sticky_bottom-limit{top:auto;position:absolute}.ck.ck-sticky-panel .ck-sticky-panel__content_sticky{box-shadow:var(--ck-drop-shadow),0 0;border-width:0 1px 1px;border-top-left-radius:0;border-top-right-radius:0}"; }, function (t, e, n) { var i = n(80); "string" == typeof i && (i = [[t.i, i, ""]]); var o = { injectType: "singletonStyleTag", insert: "head", singleton: !0 }; n(1)(i, o); i.locals && (t.exports = i.locals); }, function (t, e) { t.exports = ".ck.ck-dropdown{display:inline-block;position:relative}.ck.ck-dropdown .ck-dropdown__arrow{pointer-events:none;z-index:var(--ck-z-default)}.ck.ck-dropdown .ck-button.ck-dropdown__button{width:100%}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-on .ck-tooltip{display:none}.ck.ck-dropdown .ck-dropdown__panel{-webkit-backface-visibility:hidden;display:none;z-index:var(--ck-z-modal);position:absolute}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel-visible{display:inline-block}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_ne,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nw{bottom:100%}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_se,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_sw{top:100%;bottom:auto}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_ne,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_se{left:0}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nw,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_sw{right:0}:root{--ck-dropdown-arrow-size:calc(0.5*var(--ck-icon-size))}.ck.ck-dropdown{font-size:inherit}.ck.ck-dropdown .ck-dropdown__arrow{width:var(--ck-dropdown-arrow-size)}[dir=ltr] .ck.ck-dropdown .ck-dropdown__arrow{right:var(--ck-spacing-standard);margin-left:var(--ck-spacing-small)}[dir=rtl] .ck.ck-dropdown .ck-dropdown__arrow{left:var(--ck-spacing-standard);margin-right:var(--ck-spacing-small)}.ck.ck-dropdown.ck-disabled .ck-dropdown__arrow{opacity:var(--ck-disabled-opacity)}[dir=ltr] .ck.ck-dropdown .ck-button.ck-dropdown__button:not(.ck-button_with-text){padding-left:var(--ck-spacing-small)}[dir=rtl] .ck.ck-dropdown .ck-button.ck-dropdown__button:not(.ck-button_with-text){padding-right:var(--ck-spacing-small)}.ck.ck-dropdown .ck-button.ck-dropdown__button .ck-button__label{width:7em;overflow:hidden;text-overflow:ellipsis}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-disabled .ck-button__label{opacity:var(--ck-disabled-opacity)}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-on{border-bottom-left-radius:0;border-bottom-right-radius:0}.ck.ck-dropdown__panel{box-shadow:var(--ck-drop-shadow),0 0;border-radius:0}.ck-rounded-corners .ck.ck-dropdown__panel,.ck.ck-dropdown__panel.ck-rounded-corners{border-radius:var(--ck-border-radius);border-top-left-radius:0}.ck.ck-dropdown__panel{background:var(--ck-color-dropdown-panel-background);border:1px solid var(--ck-color-dropdown-panel-border);bottom:0;min-width:100%}"; }, function (t, e, n) { var i = n(82); "string" == typeof i && (i = [[t.i, i, ""]]); var o = { injectType: "singletonStyleTag", insert: "head", singleton: !0 }; n(1)(i, o); i.locals && (t.exports = i.locals); }, function (t, e) { t.exports = ".ck.ck-icon{vertical-align:middle}:root{--ck-icon-size:calc(var(--ck-line-height-base)*var(--ck-font-size-normal))}.ck.ck-icon{width:var(--ck-icon-size);height:var(--ck-icon-size);font-size:.8333350694em;will-change:transform}.ck.ck-icon,.ck.ck-icon *{color:inherit;cursor:inherit}.ck.ck-icon :not([fill]){fill:currentColor}"; }, function (t, e, n) { var i = n(84); "string" == typeof i && (i = [[t.i, i, ""]]); var o = { injectType: "singletonStyleTag", insert: "head", singleton: !0 }; n(1)(i, o); i.locals && (t.exports = i.locals); }, function (t, e) { t.exports = '.ck.ck-tooltip,.ck.ck-tooltip .ck-tooltip__text:after{position:absolute;pointer-events:none;-webkit-backface-visibility:hidden}.ck.ck-tooltip{visibility:hidden;opacity:0;display:none;z-index:var(--ck-z-modal)}.ck.ck-tooltip .ck-tooltip__text{display:inline-block}.ck.ck-tooltip .ck-tooltip__text:after{content:"";width:0;height:0}:root{--ck-tooltip-arrow-size:5px}.ck.ck-tooltip{left:50%;top:0;transition:opacity .2s ease-in-out .2s}.ck.ck-tooltip .ck-tooltip__text{border-radius:0}.ck-rounded-corners .ck.ck-tooltip .ck-tooltip__text,.ck.ck-tooltip .ck-tooltip__text.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-tooltip .ck-tooltip__text{font-size:.9em;line-height:1.5;color:var(--ck-color-tooltip-text);padding:var(--ck-spacing-small) var(--ck-spacing-medium);background:var(--ck-color-tooltip-background);position:relative;left:-50%}.ck.ck-tooltip .ck-tooltip__text:after{transition:opacity .2s ease-in-out .2s;border-style:solid;left:50%}.ck.ck-tooltip.ck-tooltip_s{bottom:calc(-1*var(--ck-tooltip-arrow-size));transform:translateY(100%)}.ck.ck-tooltip.ck-tooltip_s .ck-tooltip__text:after{top:calc(-1*var(--ck-tooltip-arrow-size));transform:translateX(-50%);border-left-color:transparent;border-bottom-color:var(--ck-color-tooltip-background);border-right-color:transparent;border-top-color:transparent;border-left-width:var(--ck-tooltip-arrow-size);border-bottom-width:var(--ck-tooltip-arrow-size);border-right-width:var(--ck-tooltip-arrow-size);border-top-width:0}.ck.ck-tooltip.ck-tooltip_n{top:calc(-1*var(--ck-tooltip-arrow-size));transform:translateY(-100%)}.ck.ck-tooltip.ck-tooltip_n .ck-tooltip__text:after{bottom:calc(-1*var(--ck-tooltip-arrow-size));transform:translateX(-50%);border-left-color:transparent;border-bottom-color:transparent;border-right-color:transparent;border-top-color:var(--ck-color-tooltip-background);border-left-width:var(--ck-tooltip-arrow-size);border-bottom-width:0;border-right-width:var(--ck-tooltip-arrow-size);border-top-width:var(--ck-tooltip-arrow-size)}'; }, function (t, e, n) { var i = n(86); "string" == typeof i && (i = [[t.i, i, ""]]); var o = { injectType: "singletonStyleTag", insert: "head", singleton: !0 }; n(1)(i, o); i.locals && (t.exports = i.locals); }, function (t, e) { t.exports = ".ck.ck-button,a.ck.ck-button{-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none}.ck.ck-button .ck-tooltip,a.ck.ck-button .ck-tooltip{display:block}@media (hover:none){.ck.ck-button .ck-tooltip,a.ck.ck-button .ck-tooltip{display:none}}.ck.ck-button,a.ck.ck-button{position:relative;display:inline-flex;align-items:center;justify-content:left}.ck.ck-button .ck-button__label,a.ck.ck-button .ck-button__label{display:none}.ck.ck-button.ck-button_with-text .ck-button__label,a.ck.ck-button.ck-button_with-text .ck-button__label{display:inline-block}.ck.ck-button:not(.ck-button_with-text),a.ck.ck-button:not(.ck-button_with-text){justify-content:center}.ck.ck-button:hover .ck-tooltip,a.ck.ck-button:hover .ck-tooltip{visibility:visible;opacity:1}.ck.ck-button:focus:not(:hover) .ck-tooltip,a.ck.ck-button:focus:not(:hover) .ck-tooltip{display:none}.ck.ck-button,a.ck.ck-button{background:var(--ck-color-button-default-background)}.ck.ck-button:not(.ck-disabled):hover,a.ck.ck-button:not(.ck-disabled):hover{background:var(--ck-color-button-default-hover-background)}.ck.ck-button:not(.ck-disabled):active,a.ck.ck-button:not(.ck-disabled):active{background:var(--ck-color-button-default-active-background);box-shadow:inset 0 2px 2px var(--ck-color-button-default-active-shadow)}.ck.ck-button.ck-disabled,a.ck.ck-button.ck-disabled{background:var(--ck-color-button-default-disabled-background)}.ck.ck-button,a.ck.ck-button{border-radius:0}.ck-rounded-corners .ck.ck-button,.ck-rounded-corners a.ck.ck-button,.ck.ck-button.ck-rounded-corners,a.ck.ck-button.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-button,a.ck.ck-button{white-space:nowrap;cursor:default;vertical-align:middle;padding:var(--ck-spacing-tiny);text-align:center;min-width:var(--ck-ui-component-min-height);min-height:var(--ck-ui-component-min-height);line-height:1;font-size:inherit;border:1px solid transparent;transition:box-shadow .2s ease-in-out,border .2s ease-in-out;-webkit-appearance:none}.ck.ck-button:active,.ck.ck-button:focus,a.ck.ck-button:active,a.ck.ck-button:focus{outline:none;border:var(--ck-focus-ring);box-shadow:var(--ck-focus-outer-shadow),0 0}.ck.ck-button .ck-button__icon use,.ck.ck-button .ck-button__icon use *,a.ck.ck-button .ck-button__icon use,a.ck.ck-button .ck-button__icon use *{color:inherit}.ck.ck-button .ck-button__label,a.ck.ck-button .ck-button__label{font-size:inherit;font-weight:inherit;color:inherit;cursor:inherit;vertical-align:middle}[dir=ltr] .ck.ck-button .ck-button__label,[dir=ltr] a.ck.ck-button .ck-button__label{text-align:left}[dir=rtl] .ck.ck-button .ck-button__label,[dir=rtl] a.ck.ck-button .ck-button__label{text-align:right}.ck.ck-button .ck-button__keystroke,a.ck.ck-button .ck-button__keystroke{color:inherit}[dir=ltr] .ck.ck-button .ck-button__keystroke,[dir=ltr] a.ck.ck-button .ck-button__keystroke{margin-left:var(--ck-spacing-large)}[dir=rtl] .ck.ck-button .ck-button__keystroke,[dir=rtl] a.ck.ck-button .ck-button__keystroke{margin-right:var(--ck-spacing-large)}.ck.ck-button .ck-button__keystroke,a.ck.ck-button .ck-button__keystroke{font-weight:700;opacity:.7}.ck.ck-button.ck-disabled:active,.ck.ck-button.ck-disabled:focus,a.ck.ck-button.ck-disabled:active,a.ck.ck-button.ck-disabled:focus{box-shadow:var(--ck-focus-disabled-outer-shadow),0 0}.ck.ck-button.ck-disabled .ck-button__icon,a.ck.ck-button.ck-disabled .ck-button__icon{opacity:var(--ck-disabled-opacity)}.ck.ck-button.ck-disabled .ck-button__label,a.ck.ck-button.ck-disabled .ck-button__label{opacity:var(--ck-disabled-opacity)}.ck.ck-button.ck-disabled .ck-button__keystroke,a.ck.ck-button.ck-disabled .ck-button__keystroke{opacity:.3}.ck.ck-button.ck-button_with-text,a.ck.ck-button.ck-button_with-text{padding:var(--ck-spacing-tiny) var(--ck-spacing-standard)}[dir=ltr] .ck.ck-button.ck-button_with-text .ck-button__icon,[dir=ltr] a.ck.ck-button.ck-button_with-text .ck-button__icon{margin-left:calc(-1*var(--ck-spacing-small));margin-right:var(--ck-spacing-small)}[dir=rtl] .ck.ck-button.ck-button_with-text .ck-button__icon,[dir=rtl] a.ck.ck-button.ck-button_with-text .ck-button__icon{margin-right:calc(-1*var(--ck-spacing-small));margin-left:var(--ck-spacing-small)}.ck.ck-button.ck-button_with-keystroke .ck-button__label,a.ck.ck-button.ck-button_with-keystroke .ck-button__label{flex-grow:1}.ck.ck-button.ck-on,a.ck.ck-button.ck-on{background:var(--ck-color-button-on-background)}.ck.ck-button.ck-on:not(.ck-disabled):hover,a.ck.ck-button.ck-on:not(.ck-disabled):hover{background:var(--ck-color-button-on-hover-background)}.ck.ck-button.ck-on:not(.ck-disabled):active,a.ck.ck-button.ck-on:not(.ck-disabled):active{background:var(--ck-color-button-on-active-background);box-shadow:inset 0 2px 2px var(--ck-color-button-on-active-shadow)}.ck.ck-button.ck-on.ck-disabled,a.ck.ck-button.ck-on.ck-disabled{background:var(--ck-color-button-on-disabled-background)}.ck.ck-button.ck-button-save,a.ck.ck-button.ck-button-save{color:var(--ck-color-button-save)}.ck.ck-button.ck-button-cancel,a.ck.ck-button.ck-button-cancel{color:var(--ck-color-button-cancel)}.ck.ck-button-action,a.ck.ck-button-action{background:var(--ck-color-button-action-background)}.ck.ck-button-action:not(.ck-disabled):hover,a.ck.ck-button-action:not(.ck-disabled):hover{background:var(--ck-color-button-action-hover-background)}.ck.ck-button-action:not(.ck-disabled):active,a.ck.ck-button-action:not(.ck-disabled):active{background:var(--ck-color-button-action-active-background);box-shadow:inset 0 2px 2px var(--ck-color-button-action-active-shadow)}.ck.ck-button-action.ck-disabled,a.ck.ck-button-action.ck-disabled{background:var(--ck-color-button-action-disabled-background)}.ck.ck-button-action,a.ck.ck-button-action{color:var(--ck-color-button-action-text)}.ck.ck-button-bold,a.ck.ck-button-bold{font-weight:700}"; }, function (t, e, n) { var i = n(88); "string" == typeof i && (i = [[t.i, i, ""]]); var o = { injectType: "singletonStyleTag", insert: "head", singleton: !0 }; n(1)(i, o); i.locals && (t.exports = i.locals); }, function (t, e) { t.exports = ".ck.ck-list{-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none;display:flex;flex-direction:column}.ck.ck-list .ck-list__item,.ck.ck-list .ck-list__separator{display:block}.ck.ck-list .ck-list__item>:focus{position:relative;z-index:var(--ck-z-default)}.ck.ck-list{border-radius:0}.ck-rounded-corners .ck.ck-list,.ck.ck-list.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-list{list-style-type:none;background:var(--ck-color-list-background)}.ck.ck-list__item{cursor:default;min-width:12em}.ck.ck-list__item .ck-button{min-height:unset;width:100%;text-align:left;border-radius:0;padding:calc(0.2*var(--ck-line-height-base)*var(--ck-font-size-base)) calc(0.4*var(--ck-line-height-base)*var(--ck-font-size-base))}.ck.ck-list__item .ck-button .ck-button__label{line-height:calc(1.2*var(--ck-line-height-base)*var(--ck-font-size-base))}.ck.ck-list__item .ck-button:active{box-shadow:none}.ck.ck-list__item .ck-button.ck-on{background:var(--ck-color-list-button-on-background);color:var(--ck-color-list-button-on-text)}.ck.ck-list__item .ck-button.ck-on:active{box-shadow:none}.ck.ck-list__item .ck-button.ck-on:hover:not(.ck-disabled){background:var(--ck-color-list-button-on-background-focus)}.ck.ck-list__item .ck-button.ck-on:focus:not(.ck-disabled){border-color:var(--ck-color-base-background)}.ck.ck-list__item .ck-button:hover:not(.ck-disabled){background:var(--ck-color-list-button-hover-background)}.ck.ck-list__item .ck-switchbutton.ck-on{background:var(--ck-color-list-background);color:inherit}.ck.ck-list__item .ck-switchbutton.ck-on:hover:not(.ck-disabled){background:var(--ck-color-list-button-hover-background);color:inherit}.ck.ck-list__separator{height:1px;width:100%;background:var(--ck-color-base-border)}"; }, function (t, e, n) { var i = n(90); "string" == typeof i && (i = [[t.i, i, ""]]); var o = { injectType: "singletonStyleTag", insert: "head", singleton: !0 }; n(1)(i, o); i.locals && (t.exports = i.locals); }, function (t, e) { t.exports = ".ck.ck-button.ck-switchbutton .ck-button__toggle,.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner{display:block}:root{--ck-switch-button-toggle-width:2.6153846154em;--ck-switch-button-toggle-inner-size:1.0769230769em;--ck-switch-button-toggle-spacing:1px;--ck-switch-button-translation:1.3846153847em}[dir=ltr] .ck.ck-button.ck-switchbutton .ck-button__label{margin-right:calc(2*var(--ck-spacing-large))}[dir=rtl] .ck.ck-button.ck-switchbutton .ck-button__label{margin-left:calc(2*var(--ck-spacing-large))}.ck.ck-button.ck-switchbutton .ck-button__toggle{border-radius:0}.ck-rounded-corners .ck.ck-button.ck-switchbutton .ck-button__toggle,.ck.ck-button.ck-switchbutton .ck-button__toggle.ck-rounded-corners{border-radius:var(--ck-border-radius)}[dir=ltr] .ck.ck-button.ck-switchbutton .ck-button__toggle{margin-left:auto}[dir=rtl] .ck.ck-button.ck-switchbutton .ck-button__toggle{margin-right:auto}.ck.ck-button.ck-switchbutton .ck-button__toggle{transition:background .4s ease;width:var(--ck-switch-button-toggle-width);background:var(--ck-color-switch-button-off-background)}.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner{border-radius:0}.ck-rounded-corners .ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner,.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner.ck-rounded-corners{border-radius:var(--ck-border-radius);border-radius:calc(0.5*var(--ck-border-radius))}.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner{margin:var(--ck-switch-button-toggle-spacing);width:var(--ck-switch-button-toggle-inner-size);height:var(--ck-switch-button-toggle-inner-size);background:var(--ck-color-switch-button-inner-background);transition:all .3s ease}.ck.ck-button.ck-switchbutton .ck-button__toggle:hover{background:var(--ck-color-switch-button-off-hover-background)}.ck.ck-button.ck-switchbutton .ck-button__toggle:hover .ck-button__toggle__inner{box-shadow:0 0 0 5px var(--ck-color-switch-button-inner-shadow)}.ck.ck-button.ck-switchbutton.ck-disabled .ck-button__toggle{opacity:var(--ck-disabled-opacity)}.ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle{background:var(--ck-color-switch-button-on-background)}.ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle:hover{background:var(--ck-color-switch-button-on-hover-background)}[dir=ltr] .ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle .ck-button__toggle__inner{transform:translateX(var(--ck-switch-button-translation))}[dir=rtl] .ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle .ck-button__toggle__inner{transform:translateX(calc(-1*var(--ck-switch-button-translation)))}"; }, function (t, e, n) { var i = n(92); "string" == typeof i && (i = [[t.i, i, ""]]); var o = { injectType: "singletonStyleTag", insert: "head", singleton: !0 }; n(1)(i, o); i.locals && (t.exports = i.locals); }, function (t, e) { t.exports = ".ck.ck-toolbar-dropdown .ck.ck-toolbar .ck.ck-toolbar__items{flex-wrap:nowrap}.ck.ck-toolbar-dropdown .ck-dropdown__panel .ck-button:focus{z-index:calc(var(--ck-z-default) + 1)}.ck.ck-toolbar-dropdown .ck-toolbar{border:0}"; }, function (t, e, n) { var i = n(94); "string" == typeof i && (i = [[t.i, i, ""]]); var o = { injectType: "singletonStyleTag", insert: "head", singleton: !0 }; n(1)(i, o); i.locals && (t.exports = i.locals); }, function (t, e) { t.exports = ".ck.ck-dropdown .ck-dropdown__panel .ck-list{border-radius:0}.ck-rounded-corners .ck.ck-dropdown .ck-dropdown__panel .ck-list,.ck.ck-dropdown .ck-dropdown__panel .ck-list.ck-rounded-corners{border-radius:var(--ck-border-radius);border-top-left-radius:0}.ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:first-child .ck-button{border-radius:0}.ck-rounded-corners .ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:first-child .ck-button,.ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:first-child .ck-button.ck-rounded-corners{border-radius:var(--ck-border-radius);border-top-left-radius:0;border-bottom-left-radius:0;border-bottom-right-radius:0}.ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:last-child .ck-button{border-radius:0}.ck-rounded-corners .ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:last-child .ck-button,.ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:last-child .ck-button.ck-rounded-corners{border-radius:var(--ck-border-radius);border-top-left-radius:0;border-top-right-radius:0}"; }, function (t, e, n) { var i = n(96); "string" == typeof i && (i = [[t.i, i, ""]]); var o = { injectType: "singletonStyleTag", insert: "head", singleton: !0 }; n(1)(i, o); i.locals && (t.exports = i.locals); }, function (t, e) { t.exports = ".ck.ck-toolbar{-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none;display:flex;flex-flow:row nowrap;align-items:center}.ck.ck-toolbar>.ck-toolbar__items{display:flex;flex-flow:row wrap;align-items:center;flex-grow:1}.ck.ck-toolbar .ck.ck-toolbar__separator{display:inline-block}.ck.ck-toolbar .ck.ck-toolbar__separator:first-child,.ck.ck-toolbar .ck.ck-toolbar__separator:last-child{display:none}.ck.ck-toolbar.ck-toolbar_grouping>.ck-toolbar__items{flex-wrap:nowrap}.ck.ck-toolbar.ck-toolbar_vertical>.ck-toolbar__items{flex-direction:column}.ck.ck-toolbar.ck-toolbar_floating>.ck-toolbar__items{flex-wrap:nowrap}.ck.ck-toolbar>.ck.ck-toolbar__grouped-dropdown>.ck-dropdown__button .ck-dropdown__arrow{display:none}.ck.ck-toolbar{border-radius:0}.ck-rounded-corners .ck.ck-toolbar,.ck.ck-toolbar.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-toolbar{background:var(--ck-color-toolbar-background);padding:0 var(--ck-spacing-small);border:1px solid var(--ck-color-toolbar-border)}.ck.ck-toolbar>.ck-toolbar__items>*{margin-top:var(--ck-spacing-small);margin-bottom:var(--ck-spacing-small);margin-right:var(--ck-spacing-small)}.ck.ck-toolbar.ck-toolbar_vertical{padding:0}.ck.ck-toolbar.ck-toolbar_vertical>.ck-toolbar__items>.ck{width:100%;margin:0;border-radius:0;border:0}.ck.ck-toolbar>.ck-toolbar__items>*,.ck.ck-toolbar>.ck.ck-toolbar__grouped-dropdown{margin-top:var(--ck-spacing-small);margin-bottom:var(--ck-spacing-small)}.ck.ck-toolbar>.ck.ck-toolbar__grouped-dropdown>.ck.ck-button.ck-dropdown__button{padding-left:var(--ck-spacing-tiny)}.ck.ck-toolbar .ck.ck-toolbar__separator{align-self:stretch;width:1px;min-width:1px;margin-top:0;margin-bottom:0;background:var(--ck-color-toolbar-border)}.ck-toolbar-container .ck.ck-toolbar{border:0}.ck.ck-toolbar[dir=rtl]>.ck.ck-toolbar__grouped-dropdown,[dir=rtl] .ck.ck-toolbar>.ck.ck-toolbar__grouped-dropdown{padding-right:var(--ck-spacing-small)}.ck.ck-toolbar[dir=rtl]>.ck.ck-toolbar__items>*,[dir=rtl] .ck.ck-toolbar>.ck.ck-toolbar__items>*{margin-left:var(--ck-spacing-small);margin-right:0}.ck.ck-toolbar[dir=rtl]>.ck.ck-toolbar__items>:last-child,[dir=rtl] .ck.ck-toolbar>.ck.ck-toolbar__items>:last-child{margin-left:0}.ck.ck-toolbar[dir=rtl].ck-toolbar_grouping>.ck-toolbar__items,[dir=rtl] .ck.ck-toolbar.ck-toolbar_grouping>.ck-toolbar__items{margin-left:var(--ck-spacing-small)}.ck.ck-toolbar[dir=ltr]>.ck.ck-toolbar__grouped-dropdown,[dir=ltr] .ck.ck-toolbar>.ck.ck-toolbar__grouped-dropdown{padding-left:var(--ck-spacing-small)}.ck.ck-toolbar[dir=ltr]>.ck.ck-toolbar__items>:last-child,[dir=ltr] .ck.ck-toolbar>.ck.ck-toolbar__items>:last-child{margin-right:0}.ck.ck-toolbar[dir=ltr].ck-toolbar_grouping>.ck-toolbar__items,[dir=ltr] .ck.ck-toolbar.ck-toolbar_grouping>.ck-toolbar__items{margin-right:var(--ck-spacing-small)}"; }, function (t, e, n) { var i = n(98); "string" == typeof i && (i = [[t.i, i, ""]]); var o = { injectType: "singletonStyleTag", insert: "head", singleton: !0 }; n(1)(i, o); i.locals && (t.exports = i.locals); }, function (t, e) { t.exports = ".ck.ck-editor{position:relative}.ck.ck-editor .ck-editor__top .ck-sticky-panel .ck-toolbar{z-index:var(--ck-z-modal)}.ck.ck-editor__top .ck-sticky-panel .ck-toolbar{border-radius:0}.ck-rounded-corners .ck.ck-editor__top .ck-sticky-panel .ck-toolbar,.ck.ck-editor__top .ck-sticky-panel .ck-toolbar.ck-rounded-corners{border-radius:var(--ck-border-radius);border-bottom-left-radius:0;border-bottom-right-radius:0}.ck.ck-editor__top .ck-sticky-panel .ck-toolbar{border-bottom-width:0}.ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content_sticky .ck-toolbar{border-bottom-width:1px;border-radius:0}.ck-rounded-corners .ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content_sticky .ck-toolbar,.ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content_sticky .ck-toolbar.ck-rounded-corners{border-radius:var(--ck-border-radius);border-radius:0}.ck.ck-editor__main>.ck-editor__editable{background:var(--ck-color-base-background);border-radius:0}.ck-rounded-corners .ck.ck-editor__main>.ck-editor__editable,.ck.ck-editor__main>.ck-editor__editable.ck-rounded-corners{border-radius:var(--ck-border-radius);border-top-left-radius:0;border-top-right-radius:0}.ck.ck-editor__main>.ck-editor__editable:not(.ck-focused){border-color:var(--ck-color-base-border)}"; }, function (t, e, n) { var i = n(100); "string" == typeof i && (i = [[t.i, i, ""]]); var o = { injectType: "singletonStyleTag", insert: "head", singleton: !0 }; n(1)(i, o); i.locals && (t.exports = i.locals); }, function (t, e) { t.exports = ":root{--ck-user-colors--0:#6d78e8;--ck-user-colors--0-alpha:rgba(109,120,232,0.15);--ck-user-colors--1:#007a6c;--ck-user-colors--1-alpha:rgba(0,122,108,0.15);--ck-user-colors--2:#ba4545;--ck-user-colors--2-alpha:rgba(186,69,69,0.15);--ck-user-colors--3:#5635b1;--ck-user-colors--3-alpha:rgba(86,53,177,0.15);--ck-user-colors--4:#548a2e;--ck-user-colors--4-alpha:rgba(84,138,46,0.15);--ck-user-colors--5:#c3185d;--ck-user-colors--5-alpha:rgba(195,24,93,0.15);--ck-user-colors--6:#ea4343;--ck-user-colors--6-alpha:rgba(234,67,67,0.15);--ck-user-colors--7:#0bc3d0;--ck-user-colors--7-alpha:rgba(11,195,208,0.15);--ck-user-dot-size:6px}.ck .ck-user__color--0{color:var(--ck-user-colors--0)}.ck .ck-user__bg-color--0{background-color:var(--ck-user-colors--0)}.ck .ck-user__selection--0{background-color:var(--ck-user-colors--0-alpha)}.ck .ck-user__selection--0.ck-widget{background-color:transparent;border:3px solid var(--ck-user-colors--0)}.ck .ck-user__marker--0,.ck .ck-user__marker--0 .ck-user__marker-dot,.ck .ck-user__marker--0:after{background-color:var(--ck-user-colors--0)}.ck .ck-user__marker--0 .ck-user__marker-line{border:1px solid var(--ck-user-colors--0)}.ck .ck-user__color--1{color:var(--ck-user-colors--1)}.ck .ck-user__bg-color--1{background-color:var(--ck-user-colors--1)}.ck .ck-user__selection--1{background-color:var(--ck-user-colors--1-alpha)}.ck .ck-user__selection--1.ck-widget{background-color:transparent;border:3px solid var(--ck-user-colors--1)}.ck .ck-user__marker--1,.ck .ck-user__marker--1 .ck-user__marker-dot,.ck .ck-user__marker--1:after{background-color:var(--ck-user-colors--1)}.ck .ck-user__marker--1 .ck-user__marker-line{border:1px solid var(--ck-user-colors--1)}.ck .ck-user__color--2{color:var(--ck-user-colors--2)}.ck .ck-user__bg-color--2{background-color:var(--ck-user-colors--2)}.ck .ck-user__selection--2{background-color:var(--ck-user-colors--2-alpha)}.ck .ck-user__selection--2.ck-widget{background-color:transparent;border:3px solid var(--ck-user-colors--2)}.ck .ck-user__marker--2,.ck .ck-user__marker--2 .ck-user__marker-dot,.ck .ck-user__marker--2:after{background-color:var(--ck-user-colors--2)}.ck .ck-user__marker--2 .ck-user__marker-line{border:1px solid var(--ck-user-colors--2)}.ck .ck-user__color--3{color:var(--ck-user-colors--3)}.ck .ck-user__bg-color--3{background-color:var(--ck-user-colors--3)}.ck .ck-user__selection--3{background-color:var(--ck-user-colors--3-alpha)}.ck .ck-user__selection--3.ck-widget{background-color:transparent;border:3px solid var(--ck-user-colors--3)}.ck .ck-user__marker--3,.ck .ck-user__marker--3 .ck-user__marker-dot,.ck .ck-user__marker--3:after{background-color:var(--ck-user-colors--3)}.ck .ck-user__marker--3 .ck-user__marker-line{border:1px solid var(--ck-user-colors--3)}.ck .ck-user__color--4{color:var(--ck-user-colors--4)}.ck .ck-user__bg-color--4{background-color:var(--ck-user-colors--4)}.ck .ck-user__selection--4{background-color:var(--ck-user-colors--4-alpha)}.ck .ck-user__selection--4.ck-widget{background-color:transparent;border:3px solid var(--ck-user-colors--4)}.ck .ck-user__marker--4,.ck .ck-user__marker--4 .ck-user__marker-dot,.ck .ck-user__marker--4:after{background-color:var(--ck-user-colors--4)}.ck .ck-user__marker--4 .ck-user__marker-line{border:1px solid var(--ck-user-colors--4)}.ck .ck-user__color--5{color:var(--ck-user-colors--5)}.ck .ck-user__bg-color--5{background-color:var(--ck-user-colors--5)}.ck .ck-user__selection--5{background-color:var(--ck-user-colors--5-alpha)}.ck .ck-user__selection--5.ck-widget{background-color:transparent;border:3px solid var(--ck-user-colors--5)}.ck .ck-user__marker--5,.ck .ck-user__marker--5 .ck-user__marker-dot,.ck .ck-user__marker--5:after{background-color:var(--ck-user-colors--5)}.ck .ck-user__marker--5 .ck-user__marker-line{border:1px solid var(--ck-user-colors--5)}.ck .ck-user__color--6{color:var(--ck-user-colors--6)}.ck .ck-user__bg-color--6{background-color:var(--ck-user-colors--6)}.ck .ck-user__selection--6{background-color:var(--ck-user-colors--6-alpha)}.ck .ck-user__selection--6.ck-widget{background-color:transparent;border:3px solid var(--ck-user-colors--6)}.ck .ck-user__marker--6,.ck .ck-user__marker--6 .ck-user__marker-dot,.ck .ck-user__marker--6:after{background-color:var(--ck-user-colors--6)}.ck .ck-user__marker--6 .ck-user__marker-line{border:1px solid var(--ck-user-colors--6)}.ck .ck-user__color--7{color:var(--ck-user-colors--7)}.ck .ck-user__bg-color--7{background-color:var(--ck-user-colors--7)}.ck .ck-user__selection--7{background-color:var(--ck-user-colors--7-alpha)}.ck .ck-user__selection--7.ck-widget{background-color:transparent;border:3px solid var(--ck-user-colors--7)}.ck .ck-user__marker--7,.ck .ck-user__marker--7 .ck-user__marker-dot,.ck .ck-user__marker--7:after{background-color:var(--ck-user-colors--7)}.ck .ck-user__marker--7 .ck-user__marker-line{border:1px solid var(--ck-user-colors--7)}"; }, function (t, e, n) { var i = n(102); "string" == typeof i && (i = [[t.i, i, ""]]); var o = { injectType: "singletonStyleTag", insert: "head", singleton: !0 }; n(1)(i, o); i.locals && (t.exports = i.locals); }, function (t, e) { t.exports = ":root{--ck-color-comment-marker:#fef7a9;--ck-color-comment-marker-active:#fdf05d}.ck-comment-marker{background:var(--ck-color-comment-marker)}.ck-comment-marker.ck-widget{background-color:transparent;border:3px solid var(--ck-color-comment-marker)}.ck-comment-marker--active{background:var(--ck-color-comment-marker-active)}.ck-comment-marker--active.ck-widget{border-color:var(--ck-color-comment-marker-active)}.ck-comment-marker--active.ck-widget .ck-comment-marker{background-color:var(--ck-color-comment-marker)}.ck-comment-marker--active .ck-comment-marker{background:var(--ck-color-comment-marker-active)}"; }, function (t, e, n) { var i = n(104); "string" == typeof i && (i = [[t.i, i, ""]]); var o = { injectType: "singletonStyleTag", insert: "head", singleton: !0 }; n(1)(i, o); i.locals && (t.exports = i.locals); }, function (t, e) { t.exports = ':root{--ck-balloon-panel-arrow-z-index:calc(var(--ck-z-default) - 3)}.ck.ck-balloon-panel{display:none;position:absolute;z-index:var(--ck-z-modal)}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:after,.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:before{content:"";position:absolute}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:before{z-index:var(--ck-balloon-panel-arrow-z-index)}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:after{z-index:calc(var(--ck-balloon-panel-arrow-z-index) + 1)}.ck.ck-balloon-panel[class*=arrow_n]:before{z-index:var(--ck-balloon-panel-arrow-z-index)}.ck.ck-balloon-panel[class*=arrow_n]:after{z-index:calc(var(--ck-balloon-panel-arrow-z-index) + 1)}.ck.ck-balloon-panel[class*=arrow_s]:before{z-index:var(--ck-balloon-panel-arrow-z-index)}.ck.ck-balloon-panel[class*=arrow_s]:after{z-index:calc(var(--ck-balloon-panel-arrow-z-index) + 1)}.ck.ck-balloon-panel.ck-balloon-panel_visible{display:block}:root{--ck-balloon-arrow-offset:2px;--ck-balloon-arrow-height:10px;--ck-balloon-arrow-half-width:8px}.ck.ck-balloon-panel{border-radius:0}.ck-rounded-corners .ck.ck-balloon-panel,.ck.ck-balloon-panel.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-balloon-panel{box-shadow:var(--ck-drop-shadow),0 0;min-height:15px;background:var(--ck-color-panel-background);border:1px solid var(--ck-color-panel-border)}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:after,.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:before{width:0;height:0;border-style:solid}.ck.ck-balloon-panel[class*=arrow_n]:after,.ck.ck-balloon-panel[class*=arrow_n]:before{border-left-width:var(--ck-balloon-arrow-half-width);border-bottom-width:var(--ck-balloon-arrow-height);border-right-width:var(--ck-balloon-arrow-half-width);border-top-width:0}.ck.ck-balloon-panel[class*=arrow_n]:before{border-bottom-color:var(--ck-color-panel-border)}.ck.ck-balloon-panel[class*=arrow_n]:after,.ck.ck-balloon-panel[class*=arrow_n]:before{border-left-color:transparent;border-right-color:transparent;border-top-color:transparent}.ck.ck-balloon-panel[class*=arrow_n]:after{border-bottom-color:var(--ck-color-panel-background);margin-top:var(--ck-balloon-arrow-offset)}.ck.ck-balloon-panel[class*=arrow_s]:after,.ck.ck-balloon-panel[class*=arrow_s]:before{border-left-width:var(--ck-balloon-arrow-half-width);border-bottom-width:0;border-right-width:var(--ck-balloon-arrow-half-width);border-top-width:var(--ck-balloon-arrow-height)}.ck.ck-balloon-panel[class*=arrow_s]:before{border-top-color:var(--ck-color-panel-border)}.ck.ck-balloon-panel[class*=arrow_s]:after,.ck.ck-balloon-panel[class*=arrow_s]:before{border-left-color:transparent;border-bottom-color:transparent;border-right-color:transparent}.ck.ck-balloon-panel[class*=arrow_s]:after{border-top-color:var(--ck-color-panel-background);margin-bottom:var(--ck-balloon-arrow-offset)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_n:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_n:before{left:50%;margin-left:calc(-1*var(--ck-balloon-arrow-half-width));top:calc(-1*var(--ck-balloon-arrow-height))}.ck.ck-balloon-panel.ck-balloon-panel_arrow_nw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_nw:before{left:calc(2*var(--ck-balloon-arrow-half-width));top:calc(-1*var(--ck-balloon-arrow-height))}.ck.ck-balloon-panel.ck-balloon-panel_arrow_ne:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_ne:before{right:calc(2*var(--ck-balloon-arrow-half-width));top:calc(-1*var(--ck-balloon-arrow-height))}.ck.ck-balloon-panel.ck-balloon-panel_arrow_s:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_s:before{left:50%;margin-left:calc(-1*var(--ck-balloon-arrow-half-width));bottom:calc(-1*var(--ck-balloon-arrow-height))}.ck.ck-balloon-panel.ck-balloon-panel_arrow_sw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_sw:before{left:calc(2*var(--ck-balloon-arrow-half-width));bottom:calc(-1*var(--ck-balloon-arrow-height))}.ck.ck-balloon-panel.ck-balloon-panel_arrow_se:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_se:before{right:calc(2*var(--ck-balloon-arrow-half-width));bottom:calc(-1*var(--ck-balloon-arrow-height))}'; }, function (t, e, n) { var i = n(106); "string" == typeof i && (i = [[t.i, i, ""]]); var o = { injectType: "singletonStyleTag", insert: "head", singleton: !0 }; n(1)(i, o); i.locals && (t.exports = i.locals); }, function (t, e) { t.exports = ".ck .ck-balloon-rotator__navigation{display:flex;align-items:center;justify-content:center}.ck .ck-balloon-rotator__content .ck-toolbar{justify-content:center}.ck .ck-balloon-rotator__navigation{background:var(--ck-color-toolbar-background);border-bottom:1px solid var(--ck-color-toolbar-border);padding:0 var(--ck-spacing-small)}.ck .ck-balloon-rotator__navigation>*{margin-right:var(--ck-spacing-small);margin-top:var(--ck-spacing-small);margin-bottom:var(--ck-spacing-small)}.ck .ck-balloon-rotator__navigation .ck-balloon-rotator__counter{margin-right:var(--ck-spacing-standard);margin-left:var(--ck-spacing-small)}.ck .ck-balloon-rotator__content .ck.ck-annotation-wrapper{box-shadow:none}"; }, function (t, e, n) { var i = n(108); "string" == typeof i && (i = [[t.i, i, ""]]); var o = { injectType: "singletonStyleTag", insert: "head", singleton: !0 }; n(1)(i, o); i.locals && (t.exports = i.locals); }, function (t, e) { t.exports = ".ck .ck-fake-panel{position:absolute;z-index:calc(var(--ck-z-modal) - 1)}.ck .ck-fake-panel div{position:absolute}.ck .ck-fake-panel div:first-child{z-index:2}.ck .ck-fake-panel div:nth-child(2){z-index:1}:root{--ck-balloon-fake-panel-offset-horizontal:6px;--ck-balloon-fake-panel-offset-vertical:6px}.ck .ck-fake-panel div{box-shadow:var(--ck-drop-shadow),0 0;min-height:15px;background:var(--ck-color-panel-background);border:1px solid var(--ck-color-panel-border);border-radius:var(--ck-border-radius);width:100%;height:100%}.ck .ck-fake-panel div:first-child{margin-left:var(--ck-balloon-fake-panel-offset-horizontal);margin-top:var(--ck-balloon-fake-panel-offset-vertical)}.ck .ck-fake-panel div:nth-child(2){margin-left:calc(var(--ck-balloon-fake-panel-offset-horizontal)*2);margin-top:calc(var(--ck-balloon-fake-panel-offset-vertical)*2)}.ck .ck-fake-panel div:nth-child(3){margin-left:calc(var(--ck-balloon-fake-panel-offset-horizontal)*3);margin-top:calc(var(--ck-balloon-fake-panel-offset-vertical)*3)}.ck .ck-balloon-panel_arrow_s+.ck-fake-panel,.ck .ck-balloon-panel_arrow_se+.ck-fake-panel,.ck .ck-balloon-panel_arrow_sw+.ck-fake-panel{--ck-balloon-fake-panel-offset-vertical:-6px}"; }, function (t, e, n) { var i = n(110); "string" == typeof i && (i = [[t.i, i, ""]]); var o = { injectType: "singletonStyleTag", insert: "head", singleton: !0 }; n(1)(i, o); i.locals && (t.exports = i.locals); }, function (t, e) { t.exports = ":root{--ck-inline-annotation-container-width:300px;--ck-inline-annotation-container-max-height:400px}.ck.ck-balloon-panel .ck-annotation-wrapper{position:static;width:var(--ck-inline-annotation-container-width);max-height:var(--ck-inline-annotation-container-max-height);overflow-y:auto;overscroll-behavior-y:contain;overflow-x:hidden}.ck.ck-balloon-panel .ck-annotation{animation:none}.ck.ck-balloon-panel .ck-annotation-wrapper *{white-space:normal}.ck.ck-balloon-panel .ck-annotation-wrapper strong{font-weight:700}.ck.ck-balloon-panel .ck-annotation-wrapper i{font-style:italic}.ck.ck-balloon-panel button.ck-suggestion--accept .ck-tooltip__text,.ck.ck-balloon-panel button.ck-suggestion--discard .ck-tooltip__text{text-align:center}.ck.ck-balloon-panel button.ck-suggestion--discard .ck-tooltip{left:unset;right:0}.ck.ck-balloon-panel button.ck-suggestion--discard .ck-tooltip__text{left:unset}.ck.ck-balloon-panel button.ck-suggestion--discard .ck-tooltip__text:after{left:calc(100% - 10px)}"; }, function (t, e, n) { var i = n(112); "string" == typeof i && (i = [[t.i, i, ""]]); var o = { injectType: "singletonStyleTag", insert: "head", singleton: !0 }; n(1)(i, o); i.locals && (t.exports = i.locals); }, function (t, e) { t.exports = ":root{--ck-user-avatar-size:40px;--ck-user-avatar-background:#3670ab;--ck-user-avatar-color:#fff}.ck.ck-user{display:flex;justify-content:center;align-items:center;position:relative;border-radius:50%;overflow:hidden;background-color:var(--ck-user-avatar-background);height:var(--ck-user-avatar-size);width:var(--ck-user-avatar-size);min-width:var(--ck-user-avatar-size);min-height:var(--ck-user-avatar-size)}.ck.ck-user__name{color:var(--ck-user-avatar-color);cursor:default;-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none}.ck.ck-user__name.ck-user__name--hidden{display:none}.ck.ck-user__img{display:none;width:inherit;height:inherit;background-position:50%;background-repeat:no-repeat;background-size:cover;background-color:var(--ck-user-avatar-background);border-radius:50%;border:2px solid var(--ck-user-avatar-background)}.ck.ck-user__img.ck-user__anonymous{display:block;background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 20 20'%3E%3Cpath fill='%23FFF' d='M9.8 20H2c0-5.7 5-5.7 6-7l.2-.8c-1.6-.8-2.7-2.7-2.7-5 0-2.8 2-5.2 4.3-5.2S14 4.4 14 7.3c0 2.2-1 4-2.6 5l.2.6c1.2 1.3 6 1.4 6 7H9.8z'/%3E%3C/svg%3E\")}.ck.ck-user__img.ck-user__anonymous+.ck-user__name{display:none}.ck.ck-user__img.ck-user__avatar{display:block;background-color:#fff}.ck.ck-user__img.ck-user__img--hidden{display:none}"; }, function (t, e, n) { var i = n(7), o = n(115), r = n(17); t.exports = function (t) { var e = i(t); return r(e, o(e)) + 1; }; }, function (t, e) { t.exports = function (t) { var e = new Date(t.getTime()), n = e.getTimezoneOffset(); return e.setSeconds(0, 0), 6e4 * n + e.getTime() % 6e4; }; }, function (t, e, n) { var i = n(7); t.exports = function (t) { var e = i(t), n = new Date(0); return n.setFullYear(e.getFullYear(), 0, 1), n.setHours(0, 0, 0, 0), n; }; }, function (t, e, n) { var i = n(7); t.exports = function (t) { var e = i(t); return e.setHours(0, 0, 0, 0), e; }; }, function (t, e, n) { var i = n(7), o = n(16), r = n(119), s = 6048e5; t.exports = function (t) { var e = i(t), n = o(e).getTime() - r(e).getTime(); return Math.round(n / s) + 1; }; }, function (t, e, n) { var i = n(7); t.exports = function (t, e) { var n = e && Number(e.weekStartsOn) || 0, o = i(t), r = o.getDay(), s = (r < n ? 7 : 0) + r - n; return o.setDate(o.getDate() - s), o.setHours(0, 0, 0, 0), o; }; }, function (t, e, n) { var i = n(27), o = n(16); t.exports = function (t) { var e = i(t), n = new Date(0); return n.setFullYear(e, 0, 4), n.setHours(0, 0, 0, 0), o(n); }; }, function (t, e, n) { var i = n(26); t.exports = function (t) { if (i(t))
                    return !isNaN(t); throw new TypeError(toString.call(t) + " is not an instance of Date"); }; }, function (t, e, n) { var i = n(122), o = n(123); t.exports = { distanceInWords: i(), format: o() }; }, function (t, e) { t.exports = function () { var t = { lessThanXSeconds: { one: "less than a second", other: "less than {{count}} seconds" }, xSeconds: { one: "1 second", other: "{{count}} seconds" }, halfAMinute: "half a minute", lessThanXMinutes: { one: "less than a minute", other: "less than {{count}} minutes" }, xMinutes: { one: "1 minute", other: "{{count}} minutes" }, aboutXHours: { one: "about 1 hour", other: "about {{count}} hours" }, xHours: { one: "1 hour", other: "{{count}} hours" }, xDays: { one: "1 day", other: "{{count}} days" }, aboutXMonths: { one: "about 1 month", other: "about {{count}} months" }, xMonths: { one: "1 month", other: "{{count}} months" }, aboutXYears: { one: "about 1 year", other: "about {{count}} years" }, xYears: { one: "1 year", other: "{{count}} years" }, overXYears: { one: "over 1 year", other: "over {{count}} years" }, almostXYears: { one: "almost 1 year", other: "almost {{count}} years" } }; return { localize: function (e, n, i) { var o; return i = i || {}, o = "string" == typeof t[e] ? t[e] : 1 === n ? t[e].one : t[e].other.replace("{{count}}", n), i.addSuffix ? i.comparison > 0 ? "in " + o : o + " ago" : o; } }; }; }, function (t, e, n) { var i = n(124); t.exports = function () { var t = ["Jan", "Feb", "Mar", "Apr", "May", "Jun", "Jul", "Aug", "Sep", "Oct", "Nov", "Dec"], e = ["January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December"], n = ["Su", "Mo", "Tu", "We", "Th", "Fr", "Sa"], o = ["Sun", "Mon", "Tue", "Wed", "Thu", "Fri", "Sat"], r = ["Sunday", "Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday"], s = ["AM", "PM"], a = ["am", "pm"], c = ["a.m.", "p.m."], l = { MMM: function (e) { return t[e.getMonth()]; }, MMMM: function (t) { return e[t.getMonth()]; }, dd: function (t) { return n[t.getDay()]; }, ddd: function (t) { return o[t.getDay()]; }, dddd: function (t) { return r[t.getDay()]; }, A: function (t) { return t.getHours() / 12 >= 1 ? s[1] : s[0]; }, a: function (t) { return t.getHours() / 12 >= 1 ? a[1] : a[0]; }, aa: function (t) { return t.getHours() / 12 >= 1 ? c[1] : c[0]; } }; return ["M", "D", "DDD", "d", "Q", "W"].forEach(function (t) { l[t + "o"] = function (e, n) { return function (t) { var e = t % 100; if (e > 20 || e < 10)
                    switch (e % 10) {
                        case 1: return t + "st";
                        case 2: return t + "nd";
                        case 3: return t + "rd";
                    } return t + "th"; }(n[t](e)); }; }), { formatters: l, formattingTokensRegExp: i(l) }; }; }, function (t, e) { var n = ["M", "MM", "Q", "D", "DD", "DDD", "DDDD", "d", "E", "W", "WW", "YY", "YYYY", "GG", "GGGG", "H", "HH", "h", "hh", "m", "mm", "s", "ss", "S", "SS", "SSS", "Z", "ZZ", "X", "x"]; t.exports = function (t) { var e = []; for (var i in t)
                    t.hasOwnProperty(i) && e.push(i); var o = n.concat(e).sort().reverse(); return new RegExp("(\\[[^\\[]*\\])|(\\\\)?(" + o.join("|") + "|.)", "g"); }; }, function (t, e, n) { var i = n(126); "string" == typeof i && (i = [[t.i, i, ""]]); var o = { injectType: "singletonStyleTag", insert: "head", singleton: !0 }; n(1)(i, o); i.locals && (t.exports = i.locals); }, function (t, e) { t.exports = ":root{--ck-color-annotation-icon:grey;--ck-color-annotation-info:#757575;--ck-annotation-button-size:0.85em}.ck .ck-annotation{--ck-user-avatar-size:28px;font-size:var(--ck-font-size-base);display:flex;position:relative;animation:fadeInLeft .3s;transition:background-color .3s ease;padding:var(--ck-spacing-standard)}.ck .ck-annotation .ck-button{background-color:transparent;min-width:unset;min-height:unset;cursor:pointer;color:var(--ck-color-annotation-icon);border-radius:var(--ck-border-radius);font-size:var(--ck-annotation-button-size)}.ck .ck-annotation__main{display:flex;flex-wrap:wrap;justify-content:space-between;width:calc(100% - var(--ck-user-avatar-size));transition:all .2s ease;border-radius:var(--ck-border-radius);padding-left:var(--ck-spacing-standard)}.ck .ck-annotation__main p{margin:0;white-space:normal;font-size:var(--ck-font-size-base);line-height:1.5em}.ck .ck-annotation__user{margin-top:var(--ck-spacing-small)}.ck .ck-annotation__info{display:flex;align-items:center;color:var(--ck-color-annotation-info);min-height:2.4em}.ck .ck-annotation__info-name,.ck .ck-annotation__info-time{font-weight:700;max-width:150px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;color:var(--ck-color-annotation-info);font-size:var(--ck-font-size-small)}.ck .ck-annotation__info-time{margin-left:var(--ck-spacing-large)}.ck .ck-annotation__actions{transition:opacity .2s ease;opacity:.5}.ck .ck-annotation__content-wrapper{width:100%}@keyframes fadeInLeft{0%{transform:translate3d(-5%,0,0);opacity:0}to{transform:translateZ(0);opacity:1}}"; }, function (t, e, n) { var i = n(128); "string" == typeof i && (i = [[t.i, i, ""]]); var o = { injectType: "singletonStyleTag", insert: "head", singleton: !0 }; n(1)(i, o); i.locals && (t.exports = i.locals); }, function (t, e) { t.exports = ':root{--ck-color-comment-background:#f3f7fb;--ck-color-comment-separator:#cddeef;--ck-color-comment-remove-background:#fcc;--ck-color-comment-input-background:var(--ck-color-comment-background)}.ck .ck-comment__wrapper{font-size:var(--ck-font-size-base);position:relative;outline:0;transition:all .3s linear}.ck .ck-comment__wrapper.ck-comment--remove-confirmation{transform:translate3d(-100%,0,0)}.ck .ck-comment__wrapper:first-of-type{border-top-right-radius:var(--ck-border-radius);border-top-left-radius:var(--ck-border-radius)}.ck .ck-comment:after{content:"";display:block;position:absolute;opacity:1;top:calc(var(--ck-user-avatar-size) + var(--ck-spacing-small));left:calc(var(--ck-spacing-standard) + var(--ck-user-avatar-size)/2 - 2px);width:4px;height:100%;background-color:var(--ck-color-comment-separator)}.ck .ck-comment--remove{background-color:var(--ck-color-comment-remove-background)}.ck .ck-comment--edit{background-color:var(--ck-color-comment-input-background)}.ck .ck-comment--edit:after{opacity:0}.ck .ck-comment__main .ck-comment__input-wrapper{display:flex;flex-direction:column;position:relative;transition:all .3s linear}.ck .ck-comment__main .ck-comment__input-wrapper .ck-comment__input{padding:0}.ck .ck-comment__main .ck-comment__input-wrapper .ck-comment__input-actions{display:block}.ck .ck-comment__content{word-break:break-word}.ck .ck-comment__user{z-index:var(--ck-z-default)}.ck-comment__input-actions .ck.ck-button.ck-comment__input-actions--submit{color:var(--ck-color-button-save)}.ck-comment__input-actions .ck.ck-button.ck-comment__input-actions--cancel{color:var(--ck-color-button-cancel)}.ck .ck-comment__input p,.ck .ck-comment p{margin:0}.ck .ck-comment__input ol,.ck .ck-comment__input ul,.ck .ck-comment ol,.ck .ck-comment ul{padding-left:10px;margin-left:10px}.ck .ck-comment__input ul,.ck .ck-comment ul{list-style:disc;margin-bottom:5px;margin-top:0}.ck .ck-comment__input ul ul,.ck .ck-comment ul ul{list-style:circle}.ck .ck-comment__input ul ul ul,.ck .ck-comment ul ul ul{list-style:square}'; }, function (t, e, n) { var i = n(130); "string" == typeof i && (i = [[t.i, i, ""]]); var o = { injectType: "singletonStyleTag", insert: "head", singleton: !0 }; n(1)(i, o); i.locals && (t.exports = i.locals); }, function (t, e) { t.exports = ':root{--ck-color-thread-remove-background:var(--ck-color-comment-remove-background);--ck-color-comment-count:#5891ca}.ck .ck-thread{width:100%;color:var(--ck-color-base-text);outline:0;background-color:var(--ck-color-base-background);overflow:hidden;transition:all .3s ease;border-radius:var(--ck-border-radius)}.ck .ck-thread .ck-comment__wrapper:last-of-type .ck-comment:after{opacity:0}.ck .ck-thread__container{transition:transform .3s ease}.ck .ck-thread__comments{position:relative;z-index:var(--ck-z-default);list-style:none;margin:0;padding:0;border-radius:var(--ck-border-radius)}.ck .ck-thread__comment-count{--ck-user-avatar-size:28px;padding-left:calc(var(--ck-user-avatar-size) + var(--ck-spacing-standard)*2);color:var(--ck-color-comment-count);font-size:var(--ck-font-size-base);font-weight:700;cursor:pointer;transition:background-color .3s ease}.ck .ck-thread__comment-count:before{content:"\\25BC";margin-right:var(--ck-spacing-small)}.ck .ck-thread--active .ck-comment__options.ck-dropdown{display:block}.ck .ck-thread--active .ck-thread__input{display:block;background-color:var(--ck-color-comment-background)}.ck .ck-thread--active .ck-comment__wrapper .ck-comment--remove:after,.ck .ck-thread--active .ck-comment__wrapper:last-of-type .ck-comment:after{opacity:0}.ck .ck-thread--remove .ck-comment{background-color:var(--ck-color-comment-remove-background)}.ck .ck-thread--remove .ck-thread__input--active{background-color:var(--ck-color-base-background)}.ck .ck-thread--remove .ck-thread__comment-count,.ck .ck-thread--remove .ck-thread__input--active.ck-thread__input{background-color:var(--ck-color-comment-remove-background)}.ck .ck-thread--remove .ck-comment__wrapper .ck-comment:after{opacity:0}.ck .ck-thread--remove-confirmation .ck-thread__container{transform:translate3d(-100%,0,0)}.ck.ck-button.ck-thread__remove-confirm-submit{color:var(--ck-color-button-save)}.ck.ck-button.ck-thread__remove-confirm-cancel{color:var(--ck-color-button-cancel)}.ck .ck-thread__remove-confirm{font-size:var(--ck-font-size-base);position:absolute;display:flex;justify-content:flex-start;top:0;left:100%;width:100%;height:100%;background-color:var(--ck-color-comment-remove-background)}.ck .ck-thread__remove-confirm .ck-thread__remove-confirm-inner{display:flex;flex-direction:column;align-items:center;justify-content:center;padding-top:var(--ck-spacing-standard);height:100%;width:100%;max-height:400px}.ck .ck-thread__remove-confirm p{font-weight:700;margin:0}.ck .ck-thread__input{width:calc(100% - var(--ck-user-avatar-size));transition:background-color .2s ease-in-out;border-radius:var(--ck-border-radius)}'; }, function (t, e, n) { var i = n(132); "string" == typeof i && (i = [[t.i, i, ""]]); var o = { injectType: "singletonStyleTag", insert: "head", singleton: !0 }; n(1)(i, o); i.locals && (t.exports = i.locals); }, function (t, e) { t.exports = ".ck .ck-comment__input-container{--ck-user-avatar-size:28px;font-size:var(--ck-font-size-base);display:none;padding:var(--ck-spacing-standard);background:var(--ck-color-comment-background)}.ck .ck-comment__input-container--active{display:flex}.ck .ck-comment__input{padding:var(--ck-spacing-standard);padding-top:var(--ck-spacing-medium);color:var(--ck-color-base-text);border-width:0;resize:none;background-color:transparent;transition:color .3s ease-in-out}.ck .ck-comment__input:focus{outline:none}.ck .ck-comment__input .ck-editor__editable_inline{--ck-focus-ring:none;--ck-inner-shadow:none;padding:0;overflow:visible;border:0;background-color:transparent;word-break:break-word}.ck-comment__input-wrapper .ck.ck-editor__editable_inline :first-child{margin-top:0}.ck-comment__input-wrapper .ck.ck-editor__editable_inline :last-child{margin-bottom:0}.ck .ck-comment__input-actions{display:none;width:100%;text-align:right}.ck .ck-comment__input-actions .ck-button{background-color:transparent;min-width:unset;min-height:unset;cursor:pointer;color:var(--ck-color-annotations-icon);border-radius:var(--ck-border-radius);font-size:var(--ck-annotation-button-size)}.ck .ck-comment__input-actions .ck-button.ck-disabled{opacity:.3}.ck .ck-comment__input-actions--active,.ck .ck-comment__input-textarea{display:block}"; }, function (t, e, n) { var i = n(134); "string" == typeof i && (i = [[t.i, i, ""]]); var o = { injectType: "singletonStyleTag", insert: "head", singleton: !0 }; n(1)(i, o); i.locals && (t.exports = i.locals); }, function (t, e) { t.exports = ":root{--ck-color-annotation-wrapper-background:#fff;--ck-color-annotation-wrapper-drop-shadow:0 1px 1px 1px #e6e6e6}.ck.ck-sidebar{position:relative;transition:min-height .25s ease;outline:0}.ck-sidebar-item{position:absolute;width:100%;transition:top .3s ease,box-shadow .3s ease}.ck-sidebar-item--no-animation{transition:top 0s ease!important}.ck.ck-annotation-wrapper{outline:0;border-radius:var(--ck-border-radius);background:var(--ck-color-annotation-wrapper-background);box-shadow:var(--ck-color-annotation-wrapper-drop-shadow)}.ck.ck-annotation-wrapper:not(.ck-annotation-wrapper--active):hover{box-shadow:var(--ck-drop-shadow)}.ck.ck-annotation-wrapper--active{box-shadow:var(--ck-drop-shadow-active)}.ck.ck-annotation-wrapper--active .ck-annotation__actions,.ck.ck-annotation-wrapper:hover .ck-annotation__actions{opacity:1}.ck.ck-annotation-wrapper--active .ck-suggestion--accept,.ck.ck-annotation-wrapper:hover .ck-suggestion--accept{color:var(--ck-color-button-save)}.ck.ck-annotation-wrapper--active .ck-suggestion--discard,.ck.ck-annotation-wrapper:hover .ck-suggestion--discard{color:var(--ck-color-button-cancel)}"; }, function (t, e, n) { var i = n(136); "string" == typeof i && (i = [[t.i, i, ""]]); var o = { injectType: "singletonStyleTag", insert: "head", singleton: !0 }; n(1)(i, o); i.locals && (t.exports = i.locals); }, function (t, e) { t.exports = ":root{--ck-annotation-counter-icon-size:18px;--ck-annotation-counter-number-size:10px;--ck-color-annotation-counter-comment:#f2de02;--ck-color-annotation-counter-suggestion-insertion:#5ad86b;--ck-color-annotation-counter-suggestion-deletion:#d85a79;--ck-color-annotation-counter-suggestion-format:#5ac1d8}.ck.ck-sidebar--narrow .ck-sidebar-item{display:flex;justify-content:center}.ck.ck-sidebar--narrow .ck-annotation-counter{font-size:var(--ck-annotation-counter-icon-size);min-height:unset;padding:0;cursor:pointer;color:grey}.ck.ck-sidebar--narrow .ck-annotation-counter:focus,.ck.ck-sidebar--narrow .ck-annotation-counter:hover{background:transparent;box-shadow:none;color:#4d4d4d}.ck.ck-sidebar--narrow .ck-annotation-counter__badge{border-radius:50%;position:absolute;width:16px;height:16px;background:#333;font-weight:700;color:#fff;font-size:var(--ck-annotation-counter-number-size);font-family:var(--ck-font-face);right:0;top:0;text-shadow:-1px 0 2px #444,1px 0 2px #444;display:flex;justify-content:center;line-height:16px;z-index:1}.ck.ck-sidebar--narrow .ck-annotation-counter__badge--edit-mode{line-height:1}.ck.ck-sidebar--narrow .ck-annotation-counter__badge--suggestion-insertion,.ck.ck-sidebar--narrow .ck-annotation-counter__badge--suggestion-replace{background:var(--ck-color-annotation-counter-suggestion-insertion)}.ck.ck-sidebar--narrow .ck-annotation-counter__badge--suggestion-deletion{background:var(--ck-color-annotation-counter-suggestion-deletion)}.ck.ck-sidebar--narrow .ck-annotation-counter__badge--suggestion-format{background:var(--ck-color-annotation-counter-suggestion-format)}.ck.ck-sidebar--narrow .ck-annotation-counter__badge--comment{background:var(--ck-color-annotation-counter-comment)}"; }, function (t, e) { t.exports = ":root{--ck-color-comment-box-border:#f2de02;--ck-color-suggestion-box-deletion-border:#d85a79;--ck-color-suggestion-box-insertion-border:#5ad86b;--ck-color-suggestion-box-format-border:#5ac1d8}.ck .ck-suggestion{border-top-left-radius:var(--ck-border-radius)}.ck .ck-annotation{border-left:3px solid transparent}.ck .ck-comment,.ck .ck-comment__input-container,.ck .ck-thread__comment-count{border-left:3px solid var(--ck-color-comment-box-border)}.ck .ck-suggestion-insertion{border-left-color:var(--ck-color-suggestion-box-insertion-border)}.ck .ck-suggestion-deletion{border-left-color:var(--ck-color-suggestion-box-deletion-border)}.ck .ck-suggestion-replace{border-left-color:var(--ck-color-suggestion-box-insertion-border)}.ck .ck-suggestion-format{border-left-color:var(--ck-color-suggestion-box-format-border)}.ck .ck-suggestion-wrapper--active{outline:0;box-shadow:0 1px 2px 1px var(--ck-color-shadow-drop)}.ck .ck-suggestion-type{font-weight:700}.ck .ck-suggestion-insertion+.ck-thread .ck-comment,.ck .ck-suggestion-insertion+.ck-thread .ck-comment__input-container,.ck .ck-suggestion-insertion+.ck-thread .ck-thread__comment-count,.ck .ck-suggestion-replace+.ck-thread .ck-comment,.ck .ck-suggestion-replace+.ck-thread .ck-comment__input-container,.ck .ck-suggestion-replace+.ck-thread .ck-thread__comment-count{border-left-color:var(--ck-color-suggestion-box-insertion-border)}.ck .ck-suggestion-deletion+.ck-thread .ck-comment,.ck .ck-suggestion-deletion+.ck-thread .ck-comment__input-container,.ck .ck-suggestion-deletion+.ck-thread .ck-thread__comment-count{border-left-color:var(--ck-color-suggestion-box-deletion-border)}.ck .ck-suggestion-format+.ck-thread .ck-comment,.ck .ck-suggestion-format+.ck-thread .ck-comment__input-container,.ck .ck-suggestion-format+.ck-thread .ck-thread__comment-count{border-left-color:var(--ck-color-suggestion-box-format-border)}.ck .ck-suggestion-wrapper .ck-thread{border-top-left-radius:0}"; }, function (t, e) { t.exports = ':root{--ck-color-suggestion-marker-insertion-border:rgba(30,174,49,0.35);--ck-color-suggestion-marker-insertion-border-active:rgba(19,109,31,0.5);--ck-color-suggestion-marker-insertion-background:rgba(102,229,119,0.35);--ck-color-suggestion-marker-insertion-background-active:rgba(37,218,61,0.5);--ck-color-suggestion-marker-deletion-border:rgba(174,30,66,0.35);--ck-color-suggestion-marker-deletion-border-active:rgba(109,19,41,0.5);--ck-color-suggestion-marker-deletion-background:rgba(229,102,134,0.35);--ck-color-suggestion-marker-deletion-background-active:rgba(218,37,82,0.5);--ck-color-suggestion-marker-deletion-stroke:rgba(87,15,33,0.5);--ck-color-suggestion-marker-format-border:rgba(10,160,194,0.4);--ck-color-suggestion-marker-format-border-active:rgba(10,160,194,0.65)}.ck-suggestion-marker-insertion{border-top:3px solid var(--ck-color-suggestion-marker-insertion-border);border-bottom:3px solid var(--ck-color-suggestion-marker-insertion-border);background:var(--ck-color-suggestion-marker-insertion-background)}.ck-suggestion-marker-insertion.ck-suggestion-marker--active{border-color:var(--ck-color-suggestion-marker-insertion-border-active);background:var(--ck-color-suggestion-marker-insertion-background-active)}.ck-suggestion-marker-insertion.ck-widget{background:none;text-decoration:none;border:3px solid var(--ck-color-suggestion-marker-insertion-border)}.ck-suggestion-marker-insertion.ck-widget.ck-suggestion-marker--active{border-color:var(--ck-color-suggestion-marker-insertion-border-active)}.ck-suggestion-marker-deletion{border-top:3px solid var(--ck-color-suggestion-marker-deletion-border);border-bottom:3px solid var(--ck-color-suggestion-marker-deletion-border);text-decoration:line-through;text-decoration-color:var(--ck-color-suggestion-marker-deletion-stroke);background:var(--ck-color-suggestion-marker-deletion-background)}.ck-suggestion-marker-deletion.ck-suggestion-marker--active{border-color:var(--ck-color-suggestion-marker-deletion-border-active);background:var(--ck-color-suggestion-marker-deletion-background-active)}.ck-suggestion-marker-deletion.ck-widget{background:none;text-decoration:none;border:3px solid var(--ck-color-suggestion-marker-deletion-border)}.ck-suggestion-marker-deletion.ck-widget.ck-suggestion-marker--active{border-color:var(--ck-color-suggestion-marker-deletion-border-active)}.ck-suggestion-marker-merge:after{border-top:3px solid var(--ck-color-suggestion-marker-deletion-border);border-bottom:3px solid var(--ck-color-suggestion-marker-deletion-border);text-decoration:line-through;text-decoration-color:var(--ck-color-suggestion-marker-deletion-stroke);background:var(--ck-color-suggestion-marker-deletion-background);color:var(--ck-color-suggestion-marker-deletion-stroke);content:"¶"}.ck-suggestion-marker-merge.ck-suggestion-marker--active:after{border-color:var(--ck-color-suggestion-marker-deletion-border-active);background:var(--ck-color-suggestion-marker-deletion-background-active)}.ck-suggestion-marker-split:after{border-top:3px solid var(--ck-color-suggestion-marker-insertion-border);border-bottom:3px solid var(--ck-color-suggestion-marker-insertion-border);background:var(--ck-color-suggestion-marker-insertion-background);color:var(--ck-color-suggestion-marker-insertion-border);content:"¶"}.ck-suggestion-marker-split.ck-suggestion-marker--active:after{border-color:var(--ck-color-suggestion-marker-insertion-border-active);background:var(--ck-color-suggestion-marker-insertion-background-active)}.ck-suggestion-marker-formatInline{border-top:3px solid var(--ck-color-suggestion-marker-format-border);border-bottom:3px solid var(--ck-color-suggestion-marker-format-border)}.ck-suggestion-marker-formatInline.ck-suggestion-marker--active{border-color:var(--ck-color-suggestion-marker-format-border-active)}.ck-suggestion-marker-formatInline.ck-widget{background:none;border:3px solid var(--ck-color-suggestion-marker-format-border)}.ck-suggestion-marker-formatInline.ck-widget.ck-suggestion-marker--active{border-color:var(--ck-color-suggestion-marker-format-border-active)}.ck-suggestion-marker-formatBlock{border:0;background:none;box-shadow:-7px 0 0 0 var(--ck-color-base-background),-10px 0 0 0 var(--ck-color-suggestion-marker-format-border)}.ck-suggestion-marker-formatBlock.ck-suggestion-marker--active{box-shadow:-5px 0 0 0 var(--ck-color-base-background),-8px 0 0 0 var(--ck-color-suggestion-marker-format-border-active)}.ck-content figure.table .ck-suggestion-marker-formatBlock{box-shadow:-3px 0 0 0 var(--ck-color-suggestion-marker-format-border)}.ck-content figure.table .ck-suggestion-marker-formatBlock.ck-suggestion-marker--active{box-shadow:-3px 0 0 0 var(--ck-color-suggestion-marker-format-border-active)}.ck-content ol .ck-suggestion-marker-formatBlock,.ck-content ul .ck-suggestion-marker-formatBlock{box-shadow:-2px 0 0 0 var(--ck-color-base-background),-5px 0 0 0 var(--ck-color-suggestion-marker-format-border)}.ck-content ol .ck-suggestion-marker-formatBlock.ck-suggestion-marker--active,.ck-content ul .ck-suggestion-marker-formatBlock.ck-suggestion-marker--active{box-shadow:-2px 0 0 0 var(--ck-color-base-background),-5px 0 0 0 var(--ck-color-suggestion-marker-format-border-active)}'; }, function (t, e, n) { var i = n(140); "string" == typeof i && (i = [[t.i, i, ""]]); var o = { injectType: "singletonStyleTag", insert: "head", singleton: !0 }; n(1)(i, o); i.locals && (t.exports = i.locals); }, function (t, e) { t.exports = ":root{--ck-color-suggestion-insertion-image-background:rgba(102,229,119,0.05);--ck-color-suggestion-insertion-image-background-active:rgba(37,218,61,0.07);--ck-color-suggestion-insertion-image-caption-background:rgba(102,229,119,0.07);--ck-color-suggestion-insertion-image-caption-background-active:rgba(37,218,61,0.07);--ck-color-suggestion-deletion-image-background:rgba(229,102,134,0.05);--ck-color-suggestion-deletion-image-background-active:rgba(196,33,74,0.07);--ck-color-suggestion-deletion-image-caption-background:rgba(229,102,134,0.06);--ck-color-suggestion-deletion-image-caption-background-active:rgba(196,33,74,0.06)}.ck-suggestion-marker-deletion.ck-widget.image{background-color:var(--ck-color-suggestion-deletion-image-background)}.ck-suggestion-marker-deletion.ck-widget.image img{opacity:.6}.ck-suggestion-marker-deletion.ck-widget.image figcaption{background-color:var(--ck-color-suggestion-deletion-image-caption-background)}.ck-suggestion-marker-deletion.ck-widget.image.ck-suggestion-marker--active{background-color:var(--ck-color-suggestion-deletion-image-background-active)}.ck-suggestion-marker-deletion.ck-widget.image.ck-suggestion-marker--active figcaption{background-color:var(--ck-color-suggestion-deletion-image-caption-background-active)}.ck-suggestion-marker-insertion.ck-widget.image{background-color:var(--ck-color-suggestion-insertion-image-background)}.ck-suggestion-marker-insertion.ck-widget.image figcaption{background-color:var(--ck-color-suggestion-insertion-image-caption-background)}.ck-suggestion-marker-insertion.ck-widget.image.ck-suggestion-marker--active{background-color:var(--ck-color-suggestion-insertion-image-background-active)}.ck-suggestion-marker-insertion.ck-widget.image.ck-suggestion-marker--active figcaption{background-color:var(--ck-color-suggestion-insertion-image-caption-background-active)}"; }, function (t, e, n) { var i = n(142); "string" == typeof i && (i = [[t.i, i, ""]]); var o = { injectType: "singletonStyleTag", insert: "head", singleton: !0 }; n(1)(i, o); i.locals && (t.exports = i.locals); }, function (t, e) { t.exports = ":root{--ck-color-suggestion-insertion-td-background:rgba(102,229,119,0.07);--ck-color-suggestion-insertion-td-background-active:rgba(37,218,61,0.09);--ck-color-suggestion-insertion-th-background:rgba(102,229,119,0.12);--ck-color-suggestion-insertion-th-background-active:rgba(37,218,61,0.14);--ck-color-suggestion-deletion-td-background:rgba(229,102,134,0.09);--ck-color-suggestion-deletion-td-background-active:rgba(196,33,74,0.11);--ck-color-suggestion-deletion-th-background:rgba(229,102,134,0.14);--ck-color-suggestion-deletion-th-background-active:rgba(196,33,74,0.16);--ck-color-suggestion-format-background:rgba(10,160,194,0.09);--ck-color-suggestion-format-background-active:rgba(10,160,194,0.16)}.ck-suggestion-marker-deletion.ck-widget.table table,.ck-suggestion-marker-deletion.ck-widget.table th{border-color:var(--ck-color-suggestion-marker-deletion-border)}.ck-suggestion-marker-deletion.ck-widget.table th{background-color:var(--ck-color-suggestion-deletion-th-background)}.ck-suggestion-marker-deletion.ck-widget.table td{background-color:var(--ck-color-suggestion-deletion-td-background);border-color:var(--ck-color-suggestion-marker-deletion-border)}.ck-suggestion-marker-deletion.ck-widget.table.ck-suggestion-marker--active table{border-color:var(--ck-color-suggestion-marker-deletion-border-active)}.ck-suggestion-marker-deletion.ck-widget.table.ck-suggestion-marker--active th{background-color:var(--ck-color-suggestion-deletion-th-background-active);border-color:var(--ck-color-suggestion-marker-deletion-border-active)}.ck-suggestion-marker-deletion.ck-widget.table.ck-suggestion-marker--active td{background-color:var(--ck-color-suggestion-deletion-td-background-active);border-color:var(--ck-color-suggestion-marker-deletion-border-active)}.ck-suggestion-marker-insertion.ck-widget.table table,.ck-suggestion-marker-insertion.ck-widget.table th{border-color:var(--ck-color-suggestion-marker-insertion-border)}.ck-suggestion-marker-insertion.ck-widget.table th{background-color:var(--ck-color-suggestion-insertion-th-background)}.ck-suggestion-marker-insertion.ck-widget.table td{background-color:var(--ck-color-suggestion-insertion-td-background);border-color:var(--ck-color-suggestion-marker-insertion-border)}.ck-suggestion-marker-insertion.ck-widget.table.ck-suggestion-marker--active table{border-color:var(--ck-color-suggestion-marker-insertion-border-active)}.ck-suggestion-marker-insertion.ck-widget.table.ck-suggestion-marker--active th{background-color:var(--ck-color-suggestion-insertion-th-background-active);border-color:var(--ck-color-suggestion-marker-insertion-border-active)}.ck-suggestion-marker-insertion.ck-widget.table.ck-suggestion-marker--active td{background-color:var(--ck-color-suggestion-insertion-td-background-active);border-color:var(--ck-color-suggestion-marker-insertion-border-active)}.ck-widget.table th.ck-suggestion-marker-insertion-tableColumn,.ck-widget.table th.ck-suggestion-marker-insertion-tableRow{background-color:var(--ck-color-suggestion-insertion-th-background)}.ck-widget.table th.ck-suggestion-marker-insertion-tableColumn.ck-suggestion-marker--active,.ck-widget.table th.ck-suggestion-marker-insertion-tableRow.ck-suggestion-marker--active{background-color:var(--ck-color-suggestion-insertion-th-background-active)}.ck-widget.table th.ck-suggestion-marker-deletion-tableColumn,.ck-widget.table th.ck-suggestion-marker-deletion-tableRow{background-color:var(--ck-color-suggestion-deletion-th-background)}.ck-widget.table th.ck-suggestion-marker-deletion-tableColumn.ck-suggestion-marker--active,.ck-widget.table th.ck-suggestion-marker-deletion-tableRow.ck-suggestion-marker--active{background-color:var(--ck-color-suggestion-deletion-th-background-active)}.ck-widget.table td.ck-suggestion-marker-insertion-tableColumn,.ck-widget.table td.ck-suggestion-marker-insertion-tableRow{background-color:var(--ck-color-suggestion-insertion-td-background)}.ck-widget.table td.ck-suggestion-marker-insertion-tableColumn.ck-suggestion-marker--active,.ck-widget.table td.ck-suggestion-marker-insertion-tableRow.ck-suggestion-marker--active{background-color:var(--ck-color-suggestion-insertion-td-background-active)}.ck-widget.table td.ck-suggestion-marker-deletion-tableColumn,.ck-widget.table td.ck-suggestion-marker-deletion-tableRow{background-color:var(--ck-color-suggestion-deletion-td-background)}.ck-widget.table td.ck-suggestion-marker-deletion-tableColumn.ck-suggestion-marker--active,.ck-widget.table td.ck-suggestion-marker-deletion-tableRow.ck-suggestion-marker--active{background-color:var(--ck-color-suggestion-deletion-td-background-active)}.ck-widget.table td.ck-suggestion-marker-formatBlock-cell,.ck-widget.table th.ck-suggestion-marker-formatBlock-cell{background-color:var(--ck-color-suggestion-format-background)}.ck-widget.table td.ck-suggestion-marker-formatBlock-cell.ck-suggestion-marker--active,.ck-widget.table th.ck-suggestion-marker-formatBlock-cell.ck-suggestion-marker--active{background-color:var(--ck-color-suggestion-format-background-active)}"; }, function (t, e, n) { var i = n(144); "string" == typeof i && (i = [[t.i, i, ""]]); var o = { injectType: "singletonStyleTag", insert: "head", singleton: !0 }; n(1)(i, o); i.locals && (t.exports = i.locals); }, function (t, e) { t.exports = ":root{--ck-color-suggestion-insertion-media-background:rgba(102,229,119,0.05);--ck-color-suggestion-insertion-media-background-active:rgba(37,218,61,0.07);--ck-color-suggestion-deletion-media-background:rgba(229,102,134,0.05);--ck-color-suggestion-deletion-media-background-active:rgba(196,33,74,0.07)}.ck-suggestion-marker-deletion.ck-widget.media{background-color:var(--ck-color-suggestion-deletion-media-background)}.ck-suggestion-marker-deletion.ck-widget.media .ck-media__wrapper{opacity:.6}.ck-suggestion-marker-deletion.ck-widget.media.ck-suggestion-marker--active{background-color:var(--ck-color-suggestion-deletion-media-background-active)}.ck-suggestion-marker-insertion.ck-widget.media{background-color:var(--ck-color-suggestion-insertion-media-background)}.ck-suggestion-marker-insertion.ck-widget.media.ck-suggestion-marker--active{background-color:var(--ck-color-suggestion-insertion-image-background-active)}"; }, function (t, e, n) { var i = n(146); "string" == typeof i && (i = [[t.i, i, ""]]); var o = { injectType: "singletonStyleTag", insert: "head", singleton: !0 }; n(1)(i, o); i.locals && (t.exports = i.locals); }, function (t, e) { t.exports = ".ck.ck-color-grid{display:grid}:root{--ck-color-grid-tile-size:24px;--ck-color-color-grid-check-icon:#000}.ck.ck-color-grid{grid-gap:5px;padding:8px}.ck.ck-color-grid__tile{width:var(--ck-color-grid-tile-size);height:var(--ck-color-grid-tile-size);min-width:var(--ck-color-grid-tile-size);min-height:var(--ck-color-grid-tile-size);padding:0;transition:box-shadow .2s ease;border:0}.ck.ck-color-grid__tile.ck-disabled{cursor:unset;transition:unset}.ck.ck-color-grid__tile.ck-color-table__color-tile_bordered{box-shadow:0 0 0 1px var(--ck-color-base-border)}.ck.ck-color-grid__tile .ck.ck-icon{display:none;color:var(--ck-color-color-grid-check-icon)}.ck.ck-color-grid__tile.ck-on{box-shadow:inset 0 0 0 1px var(--ck-color-base-background),0 0 0 2px var(--ck-color-base-text)}.ck.ck-color-grid__tile.ck-on .ck.ck-icon{display:block}.ck.ck-color-grid__tile.ck-on,.ck.ck-color-grid__tile:focus:not(.ck-disabled),.ck.ck-color-grid__tile:hover:not(.ck-disabled){border:0}.ck.ck-color-grid__tile:focus:not(.ck-disabled),.ck.ck-color-grid__tile:hover:not(.ck-disabled){box-shadow:inset 0 0 0 1px var(--ck-color-base-background),0 0 0 2px var(--ck-color-focus-border)}.ck.ck-color-grid__label{padding:0 var(--ck-spacing-standard)}"; }, function (t, e, n) { var i = n(148); "string" == typeof i && (i = [[t.i, i, ""]]); var o = { injectType: "singletonStyleTag", insert: "head", singleton: !0 }; n(1)(i, o); i.locals && (t.exports = i.locals); }, function (t, e) { t.exports = ".ck .ck-button.ck-color-table__remove-color{display:flex;align-items:center;width:100%}label.ck.ck-color-grid__label{font-weight:unset}.ck .ck-button.ck-color-table__remove-color{padding:calc(var(--ck-spacing-standard)/2) var(--ck-spacing-standard);border-bottom-left-radius:0;border-bottom-right-radius:0}.ck .ck-button.ck-color-table__remove-color:not(:focus){border-bottom:1px solid var(--ck-color-base-border)}[dir=ltr] .ck .ck-button.ck-color-table__remove-color .ck.ck-icon{margin-right:var(--ck-spacing-standard)}[dir=rtl] .ck .ck-button.ck-color-table__remove-color .ck.ck-icon{margin-left:var(--ck-spacing-standard)}"; }, function (t, e, n) { var i = n(150); "string" == typeof i && (i = [[t.i, i, ""]]); var o = { injectType: "singletonStyleTag", insert: "head", singleton: !0 }; n(1)(i, o); i.locals && (t.exports = i.locals); }, function (t, e) { t.exports = ".ck.ck-splitbutton{font-size:inherit}.ck.ck-splitbutton .ck-splitbutton__action:focus{z-index:calc(var(--ck-z-default) + 1)}.ck.ck-splitbutton.ck-splitbutton_open>.ck-button .ck-tooltip{display:none}:root{--ck-color-split-button-hover-background:#ebebeb;--ck-color-split-button-hover-border:#b3b3b3}[dir=ltr] .ck.ck-splitbutton>.ck-splitbutton__action{border-top-right-radius:unset;border-bottom-right-radius:unset}[dir=rtl] .ck.ck-splitbutton>.ck-splitbutton__action{border-top-left-radius:unset;border-bottom-left-radius:unset}.ck.ck-splitbutton>.ck-splitbutton__arrow{min-width:unset}[dir=ltr] .ck.ck-splitbutton>.ck-splitbutton__arrow{border-radius:0}.ck-rounded-corners [dir=ltr] .ck.ck-splitbutton>.ck-splitbutton__arrow,[dir=ltr] .ck.ck-splitbutton>.ck-splitbutton__arrow.ck-rounded-corners{border-radius:var(--ck-border-radius);border-top-left-radius:unset;border-bottom-left-radius:unset}[dir=rtl] .ck.ck-splitbutton>.ck-splitbutton__arrow{border-top-right-radius:unset;border-bottom-right-radius:unset}.ck.ck-splitbutton>.ck-splitbutton__arrow svg{width:var(--ck-dropdown-arrow-size)}.ck.ck-splitbutton.ck-splitbutton_open>.ck-button:not(.ck-on):not(.ck-disabled):not(:hover),.ck.ck-splitbutton:hover>.ck-button:not(.ck-on):not(.ck-disabled):not(:hover){background:var(--ck-color-split-button-hover-background)}[dir=ltr] .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled),[dir=ltr] .ck.ck-splitbutton:hover>.ck-splitbutton__arrow:not(.ck-disabled){border-left-color:var(--ck-color-split-button-hover-border)}[dir=rtl] .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled),[dir=rtl] .ck.ck-splitbutton:hover>.ck-splitbutton__arrow:not(.ck-disabled){border-right-color:var(--ck-color-split-button-hover-border)}.ck.ck-splitbutton.ck-splitbutton_open{border-radius:0}.ck-rounded-corners .ck.ck-splitbutton.ck-splitbutton_open,.ck.ck-splitbutton.ck-splitbutton_open.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck-rounded-corners .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__action,.ck.ck-splitbutton.ck-splitbutton_open.ck-rounded-corners>.ck-splitbutton__action{border-bottom-left-radius:0}.ck-rounded-corners .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow,.ck.ck-splitbutton.ck-splitbutton_open.ck-rounded-corners>.ck-splitbutton__arrow{border-bottom-right-radius:0}"; }, function (t, e, n) { var i = n(152); "string" == typeof i && (i = [[t.i, i, ""]]); var o = { injectType: "singletonStyleTag", insert: "head", singleton: !0 }; n(1)(i, o); i.locals && (t.exports = i.locals); }, function (t, e) { t.exports = ".ck-content blockquote{overflow:hidden;padding-right:1.5em;padding-left:1.5em;margin-left:0;margin-right:0;font-style:italic;border-left:5px solid #ccc}.ck-content[dir=rtl] blockquote{border-left:0;border-right:5px solid #ccc}"; }, function (t, e, n) { var i = n(154); "string" == typeof i && (i = [[t.i, i, ""]]); var o = { injectType: "singletonStyleTag", insert: "head", singleton: !0 }; n(1)(i, o); i.locals && (t.exports = i.locals); }, function (t, e) { t.exports = ".ck .ck-link_selected{background:var(--ck-color-link-selected-background)}"; }, function (t, e, n) { var i = n(156); "string" == typeof i && (i = [[t.i, i, ""]]); var o = { injectType: "singletonStyleTag", insert: "head", singleton: !0 }; n(1)(i, o); i.locals && (t.exports = i.locals); }, function (t, e) { t.exports = ":root{--ck-color-resizer:var(--ck-color-focus-border);--ck-resizer-size:10px;--ck-resizer-border-width:1px;--ck-resizer-border-radius:2px;--ck-resizer-offset:calc(var(--ck-resizer-size)/-2 - 2px);--ck-resizer-tooltip-offset:10px;--ck-color-resizer-tooltip-background:#262626;--ck-color-resizer-tooltip-text:#f2f2f2}.ck .ck-widget.ck-widget_with-selection-handle{position:relative}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle{position:absolute}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle .ck-icon{display:block}.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected .ck-widget__selection-handle,.ck .ck-widget.ck-widget_with-selection-handle:hover .ck-widget__selection-handle{visibility:visible}.ck .ck-size-view{background:var(--ck-color-resizer-tooltip-background);color:var(--ck-color-resizer-tooltip-text);border:1px solid var(--ck-color-resizer-tooltip-text);border-radius:var(--ck-resizer-border-radius);font-size:var(--ck-font-size-tiny);display:block;padding:var(--ck-spacing-small)}.ck .ck-size-view.ck-orientation-bottom-left,.ck .ck-size-view.ck-orientation-bottom-right,.ck .ck-size-view.ck-orientation-top-left,.ck .ck-size-view.ck-orientation-top-right{position:absolute}.ck .ck-size-view.ck-orientation-top-left{top:var(--ck-resizer-tooltip-offset);left:var(--ck-resizer-tooltip-offset)}.ck .ck-size-view.ck-orientation-top-right{top:var(--ck-resizer-tooltip-offset);right:var(--ck-resizer-tooltip-offset)}.ck .ck-size-view.ck-orientation-bottom-right{bottom:var(--ck-resizer-tooltip-offset);right:var(--ck-resizer-tooltip-offset)}.ck .ck-size-view.ck-orientation-bottom-left{bottom:var(--ck-resizer-tooltip-offset);left:var(--ck-resizer-tooltip-offset)}:root{--ck-widget-outline-thickness:3px;--ck-widget-handler-icon-size:16px;--ck-widget-handler-animation-duration:200ms;--ck-widget-handler-animation-curve:ease;--ck-color-widget-blurred-border:#dedede;--ck-color-widget-hover-border:#ffc83d;--ck-color-widget-editable-focus-background:var(--ck-color-base-background);--ck-color-widget-drag-handler-icon-color:var(--ck-color-base-background)}.ck .ck-widget{outline-width:var(--ck-widget-outline-thickness);outline-style:solid;outline-color:transparent;transition:outline-color var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve)}.ck .ck-widget.ck-widget_selected,.ck .ck-widget.ck-widget_selected:hover{outline:var(--ck-widget-outline-thickness) solid var(--ck-color-focus-border)}.ck .ck-widget:hover{outline-color:var(--ck-color-widget-hover-border)}.ck .ck-editor__nested-editable{border:1px solid transparent}.ck .ck-editor__nested-editable.ck-editor__nested-editable_focused,.ck .ck-editor__nested-editable:focus{outline:none;border:var(--ck-focus-ring);box-shadow:var(--ck-inner-shadow),0 0;background-color:var(--ck-color-widget-editable-focus-background)}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle{padding:4px;box-sizing:border-box;background-color:transparent;opacity:0;transition:background-color var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),visibility var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),opacity var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve);border-radius:var(--ck-border-radius) var(--ck-border-radius) 0 0;transform:translateY(-100%);left:calc(0px - var(--ck-widget-outline-thickness))}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle .ck-icon{width:var(--ck-widget-handler-icon-size);height:var(--ck-widget-handler-icon-size);color:var(--ck-color-widget-drag-handler-icon-color)}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle .ck-icon .ck-icon__selected-indicator{opacity:0;transition:opacity .3s var(--ck-widget-handler-animation-curve)}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle:hover .ck-icon .ck-icon__selected-indicator{opacity:1}.ck .ck-widget.ck-widget_with-selection-handle:hover .ck-widget__selection-handle{opacity:1;background-color:var(--ck-color-widget-hover-border)}.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected .ck-widget__selection-handle,.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected:hover .ck-widget__selection-handle{opacity:1;background-color:var(--ck-color-focus-border)}.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected .ck-widget__selection-handle .ck-icon .ck-icon__selected-indicator,.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected:hover .ck-widget__selection-handle .ck-icon .ck-icon__selected-indicator{opacity:1}.ck-editor__editable>.ck-widget.ck-widget_with-selection-handle:first-child,.ck-editor__editable blockquote>.ck-widget.ck-widget_with-selection-handle:first-child{margin-top:calc(1em + var(--ck-widget-handler-icon-size))}.ck[dir=rtl] .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle{left:auto;right:calc(0px - var(--ck-widget-outline-thickness))}.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected,.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected:hover{outline-color:var(--ck-color-widget-blurred-border)}.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected.ck-widget_with-selection-handle .ck-widget__selection-handle,.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected.ck-widget_with-selection-handle .ck-widget__selection-handle:hover,.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected:hover.ck-widget_with-selection-handle .ck-widget__selection-handle,.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected:hover.ck-widget_with-selection-handle .ck-widget__selection-handle:hover{background:var(--ck-color-widget-blurred-border)}.ck-editor__editable.ck-read-only .ck-widget{--ck-widget-outline-thickness:0}"; }, function (t, e, n) { var i = n(158); "string" == typeof i && (i = [[t.i, i, ""]]); var o = { injectType: "singletonStyleTag", insert: "head", singleton: !0 }; n(1)(i, o); i.locals && (t.exports = i.locals); }, function (t, e) { t.exports = ".ck.ck-labeled-input .ck-labeled-input__status{font-size:var(--ck-font-size-small);margin-top:var(--ck-spacing-small);white-space:normal}.ck.ck-labeled-input .ck-labeled-input__status_error{color:var(--ck-color-base-error)}"; }, function (t, e, n) { var i = n(160); "string" == typeof i && (i = [[t.i, i, ""]]); var o = { injectType: "singletonStyleTag", insert: "head", singleton: !0 }; n(1)(i, o); i.locals && (t.exports = i.locals); }, function (t, e) { t.exports = ":root{--ck-input-text-width:18em}.ck.ck-input-text{border-radius:0}.ck-rounded-corners .ck.ck-input-text,.ck.ck-input-text.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-input-text{box-shadow:var(--ck-inner-shadow),0 0;background:var(--ck-color-input-background);border:1px solid var(--ck-color-input-border);padding:var(--ck-spacing-extra-tiny) var(--ck-spacing-medium);min-width:var(--ck-input-text-width);min-height:var(--ck-ui-component-min-height);transition:box-shadow .2s ease-in-out,border .2s ease-in-out}.ck.ck-input-text:focus{outline:none;border:var(--ck-focus-ring);box-shadow:var(--ck-focus-outer-shadow),var(--ck-inner-shadow)}.ck.ck-input-text[readonly]{border:1px solid var(--ck-color-input-disabled-border);background:var(--ck-color-input-disabled-background);color:var(--ck-color-input-disabled-text)}.ck.ck-input-text[readonly]:focus{box-shadow:var(--ck-focus-disabled-outer-shadow),var(--ck-inner-shadow)}.ck.ck-input-text.ck-error{border-color:var(--ck-color-input-error-border);animation:ck-text-input-shake .3s ease both}.ck.ck-input-text.ck-error:focus{box-shadow:var(--ck-focus-error-outer-shadow),var(--ck-inner-shadow)}@keyframes ck-text-input-shake{20%{transform:translateX(-2px)}40%{transform:translateX(2px)}60%{transform:translateX(-1px)}80%{transform:translateX(1px)}}"; }, function (t, e, n) { var i = n(162); "string" == typeof i && (i = [[t.i, i, ""]]); var o = { injectType: "singletonStyleTag", insert: "head", singleton: !0 }; n(1)(i, o); i.locals && (t.exports = i.locals); }, function (t, e) { t.exports = ".ck.ck-text-alternative-form{display:flex;flex-direction:row;flex-wrap:nowrap}.ck.ck-text-alternative-form .ck-labeled-input{display:inline-block}.ck.ck-text-alternative-form .ck-label{display:none}@media screen and (max-width:600px){.ck.ck-text-alternative-form{flex-wrap:wrap}.ck.ck-text-alternative-form .ck-labeled-input{flex-basis:100%}.ck.ck-text-alternative-form .ck-button{flex-basis:50%}}.ck.ck-text-alternative-form{padding:var(--ck-spacing-standard)}.ck.ck-text-alternative-form:focus{outline:none}[dir=ltr] .ck.ck-text-alternative-form>:not(:first-child),[dir=rtl] .ck.ck-text-alternative-form>:not(:last-child){margin-left:var(--ck-spacing-standard)}@media screen and (max-width:600px){.ck.ck-text-alternative-form{padding:0;width:calc(0.8*var(--ck-input-text-width))}.ck.ck-text-alternative-form .ck-labeled-input{margin:var(--ck-spacing-standard) var(--ck-spacing-standard) 0}.ck.ck-text-alternative-form .ck-labeled-input .ck-input-text{min-width:0;width:100%}.ck.ck-text-alternative-form .ck-button{padding:var(--ck-spacing-standard);margin-top:var(--ck-spacing-standard);border-radius:0;border:0;border-top:1px solid var(--ck-color-base-border)}[dir=ltr] .ck.ck-text-alternative-form .ck-button{margin-left:0}[dir=ltr] .ck.ck-text-alternative-form .ck-button:first-of-type{border-right:1px solid var(--ck-color-base-border)}[dir=rtl] .ck.ck-text-alternative-form .ck-button{margin-left:0}[dir=rtl] .ck.ck-text-alternative-form .ck-button:last-of-type{border-right:1px solid var(--ck-color-base-border)}}"; }, function (t, e, n) { var i = n(164); "string" == typeof i && (i = [[t.i, i, ""]]); var o = { injectType: "singletonStyleTag", insert: "head", singleton: !0 }; n(1)(i, o); i.locals && (t.exports = i.locals); }, function (t, e) { t.exports = ".ck-content .image{display:table;clear:both;text-align:center;margin:1em auto}.ck-content .image>img{display:block;margin:0 auto;max-width:100%;min-width:50px}"; }, function (t, e, n) { var i = n(166); "string" == typeof i && (i = [[t.i, i, ""]]); var o = { injectType: "singletonStyleTag", insert: "head", singleton: !0 }; n(1)(i, o); i.locals && (t.exports = i.locals); }, function (t, e) { t.exports = ".ck.ck-editor__editable .image{position:relative}.ck.ck-editor__editable .image .ck-progress-bar{position:absolute;top:0;left:0}.ck.ck-editor__editable .image.ck-appear{animation:fadeIn .7s}.ck.ck-editor__editable .image .ck-progress-bar{height:2px;width:0;background:var(--ck-color-upload-bar-background);transition:width .1s}@keyframes fadeIn{0%{opacity:0}to{opacity:1}}"; }, function (t, e, n) { var i = n(168); "string" == typeof i && (i = [[t.i, i, ""]]); var o = { injectType: "singletonStyleTag", insert: "head", singleton: !0 }; n(1)(i, o); i.locals && (t.exports = i.locals); }, function (t, e) { t.exports = '.ck-image-upload-complete-icon{display:block;position:absolute;top:10px;right:10px;border-radius:50%}.ck-image-upload-complete-icon:after{content:"";position:absolute}:root{--ck-color-image-upload-icon:#fff;--ck-color-image-upload-icon-background:#008a00;--ck-image-upload-icon-size:20px;--ck-image-upload-icon-width:2px}.ck-image-upload-complete-icon{width:var(--ck-image-upload-icon-size);height:var(--ck-image-upload-icon-size);opacity:0;background:var(--ck-color-image-upload-icon-background);animation-name:ck-upload-complete-icon-show,ck-upload-complete-icon-hide;animation-fill-mode:forwards,forwards;animation-duration:.5s,.5s;font-size:var(--ck-image-upload-icon-size);animation-delay:0ms,3s}.ck-image-upload-complete-icon:after{left:25%;top:50%;opacity:0;height:0;width:0;transform:scaleX(-1) rotate(135deg);transform-origin:left top;border-top:var(--ck-image-upload-icon-width) solid var(--ck-color-image-upload-icon);border-right:var(--ck-image-upload-icon-width) solid var(--ck-color-image-upload-icon);animation-name:ck-upload-complete-icon-check;animation-duration:.5s;animation-delay:.5s;animation-fill-mode:forwards;box-sizing:border-box}@keyframes ck-upload-complete-icon-show{0%{opacity:0}to{opacity:1}}@keyframes ck-upload-complete-icon-hide{0%{opacity:1}to{opacity:0}}@keyframes ck-upload-complete-icon-check{0%{opacity:1;width:0;height:0}33%{width:.3em;height:0}to{opacity:1;width:.3em;height:.45em}}'; }, function (t, e, n) { var i = n(170); "string" == typeof i && (i = [[t.i, i, ""]]); var o = { injectType: "singletonStyleTag", insert: "head", singleton: !0 }; n(1)(i, o); i.locals && (t.exports = i.locals); }, function (t, e) { t.exports = '.ck .ck-upload-placeholder-loader{position:absolute;display:flex;align-items:center;justify-content:center;top:0;left:0}.ck .ck-upload-placeholder-loader:before{content:"";position:relative}:root{--ck-color-upload-placeholder-loader:#b3b3b3;--ck-upload-placeholder-loader-size:32px}.ck .ck-image-upload-placeholder{width:100%;margin:0}.ck .ck-upload-placeholder-loader{width:100%;height:100%}.ck .ck-upload-placeholder-loader:before{width:var(--ck-upload-placeholder-loader-size);height:var(--ck-upload-placeholder-loader-size);border-radius:50%;border-top:3px solid var(--ck-color-upload-placeholder-loader);border-right:2px solid transparent;animation:ck-upload-placeholder-loader 1s linear infinite}@keyframes ck-upload-placeholder-loader{to{transform:rotate(1turn)}}'; }, function (t, e, n) { var i = n(172); "string" == typeof i && (i = [[t.i, i, ""]]); var o = { injectType: "singletonStyleTag", insert: "head", singleton: !0 }; n(1)(i, o); i.locals && (t.exports = i.locals); }, function (t, e) { t.exports = ".text-tiny{font-size:.7em}.text-small{font-size:.85em}.text-big{font-size:1.4em}.text-huge{font-size:1.8em}"; }, function (t, e) { t.exports = ".ck.ck-heading_heading1{font-size:20px}.ck.ck-heading_heading2{font-size:17px}.ck.ck-heading_heading3{font-size:14px}.ck[class*=ck-heading_heading]{font-weight:700}.ck.ck-dropdown.ck-heading-dropdown .ck-dropdown__button .ck-button__label{width:8em}.ck.ck-dropdown.ck-heading-dropdown .ck-dropdown__panel .ck-list__item{min-width:18em}"; }, function (t, e, n) { var i = n(175); "string" == typeof i && (i = [[t.i, i, ""]]); var o = { injectType: "singletonStyleTag", insert: "head", singleton: !0 }; n(1)(i, o); i.locals && (t.exports = i.locals); }, function (t, e) { t.exports = ":root{--ck-highlight-marker-yellow:#fdfd77;--ck-highlight-marker-green:#63f963;--ck-highlight-marker-pink:#fc7999;--ck-highlight-marker-blue:#72cdfd;--ck-highlight-pen-red:#e91313;--ck-highlight-pen-green:#180}.ck-content .marker-yellow{background-color:var(--ck-highlight-marker-yellow)}.ck-content .marker-green{background-color:var(--ck-highlight-marker-green)}.ck-content .marker-pink{background-color:var(--ck-highlight-marker-pink)}.ck-content .marker-blue{background-color:var(--ck-highlight-marker-blue)}.ck-content .pen-red{color:var(--ck-highlight-pen-red);background-color:transparent}.ck-content .pen-green{color:var(--ck-highlight-pen-green);background-color:transparent}"; }, function (t, e, n) { var i = n(177); "string" == typeof i && (i = [[t.i, i, ""]]); var o = { injectType: "singletonStyleTag", insert: "head", singleton: !0 }; n(1)(i, o); i.locals && (t.exports = i.locals); }, function (t, e) { t.exports = ".ck-content .image>figcaption{display:table-caption;caption-side:bottom;word-break:break-word;color:#333;background-color:#f7f7f7;padding:.6em;font-size:.75em;outline-offset:-1px}"; }, function (t, e, n) { var i = n(179); "string" == typeof i && (i = [[t.i, i, ""]]); var o = { injectType: "singletonStyleTag", insert: "head", singleton: !0 }; n(1)(i, o); i.locals && (t.exports = i.locals); }, function (t, e) { t.exports = ".ck .ck-widget_with-resizer{position:relative}.ck .ck-widget__resizer{display:none;position:absolute;pointer-events:none;left:0;top:0;outline:1px solid var(--ck-color-resizer)}.ck-focused .ck-widget_with-resizer.ck-widget_selected>.ck-widget__resizer{display:block}.ck .ck-widget__resizer__handle{position:absolute;pointer-events:all;width:var(--ck-resizer-size);height:var(--ck-resizer-size);background:var(--ck-color-focus-border);border:var(--ck-resizer-border-width) solid #fff;border-radius:var(--ck-resizer-border-radius)}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-top-left{top:var(--ck-resizer-offset);left:var(--ck-resizer-offset);cursor:nwse-resize}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-top-right{top:var(--ck-resizer-offset);right:var(--ck-resizer-offset);cursor:nesw-resize}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-bottom-right{bottom:var(--ck-resizer-offset);right:var(--ck-resizer-offset);cursor:nwse-resize}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-bottom-left{bottom:var(--ck-resizer-offset);left:var(--ck-resizer-offset);cursor:nesw-resize}"; }, function (t, e, n) { var i = n(181); "string" == typeof i && (i = [[t.i, i, ""]]); var o = { injectType: "singletonStyleTag", insert: "head", singleton: !0 }; n(1)(i, o); i.locals && (t.exports = i.locals); }, function (t, e) { t.exports = ".ck-content .image.image_resized{max-width:100%;display:block;box-sizing:border-box}.ck-content .image.image_resized img{width:100%}.ck-content .image.image_resized>figcaption{display:block}"; }, function (t, e, n) { var i = n(183); "string" == typeof i && (i = [[t.i, i, ""]]); var o = { injectType: "singletonStyleTag", insert: "head", singleton: !0 }; n(1)(i, o); i.locals && (t.exports = i.locals); }, function (t, e) { t.exports = ":root{--ck-image-style-spacing:1.5em}.ck-content .image-style-align-center,.ck-content .image-style-align-left,.ck-content .image-style-align-right,.ck-content .image-style-side{max-width:50%}.ck-content .image-style-side{float:right;margin-left:var(--ck-image-style-spacing)}.ck-content .image-style-align-left{float:left;margin-right:var(--ck-image-style-spacing)}.ck-content .image-style-align-center{margin-left:auto;margin-right:auto}.ck-content .image-style-align-right{float:right;margin-left:var(--ck-image-style-spacing)}"; }, function (t, e, n) { var i = n(185); "string" == typeof i && (i = [[t.i, i, ""]]); var o = { injectType: "singletonStyleTag", insert: "head", singleton: !0 }; n(1)(i, o); i.locals && (t.exports = i.locals); }, function (t, e) { t.exports = ".ck.ck-link-form{display:flex}.ck.ck-link-form .ck-label{display:none}@media screen and (max-width:600px){.ck.ck-link-form{flex-wrap:wrap}.ck.ck-link-form .ck-labeled-input{flex-basis:100%}.ck.ck-link-form .ck-button{flex-basis:50%}}.ck.ck-link-form_layout-vertical{display:block}.ck.ck-link-form{padding:var(--ck-spacing-standard)}.ck.ck-link-form:focus{outline:none}[dir=ltr] .ck.ck-link-form>:not(:first-child),[dir=rtl] .ck.ck-link-form>:not(:last-child){margin-left:var(--ck-spacing-standard)}@media screen and (max-width:600px){.ck.ck-link-form{padding:0;width:calc(0.8*var(--ck-input-text-width))}.ck.ck-link-form .ck-labeled-input{margin:var(--ck-spacing-standard) var(--ck-spacing-standard) 0}.ck.ck-link-form .ck-labeled-input .ck-input-text{min-width:0;width:100%}.ck.ck-link-form .ck-button{padding:var(--ck-spacing-standard);margin-top:var(--ck-spacing-standard);border-radius:0;border:0;border-top:1px solid var(--ck-color-base-border)}[dir=ltr] .ck.ck-link-form .ck-button{margin-left:0}[dir=ltr] .ck.ck-link-form .ck-button:first-of-type{border-right:1px solid var(--ck-color-base-border)}[dir=rtl] .ck.ck-link-form .ck-button{margin-left:0}[dir=rtl] .ck.ck-link-form .ck-button:last-of-type{border-right:1px solid var(--ck-color-base-border)}}.ck.ck-link-form_layout-vertical{padding:0;min-width:var(--ck-input-text-width)}.ck.ck-link-form_layout-vertical .ck-labeled-input{margin:var(--ck-spacing-standard) var(--ck-spacing-standard) var(--ck-spacing-small)}.ck.ck-link-form_layout-vertical .ck-labeled-input .ck-input-text{min-width:0;width:100%}.ck.ck-link-form_layout-vertical .ck-button{padding:var(--ck-spacing-standard);margin:0;border-radius:0;border:0;border-top:1px solid var(--ck-color-base-border);width:50%}[dir=ltr] .ck.ck-link-form_layout-vertical .ck-button{margin-left:0}[dir=ltr] .ck.ck-link-form_layout-vertical .ck-button:first-of-type{border-right:1px solid var(--ck-color-base-border)}[dir=rtl] .ck.ck-link-form_layout-vertical .ck-button{margin-left:0}[dir=rtl] .ck.ck-link-form_layout-vertical .ck-button:last-of-type{border-right:1px solid var(--ck-color-base-border)}.ck.ck-link-form_layout-vertical .ck.ck-list{margin-left:0}.ck.ck-link-form_layout-vertical .ck.ck-list .ck-button.ck-switchbutton{border:0;width:100%}.ck.ck-link-form_layout-vertical .ck.ck-list .ck-button.ck-switchbutton:hover{background:none}"; }, function (t, e, n) { var i = n(187); "string" == typeof i && (i = [[t.i, i, ""]]); var o = { injectType: "singletonStyleTag", insert: "head", singleton: !0 }; n(1)(i, o); i.locals && (t.exports = i.locals); }, function (t, e) { t.exports = ".ck.ck-link-actions{display:flex;flex-direction:row;flex-wrap:nowrap}.ck.ck-link-actions .ck-link-actions__preview{display:inline-block}.ck.ck-link-actions .ck-link-actions__preview .ck-button__label{overflow:hidden}@media screen and (max-width:600px){.ck.ck-link-actions{flex-wrap:wrap}.ck.ck-link-actions .ck-link-actions__preview{flex-basis:100%}.ck.ck-link-actions .ck-button:not(.ck-link-actions__preview){flex-basis:50%}}.ck.ck-link-actions{padding:var(--ck-spacing-standard)}.ck.ck-link-actions .ck-button.ck-link-actions__preview{padding-left:0;padding-right:0}.ck.ck-link-actions .ck-button.ck-link-actions__preview .ck-button__label{padding:0 var(--ck-spacing-medium);color:var(--ck-color-link-default);text-overflow:ellipsis;cursor:pointer;max-width:var(--ck-input-text-width);min-width:3em;text-align:center}.ck.ck-link-actions .ck-button.ck-link-actions__preview .ck-button__label:hover{text-decoration:underline}.ck.ck-link-actions .ck-button.ck-link-actions__preview,.ck.ck-link-actions .ck-button.ck-link-actions__preview:active,.ck.ck-link-actions .ck-button.ck-link-actions__preview:focus,.ck.ck-link-actions .ck-button.ck-link-actions__preview:hover{background:none}.ck.ck-link-actions .ck-button.ck-link-actions__preview:active{box-shadow:none}.ck.ck-link-actions .ck-button.ck-link-actions__preview:focus .ck-button__label{text-decoration:underline}.ck.ck-link-actions:focus{outline:none}[dir=ltr] .ck.ck-link-actions .ck-button:not(:first-child),[dir=rtl] .ck.ck-link-actions .ck-button:not(:last-child){margin-left:var(--ck-spacing-standard)}@media screen and (max-width:600px){.ck.ck-link-actions{padding:0;width:calc(0.8*var(--ck-input-text-width))}.ck.ck-link-actions .ck-button.ck-link-actions__preview{margin:var(--ck-spacing-standard) var(--ck-spacing-standard) 0}.ck.ck-link-actions .ck-button.ck-link-actions__preview .ck-button__label{min-width:0;max-width:100%}.ck.ck-link-actions .ck-button:not(.ck-link-actions__preview){padding:var(--ck-spacing-standard);margin-top:var(--ck-spacing-standard);border-radius:0;border:0;border-top:1px solid var(--ck-color-base-border)}[dir=ltr] .ck.ck-link-actions .ck-button:not(.ck-link-actions__preview){margin-left:0}[dir=ltr] .ck.ck-link-actions .ck-button:not(.ck-link-actions__preview):first-of-type{border-right:1px solid var(--ck-color-base-border)}[dir=rtl] .ck.ck-link-actions .ck-button:not(.ck-link-actions__preview){margin-left:0}[dir=rtl] .ck.ck-link-actions .ck-button:not(.ck-link-actions__preview):last-of-type{border-right:1px solid var(--ck-color-base-border)}}"; }, function (t, e, n) { var i = n(189); "string" == typeof i && (i = [[t.i, i, ""]]); var o = { injectType: "singletonStyleTag", insert: "head", singleton: !0 }; n(1)(i, o); i.locals && (t.exports = i.locals); }, function (t, e) { t.exports = '.ck-media__wrapper .ck-media__placeholder{display:flex;flex-direction:column;align-items:center}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url .ck-tooltip{display:block}@media (hover:none){.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url .ck-tooltip{display:none}}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url{max-width:100%;position:relative}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url:hover .ck-tooltip{visibility:visible;opacity:1}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url .ck-media__placeholder__url__text{overflow:hidden;display:block}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="google.com/maps"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck-media__placeholder__icon *{display:none}.ck-editor__editable:not(.ck-read-only) .ck-media__wrapper>:not(.ck-media__placeholder),.ck-editor__editable:not(.ck-read-only) .ck-widget:not(.ck-widget_selected) .ck-media__placeholder{pointer-events:none}:root{--ck-media-embed-placeholder-icon-size:3em;--ck-color-media-embed-placeholder-url-text:#757575;--ck-color-media-embed-placeholder-url-text-hover:var(--ck-color-base-text)}.ck-media__wrapper{margin:0 auto}.ck-media__wrapper .ck-media__placeholder{padding:calc(3*var(--ck-spacing-standard));background:var(--ck-color-base-foreground)}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__icon{min-width:var(--ck-media-embed-placeholder-icon-size);height:var(--ck-media-embed-placeholder-icon-size);margin-bottom:var(--ck-spacing-large);background-position:50%;background-size:cover}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__icon .ck-icon{width:100%;height:100%}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url__text{color:var(--ck-color-media-embed-placeholder-url-text);white-space:nowrap;text-align:center;font-style:italic;text-overflow:ellipsis}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url__text:hover{color:var(--ck-color-media-embed-placeholder-url-text-hover);cursor:pointer;text-decoration:underline}.ck-media__wrapper[data-oembed-url*="open.spotify.com"]{max-width:300px;max-height:380px}.ck-media__wrapper[data-oembed-url*="google.com/maps"] .ck-media__placeholder__icon{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNTAuMzc4IiBoZWlnaHQ9IjI1NC4xNjciIHZpZXdCb3g9IjAgMCA2Ni4yNDYgNjcuMjQ4Ij48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMTcyLjUzMSAtMjE4LjQ1NSkgc2NhbGUoLjk4MDEyKSI+PHJlY3Qgcnk9IjUuMjM4IiByeD0iNS4yMzgiIHk9IjIzMS4zOTkiIHg9IjE3Ni4wMzEiIGhlaWdodD0iNjAuMDk5IiB3aWR0aD0iNjAuMDk5IiBmaWxsPSIjMzRhNjY4IiBwYWludC1vcmRlcj0ibWFya2VycyBzdHJva2UgZmlsbCIvPjxwYXRoIGQ9Ik0yMDYuNDc3IDI2MC45bC0yOC45ODcgMjguOTg3YTUuMjE4IDUuMjE4IDAgMDAzLjc4IDEuNjFoNDkuNjIxYzEuNjk0IDAgMy4xOS0uNzk4IDQuMTQ2LTIuMDM3eiIgZmlsbD0iIzVjODhjNSIvPjxwYXRoIGQ9Ik0yMjYuNzQyIDIyMi45ODhjLTkuMjY2IDAtMTYuNzc3IDcuMTctMTYuNzc3IDE2LjAxNC4wMDcgMi43NjIuNjYzIDUuNDc0IDIuMDkzIDcuODc1LjQzLjcwMy44MyAxLjQwOCAxLjE5IDIuMTA3LjMzMy41MDIuNjUgMS4wMDUuOTUgMS41MDguMzQzLjQ3Ny42NzMuOTU3Ljk4OCAxLjQ0IDEuMzEgMS43NjkgMi41IDMuNTAyIDMuNjM3IDUuMTY4Ljc5MyAxLjI3NSAxLjY4MyAyLjY0IDIuNDY2IDMuOTkgMi4zNjMgNC4wOTQgNC4wMDcgOC4wOTIgNC42IDEzLjkxNHYuMDEyYy4xODIuNDEyLjUxNi42NjYuODc5LjY2Ny40MDMtLjAwMS43NjgtLjMxNC45My0uNzk5LjYwMy01Ljc1NiAyLjIzOC05LjcyOSA0LjU4NS0xMy43OTQuNzgyLTEuMzUgMS42NzMtMi43MTUgMi40NjUtMy45OSAxLjEzNy0xLjY2NiAyLjMyOC0zLjQgMy42MzgtNS4xNjkuMzE1LS40ODIuNjQ1LS45NjIuOTg4LTEuNDM5LjMtLjUwMy42MTctMS4wMDYuOTUtMS41MDguMzU5LS43Ljc2LTEuNDA0IDEuMTktMi4xMDcgMS40MjYtMi40MDIgMi01LjExNCAyLjAwNC03Ljg3NSAwLTguODQ0LTcuNTExLTE2LjAxNC0xNi43NzYtMTYuMDE0eiIgZmlsbD0iI2RkNGIzZSIgcGFpbnQtb3JkZXI9Im1hcmtlcnMgc3Ryb2tlIGZpbGwiLz48ZWxsaXBzZSByeT0iNS41NjQiIHJ4PSI1LjgyOCIgY3k9IjIzOS4wMDIiIGN4PSIyMjYuNzQyIiBmaWxsPSIjODAyZDI3IiBwYWludC1vcmRlcj0ibWFya2VycyBzdHJva2UgZmlsbCIvPjxwYXRoIGQ9Ik0xOTAuMzAxIDIzNy4yODNjLTQuNjcgMC04LjQ1NyAzLjg1My04LjQ1NyA4LjYwNnMzLjc4NiA4LjYwNyA4LjQ1NyA4LjYwN2MzLjA0MyAwIDQuODA2LS45NTggNi4zMzctMi41MTYgMS41My0xLjU1NyAyLjA4Ny0zLjkxMyAyLjA4Ny02LjI5IDAtLjM2Mi0uMDIzLS43MjItLjA2NC0xLjA3OWgtOC4yNTd2My4wNDNoNC44NWMtLjE5Ny43NTktLjUzMSAxLjQ1LTEuMDU4IDEuOTg2LS45NDIuOTU4LTIuMDI4IDEuNTQ4LTMuOTAxIDEuNTQ4LTIuODc2IDAtNS4yMDgtMi4zNzItNS4yMDgtNS4yOTkgMC0yLjkyNiAyLjMzMi01LjI5OSA1LjIwOC01LjI5OSAxLjM5OSAwIDIuNjE4LjQwNyAzLjU4NCAxLjI5M2wyLjM4MS0yLjM4YzAtLjAwMi0uMDAzLS4wMDQtLjAwNC0uMDA1LTEuNTg4LTEuNTI0LTMuNjItMi4yMTUtNS45NTUtMi4yMTV6bTQuNDMgNS42NmwuMDAzLjAwNnYtLjAwM3oiIGZpbGw9IiNmZmYiIHBhaW50LW9yZGVyPSJtYXJrZXJzIHN0cm9rZSBmaWxsIi8+PHBhdGggZD0iTTIxNS4xODQgMjUxLjkyOWwtNy45OCA3Ljk3OSAyOC40NzcgMjguNDc1YTUuMjMzIDUuMjMzIDAgMDAuNDQ5LTIuMTIzdi0zMS4xNjVjLS40NjkuNjc1LS45MzQgMS4zNDktMS4zODIgMi4wMDUtLjc5MiAxLjI3NS0xLjY4MiAyLjY0LTIuNDY1IDMuOTktMi4zNDcgNC4wNjUtMy45ODIgOC4wMzgtNC41ODUgMTMuNzk0LS4xNjIuNDg1LS41MjcuNzk4LS45My43OTktLjM2My0uMDAxLS42OTctLjI1NS0uODc5LS42Njd2LS4wMTJjLS41OTMtNS44MjItMi4yMzctOS44Mi00LjYtMTMuOTE0LS43ODMtMS4zNS0xLjY3My0yLjcxNS0yLjQ2Ni0zLjk5LTEuMTM3LTEuNjY2LTIuMzI3LTMuNC0zLjYzNy01LjE2OWwtLjAwMi0uMDAzeiIgZmlsbD0iI2MzYzNjMyIvPjxwYXRoIGQ9Ik0yMTIuOTgzIDI0OC40OTVsLTM2Ljk1MiAzNi45NTN2LjgxMmE1LjIyNyA1LjIyNyAwIDAwNS4yMzggNS4yMzhoMS4wMTVsMzUuNjY2LTM1LjY2NmExMzYuMjc1IDEzNi4yNzUgMCAwMC0yLjc2NC0zLjkgMzcuNTc1IDM3LjU3NSAwIDAwLS45ODktMS40NCAzNS4xMjcgMzUuMTI3IDAgMDAtLjk1LTEuNTA4Yy0uMDgzLS4xNjItLjE3Ni0uMzI2LS4yNjQtLjQ4OXoiIGZpbGw9IiNmZGRjNGYiIHBhaW50LW9yZGVyPSJtYXJrZXJzIHN0cm9rZSBmaWxsIi8+PHBhdGggZD0iTTIxMS45OTggMjYxLjA4M2wtNi4xNTIgNi4xNTEgMjQuMjY0IDI0LjI2NGguNzgxYTUuMjI3IDUuMjI3IDAgMDA1LjIzOS01LjIzOHYtMS4wNDV6IiBmaWxsPSIjZmZmIiBwYWludC1vcmRlcj0ibWFya2VycyBzdHJva2UgZmlsbCIvPjwvZz48L3N2Zz4=)}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder{background:#4268b3}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder .ck-media__placeholder__icon{background-image:url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTAyNCIgaGVpZ2h0PSIxMDI0IiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPjxwYXRoIGQ9Ik05NjcuNDg0IDBINTYuNTE3QzI1LjMwNCAwIDAgMjUuMzA0IDAgNTYuNTE3djkxMC45NjZDMCA5OTguNjk0IDI1LjI5NyAxMDI0IDU2LjUyMiAxMDI0SDU0N1Y2MjhINDE0VjQ3M2gxMzNWMzU5LjAyOWMwLTEzMi4yNjIgODAuNzczLTIwNC4yODIgMTk4Ljc1Ni0yMDQuMjgyIDU2LjUxMyAwIDEwNS4wODYgNC4yMDggMTE5LjI0NCA2LjA4OVYyOTlsLTgxLjYxNi4wMzdjLTYzLjk5MyAwLTc2LjM4NCAzMC40OTItNzYuMzg0IDc1LjIzNlY0NzNoMTUzLjQ4N2wtMTkuOTg2IDE1NUg3MDd2Mzk2aDI2MC40ODRjMzEuMjEzIDAgNTYuNTE2LTI1LjMwMyA1Ni41MTYtNTYuNTE2VjU2LjUxNUMxMDI0IDI1LjMwMyA5OTguNjk3IDAgOTY3LjQ4NCAwIiBmaWxsPSIjRkZGRkZFIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiLz48L3N2Zz4=)}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder .ck-media__placeholder__url__text{color:#cdf}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder .ck-media__placeholder__url__text:hover{color:#fff}.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder{background:linear-gradient(-135deg,#1400c8,#b900b4,#f50000)}.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder .ck-media__placeholder__icon{background-image:url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNTA0IiBoZWlnaHQ9IjUwNCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+PGRlZnM+PHBhdGggaWQ9ImEiIGQ9Ik0wIC4xNTloNTAzLjg0MVY1MDMuOTRIMHoiLz48L2RlZnM+PGcgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj48bWFzayBpZD0iYiIgZmlsbD0iI2ZmZiI+PHVzZSB4bGluazpocmVmPSIjYSIvPjwvbWFzaz48cGF0aCBkPSJNMjUxLjkyMS4xNTljLTY4LjQxOCAwLTc2Ljk5Ny4yOS0xMDMuODY3IDEuNTE2LTI2LjgxNCAxLjIyMy00NS4xMjcgNS40ODItNjEuMTUxIDExLjcxLTE2LjU2NiA2LjQzNy0zMC42MTUgMTUuMDUxLTQ0LjYyMSAyOS4wNTYtMTQuMDA1IDE0LjAwNi0yMi42MTkgMjguMDU1LTI5LjA1NiA0NC42MjEtNi4yMjggMTYuMDI0LTEwLjQ4NyAzNC4zMzctMTEuNzEgNjEuMTUxQy4yOSAxNzUuMDgzIDAgMTgzLjY2MiAwIDI1Mi4wOGMwIDY4LjQxNy4yOSA3Ni45OTYgMS41MTYgMTAzLjg2NiAxLjIyMyAyNi44MTQgNS40ODIgNDUuMTI3IDExLjcxIDYxLjE1MSA2LjQzNyAxNi41NjYgMTUuMDUxIDMwLjYxNSAyOS4wNTYgNDQuNjIxIDE0LjAwNiAxNC4wMDUgMjguMDU1IDIyLjYxOSA0NC42MjEgMjkuMDU3IDE2LjAyNCA2LjIyNyAzNC4zMzcgMTAuNDg2IDYxLjE1MSAxMS43MDkgMjYuODcgMS4yMjYgMzUuNDQ5IDEuNTE2IDEwMy44NjcgMS41MTYgNjguNDE3IDAgNzYuOTk2LS4yOSAxMDMuODY2LTEuNTE2IDI2LjgxNC0xLjIyMyA0NS4xMjctNS40ODIgNjEuMTUxLTExLjcwOSAxNi41NjYtNi40MzggMzAuNjE1LTE1LjA1MiA0NC42MjEtMjkuMDU3IDE0LjAwNS0xNC4wMDYgMjIuNjE5LTI4LjA1NSAyOS4wNTctNDQuNjIxIDYuMjI3LTE2LjAyNCAxMC40ODYtMzQuMzM3IDExLjcwOS02MS4xNTEgMS4yMjYtMjYuODcgMS41MTYtMzUuNDQ5IDEuNTE2LTEwMy44NjYgMC02OC40MTgtLjI5LTc2Ljk5Ny0xLjUxNi0xMDMuODY3LTEuMjIzLTI2LjgxNC01LjQ4Mi00NS4xMjctMTEuNzA5LTYxLjE1MS02LjQzOC0xNi41NjYtMTUuMDUyLTMwLjYxNS0yOS4wNTctNDQuNjIxLTE0LjAwNi0xNC4wMDUtMjguMDU1LTIyLjYxOS00NC42MjEtMjkuMDU2LTE2LjAyNC02LjIyOC0zNC4zMzctMTAuNDg3LTYxLjE1MS0xMS43MUMzMjguOTE3LjQ0OSAzMjAuMzM4LjE1OSAyNTEuOTIxLjE1OXptMCA0NS4zOTFjNjcuMjY1IDAgNzUuMjMzLjI1NyAxMDEuNzk3IDEuNDY5IDI0LjU2MiAxLjEyIDM3LjkwMSA1LjIyNCA0Ni43NzggOC42NzQgMTEuNzU5IDQuNTcgMjAuMTUxIDEwLjAyOSAyOC45NjYgMTguODQ1IDguODE2IDguODE1IDE0LjI3NSAxNy4yMDcgMTguODQ1IDI4Ljk2NiAzLjQ1IDguODc3IDcuNTU0IDIyLjIxNiA4LjY3NCA0Ni43NzggMS4yMTIgMjYuNTY0IDEuNDY5IDM0LjUzMiAxLjQ2OSAxMDEuNzk4IDAgNjcuMjY1LS4yNTcgNzUuMjMzLTEuNDY5IDEwMS43OTctMS4xMiAyNC41NjItNS4yMjQgMzcuOTAxLTguNjc0IDQ2Ljc3OC00LjU3IDExLjc1OS0xMC4wMjkgMjAuMTUxLTE4Ljg0NSAyOC45NjYtOC44MTUgOC44MTYtMTcuMjA3IDE0LjI3NS0yOC45NjYgMTguODQ1LTguODc3IDMuNDUtMjIuMjE2IDcuNTU0LTQ2Ljc3OCA4LjY3NC0yNi41NiAxLjIxMi0zNC41MjcgMS40NjktMTAxLjc5NyAxLjQ2OS02Ny4yNzEgMC03NS4yMzctLjI1Ny0xMDEuNzk4LTEuNDY5LTI0LjU2Mi0xLjEyLTM3LjkwMS01LjIyNC00Ni43NzgtOC42NzQtMTEuNzU5LTQuNTctMjAuMTUxLTEwLjAyOS0yOC45NjYtMTguODQ1LTguODE1LTguODE1LTE0LjI3NS0xNy4yMDctMTguODQ1LTI4Ljk2Ni0zLjQ1LTguODc3LTcuNTU0LTIyLjIxNi04LjY3NC00Ni43NzgtMS4yMTItMjYuNTY0LTEuNDY5LTM0LjUzMi0xLjQ2OS0xMDEuNzk3IDAtNjcuMjY2LjI1Ny03NS4yMzQgMS40NjktMTAxLjc5OCAxLjEyLTI0LjU2MiA1LjIyNC0zNy45MDEgOC42NzQtNDYuNzc4IDQuNTctMTEuNzU5IDEwLjAyOS0yMC4xNTEgMTguODQ1LTI4Ljk2NiA4LjgxNS04LjgxNiAxNy4yMDctMTQuMjc1IDI4Ljk2Ni0xOC44NDUgOC44NzctMy40NSAyMi4yMTYtNy41NTQgNDYuNzc4LTguNjc0IDI2LjU2NC0xLjIxMiAzNC41MzItMS40NjkgMTAxLjc5OC0xLjQ2OXoiIGZpbGw9IiNGRkYiIG1hc2s9InVybCgjYikiLz48cGF0aCBkPSJNMjUxLjkyMSAzMzYuMDUzYy00Ni4zNzggMC04My45NzQtMzcuNTk2LTgzLjk3NC04My45NzMgMC00Ni4zNzggMzcuNTk2LTgzLjk3NCA4My45NzQtODMuOTc0IDQ2LjM3NyAwIDgzLjk3MyAzNy41OTYgODMuOTczIDgzLjk3NCAwIDQ2LjM3Ny0zNy41OTYgODMuOTczLTgzLjk3MyA4My45NzN6bTAtMjEzLjMzOGMtNzEuNDQ3IDAtMTI5LjM2NSA1Ny45MTgtMTI5LjM2NSAxMjkuMzY1IDAgNzEuNDQ2IDU3LjkxOCAxMjkuMzY0IDEyOS4zNjUgMTI5LjM2NCA3MS40NDYgMCAxMjkuMzY0LTU3LjkxOCAxMjkuMzY0LTEyOS4zNjQgMC03MS40NDctNTcuOTE4LTEyOS4zNjUtMTI5LjM2NC0xMjkuMzY1ek00MTYuNjI3IDExNy42MDRjMCAxNi42OTYtMTMuNTM1IDMwLjIzLTMwLjIzMSAzMC4yMy0xNi42OTUgMC0zMC4yMy0xMy41MzQtMzAuMjMtMzAuMjMgMC0xNi42OTYgMTMuNTM1LTMwLjIzMSAzMC4yMy0zMC4yMzEgMTYuNjk2IDAgMzAuMjMxIDEzLjUzNSAzMC4yMzEgMzAuMjMxIiBmaWxsPSIjRkZGIi8+PC9nPjwvc3ZnPg==)}.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder .ck-media__placeholder__url__text{color:#ffe0fe}.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder .ck-media__placeholder__url__text:hover{color:#fff}.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder{background:linear-gradient(90deg,#71c6f4,#0d70a5)}.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder .ck-media__placeholder__icon{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA0MDAgNDAwIj48cGF0aCBkPSJNNDAwIDIwMGMwIDExMC41LTg5LjUgMjAwLTIwMCAyMDBTMCAzMTAuNSAwIDIwMCA4OS41IDAgMjAwIDBzMjAwIDg5LjUgMjAwIDIwMHpNMTYzLjQgMzA1LjVjODguNyAwIDEzNy4yLTczLjUgMTM3LjItMTM3LjIgMC0yLjEgMC00LjItLjEtNi4yIDkuNC02LjggMTcuNi0xNS4zIDI0LjEtMjUtOC42IDMuOC0xNy45IDYuNC0yNy43IDcuNiAxMC02IDE3LjYtMTUuNCAyMS4yLTI2LjctOS4zIDUuNS0xOS42IDkuNS0zMC42IDExLjctOC44LTkuNC0yMS4zLTE1LjItMzUuMi0xNS4yLTI2LjYgMC00OC4yIDIxLjYtNDguMiA0OC4yIDAgMy44LjQgNy41IDEuMyAxMS00MC4xLTItNzUuNi0yMS4yLTk5LjQtNTAuNC00LjEgNy4xLTYuNSAxNS40LTYuNSAyNC4yIDAgMTYuNyA4LjUgMzEuNSAyMS41IDQwLjEtNy45LS4yLTE1LjMtMi40LTIxLjgtNnYuNmMwIDIzLjQgMTYuNiA0Mi44IDM4LjcgNDcuMy00IDEuMS04LjMgMS43LTEyLjcgMS43LTMuMSAwLTYuMS0uMy05LjEtLjkgNi4xIDE5LjIgMjMuOSAzMy4xIDQ1IDMzLjUtMTYuNSAxMi45LTM3LjMgMjAuNi01OS45IDIwLjYtMy45IDAtNy43LS4yLTExLjUtLjcgMjEuMSAxMy44IDQ2LjUgMjEuOCA3My43IDIxLjgiIGZpbGw9IiNmZmYiLz48L3N2Zz4=)}.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder .ck-media__placeholder__url__text{color:#b8e6ff}.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder .ck-media__placeholder__url__text:hover{color:#fff}'; }, function (t, e, n) { var i = n(191); "string" == typeof i && (i = [[t.i, i, ""]]); var o = { injectType: "singletonStyleTag", insert: "head", singleton: !0 }; n(1)(i, o); i.locals && (t.exports = i.locals); }, function (t, e) { t.exports = ".ck.ck-media-form{display:flex;align-items:flex-start;flex-direction:row;flex-wrap:nowrap}.ck.ck-media-form .ck-labeled-input{display:inline-block}.ck.ck-media-form .ck-label{display:none}@media screen and (max-width:600px){.ck.ck-media-form{flex-wrap:wrap}.ck.ck-media-form .ck-labeled-input{flex-basis:100%}.ck.ck-media-form .ck-button{flex-basis:50%}}.ck.ck-media-form{padding:var(--ck-spacing-standard)}.ck.ck-media-form:focus{outline:none}[dir=ltr] .ck.ck-media-form>:not(:first-child),[dir=rtl] .ck.ck-media-form>:not(:last-child){margin-left:var(--ck-spacing-standard)}@media screen and (max-width:600px){.ck.ck-media-form{padding:0;width:calc(0.8*var(--ck-input-text-width))}.ck.ck-media-form .ck-labeled-input{margin:var(--ck-spacing-standard) var(--ck-spacing-standard) 0}.ck.ck-media-form .ck-labeled-input .ck-input-text{min-width:0;width:100%}.ck.ck-media-form .ck-labeled-input .ck-labeled-input__error{white-space:normal}.ck.ck-media-form .ck-button{padding:var(--ck-spacing-standard);margin-top:var(--ck-spacing-standard);border-radius:0;border:0;border-top:1px solid var(--ck-color-base-border)}[dir=ltr] .ck.ck-media-form .ck-button{margin-left:0}[dir=ltr] .ck.ck-media-form .ck-button:first-of-type{border-right:1px solid var(--ck-color-base-border)}[dir=rtl] .ck.ck-media-form .ck-button{margin-left:0}[dir=rtl] .ck.ck-media-form .ck-button:last-of-type{border-right:1px solid var(--ck-color-base-border)}}"; }, function (t, e, n) { var i = n(193); "string" == typeof i && (i = [[t.i, i, ""]]); var o = { injectType: "singletonStyleTag", insert: "head", singleton: !0 }; n(1)(i, o); i.locals && (t.exports = i.locals); }, function (t, e) { t.exports = ".ck-content .media{clear:both;margin:1em 0;display:block;min-width:15em}"; }, function (t, e, n) { var i = n(195); "string" == typeof i && (i = [[t.i, i, ""]]); var o = { injectType: "singletonStyleTag", insert: "head", singleton: !0 }; n(1)(i, o); i.locals && (t.exports = i.locals); }, function (t, e) { t.exports = ":root{--ck-color-table-focused-cell-background:#f5fafe}.ck-widget.table td.ck-editor__nested-editable.ck-editor__nested-editable_focused,.ck-widget.table th.ck-editor__nested-editable.ck-editor__nested-editable_focused{background:var(--ck-color-table-focused-cell-background);border-style:none;outline:1px solid var(--ck-color-focus-border);outline-offset:-1px}"; }, function (t, e, n) { var i = n(197); "string" == typeof i && (i = [[t.i, i, ""]]); var o = { injectType: "singletonStyleTag", insert: "head", singleton: !0 }; n(1)(i, o); i.locals && (t.exports = i.locals); }, function (t, e) { t.exports = ".ck .ck-insert-table-dropdown__grid{display:flex;flex-direction:row;flex-wrap:wrap}:root{--ck-insert-table-dropdown-padding:10px;--ck-insert-table-dropdown-box-height:11px;--ck-insert-table-dropdown-box-width:12px;--ck-insert-table-dropdown-box-margin:1px}.ck .ck-insert-table-dropdown__grid{width:calc(var(--ck-insert-table-dropdown-box-width)*10 + var(--ck-insert-table-dropdown-box-margin)*20 + var(--ck-insert-table-dropdown-padding)*2);padding:var(--ck-insert-table-dropdown-padding) var(--ck-insert-table-dropdown-padding) 0}.ck .ck-insert-table-dropdown__label{text-align:center}.ck .ck-insert-table-dropdown-grid-box{width:var(--ck-insert-table-dropdown-box-width);height:var(--ck-insert-table-dropdown-box-height);margin:var(--ck-insert-table-dropdown-box-margin);border:1px solid var(--ck-color-base-border);border-radius:1px}.ck .ck-insert-table-dropdown-grid-box.ck-on{border-color:var(--ck-color-focus-border);background:var(--ck-color-focus-outer-shadow)}"; }, function (t, e, n) { var i = n(199); "string" == typeof i && (i = [[t.i, i, ""]]); var o = { injectType: "singletonStyleTag", insert: "head", singleton: !0 }; n(1)(i, o); i.locals && (t.exports = i.locals); }, function (t, e) { t.exports = ".ck-content .table{margin:1em auto;display:table}.ck-content .table table{border-collapse:collapse;border-spacing:0;border:1px double #b3b3b3}.ck-content .table table td,.ck-content .table table th{min-width:2em;padding:.4em;border-color:#d9d9d9}.ck-content .table table th{font-weight:700;background:#fafafa}"; }, function (t, e, n) {
                    "use strict";
                    n.r(e);
                    var i = n(3), o = i.a.Symbol, r = Object.prototype, s = r.hasOwnProperty, a = r.toString, c = o ? o.toStringTag : void 0;
                    var l = function (t) { var e = s.call(t, c), n = t[c]; try {
                        t[c] = void 0;
                        var i = !0;
                    }
                    catch (t) { } var o = a.call(t); return i && (e ? t[c] = n : delete t[c]), o; }, d = Object.prototype.toString;
                    var u = function (t) { return d.call(t); }, h = "[object Null]", m = "[object Undefined]", g = o ? o.toStringTag : void 0;
                    var f = function (t) { return null == t ? void 0 === t ? m : h : g && g in Object(t) ? l(t) : u(t); };
                    var p = function (t, e) { return function (n) { return t(e(n)); }; }, x = p(Object.getPrototypeOf, Object);
                    var b = function (t) { return null != t && "object" == typeof t; }, k = "[object Object]", w = Function.prototype, _ = Object.prototype, v = w.toString, y = _.hasOwnProperty, C = v.call(Object);
                    var T = function (t) { if (!b(t) || f(t) != k)
                        return !1; var e = x(t); if (null === e)
                        return !0; var n = y.call(e, "constructor") && e.constructor; return "function" == typeof n && n instanceof n && v.call(n) == C; };
                    var A = function () { this.__data__ = [], this.size = 0; };
                    var S = function (t, e) { return t === e || t != t && e != e; };
                    var P = function (t, e) { for (var n = t.length; n--;)
                        if (S(t[n][0], e))
                            return n; return -1; }, M = Array.prototype.splice;
                    var E = function (t) { var e = this.__data__, n = P(e, t); return !(n < 0 || (n == e.length - 1 ? e.pop() : M.call(e, n, 1), --this.size, 0)); };
                    var I = function (t) { var e = this.__data__, n = P(e, t); return n < 0 ? void 0 : e[n][1]; };
                    var N = function (t) { return P(this.__data__, t) > -1; };
                    var R = function (t, e) { var n = this.__data__, i = P(n, t); return i < 0 ? (++this.size, n.push([t, e])) : n[i][1] = e, this; };
                    function O(t) { var e = -1, n = null == t ? 0 : t.length; for (this.clear(); ++e < n;) {
                        var i = t[e];
                        this.set(i[0], i[1]);
                    } }
                    O.prototype.clear = A, O.prototype.delete = E, O.prototype.get = I, O.prototype.has = N, O.prototype.set = R;
                    var D = O;
                    var L = function () { this.__data__ = new D, this.size = 0; };
                    var V = function (t) { var e = this.__data__, n = e.delete(t); return this.size = e.size, n; };
                    var z = function (t) { return this.__data__.get(t); };
                    var j = function (t) { return this.__data__.has(t); };
                    var F = function (t) { var e = typeof t; return null != t && ("object" == e || "function" == e); }, B = "[object AsyncFunction]", H = "[object Function]", U = "[object GeneratorFunction]", W = "[object Proxy]";
                    var q = function (t) { if (!F(t))
                        return !1; var e = f(t); return e == H || e == U || e == B || e == W; }, Y = i.a["__core-js_shared__"], $ = function () { var t = /[^.]+$/.exec(Y && Y.keys && Y.keys.IE_PROTO || ""); return t ? "Symbol(src)_1." + t : ""; }();
                    var G = function (t) { return !!$ && $ in t; }, K = Function.prototype.toString;
                    var Q = function (t) { if (null != t) {
                        try {
                            return K.call(t);
                        }
                        catch (t) { }
                        try {
                            return t + "";
                        }
                        catch (t) { }
                    } return ""; }, J = /^\[object .+?Constructor\]$/, Z = Function.prototype, X = Object.prototype, tt = Z.toString, et = X.hasOwnProperty, nt = RegExp("^" + tt.call(et).replace(/[\\^$.*+?()[\]{}|]/g, "\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g, "$1.*?") + "$");
                    var it = function (t) { return !(!F(t) || G(t)) && (q(t) ? nt : J).test(Q(t)); };
                    var ot = function (t, e) { return null == t ? void 0 : t[e]; };
                    var rt = function (t, e) { var n = ot(t, e); return it(n) ? n : void 0; }, st = rt(i.a, "Map"), at = rt(Object, "create");
                    var ct = function () { this.__data__ = at ? at(null) : {}, this.size = 0; };
                    var lt = function (t) { var e = this.has(t) && delete this.__data__[t]; return this.size -= e ? 1 : 0, e; }, dt = "__lodash_hash_undefined__", ut = Object.prototype.hasOwnProperty;
                    var ht = function (t) { var e = this.__data__; if (at) {
                        var n = e[t];
                        return n === dt ? void 0 : n;
                    } return ut.call(e, t) ? e[t] : void 0; }, mt = Object.prototype.hasOwnProperty;
                    var gt = function (t) { var e = this.__data__; return at ? void 0 !== e[t] : mt.call(e, t); }, ft = "__lodash_hash_undefined__";
                    var pt = function (t, e) { var n = this.__data__; return this.size += this.has(t) ? 0 : 1, n[t] = at && void 0 === e ? ft : e, this; };
                    function xt(t) { var e = -1, n = null == t ? 0 : t.length; for (this.clear(); ++e < n;) {
                        var i = t[e];
                        this.set(i[0], i[1]);
                    } }
                    xt.prototype.clear = ct, xt.prototype.delete = lt, xt.prototype.get = ht, xt.prototype.has = gt, xt.prototype.set = pt;
                    var bt = xt;
                    var kt = function () { this.size = 0, this.__data__ = { hash: new bt, map: new (st || D), string: new bt }; };
                    var wt = function (t) { var e = typeof t; return "string" == e || "number" == e || "symbol" == e || "boolean" == e ? "__proto__" !== t : null === t; };
                    var _t = function (t, e) { var n = t.__data__; return wt(e) ? n["string" == typeof e ? "string" : "hash"] : n.map; };
                    var vt = function (t) { var e = _t(this, t).delete(t); return this.size -= e ? 1 : 0, e; };
                    var yt = function (t) { return _t(this, t).get(t); };
                    var Ct = function (t) { return _t(this, t).has(t); };
                    var Tt = function (t, e) { var n = _t(this, t), i = n.size; return n.set(t, e), this.size += n.size == i ? 0 : 1, this; };
                    function At(t) { var e = -1, n = null == t ? 0 : t.length; for (this.clear(); ++e < n;) {
                        var i = t[e];
                        this.set(i[0], i[1]);
                    } }
                    At.prototype.clear = kt, At.prototype.delete = vt, At.prototype.get = yt, At.prototype.has = Ct, At.prototype.set = Tt;
                    var St = At, Pt = 200;
                    var Mt = function (t, e) { var n = this.__data__; if (n instanceof D) {
                        var i = n.__data__;
                        if (!st || i.length < Pt - 1)
                            return i.push([t, e]), this.size = ++n.size, this;
                        n = this.__data__ = new St(i);
                    } return n.set(t, e), this.size = n.size, this; };
                    function Et(t) { var e = this.__data__ = new D(t); this.size = e.size; }
                    Et.prototype.clear = L, Et.prototype.delete = V, Et.prototype.get = z, Et.prototype.has = j, Et.prototype.set = Mt;
                    var It = Et;
                    var Nt = function (t, e) { for (var n = -1, i = null == t ? 0 : t.length; ++n < i && !1 !== e(t[n], n, t);)
                        ; return t; }, Rt = function () { try {
                        var t = rt(Object, "defineProperty");
                        return t({}, "", {}), t;
                    }
                    catch (t) { } }();
                    var Ot = function (t, e, n) { "__proto__" == e && Rt ? Rt(t, e, { configurable: !0, enumerable: !0, value: n, writable: !0 }) : t[e] = n; }, Dt = Object.prototype.hasOwnProperty;
                    var Lt = function (t, e, n) { var i = t[e]; Dt.call(t, e) && S(i, n) && (void 0 !== n || e in t) || Ot(t, e, n); };
                    var Vt = function (t, e, n, i) { var o = !n; n || (n = {}); for (var r = -1, s = e.length; ++r < s;) {
                        var a = e[r], c = i ? i(n[a], t[a], a, n, t) : void 0;
                        void 0 === c && (c = t[a]), o ? Ot(n, a, c) : Lt(n, a, c);
                    } return n; };
                    var zt = function (t, e) { for (var n = -1, i = Array(t); ++n < t;)
                        i[n] = e(n); return i; }, jt = "[object Arguments]";
                    var Ft = function (t) { return b(t) && f(t) == jt; }, Bt = Object.prototype, Ht = Bt.hasOwnProperty, Ut = Bt.propertyIsEnumerable, Wt = Ft(function () { return arguments; }()) ? Ft : function (t) { return b(t) && Ht.call(t, "callee") && !Ut.call(t, "callee"); }, qt = Array.isArray, Yt = n(8), $t = 9007199254740991, Gt = /^(?:0|[1-9]\d*)$/;
                    var Kt = function (t, e) { var n = typeof t; return !!(e = null == e ? $t : e) && ("number" == n || "symbol" != n && Gt.test(t)) && t > -1 && t % 1 == 0 && t < e; }, Qt = 9007199254740991;
                    var Jt = function (t) { return "number" == typeof t && t > -1 && t % 1 == 0 && t <= Qt; }, Zt = {};
                    Zt["[object Float32Array]"] = Zt["[object Float64Array]"] = Zt["[object Int8Array]"] = Zt["[object Int16Array]"] = Zt["[object Int32Array]"] = Zt["[object Uint8Array]"] = Zt["[object Uint8ClampedArray]"] = Zt["[object Uint16Array]"] = Zt["[object Uint32Array]"] = !0, Zt["[object Arguments]"] = Zt["[object Array]"] = Zt["[object ArrayBuffer]"] = Zt["[object Boolean]"] = Zt["[object DataView]"] = Zt["[object Date]"] = Zt["[object Error]"] = Zt["[object Function]"] = Zt["[object Map]"] = Zt["[object Number]"] = Zt["[object Object]"] = Zt["[object RegExp]"] = Zt["[object Set]"] = Zt["[object String]"] = Zt["[object WeakMap]"] = !1;
                    var Xt = function (t) { return b(t) && Jt(t.length) && !!Zt[f(t)]; };
                    var te = function (t) { return function (e) { return t(e); }; }, ee = n(6), ne = ee.a && ee.a.isTypedArray, ie = ne ? te(ne) : Xt, oe = Object.prototype.hasOwnProperty;
                    var re = function (t, e) { var n = qt(t), i = !n && Wt(t), o = !n && !i && Object(Yt.a)(t), r = !n && !i && !o && ie(t), s = n || i || o || r, a = s ? zt(t.length, String) : [], c = a.length; for (var l in t)
                        !e && !oe.call(t, l) || s && ("length" == l || o && ("offset" == l || "parent" == l) || r && ("buffer" == l || "byteLength" == l || "byteOffset" == l) || Kt(l, c)) || a.push(l); return a; }, se = Object.prototype;
                    var ae = function (t) { var e = t && t.constructor; return t === ("function" == typeof e && e.prototype || se); }, ce = p(Object.keys, Object), le = Object.prototype.hasOwnProperty;
                    var de = function (t) { if (!ae(t))
                        return ce(t); var e = []; for (var n in Object(t))
                        le.call(t, n) && "constructor" != n && e.push(n); return e; };
                    var ue = function (t) { return null != t && Jt(t.length) && !q(t); };
                    var he = function (t) { return ue(t) ? re(t) : de(t); };
                    var me = function (t, e) { return t && Vt(e, he(e), t); };
                    var ge = function (t) { var e = []; if (null != t)
                        for (var n in Object(t))
                            e.push(n); return e; }, fe = Object.prototype.hasOwnProperty;
                    var pe = function (t) { if (!F(t))
                        return ge(t); var e = ae(t), n = []; for (var i in t)
                        ("constructor" != i || !e && fe.call(t, i)) && n.push(i); return n; };
                    var xe = function (t) { return ue(t) ? re(t, !0) : pe(t); };
                    var be = function (t, e) { return t && Vt(e, xe(e), t); }, ke = n(32);
                    var we = function (t, e) { var n = -1, i = t.length; for (e || (e = Array(i)); ++n < i;)
                        e[n] = t[n]; return e; };
                    var _e = function (t, e) { for (var n = -1, i = null == t ? 0 : t.length, o = 0, r = []; ++n < i;) {
                        var s = t[n];
                        e(s, n, t) && (r[o++] = s);
                    } return r; };
                    var ve = function () { return []; }, ye = Object.prototype.propertyIsEnumerable, Ce = Object.getOwnPropertySymbols, Te = Ce ? function (t) { return null == t ? [] : (t = Object(t), _e(Ce(t), function (e) { return ye.call(t, e); })); } : ve;
                    var Ae = function (t, e) { return Vt(t, Te(t), e); };
                    var Se = function (t, e) { for (var n = -1, i = e.length, o = t.length; ++n < i;)
                        t[o + n] = e[n]; return t; }, Pe = Object.getOwnPropertySymbols ? function (t) { for (var e = []; t;)
                        Se(e, Te(t)), t = x(t); return e; } : ve;
                    var Me = function (t, e) { return Vt(t, Pe(t), e); };
                    var Ee = function (t, e, n) { var i = e(t); return qt(t) ? i : Se(i, n(t)); };
                    var Ie = function (t) { return Ee(t, he, Te); };
                    var Ne = function (t) { return Ee(t, xe, Pe); }, Re = rt(i.a, "DataView"), Oe = rt(i.a, "Promise"), De = rt(i.a, "Set"), Le = rt(i.a, "WeakMap"), Ve = Q(Re), ze = Q(st), je = Q(Oe), Fe = Q(De), Be = Q(Le), He = f;
                    (Re && "[object DataView]" != He(new Re(new ArrayBuffer(1))) || st && "[object Map]" != He(new st) || Oe && "[object Promise]" != He(Oe.resolve()) || De && "[object Set]" != He(new De) || Le && "[object WeakMap]" != He(new Le)) && (He = function (t) { var e = f(t), n = "[object Object]" == e ? t.constructor : void 0, i = n ? Q(n) : ""; if (i)
                        switch (i) {
                            case Ve: return "[object DataView]";
                            case ze: return "[object Map]";
                            case je: return "[object Promise]";
                            case Fe: return "[object Set]";
                            case Be: return "[object WeakMap]";
                        } return e; });
                    var Ue = He, We = Object.prototype.hasOwnProperty;
                    var qe = function (t) { var e = t.length, n = new t.constructor(e); return e && "string" == typeof t[0] && We.call(t, "index") && (n.index = t.index, n.input = t.input), n; }, Ye = i.a.Uint8Array;
                    var $e = function (t) { var e = new t.constructor(t.byteLength); return new Ye(e).set(new Ye(t)), e; };
                    var Ge = function (t, e) { var n = e ? $e(t.buffer) : t.buffer; return new t.constructor(n, t.byteOffset, t.byteLength); }, Ke = /\w*$/;
                    var Qe = function (t) { var e = new t.constructor(t.source, Ke.exec(t)); return e.lastIndex = t.lastIndex, e; }, Je = o ? o.prototype : void 0, Ze = Je ? Je.valueOf : void 0;
                    var Xe = function (t) { return Ze ? Object(Ze.call(t)) : {}; };
                    var tn = function (t, e) { var n = e ? $e(t.buffer) : t.buffer; return new t.constructor(n, t.byteOffset, t.length); }, en = "[object Boolean]", nn = "[object Date]", on = "[object Map]", rn = "[object Number]", sn = "[object RegExp]", an = "[object Set]", cn = "[object String]", ln = "[object Symbol]", dn = "[object ArrayBuffer]", un = "[object DataView]", hn = "[object Float32Array]", mn = "[object Float64Array]", gn = "[object Int8Array]", fn = "[object Int16Array]", pn = "[object Int32Array]", xn = "[object Uint8Array]", bn = "[object Uint8ClampedArray]", kn = "[object Uint16Array]", wn = "[object Uint32Array]";
                    var _n = function (t, e, n) { var i = t.constructor; switch (e) {
                        case dn: return $e(t);
                        case en:
                        case nn: return new i(+t);
                        case un: return Ge(t, n);
                        case hn:
                        case mn:
                        case gn:
                        case fn:
                        case pn:
                        case xn:
                        case bn:
                        case kn:
                        case wn: return tn(t, n);
                        case on: return new i;
                        case rn:
                        case cn: return new i(t);
                        case sn: return Qe(t);
                        case an: return new i;
                        case ln: return Xe(t);
                    } }, vn = Object.create, yn = function () { function t() { } return function (e) { if (!F(e))
                        return {}; if (vn)
                        return vn(e); t.prototype = e; var n = new t; return t.prototype = void 0, n; }; }();
                    var Cn = function (t) { return "function" != typeof t.constructor || ae(t) ? {} : yn(x(t)); }, Tn = "[object Map]";
                    var An = function (t) { return b(t) && Ue(t) == Tn; }, Sn = ee.a && ee.a.isMap, Pn = Sn ? te(Sn) : An, Mn = "[object Set]";
                    var En = function (t) { return b(t) && Ue(t) == Mn; }, In = ee.a && ee.a.isSet, Nn = In ? te(In) : En, Rn = 1, On = 2, Dn = 4, Ln = "[object Arguments]", Vn = "[object Function]", zn = "[object GeneratorFunction]", jn = "[object Object]", Fn = {};
                    Fn[Ln] = Fn["[object Array]"] = Fn["[object ArrayBuffer]"] = Fn["[object DataView]"] = Fn["[object Boolean]"] = Fn["[object Date]"] = Fn["[object Float32Array]"] = Fn["[object Float64Array]"] = Fn["[object Int8Array]"] = Fn["[object Int16Array]"] = Fn["[object Int32Array]"] = Fn["[object Map]"] = Fn["[object Number]"] = Fn[jn] = Fn["[object RegExp]"] = Fn["[object Set]"] = Fn["[object String]"] = Fn["[object Symbol]"] = Fn["[object Uint8Array]"] = Fn["[object Uint8ClampedArray]"] = Fn["[object Uint16Array]"] = Fn["[object Uint32Array]"] = !0, Fn["[object Error]"] = Fn[Vn] = Fn["[object WeakMap]"] = !1;
                    var Bn = function t(e, n, i, o, r, s) { var a, c = n & Rn, l = n & On, d = n & Dn; if (i && (a = r ? i(e, o, r, s) : i(e)), void 0 !== a)
                        return a; if (!F(e))
                        return e; var u = qt(e); if (u) {
                        if (a = qe(e), !c)
                            return we(e, a);
                    }
                    else {
                        var h = Ue(e), m = h == Vn || h == zn;
                        if (Object(Yt.a)(e))
                            return Object(ke.a)(e, c);
                        if (h == jn || h == Ln || m && !r) {
                            if (a = l || m ? {} : Cn(e), !c)
                                return l ? Me(e, be(a, e)) : Ae(e, me(a, e));
                        }
                        else {
                            if (!Fn[h])
                                return r ? e : {};
                            a = _n(e, h, c);
                        }
                    } s || (s = new It); var g = s.get(e); if (g)
                        return g; s.set(e, a), Nn(e) ? e.forEach(function (o) { a.add(t(o, n, i, o, e, s)); }) : Pn(e) && e.forEach(function (o, r) { a.set(r, t(o, n, i, r, e, s)); }); var f = d ? l ? Ne : Ie : l ? keysIn : he, p = u ? void 0 : f(e); return Nt(p || e, function (o, r) { p && (o = e[r = o]), Lt(a, r, t(o, n, i, r, e, s)); }), a; }, Hn = 1, Un = 4;
                    var Wn = function (t, e) { return Bn(t, Hn | Un, e = "function" == typeof e ? e : void 0); };
                    var qn = function (t) { return b(t) && 1 === t.nodeType && !T(t); };
                    var Yn = /** @class */ (function () {
                        function Yn(t, e) {
                            this._config = {}, e && this.define(e), t && this._setObjectToTarget(this._config, t);
                        }
                        Yn.prototype.set = function (t, e) { this._setToTarget(this._config, t, e); };
                        Yn.prototype.define = function (t, e) { this._setToTarget(this._config, t, e, !0); };
                        Yn.prototype.get = function (t) { return this._getFromSource(this._config, t); };
                        Yn.prototype._setToTarget = function (t, e, n, i) {
                            var e_5, _j;
                            if (i === void 0) { i = !1; }
                            if (T(e))
                                return void this._setObjectToTarget(t, e, i);
                            var o = e.split(".");
                            e = o.pop();
                            try {
                                for (var o_1 = __values(o), o_1_1 = o_1.next(); !o_1_1.done; o_1_1 = o_1.next()) {
                                    var e_6 = o_1_1.value;
                                    T(t[e_6]) || (t[e_6] = {}), t = t[e_6];
                                }
                            }
                            catch (e_5_1) { e_5 = { error: e_5_1 }; }
                            finally {
                                try {
                                    if (o_1_1 && !o_1_1.done && (_j = o_1.return)) _j.call(o_1);
                                }
                                finally { if (e_5) throw e_5.error; }
                            }
                            if (T(n))
                                return T(t[e]) || (t[e] = {}), t = t[e], void this._setObjectToTarget(t, n, i);
                            i && void 0 !== t[e] || (t[e] = n);
                        };
                        Yn.prototype._getFromSource = function (t, e) {
                            var e_7, _j;
                            var n = e.split(".");
                            e = n.pop();
                            try {
                                for (var n_1 = __values(n), n_1_1 = n_1.next(); !n_1_1.done; n_1_1 = n_1.next()) {
                                    var e_8 = n_1_1.value;
                                    if (!T(t[e_8])) {
                                        t = null;
                                        break;
                                    }
                                    t = t[e_8];
                                }
                            }
                            catch (e_7_1) { e_7 = { error: e_7_1 }; }
                            finally {
                                try {
                                    if (n_1_1 && !n_1_1.done && (_j = n_1.return)) _j.call(n_1);
                                }
                                finally { if (e_7) throw e_7.error; }
                            }
                            return t ? function (t) { return Wn(t, $n); }(t[e]) : void 0;
                        };
                        Yn.prototype._setObjectToTarget = function (t, e, n) {
                            var _this = this;
                            Object.keys(e).forEach(function (i) { _this._setToTarget(t, i, e[i], n); });
                        };
                        return Yn;
                    }());
                    function $n(t) { return qn(t) ? t : void 0; }
                    var Gn = n(0);
                    var Kn = function () { return function t() { t.called = !0; }; };
                    var Qn = /** @class */ (function () {
                        function Qn(t, e) {
                            this.source = t, this.name = e, this.path = [], this.stop = Kn(), this.off = Kn();
                        }
                        return Qn;
                    }());
                    function Jn() { var t = "e"; for (var e_9 = 0; e_9 < 8; e_9++)
                        t += Math.floor(65536 * (1 + Math.random())).toString(16).substring(1); return t; }
                    var Zn = { get: function (t) { return "number" != typeof t ? this[t] || this.normal : t; }, highest: 1e5, high: 1e3, normal: 0, low: -1e3, lowest: -1e5 };
                    n(9);
                    var Xn = Symbol("listeningTo"), ti = Symbol("emitterId");
                    var ei = { on: function (t, e, n) {
                            if (n === void 0) { n = {}; }
                            this.listenTo(this, t, e, n);
                        }, once: function (t, e, n) { var i = !1; this.listenTo(this, t, function (t) {
                            var n = [];
                            for (var _j = 1; _j < arguments.length; _j++) {
                                n[_j - 1] = arguments[_j];
                            }
                            i || (i = !0, t.off(), e.call.apply(e, __spread([this, t], n)));
                        }, n); }, off: function (t, e) { this.stopListening(this, t, e); }, listenTo: function (t, e, n, i) {
                            var e_10, _j;
                            if (i === void 0) { i = {}; }
                            var o, r;
                            this[Xn] || (this[Xn] = {});
                            var s = this[Xn];
                            ii(t) || ni(t);
                            var a = ii(t);
                            (o = s[a]) || (o = s[a] = { emitter: t, callbacks: {} }), (r = o.callbacks[e]) || (r = o.callbacks[e] = []), r.push(n), function (t, e) {
                                var e_11, _j;
                                var n = oi(t);
                                if (n[e])
                                    return;
                                var i = e, o = null;
                                var r = [];
                                for (; "" !== i && !n[i];)
                                    n[i] = { callbacks: [], childEvents: [] }, r.push(n[i]), o && n[i].childEvents.push(o), o = i, i = i.substr(0, i.lastIndexOf(":"));
                                if ("" !== i) {
                                    try {
                                        for (var r_1 = __values(r), r_1_1 = r_1.next(); !r_1_1.done; r_1_1 = r_1.next()) {
                                            var t_1 = r_1_1.value;
                                            t_1.callbacks = n[i].callbacks.slice();
                                        }
                                    }
                                    catch (e_11_1) { e_11 = { error: e_11_1 }; }
                                    finally {
                                        try {
                                            if (r_1_1 && !r_1_1.done && (_j = r_1.return)) _j.call(r_1);
                                        }
                                        finally { if (e_11) throw e_11.error; }
                                    }
                                    n[i].childEvents.push(o);
                                }
                            }(t, e);
                            var c = ri(t, e), l = Zn.get(i.priority), d = { callback: n, priority: l };
                            try {
                                for (var c_1 = __values(c), c_1_1 = c_1.next(); !c_1_1.done; c_1_1 = c_1.next()) {
                                    var t_2 = c_1_1.value;
                                    var e_12 = !1;
                                    for (var n_2 = 0; n_2 < t_2.length; n_2++)
                                        if (t_2[n_2].priority < l) {
                                            t_2.splice(n_2, 0, d), e_12 = !0;
                                            break;
                                        }
                                    e_12 || t_2.push(d);
                                }
                            }
                            catch (e_10_1) { e_10 = { error: e_10_1 }; }
                            finally {
                                try {
                                    if (c_1_1 && !c_1_1.done && (_j = c_1.return)) _j.call(c_1);
                                }
                                finally { if (e_10) throw e_10.error; }
                            }
                        }, stopListening: function (t, e, n) { var i = this[Xn]; var o = t && ii(t); var r = i && o && i[o], s = r && e && r.callbacks[e]; if (!(!i || t && !r || e && !s))
                            if (n)
                                ai(t, e, n);
                            else if (s) {
                                for (; n = s.pop();)
                                    ai(t, e, n);
                                delete r.callbacks[e];
                            }
                            else if (r) {
                                for (e in r.callbacks)
                                    this.stopListening(t, e);
                                delete i[o];
                            }
                            else {
                                for (o in i)
                                    this.stopListening(i[o].emitter);
                                delete this[Xn];
                            } }, fire: function (t) {
                            var e = [];
                            for (var _j = 1; _j < arguments.length; _j++) {
                                e[_j - 1] = arguments[_j];
                            }
                            try {
                                var n_3 = t instanceof Qn ? t : new Qn(this, t), i_1 = n_3.name;
                                var o_2 = function t(e, n) { var i; if (!e._events || !(i = e._events[n]) || !i.callbacks.length)
                                    return n.indexOf(":") > -1 ? t(e, n.substr(0, n.lastIndexOf(":"))) : null; return i.callbacks; }(this, i_1);
                                if (n_3.path.push(this), o_2) {
                                    var t_3 = __spread([n_3], e);
                                    o_2 = Array.from(o_2);
                                    for (var e_13 = 0; e_13 < o_2.length && (o_2[e_13].callback.apply(this, t_3), n_3.off.called && (delete n_3.off.called, ai(this, i_1, o_2[e_13].callback)), !n_3.stop.called); e_13++)
                                        ;
                                }
                                if (this._delegations) {
                                    var t_4 = this._delegations.get(i_1), o_3 = this._delegations.get("*");
                                    t_4 && si(t_4, n_3, e), o_3 && si(o_3, n_3, e);
                                }
                                return n_3.return;
                            }
                            catch (t) {
                                Gn.b.rethrowUnexpectedError(t, this);
                            }
                        }, delegate: function () {
                            var _this = this;
                            var t = [];
                            for (var _j = 0; _j < arguments.length; _j++) {
                                t[_j] = arguments[_j];
                            }
                            return { to: function (e, n) { _this._delegations || (_this._delegations = new Map), t.forEach(function (t) { var i = _this._delegations.get(t); i ? i.set(e, n) : _this._delegations.set(t, new Map([[e, n]])); }); } };
                        }, stopDelegating: function (t, e) { if (this._delegations)
                            if (t)
                                if (e) {
                                    var n_4 = this._delegations.get(t);
                                    n_4 && n_4.delete(e);
                                }
                                else
                                    this._delegations.delete(t);
                            else
                                this._delegations.clear(); } };
                    function ni(t, e) { t[ti] || (t[ti] = e || Jn()); }
                    function ii(t) { return t[ti]; }
                    function oi(t) { return t._events || Object.defineProperty(t, "_events", { value: {} }), t._events; }
                    function ri(t, e) { var n = oi(t)[e]; if (!n)
                        return []; var i = [n.callbacks]; for (var e_14 = 0; e_14 < n.childEvents.length; e_14++) {
                        var o_4 = ri(t, n.childEvents[e_14]);
                        i = i.concat(o_4);
                    } return i; }
                    function si(t, e, n) {
                        var e_15, _j;
                        try {
                            for (var t_5 = __values(t), t_5_1 = t_5.next(); !t_5_1.done; t_5_1 = t_5.next()) {
                                var _q = __read(t_5_1.value, 2), i_2 = _q[0], o_5 = _q[1];
                                o_5 ? "function" == typeof o_5 && (o_5 = o_5(e.name)) : o_5 = e.name;
                                var t_6 = new Qn(e.source, o_5);
                                t_6.path = __spread(e.path), i_2.fire.apply(i_2, __spread([t_6], n));
                            }
                        }
                        catch (e_15_1) { e_15 = { error: e_15_1 }; }
                        finally {
                            try {
                                if (t_5_1 && !t_5_1.done && (_j = t_5.return)) _j.call(t_5);
                            }
                            finally { if (e_15) throw e_15.error; }
                        }
                    }
                    function ai(t, e, n) {
                        var e_16, _j;
                        var i = ri(t, e);
                        try {
                            for (var i_3 = __values(i), i_3_1 = i_3.next(); !i_3_1.done; i_3_1 = i_3.next()) {
                                var t_7 = i_3_1.value;
                                for (var e_17 = 0; e_17 < t_7.length; e_17++)
                                    t_7[e_17].callback == n && (t_7.splice(e_17, 1), e_17--);
                            }
                        }
                        catch (e_16_1) { e_16 = { error: e_16_1 }; }
                        finally {
                            try {
                                if (i_3_1 && !i_3_1.done && (_j = i_3.return)) _j.call(i_3);
                            }
                            finally { if (e_16) throw e_16.error; }
                        }
                    }
                    function ci(t) {
                        var e = [];
                        for (var _j = 1; _j < arguments.length; _j++) {
                            e[_j - 1] = arguments[_j];
                        }
                        e.forEach(function (e) { Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e)).forEach(function (n) { if (n in t.prototype)
                            return; var i = Object.getOwnPropertyDescriptor(e, n); i.enumerable = !1, Object.defineProperty(t.prototype, n, i); }); });
                    }
                    function li(t, e) { var n = Math.min(t.length, e.length); for (var i_4 = 0; i_4 < n; i_4++)
                        if (t[i_4] != e[i_4])
                            return i_4; return t.length == e.length ? "same" : t.length < e.length ? "prefix" : "extension"; }
                    var di = 4;
                    var ui = function (t) { return Bn(t, di); };
                    var hi = /** @class */ (function () {
                        function hi() {
                            this.parent = null;
                        }
                        Object.defineProperty(hi.prototype, "index", {
                            get: function () { var t; if (!this.parent)
                                return null; if (-1 == (t = this.parent.getChildIndex(this)))
                                throw new Gn.b("view-node-not-found-in-parent: The node's parent does not contain this node.", this); return t; },
                            enumerable: true,
                            configurable: true
                        });
                        Object.defineProperty(hi.prototype, "nextSibling", {
                            get: function () { var t = this.index; return null !== t && this.parent.getChild(t + 1) || null; },
                            enumerable: true,
                            configurable: true
                        });
                        Object.defineProperty(hi.prototype, "previousSibling", {
                            get: function () { var t = this.index; return null !== t && this.parent.getChild(t - 1) || null; },
                            enumerable: true,
                            configurable: true
                        });
                        Object.defineProperty(hi.prototype, "root", {
                            get: function () { var t = this; for (; t.parent;)
                                t = t.parent; return t; },
                            enumerable: true,
                            configurable: true
                        });
                        Object.defineProperty(hi.prototype, "document", {
                            get: function () { return this.parent instanceof hi ? this.parent.document : null; },
                            enumerable: true,
                            configurable: true
                        });
                        hi.prototype.getPath = function () { var t = []; var e = this; for (; e.parent;)
                            t.unshift(e.index), e = e.parent; return t; };
                        hi.prototype.getAncestors = function (t) {
                            if (t === void 0) { t = { includeSelf: !1, parentFirst: !1 }; }
                            var e = [];
                            var n = t.includeSelf ? this : this.parent;
                            for (; n;)
                                e[t.parentFirst ? "push" : "unshift"](n), n = n.parent;
                            return e;
                        };
                        hi.prototype.getCommonAncestor = function (t, e) {
                            if (e === void 0) { e = {}; }
                            var n = this.getAncestors(e), i = t.getAncestors(e);
                            var o = 0;
                            for (; n[o] == i[o] && n[o];)
                                o++;
                            return 0 === o ? null : n[o - 1];
                        };
                        hi.prototype.isBefore = function (t) { if (this == t)
                            return !1; if (this.root !== t.root)
                            return !1; var e = this.getPath(), n = t.getPath(), i = li(e, n); switch (i) {
                            case "prefix": return !0;
                            case "extension": return !1;
                            default: return e[i] < n[i];
                        } };
                        hi.prototype.isAfter = function (t) { return this != t && (this.root === t.root && !this.isBefore(t)); };
                        hi.prototype._remove = function () { this.parent._removeChildren(this.index); };
                        hi.prototype._fireChange = function (t, e) { this.fire("change:" + t, e), this.parent && this.parent._fireChange(t, e); };
                        hi.prototype.toJSON = function () { var t = ui(this); return delete t.parent, t; };
                        hi.prototype.is = function (t) { return "node" == t || "view:node" == t; };
                        return hi;
                    }());
                    ci(hi, ei);
                    var mi = /** @class */ (function (_super) {
                        __extends(mi, _super);
                        function mi(t) {
                            var _this = this;
                            _this = _super.call(this) || this, _this._textData = t;
                            return _this;
                        }
                        mi.prototype.is = function (t) { return "text" == t || "view:text" == t || _super.prototype.is.call(this, t); };
                        Object.defineProperty(mi.prototype, "data", {
                            get: function () { return this._textData; },
                            enumerable: true,
                            configurable: true
                        });
                        Object.defineProperty(mi.prototype, "_data", {
                            get: function () { return this.data; },
                            set: function (t) { this._fireChange("text", this), this._textData = t; },
                            enumerable: true,
                            configurable: true
                        });
                        mi.prototype.isSimilar = function (t) { return t instanceof mi && (this === t || this.data === t.data); };
                        mi.prototype._clone = function () { return new mi(this.data); };
                        return mi;
                    }(hi));
                    var gi = /** @class */ (function () {
                        function gi(t, e, n) {
                            if (this.textNode = t, e < 0 || e > t.data.length)
                                throw new Gn.b("view-textproxy-wrong-offsetintext: Given offsetInText value is incorrect.", this);
                            if (n < 0 || e + n > t.data.length)
                                throw new Gn.b("view-textproxy-wrong-length: Given length value is incorrect.", this);
                            this.data = t.data.substring(e, e + n), this.offsetInText = e;
                        }
                        Object.defineProperty(gi.prototype, "offsetSize", {
                            get: function () { return this.data.length; },
                            enumerable: true,
                            configurable: true
                        });
                        Object.defineProperty(gi.prototype, "isPartial", {
                            get: function () { return this.data.length !== this.textNode.data.length; },
                            enumerable: true,
                            configurable: true
                        });
                        Object.defineProperty(gi.prototype, "parent", {
                            get: function () { return this.textNode.parent; },
                            enumerable: true,
                            configurable: true
                        });
                        Object.defineProperty(gi.prototype, "root", {
                            get: function () { return this.textNode.root; },
                            enumerable: true,
                            configurable: true
                        });
                        Object.defineProperty(gi.prototype, "document", {
                            get: function () { return this.textNode.document; },
                            enumerable: true,
                            configurable: true
                        });
                        gi.prototype.is = function (t) { return "textProxy" == t || "view:textProxy" == t; };
                        gi.prototype.getAncestors = function (t) {
                            if (t === void 0) { t = { includeSelf: !1, parentFirst: !1 }; }
                            var e = [];
                            var n = t.includeSelf ? this.textNode : this.parent;
                            for (; null !== n;)
                                e[t.parentFirst ? "push" : "unshift"](n), n = n.parent;
                            return e;
                        };
                        return gi;
                    }());
                    function fi(t) { var e = new Map; for (var n_5 in t)
                        e.set(n_5, t[n_5]); return e; }
                    function pi(t) { return !(!t || !t[Symbol.iterator]); }
                    var xi = /** @class */ (function () {
                        function xi() {
                            var t = [];
                            for (var _j = 0; _j < arguments.length; _j++) {
                                t[_j] = arguments[_j];
                            }
                            this._patterns = [], this.add.apply(this, __spread(t));
                        }
                        xi.prototype.add = function () {
                            var e_18, _j;
                            var t = [];
                            for (var _q = 0; _q < arguments.length; _q++) {
                                t[_q] = arguments[_q];
                            }
                            try {
                                for (var t_8 = __values(t), t_8_1 = t_8.next(); !t_8_1.done; t_8_1 = t_8.next()) {
                                    var e_19 = t_8_1.value;
                                    ("string" == typeof e_19 || e_19 instanceof RegExp) && (e_19 = { name: e_19 }), e_19.classes && ("string" == typeof e_19.classes || e_19.classes instanceof RegExp) && (e_19.classes = [e_19.classes]), this._patterns.push(e_19);
                                }
                            }
                            catch (e_18_1) { e_18 = { error: e_18_1 }; }
                            finally {
                                try {
                                    if (t_8_1 && !t_8_1.done && (_j = t_8.return)) _j.call(t_8);
                                }
                                finally { if (e_18) throw e_18.error; }
                            }
                        };
                        xi.prototype.match = function () {
                            var e_20, _j, e_21, _q;
                            var t = [];
                            for (var _z = 0; _z < arguments.length; _z++) {
                                t[_z] = arguments[_z];
                            }
                            try {
                                for (var t_9 = __values(t), t_9_1 = t_9.next(); !t_9_1.done; t_9_1 = t_9.next()) {
                                    var e_22 = t_9_1.value;
                                    try {
                                        for (var _0 = __values(this._patterns), _1 = _0.next(); !_1.done; _1 = _0.next()) {
                                            var t_10 = _1.value;
                                            var n_6 = bi(e_22, t_10);
                                            if (n_6)
                                                return { element: e_22, pattern: t_10, match: n_6 };
                                        }
                                    }
                                    catch (e_21_1) { e_21 = { error: e_21_1 }; }
                                    finally {
                                        try {
                                            if (_1 && !_1.done && (_q = _0.return)) _q.call(_0);
                                        }
                                        finally { if (e_21) throw e_21.error; }
                                    }
                                }
                            }
                            catch (e_20_1) { e_20 = { error: e_20_1 }; }
                            finally {
                                try {
                                    if (t_9_1 && !t_9_1.done && (_j = t_9.return)) _j.call(t_9);
                                }
                                finally { if (e_20) throw e_20.error; }
                            }
                            return null;
                        };
                        xi.prototype.matchAll = function () {
                            var e_23, _j, e_24, _q;
                            var t = [];
                            for (var _z = 0; _z < arguments.length; _z++) {
                                t[_z] = arguments[_z];
                            }
                            var e = [];
                            try {
                                for (var t_11 = __values(t), t_11_1 = t_11.next(); !t_11_1.done; t_11_1 = t_11.next()) {
                                    var n_7 = t_11_1.value;
                                    try {
                                        for (var _0 = __values(this._patterns), _1 = _0.next(); !_1.done; _1 = _0.next()) {
                                            var t_12 = _1.value;
                                            var i_5 = bi(n_7, t_12);
                                            i_5 && e.push({ element: n_7, pattern: t_12, match: i_5 });
                                        }
                                    }
                                    catch (e_24_1) { e_24 = { error: e_24_1 }; }
                                    finally {
                                        try {
                                            if (_1 && !_1.done && (_q = _0.return)) _q.call(_0);
                                        }
                                        finally { if (e_24) throw e_24.error; }
                                    }
                                }
                            }
                            catch (e_23_1) { e_23 = { error: e_23_1 }; }
                            finally {
                                try {
                                    if (t_11_1 && !t_11_1.done && (_j = t_11.return)) _j.call(t_11);
                                }
                                finally { if (e_23) throw e_23.error; }
                            }
                            return e.length > 0 ? e : null;
                        };
                        xi.prototype.getElementName = function () { if (1 !== this._patterns.length)
                            return null; var t = this._patterns[0], e = t.name; return "function" == typeof t || !e || e instanceof RegExp ? null : e; };
                        return xi;
                    }());
                    function bi(t, e) { if ("function" == typeof e)
                        return e(t); var n = {}; return e.name && (n.name = function (t, e) { if (t instanceof RegExp)
                        return t.test(e); return t === e; }(e.name, t.name), !n.name) ? null : e.attributes && (n.attributes = function (t, e) { var n = []; for (var i_6 in t) {
                        var o_6 = t[i_6];
                        if (!e.hasAttribute(i_6))
                            return null;
                        {
                            var t_13 = e.getAttribute(i_6);
                            if (!0 === o_6)
                                n.push(i_6);
                            else if (o_6 instanceof RegExp) {
                                if (!o_6.test(t_13))
                                    return null;
                                n.push(i_6);
                            }
                            else {
                                if (t_13 !== o_6)
                                    return null;
                                n.push(i_6);
                            }
                        }
                    } return n; }(e.attributes, t), !n.attributes) ? null : !(e.classes && (n.classes = function (t, e) {
                        var e_25, _j, e_26, _q;
                        var n = [];
                        try {
                            for (var t_14 = __values(t), t_14_1 = t_14.next(); !t_14_1.done; t_14_1 = t_14.next()) {
                                var i_7 = t_14_1.value;
                                if (i_7 instanceof RegExp) {
                                    var t_16 = e.getClassNames();
                                    try {
                                        for (var t_15 = __values(t_16), t_15_1 = t_15.next(); !t_15_1.done; t_15_1 = t_15.next()) {
                                            var e_27 = t_15_1.value;
                                            i_7.test(e_27) && n.push(e_27);
                                        }
                                    }
                                    catch (e_26_1) { e_26 = { error: e_26_1 }; }
                                    finally {
                                        try {
                                            if (t_15_1 && !t_15_1.done && (_q = t_15.return)) _q.call(t_15);
                                        }
                                        finally { if (e_26) throw e_26.error; }
                                    }
                                    if (0 === n.length)
                                        return null;
                                }
                                else {
                                    if (!e.hasClass(i_7))
                                        return null;
                                    n.push(i_7);
                                }
                            }
                        }
                        catch (e_25_1) { e_25 = { error: e_25_1 }; }
                        finally {
                            try {
                                if (t_14_1 && !t_14_1.done && (_j = t_14.return)) _j.call(t_14);
                            }
                            finally { if (e_25) throw e_25.error; }
                        }
                        return n;
                    }(e.classes, t), !n.classes)) && (!(e.styles && (n.styles = function (t, e) { var n = []; for (var i_8 in t) {
                        var o_7 = t[i_8];
                        if (!e.hasStyle(i_8))
                            return null;
                        {
                            var t_17 = e.getStyle(i_8);
                            if (o_7 instanceof RegExp) {
                                if (!o_7.test(t_17))
                                    return null;
                                n.push(i_8);
                            }
                            else {
                                if (t_17 !== o_7)
                                    return null;
                                n.push(i_8);
                            }
                        }
                    } return n; }(e.styles, t), !n.styles)) && n); }
                    var ki = /** @class */ (function (_super) {
                        __extends(ki, _super);
                        function ki(t, e, n) {
                            var _this = this;
                            if (_this = _super.call(this) || this, _this.name = t, _this._attrs = function (t) {
                                var e_28, _j;
                                t = T(t) ? fi(t) : new Map(t);
                                try {
                                    for (var t_18 = __values(t), t_18_1 = t_18.next(); !t_18_1.done; t_18_1 = t_18.next()) {
                                        var _q = __read(t_18_1.value, 2), e_29 = _q[0], n_8 = _q[1];
                                        null === n_8 ? t.delete(e_29) : "string" != typeof n_8 && t.set(e_29, String(n_8));
                                    }
                                }
                                catch (e_28_1) { e_28 = { error: e_28_1 }; }
                                finally {
                                    try {
                                        if (t_18_1 && !t_18_1.done && (_j = t_18.return)) _j.call(t_18);
                                    }
                                    finally { if (e_28) throw e_28.error; }
                                }
                                return t;
                            }(e), _this._children = [], n && _this._insertChild(0, n), _this._classes = new Set, _this._attrs.has("class")) {
                                var t_19 = _this._attrs.get("class");
                                _i(_this._classes, t_19), _this._attrs.delete("class");
                            }
                            _this._styles = new Map, _this._attrs.has("style") && (wi(_this._styles, _this._attrs.get("style")), _this._attrs.delete("style")), _this._customProperties = new Map;
                            return _this;
                        }
                        Object.defineProperty(ki.prototype, "childCount", {
                            get: function () { return this._children.length; },
                            enumerable: true,
                            configurable: true
                        });
                        Object.defineProperty(ki.prototype, "isEmpty", {
                            get: function () { return 0 === this._children.length; },
                            enumerable: true,
                            configurable: true
                        });
                        ki.prototype.is = function (t, e) {
                            if (e === void 0) { e = null; }
                            var n = t.replace(/^view:/, "");
                            return e ? "element" == n && e == this.name : "element" == n || n == this.name || _super.prototype.is.call(this, t);
                        };
                        ki.prototype.getChild = function (t) { return this._children[t]; };
                        ki.prototype.getChildIndex = function (t) { return this._children.indexOf(t); };
                        ki.prototype.getChildren = function () { return this._children[Symbol.iterator](); };
                        ki.prototype.getAttributeKeys = function () { var _j, _q; return __generator(this, function (_z) {
                            switch (_z.label) {
                                case 0:
                                    _j = this._classes.size > 0;
                                    if (!_j) return [3 /*break*/, 2];
                                    return [4 /*yield*/, "class"];
                                case 1:
                                    _j = (_z.sent());
                                    _z.label = 2;
                                case 2:
                                    _j;
                                    _q = this._styles.size > 0;
                                    if (!_q) return [3 /*break*/, 4];
                                    return [4 /*yield*/, "style"];
                                case 3:
                                    _q = (_z.sent());
                                    _z.label = 4;
                                case 4:
                                    _q;
                                    return [5 /*yield**/, __values(this._attrs.keys())];
                                case 5:
                                    _z.sent();
                                    return [2 /*return*/];
                            }
                        }); };
                        ki.prototype.getAttributes = function () { var _j, _q; return __generator(this, function (_z) {
                            switch (_z.label) {
                                case 0: return [5 /*yield**/, __values(this._attrs.entries())];
                                case 1:
                                    _z.sent();
                                    _j = this._classes.size > 0;
                                    if (!_j) return [3 /*break*/, 3];
                                    return [4 /*yield*/, ["class", this.getAttribute("class")]];
                                case 2:
                                    _j = (_z.sent());
                                    _z.label = 3;
                                case 3:
                                    _j;
                                    _q = this._styles.size > 0;
                                    if (!_q) return [3 /*break*/, 5];
                                    return [4 /*yield*/, ["style", this.getAttribute("style")]];
                                case 4:
                                    _q = (_z.sent());
                                    _z.label = 5;
                                case 5:
                                    _q;
                                    return [2 /*return*/];
                            }
                        }); };
                        ki.prototype.getAttribute = function (t) {
                            var e_30, _j;
                            if ("class" == t)
                                return this._classes.size > 0 ? __spread(this._classes).join(" ") : void 0;
                            if ("style" != t)
                                return this._attrs.get(t);
                            if (this._styles.size > 0) {
                                var t_20 = "";
                                try {
                                    for (var _q = __values(this._styles), _z = _q.next(); !_z.done; _z = _q.next()) {
                                        var _0 = __read(_z.value, 2), e_31 = _0[0], n_9 = _0[1];
                                        t_20 += e_31 + ":" + n_9 + ";";
                                    }
                                }
                                catch (e_30_1) { e_30 = { error: e_30_1 }; }
                                finally {
                                    try {
                                        if (_z && !_z.done && (_j = _q.return)) _j.call(_q);
                                    }
                                    finally { if (e_30) throw e_30.error; }
                                }
                                return t_20;
                            }
                        };
                        ki.prototype.hasAttribute = function (t) { return "class" == t ? this._classes.size > 0 : "style" == t ? this._styles.size > 0 : this._attrs.has(t); };
                        ki.prototype.isSimilar = function (t) {
                            var e_32, _j, e_33, _q, e_34, _z;
                            if (!(t instanceof ki))
                                return !1;
                            if (this === t)
                                return !0;
                            if (this.name != t.name)
                                return !1;
                            if (this._attrs.size !== t._attrs.size || this._classes.size !== t._classes.size || this._styles.size !== t._styles.size)
                                return !1;
                            try {
                                for (var _0 = __values(this._attrs), _1 = _0.next(); !_1.done; _1 = _0.next()) {
                                    var _2 = __read(_1.value, 2), e_35 = _2[0], n_10 = _2[1];
                                    if (!t._attrs.has(e_35) || t._attrs.get(e_35) !== n_10)
                                        return !1;
                                }
                            }
                            catch (e_32_1) { e_32 = { error: e_32_1 }; }
                            finally {
                                try {
                                    if (_1 && !_1.done && (_j = _0.return)) _j.call(_0);
                                }
                                finally { if (e_32) throw e_32.error; }
                            }
                            try {
                                for (var _3 = __values(this._classes), _4 = _3.next(); !_4.done; _4 = _3.next()) {
                                    var e_36 = _4.value;
                                    if (!t._classes.has(e_36))
                                        return !1;
                                }
                            }
                            catch (e_33_1) { e_33 = { error: e_33_1 }; }
                            finally {
                                try {
                                    if (_4 && !_4.done && (_q = _3.return)) _q.call(_3);
                                }
                                finally { if (e_33) throw e_33.error; }
                            }
                            try {
                                for (var _5 = __values(this._styles), _6 = _5.next(); !_6.done; _6 = _5.next()) {
                                    var _7 = __read(_6.value, 2), e_37 = _7[0], n_11 = _7[1];
                                    if (!t._styles.has(e_37) || t._styles.get(e_37) !== n_11)
                                        return !1;
                                }
                            }
                            catch (e_34_1) { e_34 = { error: e_34_1 }; }
                            finally {
                                try {
                                    if (_6 && !_6.done && (_z = _5.return)) _z.call(_5);
                                }
                                finally { if (e_34) throw e_34.error; }
                            }
                            return !0;
                        };
                        ki.prototype.hasClass = function () {
                            var e_38, _j;
                            var t = [];
                            for (var _q = 0; _q < arguments.length; _q++) {
                                t[_q] = arguments[_q];
                            }
                            try {
                                for (var t_21 = __values(t), t_21_1 = t_21.next(); !t_21_1.done; t_21_1 = t_21.next()) {
                                    var e_39 = t_21_1.value;
                                    if (!this._classes.has(e_39))
                                        return !1;
                                }
                            }
                            catch (e_38_1) { e_38 = { error: e_38_1 }; }
                            finally {
                                try {
                                    if (t_21_1 && !t_21_1.done && (_j = t_21.return)) _j.call(t_21);
                                }
                                finally { if (e_38) throw e_38.error; }
                            }
                            return !0;
                        };
                        ki.prototype.getClassNames = function () { return this._classes.keys(); };
                        ki.prototype.getStyle = function (t) { return this._styles.get(t); };
                        ki.prototype.getStyleNames = function () { return this._styles.keys(); };
                        ki.prototype.hasStyle = function () {
                            var e_40, _j;
                            var t = [];
                            for (var _q = 0; _q < arguments.length; _q++) {
                                t[_q] = arguments[_q];
                            }
                            try {
                                for (var t_22 = __values(t), t_22_1 = t_22.next(); !t_22_1.done; t_22_1 = t_22.next()) {
                                    var e_41 = t_22_1.value;
                                    if (!this._styles.has(e_41))
                                        return !1;
                                }
                            }
                            catch (e_40_1) { e_40 = { error: e_40_1 }; }
                            finally {
                                try {
                                    if (t_22_1 && !t_22_1.done && (_j = t_22.return)) _j.call(t_22);
                                }
                                finally { if (e_40) throw e_40.error; }
                            }
                            return !0;
                        };
                        ki.prototype.findAncestor = function () {
                            var t = [];
                            for (var _j = 0; _j < arguments.length; _j++) {
                                t[_j] = arguments[_j];
                            }
                            var e = new (xi.bind.apply(xi, __spread([void 0], t)))();
                            var n = this.parent;
                            for (; n;) {
                                if (e.match(n))
                                    return n;
                                n = n.parent;
                            }
                            return null;
                        };
                        ki.prototype.getCustomProperty = function (t) { return this._customProperties.get(t); };
                        ki.prototype.getCustomProperties = function () { return __generator(this, function (_j) {
                            switch (_j.label) {
                                case 0: return [5 /*yield**/, __values(this._customProperties.entries())];
                                case 1:
                                    _j.sent();
                                    return [2 /*return*/];
                            }
                        }); };
                        ki.prototype.getIdentity = function () { var t = Array.from(this._classes).sort().join(","), e = Array.from(this._styles).map(function (t) { return t[0] + ":" + t[1]; }).sort().join(";"), n = Array.from(this._attrs).map(function (t) { return t[0] + "=\"" + t[1] + "\""; }).sort().join(" "); return this.name + ("" == t ? "" : " class=\"" + t + "\"") + ("" == e ? "" : " style=\"" + e + "\"") + ("" == n ? "" : " " + n); };
                        ki.prototype._clone = function (t) {
                            var e_42, _j;
                            if (t === void 0) { t = !1; }
                            var e = [];
                            if (t)
                                try {
                                    for (var _q = __values(this.getChildren()), _z = _q.next(); !_z.done; _z = _q.next()) {
                                        var n_12 = _z.value;
                                        e.push(n_12._clone(t));
                                    }
                                }
                                catch (e_42_1) { e_42 = { error: e_42_1 }; }
                                finally {
                                    try {
                                        if (_z && !_z.done && (_j = _q.return)) _j.call(_q);
                                    }
                                    finally { if (e_42) throw e_42.error; }
                                }
                            var n = new this.constructor(this.name, this._attrs, e);
                            return n._classes = new Set(this._classes), n._styles = new Map(this._styles), n._customProperties = new Map(this._customProperties), n.getFillerOffset = this.getFillerOffset, n;
                        };
                        ki.prototype._appendChild = function (t) { return this._insertChild(this.childCount, t); };
                        ki.prototype._insertChild = function (t, e) {
                            var e_43, _j;
                            this._fireChange("children", this);
                            var n = 0;
                            var i = function (t) { if ("string" == typeof t)
                                return [new mi(t)]; pi(t) || (t = [t]); return Array.from(t).map(function (t) { return "string" == typeof t ? new mi(t) : t instanceof gi ? new mi(t.data) : t; }); }(e);
                            try {
                                for (var i_9 = __values(i), i_9_1 = i_9.next(); !i_9_1.done; i_9_1 = i_9.next()) {
                                    var e_44 = i_9_1.value;
                                    null !== e_44.parent && e_44._remove(), e_44.parent = this, this._children.splice(t, 0, e_44), t++, n++;
                                }
                            }
                            catch (e_43_1) { e_43 = { error: e_43_1 }; }
                            finally {
                                try {
                                    if (i_9_1 && !i_9_1.done && (_j = i_9.return)) _j.call(i_9);
                                }
                                finally { if (e_43) throw e_43.error; }
                            }
                            return n;
                        };
                        ki.prototype._removeChildren = function (t, e) {
                            if (e === void 0) { e = 1; }
                            this._fireChange("children", this);
                            for (var n_13 = t; n_13 < t + e; n_13++)
                                this._children[n_13].parent = null;
                            return this._children.splice(t, e);
                        };
                        ki.prototype._setAttribute = function (t, e) { e = String(e), this._fireChange("attributes", this), "class" == t ? _i(this._classes, e) : "style" == t ? wi(this._styles, e) : this._attrs.set(t, e); };
                        ki.prototype._removeAttribute = function (t) { return this._fireChange("attributes", this), "class" == t ? this._classes.size > 0 && (this._classes.clear(), !0) : "style" == t ? this._styles.size > 0 && (this._styles.clear(), !0) : this._attrs.delete(t); };
                        ki.prototype._addClass = function (t) {
                            var _this = this;
                            this._fireChange("attributes", this), (t = Array.isArray(t) ? t : [t]).forEach(function (t) { return _this._classes.add(t); });
                        };
                        ki.prototype._removeClass = function (t) {
                            var _this = this;
                            this._fireChange("attributes", this), (t = Array.isArray(t) ? t : [t]).forEach(function (t) { return _this._classes.delete(t); });
                        };
                        ki.prototype._setStyle = function (t, e) {
                            var e_45, _j;
                            if (this._fireChange("attributes", this), T(t)) {
                                var e_47 = Object.keys(t);
                                try {
                                    for (var e_46 = __values(e_47), e_46_1 = e_46.next(); !e_46_1.done; e_46_1 = e_46.next()) {
                                        var n_14 = e_46_1.value;
                                        this._styles.set(n_14, t[n_14]);
                                    }
                                }
                                catch (e_45_1) { e_45 = { error: e_45_1 }; }
                                finally {
                                    try {
                                        if (e_46_1 && !e_46_1.done && (_j = e_46.return)) _j.call(e_46);
                                    }
                                    finally { if (e_45) throw e_45.error; }
                                }
                            }
                            else
                                this._styles.set(t, e);
                        };
                        ki.prototype._removeStyle = function (t) {
                            var _this = this;
                            this._fireChange("attributes", this), (t = Array.isArray(t) ? t : [t]).forEach(function (t) { return _this._styles.delete(t); });
                        };
                        ki.prototype._setCustomProperty = function (t, e) { this._customProperties.set(t, e); };
                        ki.prototype._removeCustomProperty = function (t) { return this._customProperties.delete(t); };
                        return ki;
                    }(hi));
                    function wi(t, e) { var n = null, i = 0, o = 0, r = null; if (t.clear(), "" !== e) {
                        ";" != e.charAt(e.length - 1) && (e += ";");
                        for (var s_1 = 0; s_1 < e.length; s_1++) {
                            var a_1 = e.charAt(s_1);
                            if (null === n)
                                switch (a_1) {
                                    case ":":
                                        r || (r = e.substr(i, s_1 - i), o = s_1 + 1);
                                        break;
                                    case '"':
                                    case "'":
                                        n = a_1;
                                        break;
                                    case ";": {
                                        var n_15 = e.substr(o, s_1 - o);
                                        r && t.set(r.trim(), n_15.trim()), r = null, i = s_1 + 1;
                                        break;
                                    }
                                }
                            else
                                a_1 === n && (n = null);
                        }
                    } }
                    function _i(t, e) { var n = e.split(/\s+/); t.clear(), n.forEach(function (e) { return t.add(e); }); }
                    var vi = /** @class */ (function (_super) {
                        __extends(vi, _super);
                        function vi(t, e, n) {
                            var _this = this;
                            _this = _super.call(this, t, e, n) || this, _this.getFillerOffset = yi;
                            return _this;
                        }
                        vi.prototype.is = function (t, e) {
                            if (e === void 0) { e = null; }
                            var n = t && t.replace(/^view:/, "");
                            return e ? "containerElement" == n && e == this.name || _super.prototype.is.call(this, t, e) : "containerElement" == n || _super.prototype.is.call(this, t);
                        };
                        return vi;
                    }(ki));
                    function yi() {
                        var e_48, _j;
                        var t = __spread(this.getChildren()), e = t[this.childCount - 1];
                        if (e && e.is("element", "br"))
                            return this.childCount;
                        try {
                            for (var t_23 = __values(t), t_23_1 = t_23.next(); !t_23_1.done; t_23_1 = t_23.next()) {
                                var e_49 = t_23_1.value;
                                if (!e_49.is("uiElement"))
                                    return null;
                            }
                        }
                        catch (e_48_1) { e_48 = { error: e_48_1 }; }
                        finally {
                            try {
                                if (t_23_1 && !t_23_1.done && (_j = t_23.return)) _j.call(t_23);
                            }
                            finally { if (e_48) throw e_48.error; }
                        }
                        return this.childCount;
                    }
                    var Ci = function (t) { return t; };
                    var Ti = function (t, e, n) { switch (n.length) {
                        case 0: return t.call(e);
                        case 1: return t.call(e, n[0]);
                        case 2: return t.call(e, n[0], n[1]);
                        case 3: return t.call(e, n[0], n[1], n[2]);
                    } return t.apply(e, n); }, Ai = Math.max;
                    var Si = function (t, e, n) { return e = Ai(void 0 === e ? t.length - 1 : e, 0), function () { for (var i = arguments, o = -1, r = Ai(i.length - e, 0), s = Array(r); ++o < r;)
                        s[o] = i[e + o]; o = -1; for (var a = Array(e + 1); ++o < e;)
                        a[o] = i[o]; return a[e] = n(s), Ti(t, this, a); }; };
                    var Pi = function (t) { return function () { return t; }; }, Mi = Rt ? function (t, e) { return Rt(t, "toString", { configurable: !0, enumerable: !1, value: Pi(e), writable: !0 }); } : Ci, Ei = 800, Ii = 16, Ni = Date.now;
                    var Ri = function (t) { var e = 0, n = 0; return function () { var i = Ni(), o = Ii - (i - n); if (n = i, o > 0) {
                        if (++e >= Ei)
                            return arguments[0];
                    }
                    else
                        e = 0; return t.apply(void 0, arguments); }; }(Mi);
                    var Oi = function (t, e) { return Ri(Si(t, e, Ci), t + ""); };
                    var Di = function (t, e, n) { if (!F(n))
                        return !1; var i = typeof e; return !!("number" == i ? ue(n) && Kt(e, n.length) : "string" == i && e in n) && S(n[e], t); };
                    var Li = function (t) { return Oi(function (e, n) { var i = -1, o = n.length, r = o > 1 ? n[o - 1] : void 0, s = o > 2 ? n[2] : void 0; for (r = t.length > 3 && "function" == typeof r ? (o--, r) : void 0, s && Di(n[0], n[1], s) && (r = o < 3 ? void 0 : r, o = 1), e = Object(e); ++i < o;) {
                        var a = n[i];
                        a && t(e, a, i, r);
                    } return e; }); }(function (t, e) { Vt(e, xe(e), t); });
                    var Vi = Symbol("observableProperties"), zi = Symbol("boundObservables"), ji = Symbol("boundProperties"), Fi = { set: function (t, e) {
                            var _this = this;
                            if (F(t))
                                return void Object.keys(t).forEach(function (e) { _this.set(e, t[e]); }, this);
                            Hi(this);
                            var n = this[Vi];
                            if (t in this && !n.has(t))
                                throw new Gn.b("observable-set-cannot-override: Cannot override an existing property.", this);
                            Object.defineProperty(this, t, { enumerable: !0, configurable: !0, get: function () { return n.get(t); }, set: function (e) { var i = n.get(t); var o = this.fire("set:" + t, t, e, i); void 0 === o && (o = e), i === o && n.has(t) || (n.set(t, o), this.fire("change:" + t, t, o, i)); } }), this[t] = e;
                        }, bind: function () {
                            var _this = this;
                            var t = [];
                            for (var _j = 0; _j < arguments.length; _j++) {
                                t[_j] = arguments[_j];
                            }
                            if (!t.length || !qi(t))
                                throw new Gn.b("observable-bind-wrong-properties: All properties must be strings.", this);
                            if (new Set(t).size !== t.length)
                                throw new Gn.b("observable-bind-duplicate-properties: Properties must be unique.", this);
                            Hi(this);
                            var e = this[ji];
                            t.forEach(function (t) { if (e.has(t))
                                throw new Gn.b("observable-bind-rebind: Cannot bind the same property more than once.", _this); });
                            var n = new Map;
                            return t.forEach(function (t) { var i = { property: t, to: [] }; e.set(t, i), n.set(t, i); }), { to: Ui, toMany: Wi, _observable: this, _bindProperties: t, _to: [], _bindings: n };
                        }, unbind: function () {
                            var _this = this;
                            var t = [];
                            for (var _j = 0; _j < arguments.length; _j++) {
                                t[_j] = arguments[_j];
                            }
                            if (!(Vi in this))
                                return;
                            var e = this[ji], n = this[zi];
                            if (t.length) {
                                if (!qi(t))
                                    throw new Gn.b("observable-unbind-wrong-properties: Properties must be strings.", this);
                                t.forEach(function (t) { var i = e.get(t); if (!i)
                                    return; var o, r, s, a; i.to.forEach(function (t) { o = t[0], r = t[1], s = n.get(o), (a = s[r]).delete(i), a.size || delete s[r], Object.keys(s).length || (n.delete(o), _this.stopListening(o, "change")); }), e.delete(t); });
                            }
                            else
                                n.forEach(function (t, e) { _this.stopListening(e, "change"); }), n.clear(), e.clear();
                        }, decorate: function (t) {
                            var _this = this;
                            var e = this[t];
                            if (!e)
                                throw new Gn.b("observablemixin-cannot-decorate-undefined: Cannot decorate an undefined method.", this, { object: this, methodName: t });
                            this.on(t, function (t, n) { t.return = e.apply(_this, n); }), this[t] = function () {
                                var e = [];
                                for (var _j = 0; _j < arguments.length; _j++) {
                                    e[_j] = arguments[_j];
                                }
                                return this.fire(t, e);
                            };
                        } };
                    Li(Fi, ei);
                    var Bi = Fi;
                    function Hi(t) { Vi in t || (Object.defineProperty(t, Vi, { value: new Map }), Object.defineProperty(t, zi, { value: new Map }), Object.defineProperty(t, ji, { value: new Map })); }
                    function Ui() {
                        var _this = this;
                        var t = [];
                        for (var _j = 0; _j < arguments.length; _j++) {
                            t[_j] = arguments[_j];
                        }
                        var e = function () {
                            var t = [];
                            for (var _j = 0; _j < arguments.length; _j++) {
                                t[_j] = arguments[_j];
                            }
                            if (!t.length)
                                throw new Gn.b("observable-bind-to-parse-error: Invalid argument syntax in `to()`.", null);
                            var e = { to: [] };
                            var n;
                            "function" == typeof t[t.length - 1] && (e.callback = t.pop());
                            return t.forEach(function (t) { if ("string" == typeof t)
                                n.properties.push(t);
                            else {
                                if ("object" != typeof t)
                                    throw new Gn.b("observable-bind-to-parse-error: Invalid argument syntax in `to()`.", null);
                                n = { observable: t, properties: [] }, e.to.push(n);
                            } }), e;
                        }.apply(void 0, __spread(t)), n = Array.from(this._bindings.keys()), i = n.length;
                        if (!e.callback && e.to.length > 1)
                            throw new Gn.b("observable-bind-to-no-callback: Binding multiple observables only possible with callback.", this);
                        if (i > 1 && e.callback)
                            throw new Gn.b("observable-bind-to-extra-callback: Cannot bind multiple properties and use a callback in one binding.", this);
                        e.to.forEach(function (t) { if (t.properties.length && t.properties.length !== i)
                            throw new Gn.b("observable-bind-to-properties-length: The number of properties must match.", _this); t.properties.length || (t.properties = _this._bindProperties); }), this._to = e.to, e.callback && (this._bindings.get(n[0]).callback = e.callback), function (t, e) { e.forEach(function (e) { var n = t[zi]; var i; n.get(e.observable) || t.listenTo(e.observable, "change", function (o, r) { (i = n.get(e.observable)[r]) && i.forEach(function (e) { Yi(t, e.property); }); }); }); }(this._observable, this._to), function (t) { var e; t._bindings.forEach(function (n, i) { t._to.forEach(function (o) { e = o.properties[n.callback ? 0 : t._bindProperties.indexOf(i)], n.to.push([o.observable, e]), function (t, e, n, i) { var o = t[zi], r = o.get(n), s = r || {}; s[i] || (s[i] = new Set); s[i].add(e), r || o.set(n, s); }(t._observable, n, o.observable, e); }); }); }(this), this._bindProperties.forEach(function (t) { Yi(_this._observable, t); });
                    }
                    function Wi(t, e, n) { if (this._bindings.size > 1)
                        throw new Gn.b("observable-bind-to-many-not-one-binding: Cannot bind multiple properties with toMany().", this); this.to.apply(this, __spread(function (t, e) { var n = t.map(function (t) { return [t, e]; }); return Array.prototype.concat.apply([], n); }(t, e), [n])); }
                    function qi(t) { return t.every(function (t) { return "string" == typeof t; }); }
                    function Yi(t, e) { var n = t[ji].get(e); var i; i = n.callback ? n.callback.apply(t, n.to.map(function (t) { return t[0][t[1]]; })) : (i = n.to[0])[0][i[1]], t.hasOwnProperty(e) ? t[e] = i : t.set(e, i); }
                    var $i = Symbol("document");
                    var Gi = /** @class */ (function (_super) {
                        __extends(Gi, _super);
                        function Gi(t, e, n) {
                            var _this = this;
                            _this = _super.call(this, t, e, n) || this, _this.set("isReadOnly", !1), _this.set("isFocused", !1);
                            return _this;
                        }
                        Gi.prototype.is = function (t, e) {
                            if (e === void 0) { e = null; }
                            var n = t && t.replace(/^view:/, "");
                            return e ? "editableElement" == n && e == this.name || _super.prototype.is.call(this, t, e) : "editableElement" == n || _super.prototype.is.call(this, t);
                        };
                        Gi.prototype.destroy = function () { this.stopListening(); };
                        Object.defineProperty(Gi.prototype, "document", {
                            get: function () { return this.getCustomProperty($i); },
                            enumerable: true,
                            configurable: true
                        });
                        Object.defineProperty(Gi.prototype, "_document", {
                            set: function (t) {
                                var _this = this;
                                if (this.getCustomProperty($i))
                                    throw new Gn.b("view-editableelement-document-already-set: View document is already set.", this);
                                this._setCustomProperty($i, t), this.bind("isReadOnly").to(t), this.bind("isFocused").to(t, "isFocused", function (e) { return e && t.selection.editableElement == _this; }), this.listenTo(t.selection, "change", function () { _this.isFocused = t.isFocused && t.selection.editableElement == _this; });
                            },
                            enumerable: true,
                            configurable: true
                        });
                        return Gi;
                    }(vi));
                    ci(Gi, Bi);
                    var Ki = Symbol("rootName");
                    var Qi = /** @class */ (function (_super) {
                        __extends(Qi, _super);
                        function Qi(t) {
                            var _this = this;
                            _this = _super.call(this, t) || this, _this.rootName = "main";
                            return _this;
                        }
                        Qi.prototype.is = function (t, e) {
                            if (e === void 0) { e = null; }
                            var n = t.replace(/^view:/, "");
                            return e ? "rootElement" == n && e == this.name || _super.prototype.is.call(this, t, e) : "rootElement" == n || _super.prototype.is.call(this, t);
                        };
                        Object.defineProperty(Qi.prototype, "rootName", {
                            get: function () { return this.getCustomProperty(Ki); },
                            set: function (t) { this._setCustomProperty(Ki, t); },
                            enumerable: true,
                            configurable: true
                        });
                        Object.defineProperty(Qi.prototype, "_name", {
                            set: function (t) { this.name = t; },
                            enumerable: true,
                            configurable: true
                        });
                        return Qi;
                    }(Gi));
                    var Ji = /** @class */ (function () {
                        function Ji(t) {
                            if (t === void 0) { t = {}; }
                            if (!t.boundaries && !t.startPosition)
                                throw new Gn.b("view-tree-walker-no-start-position: Neither boundaries nor starting position have been defined.", null);
                            if (t.direction && "forward" != t.direction && "backward" != t.direction)
                                throw new Gn.b("view-tree-walker-unknown-direction: Only `backward` and `forward` direction allowed.", t.startPosition, { direction: t.direction });
                            this.boundaries = t.boundaries || null, t.startPosition ? this.position = Zi._createAt(t.startPosition) : this.position = Zi._createAt(t.boundaries["backward" == t.direction ? "end" : "start"]), this.direction = t.direction || "forward", this.singleCharacters = !!t.singleCharacters, this.shallow = !!t.shallow, this.ignoreElementEnd = !!t.ignoreElementEnd, this._boundaryStartParent = this.boundaries ? this.boundaries.start.parent : null, this._boundaryEndParent = this.boundaries ? this.boundaries.end.parent : null;
                        }
                        Ji.prototype[Symbol.iterator] = function () { return this; };
                        Ji.prototype.skip = function (t) {
                            var _j;
                            var e, n, i;
                            do {
                                i = this.position, (_j = this.next(), e = _j.done, n = _j.value, _j);
                            } while (!e && t(n));
                            e || (this.position = i);
                        };
                        Ji.prototype.next = function () { return "forward" == this.direction ? this._next() : this._previous(); };
                        Ji.prototype._next = function () { var t = this.position.clone(); var e = this.position, n = t.parent; if (null === n.parent && t.offset === n.childCount)
                            return { done: !0 }; if (n === this._boundaryEndParent && t.offset == this.boundaries.end.offset)
                            return { done: !0 }; var i; if (n instanceof mi) {
                            if (t.isAtEnd)
                                return this.position = Zi._createAfter(n), this._next();
                            i = n.data[t.offset];
                        }
                        else
                            i = n.getChild(t.offset); if (i instanceof ki)
                            return this.shallow ? t.offset++ : t = new Zi(i, 0), this.position = t, this._formatReturnValue("elementStart", i, e, t, 1); if (i instanceof mi) {
                            if (this.singleCharacters)
                                return t = new Zi(i, 0), this.position = t, this._next();
                            {
                                var n_16, o_8 = i.data.length;
                                return i == this._boundaryEndParent ? (o_8 = this.boundaries.end.offset, n_16 = new gi(i, 0, o_8), t = Zi._createAfter(n_16)) : (n_16 = new gi(i, 0, i.data.length), t.offset++), this.position = t, this._formatReturnValue("text", n_16, e, t, o_8);
                            }
                        } if ("string" == typeof i) {
                            var i_10;
                            if (this.singleCharacters)
                                i_10 = 1;
                            else {
                                i_10 = (n === this._boundaryEndParent ? this.boundaries.end.offset : n.data.length) - t.offset;
                            }
                            var o_9 = new gi(n, t.offset, i_10);
                            return t.offset += i_10, this.position = t, this._formatReturnValue("text", o_9, e, t, i_10);
                        } return t = Zi._createAfter(n), this.position = t, this.ignoreElementEnd ? this._next() : this._formatReturnValue("elementEnd", n, e, t); };
                        Ji.prototype._previous = function () { var t = this.position.clone(); var e = this.position, n = t.parent; if (null === n.parent && 0 === t.offset)
                            return { done: !0 }; if (n == this._boundaryStartParent && t.offset == this.boundaries.start.offset)
                            return { done: !0 }; var i; if (n instanceof mi) {
                            if (t.isAtStart)
                                return this.position = Zi._createBefore(n), this._previous();
                            i = n.data[t.offset - 1];
                        }
                        else
                            i = n.getChild(t.offset - 1); if (i instanceof ki)
                            return this.shallow ? (t.offset--, this.position = t, this._formatReturnValue("elementStart", i, e, t, 1)) : (t = new Zi(i, i.childCount), this.position = t, this.ignoreElementEnd ? this._previous() : this._formatReturnValue("elementEnd", i, e, t)); if (i instanceof mi) {
                            if (this.singleCharacters)
                                return t = new Zi(i, i.data.length), this.position = t, this._previous();
                            {
                                var n_17, o_10 = i.data.length;
                                if (i == this._boundaryStartParent) {
                                    var e_50 = this.boundaries.start.offset;
                                    o_10 = (n_17 = new gi(i, e_50, i.data.length - e_50)).data.length, t = Zi._createBefore(n_17);
                                }
                                else
                                    n_17 = new gi(i, 0, i.data.length), t.offset--;
                                return this.position = t, this._formatReturnValue("text", n_17, e, t, o_10);
                            }
                        } if ("string" == typeof i) {
                            var i_11;
                            if (this.singleCharacters)
                                i_11 = 1;
                            else {
                                var e_51 = n === this._boundaryStartParent ? this.boundaries.start.offset : 0;
                                i_11 = t.offset - e_51;
                            }
                            t.offset -= i_11;
                            var o_11 = new gi(n, t.offset, i_11);
                            return this.position = t, this._formatReturnValue("text", o_11, e, t, i_11);
                        } return t = Zi._createBefore(n), this.position = t, this._formatReturnValue("elementStart", n, e, t, 1); };
                        Ji.prototype._formatReturnValue = function (t, e, n, i, o) { return e instanceof gi && (e.offsetInText + e.data.length == e.textNode.data.length && ("forward" != this.direction || this.boundaries && this.boundaries.end.isEqual(this.position) ? n = Zi._createAfter(e.textNode) : (i = Zi._createAfter(e.textNode), this.position = i)), 0 === e.offsetInText && ("backward" != this.direction || this.boundaries && this.boundaries.start.isEqual(this.position) ? n = Zi._createBefore(e.textNode) : (i = Zi._createBefore(e.textNode), this.position = i))), { done: !1, value: { type: t, item: e, previousPosition: n, nextPosition: i, length: o } }; };
                        return Ji;
                    }());
                    var Zi = /** @class */ (function () {
                        function Zi(t, e) {
                            this.parent = t, this.offset = e;
                        }
                        Object.defineProperty(Zi.prototype, "nodeAfter", {
                            get: function () { return this.parent.is("text") ? null : this.parent.getChild(this.offset) || null; },
                            enumerable: true,
                            configurable: true
                        });
                        Object.defineProperty(Zi.prototype, "nodeBefore", {
                            get: function () { return this.parent.is("text") ? null : this.parent.getChild(this.offset - 1) || null; },
                            enumerable: true,
                            configurable: true
                        });
                        Object.defineProperty(Zi.prototype, "isAtStart", {
                            get: function () { return 0 === this.offset; },
                            enumerable: true,
                            configurable: true
                        });
                        Object.defineProperty(Zi.prototype, "isAtEnd", {
                            get: function () { var t = this.parent.is("text") ? this.parent.data.length : this.parent.childCount; return this.offset === t; },
                            enumerable: true,
                            configurable: true
                        });
                        Object.defineProperty(Zi.prototype, "root", {
                            get: function () { return this.parent.root; },
                            enumerable: true,
                            configurable: true
                        });
                        Object.defineProperty(Zi.prototype, "editableElement", {
                            get: function () { var t = this.parent; for (; !(t instanceof Gi);) {
                                if (!t.parent)
                                    return null;
                                t = t.parent;
                            } return t; },
                            enumerable: true,
                            configurable: true
                        });
                        Zi.prototype.getShiftedBy = function (t) { var e = Zi._createAt(this), n = e.offset + t; return e.offset = n < 0 ? 0 : n, e; };
                        Zi.prototype.getLastMatchingPosition = function (t, e) {
                            if (e === void 0) { e = {}; }
                            e.startPosition = this;
                            var n = new Ji(e);
                            return n.skip(t), n.position;
                        };
                        Zi.prototype.getAncestors = function () { return this.parent.is("documentFragment") ? [this.parent] : this.parent.getAncestors({ includeSelf: !0 }); };
                        Zi.prototype.getCommonAncestor = function (t) { var e = this.getAncestors(), n = t.getAncestors(); var i = 0; for (; e[i] == n[i] && e[i];)
                            i++; return 0 === i ? null : e[i - 1]; };
                        Zi.prototype.is = function (t) { return "position" == t || "view:position" == t; };
                        Zi.prototype.isEqual = function (t) { return this.parent == t.parent && this.offset == t.offset; };
                        Zi.prototype.isBefore = function (t) { return "before" == this.compareWith(t); };
                        Zi.prototype.isAfter = function (t) { return "after" == this.compareWith(t); };
                        Zi.prototype.compareWith = function (t) { if (this.root !== t.root)
                            return "different"; if (this.isEqual(t))
                            return "same"; var e = this.parent.is("node") ? this.parent.getPath() : [], n = t.parent.is("node") ? t.parent.getPath() : []; e.push(this.offset), n.push(t.offset); var i = li(e, n); switch (i) {
                            case "prefix": return "before";
                            case "extension": return "after";
                            default: return e[i] < n[i] ? "before" : "after";
                        } };
                        Zi.prototype.getWalker = function (t) {
                            if (t === void 0) { t = {}; }
                            return t.startPosition = this, new Ji(t);
                        };
                        Zi.prototype.clone = function () { return new Zi(this.parent, this.offset); };
                        Zi._createAt = function (t, e) { if (t instanceof Zi)
                            return new this(t.parent, t.offset); {
                            var n_18 = t;
                            if ("end" == e)
                                e = n_18.is("text") ? n_18.data.length : n_18.childCount;
                            else {
                                if ("before" == e)
                                    return this._createBefore(n_18);
                                if ("after" == e)
                                    return this._createAfter(n_18);
                                if (0 !== e && !e)
                                    throw new Gn.b("view-createPositionAt-offset-required: View#createPositionAt() requires the offset when the first parameter is a view item.", n_18);
                            }
                            return new Zi(n_18, e);
                        } };
                        Zi._createAfter = function (t) { if (t.is("textProxy"))
                            return new Zi(t.textNode, t.offsetInText + t.data.length); if (!t.parent)
                            throw new Gn.b("view-position-after-root: You can not make position after root.", t, { root: t }); return new Zi(t.parent, t.index + 1); };
                        Zi._createBefore = function (t) { if (t.is("textProxy"))
                            return new Zi(t.textNode, t.offsetInText); if (!t.parent)
                            throw new Gn.b("view-position-before-root: You can not make position before root.", t, { root: t }); return new Zi(t.parent, t.index); };
                        return Zi;
                    }());
                    var Xi = /** @class */ (function () {
                        function Xi(t, e) {
                            if (e === void 0) { e = null; }
                            this.start = t.clone(), this.end = e ? e.clone() : t.clone();
                        }
                        Xi.prototype[Symbol.iterator] = function () { return __generator(this, function (_j) {
                            switch (_j.label) {
                                case 0: return [5 /*yield**/, __values(new Ji({ boundaries: this, ignoreElementEnd: !0 }))];
                                case 1:
                                    _j.sent();
                                    return [2 /*return*/];
                            }
                        }); };
                        Object.defineProperty(Xi.prototype, "isCollapsed", {
                            get: function () { return this.start.isEqual(this.end); },
                            enumerable: true,
                            configurable: true
                        });
                        Object.defineProperty(Xi.prototype, "isFlat", {
                            get: function () { return this.start.parent === this.end.parent; },
                            enumerable: true,
                            configurable: true
                        });
                        Object.defineProperty(Xi.prototype, "root", {
                            get: function () { return this.start.root; },
                            enumerable: true,
                            configurable: true
                        });
                        Xi.prototype.getEnlarged = function () { var t = this.start.getLastMatchingPosition(to, { direction: "backward" }), e = this.end.getLastMatchingPosition(to); return t.parent.is("text") && t.isAtStart && (t = Zi._createBefore(t.parent)), e.parent.is("text") && e.isAtEnd && (e = Zi._createAfter(e.parent)), new Xi(t, e); };
                        Xi.prototype.getTrimmed = function () { var t = this.start.getLastMatchingPosition(to); if (t.isAfter(this.end) || t.isEqual(this.end))
                            return new Xi(t, t); var e = this.end.getLastMatchingPosition(to, { direction: "backward" }); var n = t.nodeAfter, i = e.nodeBefore; return n && n.is("text") && (t = new Zi(n, 0)), i && i.is("text") && (e = new Zi(i, i.data.length)), new Xi(t, e); };
                        Xi.prototype.isEqual = function (t) { return this == t || this.start.isEqual(t.start) && this.end.isEqual(t.end); };
                        Xi.prototype.containsPosition = function (t) { return t.isAfter(this.start) && t.isBefore(this.end); };
                        Xi.prototype.containsRange = function (t, e) {
                            if (e === void 0) { e = !1; }
                            t.isCollapsed && (e = !1);
                            var n = this.containsPosition(t.start) || e && this.start.isEqual(t.start), i = this.containsPosition(t.end) || e && this.end.isEqual(t.end);
                            return n && i;
                        };
                        Xi.prototype.getDifference = function (t) { var e = []; return this.isIntersecting(t) ? (this.containsPosition(t.start) && e.push(new Xi(this.start, t.start)), this.containsPosition(t.end) && e.push(new Xi(t.end, this.end))) : e.push(this.clone()), e; };
                        Xi.prototype.getIntersection = function (t) { if (this.isIntersecting(t)) {
                            var e_52 = this.start, n_19 = this.end;
                            return this.containsPosition(t.start) && (e_52 = t.start), this.containsPosition(t.end) && (n_19 = t.end), new Xi(e_52, n_19);
                        } return null; };
                        Xi.prototype.getWalker = function (t) {
                            if (t === void 0) { t = {}; }
                            return t.boundaries = this, new Ji(t);
                        };
                        Xi.prototype.getCommonAncestor = function () { return this.start.getCommonAncestor(this.end); };
                        Xi.prototype.clone = function () { return new Xi(this.start, this.end); };
                        Xi.prototype.getItems = function (t) {
                            var e_53, _j, e, e_54, e_54_1, t_24, e_53_1;
                            return __generator(this, function (_q) {
                                switch (_q.label) {
                                    case 0:
                                        if (t === void 0) { t = {}; }
                                        t.boundaries = this, t.ignoreElementEnd = !0;
                                        e = new Ji(t);
                                        _q.label = 1;
                                    case 1:
                                        _q.trys.push([1, 6, 7, 8]);
                                        e_54 = __values(e), e_54_1 = e_54.next();
                                        _q.label = 2;
                                    case 2:
                                        if (!!e_54_1.done) return [3 /*break*/, 5];
                                        t_24 = e_54_1.value;
                                        return [4 /*yield*/, t_24.item];
                                    case 3:
                                        _q.sent();
                                        _q.label = 4;
                                    case 4:
                                        e_54_1 = e_54.next();
                                        return [3 /*break*/, 2];
                                    case 5: return [3 /*break*/, 8];
                                    case 6:
                                        e_53_1 = _q.sent();
                                        e_53 = { error: e_53_1 };
                                        return [3 /*break*/, 8];
                                    case 7:
                                        try {
                                            if (e_54_1 && !e_54_1.done && (_j = e_54.return)) _j.call(e_54);
                                        }
                                        finally { if (e_53) throw e_53.error; }
                                        return [7 /*endfinally*/];
                                    case 8: return [2 /*return*/];
                                }
                            });
                        };
                        Xi.prototype.getPositions = function (t) {
                            var e_55, _j, e, e_56, e_56_1, t_25, e_55_1;
                            return __generator(this, function (_q) {
                                switch (_q.label) {
                                    case 0:
                                        if (t === void 0) { t = {}; }
                                        t.boundaries = this;
                                        e = new Ji(t);
                                        return [4 /*yield*/, e.position];
                                    case 1:
                                        _q.sent();
                                        _q.label = 2;
                                    case 2:
                                        _q.trys.push([2, 7, 8, 9]);
                                        e_56 = __values(e), e_56_1 = e_56.next();
                                        _q.label = 3;
                                    case 3:
                                        if (!!e_56_1.done) return [3 /*break*/, 6];
                                        t_25 = e_56_1.value;
                                        return [4 /*yield*/, t_25.nextPosition];
                                    case 4:
                                        _q.sent();
                                        _q.label = 5;
                                    case 5:
                                        e_56_1 = e_56.next();
                                        return [3 /*break*/, 3];
                                    case 6: return [3 /*break*/, 9];
                                    case 7:
                                        e_55_1 = _q.sent();
                                        e_55 = { error: e_55_1 };
                                        return [3 /*break*/, 9];
                                    case 8:
                                        try {
                                            if (e_56_1 && !e_56_1.done && (_j = e_56.return)) _j.call(e_56);
                                        }
                                        finally { if (e_55) throw e_55.error; }
                                        return [7 /*endfinally*/];
                                    case 9: return [2 /*return*/];
                                }
                            });
                        };
                        Xi.prototype.is = function (t) { return "range" == t || "view:range" == t; };
                        Xi.prototype.isIntersecting = function (t) { return this.start.isBefore(t.end) && this.end.isAfter(t.start); };
                        Xi._createFromParentsAndOffsets = function (t, e, n, i) { return new this(new Zi(t, e), new Zi(n, i)); };
                        Xi._createFromPositionAndShift = function (t, e) { var n = t, i = t.getShiftedBy(e); return e > 0 ? new this(n, i) : new this(i, n); };
                        Xi._createIn = function (t) { return this._createFromParentsAndOffsets(t, 0, t, t.childCount); };
                        Xi._createOn = function (t) { var e = t.is("textProxy") ? t.offsetSize : 1; return this._createFromPositionAndShift(Zi._createBefore(t), e); };
                        return Xi;
                    }());
                    function to(t) { return !(!t.item.is("attributeElement") && !t.item.is("uiElement")); }
                    function eo(t) {
                        var e_57, _j;
                        var e = 0;
                        try {
                            for (var t_26 = __values(t), t_26_1 = t_26.next(); !t_26_1.done; t_26_1 = t_26.next()) {
                                var n_20 = t_26_1.value;
                                e++;
                            }
                        }
                        catch (e_57_1) { e_57 = { error: e_57_1 }; }
                        finally {
                            try {
                                if (t_26_1 && !t_26_1.done && (_j = t_26.return)) _j.call(t_26);
                            }
                            finally { if (e_57) throw e_57.error; }
                        }
                        return e;
                    }
                    var no = /** @class */ (function () {
                        function no(t, e, n) {
                            if (t === void 0) { t = null; }
                            this._ranges = [], this._lastRangeBackward = !1, this._isFake = !1, this._fakeSelectionLabel = "", this.setTo(t, e, n);
                        }
                        Object.defineProperty(no.prototype, "isFake", {
                            get: function () { return this._isFake; },
                            enumerable: true,
                            configurable: true
                        });
                        Object.defineProperty(no.prototype, "fakeSelectionLabel", {
                            get: function () { return this._fakeSelectionLabel; },
                            enumerable: true,
                            configurable: true
                        });
                        Object.defineProperty(no.prototype, "anchor", {
                            get: function () { if (!this._ranges.length)
                                return null; var t = this._ranges[this._ranges.length - 1]; return (this._lastRangeBackward ? t.end : t.start).clone(); },
                            enumerable: true,
                            configurable: true
                        });
                        Object.defineProperty(no.prototype, "focus", {
                            get: function () { if (!this._ranges.length)
                                return null; var t = this._ranges[this._ranges.length - 1]; return (this._lastRangeBackward ? t.start : t.end).clone(); },
                            enumerable: true,
                            configurable: true
                        });
                        Object.defineProperty(no.prototype, "isCollapsed", {
                            get: function () { return 1 === this.rangeCount && this._ranges[0].isCollapsed; },
                            enumerable: true,
                            configurable: true
                        });
                        Object.defineProperty(no.prototype, "rangeCount", {
                            get: function () { return this._ranges.length; },
                            enumerable: true,
                            configurable: true
                        });
                        Object.defineProperty(no.prototype, "isBackward", {
                            get: function () { return !this.isCollapsed && this._lastRangeBackward; },
                            enumerable: true,
                            configurable: true
                        });
                        Object.defineProperty(no.prototype, "editableElement", {
                            get: function () { return this.anchor ? this.anchor.editableElement : null; },
                            enumerable: true,
                            configurable: true
                        });
                        no.prototype.getRanges = function () {
                            var e_58, _j, _q, _z, t_27, e_58_1;
                            return __generator(this, function (_0) {
                                switch (_0.label) {
                                    case 0:
                                        _0.trys.push([0, 5, 6, 7]);
                                        _q = __values(this._ranges), _z = _q.next();
                                        _0.label = 1;
                                    case 1:
                                        if (!!_z.done) return [3 /*break*/, 4];
                                        t_27 = _z.value;
                                        return [4 /*yield*/, t_27.clone()];
                                    case 2:
                                        _0.sent();
                                        _0.label = 3;
                                    case 3:
                                        _z = _q.next();
                                        return [3 /*break*/, 1];
                                    case 4: return [3 /*break*/, 7];
                                    case 5:
                                        e_58_1 = _0.sent();
                                        e_58 = { error: e_58_1 };
                                        return [3 /*break*/, 7];
                                    case 6:
                                        try {
                                            if (_z && !_z.done && (_j = _q.return)) _j.call(_q);
                                        }
                                        finally { if (e_58) throw e_58.error; }
                                        return [7 /*endfinally*/];
                                    case 7: return [2 /*return*/];
                                }
                            });
                        };
                        no.prototype.getFirstRange = function () {
                            var e_59, _j;
                            var t = null;
                            try {
                                for (var _q = __values(this._ranges), _z = _q.next(); !_z.done; _z = _q.next()) {
                                    var e_60 = _z.value;
                                    t && !e_60.start.isBefore(t.start) || (t = e_60);
                                }
                            }
                            catch (e_59_1) { e_59 = { error: e_59_1 }; }
                            finally {
                                try {
                                    if (_z && !_z.done && (_j = _q.return)) _j.call(_q);
                                }
                                finally { if (e_59) throw e_59.error; }
                            }
                            return t ? t.clone() : null;
                        };
                        no.prototype.getLastRange = function () {
                            var e_61, _j;
                            var t = null;
                            try {
                                for (var _q = __values(this._ranges), _z = _q.next(); !_z.done; _z = _q.next()) {
                                    var e_62 = _z.value;
                                    t && !e_62.end.isAfter(t.end) || (t = e_62);
                                }
                            }
                            catch (e_61_1) { e_61 = { error: e_61_1 }; }
                            finally {
                                try {
                                    if (_z && !_z.done && (_j = _q.return)) _j.call(_q);
                                }
                                finally { if (e_61) throw e_61.error; }
                            }
                            return t ? t.clone() : null;
                        };
                        no.prototype.getFirstPosition = function () { var t = this.getFirstRange(); return t ? t.start.clone() : null; };
                        no.prototype.getLastPosition = function () { var t = this.getLastRange(); return t ? t.end.clone() : null; };
                        no.prototype.isEqual = function (t) {
                            var e_63, _j, e_64, _q;
                            if (this.isFake != t.isFake)
                                return !1;
                            if (this.isFake && this.fakeSelectionLabel != t.fakeSelectionLabel)
                                return !1;
                            if (this.rangeCount != t.rangeCount)
                                return !1;
                            if (0 === this.rangeCount)
                                return !0;
                            if (!this.anchor.isEqual(t.anchor) || !this.focus.isEqual(t.focus))
                                return !1;
                            try {
                                for (var _z = __values(this._ranges), _0 = _z.next(); !_0.done; _0 = _z.next()) {
                                    var e_65 = _0.value;
                                    var n_21 = !1;
                                    try {
                                        for (var _1 = __values(t._ranges), _2 = _1.next(); !_2.done; _2 = _1.next()) {
                                            var i_12 = _2.value;
                                            if (e_65.isEqual(i_12)) {
                                                n_21 = !0;
                                                break;
                                            }
                                        }
                                    }
                                    catch (e_64_1) { e_64 = { error: e_64_1 }; }
                                    finally {
                                        try {
                                            if (_2 && !_2.done && (_q = _1.return)) _q.call(_1);
                                        }
                                        finally { if (e_64) throw e_64.error; }
                                    }
                                    if (!n_21)
                                        return !1;
                                }
                            }
                            catch (e_63_1) { e_63 = { error: e_63_1 }; }
                            finally {
                                try {
                                    if (_0 && !_0.done && (_j = _z.return)) _j.call(_z);
                                }
                                finally { if (e_63) throw e_63.error; }
                            }
                            return !0;
                        };
                        no.prototype.isSimilar = function (t) {
                            var e_66, _j, e_67, _q;
                            if (this.isBackward != t.isBackward)
                                return !1;
                            var e = eo(this.getRanges());
                            if (e != eo(t.getRanges()))
                                return !1;
                            if (0 == e)
                                return !0;
                            try {
                                for (var _z = __values(this.getRanges()), _0 = _z.next(); !_0.done; _0 = _z.next()) {
                                    var e_68 = _0.value;
                                    e_68 = e_68.getTrimmed();
                                    var n_22 = !1;
                                    try {
                                        for (var _1 = __values(t.getRanges()), _2 = _1.next(); !_2.done; _2 = _1.next()) {
                                            var i_13 = _2.value;
                                            if (i_13 = i_13.getTrimmed(), e_68.start.isEqual(i_13.start) && e_68.end.isEqual(i_13.end)) {
                                                n_22 = !0;
                                                break;
                                            }
                                        }
                                    }
                                    catch (e_67_1) { e_67 = { error: e_67_1 }; }
                                    finally {
                                        try {
                                            if (_2 && !_2.done && (_q = _1.return)) _q.call(_1);
                                        }
                                        finally { if (e_67) throw e_67.error; }
                                    }
                                    if (!n_22)
                                        return !1;
                                }
                            }
                            catch (e_66_1) { e_66 = { error: e_66_1 }; }
                            finally {
                                try {
                                    if (_0 && !_0.done && (_j = _z.return)) _j.call(_z);
                                }
                                finally { if (e_66) throw e_66.error; }
                            }
                            return !0;
                        };
                        no.prototype.getSelectedElement = function () { if (1 !== this.rangeCount)
                            return null; var t = this.getFirstRange(); var e = t.start.nodeAfter, n = t.end.nodeBefore; return t.start.parent.is("text") && t.start.isAtEnd && t.start.parent.nextSibling && (e = t.start.parent.nextSibling), t.end.parent.is("text") && t.end.isAtStart && t.end.parent.previousSibling && (n = t.end.parent.previousSibling), e instanceof ki && e == n ? e : null; };
                        no.prototype.setTo = function (t, e, n) { if (null === t)
                            this._setRanges([]), this._setFakeOptions(e);
                        else if (t instanceof no || t instanceof io)
                            this._setRanges(t.getRanges(), t.isBackward), this._setFakeOptions({ fake: t.isFake, label: t.fakeSelectionLabel });
                        else if (t instanceof Xi)
                            this._setRanges([t], e && e.backward), this._setFakeOptions(e);
                        else if (t instanceof Zi)
                            this._setRanges([new Xi(t)]), this._setFakeOptions(e);
                        else if (t instanceof hi) {
                            var i_14 = !!n && !!n.backward;
                            var o_12;
                            if (void 0 === e)
                                throw new Gn.b("view-selection-setTo-required-second-parameter: selection.setTo requires the second parameter when the first parameter is a node.", this);
                            o_12 = "in" == e ? Xi._createIn(t) : "on" == e ? Xi._createOn(t) : new Xi(Zi._createAt(t, e)), this._setRanges([o_12], i_14), this._setFakeOptions(n);
                        }
                        else {
                            if (!pi(t))
                                throw new Gn.b("view-selection-setTo-not-selectable: Cannot set selection to given place.", this);
                            this._setRanges(t, e && e.backward), this._setFakeOptions(e);
                        } this.fire("change"); };
                        no.prototype.setFocus = function (t, e) { if (null === this.anchor)
                            throw new Gn.b("view-selection-setFocus-no-ranges: Cannot set selection focus if there are no ranges in selection.", this); var n = Zi._createAt(t, e); if ("same" == n.compareWith(this.focus))
                            return; var i = this.anchor; this._ranges.pop(), "before" == n.compareWith(i) ? this._addRange(new Xi(n, i), !0) : this._addRange(new Xi(i, n)), this.fire("change"); };
                        no.prototype.is = function (t) { return "selection" == t || "view:selection" == t; };
                        no.prototype._setRanges = function (t, e) {
                            var e_69, _j;
                            if (e === void 0) { e = !1; }
                            t = Array.from(t), this._ranges = [];
                            try {
                                for (var t_28 = __values(t), t_28_1 = t_28.next(); !t_28_1.done; t_28_1 = t_28.next()) {
                                    var e_70 = t_28_1.value;
                                    this._addRange(e_70);
                                }
                            }
                            catch (e_69_1) { e_69 = { error: e_69_1 }; }
                            finally {
                                try {
                                    if (t_28_1 && !t_28_1.done && (_j = t_28.return)) _j.call(t_28);
                                }
                                finally { if (e_69) throw e_69.error; }
                            }
                            this._lastRangeBackward = !!e;
                        };
                        no.prototype._setFakeOptions = function (t) {
                            if (t === void 0) { t = {}; }
                            this._isFake = !!t.fake, this._fakeSelectionLabel = t.fake && t.label || "";
                        };
                        no.prototype._addRange = function (t, e) {
                            if (e === void 0) { e = !1; }
                            if (!(t instanceof Xi))
                                throw new Gn.b("view-selection-add-range-not-range: Selection range set to an object that is not an instance of view.Range", this);
                            this._pushRange(t), this._lastRangeBackward = !!e;
                        };
                        no.prototype._pushRange = function (t) {
                            var e_71, _j;
                            try {
                                for (var _q = __values(this._ranges), _z = _q.next(); !_z.done; _z = _q.next()) {
                                    var e_72 = _z.value;
                                    if (t.isIntersecting(e_72))
                                        throw new Gn.b("view-selection-range-intersects: Trying to add a range that intersects with another range from selection.", this, { addedRange: t, intersectingRange: e_72 });
                                }
                            }
                            catch (e_71_1) { e_71 = { error: e_71_1 }; }
                            finally {
                                try {
                                    if (_z && !_z.done && (_j = _q.return)) _j.call(_q);
                                }
                                finally { if (e_71) throw e_71.error; }
                            }
                            this._ranges.push(new Xi(t.start, t.end));
                        };
                        return no;
                    }());
                    ci(no, ei);
                    var io = /** @class */ (function () {
                        function io(t, e, n) {
                            if (t === void 0) { t = null; }
                            this._selection = new no, this._selection.delegate("change").to(this), this._selection.setTo(t, e, n);
                        }
                        Object.defineProperty(io.prototype, "isFake", {
                            get: function () { return this._selection.isFake; },
                            enumerable: true,
                            configurable: true
                        });
                        Object.defineProperty(io.prototype, "fakeSelectionLabel", {
                            get: function () { return this._selection.fakeSelectionLabel; },
                            enumerable: true,
                            configurable: true
                        });
                        Object.defineProperty(io.prototype, "anchor", {
                            get: function () { return this._selection.anchor; },
                            enumerable: true,
                            configurable: true
                        });
                        Object.defineProperty(io.prototype, "focus", {
                            get: function () { return this._selection.focus; },
                            enumerable: true,
                            configurable: true
                        });
                        Object.defineProperty(io.prototype, "isCollapsed", {
                            get: function () { return this._selection.isCollapsed; },
                            enumerable: true,
                            configurable: true
                        });
                        Object.defineProperty(io.prototype, "rangeCount", {
                            get: function () { return this._selection.rangeCount; },
                            enumerable: true,
                            configurable: true
                        });
                        Object.defineProperty(io.prototype, "isBackward", {
                            get: function () { return this._selection.isBackward; },
                            enumerable: true,
                            configurable: true
                        });
                        Object.defineProperty(io.prototype, "editableElement", {
                            get: function () { return this._selection.editableElement; },
                            enumerable: true,
                            configurable: true
                        });
                        Object.defineProperty(io.prototype, "_ranges", {
                            get: function () { return this._selection._ranges; },
                            enumerable: true,
                            configurable: true
                        });
                        io.prototype.getRanges = function () { return __generator(this, function (_j) {
                            switch (_j.label) {
                                case 0: return [5 /*yield**/, __values(this._selection.getRanges())];
                                case 1:
                                    _j.sent();
                                    return [2 /*return*/];
                            }
                        }); };
                        io.prototype.getFirstRange = function () { return this._selection.getFirstRange(); };
                        io.prototype.getLastRange = function () { return this._selection.getLastRange(); };
                        io.prototype.getFirstPosition = function () { return this._selection.getFirstPosition(); };
                        io.prototype.getLastPosition = function () { return this._selection.getLastPosition(); };
                        io.prototype.getSelectedElement = function () { return this._selection.getSelectedElement(); };
                        io.prototype.isEqual = function (t) { return this._selection.isEqual(t); };
                        io.prototype.isSimilar = function (t) { return this._selection.isSimilar(t); };
                        io.prototype.is = function (t) { return "selection" == t || "documentSelection" == t || "view:selection" == t || "view:documentSelection" == t; };
                        io.prototype._setTo = function (t, e, n) { this._selection.setTo(t, e, n); };
                        io.prototype._setFocus = function (t, e) { this._selection.setFocus(t, e); };
                        return io;
                    }());
                    ci(io, ei);
                    var oo = /** @class */ (function () {
                        function oo(t) {
                            if (t === void 0) { t = {}; }
                            this._items = [], this._itemMap = new Map, this._idProperty = t.idProperty || "id", this._bindToExternalToInternalMap = new WeakMap, this._bindToInternalToExternalMap = new WeakMap, this._skippedIndexesFromExternal = [];
                        }
                        Object.defineProperty(oo.prototype, "length", {
                            get: function () { return this._items.length; },
                            enumerable: true,
                            configurable: true
                        });
                        Object.defineProperty(oo.prototype, "first", {
                            get: function () { return this._items[0] || null; },
                            enumerable: true,
                            configurable: true
                        });
                        Object.defineProperty(oo.prototype, "last", {
                            get: function () { return this._items[this.length - 1] || null; },
                            enumerable: true,
                            configurable: true
                        });
                        oo.prototype.add = function (t, e) { var n; var i = this._idProperty; if (i in t) {
                            if ("string" != typeof (n = t[i]))
                                throw new Gn.b("collection-add-invalid-id", this);
                            if (this.get(n))
                                throw new Gn.b("collection-add-item-already-exists", this);
                        }
                        else
                            t[i] = n = Jn(); if (void 0 === e)
                            e = this._items.length;
                        else if (e > this._items.length || e < 0)
                            throw new Gn.b("collection-add-item-invalid-index", this); return this._items.splice(e, 0, t), this._itemMap.set(n, t), this.fire("add", t, e), this; };
                        oo.prototype.get = function (t) { var e; if ("string" == typeof t)
                            e = this._itemMap.get(t);
                        else {
                            if ("number" != typeof t)
                                throw new Gn.b("collection-get-invalid-arg: Index or id must be given.", this);
                            e = this._items[t];
                        } return e || null; };
                        oo.prototype.has = function (t) { if ("string" == typeof t)
                            return this._itemMap.has(t); {
                            var e_73 = t[this._idProperty];
                            return this._itemMap.has(e_73);
                        } };
                        oo.prototype.getIndex = function (t) { var e; return e = "string" == typeof t ? this._itemMap.get(t) : t, this._items.indexOf(e); };
                        oo.prototype.remove = function (t) { var e, n, i, o = !1; var r = this._idProperty; if ("string" == typeof t ? (n = t, o = !(i = this._itemMap.get(n)), i && (e = this._items.indexOf(i))) : "number" == typeof t ? (e = t, o = !(i = this._items[e]), i && (n = i[r])) : (n = (i = t)[r], o = -1 == (e = this._items.indexOf(i)) || !this._itemMap.get(n)), o)
                            throw new Gn.b("collection-remove-404: Item not found.", this); this._items.splice(e, 1), this._itemMap.delete(n); var s = this._bindToInternalToExternalMap.get(i); return this._bindToInternalToExternalMap.delete(i), this._bindToExternalToInternalMap.delete(s), this.fire("remove", i, e), i; };
                        oo.prototype.map = function (t, e) { return this._items.map(t, e); };
                        oo.prototype.find = function (t, e) { return this._items.find(t, e); };
                        oo.prototype.filter = function (t, e) { return this._items.filter(t, e); };
                        oo.prototype.clear = function () { for (this._bindToCollection && (this.stopListening(this._bindToCollection), this._bindToCollection = null); this.length;)
                            this.remove(0); };
                        oo.prototype.bindTo = function (t) {
                            var _this = this;
                            if (this._bindToCollection)
                                throw new Gn.b("collection-bind-to-rebind: The collection cannot be bound more than once.", this);
                            return this._bindToCollection = t, { as: function (t) { _this._setUpBindToBinding(function (e) { return new t(e); }); }, using: function (t) { "function" == typeof t ? _this._setUpBindToBinding(function (e) { return t(e); }) : _this._setUpBindToBinding(function (e) { return e[t]; }); } };
                        };
                        oo.prototype._setUpBindToBinding = function (t) {
                            var _this = this;
                            var e_74, _j;
                            var e = this._bindToCollection, n = function (n, i, o) {
                                var e_76, _j, e_77, _q;
                                var r = e._bindToCollection == _this, s = e._bindToInternalToExternalMap.get(i);
                                if (r && s)
                                    _this._bindToExternalToInternalMap.set(i, s), _this._bindToInternalToExternalMap.set(s, i);
                                else {
                                    var n_23 = t(i);
                                    if (!n_23)
                                        return void _this._skippedIndexesFromExternal.push(o);
                                    var r_2 = o;
                                    try {
                                        for (var _z = __values(_this._skippedIndexesFromExternal), _0 = _z.next(); !_0.done; _0 = _z.next()) {
                                            var t_29 = _0.value;
                                            o > t_29 && r_2--;
                                        }
                                    }
                                    catch (e_76_1) { e_76 = { error: e_76_1 }; }
                                    finally {
                                        try {
                                            if (_0 && !_0.done && (_j = _z.return)) _j.call(_z);
                                        }
                                        finally { if (e_76) throw e_76.error; }
                                    }
                                    try {
                                        for (var _1 = __values(e._skippedIndexesFromExternal), _2 = _1.next(); !_2.done; _2 = _1.next()) {
                                            var t_30 = _2.value;
                                            r_2 >= t_30 && r_2++;
                                        }
                                    }
                                    catch (e_77_1) { e_77 = { error: e_77_1 }; }
                                    finally {
                                        try {
                                            if (_2 && !_2.done && (_q = _1.return)) _q.call(_1);
                                        }
                                        finally { if (e_77) throw e_77.error; }
                                    }
                                    _this._bindToExternalToInternalMap.set(i, n_23), _this._bindToInternalToExternalMap.set(n_23, i), _this.add(n_23, r_2);
                                    for (var t_31 = 0; t_31 < e._skippedIndexesFromExternal.length; t_31++)
                                        r_2 <= e._skippedIndexesFromExternal[t_31] && e._skippedIndexesFromExternal[t_31]++;
                                }
                            };
                            try {
                                for (var e_75 = __values(e), e_75_1 = e_75.next(); !e_75_1.done; e_75_1 = e_75.next()) {
                                    var t_32 = e_75_1.value;
                                    n(0, t_32, e.getIndex(t_32));
                                }
                            }
                            catch (e_74_1) { e_74 = { error: e_74_1 }; }
                            finally {
                                try {
                                    if (e_75_1 && !e_75_1.done && (_j = e_75.return)) _j.call(e_75);
                                }
                                finally { if (e_74) throw e_74.error; }
                            }
                            this.listenTo(e, "add", n), this.listenTo(e, "remove", function (t, e, n) { var i = _this._bindToExternalToInternalMap.get(e); i && _this.remove(i), _this._skippedIndexesFromExternal = _this._skippedIndexesFromExternal.reduce(function (t, e) { return (n < e && t.push(e - 1), n > e && t.push(e), t); }, []); });
                        };
                        oo.prototype[Symbol.iterator] = function () { return this._items[Symbol.iterator](); };
                        return oo;
                    }());
                    ci(oo, ei);
                    var ro = /** @class */ (function () {
                        function ro() {
                            this.selection = new io, this.roots = new oo({ idProperty: "rootName" }), this.set("isReadOnly", !1), this.set("isFocused", !1), this.set("isComposing", !1), this._postFixers = new Set;
                        }
                        ro.prototype.getRoot = function (t) {
                            if (t === void 0) { t = "main"; }
                            return this.roots.get(t);
                        };
                        ro.prototype.registerPostFixer = function (t) { this._postFixers.add(t); };
                        ro.prototype.destroy = function () { this.roots.map(function (t) { return t.destroy(); }), this.stopListening(); };
                        ro.prototype._callPostFixers = function (t) {
                            var e_78, _j;
                            var e = !1;
                            do {
                                try {
                                    for (var _q = __values(this._postFixers), _z = _q.next(); !_z.done; _z = _q.next()) {
                                        var n_24 = _z.value;
                                        if (e = n_24(t))
                                            break;
                                    }
                                }
                                catch (e_78_1) { e_78 = { error: e_78_1 }; }
                                finally {
                                    try {
                                        if (_z && !_z.done && (_j = _q.return)) _j.call(_q);
                                    }
                                    finally { if (e_78) throw e_78.error; }
                                }
                            } while (e);
                        };
                        return ro;
                    }());
                    ci(ro, Bi);
                    var so = 10;
                    var ao = /** @class */ (function (_super) {
                        __extends(ao, _super);
                        function ao(t, e, n) {
                            var _this = this;
                            _this = _super.call(this, t, e, n) || this, _this.getFillerOffset = co, _this._priority = so, _this._id = null, _this._clonesGroup = null;
                            return _this;
                        }
                        Object.defineProperty(ao.prototype, "priority", {
                            get: function () { return this._priority; },
                            enumerable: true,
                            configurable: true
                        });
                        Object.defineProperty(ao.prototype, "id", {
                            get: function () { return this._id; },
                            enumerable: true,
                            configurable: true
                        });
                        ao.prototype.getElementsWithSameId = function () { if (null === this.id)
                            throw new Gn.b("attribute-element-get-elements-with-same-id-no-id: Cannot get elements with the same id for an attribute element without id.", this); return new Set(this._clonesGroup); };
                        ao.prototype.is = function (t, e) {
                            if (e === void 0) { e = null; }
                            var n = t && t.replace(/^view:/, "");
                            return e ? "attributeElement" == n && e == this.name || _super.prototype.is.call(this, t, e) : "attributeElement" == n || _super.prototype.is.call(this, t);
                        };
                        ao.prototype.isSimilar = function (t) { return null !== this.id || null !== t.id ? this.id === t.id : _super.prototype.isSimilar.call(this, t) && this.priority == t.priority; };
                        ao.prototype._clone = function (t) { var e = _super.prototype._clone.call(this, t); return e._priority = this._priority, e._id = this._id, e; };
                        return ao;
                    }(ki));
                    function co() { if (lo(this))
                        return null; var t = this.parent; for (; t && t.is("attributeElement");) {
                        if (lo(t) > 1)
                            return null;
                        t = t.parent;
                    } return !t || lo(t) > 1 ? null : this.childCount; }
                    function lo(t) { return Array.from(t.getChildren()).filter(function (t) { return !t.is("uiElement"); }).length; }
                    ao.DEFAULT_PRIORITY = so;
                    var uo = /** @class */ (function (_super) {
                        __extends(uo, _super);
                        function uo(t, e, n) {
                            var _this = this;
                            _this = _super.call(this, t, e, n) || this, _this.getFillerOffset = ho;
                            return _this;
                        }
                        uo.prototype.is = function (t, e) {
                            if (e === void 0) { e = null; }
                            var n = t.replace(/^view:/, "");
                            return e ? "emptyElement" == n && e == this.name || _super.prototype.is.call(this, t, e) : "emptyElement" == n || _super.prototype.is.call(this, t);
                        };
                        uo.prototype._insertChild = function (t, e) { if (e && (e instanceof hi || Array.from(e).length > 0))
                            throw new Gn.b("view-emptyelement-cannot-add: Cannot add child nodes to EmptyElement instance.", [this, e]); };
                        return uo;
                    }(ki));
                    function ho() { return null; }
                    var mo = navigator.userAgent.toLowerCase();
                    var go = { isMac: function (t) { return t.indexOf("macintosh") > -1; }(mo), isEdge: function (t) { return !!t.match(/edge\/(\d+.?\d*)/); }(mo), isGecko: function (t) { return !!t.match(/gecko\/\d+/); }(mo), isSafari: function (t) { return t.indexOf(" applewebkit/") > -1 && -1 === t.indexOf("chrome"); }(mo), isAndroid: function (t) { return t.indexOf("android") > -1; }(mo), features: { isRegExpUnicodePropertySupported: function () { var t = !1; try {
                                t = 0 === "ć".search(new RegExp("[\\p{L}]", "u"));
                            }
                            catch (t) { } return t; }() } };
                    var fo = { "⌘": "ctrl", "⇧": "shift", "⌥": "alt" }, po = { ctrl: "⌘", shift: "⇧", alt: "⌥" }, xo = function () { var t = { arrowleft: 37, arrowup: 38, arrowright: 39, arrowdown: 40, backspace: 8, delete: 46, enter: 13, space: 32, esc: 27, tab: 9, ctrl: 1114112, cmd: 1114112, shift: 2228224, alt: 4456448 }; for (var e_79 = 65; e_79 <= 90; e_79++) {
                        var n_25 = String.fromCharCode(e_79);
                        t[n_25.toLowerCase()] = e_79;
                    } for (var e_80 = 48; e_80 <= 57; e_80++)
                        t[e_80 - 48] = e_80; for (var e_81 = 112; e_81 <= 123; e_81++)
                        t["f" + (e_81 - 111)] = e_81; return t; }();
                    function bo(t) { var e; if ("string" == typeof t) {
                        if (!(e = xo[t.toLowerCase()]))
                            throw new Gn.b("keyboard-unknown-key: Unknown key name.", null, { key: t });
                    }
                    else
                        e = t.keyCode + (t.altKey ? xo.alt : 0) + (t.ctrlKey ? xo.ctrl : 0) + (t.shiftKey ? xo.shift : 0); return e; }
                    function ko(t) { return "string" == typeof t && (t = _o(t)), t.map(function (t) { return "string" == typeof t ? bo(t) : t; }).reduce(function (t, e) { return e + t; }, 0); }
                    function wo(t) { return go.isMac ? _o(t).map(function (t) { return po[t.toLowerCase()] || t; }).reduce(function (t, e) { return t.slice(-1) in fo ? t + e : t + "+" + e; }) : t; }
                    function _o(t) { return t.split(/\s*\+\s*/); }
                    var vo = /** @class */ (function (_super) {
                        __extends(vo, _super);
                        function vo(t, e, n) {
                            var _this = this;
                            _this = _super.call(this, t, e, n) || this, _this.getFillerOffset = Co;
                            return _this;
                        }
                        vo.prototype.is = function (t, e) {
                            if (e === void 0) { e = null; }
                            var n = t.replace(/^view:/, "");
                            return e ? "uiElement" == n && e == this.name || _super.prototype.is.call(this, t, e) : "uiElement" == n || _super.prototype.is.call(this, t);
                        };
                        vo.prototype._insertChild = function (t, e) { if (e && (e instanceof hi || Array.from(e).length > 0))
                            throw new Gn.b("view-uielement-cannot-add: Cannot add child nodes to UIElement instance.", this); };
                        vo.prototype.render = function (t) { return this.toDomElement(t); };
                        vo.prototype.toDomElement = function (t) {
                            var e_82, _j;
                            var e = t.createElement(this.name);
                            try {
                                for (var _q = __values(this.getAttributeKeys()), _z = _q.next(); !_z.done; _z = _q.next()) {
                                    var t_33 = _z.value;
                                    e.setAttribute(t_33, this.getAttribute(t_33));
                                }
                            }
                            catch (e_82_1) { e_82 = { error: e_82_1 }; }
                            finally {
                                try {
                                    if (_z && !_z.done && (_j = _q.return)) _j.call(_q);
                                }
                                finally { if (e_82) throw e_82.error; }
                            }
                            return e;
                        };
                        return vo;
                    }(ki));
                    function yo(t) { t.document.on("keydown", function (e, n) { return (function (t, e, n) { if (e.keyCode == xo.arrowright) {
                        var t_34 = e.domTarget.ownerDocument.defaultView.getSelection(), i_15 = 1 == t_34.rangeCount && t_34.getRangeAt(0).collapsed;
                        if (i_15 || e.shiftKey) {
                            var e_83 = t_34.focusNode, o_13 = t_34.focusOffset, r_3 = n.domPositionToView(e_83, o_13);
                            if (null === r_3)
                                return;
                            var s_2 = !1;
                            var a_2 = r_3.getLastMatchingPosition(function (t) { return (t.item.is("uiElement") && (s_2 = !0), !(!t.item.is("uiElement") && !t.item.is("attributeElement"))); });
                            if (s_2) {
                                var e_84 = n.viewPositionToDom(a_2);
                                i_15 ? t_34.collapse(e_84.parent, e_84.offset) : t_34.extend(e_84.parent, e_84.offset);
                            }
                        }
                    } })(0, n, t.domConverter); }); }
                    function Co() { return null; }
                    var To = /** @class */ (function () {
                        function To(t) {
                            this._children = [], t && this._insertChild(0, t);
                        }
                        To.prototype[Symbol.iterator] = function () { return this._children[Symbol.iterator](); };
                        Object.defineProperty(To.prototype, "childCount", {
                            get: function () { return this._children.length; },
                            enumerable: true,
                            configurable: true
                        });
                        Object.defineProperty(To.prototype, "isEmpty", {
                            get: function () { return 0 === this.childCount; },
                            enumerable: true,
                            configurable: true
                        });
                        Object.defineProperty(To.prototype, "root", {
                            get: function () { return this; },
                            enumerable: true,
                            configurable: true
                        });
                        Object.defineProperty(To.prototype, "parent", {
                            get: function () { return null; },
                            enumerable: true,
                            configurable: true
                        });
                        To.prototype.is = function (t) { return "documentFragment" == t || "view:documentFragment" == t; };
                        To.prototype._appendChild = function (t) { return this._insertChild(this.childCount, t); };
                        To.prototype.getChild = function (t) { return this._children[t]; };
                        To.prototype.getChildIndex = function (t) { return this._children.indexOf(t); };
                        To.prototype.getChildren = function () { return this._children[Symbol.iterator](); };
                        To.prototype._insertChild = function (t, e) {
                            var e_85, _j;
                            this._fireChange("children", this);
                            var n = 0;
                            var i = function (t) { if ("string" == typeof t)
                                return [new mi(t)]; pi(t) || (t = [t]); return Array.from(t).map(function (t) { return "string" == typeof t ? new mi(t) : t instanceof gi ? new mi(t.data) : t; }); }(e);
                            try {
                                for (var i_16 = __values(i), i_16_1 = i_16.next(); !i_16_1.done; i_16_1 = i_16.next()) {
                                    var e_86 = i_16_1.value;
                                    null !== e_86.parent && e_86._remove(), e_86.parent = this, this._children.splice(t, 0, e_86), t++, n++;
                                }
                            }
                            catch (e_85_1) { e_85 = { error: e_85_1 }; }
                            finally {
                                try {
                                    if (i_16_1 && !i_16_1.done && (_j = i_16.return)) _j.call(i_16);
                                }
                                finally { if (e_85) throw e_85.error; }
                            }
                            return n;
                        };
                        To.prototype._removeChildren = function (t, e) {
                            if (e === void 0) { e = 1; }
                            this._fireChange("children", this);
                            for (var n_26 = t; n_26 < t + e; n_26++)
                                this._children[n_26].parent = null;
                            return this._children.splice(t, e);
                        };
                        To.prototype._fireChange = function (t, e) { this.fire("change:" + t, e); };
                        return To;
                    }());
                    ci(To, ei);
                    var Ao = /** @class */ (function () {
                        function Ao(t) {
                            this.document = t, this._cloneGroups = new Map;
                        }
                        Ao.prototype.setSelection = function (t, e, n) { this.document.selection._setTo(t, e, n); };
                        Ao.prototype.setSelectionFocus = function (t, e) { this.document.selection._setFocus(t, e); };
                        Ao.prototype.createText = function (t) { return new mi(t); };
                        Ao.prototype.createAttributeElement = function (t, e, n) {
                            if (n === void 0) { n = {}; }
                            var i = new ao(t, e);
                            return n.priority && (i._priority = n.priority), n.id && (i._id = n.id), i;
                        };
                        Ao.prototype.createContainerElement = function (t, e) { return new vi(t, e); };
                        Ao.prototype.createEditableElement = function (t, e) { var n = new Gi(t, e); return n._document = this.document, n; };
                        Ao.prototype.createEmptyElement = function (t, e) { return new uo(t, e); };
                        Ao.prototype.createUIElement = function (t, e, n) { var i = new vo(t, e); return n && (i.render = n), i; };
                        Ao.prototype.setAttribute = function (t, e, n) { n._setAttribute(t, e); };
                        Ao.prototype.removeAttribute = function (t, e) { e._removeAttribute(t); };
                        Ao.prototype.addClass = function (t, e) { e._addClass(t); };
                        Ao.prototype.removeClass = function (t, e) { e._removeClass(t); };
                        Ao.prototype.setStyle = function (t, e, n) { T(t) && void 0 === n && (n = e), n._setStyle(t, e); };
                        Ao.prototype.removeStyle = function (t, e) { e._removeStyle(t); };
                        Ao.prototype.setCustomProperty = function (t, e, n) { n._setCustomProperty(t, e); };
                        Ao.prototype.removeCustomProperty = function (t, e) { return e._removeCustomProperty(t); };
                        Ao.prototype.breakAttributes = function (t) { return t instanceof Zi ? this._breakAttributes(t) : this._breakAttributesRange(t); };
                        Ao.prototype.breakContainer = function (t) { var e = t.parent; if (!e.is("containerElement"))
                            throw new Gn.b("view-writer-break-non-container-element: Trying to break an element which is not a container element.", this.document); if (!e.parent)
                            throw new Gn.b("view-writer-break-root: Trying to break root element.", this.document); if (t.isAtStart)
                            return Zi._createBefore(e); if (!t.isAtEnd) {
                            var n_27 = e._clone(!1);
                            this.insert(Zi._createAfter(e), n_27);
                            var i_17 = new Xi(t, Zi._createAt(e, "end")), o_14 = new Zi(n_27, 0);
                            this.move(i_17, o_14);
                        } return Zi._createAfter(e); };
                        Ao.prototype.mergeAttributes = function (t) { var e = t.offset, n = t.parent; if (n.is("text"))
                            return t; if (n.is("attributeElement") && 0 === n.childCount) {
                            var t_35 = n.parent, e_87 = n.index;
                            return n._remove(), this._removeFromClonedElementsGroup(n), this.mergeAttributes(new Zi(t_35, e_87));
                        } var i = n.getChild(e - 1), o = n.getChild(e); if (!i || !o)
                            return t; if (i.is("text") && o.is("text"))
                            return Io(i, o); if (i.is("attributeElement") && o.is("attributeElement") && i.isSimilar(o)) {
                            var t_36 = i.childCount;
                            return i._appendChild(o.getChildren()), o._remove(), this._removeFromClonedElementsGroup(o), this.mergeAttributes(new Zi(i, t_36));
                        } return t; };
                        Ao.prototype.mergeContainers = function (t) { var e = t.nodeBefore, n = t.nodeAfter; if (!(e && n && e.is("containerElement") && n.is("containerElement")))
                            throw new Gn.b("view-writer-merge-containers-invalid-position: Element before and after given position cannot be merged.", this.document); var i = e.getChild(e.childCount - 1), o = i instanceof mi ? Zi._createAt(i, "end") : Zi._createAt(e, "end"); return this.move(Xi._createIn(n), Zi._createAt(e, "end")), this.remove(Xi._createOn(n)), o; };
                        Ao.prototype.insert = function (t, e) {
                            var e_88, _j;
                            (function t(e, n) {
                                var e_90, _j;
                                var _loop_1 = function (i_18) {
                                    if (!No.some(function (t) { return i_18 instanceof t; }))
                                        throw new Gn.b("view-writer-insert-invalid-node", n);
                                    i_18.is("text") || t(i_18.getChildren(), n);
                                };
                                try {
                                    for (var e_91 = __values(e), e_91_1 = e_91.next(); !e_91_1.done; e_91_1 = e_91.next()) {
                                        var i_18 = e_91_1.value;
                                        _loop_1(i_18);
                                    }
                                }
                                catch (e_90_1) { e_90 = { error: e_90_1 }; }
                                finally {
                                    try {
                                        if (e_91_1 && !e_91_1.done && (_j = e_91.return)) _j.call(e_91);
                                    }
                                    finally { if (e_90) throw e_90.error; }
                                }
                            })(e = pi(e) ? __spread(e) : [e], this.document);
                            var n = So(t);
                            if (!n)
                                throw new Gn.b("view-writer-invalid-position-container", this.document);
                            var i = this._breakAttributes(t, !0), o = n._insertChild(i.offset, e);
                            try {
                                for (var e_89 = __values(e), e_89_1 = e_89.next(); !e_89_1.done; e_89_1 = e_89.next()) {
                                    var t_37 = e_89_1.value;
                                    this._addToClonedElementsGroup(t_37);
                                }
                            }
                            catch (e_88_1) { e_88 = { error: e_88_1 }; }
                            finally {
                                try {
                                    if (e_89_1 && !e_89_1.done && (_j = e_89.return)) _j.call(e_89);
                                }
                                finally { if (e_88) throw e_88.error; }
                            }
                            var r = i.getShiftedBy(o), s = this.mergeAttributes(i);
                            if (0 === o)
                                return new Xi(s, s);
                            {
                                s.isEqual(i) || r.offset--;
                                var t_38 = this.mergeAttributes(r);
                                return new Xi(s, t_38);
                            }
                        };
                        Ao.prototype.remove = function (t) {
                            var e_92, _j;
                            var e = t instanceof Xi ? t : Xi._createOn(t);
                            if (Oo(e, this.document), e.isCollapsed)
                                return new To;
                            var _q = this._breakAttributesRange(e, !0), n = _q.start, i = _q.end, o = n.parent, r = i.offset - n.offset, s = o._removeChildren(n.offset, r);
                            try {
                                for (var s_3 = __values(s), s_3_1 = s_3.next(); !s_3_1.done; s_3_1 = s_3.next()) {
                                    var t_39 = s_3_1.value;
                                    this._removeFromClonedElementsGroup(t_39);
                                }
                            }
                            catch (e_92_1) { e_92 = { error: e_92_1 }; }
                            finally {
                                try {
                                    if (s_3_1 && !s_3_1.done && (_j = s_3.return)) _j.call(s_3);
                                }
                                finally { if (e_92) throw e_92.error; }
                            }
                            var a = this.mergeAttributes(n);
                            return e.start = a, e.end = a.clone(), new To(s);
                        };
                        Ao.prototype.clear = function (t, e) {
                            var e_93, _j;
                            Oo(t, this.document);
                            var n = t.getWalker({ direction: "backward", ignoreElementEnd: !0 });
                            try {
                                for (var n_28 = __values(n), n_28_1 = n_28.next(); !n_28_1.done; n_28_1 = n_28.next()) {
                                    var i_19 = n_28_1.value;
                                    var n_29 = i_19.item;
                                    var o_15 = void 0;
                                    if (n_29.is("element") && e.isSimilar(n_29))
                                        o_15 = Xi._createOn(n_29);
                                    else if (!i_19.nextPosition.isAfter(t.start) && n_29.is("textProxy")) {
                                        var t_40 = n_29.getAncestors().find(function (t) { return t.is("element") && e.isSimilar(t); });
                                        t_40 && (o_15 = Xi._createIn(t_40));
                                    }
                                    o_15 && (o_15.end.isAfter(t.end) && (o_15.end = t.end), o_15.start.isBefore(t.start) && (o_15.start = t.start), this.remove(o_15));
                                }
                            }
                            catch (e_93_1) { e_93 = { error: e_93_1 }; }
                            finally {
                                try {
                                    if (n_28_1 && !n_28_1.done && (_j = n_28.return)) _j.call(n_28);
                                }
                                finally { if (e_93) throw e_93.error; }
                            }
                        };
                        Ao.prototype.move = function (t, e) { var n; if (e.isAfter(t.end)) {
                            var i_20 = (e = this._breakAttributes(e, !0)).parent, o_16 = i_20.childCount;
                            t = this._breakAttributesRange(t, !0), n = this.remove(t), e.offset += i_20.childCount - o_16;
                        }
                        else
                            n = this.remove(t); return this.insert(e, n); };
                        Ao.prototype.wrap = function (t, e) { if (!(e instanceof ao))
                            throw new Gn.b("view-writer-wrap-invalid-attribute", this.document); if (Oo(t, this.document), t.isCollapsed) {
                            var n_30 = t.start;
                            n_30.parent.is("element") && !function (t) { return Array.from(t.getChildren()).some(function (t) { return !t.is("uiElement"); }); }(n_30.parent) && (n_30 = n_30.getLastMatchingPosition(function (t) { return t.item.is("uiElement"); })), n_30 = this._wrapPosition(n_30, e);
                            var i_21 = this.document.selection;
                            return i_21.isCollapsed && i_21.getFirstPosition().isEqual(t.start) && this.setSelection(n_30), new Xi(n_30);
                        } return this._wrapRange(t, e); };
                        Ao.prototype.unwrap = function (t, e) { if (!(e instanceof ao))
                            throw new Gn.b("view-writer-unwrap-invalid-attribute", this.document); if (Oo(t, this.document), t.isCollapsed)
                            return t; var _j = this._breakAttributesRange(t, !0), n = _j.start, i = _j.end, o = n.parent, r = this._unwrapChildren(o, n.offset, i.offset, e), s = this.mergeAttributes(r.start); s.isEqual(r.start) || r.end.offset--; var a = this.mergeAttributes(r.end); return new Xi(s, a); };
                        Ao.prototype.rename = function (t, e) { var n = new vi(t, e.getAttributes()); return this.insert(Zi._createAfter(e), n), this.move(Xi._createIn(e), Zi._createAt(n, 0)), this.remove(Xi._createOn(e)), n; };
                        Ao.prototype.clearClonedElementsGroup = function (t) { this._cloneGroups.delete(t); };
                        Ao.prototype.createPositionAt = function (t, e) { return Zi._createAt(t, e); };
                        Ao.prototype.createPositionAfter = function (t) { return Zi._createAfter(t); };
                        Ao.prototype.createPositionBefore = function (t) { return Zi._createBefore(t); };
                        Ao.prototype.createRange = function (t, e) { return new Xi(t, e); };
                        Ao.prototype.createRangeOn = function (t) { return Xi._createOn(t); };
                        Ao.prototype.createRangeIn = function (t) { return Xi._createIn(t); };
                        Ao.prototype.createSelection = function (t, e, n) { return new no(t, e, n); };
                        Ao.prototype._wrapChildren = function (t, e, n, i) {
                            var e_94, _j;
                            var o = e;
                            var r = [];
                            for (; o < n;) {
                                var e_95 = t.getChild(o), n_31 = e_95.is("text"), s_4 = e_95.is("attributeElement"), a_3 = e_95.is("emptyElement"), c_2 = e_95.is("uiElement");
                                if (s_4 && this._wrapAttributeElement(i, e_95))
                                    r.push(new Zi(t, o));
                                else if (n_31 || a_3 || c_2 || s_4 && Po(i, e_95)) {
                                    var n_32 = i._clone();
                                    e_95._remove(), n_32._appendChild(e_95), t._insertChild(o, n_32), this._addToClonedElementsGroup(n_32), r.push(new Zi(t, o));
                                }
                                else
                                    s_4 && this._wrapChildren(e_95, 0, e_95.childCount, i);
                                o++;
                            }
                            var s = 0;
                            try {
                                for (var r_4 = __values(r), r_4_1 = r_4.next(); !r_4_1.done; r_4_1 = r_4.next()) {
                                    var t_41 = r_4_1.value;
                                    if (t_41.offset -= s, t_41.offset == e)
                                        continue;
                                    this.mergeAttributes(t_41).isEqual(t_41) || (s++, n--);
                                }
                            }
                            catch (e_94_1) { e_94 = { error: e_94_1 }; }
                            finally {
                                try {
                                    if (r_4_1 && !r_4_1.done && (_j = r_4.return)) _j.call(r_4);
                                }
                                finally { if (e_94) throw e_94.error; }
                            }
                            return Xi._createFromParentsAndOffsets(t, e, t, n);
                        };
                        Ao.prototype._unwrapChildren = function (t, e, n, i) {
                            var e_96, _j;
                            var o = e;
                            var r = [];
                            for (; o < n;) {
                                var e_97 = t.getChild(o);
                                if (e_97.is("attributeElement"))
                                    if (e_97.isSimilar(i)) {
                                        var i_22 = e_97.getChildren(), s_5 = e_97.childCount;
                                        e_97._remove(), t._insertChild(o, i_22), this._removeFromClonedElementsGroup(e_97), r.push(new Zi(t, o), new Zi(t, o + s_5)), o += s_5, n += s_5 - 1;
                                    }
                                    else
                                        this._unwrapAttributeElement(i, e_97) ? (r.push(new Zi(t, o), new Zi(t, o + 1)), o++) : (this._unwrapChildren(e_97, 0, e_97.childCount, i), o++);
                                else
                                    o++;
                            }
                            var s = 0;
                            try {
                                for (var r_5 = __values(r), r_5_1 = r_5.next(); !r_5_1.done; r_5_1 = r_5.next()) {
                                    var t_42 = r_5_1.value;
                                    if (t_42.offset -= s, t_42.offset == e || t_42.offset == n)
                                        continue;
                                    this.mergeAttributes(t_42).isEqual(t_42) || (s++, n--);
                                }
                            }
                            catch (e_96_1) { e_96 = { error: e_96_1 }; }
                            finally {
                                try {
                                    if (r_5_1 && !r_5_1.done && (_j = r_5.return)) _j.call(r_5);
                                }
                                finally { if (e_96) throw e_96.error; }
                            }
                            return Xi._createFromParentsAndOffsets(t, e, t, n);
                        };
                        Ao.prototype._wrapRange = function (t, e) { var _j = this._breakAttributesRange(t, !0), n = _j.start, i = _j.end, o = n.parent, r = this._wrapChildren(o, n.offset, i.offset, e), s = this.mergeAttributes(r.start); s.isEqual(r.start) || r.end.offset--; var a = this.mergeAttributes(r.end); return new Xi(s, a); };
                        Ao.prototype._wrapPosition = function (t, e) { if (e.isSimilar(t.parent))
                            return Mo(t.clone()); t.parent.is("text") && (t = Eo(t)); var n = this.createAttributeElement(); n._priority = Number.POSITIVE_INFINITY, n.isSimilar = (function () { return !1; }), t.parent._insertChild(t.offset, n); var i = new Xi(t, t.getShiftedBy(1)); this.wrap(i, e); var o = new Zi(n.parent, n.index); n._remove(); var r = o.nodeBefore, s = o.nodeAfter; return r instanceof mi && s instanceof mi ? Io(r, s) : Mo(o); };
                        Ao.prototype._wrapAttributeElement = function (t, e) {
                            var e_98, _j, e_99, _q, e_100, _z, e_101, _0, e_102, _1;
                            if (!Do(t, e))
                                return !1;
                            if (t.name !== e.name || t.priority !== e.priority)
                                return !1;
                            try {
                                for (var _2 = __values(t.getAttributeKeys()), _3 = _2.next(); !_3.done; _3 = _2.next()) {
                                    var n_33 = _3.value;
                                    if ("class" !== n_33 && "style" !== n_33 && e.hasAttribute(n_33) && e.getAttribute(n_33) !== t.getAttribute(n_33))
                                        return !1;
                                }
                            }
                            catch (e_98_1) { e_98 = { error: e_98_1 }; }
                            finally {
                                try {
                                    if (_3 && !_3.done && (_j = _2.return)) _j.call(_2);
                                }
                                finally { if (e_98) throw e_98.error; }
                            }
                            try {
                                for (var _4 = __values(t.getStyleNames()), _5 = _4.next(); !_5.done; _5 = _4.next()) {
                                    var n_34 = _5.value;
                                    if (e.hasStyle(n_34) && e.getStyle(n_34) !== t.getStyle(n_34))
                                        return !1;
                                }
                            }
                            catch (e_99_1) { e_99 = { error: e_99_1 }; }
                            finally {
                                try {
                                    if (_5 && !_5.done && (_q = _4.return)) _q.call(_4);
                                }
                                finally { if (e_99) throw e_99.error; }
                            }
                            try {
                                for (var _6 = __values(t.getAttributeKeys()), _7 = _6.next(); !_7.done; _7 = _6.next()) {
                                    var n_35 = _7.value;
                                    "class" !== n_35 && "style" !== n_35 && (e.hasAttribute(n_35) || this.setAttribute(n_35, t.getAttribute(n_35), e));
                                }
                            }
                            catch (e_100_1) { e_100 = { error: e_100_1 }; }
                            finally {
                                try {
                                    if (_7 && !_7.done && (_z = _6.return)) _z.call(_6);
                                }
                                finally { if (e_100) throw e_100.error; }
                            }
                            try {
                                for (var _8 = __values(t.getStyleNames()), _9 = _8.next(); !_9.done; _9 = _8.next()) {
                                    var n_36 = _9.value;
                                    e.hasStyle(n_36) || this.setStyle(n_36, t.getStyle(n_36), e);
                                }
                            }
                            catch (e_101_1) { e_101 = { error: e_101_1 }; }
                            finally {
                                try {
                                    if (_9 && !_9.done && (_0 = _8.return)) _0.call(_8);
                                }
                                finally { if (e_101) throw e_101.error; }
                            }
                            try {
                                for (var _10 = __values(t.getClassNames()), _11 = _10.next(); !_11.done; _11 = _10.next()) {
                                    var n_37 = _11.value;
                                    e.hasClass(n_37) || this.addClass(n_37, e);
                                }
                            }
                            catch (e_102_1) { e_102 = { error: e_102_1 }; }
                            finally {
                                try {
                                    if (_11 && !_11.done && (_1 = _10.return)) _1.call(_10);
                                }
                                finally { if (e_102) throw e_102.error; }
                            }
                            return !0;
                        };
                        Ao.prototype._unwrapAttributeElement = function (t, e) {
                            var e_103, _j, e_104, _q, e_105, _z;
                            if (!Do(t, e))
                                return !1;
                            if (t.name !== e.name || t.priority !== e.priority)
                                return !1;
                            try {
                                for (var _0 = __values(t.getAttributeKeys()), _1 = _0.next(); !_1.done; _1 = _0.next()) {
                                    var n_38 = _1.value;
                                    if ("class" !== n_38 && "style" !== n_38 && (!e.hasAttribute(n_38) || e.getAttribute(n_38) !== t.getAttribute(n_38)))
                                        return !1;
                                }
                            }
                            catch (e_103_1) { e_103 = { error: e_103_1 }; }
                            finally {
                                try {
                                    if (_1 && !_1.done && (_j = _0.return)) _j.call(_0);
                                }
                                finally { if (e_103) throw e_103.error; }
                            }
                            if (!e.hasClass.apply(e, __spread(t.getClassNames())))
                                return !1;
                            try {
                                for (var _2 = __values(t.getStyleNames()), _3 = _2.next(); !_3.done; _3 = _2.next()) {
                                    var n_39 = _3.value;
                                    if (!e.hasStyle(n_39) || e.getStyle(n_39) !== t.getStyle(n_39))
                                        return !1;
                                }
                            }
                            catch (e_104_1) { e_104 = { error: e_104_1 }; }
                            finally {
                                try {
                                    if (_3 && !_3.done && (_q = _2.return)) _q.call(_2);
                                }
                                finally { if (e_104) throw e_104.error; }
                            }
                            try {
                                for (var _4 = __values(t.getAttributeKeys()), _5 = _4.next(); !_5.done; _5 = _4.next()) {
                                    var n_40 = _5.value;
                                    "class" !== n_40 && "style" !== n_40 && this.removeAttribute(n_40, e);
                                }
                            }
                            catch (e_105_1) { e_105 = { error: e_105_1 }; }
                            finally {
                                try {
                                    if (_5 && !_5.done && (_z = _4.return)) _z.call(_4);
                                }
                                finally { if (e_105) throw e_105.error; }
                            }
                            return this.removeClass(Array.from(t.getClassNames()), e), this.removeStyle(Array.from(t.getStyleNames()), e), !0;
                        };
                        Ao.prototype._breakAttributesRange = function (t, e) {
                            if (e === void 0) { e = !1; }
                            var n = t.start, i = t.end;
                            if (Oo(t, this.document), t.isCollapsed) {
                                var n_41 = this._breakAttributes(t.start, e);
                                return new Xi(n_41, n_41);
                            }
                            var o = this._breakAttributes(i, e), r = o.parent.childCount, s = this._breakAttributes(n, e);
                            return o.offset += o.parent.childCount - r, new Xi(s, o);
                        };
                        Ao.prototype._breakAttributes = function (t, e) {
                            if (e === void 0) { e = !1; }
                            var n = t.offset, i = t.parent;
                            if (t.parent.is("emptyElement"))
                                throw new Gn.b("view-writer-cannot-break-empty-element", this.document);
                            if (t.parent.is("uiElement"))
                                throw new Gn.b("view-writer-cannot-break-ui-element", this.document);
                            if (!e && i.is("text") && Ro(i.parent))
                                return t.clone();
                            if (Ro(i))
                                return t.clone();
                            if (i.is("text"))
                                return this._breakAttributes(Eo(t), e);
                            if (n == i.childCount) {
                                var t_43 = new Zi(i.parent, i.index + 1);
                                return this._breakAttributes(t_43, e);
                            }
                            if (0 === n) {
                                var t_44 = new Zi(i.parent, i.index);
                                return this._breakAttributes(t_44, e);
                            }
                            {
                                var t_45 = i.index + 1, o_17 = i._clone();
                                i.parent._insertChild(t_45, o_17), this._addToClonedElementsGroup(o_17);
                                var r_6 = i.childCount - n, s_6 = i._removeChildren(n, r_6);
                                o_17._appendChild(s_6);
                                var a_4 = new Zi(i.parent, t_45);
                                return this._breakAttributes(a_4, e);
                            }
                        };
                        Ao.prototype._addToClonedElementsGroup = function (t) {
                            var e_106, _j;
                            if (!t.root.is("rootElement"))
                                return;
                            if (t.is("element"))
                                try {
                                    for (var _q = __values(t.getChildren()), _z = _q.next(); !_z.done; _z = _q.next()) {
                                        var e_107 = _z.value;
                                        this._addToClonedElementsGroup(e_107);
                                    }
                                }
                                catch (e_106_1) { e_106 = { error: e_106_1 }; }
                                finally {
                                    try {
                                        if (_z && !_z.done && (_j = _q.return)) _j.call(_q);
                                    }
                                    finally { if (e_106) throw e_106.error; }
                                }
                            var e = t.id;
                            if (!e)
                                return;
                            var n = this._cloneGroups.get(e);
                            n || (n = new Set, this._cloneGroups.set(e, n)), n.add(t), t._clonesGroup = n;
                        };
                        Ao.prototype._removeFromClonedElementsGroup = function (t) {
                            var e_108, _j;
                            if (t.is("element"))
                                try {
                                    for (var _q = __values(t.getChildren()), _z = _q.next(); !_z.done; _z = _q.next()) {
                                        var e_109 = _z.value;
                                        this._removeFromClonedElementsGroup(e_109);
                                    }
                                }
                                catch (e_108_1) { e_108 = { error: e_108_1 }; }
                                finally {
                                    try {
                                        if (_z && !_z.done && (_j = _q.return)) _j.call(_q);
                                    }
                                    finally { if (e_108) throw e_108.error; }
                                }
                            var e = t.id;
                            if (!e)
                                return;
                            var n = this._cloneGroups.get(e);
                            n && n.delete(t);
                        };
                        return Ao;
                    }());
                    function So(t) { var e = t.parent; for (; !Ro(e);) {
                        if (!e)
                            return;
                        e = e.parent;
                    } return e; }
                    function Po(t, e) { return t.priority < e.priority || !(t.priority > e.priority) && t.getIdentity() < e.getIdentity(); }
                    function Mo(t) { var e = t.nodeBefore; if (e && e.is("text"))
                        return new Zi(e, e.data.length); var n = t.nodeAfter; return n && n.is("text") ? new Zi(n, 0) : t; }
                    function Eo(t) { if (t.offset == t.parent.data.length)
                        return new Zi(t.parent.parent, t.parent.index + 1); if (0 === t.offset)
                        return new Zi(t.parent.parent, t.parent.index); var e = t.parent.data.slice(t.offset); return t.parent._data = t.parent.data.slice(0, t.offset), t.parent.parent._insertChild(t.parent.index + 1, new mi(e)), new Zi(t.parent.parent, t.parent.index + 1); }
                    function Io(t, e) { var n = t.data.length; return t._data += e.data, e._remove(), new Zi(t, n); }
                    var No = [mi, ao, vi, uo, vo];
                    function Ro(t) { return t && (t.is("containerElement") || t.is("documentFragment")); }
                    function Oo(t, e) { var n = So(t.start), i = So(t.end); if (!n || !i || n !== i)
                        throw new Gn.b("view-writer-invalid-range-container", e); }
                    function Do(t, e) { return null === t.id && null === e.id; }
                    function Lo(t) { return "[object Text]" == Object.prototype.toString.call(t); }
                    var Vo = function (t) { return t.createTextNode(" "); }, zo = function (t) { var e = t.createElement("br"); return e.dataset.ckeFiller = !0, e; }, jo = 7, Fo = (function () { var t = ""; for (var e_110 = 0; e_110 < jo; e_110++)
                        t += "​"; return t; })();
                    function Bo(t) { return Lo(t) && t.data.substr(0, jo) === Fo; }
                    function Ho(t) { return t.data.length == jo && Bo(t); }
                    function Uo(t) { return Bo(t) ? t.data.slice(jo) : t.data; }
                    function Wo(t, e) { if (e.keyCode == xo.arrowleft) {
                        var t_46 = e.domTarget.ownerDocument.defaultView.getSelection();
                        if (1 == t_46.rangeCount && t_46.getRangeAt(0).collapsed) {
                            var e_111 = t_46.getRangeAt(0).startContainer, n_42 = t_46.getRangeAt(0).startOffset;
                            Bo(e_111) && n_42 <= jo && t_46.collapse(e_111, 0);
                        }
                    } }
                    function qo(t, e, n, i) {
                        if (i === void 0) { i = !1; }
                        n = n || function (t, e) { return t === e; }, Array.isArray(t) || (t = Array.from(t)), Array.isArray(e) || (e = Array.from(e));
                        var o = function (t, e, n) { var i = Yo(t, e, n); if (-1 === i)
                            return { firstIndex: -1, lastIndexOld: -1, lastIndexNew: -1 }; var o = $o(t, i), r = $o(e, i), s = Yo(o, r, n), a = t.length - s, c = e.length - s; return { firstIndex: i, lastIndexOld: a, lastIndexNew: c }; }(t, e, n);
                        return i ? function (t, e) { var n = t.firstIndex, i = t.lastIndexOld, o = t.lastIndexNew; if (-1 === n)
                            return Array(e).fill("equal"); var r = []; n > 0 && (r = r.concat(Array(n).fill("equal"))); o - n > 0 && (r = r.concat(Array(o - n).fill("insert"))); i - n > 0 && (r = r.concat(Array(i - n).fill("delete"))); o < e && (r = r.concat(Array(e - o).fill("equal"))); return r; }(o, e.length) : function (t, e) { var n = [], i = e.firstIndex, o = e.lastIndexOld, r = e.lastIndexNew; r - i > 0 && n.push({ index: i, type: "insert", values: t.slice(i, r) }); o - i > 0 && n.push({ index: i + (r - i), type: "delete", howMany: o - i }); return n; }(e, o);
                    }
                    function Yo(t, e, n) { for (var i_23 = 0; i_23 < Math.max(t.length, e.length); i_23++)
                        if (void 0 === t[i_23] || void 0 === e[i_23] || !n(t[i_23], e[i_23]))
                            return i_23; return -1; }
                    function $o(t, e) { return t.slice(e).reverse(); }
                    function Go(t, e, n) { n = n || function (t, e) { return t === e; }; var i = t.length, o = e.length; if (i > 200 || o > 200 || i + o > 300)
                        return Go.fastDiff(t, e, n, !0); var r, s; if (o < i) {
                        var n_43 = t;
                        t = e, e = n_43, r = "delete", s = "insert";
                    }
                    else
                        r = "insert", s = "delete"; var a = t.length, c = e.length, l = c - a, d = {}, u = {}; function h(i) { var o = (void 0 !== u[i - 1] ? u[i - 1] : -1) + 1, l = void 0 !== u[i + 1] ? u[i + 1] : -1, h = o > l ? -1 : 1; d[i + h] && (d[i] = d[i + h].slice(0)), d[i] || (d[i] = []), d[i].push(o > l ? r : s); var m = Math.max(o, l), g = m - i; for (; g < a && m < c && n(t[g], e[m]);)
                        g++, m++, d[i].push("equal"); return m; } var m, g = 0; do {
                        for (m = -g; m < l; m++)
                            u[m] = h(m);
                        for (m = l + g; m > l; m--)
                            u[m] = h(m);
                        u[l] = h(l), g++;
                    } while (u[l] !== c); return d[l].slice(1); }
                    function Ko(t, e, n) { t.insertBefore(n, t.childNodes[e] || null); }
                    function Qo(t) { var e = t.parentNode; e && e.removeChild(t); }
                    function Jo(t) { if (t) {
                        if (t.defaultView)
                            return t instanceof t.defaultView.Document;
                        if (t.ownerDocument && t.ownerDocument.defaultView)
                            return t instanceof t.ownerDocument.defaultView.Node;
                    } return !1; }
                    Go.fastDiff = qo;
                    var Zo = /** @class */ (function () {
                        function Zo(t, e) {
                            this.domDocuments = new Set, this.domConverter = t, this.markedAttributes = new Set, this.markedChildren = new Set, this.markedTexts = new Set, this.selection = e, this.isFocused = !1, this._inlineFiller = null, this._fakeSelectionContainer = null;
                        }
                        Zo.prototype.markToSync = function (t, e) { if ("text" === t)
                            this.domConverter.mapViewToDom(e.parent) && this.markedTexts.add(e);
                        else {
                            if (!this.domConverter.mapViewToDom(e))
                                return;
                            if ("attributes" === t)
                                this.markedAttributes.add(e);
                            else {
                                if ("children" !== t)
                                    throw new Gn.b("view-renderer-unknown-type: Unknown type passed to Renderer.markToSync.", this);
                                this.markedChildren.add(e);
                            }
                        } };
                        Zo.prototype.render = function () {
                            var e_112, _j, e_113, _q, e_114, _z, e_115, _0;
                            var t;
                            try {
                                for (var _1 = __values(this.markedChildren), _2 = _1.next(); !_2.done; _2 = _1.next()) {
                                    var t_47 = _2.value;
                                    this._updateChildrenMappings(t_47);
                                }
                            }
                            catch (e_112_1) { e_112 = { error: e_112_1 }; }
                            finally {
                                try {
                                    if (_2 && !_2.done && (_j = _1.return)) _j.call(_1);
                                }
                                finally { if (e_112) throw e_112.error; }
                            }
                            this._inlineFiller && !this._isSelectionInInlineFiller() && this._removeInlineFiller(), this._inlineFiller ? t = this._getInlineFillerPosition() : this._needsInlineFillerAtSelection() && (t = this.selection.getFirstPosition(), this.markedChildren.add(t.parent));
                            try {
                                for (var _3 = __values(this.markedAttributes), _4 = _3.next(); !_4.done; _4 = _3.next()) {
                                    var t_48 = _4.value;
                                    this._updateAttrs(t_48);
                                }
                            }
                            catch (e_113_1) { e_113 = { error: e_113_1 }; }
                            finally {
                                try {
                                    if (_4 && !_4.done && (_q = _3.return)) _q.call(_3);
                                }
                                finally { if (e_113) throw e_113.error; }
                            }
                            try {
                                for (var _5 = __values(this.markedChildren), _6 = _5.next(); !_6.done; _6 = _5.next()) {
                                    var e_116 = _6.value;
                                    this._updateChildren(e_116, { inlineFillerPosition: t });
                                }
                            }
                            catch (e_114_1) { e_114 = { error: e_114_1 }; }
                            finally {
                                try {
                                    if (_6 && !_6.done && (_z = _5.return)) _z.call(_5);
                                }
                                finally { if (e_114) throw e_114.error; }
                            }
                            try {
                                for (var _7 = __values(this.markedTexts), _8 = _7.next(); !_8.done; _8 = _7.next()) {
                                    var e_117 = _8.value;
                                    !this.markedChildren.has(e_117.parent) && this.domConverter.mapViewToDom(e_117.parent) && this._updateText(e_117, { inlineFillerPosition: t });
                                }
                            }
                            catch (e_115_1) { e_115 = { error: e_115_1 }; }
                            finally {
                                try {
                                    if (_8 && !_8.done && (_0 = _7.return)) _0.call(_7);
                                }
                                finally { if (e_115) throw e_115.error; }
                            }
                            if (t) {
                                var e_118 = this.domConverter.viewPositionToDom(t), n_44 = e_118.parent.ownerDocument;
                                Bo(e_118.parent) ? this._inlineFiller = e_118.parent : this._inlineFiller = Xo(n_44, e_118.parent, e_118.offset);
                            }
                            else
                                this._inlineFiller = null;
                            this._updateSelection(), this._updateFocus(), this.markedTexts.clear(), this.markedAttributes.clear(), this.markedChildren.clear();
                        };
                        Zo.prototype._updateChildrenMappings = function (t) {
                            var e_119, _j;
                            var e = this.domConverter.mapViewToDom(t);
                            if (!e)
                                return;
                            var n = this.domConverter.mapViewToDom(t).childNodes, i = Array.from(this.domConverter.viewChildrenToDom(t, e.ownerDocument, { withChildren: !1 })), o = this._diffNodeLists(n, i), r = this._findReplaceActions(o, n, i);
                            if (-1 !== r.indexOf("replace")) {
                                var e_120 = { equal: 0, insert: 0, delete: 0 };
                                try {
                                    for (var r_7 = __values(r), r_7_1 = r_7.next(); !r_7_1.done; r_7_1 = r_7.next()) {
                                        var o_18 = r_7_1.value;
                                        if ("replace" === o_18) {
                                            var o_19 = e_120.equal + e_120.insert, r_8 = e_120.equal + e_120.delete, s_7 = t.getChild(o_19);
                                            s_7 && !s_7.is("uiElement") && this._updateElementMappings(s_7, n[r_8]), Qo(i[o_19]), e_120.equal++;
                                        }
                                        else
                                            e_120[o_18]++;
                                    }
                                }
                                catch (e_119_1) { e_119 = { error: e_119_1 }; }
                                finally {
                                    try {
                                        if (r_7_1 && !r_7_1.done && (_j = r_7.return)) _j.call(r_7);
                                    }
                                    finally { if (e_119) throw e_119.error; }
                                }
                            }
                        };
                        Zo.prototype._updateElementMappings = function (t, e) { this.domConverter.unbindDomElement(e), this.domConverter.bindElements(e, t), this.markedChildren.add(t), this.markedAttributes.add(t); };
                        Zo.prototype._getInlineFillerPosition = function () { var t = this.selection.getFirstPosition(); return t.parent.is("text") ? Zi._createBefore(this.selection.getFirstPosition().parent) : t; };
                        Zo.prototype._isSelectionInInlineFiller = function () { if (1 != this.selection.rangeCount || !this.selection.isCollapsed)
                            return !1; var t = this.selection.getFirstPosition(), e = this.domConverter.viewPositionToDom(t); return !!(e && Lo(e.parent) && Bo(e.parent)); };
                        Zo.prototype._removeInlineFiller = function () { var t = this._inlineFiller; if (!Bo(t))
                            throw new Gn.b("view-renderer-filler-was-lost: The inline filler node was lost.", this); Ho(t) ? t.parentNode.removeChild(t) : t.data = t.data.substr(jo), this._inlineFiller = null; };
                        Zo.prototype._needsInlineFillerAtSelection = function () { if (1 != this.selection.rangeCount || !this.selection.isCollapsed)
                            return !1; var t = this.selection.getFirstPosition(), e = t.parent, n = t.offset; if (!this.domConverter.mapViewToDom(e.root))
                            return !1; if (!e.is("element"))
                            return !1; if (!function (t) { if ("false" == t.getAttribute("contenteditable"))
                            return !1; var e = t.findAncestor(function (t) { return t.hasAttribute("contenteditable"); }); return !e || "true" == e.getAttribute("contenteditable"); }(e))
                            return !1; if (n === e.getFillerOffset())
                            return !1; var i = t.nodeBefore, o = t.nodeAfter; return !(i instanceof mi || o instanceof mi); };
                        Zo.prototype._updateText = function (t, e) {
                            var e_121, _j;
                            var n = this.domConverter.findCorrespondingDomText(t), i = this.domConverter.viewToDom(t, n.ownerDocument), o = n.data;
                            var r = i.data;
                            var s = e.inlineFillerPosition;
                            if (s && s.parent == t.parent && s.offset == t.index && (r = Fo + r), o != r) {
                                var t_50 = qo(o, r);
                                try {
                                    for (var t_49 = __values(t_50), t_49_1 = t_49.next(); !t_49_1.done; t_49_1 = t_49.next()) {
                                        var e_122 = t_49_1.value;
                                        "insert" === e_122.type ? n.insertData(e_122.index, e_122.values.join("")) : n.deleteData(e_122.index, e_122.howMany);
                                    }
                                }
                                catch (e_121_1) { e_121 = { error: e_121_1 }; }
                                finally {
                                    try {
                                        if (t_49_1 && !t_49_1.done && (_j = t_49.return)) _j.call(t_49);
                                    }
                                    finally { if (e_121) throw e_121.error; }
                                }
                            }
                        };
                        Zo.prototype._updateAttrs = function (t) {
                            var e_123, _j, e_124, _q;
                            var e = this.domConverter.mapViewToDom(t);
                            if (!e)
                                return;
                            var n = Array.from(e.attributes).map(function (t) { return t.name; }), i = t.getAttributeKeys();
                            try {
                                for (var i_24 = __values(i), i_24_1 = i_24.next(); !i_24_1.done; i_24_1 = i_24.next()) {
                                    var n_46 = i_24_1.value;
                                    e.setAttribute(n_46, t.getAttribute(n_46));
                                }
                            }
                            catch (e_123_1) { e_123 = { error: e_123_1 }; }
                            finally {
                                try {
                                    if (i_24_1 && !i_24_1.done && (_j = i_24.return)) _j.call(i_24);
                                }
                                finally { if (e_123) throw e_123.error; }
                            }
                            try {
                                for (var n_45 = __values(n), n_45_1 = n_45.next(); !n_45_1.done; n_45_1 = n_45.next()) {
                                    var i_25 = n_45_1.value;
                                    t.hasAttribute(i_25) || e.removeAttribute(i_25);
                                }
                            }
                            catch (e_124_1) { e_124 = { error: e_124_1 }; }
                            finally {
                                try {
                                    if (n_45_1 && !n_45_1.done && (_q = n_45.return)) _q.call(n_45);
                                }
                                finally { if (e_124) throw e_124.error; }
                            }
                        };
                        Zo.prototype._updateChildren = function (t, e) {
                            var e_125, _j, e_126, _q;
                            var n = this.domConverter.mapViewToDom(t);
                            if (!n)
                                return;
                            var i = e.inlineFillerPosition, o = this.domConverter.mapViewToDom(t).childNodes, r = Array.from(this.domConverter.viewChildrenToDom(t, n.ownerDocument, { bind: !0, inlineFillerPosition: i }));
                            i && i.parent === t && Xo(n.ownerDocument, r, i.offset);
                            var s = this._diffNodeLists(o, r);
                            var a = 0;
                            var c = new Set;
                            try {
                                for (var s_8 = __values(s), s_8_1 = s_8.next(); !s_8_1.done; s_8_1 = s_8.next()) {
                                    var t_51 = s_8_1.value;
                                    "insert" === t_51 ? (Ko(n, a, r[a]), a++) : "delete" === t_51 ? (c.add(o[a]), Qo(o[a])) : (this._markDescendantTextToSync(this.domConverter.domToView(r[a])), a++);
                                }
                            }
                            catch (e_125_1) { e_125 = { error: e_125_1 }; }
                            finally {
                                try {
                                    if (s_8_1 && !s_8_1.done && (_j = s_8.return)) _j.call(s_8);
                                }
                                finally { if (e_125) throw e_125.error; }
                            }
                            try {
                                for (var c_3 = __values(c), c_3_1 = c_3.next(); !c_3_1.done; c_3_1 = c_3.next()) {
                                    var t_52 = c_3_1.value;
                                    t_52.parentNode || this.domConverter.unbindDomElement(t_52);
                                }
                            }
                            catch (e_126_1) { e_126 = { error: e_126_1 }; }
                            finally {
                                try {
                                    if (c_3_1 && !c_3_1.done && (_q = c_3.return)) _q.call(c_3);
                                }
                                finally { if (e_126) throw e_126.error; }
                            }
                        };
                        Zo.prototype._diffNodeLists = function (t, e) { return Go(t = function (t, e) { var n = Array.from(t); if (0 == n.length || !e)
                            return n; n[n.length - 1] == e && n.pop(); return n; }(t, this._fakeSelectionContainer), e, function (t, e, n) { if (e === n)
                            return !0; if (Lo(e) && Lo(n))
                            return e.data === n.data; if (t.isBlockFiller(e) && t.isBlockFiller(n))
                            return !0; return !1; }.bind(null, this.domConverter)); };
                        Zo.prototype._findReplaceActions = function (t, e, n) {
                            var e_127, _j;
                            if (-1 === t.indexOf("insert") || -1 === t.indexOf("delete"))
                                return t;
                            var i = [], o = [], r = [];
                            var s = { equal: 0, insert: 0, delete: 0 };
                            try {
                                for (var t_53 = __values(t), t_53_1 = t_53.next(); !t_53_1.done; t_53_1 = t_53.next()) {
                                    var a_5 = t_53_1.value;
                                    "insert" === a_5 ? r.push(n[s.equal + s.insert]) : "delete" === a_5 ? o.push(e[s.equal + s.delete]) : ((i = i.concat(Go(o, r, tr).map(function (t) { return "equal" === t ? "replace" : t; }))).push("equal"), o = [], r = []), s[a_5]++;
                                }
                            }
                            catch (e_127_1) { e_127 = { error: e_127_1 }; }
                            finally {
                                try {
                                    if (t_53_1 && !t_53_1.done && (_j = t_53.return)) _j.call(t_53);
                                }
                                finally { if (e_127) throw e_127.error; }
                            }
                            return i.concat(Go(o, r, tr).map(function (t) { return "equal" === t ? "replace" : t; }));
                        };
                        Zo.prototype._markDescendantTextToSync = function (t) {
                            var e_128, _j;
                            if (t)
                                if (t.is("text"))
                                    this.markedTexts.add(t);
                                else if (t.is("element"))
                                    try {
                                        for (var _q = __values(t.getChildren()), _z = _q.next(); !_z.done; _z = _q.next()) {
                                            var e_129 = _z.value;
                                            this._markDescendantTextToSync(e_129);
                                        }
                                    }
                                    catch (e_128_1) { e_128 = { error: e_128_1 }; }
                                    finally {
                                        try {
                                            if (_z && !_z.done && (_j = _q.return)) _j.call(_q);
                                        }
                                        finally { if (e_128) throw e_128.error; }
                                    }
                        };
                        Zo.prototype._updateSelection = function () { if (0 === this.selection.rangeCount)
                            return this._removeDomSelection(), void this._removeFakeSelection(); var t = this.domConverter.mapViewToDom(this.selection.editableElement); this.isFocused && t && (this.selection.isFake ? this._updateFakeSelection(t) : (this._removeFakeSelection(), this._updateDomSelection(t))); };
                        Zo.prototype._updateFakeSelection = function (t) { var e = t.ownerDocument; this._fakeSelectionContainer || (this._fakeSelectionContainer = function (t) { var e = t.createElement("div"); return Object.assign(e.style, { position: "fixed", top: 0, left: "-9999px", width: "42px" }), e.textContent = " ", e; }(e)); var n = this._fakeSelectionContainer; if (this.domConverter.bindFakeSelection(n, this.selection), !this._fakeSelectionNeedsUpdate(t))
                            return; n.parentElement && n.parentElement == t || t.appendChild(n), n.textContent = this.selection.fakeSelectionLabel || " "; var i = e.getSelection(), o = e.createRange(); i.removeAllRanges(), o.selectNodeContents(n), i.addRange(o); };
                        Zo.prototype._updateDomSelection = function (t) { var e = t.ownerDocument.defaultView.getSelection(); if (!this._domSelectionNeedsUpdate(e))
                            return; var n = this.domConverter.viewPositionToDom(this.selection.anchor), i = this.domConverter.viewPositionToDom(this.selection.focus); t.focus(), e.collapse(n.parent, n.offset), e.extend(i.parent, i.offset), go.isGecko && function (t, e) { var n = t.parent; if (n.nodeType != Node.ELEMENT_NODE || t.offset != n.childNodes.length - 1)
                            return; var i = n.childNodes[t.offset]; i && "BR" == i.tagName && e.addRange(e.getRangeAt(0)); }(i, e); };
                        Zo.prototype._domSelectionNeedsUpdate = function (t) { if (!this.domConverter.isDomSelectionCorrect(t))
                            return !0; var e = t && this.domConverter.domSelectionToView(t); return (!e || !this.selection.isEqual(e)) && !(!this.selection.isCollapsed && this.selection.isSimilar(e)); };
                        Zo.prototype._fakeSelectionNeedsUpdate = function (t) { var e = this._fakeSelectionContainer, n = t.ownerDocument.getSelection(); return !e || e.parentElement !== t || (n.anchorNode !== e && !e.contains(n.anchorNode) || e.textContent !== this.selection.fakeSelectionLabel); };
                        Zo.prototype._removeDomSelection = function () {
                            var e_130, _j;
                            try {
                                for (var _q = __values(this.domDocuments), _z = _q.next(); !_z.done; _z = _q.next()) {
                                    var t_54 = _z.value;
                                    if (t_54.getSelection().rangeCount) {
                                        var e_131 = t_54.activeElement, n_47 = this.domConverter.mapDomToView(e_131);
                                        e_131 && n_47 && t_54.getSelection().removeAllRanges();
                                    }
                                }
                            }
                            catch (e_130_1) { e_130 = { error: e_130_1 }; }
                            finally {
                                try {
                                    if (_z && !_z.done && (_j = _q.return)) _j.call(_q);
                                }
                                finally { if (e_130) throw e_130.error; }
                            }
                        };
                        Zo.prototype._removeFakeSelection = function () { var t = this._fakeSelectionContainer; t && t.remove(); };
                        Zo.prototype._updateFocus = function () { if (this.isFocused) {
                            var t_55 = this.selection.editableElement;
                            t_55 && this.domConverter.focus(t_55);
                        } };
                        return Zo;
                    }());
                    function Xo(t, e, n) { var i = e instanceof Array ? e : e.childNodes, o = i[n]; if (Lo(o))
                        return o.data = Fo + o.data, o; {
                        var o_20 = t.createTextNode(Fo);
                        return Array.isArray(e) ? i.splice(n, 0, o_20) : Ko(e, n, o_20), o_20;
                    } }
                    function tr(t, e) { return Jo(t) && Jo(e) && !Lo(t) && !Lo(e) && t.tagName.toLowerCase() === e.tagName.toLowerCase(); }
                    ci(Zo, Bi);
                    var er = { window: window, document: document };
                    function nr(t) { var e = 0; for (; t.previousSibling;)
                        t = t.previousSibling, e++; return e; }
                    function ir(t) { var e = []; for (; t && t.nodeType != Node.DOCUMENT_NODE;)
                        e.unshift(t), t = t.parentNode; return e; }
                    var or = zo(document);
                    var rr = /** @class */ (function () {
                        function rr(t) {
                            if (t === void 0) { t = {}; }
                            this.blockFillerMode = t.blockFillerMode || "br", this.preElements = ["pre"], this.blockElements = ["p", "div", "h1", "h2", "h3", "h4", "h5", "h6", "li", "dd", "dt", "figcaption"], this._blockFiller = "br" == this.blockFillerMode ? zo : Vo, this._domToViewMapping = new WeakMap, this._viewToDomMapping = new WeakMap, this._fakeSelectionMapping = new WeakMap;
                        }
                        rr.prototype.bindFakeSelection = function (t, e) { this._fakeSelectionMapping.set(t, new no(e)); };
                        rr.prototype.fakeSelectionToView = function (t) { return this._fakeSelectionMapping.get(t); };
                        rr.prototype.bindElements = function (t, e) { this._domToViewMapping.set(t, e), this._viewToDomMapping.set(e, t); };
                        rr.prototype.unbindDomElement = function (t) {
                            var e_132, _j;
                            var e = this._domToViewMapping.get(t);
                            if (e) {
                                this._domToViewMapping.delete(t), this._viewToDomMapping.delete(e);
                                try {
                                    for (var _q = __values(Array.from(t.childNodes)), _z = _q.next(); !_z.done; _z = _q.next()) {
                                        var e_133 = _z.value;
                                        this.unbindDomElement(e_133);
                                    }
                                }
                                catch (e_132_1) { e_132 = { error: e_132_1 }; }
                                finally {
                                    try {
                                        if (_z && !_z.done && (_j = _q.return)) _j.call(_q);
                                    }
                                    finally { if (e_132) throw e_132.error; }
                                }
                            }
                        };
                        rr.prototype.bindDocumentFragments = function (t, e) { this._domToViewMapping.set(t, e), this._viewToDomMapping.set(e, t); };
                        rr.prototype.viewToDom = function (t, e, n) {
                            var e_134, _j, e_135, _q;
                            if (n === void 0) { n = {}; }
                            if (t.is("text")) {
                                var n_48 = this._processDataFromViewText(t);
                                return e.createTextNode(n_48);
                            }
                            {
                                if (this.mapViewToDom(t))
                                    return this.mapViewToDom(t);
                                var i_26;
                                if (t.is("documentFragment"))
                                    i_26 = e.createDocumentFragment(), n.bind && this.bindDocumentFragments(i_26, t);
                                else {
                                    if (t.is("uiElement"))
                                        return i_26 = t.render(e), n.bind && this.bindElements(i_26, t), i_26;
                                    i_26 = t.hasAttribute("xmlns") ? e.createElementNS(t.getAttribute("xmlns"), t.name) : e.createElement(t.name), n.bind && this.bindElements(i_26, t);
                                    try {
                                        for (var _z = __values(t.getAttributeKeys()), _0 = _z.next(); !_0.done; _0 = _z.next()) {
                                            var e_136 = _0.value;
                                            i_26.setAttribute(e_136, t.getAttribute(e_136));
                                        }
                                    }
                                    catch (e_134_1) { e_134 = { error: e_134_1 }; }
                                    finally {
                                        try {
                                            if (_0 && !_0.done && (_j = _z.return)) _j.call(_z);
                                        }
                                        finally { if (e_134) throw e_134.error; }
                                    }
                                }
                                if (n.withChildren || void 0 === n.withChildren)
                                    try {
                                        for (var _1 = __values(this.viewChildrenToDom(t, e, n)), _2 = _1.next(); !_2.done; _2 = _1.next()) {
                                            var o_21 = _2.value;
                                            i_26.appendChild(o_21);
                                        }
                                    }
                                    catch (e_135_1) { e_135 = { error: e_135_1 }; }
                                    finally {
                                        try {
                                            if (_2 && !_2.done && (_q = _1.return)) _q.call(_1);
                                        }
                                        finally { if (e_135) throw e_135.error; }
                                    }
                                return i_26;
                            }
                        };
                        rr.prototype.viewChildrenToDom = function (t, e, n) {
                            var e_137, _j, i, o, _q, _z, r_9, _0, e_137_1, _1;
                            return __generator(this, function (_2) {
                                switch (_2.label) {
                                    case 0:
                                        if (n === void 0) { n = {}; }
                                        i = t.getFillerOffset && t.getFillerOffset();
                                        o = 0;
                                        _2.label = 1;
                                    case 1:
                                        _2.trys.push([1, 8, 9, 10]);
                                        _q = __values(t.getChildren()), _z = _q.next();
                                        _2.label = 2;
                                    case 2:
                                        if (!!_z.done) return [3 /*break*/, 7];
                                        r_9 = _z.value;
                                        _0 = i === o;
                                        if (!_0) return [3 /*break*/, 4];
                                        return [4 /*yield*/, this._blockFiller(e)];
                                    case 3:
                                        _0 = (_2.sent());
                                        _2.label = 4;
                                    case 4:
                                        _0;
                                        return [4 /*yield*/, this.viewToDom(r_9, e, n)];
                                    case 5:
                                        _2.sent(), o++;
                                        _2.label = 6;
                                    case 6:
                                        _z = _q.next();
                                        return [3 /*break*/, 2];
                                    case 7: return [3 /*break*/, 10];
                                    case 8:
                                        e_137_1 = _2.sent();
                                        e_137 = { error: e_137_1 };
                                        return [3 /*break*/, 10];
                                    case 9:
                                        try {
                                            if (_z && !_z.done && (_j = _q.return)) _j.call(_q);
                                        }
                                        finally { if (e_137) throw e_137.error; }
                                        return [7 /*endfinally*/];
                                    case 10:
                                        _1 = i === o;
                                        if (!_1) return [3 /*break*/, 12];
                                        return [4 /*yield*/, this._blockFiller(e)];
                                    case 11:
                                        _1 = (_2.sent());
                                        _2.label = 12;
                                    case 12:
                                        _1;
                                        return [2 /*return*/];
                                }
                            });
                        };
                        rr.prototype.viewRangeToDom = function (t) { var e = this.viewPositionToDom(t.start), n = this.viewPositionToDom(t.end), i = document.createRange(); return i.setStart(e.parent, e.offset), i.setEnd(n.parent, n.offset), i; };
                        rr.prototype.viewPositionToDom = function (t) { var e = t.parent; if (e.is("text")) {
                            var n_49 = this.findCorrespondingDomText(e);
                            if (!n_49)
                                return null;
                            var i_27 = t.offset;
                            return Bo(n_49) && (i_27 += jo), { parent: n_49, offset: i_27 };
                        } {
                            var n_50, i_28, o_22;
                            if (0 === t.offset) {
                                if (!(n_50 = this.mapViewToDom(e)))
                                    return null;
                                o_22 = n_50.childNodes[0];
                            }
                            else {
                                var e_138 = t.nodeBefore;
                                if (!(i_28 = e_138.is("text") ? this.findCorrespondingDomText(e_138) : this.mapViewToDom(t.nodeBefore)))
                                    return null;
                                n_50 = i_28.parentNode, o_22 = i_28.nextSibling;
                            }
                            if (Lo(o_22) && Bo(o_22))
                                return { parent: o_22, offset: jo };
                            return { parent: n_50, offset: i_28 ? nr(i_28) + 1 : 0 };
                        } };
                        rr.prototype.domToView = function (t, e) {
                            var e_139, _j;
                            if (e === void 0) { e = {}; }
                            if (this.isBlockFiller(t, this.blockFillerMode))
                                return null;
                            var n = this.getParentUIElement(t, this._domToViewMapping);
                            if (n)
                                return n;
                            if (Lo(t)) {
                                if (Ho(t))
                                    return null;
                                {
                                    var e_140 = this._processDataFromDomText(t);
                                    return "" === e_140 ? null : new mi(e_140);
                                }
                            }
                            if (this.isComment(t))
                                return null;
                            {
                                if (this.mapDomToView(t))
                                    return this.mapDomToView(t);
                                var n_51;
                                if (this.isDocumentFragment(t))
                                    n_51 = new To, e.bind && this.bindDocumentFragments(t, n_51);
                                else {
                                    var i_29 = e.keepOriginalCase ? t.tagName : t.tagName.toLowerCase();
                                    n_51 = new ki(i_29), e.bind && this.bindElements(t, n_51);
                                    var o_23 = t.attributes;
                                    for (var t_56 = o_23.length - 1; t_56 >= 0; t_56--)
                                        n_51._setAttribute(o_23[t_56].name, o_23[t_56].value);
                                }
                                if (e.withChildren || void 0 === e.withChildren)
                                    try {
                                        for (var _q = __values(this.domChildrenToView(t, e)), _z = _q.next(); !_z.done; _z = _q.next()) {
                                            var i_30 = _z.value;
                                            n_51._appendChild(i_30);
                                        }
                                    }
                                    catch (e_139_1) { e_139 = { error: e_139_1 }; }
                                    finally {
                                        try {
                                            if (_z && !_z.done && (_j = _q.return)) _j.call(_q);
                                        }
                                        finally { if (e_139) throw e_139.error; }
                                    }
                                return n_51;
                            }
                        };
                        rr.prototype.domChildrenToView = function (t, e) {
                            var n_52, i_31, o_24, _j;
                            if (e === void 0) { e = {}; }
                            return __generator(this, function (_q) {
                                switch (_q.label) {
                                    case 0:
                                        n_52 = 0;
                                        _q.label = 1;
                                    case 1:
                                        if (!(n_52 < t.childNodes.length)) return [3 /*break*/, 5];
                                        i_31 = t.childNodes[n_52], o_24 = this.domToView(i_31, e);
                                        _j = null !== o_24;
                                        if (!_j) return [3 /*break*/, 3];
                                        return [4 /*yield*/, o_24];
                                    case 2:
                                        _j = (_q.sent());
                                        _q.label = 3;
                                    case 3:
                                        _j;
                                        _q.label = 4;
                                    case 4:
                                        n_52++;
                                        return [3 /*break*/, 1];
                                    case 5: return [2 /*return*/];
                                }
                            });
                        };
                        rr.prototype.domSelectionToView = function (t) { if (1 === t.rangeCount) {
                            var e_141 = t.getRangeAt(0).startContainer;
                            Lo(e_141) && (e_141 = e_141.parentNode);
                            var n_53 = this.fakeSelectionToView(e_141);
                            if (n_53)
                                return n_53;
                        } var e = this.isDomSelectionBackward(t), n = []; for (var e_142 = 0; e_142 < t.rangeCount; e_142++) {
                            var i_32 = t.getRangeAt(e_142), o_25 = this.domRangeToView(i_32);
                            o_25 && n.push(o_25);
                        } return new no(n, { backward: e }); };
                        rr.prototype.domRangeToView = function (t) { var e = this.domPositionToView(t.startContainer, t.startOffset), n = this.domPositionToView(t.endContainer, t.endOffset); return e && n ? new Xi(e, n) : null; };
                        rr.prototype.domPositionToView = function (t, e) { if (this.isBlockFiller(t, this.blockFillerMode))
                            return this.domPositionToView(t.parentNode, nr(t)); var n = this.mapDomToView(t); if (n && n.is("uiElement"))
                            return Zi._createBefore(n); if (Lo(t)) {
                            if (Ho(t))
                                return this.domPositionToView(t.parentNode, nr(t));
                            var n_54 = this.findCorrespondingViewText(t);
                            var i_33 = e;
                            return n_54 ? (Bo(t) && (i_33 = (i_33 -= jo) < 0 ? 0 : i_33), new Zi(n_54, i_33)) : null;
                        } if (0 === e) {
                            var e_143 = this.mapDomToView(t);
                            if (e_143)
                                return new Zi(e_143, 0);
                        }
                        else {
                            var n_55 = t.childNodes[e - 1], i_34 = Lo(n_55) ? this.findCorrespondingViewText(n_55) : this.mapDomToView(n_55);
                            if (i_34 && i_34.parent)
                                return new Zi(i_34.parent, i_34.index + 1);
                        } return null; };
                        rr.prototype.mapDomToView = function (t) { return this.getParentUIElement(t) || this._domToViewMapping.get(t); };
                        rr.prototype.findCorrespondingViewText = function (t) { if (Ho(t))
                            return null; var e = this.getParentUIElement(t); if (e)
                            return e; var n = t.previousSibling; if (n) {
                            if (!this.isElement(n))
                                return null;
                            var t_57 = this.mapDomToView(n);
                            if (t_57) {
                                return t_57.nextSibling instanceof mi ? t_57.nextSibling : null;
                            }
                        }
                        else {
                            var e_144 = this.mapDomToView(t.parentNode);
                            if (e_144) {
                                var t_58 = e_144.getChild(0);
                                return t_58 instanceof mi ? t_58 : null;
                            }
                        } return null; };
                        rr.prototype.mapViewToDom = function (t) { return this._viewToDomMapping.get(t); };
                        rr.prototype.findCorrespondingDomText = function (t) { var e = t.previousSibling; return e && this.mapViewToDom(e) ? this.mapViewToDom(e).nextSibling : !e && t.parent && this.mapViewToDom(t.parent) ? this.mapViewToDom(t.parent).childNodes[0] : null; };
                        rr.prototype.focus = function (t) { var e = this.mapViewToDom(t); if (e && e.ownerDocument.activeElement !== e) {
                            var _j = er.window, t_59 = _j.scrollX, n_56 = _j.scrollY, i_35 = [];
                            ar(e, function (t) { var e = t.scrollLeft, n = t.scrollTop; i_35.push([e, n]); }), e.focus(), ar(e, function (t) { var _j = __read(i_35.shift(), 2), e = _j[0], n = _j[1]; t.scrollLeft = e, t.scrollTop = n; }), er.window.scrollTo(t_59, n_56);
                        } };
                        rr.prototype.isElement = function (t) { return t && t.nodeType == Node.ELEMENT_NODE; };
                        rr.prototype.isDocumentFragment = function (t) { return t && t.nodeType == Node.DOCUMENT_FRAGMENT_NODE; };
                        rr.prototype.isComment = function (t) { return t && t.nodeType == Node.COMMENT_NODE; };
                        rr.prototype.isBlockFiller = function (t) { return "br" == this.blockFillerMode ? t.isEqualNode(or) : !("BR" !== t.tagName || !cr(t, this.blockElements) || 1 !== t.parentNode.childNodes.length) || function (t, e) { return Lo(t) && " " == t.data && cr(t, e) && 1 === t.parentNode.childNodes.length; }(t, this.blockElements); };
                        rr.prototype.isDomSelectionBackward = function (t) { if (t.isCollapsed)
                            return !1; var e = document.createRange(); e.setStart(t.anchorNode, t.anchorOffset), e.setEnd(t.focusNode, t.focusOffset); var n = e.collapsed; return e.detach(), n; };
                        rr.prototype.getParentUIElement = function (t) { var e = ir(t); for (e.pop(); e.length;) {
                            var t_60 = e.pop(), n_57 = this._domToViewMapping.get(t_60);
                            if (n_57 && n_57.is("uiElement"))
                                return n_57;
                        } return null; };
                        rr.prototype.isDomSelectionCorrect = function (t) { return this._isDomSelectionPositionCorrect(t.anchorNode, t.anchorOffset) && this._isDomSelectionPositionCorrect(t.focusNode, t.focusOffset); };
                        rr.prototype._isDomSelectionPositionCorrect = function (t, e) { if (Lo(t) && Bo(t) && e < jo)
                            return !1; if (this.isElement(t) && Bo(t.childNodes[e]))
                            return !1; var n = this.mapDomToView(t); return !n || !n.is("uiElement"); };
                        rr.prototype._processDataFromViewText = function (t) {
                            var _this = this;
                            var e = t.data;
                            if (t.getAncestors().some(function (t) { return _this.preElements.includes(t.name); }))
                                return e;
                            if (" " == e.charAt(0)) {
                                var n_58 = this._getTouchingViewTextNode(t, !1);
                                !(n_58 && this._nodeEndsWithSpace(n_58)) && n_58 || (e = " " + e.substr(1));
                            }
                            if (" " == e.charAt(e.length - 1)) {
                                var n_59 = this._getTouchingViewTextNode(t, !0);
                                " " != e.charAt(e.length - 2) && n_59 && " " != n_59.data.charAt(0) || (e = e.substr(0, e.length - 1) + " ");
                            }
                            return e.replace(/ {2}/g, "  ");
                        };
                        rr.prototype._nodeEndsWithSpace = function (t) {
                            var _this = this;
                            if (t.getAncestors().some(function (t) { return _this.preElements.includes(t.name); }))
                                return !1;
                            var e = this._processDataFromViewText(t);
                            return " " == e.charAt(e.length - 1);
                        };
                        rr.prototype._processDataFromDomText = function (t) { var e = t.data; if (sr(t, this.preElements))
                            return Uo(t); e = e.replace(/[ \n\t\r]{1,}/g, " "); var n = this._getTouchingInlineDomNode(t, !1), i = this._getTouchingInlineDomNode(t, !0), o = this._checkShouldLeftTrimDomText(n), r = this._checkShouldRightTrimDomText(t, i); return o && (e = e.replace(/^ /, "")), r && (e = e.replace(/ $/, "")), e = (e = Uo(new Text(e))).replace(/ \u00A0/g, "  "), (/( |\u00A0)\u00A0$/.test(e) || !i || i.data && " " == i.data.charAt(0)) && (e = e.replace(/\u00A0$/, " ")), o && (e = e.replace(/^\u00A0/, " ")), e; };
                        rr.prototype._checkShouldLeftTrimDomText = function (t) { return !t || (!!qn(t) || /[^\S\u00A0]/.test(t.data.charAt(t.data.length - 1))); };
                        rr.prototype._checkShouldRightTrimDomText = function (t, e) { return !e && !Bo(t); };
                        rr.prototype._getTouchingViewTextNode = function (t, e) {
                            var e_145, _j;
                            var n = new Ji({ startPosition: e ? Zi._createAfter(t) : Zi._createBefore(t), direction: e ? "forward" : "backward" });
                            try {
                                for (var n_60 = __values(n), n_60_1 = n_60.next(); !n_60_1.done; n_60_1 = n_60.next()) {
                                    var t_61 = n_60_1.value;
                                    if (t_61.item.is("containerElement"))
                                        return null;
                                    if (t_61.item.is("br"))
                                        return null;
                                    if (t_61.item.is("textProxy"))
                                        return t_61.item;
                                }
                            }
                            catch (e_145_1) { e_145 = { error: e_145_1 }; }
                            finally {
                                try {
                                    if (n_60_1 && !n_60_1.done && (_j = n_60.return)) _j.call(n_60);
                                }
                                finally { if (e_145) throw e_145.error; }
                            }
                            return null;
                        };
                        rr.prototype._getTouchingInlineDomNode = function (t, e) { if (!t.parentNode)
                            return null; var n = e ? "nextNode" : "previousNode", i = t.ownerDocument, o = ir(t)[0], r = i.createTreeWalker(o, NodeFilter.SHOW_TEXT | NodeFilter.SHOW_ELEMENT, { acceptNode: function (t) { return Lo(t) ? NodeFilter.FILTER_ACCEPT : "BR" == t.tagName ? NodeFilter.FILTER_ACCEPT : NodeFilter.FILTER_SKIP; } }); r.currentNode = t; var s = r[n](); if (null !== s) {
                            var e_146 = function (t, e) { var n = ir(t), i = ir(e); var o = 0; for (; n[o] == i[o] && n[o];)
                                o++; return 0 === o ? null : n[o - 1]; }(t, s);
                            if (e_146 && !sr(t, this.blockElements, e_146) && !sr(s, this.blockElements, e_146))
                                return s;
                        } return null; };
                        return rr;
                    }());
                    function sr(t, e, n) { var i = ir(t); return n && (i = i.slice(i.indexOf(n) + 1)), i.some(function (t) { return t.tagName && e.includes(t.tagName.toLowerCase()); }); }
                    function ar(t, e) { for (; t && t != er.document;)
                        e(t), t = t.parentNode; }
                    function cr(t, e) { var n = t.parentNode; return n && n.tagName && e.includes(n.tagName.toLowerCase()); }
                    function lr(t) { var e = Object.prototype.toString.apply(t); return "[object Window]" == e || "[object global]" == e; }
                    var dr = Li({}, ei, { listenTo: function (t) {
                            var _j;
                            var e = [];
                            for (var _q = 1; _q < arguments.length; _q++) {
                                e[_q - 1] = arguments[_q];
                            }
                            if (Jo(t) || lr(t)) {
                                var n_61 = this._getProxyEmitter(t) || new ur(t);
                                n_61.attach.apply(n_61, __spread(e)), t = n_61;
                            }
                            (_j = ei.listenTo).call.apply(_j, __spread([this, t], e));
                        }, stopListening: function (t, e, n) { if (Jo(t) || lr(t)) {
                            var e_147 = this._getProxyEmitter(t);
                            if (!e_147)
                                return;
                            t = e_147;
                        } ei.stopListening.call(this, t, e, n), t instanceof ur && t.detach(e); }, _getProxyEmitter: function (t) { return function (t, e) { return t[Xn] && t[Xn][e] ? t[Xn][e].emitter : null; }(this, hr(t)); } });
                    var ur = /** @class */ (function () {
                        function ur(t) {
                            ni(this, hr(t)), this._domNode = t;
                        }
                        return ur;
                    }());
                    function hr(t) { return t["data-ck-expando"] || (t["data-ck-expando"] = Jn()); }
                    Li(ur.prototype, ei, { attach: function (t, e, n) {
                            if (n === void 0) { n = {}; }
                            if (this._domListeners && this._domListeners[t])
                                return;
                            var i = this._createDomListener(t, !!n.useCapture);
                            this._domNode.addEventListener(t, i, !!n.useCapture), this._domListeners || (this._domListeners = {}), this._domListeners[t] = i;
                        }, detach: function (t) { var e; !this._domListeners[t] || (e = this._events[t]) && e.callbacks.length || this._domListeners[t].removeListener(); }, _createDomListener: function (t, e) {
                            var _this = this;
                            var n = function (e) { _this.fire(t, e); };
                            return n.removeListener = (function () { _this._domNode.removeEventListener(t, n, e), delete _this._domListeners[t]; }), n;
                        } });
                    var mr = /** @class */ (function () {
                        function mr(t) {
                            this.view = t, this.document = t.document, this.isEnabled = !1;
                        }
                        mr.prototype.enable = function () { this.isEnabled = !0; };
                        mr.prototype.disable = function () { this.isEnabled = !1; };
                        mr.prototype.destroy = function () { this.disable(), this.stopListening(); };
                        return mr;
                    }());
                    ci(mr, dr);
                    var gr = "__lodash_hash_undefined__";
                    var fr = function (t) { return this.__data__.set(t, gr), this; };
                    var pr = function (t) { return this.__data__.has(t); };
                    function xr(t) { var e = -1, n = null == t ? 0 : t.length; for (this.__data__ = new St; ++e < n;)
                        this.add(t[e]); }
                    xr.prototype.add = xr.prototype.push = fr, xr.prototype.has = pr;
                    var br = xr;
                    var kr = function (t, e) { for (var n = -1, i = null == t ? 0 : t.length; ++n < i;)
                        if (e(t[n], n, t))
                            return !0; return !1; };
                    var wr = function (t, e) { return t.has(e); }, _r = 1, vr = 2;
                    var yr = function (t, e, n, i, o, r) { var s = n & _r, a = t.length, c = e.length; if (a != c && !(s && c > a))
                        return !1; var l = r.get(t); if (l && r.get(e))
                        return l == e; var d = -1, u = !0, h = n & vr ? new br : void 0; for (r.set(t, e), r.set(e, t); ++d < a;) {
                        var m = t[d], g = e[d];
                        if (i)
                            var f = s ? i(g, m, d, e, t, r) : i(m, g, d, t, e, r);
                        if (void 0 !== f) {
                            if (f)
                                continue;
                            u = !1;
                            break;
                        }
                        if (h) {
                            if (!kr(e, function (t, e) { if (!wr(h, e) && (m === t || o(m, t, n, i, r)))
                                return h.push(e); })) {
                                u = !1;
                                break;
                            }
                        }
                        else if (m !== g && !o(m, g, n, i, r)) {
                            u = !1;
                            break;
                        }
                    } return r.delete(t), r.delete(e), u; };
                    var Cr = function (t) { var e = -1, n = Array(t.size); return t.forEach(function (t, i) { n[++e] = [i, t]; }), n; };
                    var Tr = function (t) { var e = -1, n = Array(t.size); return t.forEach(function (t) { n[++e] = t; }), n; }, Ar = 1, Sr = 2, Pr = "[object Boolean]", Mr = "[object Date]", Er = "[object Error]", Ir = "[object Map]", Nr = "[object Number]", Rr = "[object RegExp]", Or = "[object Set]", Dr = "[object String]", Lr = "[object Symbol]", Vr = "[object ArrayBuffer]", zr = "[object DataView]", jr = o ? o.prototype : void 0, Fr = jr ? jr.valueOf : void 0;
                    var Br = function (t, e, n, i, o, r, s) { switch (n) {
                        case zr:
                            if (t.byteLength != e.byteLength || t.byteOffset != e.byteOffset)
                                return !1;
                            t = t.buffer, e = e.buffer;
                        case Vr: return !(t.byteLength != e.byteLength || !r(new Ye(t), new Ye(e)));
                        case Pr:
                        case Mr:
                        case Nr: return S(+t, +e);
                        case Er: return t.name == e.name && t.message == e.message;
                        case Rr:
                        case Dr: return t == e + "";
                        case Ir: var a = Cr;
                        case Or:
                            var c = i & Ar;
                            if (a || (a = Tr), t.size != e.size && !c)
                                return !1;
                            var l = s.get(t);
                            if (l)
                                return l == e;
                            i |= Sr, s.set(t, e);
                            var d = yr(a(t), a(e), i, o, r, s);
                            return s.delete(t), d;
                        case Lr: if (Fr)
                            return Fr.call(t) == Fr.call(e);
                    } return !1; }, Hr = 1, Ur = Object.prototype.hasOwnProperty;
                    var Wr = function (t, e, n, i, o, r) { var s = n & Hr, a = Ie(t), c = a.length; if (c != Ie(e).length && !s)
                        return !1; for (var l = c; l--;) {
                        var d = a[l];
                        if (!(s ? d in e : Ur.call(e, d)))
                            return !1;
                    } var u = r.get(t); if (u && r.get(e))
                        return u == e; var h = !0; r.set(t, e), r.set(e, t); for (var m = s; ++l < c;) {
                        var g = t[d = a[l]], f = e[d];
                        if (i)
                            var p = s ? i(f, g, d, e, t, r) : i(g, f, d, t, e, r);
                        if (!(void 0 === p ? g === f || o(g, f, n, i, r) : p)) {
                            h = !1;
                            break;
                        }
                        m || (m = "constructor" == d);
                    } if (h && !m) {
                        var x = t.constructor, b = e.constructor;
                        x != b && "constructor" in t && "constructor" in e && !("function" == typeof x && x instanceof x && "function" == typeof b && b instanceof b) && (h = !1);
                    } return r.delete(t), r.delete(e), h; }, qr = 1, Yr = "[object Arguments]", $r = "[object Array]", Gr = "[object Object]", Kr = Object.prototype.hasOwnProperty;
                    var Qr = function (t, e, n, i, o, r) { var s = qt(t), a = qt(e), c = s ? $r : Ue(t), l = a ? $r : Ue(e), d = (c = c == Yr ? Gr : c) == Gr, u = (l = l == Yr ? Gr : l) == Gr, h = c == l; if (h && Object(Yt.a)(t)) {
                        if (!Object(Yt.a)(e))
                            return !1;
                        s = !0, d = !1;
                    } if (h && !d)
                        return r || (r = new It), s || ie(t) ? yr(t, e, n, i, o, r) : Br(t, e, c, n, i, o, r); if (!(n & qr)) {
                        var m = d && Kr.call(t, "__wrapped__"), g = u && Kr.call(e, "__wrapped__");
                        if (m || g) {
                            var f = m ? t.value() : t, p = g ? e.value() : e;
                            return r || (r = new It), o(f, p, n, i, r);
                        }
                    } return !!h && (r || (r = new It), Wr(t, e, n, i, o, r)); };
                    var Jr = function t(e, n, i, o, r) { return e === n || (null == e || null == n || !b(e) && !b(n) ? e != e && n != n : Qr(e, n, i, o, t, r)); };
                    var Zr = function (t, e, n) { var i = (n = "function" == typeof n ? n : void 0) ? n(t, e) : void 0; return void 0 === i ? Jr(t, e, void 0, n) : !!i; };
                    var Xr = /** @class */ (function (_super) {
                        __extends(Xr, _super);
                        function Xr(t) {
                            var _this = this;
                            _this = _super.call(this, t) || this, _this._config = { childList: !0, characterData: !0, characterDataOldValue: !0, subtree: !0 }, _this.domConverter = t.domConverter, _this.renderer = t._renderer, _this._domElements = [], _this._mutationObserver = new window.MutationObserver(_this._onMutations.bind(_this));
                            return _this;
                        }
                        Xr.prototype.flush = function () { this._onMutations(this._mutationObserver.takeRecords()); };
                        Xr.prototype.observe = function (t) { this._domElements.push(t), this.isEnabled && this._mutationObserver.observe(t, this._config); };
                        Xr.prototype.enable = function () {
                            var e_148, _j;
                            _super.prototype.enable.call(this);
                            try {
                                for (var _q = __values(this._domElements), _z = _q.next(); !_z.done; _z = _q.next()) {
                                    var t_62 = _z.value;
                                    this._mutationObserver.observe(t_62, this._config);
                                }
                            }
                            catch (e_148_1) { e_148 = { error: e_148_1 }; }
                            finally {
                                try {
                                    if (_z && !_z.done && (_j = _q.return)) _j.call(_q);
                                }
                                finally { if (e_148) throw e_148.error; }
                            }
                        };
                        Xr.prototype.disable = function () { _super.prototype.disable.call(this), this._mutationObserver.disconnect(); };
                        Xr.prototype.destroy = function () { _super.prototype.destroy.call(this), this._mutationObserver.disconnect(); };
                        Xr.prototype._onMutations = function (t) {
                            var e_149, _j, e_150, _q, e_151, _z, e_152, _0;
                            if (0 === t.length)
                                return;
                            var e = this.domConverter, n = new Map, i = new Set;
                            try {
                                for (var t_63 = __values(t), t_63_1 = t_63.next(); !t_63_1.done; t_63_1 = t_63.next()) {
                                    var n_62 = t_63_1.value;
                                    if ("childList" === n_62.type) {
                                        var t_65 = e.mapDomToView(n_62.target);
                                        if (t_65 && t_65.is("uiElement"))
                                            continue;
                                        t_65 && !this._isBogusBrMutation(n_62) && i.add(t_65);
                                    }
                                }
                            }
                            catch (e_149_1) { e_149 = { error: e_149_1 }; }
                            finally {
                                try {
                                    if (t_63_1 && !t_63_1.done && (_j = t_63.return)) _j.call(t_63);
                                }
                                finally { if (e_149) throw e_149.error; }
                            }
                            try {
                                for (var t_64 = __values(t), t_64_1 = t_64.next(); !t_64_1.done; t_64_1 = t_64.next()) {
                                    var o_26 = t_64_1.value;
                                    var t_66 = e.mapDomToView(o_26.target);
                                    if ((!t_66 || !t_66.is("uiElement")) && "characterData" === o_26.type) {
                                        var t_67 = e.findCorrespondingViewText(o_26.target);
                                        t_67 && !i.has(t_67.parent) ? n.set(t_67, { type: "text", oldText: t_67.data, newText: Uo(o_26.target), node: t_67 }) : !t_67 && Bo(o_26.target) && i.add(e.mapDomToView(o_26.target.parentNode));
                                    }
                                }
                            }
                            catch (e_150_1) { e_150 = { error: e_150_1 }; }
                            finally {
                                try {
                                    if (t_64_1 && !t_64_1.done && (_q = t_64.return)) _q.call(t_64);
                                }
                                finally { if (e_150) throw e_150.error; }
                            }
                            var o = [];
                            try {
                                for (var _1 = __values(n.values()), _2 = _1.next(); !_2.done; _2 = _1.next()) {
                                    var t_68 = _2.value;
                                    this.renderer.markToSync("text", t_68.node), o.push(t_68);
                                }
                            }
                            catch (e_151_1) { e_151 = { error: e_151_1 }; }
                            finally {
                                try {
                                    if (_2 && !_2.done && (_z = _1.return)) _z.call(_1);
                                }
                                finally { if (e_151) throw e_151.error; }
                            }
                            try {
                                for (var i_36 = __values(i), i_36_1 = i_36.next(); !i_36_1.done; i_36_1 = i_36.next()) {
                                    var t_69 = i_36_1.value;
                                    var n_63 = e.mapViewToDom(t_69), i_37 = Array.from(t_69.getChildren()), r_10 = Array.from(e.domChildrenToView(n_63, { withChildren: !1 }));
                                    Zr(i_37, r_10, a) || (this.renderer.markToSync("children", t_69), o.push({ type: "children", oldChildren: i_37, newChildren: r_10, node: t_69 }));
                                }
                            }
                            catch (e_152_1) { e_152 = { error: e_152_1 }; }
                            finally {
                                try {
                                    if (i_36_1 && !i_36_1.done && (_0 = i_36.return)) _0.call(i_36);
                                }
                                finally { if (e_152) throw e_152.error; }
                            }
                            var r = t[0].target.ownerDocument.getSelection();
                            var s = null;
                            if (r && r.anchorNode) {
                                var t_70 = e.domPositionToView(r.anchorNode, r.anchorOffset), n_64 = e.domPositionToView(r.focusNode, r.focusOffset);
                                t_70 && n_64 && (s = new no(t_70)).setFocus(n_64);
                            }
                            function a(t, e) { if (!Array.isArray(t))
                                return t === e || !(!t.is("text") || !e.is("text")) && t.data === e.data; }
                            this.document.fire("mutations", o, s), this.view.forceRender();
                        };
                        Xr.prototype._isBogusBrMutation = function (t) { var e = null; return null === t.nextSibling && 0 === t.removedNodes.length && 1 == t.addedNodes.length && (e = this.domConverter.domToView(t.addedNodes[0], { withChildren: !1 })), e && e.is("element", "br"); };
                        return Xr;
                    }(mr));
                    var ts = /** @class */ (function () {
                        function ts(t, e, n) {
                            this.view = t, this.document = t.document, this.domEvent = e, this.domTarget = e.target, Li(this, n);
                        }
                        Object.defineProperty(ts.prototype, "target", {
                            get: function () { return this.view.domConverter.mapDomToView(this.domTarget); },
                            enumerable: true,
                            configurable: true
                        });
                        ts.prototype.preventDefault = function () { this.domEvent.preventDefault(); };
                        ts.prototype.stopPropagation = function () { this.domEvent.stopPropagation(); };
                        return ts;
                    }());
                    var es = /** @class */ (function (_super) {
                        __extends(es, _super);
                        function es(t) {
                            var _this = this;
                            _this = _super.call(this, t) || this, _this.useCapture = !1;
                            return _this;
                        }
                        es.prototype.observe = function (t) {
                            var _this = this;
                            ("string" == typeof this.domEventType ? [this.domEventType] : this.domEventType).forEach(function (e) { _this.listenTo(t, e, function (t, e) { _this.isEnabled && _this.onDomEvent(e); }, { useCapture: _this.useCapture }); });
                        };
                        es.prototype.fire = function (t, e, n) { this.isEnabled && this.document.fire(t, new ts(this.view, e, n)); };
                        return es;
                    }(mr));
                    var ns = /** @class */ (function (_super) {
                        __extends(ns, _super);
                        function ns(t) {
                            var _this = this;
                            _this = _super.call(this, t) || this, _this.domEventType = ["keydown", "keyup"];
                            return _this;
                        }
                        ns.prototype.onDomEvent = function (t) { this.fire(t.type, t, { keyCode: t.keyCode, altKey: t.altKey, ctrlKey: t.ctrlKey || t.metaKey, shiftKey: t.shiftKey, get keystroke() { return bo(this); } }); };
                        return ns;
                    }(es));
                    var is = function () { return i.a.Date.now(); }, os = "[object Symbol]";
                    var rs = function (t) { return "symbol" == typeof t || b(t) && f(t) == os; }, ss = NaN, as = /^\s+|\s+$/g, cs = /^[-+]0x[0-9a-f]+$/i, ls = /^0b[01]+$/i, ds = /^0o[0-7]+$/i, us = parseInt;
                    var hs = function (t) { if ("number" == typeof t)
                        return t; if (rs(t))
                        return ss; if (F(t)) {
                        var e = "function" == typeof t.valueOf ? t.valueOf() : t;
                        t = F(e) ? e + "" : e;
                    } if ("string" != typeof t)
                        return 0 === t ? t : +t; t = t.replace(as, ""); var n = ls.test(t); return n || ds.test(t) ? us(t.slice(2), n ? 2 : 8) : cs.test(t) ? ss : +t; }, ms = "Expected a function", gs = Math.max, fs = Math.min;
                    var ps = function (t, e, n) { var i, o, r, s, a, c, l = 0, d = !1, u = !1, h = !0; if ("function" != typeof t)
                        throw new TypeError(ms); function m(e) { var n = i, r = o; return i = o = void 0, l = e, s = t.apply(r, n); } function g(t) { var n = t - c; return void 0 === c || n >= e || n < 0 || u && t - l >= r; } function f() { var t = is(); if (g(t))
                        return p(t); a = setTimeout(f, function (t) { var n = e - (t - c); return u ? fs(n, r - (t - l)) : n; }(t)); } function p(t) { return a = void 0, h && i ? m(t) : (i = o = void 0, s); } function x() { var t = is(), n = g(t); if (i = arguments, o = this, c = t, n) {
                        if (void 0 === a)
                            return function (t) { return l = t, a = setTimeout(f, e), d ? m(t) : s; }(c);
                        if (u)
                            return clearTimeout(a), a = setTimeout(f, e), m(c);
                    } return void 0 === a && (a = setTimeout(f, e)), s; } return e = hs(e) || 0, F(n) && (d = !!n.leading, r = (u = "maxWait" in n) ? gs(hs(n.maxWait) || 0, e) : r, h = "trailing" in n ? !!n.trailing : h), x.cancel = function () { void 0 !== a && clearTimeout(a), l = 0, i = c = o = a = void 0; }, x.flush = function () { return void 0 === a ? s : p(is()); }, x; };
                    var xs = /** @class */ (function (_super) {
                        __extends(xs, _super);
                        function xs(t) {
                            var _this = this;
                            _this = _super.call(this, t) || this, _this._fireSelectionChangeDoneDebounced = ps(function (t) { return _this.document.fire("selectionChangeDone", t); }, 200);
                            return _this;
                        }
                        xs.prototype.observe = function () {
                            var _this = this;
                            var t = this.document;
                            t.on("keydown", function (e, n) { t.selection.isFake && function (t) { return t == xo.arrowright || t == xo.arrowleft || t == xo.arrowup || t == xo.arrowdown; }(n.keyCode) && _this.isEnabled && (n.preventDefault(), _this._handleSelectionMove(n.keyCode)); }, { priority: "lowest" });
                        };
                        xs.prototype.destroy = function () { _super.prototype.destroy.call(this), this._fireSelectionChangeDoneDebounced.cancel(); };
                        xs.prototype._handleSelectionMove = function (t) { var e = this.document.selection, n = new no(e.getRanges(), { backward: e.isBackward, fake: !1 }); t != xo.arrowleft && t != xo.arrowup || n.setTo(n.getFirstPosition()), t != xo.arrowright && t != xo.arrowdown || n.setTo(n.getLastPosition()); var i = { oldSelection: e, newSelection: n, domSelection: null }; this.document.fire("selectionChange", i), this._fireSelectionChangeDoneDebounced(i); };
                        return xs;
                    }(mr));
                    var bs = /** @class */ (function (_super) {
                        __extends(bs, _super);
                        function bs(t) {
                            var _this = this;
                            _this = _super.call(this, t) || this, _this.mutationObserver = t.getObserver(Xr), _this.selection = _this.document.selection, _this.domConverter = t.domConverter, _this._documents = new WeakSet, _this._fireSelectionChangeDoneDebounced = ps(function (t) { return _this.document.fire("selectionChangeDone", t); }, 200), _this._clearInfiniteLoopInterval = setInterval(function () { return _this._clearInfiniteLoop(); }, 1e3), _this._loopbackCounter = 0;
                            return _this;
                        }
                        bs.prototype.observe = function (t) {
                            var _this = this;
                            var e = t.ownerDocument;
                            this._documents.has(e) || (this.listenTo(e, "selectionchange", function () { _this._handleSelectionChange(e); }), this._documents.add(e));
                        };
                        bs.prototype.destroy = function () { _super.prototype.destroy.call(this), clearInterval(this._clearInfiniteLoopInterval), this._fireSelectionChangeDoneDebounced.cancel(); };
                        bs.prototype._handleSelectionChange = function (t) { if (!this.isEnabled || !this.document.isFocused && !this.document.isReadOnly)
                            return; this.mutationObserver.flush(); var e = t.defaultView.getSelection(), n = this.domConverter.domSelectionToView(e); if (!(this.selection.isEqual(n) && this.domConverter.isDomSelectionCorrect(e) || ++this._loopbackCounter > 60))
                            if (this.selection.isSimilar(n))
                                this.view.forceRender();
                            else {
                                var t_71 = { oldSelection: this.selection, newSelection: n, domSelection: e };
                                this.document.fire("selectionChange", t_71), this._fireSelectionChangeDoneDebounced(t_71);
                            } };
                        bs.prototype._clearInfiniteLoop = function () { this._loopbackCounter = 0; };
                        return bs;
                    }(mr));
                    var ks = /** @class */ (function (_super) {
                        __extends(ks, _super);
                        function ks(t) {
                            var _this = this;
                            _this = _super.call(this, t) || this, _this.domEventType = ["focus", "blur"], _this.useCapture = !0;
                            var e = _this.document;
                            e.on("focus", function () { e.isFocused = !0, _this._renderTimeoutId = setTimeout(function () { return t.forceRender(); }, 50); }), e.on("blur", function (n, i) { var o = e.selection.editableElement; null !== o && o !== i.target || (e.isFocused = !1, t.forceRender()); });
                            return _this;
                        }
                        ks.prototype.onDomEvent = function (t) { this.fire(t.type, t); };
                        ks.prototype.destroy = function () { this._renderTimeoutId && clearTimeout(this._renderTimeoutId), _super.prototype.destroy.call(this); };
                        return ks;
                    }(es));
                    var ws = /** @class */ (function (_super) {
                        __extends(ws, _super);
                        function ws(t) {
                            var _this = this;
                            _this = _super.call(this, t) || this, _this.domEventType = ["compositionstart", "compositionupdate", "compositionend"];
                            var e = _this.document;
                            e.on("compositionstart", function () { e.isComposing = !0; }), e.on("compositionend", function () { e.isComposing = !1; });
                            return _this;
                        }
                        ws.prototype.onDomEvent = function (t) { this.fire(t.type, t); };
                        return ws;
                    }(es));
                    var _s = /** @class */ (function (_super) {
                        __extends(_s, _super);
                        function _s(t) {
                            var _this = this;
                            _this = _super.call(this, t) || this, _this.domEventType = ["beforeinput"];
                            return _this;
                        }
                        _s.prototype.onDomEvent = function (t) { this.fire(t.type, t); };
                        return _s;
                    }(es));
                    function vs(t) { return "[object Range]" == Object.prototype.toString.apply(t); }
                    function ys(t) { var e = t.ownerDocument.defaultView.getComputedStyle(t); return { top: parseInt(e.borderTopWidth, 10), right: parseInt(e.borderRightWidth, 10), bottom: parseInt(e.borderBottomWidth, 10), left: parseInt(e.borderLeftWidth, 10) }; }
                    var Cs = ["top", "right", "bottom", "left", "width", "height"];
                    var Ts = /** @class */ (function () {
                        function Ts(t) {
                            var e = vs(t);
                            if (Object.defineProperty(this, "_source", { value: t._source || t, writable: !0, enumerable: !1 }), qn(t) || e)
                                As(this, e ? Ts.getDomRangeRects(t)[0] : t.getBoundingClientRect());
                            else if (lr(t)) {
                                var e_153 = t.innerWidth, n_65 = t.innerHeight;
                                As(this, { top: 0, right: e_153, bottom: n_65, left: 0, width: e_153, height: n_65 });
                            }
                            else
                                As(this, t);
                        }
                        Ts.prototype.clone = function () { return new Ts(this); };
                        Ts.prototype.moveTo = function (t, e) { return this.top = e, this.right = t + this.width, this.bottom = e + this.height, this.left = t, this; };
                        Ts.prototype.moveBy = function (t, e) { return this.top += e, this.right += t, this.left += t, this.bottom += e, this; };
                        Ts.prototype.getIntersection = function (t) { var e = { top: Math.max(this.top, t.top), right: Math.min(this.right, t.right), bottom: Math.min(this.bottom, t.bottom), left: Math.max(this.left, t.left) }; return e.width = e.right - e.left, e.height = e.bottom - e.top, e.width < 0 || e.height < 0 ? null : new Ts(e); };
                        Ts.prototype.getIntersectionArea = function (t) { var e = this.getIntersection(t); return e ? e.getArea() : 0; };
                        Ts.prototype.getArea = function () { return this.width * this.height; };
                        Ts.prototype.getVisible = function () { var t = this._source; var e = this.clone(); if (!Ss(t)) {
                            var n_66 = t.parentNode || t.commonAncestorContainer;
                            for (; n_66 && !Ss(n_66);) {
                                var t_72 = new Ts(n_66), i_38 = e.getIntersection(t_72);
                                if (!i_38)
                                    return null;
                                i_38.getArea() < e.getArea() && (e = i_38), n_66 = n_66.parentNode;
                            }
                        } return e; };
                        Ts.prototype.isEqual = function (t) {
                            var e_154, _j;
                            try {
                                for (var Cs_1 = __values(Cs), Cs_1_1 = Cs_1.next(); !Cs_1_1.done; Cs_1_1 = Cs_1.next()) {
                                    var e_155 = Cs_1_1.value;
                                    if (this[e_155] !== t[e_155])
                                        return !1;
                                }
                            }
                            catch (e_154_1) { e_154 = { error: e_154_1 }; }
                            finally {
                                try {
                                    if (Cs_1_1 && !Cs_1_1.done && (_j = Cs_1.return)) _j.call(Cs_1);
                                }
                                finally { if (e_154) throw e_154.error; }
                            }
                            return !0;
                        };
                        Ts.prototype.contains = function (t) { var e = this.getIntersection(t); return !(!e || !e.isEqual(t)); };
                        Ts.prototype.excludeScrollbarsAndBorders = function () { var t = this._source; var e, n, i; if (lr(t))
                            e = t.innerWidth - t.document.documentElement.clientWidth, n = t.innerHeight - t.document.documentElement.clientHeight, i = t.getComputedStyle(t.document.documentElement).direction;
                        else {
                            var o_27 = ys(this._source);
                            e = t.offsetWidth - t.clientWidth - o_27.left - o_27.right, n = t.offsetHeight - t.clientHeight - o_27.top - o_27.bottom, i = t.ownerDocument.defaultView.getComputedStyle(t).direction, this.left += o_27.left, this.top += o_27.top, this.right -= o_27.right, this.bottom -= o_27.bottom, this.width = this.right - this.left, this.height = this.bottom - this.top;
                        } return this.width -= e, "ltr" === i ? this.right -= e : this.left += e, this.height -= n, this.bottom -= n, this; };
                        Ts.getDomRangeRects = function (t) {
                            var e_156, _j;
                            var e = [], n = Array.from(t.getClientRects());
                            if (n.length)
                                try {
                                    for (var n_67 = __values(n), n_67_1 = n_67.next(); !n_67_1.done; n_67_1 = n_67.next()) {
                                        var t_73 = n_67_1.value;
                                        e.push(new Ts(t_73));
                                    }
                                }
                                catch (e_156_1) { e_156 = { error: e_156_1 }; }
                                finally {
                                    try {
                                        if (n_67_1 && !n_67_1.done && (_j = n_67.return)) _j.call(n_67);
                                    }
                                    finally { if (e_156) throw e_156.error; }
                                }
                            else {
                                var n_68 = t.startContainer;
                                Lo(n_68) && (n_68 = n_68.parentNode);
                                var i_39 = new Ts(n_68.getBoundingClientRect());
                                i_39.right = i_39.left, i_39.width = 0, e.push(i_39);
                            }
                            return e;
                        };
                        return Ts;
                    }());
                    function As(t, e) {
                        var e_157, _j;
                        try {
                            for (var Cs_2 = __values(Cs), Cs_2_1 = Cs_2.next(); !Cs_2_1.done; Cs_2_1 = Cs_2.next()) {
                                var n_69 = Cs_2_1.value;
                                t[n_69] = e[n_69];
                            }
                        }
                        catch (e_157_1) { e_157 = { error: e_157_1 }; }
                        finally {
                            try {
                                if (Cs_2_1 && !Cs_2_1.done && (_j = Cs_2.return)) _j.call(Cs_2);
                            }
                            finally { if (e_157) throw e_157.error; }
                        }
                    }
                    function Ss(t) { return !!qn(t) && t === t.ownerDocument.body; }
                    function Ps(_j) {
                        var t = _j.target, _q = _j.viewportOffset, e = _q === void 0 ? 0 : _q;
                        var n = Ds(t);
                        var i = n, o = null;
                        for (; i;) {
                            var r_11 = void 0;
                            Es(r_11 = Ls(i == n ? t : o), function () { return Vs(t, i); });
                            var s_9 = Vs(t, i);
                            if (Ms(i, s_9, e), i.parent != i) {
                                if (o = i.frameElement, i = i.parent, !o)
                                    return;
                            }
                            else
                                i = null;
                        }
                    }
                    function Ms(t, e, n) { var i = e.clone().moveBy(0, n), o = e.clone().moveBy(0, -n), r = new Ts(t).excludeScrollbarsAndBorders(); if (![o, i].every(function (t) { return r.contains(t); })) {
                        var s_10 = t.scrollX, a_6 = t.scrollY;
                        Ns(o, r) ? a_6 -= r.top - e.top + n : Is(i, r) && (a_6 += e.bottom - r.bottom + n), Rs(e, r) ? s_10 -= r.left - e.left + n : Os(e, r) && (s_10 += e.right - r.right + n), t.scrollTo(s_10, a_6);
                    } }
                    function Es(t, e) { var n = Ds(t); var i, o; for (; t != n.document.body;)
                        o = e(), (i = new Ts(t).excludeScrollbarsAndBorders()).contains(o) || (Ns(o, i) ? t.scrollTop -= i.top - o.top : Is(o, i) && (t.scrollTop += o.bottom - i.bottom), Rs(o, i) ? t.scrollLeft -= i.left - o.left : Os(o, i) && (t.scrollLeft += o.right - i.right)), t = t.parentNode; }
                    function Is(t, e) { return t.bottom > e.bottom; }
                    function Ns(t, e) { return t.top < e.top; }
                    function Rs(t, e) { return t.left < e.left; }
                    function Os(t, e) { return t.right > e.right; }
                    function Ds(t) { return vs(t) ? t.startContainer.ownerDocument.defaultView : t.ownerDocument.defaultView; }
                    function Ls(t) { if (vs(t)) {
                        var e_158 = t.commonAncestorContainer;
                        return Lo(e_158) && (e_158 = e_158.parentNode), e_158;
                    } return t.parentNode; }
                    function Vs(t, e) { var n = Ds(t), i = new Ts(t); if (n === e)
                        return i; {
                        var t_74 = n;
                        for (; t_74 != e;) {
                            var e_159 = t_74.frameElement, n_70 = new Ts(e_159).excludeScrollbarsAndBorders();
                            i.moveBy(n_70.left, n_70.top), t_74 = t_74.parent;
                        }
                    } return i; }
                    Object.assign({}, { scrollViewportToShowTarget: Ps, scrollAncestorsToShowTarget: function (t) { Es(Ls(t), function () { return new Ts(t); }); } });
                    var zs = /** @class */ (function () {
                        function zs() {
                            var _this = this;
                            this.document = new ro, this.domConverter = new rr, this.domRoots = new Map, this.set("isRenderingInProgress", !1), this._renderer = new Zo(this.domConverter, this.document.selection), this._renderer.bind("isFocused").to(this.document), this._initialDomRootAttributes = new WeakMap, this._observers = new Map, this._ongoingChange = !1, this._postFixersInProgress = !1, this._renderingDisabled = !1, this._hasChangedSinceTheLastRendering = !1, this._writer = new Ao(this.document), this.addObserver(Xr), this.addObserver(bs), this.addObserver(ks), this.addObserver(ns), this.addObserver(xs), this.addObserver(ws), go.isAndroid && this.addObserver(_s), function (t) { t.document.on("keydown", Wo); }(this), yo(this), this.on("render", function () { _this._render(), _this.document.fire("layoutChanged"), _this._hasChangedSinceTheLastRendering = !1; }), this.listenTo(this.document.selection, "change", function () { _this._hasChangedSinceTheLastRendering = !0; });
                        }
                        zs.prototype.attachDomRoot = function (t, e) {
                            var _this = this;
                            var e_160, _j, e_161, _q;
                            if (e === void 0) { e = "main"; }
                            var n = this.document.getRoot(e);
                            n._name = t.tagName.toLowerCase();
                            var i = {};
                            try {
                                for (var _z = __values(Array.from(t.attributes)), _0 = _z.next(); !_0.done; _0 = _z.next()) {
                                    var _1 = _0.value, e_162 = _1.name, o_28 = _1.value;
                                    i[e_162] = o_28, "class" === e_162 ? this._writer.addClass(o_28.split(" "), n) : this._writer.setAttribute(e_162, o_28, n);
                                }
                            }
                            catch (e_160_1) { e_160 = { error: e_160_1 }; }
                            finally {
                                try {
                                    if (_0 && !_0.done && (_j = _z.return)) _j.call(_z);
                                }
                                finally { if (e_160) throw e_160.error; }
                            }
                            this._initialDomRootAttributes.set(t, i);
                            var o = function () { _this._writer.setAttribute("contenteditable", !n.isReadOnly, n), n.isReadOnly ? _this._writer.addClass("ck-read-only", n) : _this._writer.removeClass("ck-read-only", n); };
                            o(), this.domRoots.set(e, t), this.domConverter.bindElements(t, n), this._renderer.markToSync("children", n), this._renderer.markToSync("attributes", n), this._renderer.domDocuments.add(t.ownerDocument), n.on("change:children", function (t, e) { return _this._renderer.markToSync("children", e); }), n.on("change:attributes", function (t, e) { return _this._renderer.markToSync("attributes", e); }), n.on("change:text", function (t, e) { return _this._renderer.markToSync("text", e); }), n.on("change:isReadOnly", function () { return _this.change(o); }), n.on("change", function () { _this._hasChangedSinceTheLastRendering = !0; });
                            try {
                                for (var _2 = __values(this._observers.values()), _3 = _2.next(); !_3.done; _3 = _2.next()) {
                                    var n_71 = _3.value;
                                    n_71.observe(t, e);
                                }
                            }
                            catch (e_161_1) { e_161 = { error: e_161_1 }; }
                            finally {
                                try {
                                    if (_3 && !_3.done && (_q = _2.return)) _q.call(_2);
                                }
                                finally { if (e_161) throw e_161.error; }
                            }
                        };
                        zs.prototype.detachDomRoot = function (t) { var e = this.domRoots.get(t); Array.from(e.attributes).forEach(function (_j) {
                            var t = _j.name;
                            return e.removeAttribute(t);
                        }); var n = this._initialDomRootAttributes.get(e); for (var t_75 in n)
                            e.setAttribute(t_75, n[t_75]); this.domRoots.delete(t), this.domConverter.unbindDomElement(e); };
                        zs.prototype.getDomRoot = function (t) {
                            if (t === void 0) { t = "main"; }
                            return this.domRoots.get(t);
                        };
                        zs.prototype.addObserver = function (t) {
                            var e_163, _j;
                            var e = this._observers.get(t);
                            if (e)
                                return e;
                            e = new t(this), this._observers.set(t, e);
                            try {
                                for (var _q = __values(this.domRoots), _z = _q.next(); !_z.done; _z = _q.next()) {
                                    var _0 = __read(_z.value, 2), t_76 = _0[0], n_72 = _0[1];
                                    e.observe(n_72, t_76);
                                }
                            }
                            catch (e_163_1) { e_163 = { error: e_163_1 }; }
                            finally {
                                try {
                                    if (_z && !_z.done && (_j = _q.return)) _j.call(_q);
                                }
                                finally { if (e_163) throw e_163.error; }
                            }
                            return e.enable(), e;
                        };
                        zs.prototype.getObserver = function (t) { return this._observers.get(t); };
                        zs.prototype.disableObservers = function () {
                            var e_164, _j;
                            try {
                                for (var _q = __values(this._observers.values()), _z = _q.next(); !_z.done; _z = _q.next()) {
                                    var t_77 = _z.value;
                                    t_77.disable();
                                }
                            }
                            catch (e_164_1) { e_164 = { error: e_164_1 }; }
                            finally {
                                try {
                                    if (_z && !_z.done && (_j = _q.return)) _j.call(_q);
                                }
                                finally { if (e_164) throw e_164.error; }
                            }
                        };
                        zs.prototype.enableObservers = function () {
                            var e_165, _j;
                            try {
                                for (var _q = __values(this._observers.values()), _z = _q.next(); !_z.done; _z = _q.next()) {
                                    var t_78 = _z.value;
                                    t_78.enable();
                                }
                            }
                            catch (e_165_1) { e_165 = { error: e_165_1 }; }
                            finally {
                                try {
                                    if (_z && !_z.done && (_j = _q.return)) _j.call(_q);
                                }
                                finally { if (e_165) throw e_165.error; }
                            }
                        };
                        zs.prototype.scrollToTheSelection = function () { var t = this.document.selection.getFirstRange(); t && Ps({ target: this.domConverter.viewRangeToDom(t), viewportOffset: 20 }); };
                        zs.prototype.focus = function () { if (!this.document.isFocused) {
                            var t_79 = this.document.selection.editableElement;
                            t_79 && (this.domConverter.focus(t_79), this.forceRender());
                        } };
                        zs.prototype.change = function (t) { if (this.isRenderingInProgress || this._postFixersInProgress)
                            throw new Gn.b("cannot-change-view-tree: Attempting to make changes to the view when it is in an incorrect state: rendering or post-fixers are in progress. This may cause some unexpected behavior and inconsistency between the DOM and the view.", this); try {
                            if (this._ongoingChange)
                                return t(this._writer);
                            this._ongoingChange = !0;
                            var e_166 = t(this._writer);
                            return this._ongoingChange = !1, !this._renderingDisabled && this._hasChangedSinceTheLastRendering && (this._postFixersInProgress = !0, this.document._callPostFixers(this._writer), this._postFixersInProgress = !1, this.fire("render")), e_166;
                        }
                        catch (t) {
                            Gn.b.rethrowUnexpectedError(t, this);
                        } };
                        zs.prototype.forceRender = function () { this._hasChangedSinceTheLastRendering = !0, this.change(function () { }); };
                        zs.prototype.destroy = function () {
                            var e_167, _j;
                            try {
                                for (var _q = __values(this._observers.values()), _z = _q.next(); !_z.done; _z = _q.next()) {
                                    var t_80 = _z.value;
                                    t_80.destroy();
                                }
                            }
                            catch (e_167_1) { e_167 = { error: e_167_1 }; }
                            finally {
                                try {
                                    if (_z && !_z.done && (_j = _q.return)) _j.call(_q);
                                }
                                finally { if (e_167) throw e_167.error; }
                            }
                            this.document.destroy(), this.stopListening();
                        };
                        zs.prototype.createPositionAt = function (t, e) { return Zi._createAt(t, e); };
                        zs.prototype.createPositionAfter = function (t) { return Zi._createAfter(t); };
                        zs.prototype.createPositionBefore = function (t) { return Zi._createBefore(t); };
                        zs.prototype.createRange = function (t, e) { return new Xi(t, e); };
                        zs.prototype.createRangeOn = function (t) { return Xi._createOn(t); };
                        zs.prototype.createRangeIn = function (t) { return Xi._createIn(t); };
                        zs.prototype.createSelection = function (t, e, n) { return new no(t, e, n); };
                        zs.prototype._disableRendering = function (t) { this._renderingDisabled = t, 0 == t && this.change(function () { }); };
                        zs.prototype._render = function () { this.isRenderingInProgress = !0, this.disableObservers(), this._renderer.render(), this.enableObservers(), this.isRenderingInProgress = !1; };
                        return zs;
                    }());
                    function js(t) { return T(t) ? fi(t) : new Map(t); }
                    ci(zs, Bi);
                    var Fs = /** @class */ (function () {
                        function Fs(t) {
                            this.parent = null, this._attrs = js(t);
                        }
                        Object.defineProperty(Fs.prototype, "index", {
                            get: function () { var t; if (!this.parent)
                                return null; if (null === (t = this.parent.getChildIndex(this)))
                                throw new Gn.b("model-node-not-found-in-parent: The node's parent does not contain this node.", this); return t; },
                            enumerable: true,
                            configurable: true
                        });
                        Object.defineProperty(Fs.prototype, "startOffset", {
                            get: function () { var t; if (!this.parent)
                                return null; if (null === (t = this.parent.getChildStartOffset(this)))
                                throw new Gn.b("model-node-not-found-in-parent: The node's parent does not contain this node.", this); return t; },
                            enumerable: true,
                            configurable: true
                        });
                        Object.defineProperty(Fs.prototype, "offsetSize", {
                            get: function () { return 1; },
                            enumerable: true,
                            configurable: true
                        });
                        Object.defineProperty(Fs.prototype, "endOffset", {
                            get: function () { return this.parent ? this.startOffset + this.offsetSize : null; },
                            enumerable: true,
                            configurable: true
                        });
                        Object.defineProperty(Fs.prototype, "nextSibling", {
                            get: function () { var t = this.index; return null !== t && this.parent.getChild(t + 1) || null; },
                            enumerable: true,
                            configurable: true
                        });
                        Object.defineProperty(Fs.prototype, "previousSibling", {
                            get: function () { var t = this.index; return null !== t && this.parent.getChild(t - 1) || null; },
                            enumerable: true,
                            configurable: true
                        });
                        Object.defineProperty(Fs.prototype, "root", {
                            get: function () { var t = this; for (; t.parent;)
                                t = t.parent; return t; },
                            enumerable: true,
                            configurable: true
                        });
                        Object.defineProperty(Fs.prototype, "document", {
                            get: function () { return this.root == this ? null : this.root.document || null; },
                            enumerable: true,
                            configurable: true
                        });
                        Fs.prototype.getPath = function () { var t = []; var e = this; for (; e.parent;)
                            t.unshift(e.startOffset), e = e.parent; return t; };
                        Fs.prototype.getAncestors = function (t) {
                            if (t === void 0) { t = { includeSelf: !1, parentFirst: !1 }; }
                            var e = [];
                            var n = t.includeSelf ? this : this.parent;
                            for (; n;)
                                e[t.parentFirst ? "push" : "unshift"](n), n = n.parent;
                            return e;
                        };
                        Fs.prototype.getCommonAncestor = function (t, e) {
                            if (e === void 0) { e = {}; }
                            var n = this.getAncestors(e), i = t.getAncestors(e);
                            var o = 0;
                            for (; n[o] == i[o] && n[o];)
                                o++;
                            return 0 === o ? null : n[o - 1];
                        };
                        Fs.prototype.isBefore = function (t) { if (this == t)
                            return !1; if (this.root !== t.root)
                            return !1; var e = this.getPath(), n = t.getPath(), i = li(e, n); switch (i) {
                            case "prefix": return !0;
                            case "extension": return !1;
                            default: return e[i] < n[i];
                        } };
                        Fs.prototype.isAfter = function (t) { return this != t && (this.root === t.root && !this.isBefore(t)); };
                        Fs.prototype.hasAttribute = function (t) { return this._attrs.has(t); };
                        Fs.prototype.getAttribute = function (t) { return this._attrs.get(t); };
                        Fs.prototype.getAttributes = function () { return this._attrs.entries(); };
                        Fs.prototype.getAttributeKeys = function () { return this._attrs.keys(); };
                        Fs.prototype.toJSON = function () { var t = {}; return this._attrs.size && (t.attributes = Array.from(this._attrs).reduce(function (t, e) { return (t[e[0]] = e[1], t); }, {})), t; };
                        Fs.prototype.is = function (t) { return "node" == t || "model:node" == t; };
                        Fs.prototype._clone = function () { return new Fs(this._attrs); };
                        Fs.prototype._remove = function () { this.parent._removeChildren(this.index); };
                        Fs.prototype._setAttribute = function (t, e) { this._attrs.set(t, e); };
                        Fs.prototype._setAttributesTo = function (t) { this._attrs = js(t); };
                        Fs.prototype._removeAttribute = function (t) { return this._attrs.delete(t); };
                        Fs.prototype._clearAttributes = function () { this._attrs.clear(); };
                        return Fs;
                    }());
                    var Bs = /** @class */ (function (_super) {
                        __extends(Bs, _super);
                        function Bs(t, e) {
                            var _this = this;
                            _this = _super.call(this, e) || this, _this._data = t || "";
                            return _this;
                        }
                        Object.defineProperty(Bs.prototype, "offsetSize", {
                            get: function () { return this.data.length; },
                            enumerable: true,
                            configurable: true
                        });
                        Object.defineProperty(Bs.prototype, "data", {
                            get: function () { return this._data; },
                            enumerable: true,
                            configurable: true
                        });
                        Bs.prototype.is = function (t) { return "text" == t || "model:text" == t || _super.prototype.is.call(this, t); };
                        Bs.prototype.toJSON = function () { var t = _super.prototype.toJSON.call(this); return t.data = this.data, t; };
                        Bs.prototype._clone = function () { return new Bs(this.data, this.getAttributes()); };
                        Bs.fromJSON = function (t) { return new Bs(t.data, t.attributes); };
                        return Bs;
                    }(Fs));
                    var Hs = /** @class */ (function () {
                        function Hs(t, e, n) {
                            if (this.textNode = t, e < 0 || e > t.offsetSize)
                                throw new Gn.b("model-textproxy-wrong-offsetintext: Given offsetInText value is incorrect.", this);
                            if (n < 0 || e + n > t.offsetSize)
                                throw new Gn.b("model-textproxy-wrong-length: Given length value is incorrect.", this);
                            this.data = t.data.substring(e, e + n), this.offsetInText = e;
                        }
                        Object.defineProperty(Hs.prototype, "startOffset", {
                            get: function () { return null !== this.textNode.startOffset ? this.textNode.startOffset + this.offsetInText : null; },
                            enumerable: true,
                            configurable: true
                        });
                        Object.defineProperty(Hs.prototype, "offsetSize", {
                            get: function () { return this.data.length; },
                            enumerable: true,
                            configurable: true
                        });
                        Object.defineProperty(Hs.prototype, "endOffset", {
                            get: function () { return null !== this.startOffset ? this.startOffset + this.offsetSize : null; },
                            enumerable: true,
                            configurable: true
                        });
                        Object.defineProperty(Hs.prototype, "isPartial", {
                            get: function () { return this.offsetSize !== this.textNode.offsetSize; },
                            enumerable: true,
                            configurable: true
                        });
                        Object.defineProperty(Hs.prototype, "parent", {
                            get: function () { return this.textNode.parent; },
                            enumerable: true,
                            configurable: true
                        });
                        Object.defineProperty(Hs.prototype, "root", {
                            get: function () { return this.textNode.root; },
                            enumerable: true,
                            configurable: true
                        });
                        Object.defineProperty(Hs.prototype, "document", {
                            get: function () { return this.textNode.document; },
                            enumerable: true,
                            configurable: true
                        });
                        Hs.prototype.is = function (t) { return "textProxy" == t || "model:textProxy" == t; };
                        Hs.prototype.getPath = function () { var t = this.textNode.getPath(); return t.length > 0 && (t[t.length - 1] += this.offsetInText), t; };
                        Hs.prototype.getAncestors = function (t) {
                            if (t === void 0) { t = { includeSelf: !1, parentFirst: !1 }; }
                            var e = [];
                            var n = t.includeSelf ? this : this.parent;
                            for (; n;)
                                e[t.parentFirst ? "push" : "unshift"](n), n = n.parent;
                            return e;
                        };
                        Hs.prototype.hasAttribute = function (t) { return this.textNode.hasAttribute(t); };
                        Hs.prototype.getAttribute = function (t) { return this.textNode.getAttribute(t); };
                        Hs.prototype.getAttributes = function () { return this.textNode.getAttributes(); };
                        Hs.prototype.getAttributeKeys = function () { return this.textNode.getAttributeKeys(); };
                        return Hs;
                    }());
                    var Us = /** @class */ (function () {
                        function Us(t) {
                            this._nodes = [], t && this._insertNodes(0, t);
                        }
                        Us.prototype[Symbol.iterator] = function () { return this._nodes[Symbol.iterator](); };
                        Object.defineProperty(Us.prototype, "length", {
                            get: function () { return this._nodes.length; },
                            enumerable: true,
                            configurable: true
                        });
                        Object.defineProperty(Us.prototype, "maxOffset", {
                            get: function () { return this._nodes.reduce(function (t, e) { return t + e.offsetSize; }, 0); },
                            enumerable: true,
                            configurable: true
                        });
                        Us.prototype.getNode = function (t) { return this._nodes[t] || null; };
                        Us.prototype.getNodeIndex = function (t) { var e = this._nodes.indexOf(t); return -1 == e ? null : e; };
                        Us.prototype.getNodeStartOffset = function (t) { var e = this.getNodeIndex(t); return null === e ? null : this._nodes.slice(0, e).reduce(function (t, e) { return t + e.offsetSize; }, 0); };
                        Us.prototype.indexToOffset = function (t) { if (t == this._nodes.length)
                            return this.maxOffset; var e = this._nodes[t]; if (!e)
                            throw new Gn.b("model-nodelist-index-out-of-bounds: Given index cannot be found in the node list.", this); return this.getNodeStartOffset(e); };
                        Us.prototype.offsetToIndex = function (t) {
                            var e_168, _j;
                            var e = 0;
                            try {
                                for (var _q = __values(this._nodes), _z = _q.next(); !_z.done; _z = _q.next()) {
                                    var n_73 = _z.value;
                                    if (t >= e && t < e + n_73.offsetSize)
                                        return this.getNodeIndex(n_73);
                                    e += n_73.offsetSize;
                                }
                            }
                            catch (e_168_1) { e_168 = { error: e_168_1 }; }
                            finally {
                                try {
                                    if (_z && !_z.done && (_j = _q.return)) _j.call(_q);
                                }
                                finally { if (e_168) throw e_168.error; }
                            }
                            if (e != t)
                                throw new Gn.b("model-nodelist-offset-out-of-bounds: Given offset cannot be found in the node list.", this, { offset: t, nodeList: this });
                            return this.length;
                        };
                        Us.prototype._insertNodes = function (t, e) {
                            var e_169, _j, _q;
                            try {
                                for (var e_170 = __values(e), e_170_1 = e_170.next(); !e_170_1.done; e_170_1 = e_170.next()) {
                                    var t_81 = e_170_1.value;
                                    if (!(t_81 instanceof Fs))
                                        throw new Gn.b("model-nodelist-insertNodes-not-node: Trying to insert an object which is not a Node instance.", this);
                                }
                            }
                            catch (e_169_1) { e_169 = { error: e_169_1 }; }
                            finally {
                                try {
                                    if (e_170_1 && !e_170_1.done && (_j = e_170.return)) _j.call(e_170);
                                }
                                finally { if (e_169) throw e_169.error; }
                            }
                            (_q = this._nodes).splice.apply(_q, __spread([t, 0], e));
                        };
                        Us.prototype._removeNodes = function (t, e) {
                            if (e === void 0) { e = 1; }
                            return this._nodes.splice(t, e);
                        };
                        Us.prototype.toJSON = function () { return this._nodes.map(function (t) { return t.toJSON(); }); };
                        return Us;
                    }());
                    var Ws = /** @class */ (function (_super) {
                        __extends(Ws, _super);
                        function Ws(t, e, n) {
                            var _this = this;
                            _this = _super.call(this, e) || this, _this.name = t, _this._children = new Us, n && _this._insertChild(0, n);
                            return _this;
                        }
                        Object.defineProperty(Ws.prototype, "childCount", {
                            get: function () { return this._children.length; },
                            enumerable: true,
                            configurable: true
                        });
                        Object.defineProperty(Ws.prototype, "maxOffset", {
                            get: function () { return this._children.maxOffset; },
                            enumerable: true,
                            configurable: true
                        });
                        Object.defineProperty(Ws.prototype, "isEmpty", {
                            get: function () { return 0 === this.childCount; },
                            enumerable: true,
                            configurable: true
                        });
                        Ws.prototype.is = function (t, e) {
                            if (e === void 0) { e = null; }
                            var n = t.replace(/^model:/, "");
                            return e ? "element" == n && e == this.name : "element" == n || n == this.name || _super.prototype.is.call(this, t);
                        };
                        Ws.prototype.getChild = function (t) { return this._children.getNode(t); };
                        Ws.prototype.getChildren = function () { return this._children[Symbol.iterator](); };
                        Ws.prototype.getChildIndex = function (t) { return this._children.getNodeIndex(t); };
                        Ws.prototype.getChildStartOffset = function (t) { return this._children.getNodeStartOffset(t); };
                        Ws.prototype.offsetToIndex = function (t) { return this._children.offsetToIndex(t); };
                        Ws.prototype.getNodeByPath = function (t) {
                            var e_171, _j;
                            var e = this;
                            try {
                                for (var t_82 = __values(t), t_82_1 = t_82.next(); !t_82_1.done; t_82_1 = t_82.next()) {
                                    var n_74 = t_82_1.value;
                                    e = e.getChild(e.offsetToIndex(n_74));
                                }
                            }
                            catch (e_171_1) { e_171 = { error: e_171_1 }; }
                            finally {
                                try {
                                    if (t_82_1 && !t_82_1.done && (_j = t_82.return)) _j.call(t_82);
                                }
                                finally { if (e_171) throw e_171.error; }
                            }
                            return e;
                        };
                        Ws.prototype.toJSON = function () {
                            var e_172, _j;
                            var t = _super.prototype.toJSON.call(this);
                            if (t.name = this.name, this._children.length > 0) {
                                t.children = [];
                                try {
                                    for (var _q = __values(this._children), _z = _q.next(); !_z.done; _z = _q.next()) {
                                        var e_173 = _z.value;
                                        t.children.push(e_173.toJSON());
                                    }
                                }
                                catch (e_172_1) { e_172 = { error: e_172_1 }; }
                                finally {
                                    try {
                                        if (_z && !_z.done && (_j = _q.return)) _j.call(_q);
                                    }
                                    finally { if (e_172) throw e_172.error; }
                                }
                            }
                            return t;
                        };
                        Ws.prototype._clone = function (t) {
                            if (t === void 0) { t = !1; }
                            var e = t ? Array.from(this._children).map(function (t) { return t._clone(!0); }) : null;
                            return new Ws(this.name, this.getAttributes(), e);
                        };
                        Ws.prototype._appendChild = function (t) { this._insertChild(this.childCount, t); };
                        Ws.prototype._insertChild = function (t, e) {
                            var e_174, _j;
                            var n = function (t) { if ("string" == typeof t)
                                return [new Bs(t)]; pi(t) || (t = [t]); return Array.from(t).map(function (t) { return "string" == typeof t ? new Bs(t) : t instanceof Hs ? new Bs(t.data, t.getAttributes()) : t; }); }(e);
                            try {
                                for (var n_75 = __values(n), n_75_1 = n_75.next(); !n_75_1.done; n_75_1 = n_75.next()) {
                                    var t_83 = n_75_1.value;
                                    null !== t_83.parent && t_83._remove(), t_83.parent = this;
                                }
                            }
                            catch (e_174_1) { e_174 = { error: e_174_1 }; }
                            finally {
                                try {
                                    if (n_75_1 && !n_75_1.done && (_j = n_75.return)) _j.call(n_75);
                                }
                                finally { if (e_174) throw e_174.error; }
                            }
                            this._children._insertNodes(t, n);
                        };
                        Ws.prototype._removeChildren = function (t, e) {
                            var e_175, _j;
                            if (e === void 0) { e = 1; }
                            var n = this._children._removeNodes(t, e);
                            try {
                                for (var n_76 = __values(n), n_76_1 = n_76.next(); !n_76_1.done; n_76_1 = n_76.next()) {
                                    var t_84 = n_76_1.value;
                                    t_84.parent = null;
                                }
                            }
                            catch (e_175_1) { e_175 = { error: e_175_1 }; }
                            finally {
                                try {
                                    if (n_76_1 && !n_76_1.done && (_j = n_76.return)) _j.call(n_76);
                                }
                                finally { if (e_175) throw e_175.error; }
                            }
                            return n;
                        };
                        Ws.fromJSON = function (t) {
                            var e_176, _j;
                            var e = null;
                            if (t.children) {
                                e = [];
                                try {
                                    for (var _q = __values(t.children), _z = _q.next(); !_z.done; _z = _q.next()) {
                                        var n_77 = _z.value;
                                        n_77.name ? e.push(Ws.fromJSON(n_77)) : e.push(Bs.fromJSON(n_77));
                                    }
                                }
                                catch (e_176_1) { e_176 = { error: e_176_1 }; }
                                finally {
                                    try {
                                        if (_z && !_z.done && (_j = _q.return)) _j.call(_q);
                                    }
                                    finally { if (e_176) throw e_176.error; }
                                }
                            }
                            return new Ws(t.name, t.attributes, e);
                        };
                        return Ws;
                    }(Fs));
                    var qs = /** @class */ (function () {
                        function qs(t) {
                            if (t === void 0) { t = {}; }
                            if (!t.boundaries && !t.startPosition)
                                throw new Gn.b("model-tree-walker-no-start-position: Neither boundaries nor starting position have been defined.", null);
                            var e = t.direction || "forward";
                            if ("forward" != e && "backward" != e)
                                throw new Gn.b("model-tree-walker-unknown-direction: Only `backward` and `forward` direction allowed.", t, { direction: e });
                            this.direction = e, this.boundaries = t.boundaries || null, t.startPosition ? this.position = t.startPosition.clone() : this.position = Gs._createAt(this.boundaries["backward" == this.direction ? "end" : "start"]), this.position.stickiness = "toNone", this.singleCharacters = !!t.singleCharacters, this.shallow = !!t.shallow, this.ignoreElementEnd = !!t.ignoreElementEnd, this._boundaryStartParent = this.boundaries ? this.boundaries.start.parent : null, this._boundaryEndParent = this.boundaries ? this.boundaries.end.parent : null, this._visitedParent = this.position.parent;
                        }
                        qs.prototype[Symbol.iterator] = function () { return this; };
                        qs.prototype.skip = function (t) {
                            var _j;
                            var e, n, i, o;
                            do {
                                i = this.position, o = this._visitedParent, (_j = this.next(), e = _j.done, n = _j.value, _j);
                            } while (!e && t(n));
                            e || (this.position = i, this._visitedParent = o);
                        };
                        qs.prototype.next = function () { return "forward" == this.direction ? this._next() : this._previous(); };
                        qs.prototype._next = function () { var t = this.position, e = this.position.clone(), n = this._visitedParent; if (null === n.parent && e.offset === n.maxOffset)
                            return { done: !0 }; if (n === this._boundaryEndParent && e.offset == this.boundaries.end.offset)
                            return { done: !0 }; var i = e.textNode ? e.textNode : e.nodeAfter; if (i instanceof Ws)
                            return this.shallow ? e.offset++ : (e.path.push(0), this._visitedParent = i), this.position = e, Ys("elementStart", i, t, e, 1); if (i instanceof Bs) {
                            var o_29;
                            if (this.singleCharacters)
                                o_29 = 1;
                            else {
                                var t_85 = i.endOffset;
                                this._boundaryEndParent == n && this.boundaries.end.offset < t_85 && (t_85 = this.boundaries.end.offset), o_29 = t_85 - e.offset;
                            }
                            var r_12 = e.offset - i.startOffset, s_11 = new Hs(i, r_12, o_29);
                            return e.offset += o_29, this.position = e, Ys("text", s_11, t, e, o_29);
                        } return e.path.pop(), e.offset++, this.position = e, this._visitedParent = n.parent, this.ignoreElementEnd ? this._next() : Ys("elementEnd", n, t, e); };
                        qs.prototype._previous = function () { var t = this.position, e = this.position.clone(), n = this._visitedParent; if (null === n.parent && 0 === e.offset)
                            return { done: !0 }; if (n == this._boundaryStartParent && e.offset == this.boundaries.start.offset)
                            return { done: !0 }; var i = e.textNode ? e.textNode : e.nodeBefore; if (i instanceof Ws)
                            return e.offset--, this.shallow ? (this.position = e, Ys("elementStart", i, t, e, 1)) : (e.path.push(i.maxOffset), this.position = e, this._visitedParent = i, this.ignoreElementEnd ? this._previous() : Ys("elementEnd", i, t, e)); if (i instanceof Bs) {
                            var o_30;
                            if (this.singleCharacters)
                                o_30 = 1;
                            else {
                                var t_86 = i.startOffset;
                                this._boundaryStartParent == n && this.boundaries.start.offset > t_86 && (t_86 = this.boundaries.start.offset), o_30 = e.offset - t_86;
                            }
                            var r_13 = e.offset - i.startOffset, s_12 = new Hs(i, r_13 - o_30, o_30);
                            return e.offset -= o_30, this.position = e, Ys("text", s_12, t, e, o_30);
                        } return e.path.pop(), this.position = e, this._visitedParent = n.parent, Ys("elementStart", n, t, e, 1); };
                        return qs;
                    }());
                    function Ys(t, e, n, i, o) { return { done: !1, value: { type: t, item: e, previousPosition: n, nextPosition: i, length: o } }; }
                    var $s = function (t) { var e = null == t ? 0 : t.length; return e ? t[e - 1] : void 0; };
                    var Gs = /** @class */ (function () {
                        function Gs(t, e, n) {
                            if (n === void 0) { n = "toNone"; }
                            if (!t.is("element") && !t.is("documentFragment"))
                                throw new Gn.b("model-position-root-invalid: Position root invalid.", t);
                            if (!(e instanceof Array) || 0 === e.length)
                                throw new Gn.b("model-position-path-incorrect-format: Position path must be an array with at least one item.", t, { path: e });
                            e = t.getPath().concat(e), t = t.root, this.root = t, this.path = e, this.stickiness = n;
                        }
                        Object.defineProperty(Gs.prototype, "offset", {
                            get: function () { return $s(this.path); },
                            set: function (t) { this.path[this.path.length - 1] = t; },
                            enumerable: true,
                            configurable: true
                        });
                        Object.defineProperty(Gs.prototype, "parent", {
                            get: function () { var t = this.root; for (var e_177 = 0; e_177 < this.path.length - 1; e_177++)
                                if (!(t = t.getChild(t.offsetToIndex(this.path[e_177]))))
                                    throw new Gn.b("model-position-path-incorrect: The position's path is incorrect.", this, { position: this }); if (t.is("text"))
                                throw new Gn.b("model-position-path-incorrect: The position's path is incorrect.", this, { position: this }); return t; },
                            enumerable: true,
                            configurable: true
                        });
                        Object.defineProperty(Gs.prototype, "index", {
                            get: function () { return this.parent.offsetToIndex(this.offset); },
                            enumerable: true,
                            configurable: true
                        });
                        Object.defineProperty(Gs.prototype, "textNode", {
                            get: function () { var t = this.parent.getChild(this.index); return t instanceof Bs && t.startOffset < this.offset ? t : null; },
                            enumerable: true,
                            configurable: true
                        });
                        Object.defineProperty(Gs.prototype, "nodeAfter", {
                            get: function () { return null === this.textNode ? this.parent.getChild(this.index) : null; },
                            enumerable: true,
                            configurable: true
                        });
                        Object.defineProperty(Gs.prototype, "nodeBefore", {
                            get: function () { return null === this.textNode ? this.parent.getChild(this.index - 1) : null; },
                            enumerable: true,
                            configurable: true
                        });
                        Object.defineProperty(Gs.prototype, "isAtStart", {
                            get: function () { return 0 === this.offset; },
                            enumerable: true,
                            configurable: true
                        });
                        Object.defineProperty(Gs.prototype, "isAtEnd", {
                            get: function () { return this.offset == this.parent.maxOffset; },
                            enumerable: true,
                            configurable: true
                        });
                        Gs.prototype.compareWith = function (t) { if (this.root != t.root)
                            return "different"; var e = li(this.path, t.path); switch (e) {
                            case "same": return "same";
                            case "prefix": return "before";
                            case "extension": return "after";
                            default: return this.path[e] < t.path[e] ? "before" : "after";
                        } };
                        Gs.prototype.getLastMatchingPosition = function (t, e) {
                            if (e === void 0) { e = {}; }
                            e.startPosition = this;
                            var n = new qs(e);
                            return n.skip(t), n.position;
                        };
                        Gs.prototype.getParentPath = function () { return this.path.slice(0, -1); };
                        Gs.prototype.getAncestors = function () { return this.parent.is("documentFragment") ? [this.parent] : this.parent.getAncestors({ includeSelf: !0 }); };
                        Gs.prototype.getCommonPath = function (t) { if (this.root != t.root)
                            return []; var e = li(this.path, t.path), n = "string" == typeof e ? Math.min(this.path.length, t.path.length) : e; return this.path.slice(0, n); };
                        Gs.prototype.getCommonAncestor = function (t) { var e = this.getAncestors(), n = t.getAncestors(); var i = 0; for (; e[i] == n[i] && e[i];)
                            i++; return 0 === i ? null : e[i - 1]; };
                        Gs.prototype.getShiftedBy = function (t) { var e = this.clone(), n = e.offset + t; return e.offset = n < 0 ? 0 : n, e; };
                        Gs.prototype.isAfter = function (t) { return "after" == this.compareWith(t); };
                        Gs.prototype.isBefore = function (t) { return "before" == this.compareWith(t); };
                        Gs.prototype.isEqual = function (t) { return "same" == this.compareWith(t); };
                        Gs.prototype.isTouching = function (t) { var e = null, n = null; switch (this.compareWith(t)) {
                            case "same": return !0;
                            case "before":
                                e = Gs._createAt(this), n = Gs._createAt(t);
                                break;
                            case "after":
                                e = Gs._createAt(t), n = Gs._createAt(this);
                                break;
                            default: return !1;
                        } var i = e.parent; for (; e.path.length + n.path.length;) {
                            if (e.isEqual(n))
                                return !0;
                            if (e.path.length > n.path.length) {
                                if (e.offset !== i.maxOffset)
                                    return !1;
                                e.path = e.path.slice(0, -1), i = i.parent, e.offset++;
                            }
                            else {
                                if (0 !== n.offset)
                                    return !1;
                                n.path = n.path.slice(0, -1);
                            }
                        } };
                        Gs.prototype.is = function (t) { return "position" == t || "model:position" == t; };
                        Gs.prototype.hasSameParentAs = function (t) { if (this.root !== t.root)
                            return !1; return "same" == li(this.getParentPath(), t.getParentPath()); };
                        Gs.prototype.getTransformedByOperation = function (t) { var e; switch (t.type) {
                            case "insert":
                                e = this._getTransformedByInsertOperation(t);
                                break;
                            case "move":
                            case "remove":
                            case "reinsert":
                                e = this._getTransformedByMoveOperation(t);
                                break;
                            case "split":
                                e = this._getTransformedBySplitOperation(t);
                                break;
                            case "merge":
                                e = this._getTransformedByMergeOperation(t);
                                break;
                            default: e = Gs._createAt(this);
                        } return e; };
                        Gs.prototype._getTransformedByInsertOperation = function (t) { return this._getTransformedByInsertion(t.position, t.howMany); };
                        Gs.prototype._getTransformedByMoveOperation = function (t) { return this._getTransformedByMove(t.sourcePosition, t.targetPosition, t.howMany); };
                        Gs.prototype._getTransformedBySplitOperation = function (t) { var e = t.movedRange; return e.containsPosition(this) || e.start.isEqual(this) && "toNext" == this.stickiness ? this._getCombined(t.splitPosition, t.moveTargetPosition) : t.graveyardPosition ? this._getTransformedByMove(t.graveyardPosition, t.insertionPosition, 1) : this._getTransformedByInsertion(t.insertionPosition, 1); };
                        Gs.prototype._getTransformedByMergeOperation = function (t) { var e = t.movedRange; var n; return e.containsPosition(this) || e.start.isEqual(this) ? (n = this._getCombined(t.sourcePosition, t.targetPosition), t.sourcePosition.isBefore(t.targetPosition) && (n = n._getTransformedByDeletion(t.deletionPosition, 1))) : n = this.isEqual(t.deletionPosition) ? Gs._createAt(t.deletionPosition) : this._getTransformedByMove(t.deletionPosition, t.graveyardPosition, 1), n; };
                        Gs.prototype._getTransformedByDeletion = function (t, e) { var n = Gs._createAt(this); if (this.root != t.root)
                            return n; if ("same" == li(t.getParentPath(), this.getParentPath())) {
                            if (t.offset < this.offset) {
                                if (t.offset + e > this.offset)
                                    return null;
                                n.offset -= e;
                            }
                        }
                        else if ("prefix" == li(t.getParentPath(), this.getParentPath())) {
                            var i_40 = t.path.length - 1;
                            if (t.offset <= this.path[i_40]) {
                                if (t.offset + e > this.path[i_40])
                                    return null;
                                n.path[i_40] -= e;
                            }
                        } return n; };
                        Gs.prototype._getTransformedByInsertion = function (t, e) { var n = Gs._createAt(this); if (this.root != t.root)
                            return n; if ("same" == li(t.getParentPath(), this.getParentPath()))
                            (t.offset < this.offset || t.offset == this.offset && "toPrevious" != this.stickiness) && (n.offset += e);
                        else if ("prefix" == li(t.getParentPath(), this.getParentPath())) {
                            var i_41 = t.path.length - 1;
                            t.offset <= this.path[i_41] && (n.path[i_41] += e);
                        } return n; };
                        Gs.prototype._getTransformedByMove = function (t, e, n) { if (e = e._getTransformedByDeletion(t, n), t.isEqual(e))
                            return Gs._createAt(this); var i = this._getTransformedByDeletion(t, n); return null === i || t.isEqual(this) && "toNext" == this.stickiness || t.getShiftedBy(n).isEqual(this) && "toPrevious" == this.stickiness ? this._getCombined(t, e) : i._getTransformedByInsertion(e, n); };
                        Gs.prototype._getCombined = function (t, e) { var n = t.path.length - 1, i = Gs._createAt(e); return i.stickiness = this.stickiness, i.offset = i.offset + this.path[n] - t.offset, i.path = i.path.concat(this.path.slice(n + 1)), i; };
                        Gs.prototype.toJSON = function () { return { root: this.root.toJSON(), path: Array.from(this.path), stickiness: this.stickiness }; };
                        Gs.prototype.clone = function () { return new this.constructor(this.root, this.path, this.stickiness); };
                        Gs._createAt = function (t, e, n) {
                            if (n === void 0) { n = "toNone"; }
                            if (t instanceof Gs)
                                return new Gs(t.root, t.path, t.stickiness);
                            {
                                var i_42 = t;
                                if ("end" == e)
                                    e = i_42.maxOffset;
                                else {
                                    if ("before" == e)
                                        return this._createBefore(i_42, n);
                                    if ("after" == e)
                                        return this._createAfter(i_42, n);
                                    if (0 !== e && !e)
                                        throw new Gn.b("model-createPositionAt-offset-required: Model#createPositionAt() requires the offset when the first parameter is a model item.", [this, t]);
                                }
                                if (!i_42.is("element") && !i_42.is("documentFragment"))
                                    throw new Gn.b("model-position-parent-incorrect: Position parent have to be a element or document fragment.", [this, t]);
                                var o_31 = i_42.getPath();
                                return o_31.push(e), new this(i_42.root, o_31, n);
                            }
                        };
                        Gs._createAfter = function (t, e) { if (!t.parent)
                            throw new Gn.b("model-position-after-root: You cannot make a position after root.", [this, t], { root: t }); return this._createAt(t.parent, t.endOffset, e); };
                        Gs._createBefore = function (t, e) { if (!t.parent)
                            throw new Gn.b("model-position-before-root: You cannot make a position before root.", t, { root: t }); return this._createAt(t.parent, t.startOffset, e); };
                        Gs.fromJSON = function (t, e) { if ("$graveyard" === t.root) {
                            var n_78 = new Gs(e.graveyard, t.path);
                            return n_78.stickiness = t.stickiness, n_78;
                        } if (!e.getRoot(t.root))
                            throw new Gn.b("model-position-fromjson-no-root: Cannot create position for document. Root with specified name does not exist.", e, { rootName: t.root }); return new Gs(e.getRoot(t.root), t.path, t.stickiness); };
                        return Gs;
                    }());
                    var Ks = /** @class */ (function () {
                        function Ks(t, e) {
                            if (e === void 0) { e = null; }
                            this.start = Gs._createAt(t), this.end = e ? Gs._createAt(e) : Gs._createAt(t), this.start.stickiness = this.isCollapsed ? "toNone" : "toNext", this.end.stickiness = this.isCollapsed ? "toNone" : "toPrevious";
                        }
                        Ks.prototype[Symbol.iterator] = function () { return __generator(this, function (_j) {
                            switch (_j.label) {
                                case 0: return [5 /*yield**/, __values(new qs({ boundaries: this, ignoreElementEnd: !0 }))];
                                case 1:
                                    _j.sent();
                                    return [2 /*return*/];
                            }
                        }); };
                        Object.defineProperty(Ks.prototype, "isCollapsed", {
                            get: function () { return this.start.isEqual(this.end); },
                            enumerable: true,
                            configurable: true
                        });
                        Object.defineProperty(Ks.prototype, "isFlat", {
                            get: function () { return "same" == li(this.start.getParentPath(), this.end.getParentPath()); },
                            enumerable: true,
                            configurable: true
                        });
                        Object.defineProperty(Ks.prototype, "root", {
                            get: function () { return this.start.root; },
                            enumerable: true,
                            configurable: true
                        });
                        Ks.prototype.containsPosition = function (t) { return t.isAfter(this.start) && t.isBefore(this.end); };
                        Ks.prototype.containsRange = function (t, e) {
                            if (e === void 0) { e = !1; }
                            t.isCollapsed && (e = !1);
                            var n = this.containsPosition(t.start) || e && this.start.isEqual(t.start), i = this.containsPosition(t.end) || e && this.end.isEqual(t.end);
                            return n && i;
                        };
                        Ks.prototype.containsItem = function (t) { var e = Gs._createBefore(t); return this.containsPosition(e) || this.start.isEqual(e); };
                        Ks.prototype.is = function (t) { return "range" == t || "model:range" == t; };
                        Ks.prototype.isEqual = function (t) { return this.start.isEqual(t.start) && this.end.isEqual(t.end); };
                        Ks.prototype.isIntersecting = function (t) { return this.start.isBefore(t.end) && this.end.isAfter(t.start); };
                        Ks.prototype.getDifference = function (t) { var e = []; return this.isIntersecting(t) ? (this.containsPosition(t.start) && e.push(new Ks(this.start, t.start)), this.containsPosition(t.end) && e.push(new Ks(t.end, this.end))) : e.push(new Ks(this.start, this.end)), e; };
                        Ks.prototype.getIntersection = function (t) { if (this.isIntersecting(t)) {
                            var e_178 = this.start, n_79 = this.end;
                            return this.containsPosition(t.start) && (e_178 = t.start), this.containsPosition(t.end) && (n_79 = t.end), new Ks(e_178, n_79);
                        } return null; };
                        Ks.prototype.getMinimalFlatRanges = function () { var t = [], e = this.start.getCommonPath(this.end).length, n = Gs._createAt(this.start); var i = n.parent; for (; n.path.length > e + 1;) {
                            var e_179 = i.maxOffset - n.offset;
                            0 !== e_179 && t.push(new Ks(n, n.getShiftedBy(e_179))), n.path = n.path.slice(0, -1), n.offset++, i = i.parent;
                        } for (; n.path.length <= this.end.path.length;) {
                            var e_180 = this.end.path[n.path.length - 1], i_43 = e_180 - n.offset;
                            0 !== i_43 && t.push(new Ks(n, n.getShiftedBy(i_43))), n.offset = e_180, n.path.push(0);
                        } return t; };
                        Ks.prototype.getWalker = function (t) {
                            if (t === void 0) { t = {}; }
                            return t.boundaries = this, new qs(t);
                        };
                        Ks.prototype.getItems = function (t) {
                            var e_181, _j, e, e_182, e_182_1, t_87, e_181_1;
                            return __generator(this, function (_q) {
                                switch (_q.label) {
                                    case 0:
                                        if (t === void 0) { t = {}; }
                                        t.boundaries = this, t.ignoreElementEnd = !0;
                                        e = new qs(t);
                                        _q.label = 1;
                                    case 1:
                                        _q.trys.push([1, 6, 7, 8]);
                                        e_182 = __values(e), e_182_1 = e_182.next();
                                        _q.label = 2;
                                    case 2:
                                        if (!!e_182_1.done) return [3 /*break*/, 5];
                                        t_87 = e_182_1.value;
                                        return [4 /*yield*/, t_87.item];
                                    case 3:
                                        _q.sent();
                                        _q.label = 4;
                                    case 4:
                                        e_182_1 = e_182.next();
                                        return [3 /*break*/, 2];
                                    case 5: return [3 /*break*/, 8];
                                    case 6:
                                        e_181_1 = _q.sent();
                                        e_181 = { error: e_181_1 };
                                        return [3 /*break*/, 8];
                                    case 7:
                                        try {
                                            if (e_182_1 && !e_182_1.done && (_j = e_182.return)) _j.call(e_182);
                                        }
                                        finally { if (e_181) throw e_181.error; }
                                        return [7 /*endfinally*/];
                                    case 8: return [2 /*return*/];
                                }
                            });
                        };
                        Ks.prototype.getPositions = function (t) {
                            var e_183, _j, e, e_184, e_184_1, t_88, e_183_1;
                            return __generator(this, function (_q) {
                                switch (_q.label) {
                                    case 0:
                                        if (t === void 0) { t = {}; }
                                        t.boundaries = this;
                                        e = new qs(t);
                                        return [4 /*yield*/, e.position];
                                    case 1:
                                        _q.sent();
                                        _q.label = 2;
                                    case 2:
                                        _q.trys.push([2, 7, 8, 9]);
                                        e_184 = __values(e), e_184_1 = e_184.next();
                                        _q.label = 3;
                                    case 3:
                                        if (!!e_184_1.done) return [3 /*break*/, 6];
                                        t_88 = e_184_1.value;
                                        return [4 /*yield*/, t_88.nextPosition];
                                    case 4:
                                        _q.sent();
                                        _q.label = 5;
                                    case 5:
                                        e_184_1 = e_184.next();
                                        return [3 /*break*/, 3];
                                    case 6: return [3 /*break*/, 9];
                                    case 7:
                                        e_183_1 = _q.sent();
                                        e_183 = { error: e_183_1 };
                                        return [3 /*break*/, 9];
                                    case 8:
                                        try {
                                            if (e_184_1 && !e_184_1.done && (_j = e_184.return)) _j.call(e_184);
                                        }
                                        finally { if (e_183) throw e_183.error; }
                                        return [7 /*endfinally*/];
                                    case 9: return [2 /*return*/];
                                }
                            });
                        };
                        Ks.prototype.getTransformedByOperation = function (t) { switch (t.type) {
                            case "insert": return this._getTransformedByInsertOperation(t);
                            case "move":
                            case "remove":
                            case "reinsert": return this._getTransformedByMoveOperation(t);
                            case "split": return [this._getTransformedBySplitOperation(t)];
                            case "merge": return [this._getTransformedByMergeOperation(t)];
                        } return [new Ks(this.start, this.end)]; };
                        Ks.prototype.getTransformedByOperations = function (t) {
                            var e_185, _j;
                            var e = [new Ks(this.start, this.end)];
                            try {
                                for (var t_89 = __values(t), t_89_1 = t_89.next(); !t_89_1.done; t_89_1 = t_89.next()) {
                                    var n_80 = t_89_1.value;
                                    for (var t_90 = 0; t_90 < e.length; t_90++) {
                                        var i_44 = e[t_90].getTransformedByOperation(n_80);
                                        e.splice.apply(e, __spread([t_90, 1], i_44)), t_90 += i_44.length - 1;
                                    }
                                }
                            }
                            catch (e_185_1) { e_185 = { error: e_185_1 }; }
                            finally {
                                try {
                                    if (t_89_1 && !t_89_1.done && (_j = t_89.return)) _j.call(t_89);
                                }
                                finally { if (e_185) throw e_185.error; }
                            }
                            for (var t_91 = 0; t_91 < e.length; t_91++) {
                                var n_81 = e[t_91];
                                for (var i_45 = t_91 + 1; i_45 < e.length; i_45++) {
                                    var t_92 = e[i_45];
                                    (n_81.containsRange(t_92) || t_92.containsRange(n_81) || n_81.isEqual(t_92)) && e.splice(i_45, 1);
                                }
                            }
                            return e;
                        };
                        Ks.prototype.getCommonAncestor = function () { return this.start.getCommonAncestor(this.end); };
                        Ks.prototype.toJSON = function () { return { start: this.start.toJSON(), end: this.end.toJSON() }; };
                        Ks.prototype.clone = function () { return new this.constructor(this.start, this.end); };
                        Ks.prototype._getTransformedByInsertOperation = function (t, e) {
                            if (e === void 0) { e = !1; }
                            return this._getTransformedByInsertion(t.position, t.howMany, e);
                        };
                        Ks.prototype._getTransformedByMoveOperation = function (t, e) {
                            if (e === void 0) { e = !1; }
                            var n = t.sourcePosition, i = t.howMany, o = t.targetPosition;
                            return this._getTransformedByMove(n, o, i, e);
                        };
                        Ks.prototype._getTransformedBySplitOperation = function (t) { var e = this.start._getTransformedBySplitOperation(t); var n = this.end._getTransformedBySplitOperation(t); return this.end.isEqual(t.insertionPosition) && (n = this.end.getShiftedBy(1)), e.root != n.root && (n = this.end.getShiftedBy(-1)), new Ks(e, n); };
                        Ks.prototype._getTransformedByMergeOperation = function (t) { if (this.start.isEqual(t.targetPosition) && this.end.isEqual(t.deletionPosition))
                            return new Ks(this.start); var e = this.start._getTransformedByMergeOperation(t), n = this.end._getTransformedByMergeOperation(t); return e.root != n.root && (n = this.end.getShiftedBy(-1)), e.isAfter(n) ? (t.sourcePosition.isBefore(t.targetPosition) ? (e = Gs._createAt(n)).offset = 0 : (t.deletionPosition.isEqual(e) || (n = t.deletionPosition), e = t.targetPosition), new Ks(e, n)) : new Ks(e, n); };
                        Ks.prototype._getTransformedByInsertion = function (t, e, n) {
                            if (n === void 0) { n = !1; }
                            if (n && this.containsPosition(t))
                                return [new Ks(this.start, t), new Ks(t.getShiftedBy(e), this.end._getTransformedByInsertion(t, e))];
                            {
                                var n_82 = new Ks(this.start, this.end);
                                return n_82.start = n_82.start._getTransformedByInsertion(t, e), n_82.end = n_82.end._getTransformedByInsertion(t, e), [n_82];
                            }
                        };
                        Ks.prototype._getTransformedByMove = function (t, e, n, i) {
                            if (i === void 0) { i = !1; }
                            if (this.isCollapsed) {
                                var i_46 = this.start._getTransformedByMove(t, e, n);
                                return [new Ks(i_46)];
                            }
                            var o = Ks._createFromPositionAndShift(t, n), r = e._getTransformedByDeletion(t, n);
                            if (this.containsPosition(e) && !i && (o.containsPosition(this.start) || o.containsPosition(this.end))) {
                                var i_47 = this.start._getTransformedByMove(t, e, n), o_32 = this.end._getTransformedByMove(t, e, n);
                                return [new Ks(i_47, o_32)];
                            }
                            var s;
                            var a = this.getDifference(o);
                            var c = null;
                            var l = this.getIntersection(o);
                            if (1 == a.length ? c = new Ks(a[0].start._getTransformedByDeletion(t, n), a[0].end._getTransformedByDeletion(t, n)) : 2 == a.length && (c = new Ks(this.start, this.end._getTransformedByDeletion(t, n))), s = c ? c._getTransformedByInsertion(r, n, null !== l || i) : [], l) {
                                var t_93 = new Ks(l.start._getCombined(o.start, r), l.end._getCombined(o.start, r));
                                2 == s.length ? s.splice(1, 0, t_93) : s.push(t_93);
                            }
                            return s;
                        };
                        Ks.prototype._getTransformedByDeletion = function (t, e) { var n = this.start._getTransformedByDeletion(t, e), i = this.end._getTransformedByDeletion(t, e); return null == n && null == i ? null : (null == n && (n = t), null == i && (i = t), new Ks(n, i)); };
                        Ks._createFromPositionAndShift = function (t, e) { var n = t, i = t.getShiftedBy(e); return e > 0 ? new this(n, i) : new this(i, n); };
                        Ks._createIn = function (t) { return new this(Gs._createAt(t, 0), Gs._createAt(t, t.maxOffset)); };
                        Ks._createOn = function (t) { return this._createFromPositionAndShift(Gs._createBefore(t), t.offsetSize); };
                        Ks._createFromRanges = function (t) { if (0 === t.length)
                            throw new Gn.b("range-create-from-ranges-empty-array: At least one range has to be passed.", null); if (1 == t.length)
                            return t[0].clone(); var e = t[0]; t.sort(function (t, e) { return t.start.isAfter(e.start) ? 1 : -1; }); var n = t.indexOf(e), i = new this(e.start, e.end); if (n > 0)
                            for (var e_186 = n - 1; t[e_186].end.isEqual(i.start); e_186++)
                                i.start = Gs._createAt(t[e_186].start); for (var e_187 = n + 1; e_187 < t.length && t[e_187].start.isEqual(i.end); e_187++)
                            i.end = Gs._createAt(t[e_187].end); return i; };
                        Ks.fromJSON = function (t, e) { return new this(Gs.fromJSON(t.start, e), Gs.fromJSON(t.end, e)); };
                        return Ks;
                    }());
                    var Qs = /** @class */ (function () {
                        function Qs() {
                            var _this = this;
                            this._modelToViewMapping = new WeakMap, this._viewToModelMapping = new WeakMap, this._viewToModelLengthCallbacks = new Map, this._markerNameToElements = new Map, this._elementToMarkerNames = new Map, this._unboundMarkerNames = new Set, this.on("modelToViewPosition", function (t, e) { if (e.viewPosition)
                                return; var n = _this._modelToViewMapping.get(e.modelPosition.parent); e.viewPosition = _this._findPositionIn(n, e.modelPosition.offset); }, { priority: "low" }), this.on("viewToModelPosition", function (t, e) { if (e.modelPosition)
                                return; var n = _this.findMappedViewAncestor(e.viewPosition), i = _this._viewToModelMapping.get(n), o = _this._toModelOffset(e.viewPosition.parent, e.viewPosition.offset, n); e.modelPosition = Gs._createAt(i, o); }, { priority: "low" });
                        }
                        Qs.prototype.bindElements = function (t, e) { this._modelToViewMapping.set(t, e), this._viewToModelMapping.set(e, t); };
                        Qs.prototype.unbindViewElement = function (t) {
                            var e_188, _j;
                            var e = this.toModelElement(t);
                            if (this._viewToModelMapping.delete(t), this._elementToMarkerNames.has(t))
                                try {
                                    for (var _q = __values(this._elementToMarkerNames.get(t)), _z = _q.next(); !_z.done; _z = _q.next()) {
                                        var e_189 = _z.value;
                                        this._unboundMarkerNames.add(e_189);
                                    }
                                }
                                catch (e_188_1) { e_188 = { error: e_188_1 }; }
                                finally {
                                    try {
                                        if (_z && !_z.done && (_j = _q.return)) _j.call(_q);
                                    }
                                    finally { if (e_188) throw e_188.error; }
                                }
                            this._modelToViewMapping.get(e) == t && this._modelToViewMapping.delete(e);
                        };
                        Qs.prototype.unbindModelElement = function (t) { var e = this.toViewElement(t); this._modelToViewMapping.delete(t), this._viewToModelMapping.get(e) == t && this._viewToModelMapping.delete(e); };
                        Qs.prototype.bindElementToMarker = function (t, e) { var n = this._markerNameToElements.get(e) || new Set; n.add(t); var i = this._elementToMarkerNames.get(t) || new Set; i.add(e), this._markerNameToElements.set(e, n), this._elementToMarkerNames.set(t, i); };
                        Qs.prototype.unbindElementFromMarkerName = function (t, e) { var n = this._markerNameToElements.get(e); n && (n.delete(t), 0 == n.size && this._markerNameToElements.delete(e)); var i = this._elementToMarkerNames.get(t); i && (i.delete(e), 0 == i.size && this._elementToMarkerNames.delete(t)); };
                        Qs.prototype.flushUnboundMarkerNames = function () { var t = Array.from(this._unboundMarkerNames); return this._unboundMarkerNames.clear(), t; };
                        Qs.prototype.clearBindings = function () { this._modelToViewMapping = new WeakMap, this._viewToModelMapping = new WeakMap, this._markerNameToElements = new Map, this._elementToMarkerNames = new Map, this._unboundMarkerNames = new Set; };
                        Qs.prototype.toModelElement = function (t) { return this._viewToModelMapping.get(t); };
                        Qs.prototype.toViewElement = function (t) { return this._modelToViewMapping.get(t); };
                        Qs.prototype.toModelRange = function (t) { return new Ks(this.toModelPosition(t.start), this.toModelPosition(t.end)); };
                        Qs.prototype.toViewRange = function (t) { return new Xi(this.toViewPosition(t.start), this.toViewPosition(t.end)); };
                        Qs.prototype.toModelPosition = function (t) { var e = { viewPosition: t, mapper: this }; return this.fire("viewToModelPosition", e), e.modelPosition; };
                        Qs.prototype.toViewPosition = function (t, e) {
                            if (e === void 0) { e = { isPhantom: !1 }; }
                            var n = { modelPosition: t, mapper: this, isPhantom: e.isPhantom };
                            return this.fire("modelToViewPosition", n), n.viewPosition;
                        };
                        Qs.prototype.markerNameToElements = function (t) {
                            var e_190, _j, e_191, _q;
                            var e = this._markerNameToElements.get(t);
                            if (!e)
                                return null;
                            var n = new Set;
                            try {
                                for (var e_192 = __values(e), e_192_1 = e_192.next(); !e_192_1.done; e_192_1 = e_192.next()) {
                                    var t_94 = e_192_1.value;
                                    if (t_94.is("attributeElement"))
                                        try {
                                            for (var _z = __values(t_94.getElementsWithSameId()), _0 = _z.next(); !_0.done; _0 = _z.next()) {
                                                var e_193 = _0.value;
                                                n.add(e_193);
                                            }
                                        }
                                        catch (e_191_1) { e_191 = { error: e_191_1 }; }
                                        finally {
                                            try {
                                                if (_0 && !_0.done && (_q = _z.return)) _q.call(_z);
                                            }
                                            finally { if (e_191) throw e_191.error; }
                                        }
                                    else
                                        n.add(t_94);
                                }
                            }
                            catch (e_190_1) { e_190 = { error: e_190_1 }; }
                            finally {
                                try {
                                    if (e_192_1 && !e_192_1.done && (_j = e_192.return)) _j.call(e_192);
                                }
                                finally { if (e_190) throw e_190.error; }
                            }
                            return n;
                        };
                        Qs.prototype.registerViewToModelLength = function (t, e) { this._viewToModelLengthCallbacks.set(t, e); };
                        Qs.prototype.findMappedViewAncestor = function (t) { var e = t.parent; for (; !this._viewToModelMapping.has(e);)
                            e = e.parent; return e; };
                        Qs.prototype._toModelOffset = function (t, e, n) { if (n != t) {
                            return this._toModelOffset(t.parent, t.index, n) + this._toModelOffset(t, e, t);
                        } if (t.is("text"))
                            return e; var i = 0; for (var n_83 = 0; n_83 < e; n_83++)
                            i += this.getModelLength(t.getChild(n_83)); return i; };
                        Qs.prototype.getModelLength = function (t) {
                            var e_194, _j;
                            if (this._viewToModelLengthCallbacks.get(t.name)) {
                                return this._viewToModelLengthCallbacks.get(t.name)(t);
                            }
                            if (this._viewToModelMapping.has(t))
                                return 1;
                            if (t.is("text"))
                                return t.data.length;
                            if (t.is("uiElement"))
                                return 0;
                            {
                                var e_195 = 0;
                                try {
                                    for (var _q = __values(t.getChildren()), _z = _q.next(); !_z.done; _z = _q.next()) {
                                        var n_84 = _z.value;
                                        e_195 += this.getModelLength(n_84);
                                    }
                                }
                                catch (e_194_1) { e_194 = { error: e_194_1 }; }
                                finally {
                                    try {
                                        if (_z && !_z.done && (_j = _q.return)) _j.call(_q);
                                    }
                                    finally { if (e_194) throw e_194.error; }
                                }
                                return e_195;
                            }
                        };
                        Qs.prototype._findPositionIn = function (t, e) { var n, i = 0, o = 0, r = 0; if (t.is("text"))
                            return new Zi(t, e); for (; o < e;)
                            n = t.getChild(r), o += i = this.getModelLength(n), r++; return o == e ? this._moveViewPositionToTextNode(new Zi(t, r)) : this._findPositionIn(n, e - (o - i)); };
                        Qs.prototype._moveViewPositionToTextNode = function (t) { var e = t.nodeBefore, n = t.nodeAfter; return e instanceof mi ? new Zi(e, e.data.length) : n instanceof mi ? new Zi(n, 0) : t; };
                        return Qs;
                    }());
                    ci(Qs, ei);
                    var Js = /** @class */ (function () {
                        function Js() {
                            this._consumable = new Map, this._textProxyRegistry = new Map;
                        }
                        Js.prototype.add = function (t, e) { e = Zs(e), t instanceof Hs && (t = this._getSymbolForTextProxy(t)), this._consumable.has(t) || this._consumable.set(t, new Map), this._consumable.get(t).set(e, !0); };
                        Js.prototype.consume = function (t, e) { return e = Zs(e), t instanceof Hs && (t = this._getSymbolForTextProxy(t)), !!this.test(t, e) && (this._consumable.get(t).set(e, !1), !0); };
                        Js.prototype.test = function (t, e) { e = Zs(e), t instanceof Hs && (t = this._getSymbolForTextProxy(t)); var n = this._consumable.get(t); if (void 0 === n)
                            return null; var i = n.get(e); return void 0 === i ? null : i; };
                        Js.prototype.revert = function (t, e) { e = Zs(e), t instanceof Hs && (t = this._getSymbolForTextProxy(t)); var n = this.test(t, e); return !1 === n ? (this._consumable.get(t).set(e, !0), !0) : !0 !== n && null; };
                        Js.prototype._getSymbolForTextProxy = function (t) { var e = null; var n = this._textProxyRegistry.get(t.startOffset); if (n) {
                            var i_48 = n.get(t.endOffset);
                            i_48 && (e = i_48.get(t.parent));
                        } return e || (e = this._addSymbolForTextProxy(t.startOffset, t.endOffset, t.parent)), e; };
                        Js.prototype._addSymbolForTextProxy = function (t, e, n) { var i = Symbol("textProxySymbol"); var o, r; return (o = this._textProxyRegistry.get(t)) || (o = new Map, this._textProxyRegistry.set(t, o)), (r = o.get(e)) || (r = new Map, o.set(e, r)), r.set(n, i), i; };
                        return Js;
                    }());
                    function Zs(t) { var e = t.split(":"); return e.length > 1 ? e[0] + ":" + e[1] : e[0]; }
                    var Xs = /** @class */ (function () {
                        function Xs(t) {
                            this.conversionApi = Li({ dispatcher: this }, t);
                        }
                        Xs.prototype.convertChanges = function (t, e, n) {
                            var e_196, _j, e_197, _q, e_198, _z, e_199, _0;
                            try {
                                for (var _1 = __values(t.getMarkersToRemove()), _2 = _1.next(); !_2.done; _2 = _1.next()) {
                                    var e_200 = _2.value;
                                    this.convertMarkerRemove(e_200.name, e_200.range, n);
                                }
                            }
                            catch (e_196_1) { e_196 = { error: e_196_1 }; }
                            finally {
                                try {
                                    if (_2 && !_2.done && (_j = _1.return)) _j.call(_1);
                                }
                                finally { if (e_196) throw e_196.error; }
                            }
                            try {
                                for (var _3 = __values(t.getChanges()), _4 = _3.next(); !_4.done; _4 = _3.next()) {
                                    var e_201 = _4.value;
                                    "insert" == e_201.type ? this.convertInsert(Ks._createFromPositionAndShift(e_201.position, e_201.length), n) : "remove" == e_201.type ? this.convertRemove(e_201.position, e_201.length, e_201.name, n) : this.convertAttribute(e_201.range, e_201.attributeKey, e_201.attributeOldValue, e_201.attributeNewValue, n);
                                }
                            }
                            catch (e_197_1) { e_197 = { error: e_197_1 }; }
                            finally {
                                try {
                                    if (_4 && !_4.done && (_q = _3.return)) _q.call(_3);
                                }
                                finally { if (e_197) throw e_197.error; }
                            }
                            try {
                                for (var _5 = __values(this.conversionApi.mapper.flushUnboundMarkerNames()), _6 = _5.next(); !_6.done; _6 = _5.next()) {
                                    var t_95 = _6.value;
                                    var i_49 = e.get(t_95).getRange();
                                    this.convertMarkerRemove(t_95, i_49, n), this.convertMarkerAdd(t_95, i_49, n);
                                }
                            }
                            catch (e_198_1) { e_198 = { error: e_198_1 }; }
                            finally {
                                try {
                                    if (_6 && !_6.done && (_z = _5.return)) _z.call(_5);
                                }
                                finally { if (e_198) throw e_198.error; }
                            }
                            try {
                                for (var _7 = __values(t.getMarkersToAdd()), _8 = _7.next(); !_8.done; _8 = _7.next()) {
                                    var e_202 = _8.value;
                                    this.convertMarkerAdd(e_202.name, e_202.range, n);
                                }
                            }
                            catch (e_199_1) { e_199 = { error: e_199_1 }; }
                            finally {
                                try {
                                    if (_8 && !_8.done && (_0 = _7.return)) _0.call(_7);
                                }
                                finally { if (e_199) throw e_199.error; }
                            }
                        };
                        Xs.prototype.convertInsert = function (t, e) {
                            var e_203, _j, e_204, _q;
                            this.conversionApi.writer = e, this.conversionApi.consumable = this._createInsertConsumable(t);
                            try {
                                for (var t_96 = __values(t), t_96_1 = t_96.next(); !t_96_1.done; t_96_1 = t_96.next()) {
                                    var e_205 = t_96_1.value;
                                    var t_97 = e_205.item, n_85 = { item: t_97, range: Ks._createFromPositionAndShift(e_205.previousPosition, e_205.length) };
                                    this._testAndFire("insert", n_85);
                                    try {
                                        for (var _z = __values(t_97.getAttributeKeys()), _0 = _z.next(); !_0.done; _0 = _z.next()) {
                                            var e_206 = _0.value;
                                            n_85.attributeKey = e_206, n_85.attributeOldValue = null, n_85.attributeNewValue = t_97.getAttribute(e_206), this._testAndFire("attribute:" + e_206, n_85);
                                        }
                                    }
                                    catch (e_204_1) { e_204 = { error: e_204_1 }; }
                                    finally {
                                        try {
                                            if (_0 && !_0.done && (_q = _z.return)) _q.call(_z);
                                        }
                                        finally { if (e_204) throw e_204.error; }
                                    }
                                }
                            }
                            catch (e_203_1) { e_203 = { error: e_203_1 }; }
                            finally {
                                try {
                                    if (t_96_1 && !t_96_1.done && (_j = t_96.return)) _j.call(t_96);
                                }
                                finally { if (e_203) throw e_203.error; }
                            }
                            this._clearConversionApi();
                        };
                        Xs.prototype.convertRemove = function (t, e, n, i) { this.conversionApi.writer = i, this.fire("remove:" + n, { position: t, length: e }, this.conversionApi), this._clearConversionApi(); };
                        Xs.prototype.convertAttribute = function (t, e, n, i, o) {
                            var e_207, _j;
                            this.conversionApi.writer = o, this.conversionApi.consumable = this._createConsumableForRange(t, "attribute:" + e);
                            try {
                                for (var t_98 = __values(t), t_98_1 = t_98.next(); !t_98_1.done; t_98_1 = t_98.next()) {
                                    var o_33 = t_98_1.value;
                                    var t_99 = { item: o_33.item, range: Ks._createFromPositionAndShift(o_33.previousPosition, o_33.length), attributeKey: e, attributeOldValue: n, attributeNewValue: i };
                                    this._testAndFire("attribute:" + e, t_99);
                                }
                            }
                            catch (e_207_1) { e_207 = { error: e_207_1 }; }
                            finally {
                                try {
                                    if (t_98_1 && !t_98_1.done && (_j = t_98.return)) _j.call(t_98);
                                }
                                finally { if (e_207) throw e_207.error; }
                            }
                            this._clearConversionApi();
                        };
                        Xs.prototype.convertSelection = function (t, e, n) {
                            var e_208, _j, e_209, _q;
                            var i = Array.from(e.getMarkersAtPosition(t.getFirstPosition()));
                            if (this.conversionApi.writer = n, this.conversionApi.consumable = this._createSelectionConsumable(t, i), this.fire("selection", { selection: t }, this.conversionApi), t.isCollapsed) {
                                try {
                                    for (var i_50 = __values(i), i_50_1 = i_50.next(); !i_50_1.done; i_50_1 = i_50.next()) {
                                        var e_210 = i_50_1.value;
                                        var n_86 = e_210.getRange();
                                        if (!ta(t.getFirstPosition(), e_210, this.conversionApi.mapper))
                                            continue;
                                        var i_51 = { item: t, markerName: e_210.name, markerRange: n_86 };
                                        this.conversionApi.consumable.test(t, "addMarker:" + e_210.name) && this.fire("addMarker:" + e_210.name, i_51, this.conversionApi);
                                    }
                                }
                                catch (e_208_1) { e_208 = { error: e_208_1 }; }
                                finally {
                                    try {
                                        if (i_50_1 && !i_50_1.done && (_j = i_50.return)) _j.call(i_50);
                                    }
                                    finally { if (e_208) throw e_208.error; }
                                }
                                try {
                                    for (var _z = __values(t.getAttributeKeys()), _0 = _z.next(); !_0.done; _0 = _z.next()) {
                                        var e_211 = _0.value;
                                        var n_87 = { item: t, range: t.getFirstRange(), attributeKey: e_211, attributeOldValue: null, attributeNewValue: t.getAttribute(e_211) };
                                        this.conversionApi.consumable.test(t, "attribute:" + n_87.attributeKey) && this.fire("attribute:" + n_87.attributeKey + ":$text", n_87, this.conversionApi);
                                    }
                                }
                                catch (e_209_1) { e_209 = { error: e_209_1 }; }
                                finally {
                                    try {
                                        if (_0 && !_0.done && (_q = _z.return)) _q.call(_z);
                                    }
                                    finally { if (e_209) throw e_209.error; }
                                }
                                this._clearConversionApi();
                            }
                        };
                        Xs.prototype.convertMarkerAdd = function (t, e, n) {
                            var e_212, _j;
                            if (!e.root.document || "$graveyard" == e.root.rootName)
                                return;
                            this.conversionApi.writer = n;
                            var i = "addMarker:" + t, o = new Js;
                            if (o.add(e, i), this.conversionApi.consumable = o, this.fire(i, { markerName: t, markerRange: e }, this.conversionApi), o.test(e, i)) {
                                this.conversionApi.consumable = this._createConsumableForRange(e, i);
                                try {
                                    for (var _q = __values(e.getItems()), _z = _q.next(); !_z.done; _z = _q.next()) {
                                        var n_88 = _z.value;
                                        if (!this.conversionApi.consumable.test(n_88, i))
                                            continue;
                                        var o_34 = { item: n_88, range: Ks._createOn(n_88), markerName: t, markerRange: e };
                                        this.fire(i, o_34, this.conversionApi);
                                    }
                                }
                                catch (e_212_1) { e_212 = { error: e_212_1 }; }
                                finally {
                                    try {
                                        if (_z && !_z.done && (_j = _q.return)) _j.call(_q);
                                    }
                                    finally { if (e_212) throw e_212.error; }
                                }
                                this._clearConversionApi();
                            }
                        };
                        Xs.prototype.convertMarkerRemove = function (t, e, n) { e.root.document && "$graveyard" != e.root.rootName && (this.conversionApi.writer = n, this.fire("removeMarker:" + t, { markerName: t, markerRange: e }, this.conversionApi), this._clearConversionApi()); };
                        Xs.prototype._createInsertConsumable = function (t) {
                            var e_213, _j, e_214, _q;
                            var e = new Js;
                            try {
                                for (var t_100 = __values(t), t_100_1 = t_100.next(); !t_100_1.done; t_100_1 = t_100.next()) {
                                    var n_89 = t_100_1.value;
                                    var t_101 = n_89.item;
                                    e.add(t_101, "insert");
                                    try {
                                        for (var _z = __values(t_101.getAttributeKeys()), _0 = _z.next(); !_0.done; _0 = _z.next()) {
                                            var n_90 = _0.value;
                                            e.add(t_101, "attribute:" + n_90);
                                        }
                                    }
                                    catch (e_214_1) { e_214 = { error: e_214_1 }; }
                                    finally {
                                        try {
                                            if (_0 && !_0.done && (_q = _z.return)) _q.call(_z);
                                        }
                                        finally { if (e_214) throw e_214.error; }
                                    }
                                }
                            }
                            catch (e_213_1) { e_213 = { error: e_213_1 }; }
                            finally {
                                try {
                                    if (t_100_1 && !t_100_1.done && (_j = t_100.return)) _j.call(t_100);
                                }
                                finally { if (e_213) throw e_213.error; }
                            }
                            return e;
                        };
                        Xs.prototype._createConsumableForRange = function (t, e) {
                            var e_215, _j;
                            var n = new Js;
                            try {
                                for (var _q = __values(t.getItems()), _z = _q.next(); !_z.done; _z = _q.next()) {
                                    var i_52 = _z.value;
                                    n.add(i_52, e);
                                }
                            }
                            catch (e_215_1) { e_215 = { error: e_215_1 }; }
                            finally {
                                try {
                                    if (_z && !_z.done && (_j = _q.return)) _j.call(_q);
                                }
                                finally { if (e_215) throw e_215.error; }
                            }
                            return n;
                        };
                        Xs.prototype._createSelectionConsumable = function (t, e) {
                            var e_216, _j, e_217, _q;
                            var n = new Js;
                            n.add(t, "selection");
                            try {
                                for (var e_218 = __values(e), e_218_1 = e_218.next(); !e_218_1.done; e_218_1 = e_218.next()) {
                                    var i_53 = e_218_1.value;
                                    n.add(t, "addMarker:" + i_53.name);
                                }
                            }
                            catch (e_216_1) { e_216 = { error: e_216_1 }; }
                            finally {
                                try {
                                    if (e_218_1 && !e_218_1.done && (_j = e_218.return)) _j.call(e_218);
                                }
                                finally { if (e_216) throw e_216.error; }
                            }
                            try {
                                for (var _z = __values(t.getAttributeKeys()), _0 = _z.next(); !_0.done; _0 = _z.next()) {
                                    var e_219 = _0.value;
                                    n.add(t, "attribute:" + e_219);
                                }
                            }
                            catch (e_217_1) { e_217 = { error: e_217_1 }; }
                            finally {
                                try {
                                    if (_0 && !_0.done && (_q = _z.return)) _q.call(_z);
                                }
                                finally { if (e_217) throw e_217.error; }
                            }
                            return n;
                        };
                        Xs.prototype._testAndFire = function (t, e) { if (!this.conversionApi.consumable.test(e.item, t))
                            return; var n = e.item.name || "$text"; this.fire(t + ":" + n, e, this.conversionApi); };
                        Xs.prototype._clearConversionApi = function () { delete this.conversionApi.writer, delete this.conversionApi.consumable; };
                        return Xs;
                    }());
                    function ta(t, e, n) { var i = e.getRange(), o = Array.from(t.getAncestors()); return o.shift(), o.reverse(), !o.some(function (t) { if (i.containsItem(t)) {
                        return !!n.toViewElement(t).getCustomProperty("addHighlight");
                    } }); }
                    ci(Xs, ei);
                    var ea = /** @class */ (function () {
                        function ea(t, e, n) {
                            this._lastRangeBackward = !1, this._ranges = [], this._attrs = new Map, t && this.setTo(t, e, n);
                        }
                        Object.defineProperty(ea.prototype, "anchor", {
                            get: function () { if (this._ranges.length > 0) {
                                var t_102 = this._ranges[this._ranges.length - 1];
                                return this._lastRangeBackward ? t_102.end : t_102.start;
                            } return null; },
                            enumerable: true,
                            configurable: true
                        });
                        Object.defineProperty(ea.prototype, "focus", {
                            get: function () { if (this._ranges.length > 0) {
                                var t_103 = this._ranges[this._ranges.length - 1];
                                return this._lastRangeBackward ? t_103.start : t_103.end;
                            } return null; },
                            enumerable: true,
                            configurable: true
                        });
                        Object.defineProperty(ea.prototype, "isCollapsed", {
                            get: function () { return 1 === this._ranges.length && this._ranges[0].isCollapsed; },
                            enumerable: true,
                            configurable: true
                        });
                        Object.defineProperty(ea.prototype, "rangeCount", {
                            get: function () { return this._ranges.length; },
                            enumerable: true,
                            configurable: true
                        });
                        Object.defineProperty(ea.prototype, "isBackward", {
                            get: function () { return !this.isCollapsed && this._lastRangeBackward; },
                            enumerable: true,
                            configurable: true
                        });
                        ea.prototype.isEqual = function (t) {
                            var e_220, _j, e_221, _q;
                            if (this.rangeCount != t.rangeCount)
                                return !1;
                            if (0 === this.rangeCount)
                                return !0;
                            if (!this.anchor.isEqual(t.anchor) || !this.focus.isEqual(t.focus))
                                return !1;
                            try {
                                for (var _z = __values(this._ranges), _0 = _z.next(); !_0.done; _0 = _z.next()) {
                                    var e_222 = _0.value;
                                    var n_91 = !1;
                                    try {
                                        for (var _1 = __values(t._ranges), _2 = _1.next(); !_2.done; _2 = _1.next()) {
                                            var i_54 = _2.value;
                                            if (e_222.isEqual(i_54)) {
                                                n_91 = !0;
                                                break;
                                            }
                                        }
                                    }
                                    catch (e_221_1) { e_221 = { error: e_221_1 }; }
                                    finally {
                                        try {
                                            if (_2 && !_2.done && (_q = _1.return)) _q.call(_1);
                                        }
                                        finally { if (e_221) throw e_221.error; }
                                    }
                                    if (!n_91)
                                        return !1;
                                }
                            }
                            catch (e_220_1) { e_220 = { error: e_220_1 }; }
                            finally {
                                try {
                                    if (_0 && !_0.done && (_j = _z.return)) _j.call(_z);
                                }
                                finally { if (e_220) throw e_220.error; }
                            }
                            return !0;
                        };
                        ea.prototype.getRanges = function () {
                            var e_223, _j, _q, _z, t_104, e_223_1;
                            return __generator(this, function (_0) {
                                switch (_0.label) {
                                    case 0:
                                        _0.trys.push([0, 5, 6, 7]);
                                        _q = __values(this._ranges), _z = _q.next();
                                        _0.label = 1;
                                    case 1:
                                        if (!!_z.done) return [3 /*break*/, 4];
                                        t_104 = _z.value;
                                        return [4 /*yield*/, new Ks(t_104.start, t_104.end)];
                                    case 2:
                                        _0.sent();
                                        _0.label = 3;
                                    case 3:
                                        _z = _q.next();
                                        return [3 /*break*/, 1];
                                    case 4: return [3 /*break*/, 7];
                                    case 5:
                                        e_223_1 = _0.sent();
                                        e_223 = { error: e_223_1 };
                                        return [3 /*break*/, 7];
                                    case 6:
                                        try {
                                            if (_z && !_z.done && (_j = _q.return)) _j.call(_q);
                                        }
                                        finally { if (e_223) throw e_223.error; }
                                        return [7 /*endfinally*/];
                                    case 7: return [2 /*return*/];
                                }
                            });
                        };
                        ea.prototype.getFirstRange = function () {
                            var e_224, _j;
                            var t = null;
                            try {
                                for (var _q = __values(this._ranges), _z = _q.next(); !_z.done; _z = _q.next()) {
                                    var e_225 = _z.value;
                                    t && !e_225.start.isBefore(t.start) || (t = e_225);
                                }
                            }
                            catch (e_224_1) { e_224 = { error: e_224_1 }; }
                            finally {
                                try {
                                    if (_z && !_z.done && (_j = _q.return)) _j.call(_q);
                                }
                                finally { if (e_224) throw e_224.error; }
                            }
                            return t ? new Ks(t.start, t.end) : null;
                        };
                        ea.prototype.getLastRange = function () {
                            var e_226, _j;
                            var t = null;
                            try {
                                for (var _q = __values(this._ranges), _z = _q.next(); !_z.done; _z = _q.next()) {
                                    var e_227 = _z.value;
                                    t && !e_227.end.isAfter(t.end) || (t = e_227);
                                }
                            }
                            catch (e_226_1) { e_226 = { error: e_226_1 }; }
                            finally {
                                try {
                                    if (_z && !_z.done && (_j = _q.return)) _j.call(_q);
                                }
                                finally { if (e_226) throw e_226.error; }
                            }
                            return t ? new Ks(t.start, t.end) : null;
                        };
                        ea.prototype.getFirstPosition = function () { var t = this.getFirstRange(); return t ? t.start.clone() : null; };
                        ea.prototype.getLastPosition = function () { var t = this.getLastRange(); return t ? t.end.clone() : null; };
                        ea.prototype.setTo = function (t, e, n) { if (null === t)
                            this._setRanges([]);
                        else if (t instanceof ea)
                            this._setRanges(t.getRanges(), t.isBackward);
                        else if (t && "function" == typeof t.getRanges)
                            this._setRanges(t.getRanges(), t.isBackward);
                        else if (t instanceof Ks)
                            this._setRanges([t], !!e && !!e.backward);
                        else if (t instanceof Gs)
                            this._setRanges([new Ks(t)]);
                        else if (t instanceof Fs) {
                            var i_55 = !!n && !!n.backward;
                            var o_35;
                            if ("in" == e)
                                o_35 = Ks._createIn(t);
                            else if ("on" == e)
                                o_35 = Ks._createOn(t);
                            else {
                                if (void 0 === e)
                                    throw new Gn.b("model-selection-setTo-required-second-parameter: selection.setTo requires the second parameter when the first parameter is a node.", [this, t]);
                                o_35 = new Ks(Gs._createAt(t, e));
                            }
                            this._setRanges([o_35], i_55);
                        }
                        else {
                            if (!pi(t))
                                throw new Gn.b("model-selection-setTo-not-selectable: Cannot set the selection to the given place.", [this, t]);
                            this._setRanges(t, e && !!e.backward);
                        } };
                        ea.prototype._setRanges = function (t, e) {
                            var _this = this;
                            var e_228, _j;
                            if (e === void 0) { e = !1; }
                            var n = (t = Array.from(t)).some(function (e) { if (!(e instanceof Ks))
                                throw new Gn.b("model-selection-set-ranges-not-range: Selection range set to an object that is not an instance of model.Range.", [_this, t]); return _this._ranges.every(function (t) { return !t.isEqual(e); }); });
                            if (t.length !== this._ranges.length || n) {
                                this._removeAllRanges();
                                try {
                                    for (var t_105 = __values(t), t_105_1 = t_105.next(); !t_105_1.done; t_105_1 = t_105.next()) {
                                        var e_229 = t_105_1.value;
                                        this._pushRange(e_229);
                                    }
                                }
                                catch (e_228_1) { e_228 = { error: e_228_1 }; }
                                finally {
                                    try {
                                        if (t_105_1 && !t_105_1.done && (_j = t_105.return)) _j.call(t_105);
                                    }
                                    finally { if (e_228) throw e_228.error; }
                                }
                                this._lastRangeBackward = !!e, this.fire("change:range", { directChange: !0 });
                            }
                        };
                        ea.prototype.setFocus = function (t, e) { if (null === this.anchor)
                            throw new Gn.b("model-selection-setFocus-no-ranges: Cannot set selection focus if there are no ranges in selection.", [this, t]); var n = Gs._createAt(t, e); if ("same" == n.compareWith(this.focus))
                            return; var i = this.anchor; this._ranges.length && this._popRange(), "before" == n.compareWith(i) ? (this._pushRange(new Ks(n, i)), this._lastRangeBackward = !0) : (this._pushRange(new Ks(i, n)), this._lastRangeBackward = !1), this.fire("change:range", { directChange: !0 }); };
                        ea.prototype.getAttribute = function (t) { return this._attrs.get(t); };
                        ea.prototype.getAttributes = function () { return this._attrs.entries(); };
                        ea.prototype.getAttributeKeys = function () { return this._attrs.keys(); };
                        ea.prototype.hasAttribute = function (t) { return this._attrs.has(t); };
                        ea.prototype.removeAttribute = function (t) { this.hasAttribute(t) && (this._attrs.delete(t), this.fire("change:attribute", { attributeKeys: [t], directChange: !0 })); };
                        ea.prototype.setAttribute = function (t, e) { this.getAttribute(t) !== e && (this._attrs.set(t, e), this.fire("change:attribute", { attributeKeys: [t], directChange: !0 })); };
                        ea.prototype.getSelectedElement = function () { if (1 !== this.rangeCount)
                            return null; var t = this.getFirstRange(), e = t.start.nodeAfter, n = t.end.nodeBefore; return e instanceof Ws && e == n ? e : null; };
                        ea.prototype.is = function (t) { return "selection" == t || "model:selection" == t; };
                        ea.prototype.getSelectedBlocks = function () {
                            var e_230, _j, e_231, _q, t, _z, _0, e_232, n_92, _1, _2, _3, n_93, i_56, _4, e_231_1, i_57, _5, e_230_1;
                            return __generator(this, function (_6) {
                                switch (_6.label) {
                                    case 0:
                                        t = new WeakSet;
                                        _6.label = 1;
                                    case 1:
                                        _6.trys.push([1, 18, 19, 20]);
                                        _z = __values(this.getRanges()), _0 = _z.next();
                                        _6.label = 2;
                                    case 2:
                                        if (!!_0.done) return [3 /*break*/, 17];
                                        e_232 = _0.value;
                                        n_92 = oa(e_232.start, t);
                                        _1 = n_92 && ra(n_92, e_232);
                                        if (!_1) return [3 /*break*/, 4];
                                        return [4 /*yield*/, n_92];
                                    case 3:
                                        _1 = (_6.sent());
                                        _6.label = 4;
                                    case 4:
                                        _1;
                                        _6.label = 5;
                                    case 5:
                                        _6.trys.push([5, 11, 12, 13]);
                                        _2 = __values(e_232.getWalker()), _3 = _2.next();
                                        _6.label = 6;
                                    case 6:
                                        if (!!_3.done) return [3 /*break*/, 10];
                                        n_93 = _3.value;
                                        i_56 = n_93.item;
                                        _4 = "elementEnd" == n_93.type && ia(i_56, t, e_232);
                                        if (!_4) return [3 /*break*/, 8];
                                        return [4 /*yield*/, i_56];
                                    case 7:
                                        _4 = (_6.sent());
                                        _6.label = 8;
                                    case 8:
                                        _4;
                                        _6.label = 9;
                                    case 9:
                                        _3 = _2.next();
                                        return [3 /*break*/, 6];
                                    case 10: return [3 /*break*/, 13];
                                    case 11:
                                        e_231_1 = _6.sent();
                                        e_231 = { error: e_231_1 };
                                        return [3 /*break*/, 13];
                                    case 12:
                                        try {
                                            if (_3 && !_3.done && (_q = _2.return)) _q.call(_2);
                                        }
                                        finally { if (e_231) throw e_231.error; }
                                        return [7 /*endfinally*/];
                                    case 13:
                                        i_57 = oa(e_232.end, t);
                                        _5 = i_57 && !e_232.end.isTouching(Gs._createAt(i_57, 0)) && ra(i_57, e_232);
                                        if (!_5) return [3 /*break*/, 15];
                                        return [4 /*yield*/, i_57];
                                    case 14:
                                        _5 = (_6.sent());
                                        _6.label = 15;
                                    case 15:
                                        _5;
                                        _6.label = 16;
                                    case 16:
                                        _0 = _z.next();
                                        return [3 /*break*/, 2];
                                    case 17: return [3 /*break*/, 20];
                                    case 18:
                                        e_230_1 = _6.sent();
                                        e_230 = { error: e_230_1 };
                                        return [3 /*break*/, 20];
                                    case 19:
                                        try {
                                            if (_0 && !_0.done && (_j = _z.return)) _j.call(_z);
                                        }
                                        finally { if (e_230) throw e_230.error; }
                                        return [7 /*endfinally*/];
                                    case 20: return [2 /*return*/];
                                }
                            });
                        };
                        ea.prototype.containsEntireContent = function (t) {
                            if (t === void 0) { t = this.anchor.root; }
                            var e = Gs._createAt(t, 0), n = Gs._createAt(t, "end");
                            return e.isTouching(this.getFirstPosition()) && n.isTouching(this.getLastPosition());
                        };
                        ea.prototype._pushRange = function (t) { this._checkRange(t), this._ranges.push(new Ks(t.start, t.end)); };
                        ea.prototype._checkRange = function (t) { for (var e_233 = 0; e_233 < this._ranges.length; e_233++)
                            if (t.isIntersecting(this._ranges[e_233]))
                                throw new Gn.b("model-selection-range-intersects: Trying to add a range that intersects with another range in the selection.", [this, t], { addedRange: t, intersectingRange: this._ranges[e_233] }); };
                        ea.prototype._removeAllRanges = function () { for (; this._ranges.length > 0;)
                            this._popRange(); };
                        ea.prototype._popRange = function () { this._ranges.pop(); };
                        return ea;
                    }());
                    function na(t, e) { return !e.has(t) && (e.add(t), t.document.model.schema.isBlock(t) && t.parent); }
                    function ia(t, e, n) { return na(t, e) && ra(t, n); }
                    function oa(t, e) { var n = t.parent.document.model.schema, i = t.parent.getAncestors({ parentFirst: !0, includeSelf: !0 }); var o = !1; var r = i.find(function (t) { return !o && (!(o = n.isLimit(t)) && na(t, e)); }); return i.forEach(function (t) { return e.add(t); }), r; }
                    function ra(t, e) { var n = function (t) { var e = t.document.model.schema; var n = t.parent; for (; n;) {
                        if (e.isBlock(n))
                            return n;
                        n = n.parent;
                    } }(t); return !n || !e.containsRange(Ks._createOn(n), !0); }
                    ci(ea, ei);
                    var sa = /** @class */ (function (_super) {
                        __extends(sa, _super);
                        function sa(t, e) {
                            var _this = this;
                            _this = _super.call(this, t, e) || this, function () {
                                var _this = this;
                                this.listenTo(this.root.document.model, "applyOperation", function (t, e) { var n = e[0]; n.isDocumentOperation && function (t) { var e = this.getTransformedByOperation(t), n = Ks._createFromRanges(e), i = !n.isEqual(this), o = function (t, e) { switch (e.type) {
                                    case "insert": return t.containsPosition(e.position);
                                    case "move":
                                    case "remove":
                                    case "reinsert":
                                    case "merge": return t.containsPosition(e.sourcePosition) || t.start.isEqual(e.sourcePosition) || t.containsPosition(e.targetPosition);
                                    case "split": return t.containsPosition(e.splitPosition) || t.containsPosition(e.insertionPosition);
                                } return !1; }(this, t); var r = null; if (i) {
                                    "$graveyard" == n.root.rootName && (r = "remove" == t.type ? t.sourcePosition : t.deletionPosition);
                                    var e_234 = this.toRange();
                                    this.start = n.start, this.end = n.end, this.fire("change:range", e_234, { deletionPosition: r });
                                }
                                else
                                    o && this.fire("change:content", this.toRange(), { deletionPosition: r }); }.call(_this, n); }, { priority: "low" });
                            }.call(_this);
                            return _this;
                        }
                        sa.prototype.detach = function () { this.stopListening(); };
                        sa.prototype.is = function (t) { return "liveRange" == t || "model:liveRange" == t || _super.prototype.is.call(this, t); };
                        sa.prototype.toRange = function () { return new Ks(this.start, this.end); };
                        sa.fromRange = function (t) { return new sa(t.start, t.end); };
                        return sa;
                    }(Ks));
                    ci(sa, ei);
                    var aa = "selection:";
                    var ca = /** @class */ (function () {
                        function ca(t) {
                            this._selection = new la(t), this._selection.delegate("change:range").to(this), this._selection.delegate("change:attribute").to(this);
                        }
                        Object.defineProperty(ca.prototype, "isCollapsed", {
                            get: function () { return this._selection.isCollapsed; },
                            enumerable: true,
                            configurable: true
                        });
                        Object.defineProperty(ca.prototype, "anchor", {
                            get: function () { return this._selection.anchor; },
                            enumerable: true,
                            configurable: true
                        });
                        Object.defineProperty(ca.prototype, "focus", {
                            get: function () { return this._selection.focus; },
                            enumerable: true,
                            configurable: true
                        });
                        Object.defineProperty(ca.prototype, "rangeCount", {
                            get: function () { return this._selection.rangeCount; },
                            enumerable: true,
                            configurable: true
                        });
                        Object.defineProperty(ca.prototype, "hasOwnRange", {
                            get: function () { return this._selection.hasOwnRange; },
                            enumerable: true,
                            configurable: true
                        });
                        Object.defineProperty(ca.prototype, "isBackward", {
                            get: function () { return this._selection.isBackward; },
                            enumerable: true,
                            configurable: true
                        });
                        Object.defineProperty(ca.prototype, "isGravityOverridden", {
                            get: function () { return this._selection.isGravityOverridden; },
                            enumerable: true,
                            configurable: true
                        });
                        Object.defineProperty(ca.prototype, "markers", {
                            get: function () { return this._selection.markers; },
                            enumerable: true,
                            configurable: true
                        });
                        Object.defineProperty(ca.prototype, "_ranges", {
                            get: function () { return this._selection._ranges; },
                            enumerable: true,
                            configurable: true
                        });
                        ca.prototype.getRanges = function () { return this._selection.getRanges(); };
                        ca.prototype.getFirstPosition = function () { return this._selection.getFirstPosition(); };
                        ca.prototype.getLastPosition = function () { return this._selection.getLastPosition(); };
                        ca.prototype.getFirstRange = function () { return this._selection.getFirstRange(); };
                        ca.prototype.getLastRange = function () { return this._selection.getLastRange(); };
                        ca.prototype.getSelectedBlocks = function () { return this._selection.getSelectedBlocks(); };
                        ca.prototype.getSelectedElement = function () { return this._selection.getSelectedElement(); };
                        ca.prototype.containsEntireContent = function (t) { return this._selection.containsEntireContent(t); };
                        ca.prototype.destroy = function () { this._selection.destroy(); };
                        ca.prototype.getAttributeKeys = function () { return this._selection.getAttributeKeys(); };
                        ca.prototype.getAttributes = function () { return this._selection.getAttributes(); };
                        ca.prototype.getAttribute = function (t) { return this._selection.getAttribute(t); };
                        ca.prototype.hasAttribute = function (t) { return this._selection.hasAttribute(t); };
                        ca.prototype.refresh = function () { this._selection._updateMarkers(), this._selection._updateAttributes(!1); };
                        ca.prototype.is = function (t) { return "selection" == t || "model:selection" == t || "documentSelection" == t || "model:documentSelection" == t; };
                        ca.prototype._setFocus = function (t, e) { this._selection.setFocus(t, e); };
                        ca.prototype._setTo = function (t, e, n) { this._selection.setTo(t, e, n); };
                        ca.prototype._setAttribute = function (t, e) { this._selection.setAttribute(t, e); };
                        ca.prototype._removeAttribute = function (t) { this._selection.removeAttribute(t); };
                        ca.prototype._getStoredAttributes = function () { return this._selection._getStoredAttributes(); };
                        ca.prototype._overrideGravity = function () { return this._selection.overrideGravity(); };
                        ca.prototype._restoreGravity = function (t) { this._selection.restoreGravity(t); };
                        ca._getStoreAttributeKey = function (t) { return aa + t; };
                        ca._isStoreAttributeKey = function (t) { return t.startsWith(aa); };
                        return ca;
                    }());
                    ci(ca, ei);
                    var la = /** @class */ (function (_super) {
                        __extends(la, _super);
                        function la(t) {
                            var _this = this;
                            _this = _super.call(this) || this, _this.markers = new oo({ idProperty: "name" }), _this._model = t.model, _this._document = t, _this._attributePriority = new Map, _this._fixGraveyardRangesData = [], _this._hasChangedRange = !1, _this._overriddenGravityRegister = new Set, _this.listenTo(_this._model, "applyOperation", function (t, e) { var n = e[0]; if (n.isDocumentOperation && "marker" != n.type && "rename" != n.type && "noop" != n.type) {
                                for (; _this._fixGraveyardRangesData.length;) {
                                    var _j = _this._fixGraveyardRangesData.shift(), t_106 = _j.liveRange, e_235 = _j.sourcePosition;
                                    _this._fixGraveyardSelection(t_106, e_235);
                                }
                                _this._hasChangedRange && (_this._hasChangedRange = !1, _this.fire("change:range", { directChange: !1 }));
                            } }, { priority: "lowest" }), _this.on("change:range", function () {
                                var e_236, _j;
                                try {
                                    for (var _q = __values(_this.getRanges()), _z = _q.next(); !_z.done; _z = _q.next()) {
                                        var t_107 = _z.value;
                                        if (!_this._document._validateSelectionRange(t_107))
                                            throw new Gn.b("document-selection-wrong-position: Range from document selection starts or ends at incorrect position.", _this, { range: t_107 });
                                    }
                                }
                                catch (e_236_1) { e_236 = { error: e_236_1 }; }
                                finally {
                                    try {
                                        if (_z && !_z.done && (_j = _q.return)) _j.call(_q);
                                    }
                                    finally { if (e_236) throw e_236.error; }
                                }
                            }), _this.listenTo(_this._model.markers, "update", function () { return _this._updateMarkers(); }), _this.listenTo(_this._document, "change", function (t, e) { !function (t, e) {
                                var e_237, _j;
                                var n = t.document.differ;
                                var _loop_2 = function (i_58) {
                                    if ("insert" != i_58.type)
                                        return "continue";
                                    var n_94 = i_58.position.parent, o_36 = i_58.length === n_94.maxOffset;
                                    o_36 && t.enqueueChange(e, function (t) {
                                        var e_238, _j;
                                        var e = Array.from(n_94.getAttributeKeys()).filter(function (t) { return t.startsWith(aa); });
                                        try {
                                            for (var e_239 = __values(e), e_239_1 = e_239.next(); !e_239_1.done; e_239_1 = e_239.next()) {
                                                var i_59 = e_239_1.value;
                                                t.removeAttribute(i_59, n_94);
                                            }
                                        }
                                        catch (e_238_1) { e_238 = { error: e_238_1 }; }
                                        finally {
                                            try {
                                                if (e_239_1 && !e_239_1.done && (_j = e_239.return)) _j.call(e_239);
                                            }
                                            finally { if (e_238) throw e_238.error; }
                                        }
                                    });
                                };
                                try {
                                    for (var _q = __values(n.getChanges()), _z = _q.next(); !_z.done; _z = _q.next()) {
                                        var i_58 = _z.value;
                                        _loop_2(i_58);
                                    }
                                }
                                catch (e_237_1) { e_237 = { error: e_237_1 }; }
                                finally {
                                    try {
                                        if (_z && !_z.done && (_j = _q.return)) _j.call(_q);
                                    }
                                    finally { if (e_237) throw e_237.error; }
                                }
                            }(_this._model, e); });
                            return _this;
                        }
                        Object.defineProperty(la.prototype, "isCollapsed", {
                            get: function () { return 0 === this._ranges.length ? this._document._getDefaultRange().isCollapsed : _super.prototype.isCollapsed; },
                            enumerable: true,
                            configurable: true
                        });
                        Object.defineProperty(la.prototype, "anchor", {
                            get: function () { return _super.prototype.anchor || this._document._getDefaultRange().start; },
                            enumerable: true,
                            configurable: true
                        });
                        Object.defineProperty(la.prototype, "focus", {
                            get: function () { return _super.prototype.focus || this._document._getDefaultRange().end; },
                            enumerable: true,
                            configurable: true
                        });
                        Object.defineProperty(la.prototype, "rangeCount", {
                            get: function () { return this._ranges.length ? this._ranges.length : 1; },
                            enumerable: true,
                            configurable: true
                        });
                        Object.defineProperty(la.prototype, "hasOwnRange", {
                            get: function () { return this._ranges.length > 0; },
                            enumerable: true,
                            configurable: true
                        });
                        Object.defineProperty(la.prototype, "isGravityOverridden", {
                            get: function () { return !!this._overriddenGravityRegister.size; },
                            enumerable: true,
                            configurable: true
                        });
                        la.prototype.destroy = function () { for (var t_108 = 0; t_108 < this._ranges.length; t_108++)
                            this._ranges[t_108].detach(); this.stopListening(); };
                        la.prototype.getRanges = function () { var _j; return __generator(this, function (_q) {
                            switch (_q.label) {
                                case 0:
                                    if (!this._ranges.length) return [3 /*break*/, 2];
                                    return [5 /*yield**/, __values(_super.prototype.getRanges.call(this))];
                                case 1:
                                    _j = _q.sent();
                                    return [3 /*break*/, 4];
                                case 2: return [4 /*yield*/, this._document._getDefaultRange()];
                                case 3:
                                    _j = _q.sent();
                                    _q.label = 4;
                                case 4:
                                    _j;
                                    return [2 /*return*/];
                            }
                        }); };
                        la.prototype.getFirstRange = function () { return _super.prototype.getFirstRange.call(this) || this._document._getDefaultRange(); };
                        la.prototype.getLastRange = function () { return _super.prototype.getLastRange.call(this) || this._document._getDefaultRange(); };
                        la.prototype.setTo = function (t, e, n) { _super.prototype.setTo.call(this, t, e, n), this._updateAttributes(!0); };
                        la.prototype.setFocus = function (t, e) { _super.prototype.setFocus.call(this, t, e), this._updateAttributes(!0); };
                        la.prototype.setAttribute = function (t, e) { if (this._setAttribute(t, e)) {
                            var e_240 = [t];
                            this.fire("change:attribute", { attributeKeys: e_240, directChange: !0 });
                        } };
                        la.prototype.removeAttribute = function (t) { if (this._removeAttribute(t)) {
                            var e_241 = [t];
                            this.fire("change:attribute", { attributeKeys: e_241, directChange: !0 });
                        } };
                        la.prototype.overrideGravity = function () { var t = Jn(); return this._overriddenGravityRegister.add(t), 1 === this._overriddenGravityRegister.size && this._updateAttributes(!0), t; };
                        la.prototype.restoreGravity = function (t) { if (!this._overriddenGravityRegister.has(t))
                            throw new Gn.b("document-selection-gravity-wrong-restore: Attempting to restore the selection gravity for an unknown UID.", this, { uid: t }); this._overriddenGravityRegister.delete(t), this.isGravityOverridden || this._updateAttributes(!0); };
                        la.prototype._popRange = function () { this._ranges.pop().detach(); };
                        la.prototype._pushRange = function (t) { var e = this._prepareRange(t); e && this._ranges.push(e); };
                        la.prototype._prepareRange = function (t) {
                            var _this = this;
                            if (this._checkRange(t), t.root == this._document.graveyard)
                                return;
                            var e = sa.fromRange(t);
                            return e.on("change:range", function (t, n, i) { _this._hasChangedRange = !0, e.root == _this._document.graveyard && _this._fixGraveyardRangesData.push({ liveRange: e, sourcePosition: i.deletionPosition }); }), e;
                        };
                        la.prototype._updateMarkers = function () {
                            var e_242, _j, e_243, _q, e_244, _z, e_245, _0;
                            var t = [];
                            try {
                                for (var _1 = __values(this._model.markers), _2 = _1.next(); !_2.done; _2 = _1.next()) {
                                    var e_246 = _2.value;
                                    var n_95 = e_246.getRange();
                                    try {
                                        for (var _3 = __values(this.getRanges()), _4 = _3.next(); !_4.done; _4 = _3.next()) {
                                            var i_60 = _4.value;
                                            n_95.containsRange(i_60, !i_60.isCollapsed) && t.push(e_246);
                                        }
                                    }
                                    catch (e_243_1) { e_243 = { error: e_243_1 }; }
                                    finally {
                                        try {
                                            if (_4 && !_4.done && (_q = _3.return)) _q.call(_3);
                                        }
                                        finally { if (e_243) throw e_243.error; }
                                    }
                                }
                            }
                            catch (e_242_1) { e_242 = { error: e_242_1 }; }
                            finally {
                                try {
                                    if (_2 && !_2.done && (_j = _1.return)) _j.call(_1);
                                }
                                finally { if (e_242) throw e_242.error; }
                            }
                            try {
                                for (var t_109 = __values(t), t_109_1 = t_109.next(); !t_109_1.done; t_109_1 = t_109.next()) {
                                    var e_247 = t_109_1.value;
                                    this.markers.has(e_247) || this.markers.add(e_247);
                                }
                            }
                            catch (e_244_1) { e_244 = { error: e_244_1 }; }
                            finally {
                                try {
                                    if (t_109_1 && !t_109_1.done && (_z = t_109.return)) _z.call(t_109);
                                }
                                finally { if (e_244) throw e_244.error; }
                            }
                            try {
                                for (var _5 = __values(Array.from(this.markers)), _6 = _5.next(); !_6.done; _6 = _5.next()) {
                                    var e_248 = _6.value;
                                    t.includes(e_248) || this.markers.remove(e_248);
                                }
                            }
                            catch (e_245_1) { e_245 = { error: e_245_1 }; }
                            finally {
                                try {
                                    if (_6 && !_6.done && (_0 = _5.return)) _0.call(_5);
                                }
                                finally { if (e_245) throw e_245.error; }
                            }
                        };
                        la.prototype._updateAttributes = function (t) {
                            var e_249, _j, e_250, _q, e_251, _z;
                            var e = js(this._getSurroundingAttributes()), n = js(this.getAttributes());
                            if (t)
                                this._attributePriority = new Map, this._attrs = new Map;
                            else
                                try {
                                    for (var _0 = __values(this._attributePriority), _1 = _0.next(); !_1.done; _1 = _0.next()) {
                                        var _2 = __read(_1.value, 2), t_110 = _2[0], e_252 = _2[1];
                                        "low" == e_252 && (this._attrs.delete(t_110), this._attributePriority.delete(t_110));
                                    }
                                }
                                catch (e_249_1) { e_249 = { error: e_249_1 }; }
                                finally {
                                    try {
                                        if (_1 && !_1.done && (_j = _0.return)) _j.call(_0);
                                    }
                                    finally { if (e_249) throw e_249.error; }
                                }
                            this._setAttributesTo(e);
                            var i = [];
                            try {
                                for (var _3 = __values(this.getAttributes()), _4 = _3.next(); !_4.done; _4 = _3.next()) {
                                    var _5 = __read(_4.value, 2), t_111 = _5[0], e_253 = _5[1];
                                    n.has(t_111) && n.get(t_111) === e_253 || i.push(t_111);
                                }
                            }
                            catch (e_250_1) { e_250 = { error: e_250_1 }; }
                            finally {
                                try {
                                    if (_4 && !_4.done && (_q = _3.return)) _q.call(_3);
                                }
                                finally { if (e_250) throw e_250.error; }
                            }
                            try {
                                for (var n_96 = __values(n), n_96_1 = n_96.next(); !n_96_1.done; n_96_1 = n_96.next()) {
                                    var _6 = __read(n_96_1.value, 1), t_112 = _6[0];
                                    this.hasAttribute(t_112) || i.push(t_112);
                                }
                            }
                            catch (e_251_1) { e_251 = { error: e_251_1 }; }
                            finally {
                                try {
                                    if (n_96_1 && !n_96_1.done && (_z = n_96.return)) _z.call(n_96);
                                }
                                finally { if (e_251) throw e_251.error; }
                            }
                            i.length > 0 && this.fire("change:attribute", { attributeKeys: i, directChange: !1 });
                        };
                        la.prototype._setAttribute = function (t, e, n) {
                            if (n === void 0) { n = !0; }
                            var i = n ? "normal" : "low";
                            return ("low" != i || "normal" != this._attributePriority.get(t)) && (_super.prototype.getAttribute.call(this, t) !== e && (this._attrs.set(t, e), this._attributePriority.set(t, i), !0));
                        };
                        la.prototype._removeAttribute = function (t, e) {
                            if (e === void 0) { e = !0; }
                            var n = e ? "normal" : "low";
                            return ("low" != n || "normal" != this._attributePriority.get(t)) && (this._attributePriority.set(t, n), !!_super.prototype.hasAttribute.call(this, t) && (this._attrs.delete(t), !0));
                        };
                        la.prototype._setAttributesTo = function (t) {
                            var e_254, _j, e_255, _q;
                            var e = new Set;
                            try {
                                for (var _z = __values(this.getAttributes()), _0 = _z.next(); !_0.done; _0 = _z.next()) {
                                    var _1 = __read(_0.value, 2), e_256 = _1[0], n_97 = _1[1];
                                    t.get(e_256) !== n_97 && this._removeAttribute(e_256, !1);
                                }
                            }
                            catch (e_254_1) { e_254 = { error: e_254_1 }; }
                            finally {
                                try {
                                    if (_0 && !_0.done && (_j = _z.return)) _j.call(_z);
                                }
                                finally { if (e_254) throw e_254.error; }
                            }
                            try {
                                for (var t_113 = __values(t), t_113_1 = t_113.next(); !t_113_1.done; t_113_1 = t_113.next()) {
                                    var _2 = __read(t_113_1.value, 2), n_98 = _2[0], i_61 = _2[1];
                                    this._setAttribute(n_98, i_61, !1) && e.add(n_98);
                                }
                            }
                            catch (e_255_1) { e_255 = { error: e_255_1 }; }
                            finally {
                                try {
                                    if (t_113_1 && !t_113_1.done && (_q = t_113.return)) _q.call(t_113);
                                }
                                finally { if (e_255) throw e_255.error; }
                            }
                            return e;
                        };
                        la.prototype._getStoredAttributes = function () {
                            var e_257, _j, t, _q, _z, e_258, e_257_1;
                            return __generator(this, function (_0) {
                                switch (_0.label) {
                                    case 0:
                                        t = this.getFirstPosition().parent;
                                        if (!(this.isCollapsed && t.isEmpty)) return [3 /*break*/, 8];
                                        _0.label = 1;
                                    case 1:
                                        _0.trys.push([1, 6, 7, 8]);
                                        _q = __values(t.getAttributeKeys()), _z = _q.next();
                                        _0.label = 2;
                                    case 2:
                                        if (!!_z.done) return [3 /*break*/, 5];
                                        e_258 = _z.value;
                                        if (!e_258.startsWith(aa)) return [3 /*break*/, 4];
                                        return [4 /*yield*/, [e_258.substr(aa.length), t.getAttribute(e_258)]];
                                    case 3:
                                        _0.sent();
                                        _0.label = 4;
                                    case 4:
                                        _z = _q.next();
                                        return [3 /*break*/, 2];
                                    case 5: return [3 /*break*/, 8];
                                    case 6:
                                        e_257_1 = _0.sent();
                                        e_257 = { error: e_257_1 };
                                        return [3 /*break*/, 8];
                                    case 7:
                                        try {
                                            if (_z && !_z.done && (_j = _q.return)) _j.call(_q);
                                        }
                                        finally { if (e_257) throw e_257.error; }
                                        return [7 /*endfinally*/];
                                    case 8: return [2 /*return*/];
                                }
                            });
                        };
                        la.prototype._getSurroundingAttributes = function () {
                            var e_259, _j;
                            var t = this.getFirstPosition(), e = this._model.schema;
                            var n = null;
                            if (this.isCollapsed) {
                                var e_260 = t.textNode ? t.textNode : t.nodeBefore, i_62 = t.textNode ? t.textNode : t.nodeAfter;
                                if (this.isGravityOverridden || (n = da(e_260)), n || (n = da(i_62)), !this.isGravityOverridden && !n) {
                                    var t_115 = e_260;
                                    for (; t_115 && !n;)
                                        n = da(t_115 = t_115.previousSibling);
                                }
                                if (!n) {
                                    var t_116 = i_62;
                                    for (; t_116 && !n;)
                                        n = da(t_116 = t_116.nextSibling);
                                }
                                n || (n = this._getStoredAttributes());
                            }
                            else {
                                var t_117 = this.getFirstRange();
                                try {
                                    for (var t_114 = __values(t_117), t_114_1 = t_114.next(); !t_114_1.done; t_114_1 = t_114.next()) {
                                        var i_63 = t_114_1.value;
                                        if (i_63.item.is("element") && e.isObject(i_63.item))
                                            break;
                                        if ("text" == i_63.type) {
                                            n = i_63.item.getAttributes();
                                            break;
                                        }
                                    }
                                }
                                catch (e_259_1) { e_259 = { error: e_259_1 }; }
                                finally {
                                    try {
                                        if (t_114_1 && !t_114_1.done && (_j = t_114.return)) _j.call(t_114);
                                    }
                                    finally { if (e_259) throw e_259.error; }
                                }
                            }
                            return n;
                        };
                        la.prototype._fixGraveyardSelection = function (t, e) { var n = e.clone(), i = this._model.schema.getNearestSelectionRange(n), o = this._ranges.indexOf(t); if (this._ranges.splice(o, 1), t.detach(), i) {
                            var t_118 = this._prepareRange(i);
                            this._ranges.splice(o, 0, t_118);
                        } };
                        return la;
                    }(ea));
                    function da(t) { return t instanceof Hs || t instanceof Bs ? t.getAttributes() : null; }
                    var ua = /** @class */ (function () {
                        function ua(t) {
                            this._dispatchers = t;
                        }
                        ua.prototype.add = function (t) {
                            var e_261, _j;
                            try {
                                for (var _q = __values(this._dispatchers), _z = _q.next(); !_z.done; _z = _q.next()) {
                                    var e_262 = _z.value;
                                    t(e_262);
                                }
                            }
                            catch (e_261_1) { e_261 = { error: e_261_1 }; }
                            finally {
                                try {
                                    if (_z && !_z.done && (_j = _q.return)) _j.call(_q);
                                }
                                finally { if (e_261) throw e_261.error; }
                            }
                            return this;
                        };
                        return ua;
                    }());
                    var ha = 1, ma = 4;
                    var ga = function (t) { return Bn(t, ha | ma); };
                    var fa = /** @class */ (function (_super) {
                        __extends(fa, _super);
                        function fa() {
                            return _super !== null && _super.apply(this, arguments) || this;
                        }
                        fa.prototype.elementToElement = function (t) { return this.add(function (t) { return (t = ga(t)).view = xa(t.view, "container"), function (e) { e.on("insert:" + t.model, function (t) { return function (e, n, i) { var o = t(n.item, i.writer); if (!o)
                            return; if (!i.consumable.consume(n.item, "insert"))
                            return; var r = i.mapper.toViewPosition(n.range.start); i.mapper.bindElements(n.item, o), i.writer.insert(r, o); }; }(t.view), { priority: t.converterPriority || "normal" }); }; }(t)); };
                        fa.prototype.attributeToElement = function (t) { return this.add(function (t) {
                            var e_263, _j;
                            var e = "attribute:" + ((t = ga(t)).model.key ? t.model.key : t.model);
                            t.model.name && (e += ":" + t.model.name);
                            if (t.model.values)
                                try {
                                    for (var _q = __values(t.model.values), _z = _q.next(); !_z.done; _z = _q.next()) {
                                        var e_264 = _z.value;
                                        t.view[e_264] = xa(t.view[e_264], "attribute");
                                    }
                                }
                                catch (e_263_1) { e_263 = { error: e_263_1 }; }
                                finally {
                                    try {
                                        if (_z && !_z.done && (_j = _q.return)) _j.call(_q);
                                    }
                                    finally { if (e_263) throw e_263.error; }
                                }
                            else
                                t.view = xa(t.view, "attribute");
                            var n = ba(t);
                            return function (i) { i.on(e, function (t) { return function (e, n, i) { var o = t(n.attributeOldValue, i.writer), r = t(n.attributeNewValue, i.writer); if (!o && !r)
                                return; if (!i.consumable.consume(n.item, e.name))
                                return; var s = i.writer, a = s.document.selection; if (n.item instanceof ea || n.item instanceof ca)
                                s.wrap(a.getFirstRange(), r);
                            else {
                                var t_119 = i.mapper.toViewRange(n.range);
                                null !== n.attributeOldValue && o && (t_119 = s.unwrap(t_119, o)), null !== n.attributeNewValue && r && s.wrap(t_119, r);
                            } }; }(n), { priority: t.converterPriority || "normal" }); };
                        }(t)); };
                        fa.prototype.attributeToAttribute = function (t) { return this.add(function (t) {
                            var e_265, _j;
                            var e = "attribute:" + ((t = ga(t)).model.key ? t.model.key : t.model);
                            t.model.name && (e += ":" + t.model.name);
                            if (t.model.values)
                                try {
                                    for (var _q = __values(t.model.values), _z = _q.next(); !_z.done; _z = _q.next()) {
                                        var e_266 = _z.value;
                                        t.view[e_266] = ka(t.view[e_266]);
                                    }
                                }
                                catch (e_265_1) { e_265 = { error: e_265_1 }; }
                                finally {
                                    try {
                                        if (_z && !_z.done && (_j = _q.return)) _j.call(_q);
                                    }
                                    finally { if (e_265) throw e_265.error; }
                                }
                            else
                                t.view = ka(t.view);
                            var n = ba(t);
                            return function (i) { i.on(e, function (t) { return function (e, n, i) {
                                var e_267, _j, e_268, _q, e_269, _z, e_270, _0;
                                var o = t(n.attributeOldValue, n), r = t(n.attributeNewValue, n);
                                if (!o && !r)
                                    return;
                                if (!i.consumable.consume(n.item, e.name))
                                    return;
                                var s = i.mapper.toViewElement(n.item), a = i.writer;
                                if (!s)
                                    throw new Gn.b("conversion-attribute-to-attribute-on-text: Trying to convert text node's attribute with attribute-to-attribute converter.", [n, i]);
                                if (null !== n.attributeOldValue && o)
                                    if ("class" == o.key) {
                                        var t_124 = Array.isArray(o.value) ? o.value : [o.value];
                                        try {
                                            for (var t_120 = __values(t_124), t_120_1 = t_120.next(); !t_120_1.done; t_120_1 = t_120.next()) {
                                                var e_271 = t_120_1.value;
                                                a.removeClass(e_271, s);
                                            }
                                        }
                                        catch (e_267_1) { e_267 = { error: e_267_1 }; }
                                        finally {
                                            try {
                                                if (t_120_1 && !t_120_1.done && (_j = t_120.return)) _j.call(t_120);
                                            }
                                            finally { if (e_267) throw e_267.error; }
                                        }
                                    }
                                    else if ("style" == o.key) {
                                        var t_125 = Object.keys(o.value);
                                        try {
                                            for (var t_121 = __values(t_125), t_121_1 = t_121.next(); !t_121_1.done; t_121_1 = t_121.next()) {
                                                var e_272 = t_121_1.value;
                                                a.removeStyle(e_272, s);
                                            }
                                        }
                                        catch (e_268_1) { e_268 = { error: e_268_1 }; }
                                        finally {
                                            try {
                                                if (t_121_1 && !t_121_1.done && (_q = t_121.return)) _q.call(t_121);
                                            }
                                            finally { if (e_268) throw e_268.error; }
                                        }
                                    }
                                    else
                                        a.removeAttribute(o.key, s);
                                if (null !== n.attributeNewValue && r)
                                    if ("class" == r.key) {
                                        var t_126 = Array.isArray(r.value) ? r.value : [r.value];
                                        try {
                                            for (var t_122 = __values(t_126), t_122_1 = t_122.next(); !t_122_1.done; t_122_1 = t_122.next()) {
                                                var e_273 = t_122_1.value;
                                                a.addClass(e_273, s);
                                            }
                                        }
                                        catch (e_269_1) { e_269 = { error: e_269_1 }; }
                                        finally {
                                            try {
                                                if (t_122_1 && !t_122_1.done && (_z = t_122.return)) _z.call(t_122);
                                            }
                                            finally { if (e_269) throw e_269.error; }
                                        }
                                    }
                                    else if ("style" == r.key) {
                                        var t_127 = Object.keys(r.value);
                                        try {
                                            for (var t_123 = __values(t_127), t_123_1 = t_123.next(); !t_123_1.done; t_123_1 = t_123.next()) {
                                                var e_274 = t_123_1.value;
                                                a.setStyle(e_274, r.value[e_274], s);
                                            }
                                        }
                                        catch (e_270_1) { e_270 = { error: e_270_1 }; }
                                        finally {
                                            try {
                                                if (t_123_1 && !t_123_1.done && (_0 = t_123.return)) _0.call(t_123);
                                            }
                                            finally { if (e_270) throw e_270.error; }
                                        }
                                    }
                                    else
                                        a.setAttribute(r.key, r.value, s);
                            }; }(n), { priority: t.converterPriority || "normal" }); };
                        }(t)); };
                        fa.prototype.markerToElement = function (t) { return this.add(function (t) { return (t = ga(t)).view = xa(t.view, "ui"), function (e) { e.on("addMarker:" + t.model, function (t) { return function (e, n, i) {
                            var e_275, _j;
                            n.isOpening = !0;
                            var o = t(n, i.writer);
                            n.isOpening = !1;
                            var r = t(n, i.writer);
                            if (!o || !r)
                                return;
                            var s = n.markerRange;
                            if (s.isCollapsed && !i.consumable.consume(s, e.name))
                                return;
                            try {
                                for (var s_13 = __values(s), s_13_1 = s_13.next(); !s_13_1.done; s_13_1 = s_13.next()) {
                                    var t_128 = s_13_1.value;
                                    if (!i.consumable.consume(t_128.item, e.name))
                                        return;
                                }
                            }
                            catch (e_275_1) { e_275 = { error: e_275_1 }; }
                            finally {
                                try {
                                    if (s_13_1 && !s_13_1.done && (_j = s_13.return)) _j.call(s_13);
                                }
                                finally { if (e_275) throw e_275.error; }
                            }
                            var a = i.mapper, c = i.writer;
                            c.insert(a.toViewPosition(s.start), o), i.mapper.bindElementToMarker(o, n.markerName), s.isCollapsed || (c.insert(a.toViewPosition(s.end), r), i.mapper.bindElementToMarker(r, n.markerName)), e.stop();
                        }; }(t.view), { priority: t.converterPriority || "normal" }), e.on("removeMarker:" + t.model, (t.view, function (t, e, n) {
                            var e_276, _j;
                            var i = n.mapper.markerNameToElements(e.markerName);
                            if (i) {
                                try {
                                    for (var i_64 = __values(i), i_64_1 = i_64.next(); !i_64_1.done; i_64_1 = i_64.next()) {
                                        var t_129 = i_64_1.value;
                                        n.mapper.unbindElementFromMarkerName(t_129, e.markerName), n.writer.clear(n.writer.createRangeOn(t_129), t_129);
                                    }
                                }
                                catch (e_276_1) { e_276 = { error: e_276_1 }; }
                                finally {
                                    try {
                                        if (i_64_1 && !i_64_1.done && (_j = i_64.return)) _j.call(i_64);
                                    }
                                    finally { if (e_276) throw e_276.error; }
                                }
                                n.writer.clearClonedElementsGroup(e.markerName), t.stop();
                            }
                        }), { priority: t.converterPriority || "normal" }); }; }(t)); };
                        fa.prototype.markerToHighlight = function (t) { return this.add(function (t) { return function (e) { e.on("addMarker:" + t.model, function (t) { return function (e, n, i) {
                            var e_277, _j;
                            if (!n.item)
                                return;
                            if (!(n.item instanceof ea || n.item instanceof ca || n.item.is("textProxy")))
                                return;
                            var o = wa(t, n, i);
                            if (!o)
                                return;
                            if (!i.consumable.consume(n.item, e.name))
                                return;
                            var r = pa(o), s = i.writer, a = s.document.selection;
                            if (n.item instanceof ea || n.item instanceof ca)
                                s.wrap(a.getFirstRange(), r, a);
                            else {
                                var t_130 = i.mapper.toViewRange(n.range), e_278 = s.wrap(t_130, r);
                                try {
                                    for (var _q = __values(e_278.getItems()), _z = _q.next(); !_z.done; _z = _q.next()) {
                                        var t_131 = _z.value;
                                        if (t_131.is("attributeElement") && t_131.isSimilar(r)) {
                                            i.mapper.bindElementToMarker(t_131, n.markerName);
                                            break;
                                        }
                                    }
                                }
                                catch (e_277_1) { e_277 = { error: e_277_1 }; }
                                finally {
                                    try {
                                        if (_z && !_z.done && (_j = _q.return)) _j.call(_q);
                                    }
                                    finally { if (e_277) throw e_277.error; }
                                }
                            }
                        }; }(t.view), { priority: t.converterPriority || "normal" }), e.on("addMarker:" + t.model, function (t) { return function (e, n, i) {
                            var e_279, _j;
                            if (!n.item)
                                return;
                            if (!(n.item instanceof Ws))
                                return;
                            var o = wa(t, n, i);
                            if (!o)
                                return;
                            if (!i.consumable.test(n.item, e.name))
                                return;
                            var r = i.mapper.toViewElement(n.item);
                            if (r && r.getCustomProperty("addHighlight")) {
                                i.consumable.consume(n.item, e.name);
                                try {
                                    for (var _q = __values(Ks._createIn(n.item)), _z = _q.next(); !_z.done; _z = _q.next()) {
                                        var t_132 = _z.value;
                                        i.consumable.consume(t_132.item, e.name);
                                    }
                                }
                                catch (e_279_1) { e_279 = { error: e_279_1 }; }
                                finally {
                                    try {
                                        if (_z && !_z.done && (_j = _q.return)) _j.call(_q);
                                    }
                                    finally { if (e_279) throw e_279.error; }
                                }
                                r.getCustomProperty("addHighlight")(r, o, i.writer), i.mapper.bindElementToMarker(r, n.markerName);
                            }
                        }; }(t.view), { priority: t.converterPriority || "normal" }), e.on("removeMarker:" + t.model, function (t) { return function (e, n, i) {
                            var e_280, _j;
                            if (n.markerRange.isCollapsed)
                                return;
                            var o = wa(t, n, i);
                            if (!o)
                                return;
                            var r = pa(o), s = i.mapper.markerNameToElements(n.markerName);
                            if (s) {
                                try {
                                    for (var s_14 = __values(s), s_14_1 = s_14.next(); !s_14_1.done; s_14_1 = s_14.next()) {
                                        var t_133 = s_14_1.value;
                                        i.mapper.unbindElementFromMarkerName(t_133, n.markerName), t_133.is("attributeElement") ? i.writer.unwrap(i.writer.createRangeOn(t_133), r) : t_133.getCustomProperty("removeHighlight")(t_133, o.id, i.writer);
                                    }
                                }
                                catch (e_280_1) { e_280 = { error: e_280_1 }; }
                                finally {
                                    try {
                                        if (s_14_1 && !s_14_1.done && (_j = s_14.return)) _j.call(s_14);
                                    }
                                    finally { if (e_280) throw e_280.error; }
                                }
                                i.writer.clearClonedElementsGroup(n.markerName), e.stop();
                            }
                        }; }(t.view), { priority: t.converterPriority || "normal" }); }; }(t)); };
                        return fa;
                    }(ua));
                    function pa(t) { var e = new ao("span", t.attributes); return t.classes && e._addClass(t.classes), t.priority && (e._priority = t.priority), e._id = t.id, e; }
                    function xa(t, e) { return "function" == typeof t ? t : function (n, i) { return (function (t, e, n) {
                        var e_281, _j, e_282, _q;
                        "string" == typeof t && (t = { name: t });
                        var i;
                        var o = Object.assign({}, t.attributes);
                        if ("container" == n)
                            i = e.createContainerElement(t.name, o);
                        else if ("attribute" == n) {
                            var n_101 = { priority: t.priority || ao.DEFAULT_PRIORITY };
                            i = e.createAttributeElement(t.name, o, n_101);
                        }
                        else
                            i = e.createUIElement(t.name, o);
                        if (t.styles) {
                            var n_102 = Object.keys(t.styles);
                            try {
                                for (var n_99 = __values(n_102), n_99_1 = n_99.next(); !n_99_1.done; n_99_1 = n_99.next()) {
                                    var o_37 = n_99_1.value;
                                    e.setStyle(o_37, t.styles[o_37], i);
                                }
                            }
                            catch (e_281_1) { e_281 = { error: e_281_1 }; }
                            finally {
                                try {
                                    if (n_99_1 && !n_99_1.done && (_j = n_99.return)) _j.call(n_99);
                                }
                                finally { if (e_281) throw e_281.error; }
                            }
                        }
                        if (t.classes) {
                            var n_103 = t.classes;
                            if ("string" == typeof n_103)
                                e.addClass(n_103, i);
                            else
                                try {
                                    for (var n_100 = __values(n_103), n_100_1 = n_100.next(); !n_100_1.done; n_100_1 = n_100.next()) {
                                        var t_134 = n_100_1.value;
                                        e.addClass(t_134, i);
                                    }
                                }
                                catch (e_282_1) { e_282 = { error: e_282_1 }; }
                                finally {
                                    try {
                                        if (n_100_1 && !n_100_1.done && (_q = n_100.return)) _q.call(n_100);
                                    }
                                    finally { if (e_282) throw e_282.error; }
                                }
                        }
                        return i;
                    })(t, i, e); }; }
                    function ba(t) { return t.model.values ? function (e, n) { var i = t.view[e]; return i ? i(e, n) : null; } : t.view; }
                    function ka(t) { return "string" == typeof t ? function (e) { return ({ key: t, value: e }); } : "object" == typeof t ? t.value ? function () { return t; } : function (e) { return ({ key: t.key, value: e }); } : t; }
                    function wa(t, e, n) { var i = "function" == typeof t ? t(e, n) : t; return i ? (i.priority || (i.priority = 10), i.id || (i.id = e.markerName), i) : null; }
                    var _a = /** @class */ (function (_super) {
                        __extends(_a, _super);
                        function _a() {
                            return _super !== null && _super.apply(this, arguments) || this;
                        }
                        _a.prototype.elementToElement = function (t) { return this.add(va(t)); };
                        _a.prototype.elementToAttribute = function (t) { return this.add(function (t) { Ca(t = ga(t)); var e = Ta(t, !1), n = ya(t.view), i = n ? "element:" + n : "element"; return function (n) { n.on(i, e, { priority: t.converterPriority || "low" }); }; }(t)); };
                        _a.prototype.attributeToAttribute = function (t) { return this.add(function (t) { var e = null; ("string" == typeof (t = ga(t)).view || t.view.key) && (e = function (t) {
                            var _j, _q;
                            "string" == typeof t.view && (t.view = { key: t.view });
                            var e = t.view.key;
                            var n;
                            if ("class" == e || "style" == e) {
                                var i_65 = "class" == e ? "classes" : "styles";
                                n = (_j = {}, _j[i_65] = t.view.value, _j);
                            }
                            else {
                                var i_66 = void 0 === t.view.value ? /[\s\S]*/ : t.view.value;
                                n = { attributes: (_q = {}, _q[e] = i_66, _q) };
                            }
                            t.view.name && (n.name = t.view.name);
                            return t.view = n, e;
                        }(t)); Ca(t, e); var n = Ta(t, !0); return function (e) { e.on("element", n, { priority: t.converterPriority || "low" }); }; }(t)); };
                        _a.prototype.elementToMarker = function (t) { return this.add(function (t) { return function (t) { var e = t.model; t.model = (function (t, n) { var i = "string" == typeof e ? e : e(t); return n.createElement("$marker", { "data-name": i }); }); }(t = ga(t)), va(t); }(t)); };
                        return _a;
                    }(ua));
                    function va(t) { var e = function (t) { var e = t.view ? new xi(t.view) : null; return function (n, i, o) { var r = {}; if (e) {
                        var t_135 = e.match(i.viewItem);
                        if (!t_135)
                            return;
                        r = t_135.match;
                    } r.name = !0; var s = function (t, e, n) { return t instanceof Function ? t(e, n) : n.createElement(t); }(t.model, i.viewItem, o.writer); if (!s)
                        return; if (!o.consumable.test(i.viewItem, r))
                        return; var a = o.splitToAllowedParent(s, i.modelCursor); if (!a)
                        return; o.writer.insert(s, a.position), o.convertChildren(i.viewItem, o.writer.createPositionAt(s, 0)), o.consumable.consume(i.viewItem, r); var c = o.getSplitParts(s); i.modelRange = new Ks(o.writer.createPositionBefore(s), o.writer.createPositionAfter(c[c.length - 1])), a.cursorParent ? i.modelCursor = o.writer.createPositionAt(a.cursorParent, 0) : i.modelCursor = i.modelRange.end; }; }(t = ga(t)), n = ya(t.view), i = n ? "element:" + n : "element"; return function (n) { n.on(i, e, { priority: t.converterPriority || "normal" }); }; }
                    function ya(t) { return "string" == typeof t ? t : "object" == typeof t && "string" == typeof t.name ? t.name : null; }
                    function Ca(t, e) {
                        if (e === void 0) { e = null; }
                        var n = null === e || (function (t) { return t.getAttribute(e); }), i = "object" != typeof t.model ? t.model : t.model.key, o = "object" != typeof t.model || void 0 === t.model.value ? n : t.model.value;
                        t.model = { key: i, value: o };
                    }
                    function Ta(t, e) { var n = new xi(t.view); return function (i, o, r) { var s = n.match(o.viewItem); if (!s)
                        return; var a = t.model.key, c = "function" == typeof t.model.value ? t.model.value(o.viewItem) : t.model.value; null !== c && (!function (t, e) { var n = "function" == typeof t ? t(e) : t; if ("object" == typeof n && !ya(n))
                        return !1; return !n.classes && !n.attributes && !n.styles; }(t.view, o.viewItem) ? delete s.match.name : s.match.name = !0, r.consumable.test(o.viewItem, s.match) && (o.modelRange || (o = Object.assign(o, r.convertChildren(o.viewItem, o.modelCursor))), function (t, e, n, i) {
                        var e_283, _j;
                        var o = !1;
                        try {
                            for (var _q = __values(Array.from(t.getItems({ shallow: n }))), _z = _q.next(); !_z.done; _z = _q.next()) {
                                var r_14 = _z.value;
                                i.schema.checkAttribute(r_14, e.key) && (i.writer.setAttribute(e.key, e.value, r_14), o = !0);
                            }
                        }
                        catch (e_283_1) { e_283 = { error: e_283_1 }; }
                        finally {
                            try {
                                if (_z && !_z.done && (_j = _q.return)) _j.call(_q);
                            }
                            finally { if (e_283) throw e_283.error; }
                        }
                        return o;
                    }(o.modelRange, { key: a, value: c }, e, r) && r.consumable.consume(o.viewItem, s.match))); }; }
                    var Aa = /** @class */ (function () {
                        function Aa(t) {
                            var _this = this;
                            this.model = t, this.view = new zs, this.mapper = new Qs, this.downcastDispatcher = new Xs({ mapper: this.mapper });
                            var e = this.model.document, n = e.selection, i = this.model.markers;
                            this.listenTo(this.model, "_beforeChanges", function () { _this.view._disableRendering(!0); }, { priority: "highest" }), this.listenTo(this.model, "_afterChanges", function () { _this.view._disableRendering(!1); }, { priority: "lowest" }), this.listenTo(e, "change", function () { _this.view.change(function (t) { _this.downcastDispatcher.convertChanges(e.differ, i, t), _this.downcastDispatcher.convertSelection(n, i, t); }); }, { priority: "low" }), this.listenTo(this.view.document, "selectionChange", function (t, e) { return function (n, i) {
                                var e_284, _j;
                                var o = i.newSelection, r = new ea, s = [];
                                try {
                                    for (var _q = __values(o.getRanges()), _z = _q.next(); !_z.done; _z = _q.next()) {
                                        var t_136 = _z.value;
                                        s.push(e.toModelRange(t_136));
                                    }
                                }
                                catch (e_284_1) { e_284 = { error: e_284_1 }; }
                                finally {
                                    try {
                                        if (_z && !_z.done && (_j = _q.return)) _j.call(_q);
                                    }
                                    finally { if (e_284) throw e_284.error; }
                                }
                                r.setTo(s, { backward: o.isBackward }), r.isEqual(t.document.selection) || t.change(function (t) { t.setSelection(r); });
                            }; }(this.model, this.mapper)), this.downcastDispatcher.on("insert:$text", function (t, e, n) { if (!n.consumable.consume(e.item, "insert"))
                                return; var i = n.writer, o = n.mapper.toViewPosition(e.range.start), r = i.createText(e.item.data); i.insert(o, r); }, { priority: "lowest" }), this.downcastDispatcher.on("remove", function (t, e, n) {
                                var e_285, _j;
                                var i = n.mapper.toViewPosition(e.position), o = e.position.getShiftedBy(e.length), r = n.mapper.toViewPosition(o, { isPhantom: !0 }), s = n.writer.createRange(i, r), a = n.writer.remove(s.getTrimmed());
                                try {
                                    for (var _q = __values(n.writer.createRangeIn(a).getItems()), _z = _q.next(); !_z.done; _z = _q.next()) {
                                        var t_137 = _z.value;
                                        n.mapper.unbindViewElement(t_137);
                                    }
                                }
                                catch (e_285_1) { e_285 = { error: e_285_1 }; }
                                finally {
                                    try {
                                        if (_z && !_z.done && (_j = _q.return)) _j.call(_q);
                                    }
                                    finally { if (e_285) throw e_285.error; }
                                }
                            }, { priority: "low" }), this.downcastDispatcher.on("selection", function (t, e, n) {
                                var e_286, _j;
                                var i = n.writer, o = i.document.selection;
                                try {
                                    for (var _q = __values(o.getRanges()), _z = _q.next(); !_z.done; _z = _q.next()) {
                                        var t_138 = _z.value;
                                        t_138.isCollapsed && t_138.end.parent.document && n.writer.mergeAttributes(t_138.start);
                                    }
                                }
                                catch (e_286_1) { e_286 = { error: e_286_1 }; }
                                finally {
                                    try {
                                        if (_z && !_z.done && (_j = _q.return)) _j.call(_q);
                                    }
                                    finally { if (e_286) throw e_286.error; }
                                }
                                i.setSelection(null);
                            }, { priority: "low" }), this.downcastDispatcher.on("selection", function (t, e, n) {
                                var e_287, _j;
                                var i = e.selection;
                                if (i.isCollapsed)
                                    return;
                                if (!n.consumable.consume(i, "selection"))
                                    return;
                                var o = [];
                                try {
                                    for (var _q = __values(i.getRanges()), _z = _q.next(); !_z.done; _z = _q.next()) {
                                        var t_139 = _z.value;
                                        var e_288 = n.mapper.toViewRange(t_139);
                                        o.push(e_288);
                                    }
                                }
                                catch (e_287_1) { e_287 = { error: e_287_1 }; }
                                finally {
                                    try {
                                        if (_z && !_z.done && (_j = _q.return)) _j.call(_q);
                                    }
                                    finally { if (e_287) throw e_287.error; }
                                }
                                n.writer.setSelection(o, { backward: i.isBackward });
                            }, { priority: "low" }), this.downcastDispatcher.on("selection", function (t, e, n) { var i = e.selection; if (!i.isCollapsed)
                                return; if (!n.consumable.consume(i, "selection"))
                                return; var o = n.writer, r = i.getFirstPosition(), s = n.mapper.toViewPosition(r), a = o.breakAttributes(s); o.setSelection(a); }, { priority: "low" }), this.view.document.roots.bindTo(this.model.document.roots).using(function (t) { if ("$graveyard" == t.rootName)
                                return null; var e = new Qi(t.name); return e.rootName = t.rootName, e._document = _this.view.document, _this.mapper.bindElements(t, e), e; });
                        }
                        Aa.prototype.destroy = function () { this.view.destroy(), this.stopListening(); };
                        return Aa;
                    }());
                    ci(Aa, Bi);
                    var Sa = /** @class */ (function () {
                        function Sa(t, e) {
                            var e_289, _j;
                            if (e === void 0) { e = []; }
                            this._editor = t, this._availablePlugins = new Map, this._plugins = new Map;
                            try {
                                for (var e_290 = __values(e), e_290_1 = e_290.next(); !e_290_1.done; e_290_1 = e_290.next()) {
                                    var t_140 = e_290_1.value;
                                    this._availablePlugins.set(t_140, t_140), t_140.pluginName && this._availablePlugins.set(t_140.pluginName, t_140);
                                }
                            }
                            catch (e_289_1) { e_289 = { error: e_289_1 }; }
                            finally {
                                try {
                                    if (e_290_1 && !e_290_1.done && (_j = e_290.return)) _j.call(e_290);
                                }
                                finally { if (e_289) throw e_289.error; }
                            }
                        }
                        Sa.prototype[Symbol.iterator] = function () {
                            var e_291, _j, _q, _z, t_141, _0, e_291_1;
                            return __generator(this, function (_1) {
                                switch (_1.label) {
                                    case 0:
                                        _1.trys.push([0, 6, 7, 8]);
                                        _q = __values(this._plugins), _z = _q.next();
                                        _1.label = 1;
                                    case 1:
                                        if (!!_z.done) return [3 /*break*/, 5];
                                        t_141 = _z.value;
                                        _0 = "function" == typeof t_141[0];
                                        if (!_0) return [3 /*break*/, 3];
                                        return [4 /*yield*/, t_141];
                                    case 2:
                                        _0 = (_1.sent());
                                        _1.label = 3;
                                    case 3:
                                        _0;
                                        _1.label = 4;
                                    case 4:
                                        _z = _q.next();
                                        return [3 /*break*/, 1];
                                    case 5: return [3 /*break*/, 8];
                                    case 6:
                                        e_291_1 = _1.sent();
                                        e_291 = { error: e_291_1 };
                                        return [3 /*break*/, 8];
                                    case 7:
                                        try {
                                            if (_z && !_z.done && (_j = _q.return)) _j.call(_q);
                                        }
                                        finally { if (e_291) throw e_291.error; }
                                        return [7 /*endfinally*/];
                                    case 8: return [2 /*return*/];
                                }
                            });
                        };
                        Sa.prototype.get = function (t) { var e = this._plugins.get(t); if (!e) {
                            var e_292 = "plugincollection-plugin-not-loaded: The requested plugin is not loaded.";
                            var n_104 = t;
                            throw "function" == typeof t && (n_104 = t.pluginName || t.name), new Gn.b(e_292, this._editor, { plugin: n_104 });
                        } return e; };
                        Sa.prototype.has = function (t) { return this._plugins.has(t); };
                        Sa.prototype.init = function (t, e) {
                            if (e === void 0) { e = []; }
                            var n = this, i = this._editor, o = new Set, r = [], s = h(t), a = h(e), c = function (t) {
                                var e_293, _j;
                                var e = [];
                                try {
                                    for (var t_142 = __values(t), t_142_1 = t_142.next(); !t_142_1.done; t_142_1 = t_142.next()) {
                                        var n_105 = t_142_1.value;
                                        u(n_105) || e.push(n_105);
                                    }
                                }
                                catch (e_293_1) { e_293 = { error: e_293_1 }; }
                                finally {
                                    try {
                                        if (t_142_1 && !t_142_1.done && (_j = t_142.return)) _j.call(t_142);
                                    }
                                    finally { if (e_293) throw e_293.error; }
                                }
                                return e.length ? e : null;
                            }(t);
                            if (c) {
                                var t_143 = "plugincollection-plugin-not-found: Some plugins are not available and could not be loaded.";
                                return console.error(Object(Gn.a)(t_143), { plugins: c }), Promise.reject(new Gn.b(t_143, this._editor, { plugins: c }));
                            }
                            return Promise.all(s.map(l)).then(function () { return d(r, "init"); }).then(function () { return d(r, "afterInit"); }).then(function () { return r; });
                            function l(t) { if (!a.includes(t) && !n._plugins.has(t) && !o.has(t))
                                return function (t) { return new Promise(function (s) { o.add(t), t.requires && t.requires.forEach(function (n) { var o = u(n); if (e.includes(o))
                                    throw new Gn.b("plugincollection-required: Cannot load a plugin because one of its dependencies is listed inthe `removePlugins` option.", i, { plugin: o, requiredBy: t }); l(o); }); var a = new t(i); n._add(t, a), r.push(a), s(); }); }(t).catch(function (e) { throw console.error(Object(Gn.a)("plugincollection-load: It was not possible to load the plugin."), { plugin: t }), e; }); }
                            function d(t, e) { return t.reduce(function (t, n) { return n[e] ? t.then(n[e].bind(n)) : t; }, Promise.resolve()); }
                            function u(t) { return "function" == typeof t ? t : n._availablePlugins.get(t); }
                            function h(t) { return t.map(function (t) { return u(t); }).filter(function (t) { return !!t; }); }
                        };
                        Sa.prototype.destroy = function () { var t = Array.from(this).map(function (_j) {
                            var _q = __read(_j, 2), t = _q[1];
                            return t;
                        }).filter(function (t) { return "function" == typeof t.destroy; }).map(function (t) { return t.destroy(); }); return Promise.all(t); };
                        Sa.prototype._add = function (t, e) { this._plugins.set(t, e); var n = t.pluginName; if (n) {
                            if (this._plugins.has(n))
                                throw new Gn.b("plugincollection-plugin-name-conflict: Two plugins with the same name were loaded.", null, { pluginName: n, plugin1: this._plugins.get(n).constructor, plugin2: t });
                            this._plugins.set(n, e);
                        } };
                        return Sa;
                    }());
                    ci(Sa, ei);
                    var Pa = /** @class */ (function () {
                        function Pa() {
                            this._commands = new Map;
                        }
                        Pa.prototype.add = function (t, e) { this._commands.set(t, e); };
                        Pa.prototype.get = function (t) { return this._commands.get(t); };
                        Pa.prototype.execute = function (t) {
                            var e = [];
                            for (var _j = 1; _j < arguments.length; _j++) {
                                e[_j - 1] = arguments[_j];
                            }
                            var n = this.get(t);
                            if (!n)
                                throw new Gn.b("commandcollection-command-not-found: Command does not exist.", this, { commandName: t });
                            n.execute.apply(n, __spread(e));
                        };
                        Pa.prototype.names = function () { return __generator(this, function (_j) {
                            switch (_j.label) {
                                case 0: return [5 /*yield**/, __values(this._commands.keys())];
                                case 1:
                                    _j.sent();
                                    return [2 /*return*/];
                            }
                        }); };
                        Pa.prototype.commands = function () { return __generator(this, function (_j) {
                            switch (_j.label) {
                                case 0: return [5 /*yield**/, __values(this._commands.values())];
                                case 1:
                                    _j.sent();
                                    return [2 /*return*/];
                            }
                        }); };
                        Pa.prototype[Symbol.iterator] = function () { return this._commands[Symbol.iterator](); };
                        Pa.prototype.destroy = function () {
                            var e_294, _j;
                            try {
                                for (var _q = __values(this.commands()), _z = _q.next(); !_z.done; _z = _q.next()) {
                                    var t_144 = _z.value;
                                    t_144.destroy();
                                }
                            }
                            catch (e_294_1) { e_294 = { error: e_294_1 }; }
                            finally {
                                try {
                                    if (_z && !_z.done && (_j = _q.return)) _j.call(_q);
                                }
                                finally { if (e_294) throw e_294.error; }
                            }
                        };
                        return Pa;
                    }());
                    function Ma(t, e) { var n = Object.keys(window.CKEDITOR_TRANSLATIONS).length; return 1 === n && (t = Object.keys(window.CKEDITOR_TRANSLATIONS)[0]), 0 !== n && function (t, e) { return t in window.CKEDITOR_TRANSLATIONS && e in window.CKEDITOR_TRANSLATIONS[t]; }(t, e) ? window.CKEDITOR_TRANSLATIONS[t][e].replace(/ \[context: [^\]]+\]$/, "") : e.replace(/ \[context: [^\]]+\]$/, ""); }
                    window.CKEDITOR_TRANSLATIONS || (window.CKEDITOR_TRANSLATIONS = {});
                    var Ea = ["ar", "fa", "he", "ku", "ug"];
                    var Ia = /** @class */ (function () {
                        function Ia(t) {
                            var _this = this;
                            if (t === void 0) { t = {}; }
                            this.uiLanguage = t.uiLanguage || "en", this.contentLanguage = t.contentLanguage || this.uiLanguage, this.uiLanguageDirection = Na(this.uiLanguage), this.contentLanguageDirection = Na(this.contentLanguage), this.t = (function () {
                                var t = [];
                                for (var _j = 0; _j < arguments.length; _j++) {
                                    t[_j] = arguments[_j];
                                }
                                return _this._t.apply(_this, __spread(t));
                            });
                        }
                        Object.defineProperty(Ia.prototype, "language", {
                            get: function () { return console.warn("locale-deprecated-language-property: The Locale#language property has been deprecated and will be removed in the near future. Please use #uiLanguage and #contentLanguage properties instead."), this.uiLanguage; },
                            enumerable: true,
                            configurable: true
                        });
                        Ia.prototype._t = function (t, e) { var n = Ma(this.uiLanguage, t); return e && (n = n.replace(/%(\d+)/g, function (t, n) { return n < e.length ? e[n] : t; })), n; };
                        return Ia;
                    }());
                    function Na(t) { return Ea.includes(t) ? "rtl" : "ltr"; }
                    var Ra = /** @class */ (function () {
                        function Ra() {
                            this._consumables = new Map;
                        }
                        Ra.prototype.add = function (t, e) { var n; t.is("text") || t.is("documentFragment") ? this._consumables.set(t, !0) : (this._consumables.has(t) ? n = this._consumables.get(t) : (n = new Oa, this._consumables.set(t, n)), n.add(e)); };
                        Ra.prototype.test = function (t, e) { var n = this._consumables.get(t); return void 0 === n ? null : t.is("text") || t.is("documentFragment") ? n : n.test(e); };
                        Ra.prototype.consume = function (t, e) { return !!this.test(t, e) && (t.is("text") || t.is("documentFragment") ? this._consumables.set(t, !1) : this._consumables.get(t).consume(e), !0); };
                        Ra.prototype.revert = function (t, e) { var n = this._consumables.get(t); void 0 !== n && (t.is("text") || t.is("documentFragment") ? this._consumables.set(t, !0) : n.revert(e)); };
                        Ra.consumablesFromElement = function (t) {
                            var e_295, _j, e_296, _q, e_297, _z;
                            var e = { name: !0, attributes: [], classes: [], styles: [] }, n = t.getAttributeKeys();
                            try {
                                for (var n_106 = __values(n), n_106_1 = n_106.next(); !n_106_1.done; n_106_1 = n_106.next()) {
                                    var t_145 = n_106_1.value;
                                    "style" != t_145 && "class" != t_145 && e.attributes.push(t_145);
                                }
                            }
                            catch (e_295_1) { e_295 = { error: e_295_1 }; }
                            finally {
                                try {
                                    if (n_106_1 && !n_106_1.done && (_j = n_106.return)) _j.call(n_106);
                                }
                                finally { if (e_295) throw e_295.error; }
                            }
                            var i = t.getClassNames();
                            try {
                                for (var i_67 = __values(i), i_67_1 = i_67.next(); !i_67_1.done; i_67_1 = i_67.next()) {
                                    var t_146 = i_67_1.value;
                                    e.classes.push(t_146);
                                }
                            }
                            catch (e_296_1) { e_296 = { error: e_296_1 }; }
                            finally {
                                try {
                                    if (i_67_1 && !i_67_1.done && (_q = i_67.return)) _q.call(i_67);
                                }
                                finally { if (e_296) throw e_296.error; }
                            }
                            var o = t.getStyleNames();
                            try {
                                for (var o_38 = __values(o), o_38_1 = o_38.next(); !o_38_1.done; o_38_1 = o_38.next()) {
                                    var t_147 = o_38_1.value;
                                    e.styles.push(t_147);
                                }
                            }
                            catch (e_297_1) { e_297 = { error: e_297_1 }; }
                            finally {
                                try {
                                    if (o_38_1 && !o_38_1.done && (_z = o_38.return)) _z.call(o_38);
                                }
                                finally { if (e_297) throw e_297.error; }
                            }
                            return e;
                        };
                        Ra.createFrom = function (t, e) {
                            var e_298, _j;
                            if (e || (e = new Ra), t.is("text"))
                                return e.add(t), e;
                            t.is("element") && e.add(t, Ra.consumablesFromElement(t)), t.is("documentFragment") && e.add(t);
                            try {
                                for (var _q = __values(t.getChildren()), _z = _q.next(); !_z.done; _z = _q.next()) {
                                    var n_107 = _z.value;
                                    e = Ra.createFrom(n_107, e);
                                }
                            }
                            catch (e_298_1) { e_298 = { error: e_298_1 }; }
                            finally {
                                try {
                                    if (_z && !_z.done && (_j = _q.return)) _j.call(_q);
                                }
                                finally { if (e_298) throw e_298.error; }
                            }
                            return e;
                        };
                        return Ra;
                    }());
                    var Oa = /** @class */ (function () {
                        function Oa() {
                            this._canConsumeName = null, this._consumables = { attributes: new Map, styles: new Map, classes: new Map };
                        }
                        Oa.prototype.add = function (t) { t.name && (this._canConsumeName = !0); for (var e_299 in this._consumables)
                            e_299 in t && this._add(e_299, t[e_299]); };
                        Oa.prototype.test = function (t) { if (t.name && !this._canConsumeName)
                            return this._canConsumeName; for (var e_300 in this._consumables)
                            if (e_300 in t) {
                                var n_108 = this._test(e_300, t[e_300]);
                                if (!0 !== n_108)
                                    return n_108;
                            } return !0; };
                        Oa.prototype.consume = function (t) { t.name && (this._canConsumeName = !1); for (var e_301 in this._consumables)
                            e_301 in t && this._consume(e_301, t[e_301]); };
                        Oa.prototype.revert = function (t) { t.name && (this._canConsumeName = !0); for (var e_302 in this._consumables)
                            e_302 in t && this._revert(e_302, t[e_302]); };
                        Oa.prototype._add = function (t, e) {
                            var e_303, _j;
                            var n = qt(e) ? e : [e], i = this._consumables[t];
                            try {
                                for (var n_109 = __values(n), n_109_1 = n_109.next(); !n_109_1.done; n_109_1 = n_109.next()) {
                                    var e_304 = n_109_1.value;
                                    if ("attributes" === t && ("class" === e_304 || "style" === e_304))
                                        throw new Gn.b("viewconsumable-invalid-attribute: Classes and styles should be handled separately.", this);
                                    i.set(e_304, !0);
                                }
                            }
                            catch (e_303_1) { e_303 = { error: e_303_1 }; }
                            finally {
                                try {
                                    if (n_109_1 && !n_109_1.done && (_j = n_109.return)) _j.call(n_109);
                                }
                                finally { if (e_303) throw e_303.error; }
                            }
                        };
                        Oa.prototype._test = function (t, e) {
                            var e_305, _j;
                            var n = qt(e) ? e : [e], i = this._consumables[t];
                            try {
                                for (var n_110 = __values(n), n_110_1 = n_110.next(); !n_110_1.done; n_110_1 = n_110.next()) {
                                    var e_306 = n_110_1.value;
                                    if ("attributes" !== t || "class" !== e_306 && "style" !== e_306) {
                                        var t_148 = i.get(e_306);
                                        if (void 0 === t_148)
                                            return null;
                                        if (!t_148)
                                            return !1;
                                    }
                                    else {
                                        var t_149 = "class" == e_306 ? "classes" : "styles", n_111 = this._test(t_149, __spread(this._consumables[t_149].keys()));
                                        if (!0 !== n_111)
                                            return n_111;
                                    }
                                }
                            }
                            catch (e_305_1) { e_305 = { error: e_305_1 }; }
                            finally {
                                try {
                                    if (n_110_1 && !n_110_1.done && (_j = n_110.return)) _j.call(n_110);
                                }
                                finally { if (e_305) throw e_305.error; }
                            }
                            return !0;
                        };
                        Oa.prototype._consume = function (t, e) {
                            var e_307, _j;
                            var n = qt(e) ? e : [e], i = this._consumables[t];
                            try {
                                for (var n_112 = __values(n), n_112_1 = n_112.next(); !n_112_1.done; n_112_1 = n_112.next()) {
                                    var e_308 = n_112_1.value;
                                    if ("attributes" !== t || "class" !== e_308 && "style" !== e_308)
                                        i.set(e_308, !1);
                                    else {
                                        var t_150 = "class" == e_308 ? "classes" : "styles";
                                        this._consume(t_150, __spread(this._consumables[t_150].keys()));
                                    }
                                }
                            }
                            catch (e_307_1) { e_307 = { error: e_307_1 }; }
                            finally {
                                try {
                                    if (n_112_1 && !n_112_1.done && (_j = n_112.return)) _j.call(n_112);
                                }
                                finally { if (e_307) throw e_307.error; }
                            }
                        };
                        Oa.prototype._revert = function (t, e) {
                            var e_309, _j;
                            var n = qt(e) ? e : [e], i = this._consumables[t];
                            try {
                                for (var n_113 = __values(n), n_113_1 = n_113.next(); !n_113_1.done; n_113_1 = n_113.next()) {
                                    var e_310 = n_113_1.value;
                                    if ("attributes" !== t || "class" !== e_310 && "style" !== e_310) {
                                        !1 === i.get(e_310) && i.set(e_310, !0);
                                    }
                                    else {
                                        var t_151 = "class" == e_310 ? "classes" : "styles";
                                        this._revert(t_151, __spread(this._consumables[t_151].keys()));
                                    }
                                }
                            }
                            catch (e_309_1) { e_309 = { error: e_309_1 }; }
                            finally {
                                try {
                                    if (n_113_1 && !n_113_1.done && (_j = n_113.return)) _j.call(n_113);
                                }
                                finally { if (e_309) throw e_309.error; }
                            }
                        };
                        return Oa;
                    }());
                    var Da = /** @class */ (function () {
                        function Da() {
                            var _this = this;
                            this._sourceDefinitions = {}, this._attributeProperties = {}, this.decorate("checkChild"), this.decorate("checkAttribute"), this.on("checkAttribute", function (t, e) { e[0] = new La(e[0]); }, { priority: "highest" }), this.on("checkChild", function (t, e) { e[0] = new La(e[0]), e[1] = _this.getDefinition(e[1]); }, { priority: "highest" });
                        }
                        Da.prototype.register = function (t, e) { if (this._sourceDefinitions[t])
                            throw new Gn.b("schema-cannot-register-item-twice: A single item cannot be registered twice in the schema.", this, { itemName: t }); this._sourceDefinitions[t] = [Object.assign({}, e)], this._clearCache(); };
                        Da.prototype.extend = function (t, e) { if (!this._sourceDefinitions[t])
                            throw new Gn.b("schema-cannot-extend-missing-item: Cannot extend an item which was not registered yet.", this, { itemName: t }); this._sourceDefinitions[t].push(Object.assign({}, e)), this._clearCache(); };
                        Da.prototype.getDefinitions = function () { return this._compiledDefinitions || this._compile(), this._compiledDefinitions; };
                        Da.prototype.getDefinition = function (t) { var e; return e = "string" == typeof t ? t : t.is && (t.is("text") || t.is("textProxy")) ? "$text" : t.name, this.getDefinitions()[e]; };
                        Da.prototype.isRegistered = function (t) { return !!this.getDefinition(t); };
                        Da.prototype.isBlock = function (t) { var e = this.getDefinition(t); return !(!e || !e.isBlock); };
                        Da.prototype.isLimit = function (t) { var e = this.getDefinition(t); return !!e && !(!e.isLimit && !e.isObject); };
                        Da.prototype.isObject = function (t) { var e = this.getDefinition(t); return !(!e || !e.isObject); };
                        Da.prototype.isInline = function (t) { var e = this.getDefinition(t); return !(!e || !e.isInline); };
                        Da.prototype.checkChild = function (t, e) { return !!e && this._checkContextMatch(e, t); };
                        Da.prototype.checkAttribute = function (t, e) { var n = this.getDefinition(t.last); return !!n && n.allowAttributes.includes(e); };
                        Da.prototype.checkMerge = function (t, e) {
                            var e_311, _j;
                            if (e === void 0) { e = null; }
                            if (t instanceof Gs) {
                                var e_312 = t.nodeBefore, n_114 = t.nodeAfter;
                                if (!(e_312 instanceof Ws))
                                    throw new Gn.b("schema-check-merge-no-element-before: The node before the merge position must be an element.", this);
                                if (!(n_114 instanceof Ws))
                                    throw new Gn.b("schema-check-merge-no-element-after: The node after the merge position must be an element.", this);
                                return this.checkMerge(e_312, n_114);
                            }
                            try {
                                for (var _q = __values(e.getChildren()), _z = _q.next(); !_z.done; _z = _q.next()) {
                                    var n_115 = _z.value;
                                    if (!this.checkChild(t, n_115))
                                        return !1;
                                }
                            }
                            catch (e_311_1) { e_311 = { error: e_311_1 }; }
                            finally {
                                try {
                                    if (_z && !_z.done && (_j = _q.return)) _j.call(_q);
                                }
                                finally { if (e_311) throw e_311.error; }
                            }
                            return !0;
                        };
                        Da.prototype.addChildCheck = function (t) { this.on("checkChild", function (e, _j) {
                            var _q = __read(_j, 2), n = _q[0], i = _q[1];
                            if (!i)
                                return;
                            var o = t(n, i);
                            "boolean" == typeof o && (e.stop(), e.return = o);
                        }, { priority: "high" }); };
                        Da.prototype.addAttributeCheck = function (t) { this.on("checkAttribute", function (e, _j) {
                            var _q = __read(_j, 2), n = _q[0], i = _q[1];
                            var o = t(n, i);
                            "boolean" == typeof o && (e.stop(), e.return = o);
                        }, { priority: "high" }); };
                        Da.prototype.setAttributeProperties = function (t, e) { this._attributeProperties[t] = Object.assign(this.getAttributeProperties(t), e); };
                        Da.prototype.getAttributeProperties = function (t) { return this._attributeProperties[t] || {}; };
                        Da.prototype.getLimitElement = function (t) { var e; if (t instanceof Gs)
                            e = t.parent;
                        else {
                            e = (t instanceof Ks ? [t] : Array.from(t.getRanges())).reduce(function (t, e) { var n = e.getCommonAncestor(); return t ? t.getCommonAncestor(n, { includeSelf: !0 }) : n; }, null);
                        } for (; !this.isLimit(e) && e.parent;)
                            e = e.parent; return e; };
                        Da.prototype.checkAttributeInSelection = function (t, e) {
                            var e_313, _j, e_314, _q;
                            if (t.isCollapsed) {
                                var n_117 = __spread(t.getFirstPosition().getAncestors(), [new Bs("", t.getAttributes())]);
                                return this.checkAttribute(n_117, e);
                            }
                            {
                                var n_118 = t.getRanges();
                                try {
                                    for (var n_116 = __values(n_118), n_116_1 = n_116.next(); !n_116_1.done; n_116_1 = n_116.next()) {
                                        var t_153 = n_116_1.value;
                                        try {
                                            for (var t_152 = __values(t_153), t_152_1 = t_152.next(); !t_152_1.done; t_152_1 = t_152.next()) {
                                                var n_119 = t_152_1.value;
                                                if (this.checkAttribute(n_119.item, e))
                                                    return !0;
                                            }
                                        }
                                        catch (e_314_1) { e_314 = { error: e_314_1 }; }
                                        finally {
                                            try {
                                                if (t_152_1 && !t_152_1.done && (_q = t_152.return)) _q.call(t_152);
                                            }
                                            finally { if (e_314) throw e_314.error; }
                                        }
                                    }
                                }
                                catch (e_313_1) { e_313 = { error: e_313_1 }; }
                                finally {
                                    try {
                                        if (n_116_1 && !n_116_1.done && (_j = n_116.return)) _j.call(n_116);
                                    }
                                    finally { if (e_313) throw e_313.error; }
                                }
                            }
                            return !1;
                        };
                        Da.prototype.getValidRanges = function (t, e) {
                            var e_315, _j, t_154, t_154_1, n_120, e_315_1;
                            return __generator(this, function (_q) {
                                switch (_q.label) {
                                    case 0:
                                        t = function (t) {
                                            var e_316, _j, t_155, t_155_1, e_317, e_316_1;
                                            return __generator(this, function (_q) {
                                                switch (_q.label) {
                                                    case 0:
                                                        _q.trys.push([0, 5, 6, 7]);
                                                        t_155 = __values(t), t_155_1 = t_155.next();
                                                        _q.label = 1;
                                                    case 1:
                                                        if (!!t_155_1.done) return [3 /*break*/, 4];
                                                        e_317 = t_155_1.value;
                                                        return [5 /*yield**/, __values(e_317.getMinimalFlatRanges())];
                                                    case 2:
                                                        _q.sent();
                                                        _q.label = 3;
                                                    case 3:
                                                        t_155_1 = t_155.next();
                                                        return [3 /*break*/, 1];
                                                    case 4: return [3 /*break*/, 7];
                                                    case 5:
                                                        e_316_1 = _q.sent();
                                                        e_316 = { error: e_316_1 };
                                                        return [3 /*break*/, 7];
                                                    case 6:
                                                        try {
                                                            if (t_155_1 && !t_155_1.done && (_j = t_155.return)) _j.call(t_155);
                                                        }
                                                        finally { if (e_316) throw e_316.error; }
                                                        return [7 /*endfinally*/];
                                                    case 7: return [2 /*return*/];
                                                }
                                            });
                                        }(t);
                                        _q.label = 1;
                                    case 1:
                                        _q.trys.push([1, 6, 7, 8]);
                                        t_154 = __values(t), t_154_1 = t_154.next();
                                        _q.label = 2;
                                    case 2:
                                        if (!!t_154_1.done) return [3 /*break*/, 5];
                                        n_120 = t_154_1.value;
                                        return [5 /*yield**/, __values(this._getValidRangesForRange(n_120, e))];
                                    case 3:
                                        _q.sent();
                                        _q.label = 4;
                                    case 4:
                                        t_154_1 = t_154.next();
                                        return [3 /*break*/, 2];
                                    case 5: return [3 /*break*/, 8];
                                    case 6:
                                        e_315_1 = _q.sent();
                                        e_315 = { error: e_315_1 };
                                        return [3 /*break*/, 8];
                                    case 7:
                                        try {
                                            if (t_154_1 && !t_154_1.done && (_j = t_154.return)) _j.call(t_154);
                                        }
                                        finally { if (e_315) throw e_315.error; }
                                        return [7 /*endfinally*/];
                                    case 8: return [2 /*return*/];
                                }
                            });
                        };
                        Da.prototype.getNearestSelectionRange = function (t, e) {
                            var e_318, _j;
                            if (e === void 0) { e = "both"; }
                            if (this.checkChild(t, "$text"))
                                return new Ks(t);
                            var n, i;
                            "both" != e && "backward" != e || (n = new qs({ startPosition: t, direction: "backward" })), "both" != e && "forward" != e || (i = new qs({ startPosition: t }));
                            try {
                                for (var _q = __values(function (t, e) { var n, e_319, _j, t_156, _q; return __generator(this, function (_z) {
                                    switch (_z.label) {
                                        case 0:
                                            n = !1;
                                            _z.label = 1;
                                        case 1:
                                            if (!!n) return [3 /*break*/, 8];
                                            if (!(n = !0, t)) return [3 /*break*/, 4];
                                            e_319 = t.next();
                                            _j = e_319.done;
                                            if (_j) return [3 /*break*/, 3];
                                            n = !1;
                                            return [4 /*yield*/, { walker: t, value: e_319.value }];
                                        case 2:
                                            _j = (_z.sent());
                                            _z.label = 3;
                                        case 3:
                                            _j;
                                            _z.label = 4;
                                        case 4:
                                            if (!e) return [3 /*break*/, 7];
                                            t_156 = e.next();
                                            _q = t_156.done;
                                            if (_q) return [3 /*break*/, 6];
                                            n = !1;
                                            return [4 /*yield*/, { walker: e, value: t_156.value }];
                                        case 5:
                                            _q = (_z.sent());
                                            _z.label = 6;
                                        case 6:
                                            _q;
                                            _z.label = 7;
                                        case 7: return [3 /*break*/, 1];
                                        case 8: return [2 /*return*/];
                                    }
                                }); }(n, i)), _z = _q.next(); !_z.done; _z = _q.next()) {
                                    var t_157 = _z.value;
                                    var e_320 = t_157.walker == n ? "elementEnd" : "elementStart", i_68 = t_157.value;
                                    if (i_68.type == e_320 && this.isObject(i_68.item))
                                        return Ks._createOn(i_68.item);
                                    if (this.checkChild(i_68.nextPosition, "$text"))
                                        return new Ks(i_68.nextPosition);
                                }
                            }
                            catch (e_318_1) { e_318 = { error: e_318_1 }; }
                            finally {
                                try {
                                    if (_z && !_z.done && (_j = _q.return)) _j.call(_q);
                                }
                                finally { if (e_318) throw e_318.error; }
                            }
                            return null;
                        };
                        Da.prototype.findAllowedParent = function (t, e) { var n = t.parent; for (; n;) {
                            if (this.checkChild(n, e))
                                return n;
                            if (this.isLimit(n))
                                return null;
                            n = n.parent;
                        } return null; };
                        Da.prototype.removeDisallowedAttributes = function (t, e) {
                            var e_321, _j, e_322, _q;
                            try {
                                for (var t_158 = __values(t), t_158_1 = t_158.next(); !t_158_1.done; t_158_1 = t_158.next()) {
                                    var n_121 = t_158_1.value;
                                    if (n_121.is("text"))
                                        $a(this, n_121, e);
                                    else {
                                        var t_160 = Ks._createIn(n_121).getPositions();
                                        try {
                                            for (var t_159 = __values(t_160), t_159_1 = t_159.next(); !t_159_1.done; t_159_1 = t_159.next()) {
                                                var n_122 = t_159_1.value;
                                                $a(this, n_122.nodeBefore || n_122.parent, e);
                                            }
                                        }
                                        catch (e_322_1) { e_322 = { error: e_322_1 }; }
                                        finally {
                                            try {
                                                if (t_159_1 && !t_159_1.done && (_q = t_159.return)) _q.call(t_159);
                                            }
                                            finally { if (e_322) throw e_322.error; }
                                        }
                                    }
                                }
                            }
                            catch (e_321_1) { e_321 = { error: e_321_1 }; }
                            finally {
                                try {
                                    if (t_158_1 && !t_158_1.done && (_j = t_158.return)) _j.call(t_158);
                                }
                                finally { if (e_321) throw e_321.error; }
                            }
                        };
                        Da.prototype.createContext = function (t) { return new La(t); };
                        Da.prototype._clearCache = function () { this._compiledDefinitions = null; };
                        Da.prototype._compile = function () {
                            var e_323, _j, e_324, _q, e_325, _z, e_326, _0, e_327, _1;
                            var t = {}, e = this._sourceDefinitions, n = Object.keys(e);
                            try {
                                for (var n_123 = __values(n), n_123_1 = n_123.next(); !n_123_1.done; n_123_1 = n_123.next()) {
                                    var i_69 = n_123_1.value;
                                    t[i_69] = Va(e[i_69], i_69);
                                }
                            }
                            catch (e_323_1) { e_323 = { error: e_323_1 }; }
                            finally {
                                try {
                                    if (n_123_1 && !n_123_1.done && (_j = n_123.return)) _j.call(n_123);
                                }
                                finally { if (e_323) throw e_323.error; }
                            }
                            try {
                                for (var n_124 = __values(n), n_124_1 = n_124.next(); !n_124_1.done; n_124_1 = n_124.next()) {
                                    var e_328 = n_124_1.value;
                                    za(t, e_328);
                                }
                            }
                            catch (e_324_1) { e_324 = { error: e_324_1 }; }
                            finally {
                                try {
                                    if (n_124_1 && !n_124_1.done && (_q = n_124.return)) _q.call(n_124);
                                }
                                finally { if (e_324) throw e_324.error; }
                            }
                            try {
                                for (var n_125 = __values(n), n_125_1 = n_125.next(); !n_125_1.done; n_125_1 = n_125.next()) {
                                    var e_329 = n_125_1.value;
                                    ja(t, e_329);
                                }
                            }
                            catch (e_325_1) { e_325 = { error: e_325_1 }; }
                            finally {
                                try {
                                    if (n_125_1 && !n_125_1.done && (_z = n_125.return)) _z.call(n_125);
                                }
                                finally { if (e_325) throw e_325.error; }
                            }
                            try {
                                for (var n_126 = __values(n), n_126_1 = n_126.next(); !n_126_1.done; n_126_1 = n_126.next()) {
                                    var e_330 = n_126_1.value;
                                    Fa(t, e_330), Ba(t, e_330);
                                }
                            }
                            catch (e_326_1) { e_326 = { error: e_326_1 }; }
                            finally {
                                try {
                                    if (n_126_1 && !n_126_1.done && (_0 = n_126.return)) _0.call(n_126);
                                }
                                finally { if (e_326) throw e_326.error; }
                            }
                            try {
                                for (var n_127 = __values(n), n_127_1 = n_127.next(); !n_127_1.done; n_127_1 = n_127.next()) {
                                    var e_331 = n_127_1.value;
                                    Ha(t, e_331), Ua(t, e_331);
                                }
                            }
                            catch (e_327_1) { e_327 = { error: e_327_1 }; }
                            finally {
                                try {
                                    if (n_127_1 && !n_127_1.done && (_1 = n_127.return)) _1.call(n_127);
                                }
                                finally { if (e_327) throw e_327.error; }
                            }
                            this._compiledDefinitions = t;
                        };
                        Da.prototype._checkContextMatch = function (t, e, n) {
                            if (n === void 0) { n = e.length - 1; }
                            var i = e.getItem(n);
                            if (t.allowIn.includes(i.name)) {
                                if (0 == n)
                                    return !0;
                                {
                                    var t_161 = this.getDefinition(i);
                                    return this._checkContextMatch(t_161, e, n - 1);
                                }
                            }
                            return !1;
                        };
                        Da.prototype._getValidRangesForRange = function (t, e) {
                            var e_332, _j, n, i, _q, _z, o_39, _0, _1, _2, e_332_1, _3;
                            return __generator(this, function (_4) {
                                switch (_4.label) {
                                    case 0:
                                        n = t.start, i = t.start;
                                        _4.label = 1;
                                    case 1:
                                        _4.trys.push([1, 10, 11, 12]);
                                        _q = __values(t.getItems({ shallow: !0 })), _z = _q.next();
                                        _4.label = 2;
                                    case 2:
                                        if (!!_z.done) return [3 /*break*/, 9];
                                        o_39 = _z.value;
                                        _0 = o_39.is("element");
                                        if (!_0) return [3 /*break*/, 4];
                                        return [5 /*yield**/, __values(this._getValidRangesForRange(Ks._createIn(o_39), e))];
                                    case 3:
                                        _0 = (_4.sent());
                                        _4.label = 4;
                                    case 4:
                                        _0;
                                        _1 = this.checkAttribute(o_39, e);
                                        if (_1) return [3 /*break*/, 7];
                                        _2 = n.isEqual(i);
                                        if (_2) return [3 /*break*/, 6];
                                        return [4 /*yield*/, new Ks(n, i)];
                                    case 5:
                                        _2 = (_4.sent());
                                        _4.label = 6;
                                    case 6:
                                        _1 = (_2, n = Gs._createAfter(o_39));
                                        _4.label = 7;
                                    case 7:
                                        _1, i = Gs._createAfter(o_39);
                                        _4.label = 8;
                                    case 8:
                                        _z = _q.next();
                                        return [3 /*break*/, 2];
                                    case 9: return [3 /*break*/, 12];
                                    case 10:
                                        e_332_1 = _4.sent();
                                        e_332 = { error: e_332_1 };
                                        return [3 /*break*/, 12];
                                    case 11:
                                        try {
                                            if (_z && !_z.done && (_j = _q.return)) _j.call(_q);
                                        }
                                        finally { if (e_332) throw e_332.error; }
                                        return [7 /*endfinally*/];
                                    case 12:
                                        _3 = n.isEqual(i);
                                        if (_3) return [3 /*break*/, 14];
                                        return [4 /*yield*/, new Ks(n, i)];
                                    case 13:
                                        _3 = (_4.sent());
                                        _4.label = 14;
                                    case 14:
                                        _3;
                                        return [2 /*return*/];
                                }
                            });
                        };
                        return Da;
                    }());
                    ci(Da, Bi);
                    var La = /** @class */ (function () {
                        function La(t) {
                            if (t instanceof La)
                                return t;
                            "string" == typeof t ? t = [t] : Array.isArray(t) || (t = t.getAncestors({ includeSelf: !0 })), t[0] && "string" != typeof t[0] && t[0].is("documentFragment") && t.shift(), this._items = t.map(Ya);
                        }
                        Object.defineProperty(La.prototype, "length", {
                            get: function () { return this._items.length; },
                            enumerable: true,
                            configurable: true
                        });
                        Object.defineProperty(La.prototype, "last", {
                            get: function () { return this._items[this._items.length - 1]; },
                            enumerable: true,
                            configurable: true
                        });
                        La.prototype[Symbol.iterator] = function () { return this._items[Symbol.iterator](); };
                        La.prototype.push = function (t) { var e = new La([t]); return e._items = __spread(this._items, e._items), e; };
                        La.prototype.getItem = function (t) { return this._items[t]; };
                        La.prototype.getNames = function () { return __generator(this, function (_j) {
                            switch (_j.label) {
                                case 0: return [5 /*yield**/, __values(this._items.map(function (t) { return t.name; }))];
                                case 1:
                                    _j.sent();
                                    return [2 /*return*/];
                            }
                        }); };
                        La.prototype.endsWith = function (t) { return Array.from(this.getNames()).join(" ").endsWith(t); };
                        return La;
                    }());
                    function Va(t, e) { var n = { name: e, allowIn: [], allowContentOf: [], allowWhere: [], allowAttributes: [], allowAttributesOf: [], inheritTypesFrom: [] }; return function (t, e) {
                        var e_333, _j, e_334, _q;
                        try {
                            for (var t_162 = __values(t), t_162_1 = t_162.next(); !t_162_1.done; t_162_1 = t_162.next()) {
                                var n_128 = t_162_1.value;
                                var t_164 = Object.keys(n_128).filter(function (t) { return t.startsWith("is"); });
                                try {
                                    for (var t_163 = __values(t_164), t_163_1 = t_163.next(); !t_163_1.done; t_163_1 = t_163.next()) {
                                        var i_70 = t_163_1.value;
                                        e[i_70] = n_128[i_70];
                                    }
                                }
                                catch (e_334_1) { e_334 = { error: e_334_1 }; }
                                finally {
                                    try {
                                        if (t_163_1 && !t_163_1.done && (_q = t_163.return)) _q.call(t_163);
                                    }
                                    finally { if (e_334) throw e_334.error; }
                                }
                            }
                        }
                        catch (e_333_1) { e_333 = { error: e_333_1 }; }
                        finally {
                            try {
                                if (t_162_1 && !t_162_1.done && (_j = t_162.return)) _j.call(t_162);
                            }
                            finally { if (e_333) throw e_333.error; }
                        }
                    }(t, n), Wa(t, n, "allowIn"), Wa(t, n, "allowContentOf"), Wa(t, n, "allowWhere"), Wa(t, n, "allowAttributes"), Wa(t, n, "allowAttributesOf"), Wa(t, n, "inheritTypesFrom"), function (t, e) {
                        var e_335, _j;
                        try {
                            for (var t_165 = __values(t), t_165_1 = t_165.next(); !t_165_1.done; t_165_1 = t_165.next()) {
                                var n_129 = t_165_1.value;
                                var t_166 = n_129.inheritAllFrom;
                                t_166 && (e.allowContentOf.push(t_166), e.allowWhere.push(t_166), e.allowAttributesOf.push(t_166), e.inheritTypesFrom.push(t_166));
                            }
                        }
                        catch (e_335_1) { e_335 = { error: e_335_1 }; }
                        finally {
                            try {
                                if (t_165_1 && !t_165_1.done && (_j = t_165.return)) _j.call(t_165);
                            }
                            finally { if (e_335) throw e_335.error; }
                        }
                    }(t, n), n; }
                    function za(t, e) {
                        var e_336, _j;
                        try {
                            for (var _q = __values(t[e].allowContentOf), _z = _q.next(); !_z.done; _z = _q.next()) {
                                var n_130 = _z.value;
                                if (t[n_130]) {
                                    qa(t, n_130).forEach(function (t) { t.allowIn.push(e); });
                                }
                            }
                        }
                        catch (e_336_1) { e_336 = { error: e_336_1 }; }
                        finally {
                            try {
                                if (_z && !_z.done && (_j = _q.return)) _j.call(_q);
                            }
                            finally { if (e_336) throw e_336.error; }
                        }
                        delete t[e].allowContentOf;
                    }
                    function ja(t, e) {
                        var e_337, _j, _q;
                        try {
                            for (var _z = __values(t[e].allowWhere), _0 = _z.next(); !_0.done; _0 = _z.next()) {
                                var n_131 = _0.value;
                                var i_71 = t[n_131];
                                if (i_71) {
                                    var n_132 = i_71.allowIn;
                                    (_q = t[e].allowIn).push.apply(_q, __spread(n_132));
                                }
                            }
                        }
                        catch (e_337_1) { e_337 = { error: e_337_1 }; }
                        finally {
                            try {
                                if (_0 && !_0.done && (_j = _z.return)) _j.call(_z);
                            }
                            finally { if (e_337) throw e_337.error; }
                        }
                        delete t[e].allowWhere;
                    }
                    function Fa(t, e) {
                        var e_338, _j, _q;
                        try {
                            for (var _z = __values(t[e].allowAttributesOf), _0 = _z.next(); !_0.done; _0 = _z.next()) {
                                var n_133 = _0.value;
                                var i_72 = t[n_133];
                                if (i_72) {
                                    var n_134 = i_72.allowAttributes;
                                    (_q = t[e].allowAttributes).push.apply(_q, __spread(n_134));
                                }
                            }
                        }
                        catch (e_338_1) { e_338 = { error: e_338_1 }; }
                        finally {
                            try {
                                if (_0 && !_0.done && (_j = _z.return)) _j.call(_z);
                            }
                            finally { if (e_338) throw e_338.error; }
                        }
                        delete t[e].allowAttributesOf;
                    }
                    function Ba(t, e) {
                        var e_339, _j, e_340, _q;
                        var n = t[e];
                        try {
                            for (var _z = __values(n.inheritTypesFrom), _0 = _z.next(); !_0.done; _0 = _z.next()) {
                                var e_341 = _0.value;
                                var i_73 = t[e_341];
                                if (i_73) {
                                    var t_168 = Object.keys(i_73).filter(function (t) { return t.startsWith("is"); });
                                    try {
                                        for (var t_167 = __values(t_168), t_167_1 = t_167.next(); !t_167_1.done; t_167_1 = t_167.next()) {
                                            var e_342 = t_167_1.value;
                                            e_342 in n || (n[e_342] = i_73[e_342]);
                                        }
                                    }
                                    catch (e_340_1) { e_340 = { error: e_340_1 }; }
                                    finally {
                                        try {
                                            if (t_167_1 && !t_167_1.done && (_q = t_167.return)) _q.call(t_167);
                                        }
                                        finally { if (e_340) throw e_340.error; }
                                    }
                                }
                            }
                        }
                        catch (e_339_1) { e_339 = { error: e_339_1 }; }
                        finally {
                            try {
                                if (_0 && !_0.done && (_j = _z.return)) _j.call(_z);
                            }
                            finally { if (e_339) throw e_339.error; }
                        }
                        delete n.inheritTypesFrom;
                    }
                    function Ha(t, e) { var n = t[e], i = n.allowIn.filter(function (e) { return t[e]; }); n.allowIn = Array.from(new Set(i)); }
                    function Ua(t, e) { var n = t[e]; n.allowAttributes = Array.from(new Set(n.allowAttributes)); }
                    function Wa(t, e, n) {
                        var e_343, _j, _q;
                        try {
                            for (var t_169 = __values(t), t_169_1 = t_169.next(); !t_169_1.done; t_169_1 = t_169.next()) {
                                var i_74 = t_169_1.value;
                                "string" == typeof i_74[n] ? e[n].push(i_74[n]) : Array.isArray(i_74[n]) && (_q = e[n]).push.apply(_q, __spread(i_74[n]));
                            }
                        }
                        catch (e_343_1) { e_343 = { error: e_343_1 }; }
                        finally {
                            try {
                                if (t_169_1 && !t_169_1.done && (_j = t_169.return)) _j.call(t_169);
                            }
                            finally { if (e_343) throw e_343.error; }
                        }
                    }
                    function qa(t, e) { var n = t[e]; return function (t) { return Object.keys(t).map(function (e) { return t[e]; }); }(t).filter(function (t) { return t.allowIn.includes(n.name); }); }
                    function Ya(t) { return "string" == typeof t ? { name: t, getAttributeKeys: function () { return __generator(this, function (_j) {
                            return [2 /*return*/];
                        }); }, getAttribute: function () { } } : { name: t.is("element") ? t.name : "$text", getAttributeKeys: function () { return __generator(this, function (_j) {
                            switch (_j.label) {
                                case 0: return [5 /*yield**/, __values(t.getAttributeKeys())];
                                case 1:
                                    _j.sent();
                                    return [2 /*return*/];
                            }
                        }); }, getAttribute: function (e) { return t.getAttribute(e); } }; }
                    function $a(t, e, n) {
                        var e_344, _j;
                        try {
                            for (var _q = __values(e.getAttributeKeys()), _z = _q.next(); !_z.done; _z = _q.next()) {
                                var i_75 = _z.value;
                                t.checkAttribute(e, i_75) || n.removeAttribute(i_75, e);
                            }
                        }
                        catch (e_344_1) { e_344 = { error: e_344_1 }; }
                        finally {
                            try {
                                if (_z && !_z.done && (_j = _q.return)) _j.call(_q);
                            }
                            finally { if (e_344) throw e_344.error; }
                        }
                    }
                    var Ga = /** @class */ (function () {
                        function Ga(t) {
                            if (t === void 0) { t = {}; }
                            this._splitParts = new Map, this._modelCursor = null, this.conversionApi = Object.assign({}, t), this.conversionApi.convertItem = this._convertItem.bind(this), this.conversionApi.convertChildren = this._convertChildren.bind(this), this.conversionApi.splitToAllowedParent = this._splitToAllowedParent.bind(this), this.conversionApi.getSplitParts = this._getSplitParts.bind(this);
                        }
                        Ga.prototype.convert = function (t, e, n) {
                            var e_345, _j;
                            if (n === void 0) { n = ["$root"]; }
                            this.fire("viewCleanup", t), this._modelCursor = function (t, e) {
                                var e_346, _j, e_347, _q;
                                var n;
                                try {
                                    for (var _z = __values(new La(t)), _0 = _z.next(); !_0.done; _0 = _z.next()) {
                                        var i_76 = _0.value;
                                        var t_170 = {};
                                        try {
                                            for (var _1 = __values(i_76.getAttributeKeys()), _2 = _1.next(); !_2.done; _2 = _1.next()) {
                                                var e_348 = _2.value;
                                                t_170[e_348] = i_76.getAttribute(e_348);
                                            }
                                        }
                                        catch (e_347_1) { e_347 = { error: e_347_1 }; }
                                        finally {
                                            try {
                                                if (_2 && !_2.done && (_q = _1.return)) _q.call(_1);
                                            }
                                            finally { if (e_347) throw e_347.error; }
                                        }
                                        var o_40 = e.createElement(i_76.name, t_170);
                                        n && e.append(o_40, n), n = Gs._createAt(o_40, 0);
                                    }
                                }
                                catch (e_346_1) { e_346 = { error: e_346_1 }; }
                                finally {
                                    try {
                                        if (_0 && !_0.done && (_j = _z.return)) _j.call(_z);
                                    }
                                    finally { if (e_346) throw e_346.error; }
                                }
                                return n;
                            }(n, e), this.conversionApi.writer = e, this.conversionApi.consumable = Ra.createFrom(t), this.conversionApi.store = {};
                            var i = this._convertItem(t, this._modelCursor).modelRange, o = e.createDocumentFragment();
                            if (i) {
                                this._removeEmptyElements();
                                try {
                                    for (var _q = __values(Array.from(this._modelCursor.parent.getChildren())), _z = _q.next(); !_z.done; _z = _q.next()) {
                                        var t_171 = _z.value;
                                        e.append(t_171, o);
                                    }
                                }
                                catch (e_345_1) { e_345 = { error: e_345_1 }; }
                                finally {
                                    try {
                                        if (_z && !_z.done && (_j = _q.return)) _j.call(_q);
                                    }
                                    finally { if (e_345) throw e_345.error; }
                                }
                                o.markers = function (t, e) {
                                    var e_349, _j, e_350, _q;
                                    var n = new Set, i = new Map, o = Ks._createIn(t).getItems();
                                    try {
                                        for (var o_41 = __values(o), o_41_1 = o_41.next(); !o_41_1.done; o_41_1 = o_41.next()) {
                                            var t_172 = o_41_1.value;
                                            "$marker" == t_172.name && n.add(t_172);
                                        }
                                    }
                                    catch (e_349_1) { e_349 = { error: e_349_1 }; }
                                    finally {
                                        try {
                                            if (o_41_1 && !o_41_1.done && (_j = o_41.return)) _j.call(o_41);
                                        }
                                        finally { if (e_349) throw e_349.error; }
                                    }
                                    try {
                                        for (var n_135 = __values(n), n_135_1 = n_135.next(); !n_135_1.done; n_135_1 = n_135.next()) {
                                            var t_173 = n_135_1.value;
                                            var n_136 = t_173.getAttribute("data-name"), o_42 = e.createPositionBefore(t_173);
                                            i.has(n_136) ? i.get(n_136).end = o_42.clone() : i.set(n_136, new Ks(o_42.clone())), e.remove(t_173);
                                        }
                                    }
                                    catch (e_350_1) { e_350 = { error: e_350_1 }; }
                                    finally {
                                        try {
                                            if (n_135_1 && !n_135_1.done && (_q = n_135.return)) _q.call(n_135);
                                        }
                                        finally { if (e_350) throw e_350.error; }
                                    }
                                    return i;
                                }(o, e);
                            }
                            return this._modelCursor = null, this._splitParts.clear(), this.conversionApi.writer = null, this.conversionApi.store = null, o;
                        };
                        Ga.prototype._convertItem = function (t, e) { var n = Object.assign({ viewItem: t, modelCursor: e, modelRange: null }); if (t.is("element") ? this.fire("element:" + t.name, n, this.conversionApi) : t.is("text") ? this.fire("text", n, this.conversionApi) : this.fire("documentFragment", n, this.conversionApi), n.modelRange && !(n.modelRange instanceof Ks))
                            throw new Gn.b("view-conversion-dispatcher-incorrect-result: Incorrect conversion result was dropped.", this); return { modelRange: n.modelRange, modelCursor: n.modelCursor }; };
                        Ga.prototype._convertChildren = function (t, e) {
                            var e_351, _j;
                            var n = new Ks(e);
                            var i = e;
                            try {
                                for (var _q = __values(Array.from(t.getChildren())), _z = _q.next(); !_z.done; _z = _q.next()) {
                                    var e_352 = _z.value;
                                    var t_174 = this._convertItem(e_352, i);
                                    t_174.modelRange instanceof Ks && (n.end = t_174.modelRange.end, i = t_174.modelCursor);
                                }
                            }
                            catch (e_351_1) { e_351 = { error: e_351_1 }; }
                            finally {
                                try {
                                    if (_z && !_z.done && (_j = _q.return)) _j.call(_q);
                                }
                                finally { if (e_351) throw e_351.error; }
                            }
                            return { modelRange: n, modelCursor: i };
                        };
                        Ga.prototype._splitToAllowedParent = function (t, e) {
                            var e_353, _j;
                            var n = this.conversionApi.schema.findAllowedParent(e, t);
                            if (!n)
                                return null;
                            if (n === e.parent)
                                return { position: e };
                            if (this._modelCursor.parent.getAncestors().includes(n))
                                return null;
                            var i = this.conversionApi.writer.split(e, n), o = [];
                            try {
                                for (var _q = __values(i.range.getWalker()), _z = _q.next(); !_z.done; _z = _q.next()) {
                                    var t_175 = _z.value;
                                    if ("elementEnd" == t_175.type)
                                        o.push(t_175.item);
                                    else {
                                        var e_354 = o.pop(), n_137 = t_175.item;
                                        this._registerSplitPair(e_354, n_137);
                                    }
                                }
                            }
                            catch (e_353_1) { e_353 = { error: e_353_1 }; }
                            finally {
                                try {
                                    if (_z && !_z.done && (_j = _q.return)) _j.call(_q);
                                }
                                finally { if (e_353) throw e_353.error; }
                            }
                            return { position: i.position, cursorParent: i.range.end.parent };
                        };
                        Ga.prototype._registerSplitPair = function (t, e) { this._splitParts.has(t) || this._splitParts.set(t, [t]); var n = this._splitParts.get(t); this._splitParts.set(e, n), n.push(e); };
                        Ga.prototype._getSplitParts = function (t) { var e; return e = this._splitParts.has(t) ? this._splitParts.get(t) : [t]; };
                        Ga.prototype._removeEmptyElements = function () {
                            var e_355, _j;
                            var t = !1;
                            try {
                                for (var _q = __values(this._splitParts.keys()), _z = _q.next(); !_z.done; _z = _q.next()) {
                                    var e_356 = _z.value;
                                    e_356.isEmpty && (this.conversionApi.writer.remove(e_356), this._splitParts.delete(e_356), t = !0);
                                }
                            }
                            catch (e_355_1) { e_355 = { error: e_355_1 }; }
                            finally {
                                try {
                                    if (_z && !_z.done && (_j = _q.return)) _j.call(_q);
                                }
                                finally { if (e_355) throw e_355.error; }
                            }
                            t && this._removeEmptyElements();
                        };
                        return Ga;
                    }());
                    ci(Ga, ei);
                    var Ka = /** @class */ (function () {
                        function Ka(t, e) {
                            var _this = this;
                            this.model = t, this.processor = e, this.mapper = new Qs, this.downcastDispatcher = new Xs({ mapper: this.mapper }), this.downcastDispatcher.on("insert:$text", function (t, e, n) { if (!n.consumable.consume(e.item, "insert"))
                                return; var i = n.writer, o = n.mapper.toViewPosition(e.range.start), r = i.createText(e.item.data); i.insert(o, r); }, { priority: "lowest" }), this.upcastDispatcher = new Ga({ schema: t.schema }), this.upcastDispatcher.on("text", function (t, e, n) { if (n.schema.checkChild(e.modelCursor, "$text") && n.consumable.consume(e.viewItem)) {
                                var t_176 = n.writer.createText(e.viewItem.data);
                                n.writer.insert(t_176, e.modelCursor), e.modelRange = Ks._createFromPositionAndShift(e.modelCursor, t_176.offsetSize), e.modelCursor = e.modelRange.end;
                            } }, { priority: "lowest" }), this.upcastDispatcher.on("element", function (t, e, n) { if (!e.modelRange && n.consumable.consume(e.viewItem, { name: !0 })) {
                                var _j = n.convertChildren(e.viewItem, e.modelCursor), t_177 = _j.modelRange, i_77 = _j.modelCursor;
                                e.modelRange = t_177, e.modelCursor = i_77;
                            } }, { priority: "lowest" }), this.upcastDispatcher.on("documentFragment", function (t, e, n) { if (!e.modelRange && n.consumable.consume(e.viewItem, { name: !0 })) {
                                var _j = n.convertChildren(e.viewItem, e.modelCursor), t_178 = _j.modelRange, i_78 = _j.modelCursor;
                                e.modelRange = t_178, e.modelCursor = i_78;
                            } }, { priority: "lowest" }), this.decorate("init"), this.on("init", function () { _this.fire("ready"); }, { priority: "lowest" });
                        }
                        Ka.prototype.get = function (t) { var _j = t || {}, _q = _j.rootName, e = _q === void 0 ? "main" : _q, _z = _j.trim, n = _z === void 0 ? "empty" : _z; if (!this._checkIfRootsExists([e]))
                            throw new Gn.b("datacontroller-get-non-existent-root: Attempting to get data from a non-existing root.", this); var i = this.model.document.getRoot(e); return "empty" !== n || this.model.hasContent(i, { ignoreWhitespaces: !0 }) ? this.stringify(i) : ""; };
                        Ka.prototype.stringify = function (t) { var e = this.toView(t); return this.processor.toData(e); };
                        Ka.prototype.toView = function (t) {
                            var e_357, _j;
                            this.mapper.clearBindings();
                            var e = Ks._createIn(t), n = new To, i = new Ao(new ro);
                            if (this.mapper.bindElements(t, n), this.downcastDispatcher.convertInsert(e, i), !t.is("documentFragment")) {
                                var e_359 = function (t) {
                                    var e_360, _j;
                                    var e = [], n = t.root.document;
                                    if (!n)
                                        return [];
                                    var i = Ks._createIn(t);
                                    try {
                                        for (var _q = __values(n.model.markers), _z = _q.next(); !_z.done; _z = _q.next()) {
                                            var t_179 = _z.value;
                                            var n_138 = i.getIntersection(t_179.getRange());
                                            n_138 && e.push([t_179.name, n_138]);
                                        }
                                    }
                                    catch (e_360_1) { e_360 = { error: e_360_1 }; }
                                    finally {
                                        try {
                                            if (_z && !_z.done && (_j = _q.return)) _j.call(_q);
                                        }
                                        finally { if (e_360) throw e_360.error; }
                                    }
                                    return e;
                                }(t);
                                try {
                                    for (var e_358 = __values(e_359), e_358_1 = e_358.next(); !e_358_1.done; e_358_1 = e_358.next()) {
                                        var _q = __read(e_358_1.value, 2), t_180 = _q[0], n_139 = _q[1];
                                        this.downcastDispatcher.convertMarkerAdd(t_180, n_139, i);
                                    }
                                }
                                catch (e_357_1) { e_357 = { error: e_357_1 }; }
                                finally {
                                    try {
                                        if (e_358_1 && !e_358_1.done && (_j = e_358.return)) _j.call(e_358);
                                    }
                                    finally { if (e_357) throw e_357.error; }
                                }
                            }
                            return n;
                        };
                        Ka.prototype.init = function (t) {
                            var _this = this;
                            if (this.model.document.version)
                                throw new Gn.b("datacontroller-init-document-not-empty: Trying to set initial data to not empty document.", this);
                            var e = {};
                            if ("string" == typeof t ? e.main = t : e = t, !this._checkIfRootsExists(Object.keys(e)))
                                throw new Gn.b("datacontroller-init-non-existent-root: Attempting to init data on a non-existing root.", this);
                            return this.model.enqueueChange("transparent", function (t) {
                                var e_361, _j;
                                try {
                                    for (var _q = __values(Object.keys(e)), _z = _q.next(); !_z.done; _z = _q.next()) {
                                        var n_140 = _z.value;
                                        var i_79 = _this.model.document.getRoot(n_140);
                                        t.insert(_this.parse(e[n_140], i_79), i_79, 0);
                                    }
                                }
                                catch (e_361_1) { e_361 = { error: e_361_1 }; }
                                finally {
                                    try {
                                        if (_z && !_z.done && (_j = _q.return)) _j.call(_q);
                                    }
                                    finally { if (e_361) throw e_361.error; }
                                }
                            }), Promise.resolve();
                        };
                        Ka.prototype.set = function (t) {
                            var _this = this;
                            var e = {};
                            if ("string" == typeof t ? e.main = t : e = t, !this._checkIfRootsExists(Object.keys(e)))
                                throw new Gn.b("datacontroller-set-non-existent-root: Attempting to set data on a non-existing root.", this);
                            this.model.enqueueChange("transparent", function (t) {
                                var e_362, _j;
                                t.setSelection(null), t.removeSelectionAttribute(_this.model.document.selection.getAttributeKeys());
                                try {
                                    for (var _q = __values(Object.keys(e)), _z = _q.next(); !_z.done; _z = _q.next()) {
                                        var n_141 = _z.value;
                                        var i_80 = _this.model.document.getRoot(n_141);
                                        t.remove(t.createRangeIn(i_80)), t.insert(_this.parse(e[n_141], i_80), i_80, 0);
                                    }
                                }
                                catch (e_362_1) { e_362 = { error: e_362_1 }; }
                                finally {
                                    try {
                                        if (_z && !_z.done && (_j = _q.return)) _j.call(_q);
                                    }
                                    finally { if (e_362) throw e_362.error; }
                                }
                            });
                        };
                        Ka.prototype.parse = function (t, e) {
                            if (e === void 0) { e = "$root"; }
                            var n = this.processor.toView(t);
                            return this.toModel(n, e);
                        };
                        Ka.prototype.toModel = function (t, e) {
                            var _this = this;
                            if (e === void 0) { e = "$root"; }
                            return this.model.change(function (n) { return _this.upcastDispatcher.convert(t, n, e); });
                        };
                        Ka.prototype.destroy = function () { this.stopListening(); };
                        Ka.prototype._checkIfRootsExists = function (t) {
                            var e_363, _j;
                            try {
                                for (var t_181 = __values(t), t_181_1 = t_181.next(); !t_181_1.done; t_181_1 = t_181.next()) {
                                    var e_364 = t_181_1.value;
                                    if (!this.model.document.getRootNames().includes(e_364))
                                        return !1;
                                }
                            }
                            catch (e_363_1) { e_363 = { error: e_363_1 }; }
                            finally {
                                try {
                                    if (t_181_1 && !t_181_1.done && (_j = t_181.return)) _j.call(t_181);
                                }
                                finally { if (e_363) throw e_363.error; }
                            }
                            return !0;
                        };
                        return Ka;
                    }());
                    ci(Ka, Bi);
                    var Qa = /** @class */ (function () {
                        function Qa(t, e) {
                            this._helpers = new Map, this._downcast = Array.isArray(t) ? t : [t], this._createConversionHelpers({ name: "downcast", dispatchers: this._downcast, isDowncast: !0 }), this._upcast = Array.isArray(e) ? e : [e], this._createConversionHelpers({ name: "upcast", dispatchers: this._upcast, isDowncast: !1 });
                        }
                        Qa.prototype.addAlias = function (t, e) { var n = this._downcast.includes(e); if (!this._upcast.includes(e) && !n)
                            throw new Gn.b("conversion-add-alias-dispatcher-not-registered: Trying to register and alias for a dispatcher that nas not been registered.", this); this._createConversionHelpers({ name: t, dispatchers: [e], isDowncast: n }); };
                        Qa.prototype.for = function (t) { if (!this._helpers.has(t))
                            throw new Gn.b("conversion-for-unknown-group: Trying to add a converter to an unknown dispatchers group.", this); return this._helpers.get(t); };
                        Qa.prototype.elementToElement = function (t) {
                            var e_365, _j;
                            this.for("downcast").elementToElement(t);
                            try {
                                for (var _q = __values(Ja(t)), _z = _q.next(); !_z.done; _z = _q.next()) {
                                    var _0 = _z.value, e_366 = _0.model, n_142 = _0.view;
                                    this.for("upcast").elementToElement({ model: e_366, view: n_142, converterPriority: t.converterPriority });
                                }
                            }
                            catch (e_365_1) { e_365 = { error: e_365_1 }; }
                            finally {
                                try {
                                    if (_z && !_z.done && (_j = _q.return)) _j.call(_q);
                                }
                                finally { if (e_365) throw e_365.error; }
                            }
                        };
                        Qa.prototype.attributeToElement = function (t) {
                            var e_367, _j;
                            this.for("downcast").attributeToElement(t);
                            try {
                                for (var _q = __values(Ja(t)), _z = _q.next(); !_z.done; _z = _q.next()) {
                                    var _0 = _z.value, e_368 = _0.model, n_143 = _0.view;
                                    this.for("upcast").elementToAttribute({ view: n_143, model: e_368, converterPriority: t.converterPriority });
                                }
                            }
                            catch (e_367_1) { e_367 = { error: e_367_1 }; }
                            finally {
                                try {
                                    if (_z && !_z.done && (_j = _q.return)) _j.call(_q);
                                }
                                finally { if (e_367) throw e_367.error; }
                            }
                        };
                        Qa.prototype.attributeToAttribute = function (t) {
                            var e_369, _j;
                            this.for("downcast").attributeToAttribute(t);
                            try {
                                for (var _q = __values(Ja(t)), _z = _q.next(); !_z.done; _z = _q.next()) {
                                    var _0 = _z.value, e_370 = _0.model, n_144 = _0.view;
                                    this.for("upcast").attributeToAttribute({ view: n_144, model: e_370 });
                                }
                            }
                            catch (e_369_1) { e_369 = { error: e_369_1 }; }
                            finally {
                                try {
                                    if (_z && !_z.done && (_j = _q.return)) _j.call(_q);
                                }
                                finally { if (e_369) throw e_369.error; }
                            }
                        };
                        Qa.prototype._createConversionHelpers = function (_j) {
                            var t = _j.name, e = _j.dispatchers, n = _j.isDowncast;
                            if (this._helpers.has(t))
                                throw new Gn.b("conversion-group-exists: Trying to register a group name that has already been registered.", this);
                            var i = n ? new fa(e) : new _a(e);
                            this._helpers.set(t, i);
                        };
                        return Qa;
                    }());
                    function Ja(t) {
                        var e_371, _j, _q, _z, e_372, e_371_1;
                        return __generator(this, function (_0) {
                            switch (_0.label) {
                                case 0:
                                    if (!t.model.values) return [3 /*break*/, 9];
                                    _0.label = 1;
                                case 1:
                                    _0.trys.push([1, 6, 7, 8]);
                                    _q = __values(t.model.values), _z = _q.next();
                                    _0.label = 2;
                                case 2:
                                    if (!!_z.done) return [3 /*break*/, 5];
                                    e_372 = _z.value;
                                    return [5 /*yield**/, __values(Za({ key: t.model.key, value: e_372 }, t.view[e_372], t.upcastAlso ? t.upcastAlso[e_372] : void 0))];
                                case 3:
                                    _0.sent();
                                    _0.label = 4;
                                case 4:
                                    _z = _q.next();
                                    return [3 /*break*/, 2];
                                case 5: return [3 /*break*/, 8];
                                case 6:
                                    e_371_1 = _0.sent();
                                    e_371 = { error: e_371_1 };
                                    return [3 /*break*/, 8];
                                case 7:
                                    try {
                                        if (_z && !_z.done && (_j = _q.return)) _j.call(_q);
                                    }
                                    finally { if (e_371) throw e_371.error; }
                                    return [7 /*endfinally*/];
                                case 8: return [3 /*break*/, 11];
                                case 9: return [5 /*yield**/, __values(Za(t.model, t.view, t.upcastAlso))];
                                case 10:
                                    _0.sent();
                                    _0.label = 11;
                                case 11: return [2 /*return*/];
                            }
                        });
                    }
                    function Za(t, e, n) {
                        var e_373, _j, n_145, n_145_1, e_374, e_373_1;
                        return __generator(this, function (_q) {
                            switch (_q.label) {
                                case 0: return [4 /*yield*/, { model: t, view: e }];
                                case 1:
                                    if (!(_q.sent(), n)) return [3 /*break*/, 9];
                                    n = Array.isArray(n) ? n : [n];
                                    _q.label = 2;
                                case 2:
                                    _q.trys.push([2, 7, 8, 9]);
                                    n_145 = __values(n), n_145_1 = n_145.next();
                                    _q.label = 3;
                                case 3:
                                    if (!!n_145_1.done) return [3 /*break*/, 6];
                                    e_374 = n_145_1.value;
                                    return [4 /*yield*/, { model: t, view: e_374 }];
                                case 4:
                                    _q.sent();
                                    _q.label = 5;
                                case 5:
                                    n_145_1 = n_145.next();
                                    return [3 /*break*/, 3];
                                case 6: return [3 /*break*/, 9];
                                case 7:
                                    e_373_1 = _q.sent();
                                    e_373 = { error: e_373_1 };
                                    return [3 /*break*/, 9];
                                case 8:
                                    try {
                                        if (n_145_1 && !n_145_1.done && (_j = n_145.return)) _j.call(n_145);
                                    }
                                    finally { if (e_373) throw e_373.error; }
                                    return [7 /*endfinally*/];
                                case 9: return [2 /*return*/];
                            }
                        });
                    }
                    var Xa = /** @class */ (function () {
                        function Xa(t) {
                            if (t === void 0) { t = "default"; }
                            this.operations = [], this.type = t;
                        }
                        Object.defineProperty(Xa.prototype, "baseVersion", {
                            get: function () {
                                var e_375, _j;
                                try {
                                    for (var _q = __values(this.operations), _z = _q.next(); !_z.done; _z = _q.next()) {
                                        var t_182 = _z.value;
                                        if (null !== t_182.baseVersion)
                                            return t_182.baseVersion;
                                    }
                                }
                                catch (e_375_1) { e_375 = { error: e_375_1 }; }
                                finally {
                                    try {
                                        if (_z && !_z.done && (_j = _q.return)) _j.call(_q);
                                    }
                                    finally { if (e_375) throw e_375.error; }
                                }
                                return null;
                            },
                            enumerable: true,
                            configurable: true
                        });
                        Xa.prototype.addOperation = function (t) { return t.batch = this, this.operations.push(t), t; };
                        return Xa;
                    }());
                    var tc = /** @class */ (function () {
                        function tc(t) {
                            this.baseVersion = t, this.isDocumentOperation = null !== this.baseVersion, this.batch = null;
                        }
                        tc.prototype._validate = function () { };
                        tc.prototype.toJSON = function () { var t = Object.assign({}, this); return t.__className = this.constructor.className, delete t.batch, delete t.isDocumentOperation, t; };
                        Object.defineProperty(tc, "className", {
                            get: function () { return "Operation"; },
                            enumerable: true,
                            configurable: true
                        });
                        tc.fromJSON = function (t) { return new this(t.baseVersion); };
                        return tc;
                    }());
                    var ec = /** @class */ (function () {
                        function ec(t) {
                            this.markers = new Map, this._children = new Us, t && this._insertChild(0, t);
                        }
                        ec.prototype[Symbol.iterator] = function () { return this.getChildren(); };
                        Object.defineProperty(ec.prototype, "childCount", {
                            get: function () { return this._children.length; },
                            enumerable: true,
                            configurable: true
                        });
                        Object.defineProperty(ec.prototype, "maxOffset", {
                            get: function () { return this._children.maxOffset; },
                            enumerable: true,
                            configurable: true
                        });
                        Object.defineProperty(ec.prototype, "isEmpty", {
                            get: function () { return 0 === this.childCount; },
                            enumerable: true,
                            configurable: true
                        });
                        Object.defineProperty(ec.prototype, "root", {
                            get: function () { return this; },
                            enumerable: true,
                            configurable: true
                        });
                        Object.defineProperty(ec.prototype, "parent", {
                            get: function () { return null; },
                            enumerable: true,
                            configurable: true
                        });
                        ec.prototype.is = function (t) { return "documentFragment" == t || "model:documentFragment" == t; };
                        ec.prototype.getChild = function (t) { return this._children.getNode(t); };
                        ec.prototype.getChildren = function () { return this._children[Symbol.iterator](); };
                        ec.prototype.getChildIndex = function (t) { return this._children.getNodeIndex(t); };
                        ec.prototype.getChildStartOffset = function (t) { return this._children.getNodeStartOffset(t); };
                        ec.prototype.getPath = function () { return []; };
                        ec.prototype.getNodeByPath = function (t) {
                            var e_376, _j;
                            var e = this;
                            try {
                                for (var t_183 = __values(t), t_183_1 = t_183.next(); !t_183_1.done; t_183_1 = t_183.next()) {
                                    var n_146 = t_183_1.value;
                                    e = e.getChild(e.offsetToIndex(n_146));
                                }
                            }
                            catch (e_376_1) { e_376 = { error: e_376_1 }; }
                            finally {
                                try {
                                    if (t_183_1 && !t_183_1.done && (_j = t_183.return)) _j.call(t_183);
                                }
                                finally { if (e_376) throw e_376.error; }
                            }
                            return e;
                        };
                        ec.prototype.offsetToIndex = function (t) { return this._children.offsetToIndex(t); };
                        ec.prototype.toJSON = function () {
                            var e_377, _j;
                            var t = [];
                            try {
                                for (var _q = __values(this._children), _z = _q.next(); !_z.done; _z = _q.next()) {
                                    var e_378 = _z.value;
                                    t.push(e_378.toJSON());
                                }
                            }
                            catch (e_377_1) { e_377 = { error: e_377_1 }; }
                            finally {
                                try {
                                    if (_z && !_z.done && (_j = _q.return)) _j.call(_q);
                                }
                                finally { if (e_377) throw e_377.error; }
                            }
                            return t;
                        };
                        ec.fromJSON = function (t) {
                            var e_379, _j;
                            var e = [];
                            try {
                                for (var t_184 = __values(t), t_184_1 = t_184.next(); !t_184_1.done; t_184_1 = t_184.next()) {
                                    var n_147 = t_184_1.value;
                                    n_147.name ? e.push(Ws.fromJSON(n_147)) : e.push(Bs.fromJSON(n_147));
                                }
                            }
                            catch (e_379_1) { e_379 = { error: e_379_1 }; }
                            finally {
                                try {
                                    if (t_184_1 && !t_184_1.done && (_j = t_184.return)) _j.call(t_184);
                                }
                                finally { if (e_379) throw e_379.error; }
                            }
                            return new ec(e);
                        };
                        ec.prototype._appendChild = function (t) { this._insertChild(this.childCount, t); };
                        ec.prototype._insertChild = function (t, e) {
                            var e_380, _j;
                            var n = function (t) { if ("string" == typeof t)
                                return [new Bs(t)]; pi(t) || (t = [t]); return Array.from(t).map(function (t) { return "string" == typeof t ? new Bs(t) : t instanceof Hs ? new Bs(t.data, t.getAttributes()) : t; }); }(e);
                            try {
                                for (var n_148 = __values(n), n_148_1 = n_148.next(); !n_148_1.done; n_148_1 = n_148.next()) {
                                    var t_185 = n_148_1.value;
                                    null !== t_185.parent && t_185._remove(), t_185.parent = this;
                                }
                            }
                            catch (e_380_1) { e_380 = { error: e_380_1 }; }
                            finally {
                                try {
                                    if (n_148_1 && !n_148_1.done && (_j = n_148.return)) _j.call(n_148);
                                }
                                finally { if (e_380) throw e_380.error; }
                            }
                            this._children._insertNodes(t, n);
                        };
                        ec.prototype._removeChildren = function (t, e) {
                            var e_381, _j;
                            if (e === void 0) { e = 1; }
                            var n = this._children._removeNodes(t, e);
                            try {
                                for (var n_149 = __values(n), n_149_1 = n_149.next(); !n_149_1.done; n_149_1 = n_149.next()) {
                                    var t_186 = n_149_1.value;
                                    t_186.parent = null;
                                }
                            }
                            catch (e_381_1) { e_381 = { error: e_381_1 }; }
                            finally {
                                try {
                                    if (n_149_1 && !n_149_1.done && (_j = n_149.return)) _j.call(n_149);
                                }
                                finally { if (e_381) throw e_381.error; }
                            }
                            return n;
                        };
                        return ec;
                    }());
                    function nc(t, e) { var n = (e = rc(e)).reduce(function (t, e) { return t + e.offsetSize; }, 0), i = t.parent; ac(t); var o = t.index; return i._insertChild(o, e), sc(i, o + e.length), sc(i, o), new Ks(t, t.getShiftedBy(n)); }
                    function ic(t) { if (!t.isFlat)
                        throw new Gn.b("operation-utils-remove-range-not-flat: Trying to remove a range which starts and ends in different element.", this); var e = t.start.parent; ac(t.start), ac(t.end); var n = e._removeChildren(t.start.index, t.end.index - t.start.index); return sc(e, t.start.index), n; }
                    function oc(t, e) { if (!t.isFlat)
                        throw new Gn.b("operation-utils-move-range-not-flat: Trying to move a range which starts and ends in different element.", this); var n = ic(t); return nc(e = e._getTransformedByDeletion(t.start, t.end.offset - t.start.offset), n); }
                    function rc(t) {
                        var e_382, _j;
                        var e = [];
                        t instanceof Array || (t = [t]);
                        for (var n_150 = 0; n_150 < t.length; n_150++)
                            if ("string" == typeof t[n_150])
                                e.push(new Bs(t[n_150]));
                            else if (t[n_150] instanceof Hs)
                                e.push(new Bs(t[n_150].data, t[n_150].getAttributes()));
                            else if (t[n_150] instanceof ec || t[n_150] instanceof Us)
                                try {
                                    for (var _q = __values(t[n_150]), _z = _q.next(); !_z.done; _z = _q.next()) {
                                        var i_81 = _z.value;
                                        e.push(i_81);
                                    }
                                }
                                catch (e_382_1) { e_382 = { error: e_382_1 }; }
                                finally {
                                    try {
                                        if (_z && !_z.done && (_j = _q.return)) _j.call(_q);
                                    }
                                    finally { if (e_382) throw e_382.error; }
                                }
                            else
                                t[n_150] instanceof Fs && e.push(t[n_150]);
                        for (var t_187 = 1; t_187 < e.length; t_187++) {
                            var n_151 = e[t_187], i_82 = e[t_187 - 1];
                            n_151 instanceof Bs && i_82 instanceof Bs && cc(n_151, i_82) && (e.splice(t_187 - 1, 2, new Bs(i_82.data + n_151.data, i_82.getAttributes())), t_187--);
                        }
                        return e;
                    }
                    function sc(t, e) { var n = t.getChild(e - 1), i = t.getChild(e); if (n && i && n.is("text") && i.is("text") && cc(n, i)) {
                        var o_43 = new Bs(n.data + i.data, n.getAttributes());
                        t._removeChildren(e - 1, 2), t._insertChild(e - 1, o_43);
                    } }
                    function ac(t) { var e = t.textNode, n = t.parent; if (e) {
                        var i_83 = t.offset - e.startOffset, o_44 = e.index;
                        n._removeChildren(o_44, 1);
                        var r_15 = new Bs(e.data.substr(0, i_83), e.getAttributes()), s_15 = new Bs(e.data.substr(i_83), e.getAttributes());
                        n._insertChild(o_44, [r_15, s_15]);
                    } }
                    function cc(t, e) {
                        var e_383, _j;
                        var n = t.getAttributes(), i = e.getAttributes();
                        try {
                            for (var n_152 = __values(n), n_152_1 = n_152.next(); !n_152_1.done; n_152_1 = n_152.next()) {
                                var t_188 = n_152_1.value;
                                if (t_188[1] !== e.getAttribute(t_188[0]))
                                    return !1;
                                i.next();
                            }
                        }
                        catch (e_383_1) { e_383 = { error: e_383_1 }; }
                        finally {
                            try {
                                if (n_152_1 && !n_152_1.done && (_j = n_152.return)) _j.call(n_152);
                            }
                            finally { if (e_383) throw e_383.error; }
                        }
                        return i.next().done;
                    }
                    var lc = function (t, e) { return Jr(t, e); };
                    var dc = /** @class */ (function (_super) {
                        __extends(dc, _super);
                        function dc(t, e, n, i, o) {
                            var _this = this;
                            _this = _super.call(this, o) || this, _this.range = t.clone(), _this.key = e, _this.oldValue = void 0 === n ? null : n, _this.newValue = void 0 === i ? null : i;
                            return _this;
                        }
                        Object.defineProperty(dc.prototype, "type", {
                            get: function () { return null === this.oldValue ? "addAttribute" : null === this.newValue ? "removeAttribute" : "changeAttribute"; },
                            enumerable: true,
                            configurable: true
                        });
                        dc.prototype.clone = function () { return new dc(this.range, this.key, this.oldValue, this.newValue, this.baseVersion); };
                        dc.prototype.getReversed = function () { return new dc(this.range, this.key, this.newValue, this.oldValue, this.baseVersion + 1); };
                        dc.prototype.toJSON = function () { var t = _super.prototype.toJSON.call(this); return t.range = this.range.toJSON(), t; };
                        dc.prototype._validate = function () {
                            var e_384, _j;
                            if (!this.range.isFlat)
                                throw new Gn.b("attribute-operation-range-not-flat: The range to change is not flat.", this);
                            try {
                                for (var _q = __values(this.range.getItems({ shallow: !0 })), _z = _q.next(); !_z.done; _z = _q.next()) {
                                    var t_189 = _z.value;
                                    if (null !== this.oldValue && !lc(t_189.getAttribute(this.key), this.oldValue))
                                        throw new Gn.b("attribute-operation-wrong-old-value: Changed node has different attribute value than operation's old attribute value.", this, { item: t_189, key: this.key, value: this.oldValue });
                                    if (null === this.oldValue && null !== this.newValue && t_189.hasAttribute(this.key))
                                        throw new Gn.b("attribute-operation-attribute-exists: The attribute with given key already exists.", this, { node: t_189, key: this.key });
                                }
                            }
                            catch (e_384_1) { e_384 = { error: e_384_1 }; }
                            finally {
                                try {
                                    if (_z && !_z.done && (_j = _q.return)) _j.call(_q);
                                }
                                finally { if (e_384) throw e_384.error; }
                            }
                        };
                        dc.prototype._execute = function () { lc(this.oldValue, this.newValue) || function (t, e, n) {
                            var e_385, _j;
                            ac(t.start), ac(t.end);
                            try {
                                for (var _q = __values(t.getItems({ shallow: !0 })), _z = _q.next(); !_z.done; _z = _q.next()) {
                                    var i_84 = _z.value;
                                    var t_190 = i_84.is("textProxy") ? i_84.textNode : i_84;
                                    null !== n ? t_190._setAttribute(e, n) : t_190._removeAttribute(e), sc(t_190.parent, t_190.index);
                                }
                            }
                            catch (e_385_1) { e_385 = { error: e_385_1 }; }
                            finally {
                                try {
                                    if (_z && !_z.done && (_j = _q.return)) _j.call(_q);
                                }
                                finally { if (e_385) throw e_385.error; }
                            }
                            sc(t.end.parent, t.end.index);
                        }(this.range, this.key, this.newValue); };
                        Object.defineProperty(dc, "className", {
                            get: function () { return "AttributeOperation"; },
                            enumerable: true,
                            configurable: true
                        });
                        dc.fromJSON = function (t, e) { return new dc(Ks.fromJSON(t.range, e), t.key, t.oldValue, t.newValue, t.baseVersion); };
                        return dc;
                    }(tc));
                    var uc = /** @class */ (function (_super) {
                        __extends(uc, _super);
                        function uc(t, e) {
                            var _this = this;
                            _this = _super.call(this, null) || this, _this.sourcePosition = t.clone(), _this.howMany = e;
                            return _this;
                        }
                        Object.defineProperty(uc.prototype, "type", {
                            get: function () { return "detach"; },
                            enumerable: true,
                            configurable: true
                        });
                        uc.prototype.toJSON = function () { var t = _super.prototype.toJSON.call(this); return t.sourcePosition = this.sourcePosition.toJSON(), t; };
                        uc.prototype._validate = function () { if (this.sourcePosition.root.document)
                            throw new Gn.b("detach-operation-on-document-node: Cannot detach document node.", this); };
                        uc.prototype._execute = function () { ic(Ks._createFromPositionAndShift(this.sourcePosition, this.howMany)); };
                        Object.defineProperty(uc, "className", {
                            get: function () { return "DetachOperation"; },
                            enumerable: true,
                            configurable: true
                        });
                        return uc;
                    }(tc));
                    var hc = /** @class */ (function (_super) {
                        __extends(hc, _super);
                        function hc(t, e, n, i) {
                            var _this = this;
                            _this = _super.call(this, i) || this, _this.sourcePosition = t.clone(), _this.sourcePosition.stickiness = "toNext", _this.howMany = e, _this.targetPosition = n.clone(), _this.targetPosition.stickiness = "toNone";
                            return _this;
                        }
                        Object.defineProperty(hc.prototype, "type", {
                            get: function () { return "$graveyard" == this.targetPosition.root.rootName ? "remove" : "$graveyard" == this.sourcePosition.root.rootName ? "reinsert" : "move"; },
                            enumerable: true,
                            configurable: true
                        });
                        hc.prototype.clone = function () { return new this.constructor(this.sourcePosition, this.howMany, this.targetPosition, this.baseVersion); };
                        hc.prototype.getMovedRangeStart = function () { return this.targetPosition._getTransformedByDeletion(this.sourcePosition, this.howMany); };
                        hc.prototype.getReversed = function () { var t = this.sourcePosition._getTransformedByInsertion(this.targetPosition, this.howMany); return new this.constructor(this.getMovedRangeStart(), this.howMany, t, this.baseVersion + 1); };
                        hc.prototype._validate = function () { var t = this.sourcePosition.parent, e = this.targetPosition.parent, n = this.sourcePosition.offset, i = this.targetPosition.offset; if (n + this.howMany > t.maxOffset)
                            throw new Gn.b("move-operation-nodes-do-not-exist: The nodes which should be moved do not exist.", this); if (t === e && n < i && i < n + this.howMany)
                            throw new Gn.b("move-operation-range-into-itself: Trying to move a range of nodes to the inside of that range.", this); if (this.sourcePosition.root == this.targetPosition.root && "prefix" == li(this.sourcePosition.getParentPath(), this.targetPosition.getParentPath())) {
                            var t_191 = this.sourcePosition.path.length - 1;
                            if (this.targetPosition.path[t_191] >= n && this.targetPosition.path[t_191] < n + this.howMany)
                                throw new Gn.b("move-operation-node-into-itself: Trying to move a range of nodes into one of nodes from that range.", this);
                        } };
                        hc.prototype._execute = function () { oc(Ks._createFromPositionAndShift(this.sourcePosition, this.howMany), this.targetPosition); };
                        hc.prototype.toJSON = function () { var t = _super.prototype.toJSON.call(this); return t.sourcePosition = this.sourcePosition.toJSON(), t.targetPosition = this.targetPosition.toJSON(), t; };
                        Object.defineProperty(hc, "className", {
                            get: function () { return "MoveOperation"; },
                            enumerable: true,
                            configurable: true
                        });
                        hc.fromJSON = function (t, e) { var n = Gs.fromJSON(t.sourcePosition, e), i = Gs.fromJSON(t.targetPosition, e); return new this(n, t.howMany, i, t.baseVersion); };
                        return hc;
                    }(tc));
                    var mc = /** @class */ (function (_super) {
                        __extends(mc, _super);
                        function mc(t, e, n) {
                            var _this = this;
                            _this = _super.call(this, n) || this, _this.position = t.clone(), _this.position.stickiness = "toNone", _this.nodes = new Us(rc(e)), _this.shouldReceiveAttributes = !1;
                            return _this;
                        }
                        Object.defineProperty(mc.prototype, "type", {
                            get: function () { return "insert"; },
                            enumerable: true,
                            configurable: true
                        });
                        Object.defineProperty(mc.prototype, "howMany", {
                            get: function () { return this.nodes.maxOffset; },
                            enumerable: true,
                            configurable: true
                        });
                        mc.prototype.clone = function () { var t = new Us(__spread(this.nodes).map(function (t) { return t._clone(!0); })), e = new mc(this.position, t, this.baseVersion); return e.shouldReceiveAttributes = this.shouldReceiveAttributes, e; };
                        mc.prototype.getReversed = function () { var t = this.position.root.document.graveyard, e = new Gs(t, [0]); return new hc(this.position, this.nodes.maxOffset, e, this.baseVersion + 1); };
                        mc.prototype._validate = function () { var t = this.position.parent; if (!t || t.maxOffset < this.position.offset)
                            throw new Gn.b("insert-operation-position-invalid: Insertion position is invalid.", this); };
                        mc.prototype._execute = function () { var t = this.nodes; this.nodes = new Us(__spread(t).map(function (t) { return t._clone(!0); })), nc(this.position, t); };
                        mc.prototype.toJSON = function () { var t = _super.prototype.toJSON.call(this); return t.position = this.position.toJSON(), t.nodes = this.nodes.toJSON(), t; };
                        Object.defineProperty(mc, "className", {
                            get: function () { return "InsertOperation"; },
                            enumerable: true,
                            configurable: true
                        });
                        mc.fromJSON = function (t, e) {
                            var e_386, _j;
                            var n = [];
                            try {
                                for (var _q = __values(t.nodes), _z = _q.next(); !_z.done; _z = _q.next()) {
                                    var e_387 = _z.value;
                                    e_387.name ? n.push(Ws.fromJSON(e_387)) : n.push(Bs.fromJSON(e_387));
                                }
                            }
                            catch (e_386_1) { e_386 = { error: e_386_1 }; }
                            finally {
                                try {
                                    if (_z && !_z.done && (_j = _q.return)) _j.call(_q);
                                }
                                finally { if (e_386) throw e_386.error; }
                            }
                            var i = new mc(Gs.fromJSON(t.position, e), n, t.baseVersion);
                            return i.shouldReceiveAttributes = t.shouldReceiveAttributes, i;
                        };
                        return mc;
                    }(tc));
                    var gc = /** @class */ (function (_super) {
                        __extends(gc, _super);
                        function gc(t, e, n, i, o, r) {
                            var _this = this;
                            _this = _super.call(this, r) || this, _this.name = t, _this.oldRange = e ? e.clone() : null, _this.newRange = n ? n.clone() : null, _this.affectsData = o, _this._markers = i;
                            return _this;
                        }
                        Object.defineProperty(gc.prototype, "type", {
                            get: function () { return "marker"; },
                            enumerable: true,
                            configurable: true
                        });
                        gc.prototype.clone = function () { return new gc(this.name, this.oldRange, this.newRange, this._markers, this.affectsData, this.baseVersion); };
                        gc.prototype.getReversed = function () { return new gc(this.name, this.newRange, this.oldRange, this._markers, this.affectsData, this.baseVersion + 1); };
                        gc.prototype._execute = function () { var t = this.newRange ? "_set" : "_remove"; this._markers[t](this.name, this.newRange, !0, this.affectsData); };
                        gc.prototype.toJSON = function () { var t = _super.prototype.toJSON.call(this); return this.oldRange && (t.oldRange = this.oldRange.toJSON()), this.newRange && (t.newRange = this.newRange.toJSON()), delete t._markers, t; };
                        Object.defineProperty(gc, "className", {
                            get: function () { return "MarkerOperation"; },
                            enumerable: true,
                            configurable: true
                        });
                        gc.fromJSON = function (t, e) { return new gc(t.name, t.oldRange ? Ks.fromJSON(t.oldRange, e) : null, t.newRange ? Ks.fromJSON(t.newRange, e) : null, e.model.markers, t.affectsData, t.baseVersion); };
                        return gc;
                    }(tc));
                    var fc = /** @class */ (function (_super) {
                        __extends(fc, _super);
                        function fc(t, e, n, i) {
                            var _this = this;
                            _this = _super.call(this, i) || this, _this.position = t, _this.position.stickiness = "toNext", _this.oldName = e, _this.newName = n;
                            return _this;
                        }
                        Object.defineProperty(fc.prototype, "type", {
                            get: function () { return "rename"; },
                            enumerable: true,
                            configurable: true
                        });
                        fc.prototype.clone = function () { return new fc(this.position.clone(), this.oldName, this.newName, this.baseVersion); };
                        fc.prototype.getReversed = function () { return new fc(this.position.clone(), this.newName, this.oldName, this.baseVersion + 1); };
                        fc.prototype._validate = function () { var t = this.position.nodeAfter; if (!(t instanceof Ws))
                            throw new Gn.b("rename-operation-wrong-position: Given position is invalid or node after it is not an instance of Element.", this); if (t.name !== this.oldName)
                            throw new Gn.b("rename-operation-wrong-name: Element to change has different name than operation's old name.", this); };
                        fc.prototype._execute = function () { this.position.nodeAfter.name = this.newName; };
                        fc.prototype.toJSON = function () { var t = _super.prototype.toJSON.call(this); return t.position = this.position.toJSON(), t; };
                        Object.defineProperty(fc, "className", {
                            get: function () { return "RenameOperation"; },
                            enumerable: true,
                            configurable: true
                        });
                        fc.fromJSON = function (t, e) { return new fc(Gs.fromJSON(t.position, e), t.oldName, t.newName, t.baseVersion); };
                        return fc;
                    }(tc));
                    var pc = /** @class */ (function (_super) {
                        __extends(pc, _super);
                        function pc(t, e, n, i, o) {
                            var _this = this;
                            _this = _super.call(this, o) || this, _this.root = t, _this.key = e, _this.oldValue = n, _this.newValue = i;
                            return _this;
                        }
                        Object.defineProperty(pc.prototype, "type", {
                            get: function () { return null === this.oldValue ? "addRootAttribute" : null === this.newValue ? "removeRootAttribute" : "changeRootAttribute"; },
                            enumerable: true,
                            configurable: true
                        });
                        pc.prototype.clone = function () { return new pc(this.root, this.key, this.oldValue, this.newValue, this.baseVersion); };
                        pc.prototype.getReversed = function () { return new pc(this.root, this.key, this.newValue, this.oldValue, this.baseVersion + 1); };
                        pc.prototype._validate = function () { if (this.root != this.root.root || this.root.is("documentFragment"))
                            throw new Gn.b("rootattribute-operation-not-a-root: The element to change is not a root element.", this, { root: this.root, key: this.key }); if (null !== this.oldValue && this.root.getAttribute(this.key) !== this.oldValue)
                            throw new Gn.b("rootattribute-operation-wrong-old-value: Changed node has different attribute value than operation's old attribute value.", this, { root: this.root, key: this.key }); if (null === this.oldValue && null !== this.newValue && this.root.hasAttribute(this.key))
                            throw new Gn.b("rootattribute-operation-attribute-exists: The attribute with given key already exists.", this, { root: this.root, key: this.key }); };
                        pc.prototype._execute = function () { null !== this.newValue ? this.root._setAttribute(this.key, this.newValue) : this.root._removeAttribute(this.key); };
                        pc.prototype.toJSON = function () { var t = _super.prototype.toJSON.call(this); return t.root = this.root.toJSON(), t; };
                        Object.defineProperty(pc, "className", {
                            get: function () { return "RootAttributeOperation"; },
                            enumerable: true,
                            configurable: true
                        });
                        pc.fromJSON = function (t, e) { if (!e.getRoot(t.root))
                            throw new Gn.b("rootattribute-operation-fromjson-no-root: Cannot create RootAttributeOperation. Root with specified name does not exist.", this, { rootName: t.root }); return new pc(e.getRoot(t.root), t.key, t.oldValue, t.newValue, t.baseVersion); };
                        return pc;
                    }(tc));
                    var xc = /** @class */ (function (_super) {
                        __extends(xc, _super);
                        function xc(t, e, n, i, o) {
                            var _this = this;
                            _this = _super.call(this, o) || this, _this.sourcePosition = t.clone(), _this.sourcePosition.stickiness = "toPrevious", _this.howMany = e, _this.targetPosition = n.clone(), _this.targetPosition.stickiness = "toNext", _this.graveyardPosition = i.clone();
                            return _this;
                        }
                        Object.defineProperty(xc.prototype, "type", {
                            get: function () { return "merge"; },
                            enumerable: true,
                            configurable: true
                        });
                        Object.defineProperty(xc.prototype, "deletionPosition", {
                            get: function () { return new Gs(this.sourcePosition.root, this.sourcePosition.path.slice(0, -1)); },
                            enumerable: true,
                            configurable: true
                        });
                        Object.defineProperty(xc.prototype, "movedRange", {
                            get: function () { var t = this.sourcePosition.getShiftedBy(Number.POSITIVE_INFINITY); return new Ks(this.sourcePosition, t); },
                            enumerable: true,
                            configurable: true
                        });
                        xc.prototype.clone = function () { return new this.constructor(this.sourcePosition, this.howMany, this.targetPosition, this.graveyardPosition, this.baseVersion); };
                        xc.prototype.getReversed = function () { var t = this.targetPosition._getTransformedByMergeOperation(this), e = this.sourcePosition.path.slice(0, -1), n = new Gs(this.sourcePosition.root, e)._getTransformedByMergeOperation(this), i = new bc(t, this.howMany, this.graveyardPosition, this.baseVersion + 1); return i.insertionPosition = n, i; };
                        xc.prototype._validate = function () { var t = this.sourcePosition.parent, e = this.targetPosition.parent; if (!t.parent)
                            throw new Gn.b("merge-operation-source-position-invalid: Merge source position is invalid.", this); if (!e.parent)
                            throw new Gn.b("merge-operation-target-position-invalid: Merge target position is invalid.", this); if (this.howMany != t.maxOffset)
                            throw new Gn.b("merge-operation-how-many-invalid: Merge operation specifies wrong number of nodes to move.", this); };
                        xc.prototype._execute = function () { var t = this.sourcePosition.parent; oc(Ks._createIn(t), this.targetPosition), oc(Ks._createOn(t), this.graveyardPosition); };
                        xc.prototype.toJSON = function () { var t = _super.prototype.toJSON.call(this); return t.sourcePosition = t.sourcePosition.toJSON(), t.targetPosition = t.targetPosition.toJSON(), t.graveyardPosition = t.graveyardPosition.toJSON(), t; };
                        Object.defineProperty(xc, "className", {
                            get: function () { return "MergeOperation"; },
                            enumerable: true,
                            configurable: true
                        });
                        xc.fromJSON = function (t, e) { var n = Gs.fromJSON(t.sourcePosition, e), i = Gs.fromJSON(t.targetPosition, e), o = Gs.fromJSON(t.graveyardPosition, e); return new this(n, t.howMany, i, o, t.baseVersion); };
                        return xc;
                    }(tc));
                    var bc = /** @class */ (function (_super) {
                        __extends(bc, _super);
                        function bc(t, e, n, i) {
                            var _this = this;
                            _this = _super.call(this, i) || this, _this.splitPosition = t.clone(), _this.splitPosition.stickiness = "toNext", _this.howMany = e, _this.insertionPosition = bc.getInsertionPosition(t), _this.insertionPosition.stickiness = "toNone", _this.graveyardPosition = n ? n.clone() : null, _this.graveyardPosition && (_this.graveyardPosition.stickiness = "toNext");
                            return _this;
                        }
                        Object.defineProperty(bc.prototype, "type", {
                            get: function () { return "split"; },
                            enumerable: true,
                            configurable: true
                        });
                        Object.defineProperty(bc.prototype, "moveTargetPosition", {
                            get: function () { var t = this.insertionPosition.path.slice(); return t.push(0), new Gs(this.insertionPosition.root, t); },
                            enumerable: true,
                            configurable: true
                        });
                        Object.defineProperty(bc.prototype, "movedRange", {
                            get: function () { var t = this.splitPosition.getShiftedBy(Number.POSITIVE_INFINITY); return new Ks(this.splitPosition, t); },
                            enumerable: true,
                            configurable: true
                        });
                        bc.prototype.clone = function () { var t = new this.constructor(this.splitPosition, this.howMany, this.graveyardPosition, this.baseVersion); return t.insertionPosition = this.insertionPosition, t; };
                        bc.prototype.getReversed = function () { var t = this.splitPosition.root.document.graveyard, e = new Gs(t, [0]); return new xc(this.moveTargetPosition, this.howMany, this.splitPosition, e, this.baseVersion + 1); };
                        bc.prototype._validate = function () { var t = this.splitPosition.parent, e = this.splitPosition.offset; if (!t || t.maxOffset < e)
                            throw new Gn.b("split-operation-position-invalid: Split position is invalid.", this); if (!t.parent)
                            throw new Gn.b("split-operation-split-in-root: Cannot split root element.", this); if (this.howMany != t.maxOffset - this.splitPosition.offset)
                            throw new Gn.b("split-operation-how-many-invalid: Split operation specifies wrong number of nodes to move.", this); if (this.graveyardPosition && !this.graveyardPosition.nodeAfter)
                            throw new Gn.b("split-operation-graveyard-position-invalid: Graveyard position invalid.", this); };
                        bc.prototype._execute = function () { var t = this.splitPosition.parent; if (this.graveyardPosition)
                            oc(Ks._createFromPositionAndShift(this.graveyardPosition, 1), this.insertionPosition);
                        else {
                            var e_388 = t._clone();
                            nc(this.insertionPosition, e_388);
                        } oc(new Ks(Gs._createAt(t, this.splitPosition.offset), Gs._createAt(t, t.maxOffset)), this.moveTargetPosition); };
                        bc.prototype.toJSON = function () { var t = _super.prototype.toJSON.call(this); return t.splitPosition = this.splitPosition.toJSON(), t.insertionPosition = this.insertionPosition.toJSON(), this.graveyardPosition && (t.graveyardPosition = this.graveyardPosition.toJSON()), t; };
                        Object.defineProperty(bc, "className", {
                            get: function () { return "SplitOperation"; },
                            enumerable: true,
                            configurable: true
                        });
                        bc.getInsertionPosition = function (t) { var e = t.path.slice(0, -1); return e[e.length - 1]++, new Gs(t.root, e); };
                        bc.fromJSON = function (t, e) { var n = Gs.fromJSON(t.splitPosition, e), i = Gs.fromJSON(t.insertionPosition, e), o = t.graveyardPosition ? Gs.fromJSON(t.graveyardPosition, e) : null, r = new this(n, t.howMany, o, t.baseVersion); return r.insertionPosition = i, r; };
                        return bc;
                    }(tc));
                    var kc = /** @class */ (function (_super) {
                        __extends(kc, _super);
                        function kc(t, e, n) {
                            if (n === void 0) { n = "main"; }
                            var _this = this;
                            _this = _super.call(this, e) || this, _this._doc = t, _this.rootName = n;
                            return _this;
                        }
                        Object.defineProperty(kc.prototype, "document", {
                            get: function () { return this._doc; },
                            enumerable: true,
                            configurable: true
                        });
                        kc.prototype.is = function (t, e) { var n = t.replace("model:", ""); return e ? "rootElement" == n && e == this.name || _super.prototype.is.call(this, t, e) : "rootElement" == n || _super.prototype.is.call(this, t); };
                        kc.prototype.toJSON = function () { return this.rootName; };
                        return kc;
                    }(Ws));
                    var wc = /** @class */ (function () {
                        function wc(t, e) {
                            this.model = t, this.batch = e;
                        }
                        wc.prototype.createText = function (t, e) { return new Bs(t, e); };
                        wc.prototype.createElement = function (t, e) { return new Ws(t, e); };
                        wc.prototype.createDocumentFragment = function () { return new ec; };
                        wc.prototype.insert = function (t, e, n) {
                            var e_389, _j;
                            if (n === void 0) { n = 0; }
                            if (this._assertWriterUsedCorrectly(), t instanceof Bs && "" == t.data)
                                return;
                            var i = Gs._createAt(e, n);
                            if (t.parent) {
                                if (Tc(t.root, i.root))
                                    return void this.move(Ks._createOn(t), i);
                                if (t.root.document)
                                    throw new Gn.b("model-writer-insert-forbidden-move: Cannot move a node from a document to a different tree. It is forbidden to move a node that was already in a document outside of it.", this);
                                this.remove(t);
                            }
                            var o = i.root.document ? i.root.document.version : null, r = new mc(i, t, o);
                            if (t instanceof Bs && (r.shouldReceiveAttributes = !0), this.batch.addOperation(r), this.model.applyOperation(r), t instanceof ec)
                                try {
                                    for (var _q = __values(t.markers), _z = _q.next(); !_z.done; _z = _q.next()) {
                                        var _0 = __read(_z.value, 2), e_390 = _0[0], n_153 = _0[1];
                                        var t_192 = Gs._createAt(n_153.root, 0), o_45 = { range: new Ks(n_153.start._getCombined(t_192, i), n_153.end._getCombined(t_192, i)), usingOperation: !0, affectsData: !0 };
                                        this.model.markers.has(e_390) ? this.updateMarker(e_390, o_45) : this.addMarker(e_390, o_45);
                                    }
                                }
                                catch (e_389_1) { e_389 = { error: e_389_1 }; }
                                finally {
                                    try {
                                        if (_z && !_z.done && (_j = _q.return)) _j.call(_q);
                                    }
                                    finally { if (e_389) throw e_389.error; }
                                }
                        };
                        wc.prototype.insertText = function (t, e, n, i) { e instanceof ec || e instanceof Ws || e instanceof Gs ? this.insert(this.createText(t), e, n) : this.insert(this.createText(t, e), n, i); };
                        wc.prototype.insertElement = function (t, e, n, i) { e instanceof ec || e instanceof Ws || e instanceof Gs ? this.insert(this.createElement(t), e, n) : this.insert(this.createElement(t, e), n, i); };
                        wc.prototype.append = function (t, e) { this.insert(t, e, "end"); };
                        wc.prototype.appendText = function (t, e, n) { e instanceof ec || e instanceof Ws ? this.insert(this.createText(t), e, "end") : this.insert(this.createText(t, e), n, "end"); };
                        wc.prototype.appendElement = function (t, e, n) { e instanceof ec || e instanceof Ws ? this.insert(this.createElement(t), e, "end") : this.insert(this.createElement(t, e), n, "end"); };
                        wc.prototype.setAttribute = function (t, e, n) {
                            var e_391, _j;
                            if (this._assertWriterUsedCorrectly(), n instanceof Ks) {
                                var i_86 = n.getMinimalFlatRanges();
                                try {
                                    for (var i_85 = __values(i_86), i_85_1 = i_85.next(); !i_85_1.done; i_85_1 = i_85.next()) {
                                        var n_154 = i_85_1.value;
                                        _c(this, t, e, n_154);
                                    }
                                }
                                catch (e_391_1) { e_391 = { error: e_391_1 }; }
                                finally {
                                    try {
                                        if (i_85_1 && !i_85_1.done && (_j = i_85.return)) _j.call(i_85);
                                    }
                                    finally { if (e_391) throw e_391.error; }
                                }
                            }
                            else
                                vc(this, t, e, n);
                        };
                        wc.prototype.setAttributes = function (t, e) {
                            var e_392, _j;
                            try {
                                for (var _q = __values(js(t)), _z = _q.next(); !_z.done; _z = _q.next()) {
                                    var _0 = __read(_z.value, 2), n_155 = _0[0], i_87 = _0[1];
                                    this.setAttribute(n_155, i_87, e);
                                }
                            }
                            catch (e_392_1) { e_392 = { error: e_392_1 }; }
                            finally {
                                try {
                                    if (_z && !_z.done && (_j = _q.return)) _j.call(_q);
                                }
                                finally { if (e_392) throw e_392.error; }
                            }
                        };
                        wc.prototype.removeAttribute = function (t, e) {
                            var e_393, _j;
                            if (this._assertWriterUsedCorrectly(), e instanceof Ks) {
                                var n_157 = e.getMinimalFlatRanges();
                                try {
                                    for (var n_156 = __values(n_157), n_156_1 = n_156.next(); !n_156_1.done; n_156_1 = n_156.next()) {
                                        var e_394 = n_156_1.value;
                                        _c(this, t, null, e_394);
                                    }
                                }
                                catch (e_393_1) { e_393 = { error: e_393_1 }; }
                                finally {
                                    try {
                                        if (n_156_1 && !n_156_1.done && (_j = n_156.return)) _j.call(n_156);
                                    }
                                    finally { if (e_393) throw e_393.error; }
                                }
                            }
                            else
                                vc(this, t, null, e);
                        };
                        wc.prototype.clearAttributes = function (t) {
                            var _this = this;
                            var e_395, _j;
                            this._assertWriterUsedCorrectly();
                            var e = function (t) {
                                var e_396, _j;
                                try {
                                    for (var _q = __values(t.getAttributeKeys()), _z = _q.next(); !_z.done; _z = _q.next()) {
                                        var e_397 = _z.value;
                                        _this.removeAttribute(e_397, t);
                                    }
                                }
                                catch (e_396_1) { e_396 = { error: e_396_1 }; }
                                finally {
                                    try {
                                        if (_z && !_z.done && (_j = _q.return)) _j.call(_q);
                                    }
                                    finally { if (e_396) throw e_396.error; }
                                }
                            };
                            if (t instanceof Ks)
                                try {
                                    for (var _q = __values(t.getItems()), _z = _q.next(); !_z.done; _z = _q.next()) {
                                        var n_158 = _z.value;
                                        e(n_158);
                                    }
                                }
                                catch (e_395_1) { e_395 = { error: e_395_1 }; }
                                finally {
                                    try {
                                        if (_z && !_z.done && (_j = _q.return)) _j.call(_q);
                                    }
                                    finally { if (e_395) throw e_395.error; }
                                }
                            else
                                e(t);
                        };
                        wc.prototype.move = function (t, e, n) { if (this._assertWriterUsedCorrectly(), !(t instanceof Ks))
                            throw new Gn.b("writer-move-invalid-range: Invalid range to move.", this); if (!t.isFlat)
                            throw new Gn.b("writer-move-range-not-flat: Range to move is not flat.", this); var i = Gs._createAt(e, n); if (i.isEqual(t.start))
                            return; if (this._addOperationForAffectedMarkers("move", t), !Tc(t.root, i.root))
                            throw new Gn.b("writer-move-different-document: Range is going to be moved between different documents.", this); var o = t.root.document ? t.root.document.version : null, r = new hc(t.start, t.end.offset - t.start.offset, i, o); this.batch.addOperation(r), this.model.applyOperation(r); };
                        wc.prototype.remove = function (t) {
                            var e_398, _j;
                            this._assertWriterUsedCorrectly();
                            var e = (t instanceof Ks ? t : Ks._createOn(t)).getMinimalFlatRanges().reverse();
                            try {
                                for (var e_399 = __values(e), e_399_1 = e_399.next(); !e_399_1.done; e_399_1 = e_399.next()) {
                                    var t_193 = e_399_1.value;
                                    this._addOperationForAffectedMarkers("move", t_193), Cc(t_193.start, t_193.end.offset - t_193.start.offset, this.batch, this.model);
                                }
                            }
                            catch (e_398_1) { e_398 = { error: e_398_1 }; }
                            finally {
                                try {
                                    if (e_399_1 && !e_399_1.done && (_j = e_399.return)) _j.call(e_399);
                                }
                                finally { if (e_398) throw e_398.error; }
                            }
                        };
                        wc.prototype.merge = function (t) { this._assertWriterUsedCorrectly(); var e = t.nodeBefore, n = t.nodeAfter; if (this._addOperationForAffectedMarkers("merge", t), !(e instanceof Ws))
                            throw new Gn.b("writer-merge-no-element-before: Node before merge position must be an element.", this); if (!(n instanceof Ws))
                            throw new Gn.b("writer-merge-no-element-after: Node after merge position must be an element.", this); t.root.document ? this._merge(t) : this._mergeDetached(t); };
                        wc.prototype.createPositionFromPath = function (t, e, n) { return this.model.createPositionFromPath(t, e, n); };
                        wc.prototype.createPositionAt = function (t, e) { return this.model.createPositionAt(t, e); };
                        wc.prototype.createPositionAfter = function (t) { return this.model.createPositionAfter(t); };
                        wc.prototype.createPositionBefore = function (t) { return this.model.createPositionBefore(t); };
                        wc.prototype.createRange = function (t, e) { return this.model.createRange(t, e); };
                        wc.prototype.createRangeIn = function (t) { return this.model.createRangeIn(t); };
                        wc.prototype.createRangeOn = function (t) { return this.model.createRangeOn(t); };
                        wc.prototype.createSelection = function (t, e, n) { return this.model.createSelection(t, e, n); };
                        wc.prototype._mergeDetached = function (t) { var e = t.nodeBefore, n = t.nodeAfter; this.move(Ks._createIn(n), Gs._createAt(e, "end")), this.remove(n); };
                        wc.prototype._merge = function (t) { var e = Gs._createAt(t.nodeBefore, "end"), n = Gs._createAt(t.nodeAfter, 0), i = t.root.document.graveyard, o = new Gs(i, [0]), r = t.root.document.version, s = new xc(n, t.nodeAfter.maxOffset, e, o, r); this.batch.addOperation(s), this.model.applyOperation(s); };
                        wc.prototype.rename = function (t, e) { if (this._assertWriterUsedCorrectly(), !(t instanceof Ws))
                            throw new Gn.b("writer-rename-not-element-instance: Trying to rename an object which is not an instance of Element.", this); var n = t.root.document ? t.root.document.version : null, i = new fc(Gs._createBefore(t), t.name, e, n); this.batch.addOperation(i), this.model.applyOperation(i); };
                        wc.prototype.split = function (t, e) { this._assertWriterUsedCorrectly(); var n, i, o = t.parent; if (!o.parent)
                            throw new Gn.b("writer-split-element-no-parent: Element with no parent can not be split.", this); if (e || (e = o.parent), !t.parent.getAncestors({ includeSelf: !0 }).includes(e))
                            throw new Gn.b("writer-split-invalid-limit-element: Limit element is not a position ancestor.", this); do {
                            var e_400 = o.root.document ? o.root.document.version : null, r_16 = o.maxOffset - t.offset, s_16 = new bc(t, r_16, null, e_400);
                            this.batch.addOperation(s_16), this.model.applyOperation(s_16), n || i || (n = o, i = t.parent.nextSibling), o = (t = this.createPositionAfter(t.parent)).parent;
                        } while (o !== e); return { position: t, range: new Ks(Gs._createAt(n, "end"), Gs._createAt(i, 0)) }; };
                        wc.prototype.wrap = function (t, e) { if (this._assertWriterUsedCorrectly(), !t.isFlat)
                            throw new Gn.b("writer-wrap-range-not-flat: Range to wrap is not flat.", this); var n = e instanceof Ws ? e : new Ws(e); if (n.childCount > 0)
                            throw new Gn.b("writer-wrap-element-not-empty: Element to wrap with is not empty.", this); if (null !== n.parent)
                            throw new Gn.b("writer-wrap-element-attached: Element to wrap with is already attached to tree model.", this); this.insert(n, t.start); var i = new Ks(t.start.getShiftedBy(1), t.end.getShiftedBy(1)); this.move(i, Gs._createAt(n, 0)); };
                        wc.prototype.unwrap = function (t) { if (this._assertWriterUsedCorrectly(), null === t.parent)
                            throw new Gn.b("writer-unwrap-element-no-parent: Trying to unwrap an element which has no parent.", this); this.move(Ks._createIn(t), this.createPositionAfter(t)), this.remove(t); };
                        wc.prototype.addMarker = function (t, e) { if (this._assertWriterUsedCorrectly(), !e || "boolean" != typeof e.usingOperation)
                            throw new Gn.b("writer-addMarker-no-usingOperation: The options.usingOperation parameter is required when adding a new marker.", this); var n = e.usingOperation, i = e.range, o = void 0 !== e.affectsData && e.affectsData; if (this.model.markers.has(t))
                            throw new Gn.b("writer-addMarker-marker-exists: Marker with provided name already exists.", this); if (!i)
                            throw new Gn.b("writer-addMarker-no-range: Range parameter is required when adding a new marker.", this); return n ? (yc(this, t, null, i, o), this.model.markers.get(t)) : this.model.markers._set(t, i, n, o); };
                        wc.prototype.updateMarker = function (t, e) { this._assertWriterUsedCorrectly(); var n = "string" == typeof t ? t : t.name, i = this.model.markers.get(n); if (!i)
                            throw new Gn.b("writer-updateMarker-marker-not-exists: Marker with provided name does not exists.", this); if (!e)
                            return void this.model.markers._refresh(i); var o = "boolean" == typeof e.usingOperation, r = "boolean" == typeof e.affectsData, s = r ? e.affectsData : i.affectsData; if (!o && !e.range && !r)
                            throw new Gn.b("writer-updateMarker-wrong-options: One of the options is required - provide range, usingOperations or affectsData.", this); var a = i.getRange(), c = e.range ? e.range : a; o && e.usingOperation !== i.managedUsingOperations ? e.usingOperation ? yc(this, n, null, c, s) : (yc(this, n, a, null, s), this.model.markers._set(n, c, void 0, s)) : i.managedUsingOperations ? yc(this, n, a, c, s) : this.model.markers._set(n, c, void 0, s); };
                        wc.prototype.removeMarker = function (t) { this._assertWriterUsedCorrectly(); var e = "string" == typeof t ? t : t.name; if (!this.model.markers.has(e))
                            throw new Gn.b("writer-removeMarker-no-marker: Trying to remove marker which does not exist.", this); var n = this.model.markers.get(e); n.managedUsingOperations ? yc(this, e, n.getRange(), null, n.affectsData) : this.model.markers._remove(e); };
                        wc.prototype.setSelection = function (t, e, n) { this._assertWriterUsedCorrectly(), this.model.document.selection._setTo(t, e, n); };
                        wc.prototype.setSelectionFocus = function (t, e) { this._assertWriterUsedCorrectly(), this.model.document.selection._setFocus(t, e); };
                        wc.prototype.setSelectionAttribute = function (t, e) {
                            var e_401, _j;
                            if (this._assertWriterUsedCorrectly(), "string" == typeof t)
                                this._setSelectionAttribute(t, e);
                            else
                                try {
                                    for (var _q = __values(js(t)), _z = _q.next(); !_z.done; _z = _q.next()) {
                                        var _0 = __read(_z.value, 2), e_402 = _0[0], n_159 = _0[1];
                                        this._setSelectionAttribute(e_402, n_159);
                                    }
                                }
                                catch (e_401_1) { e_401 = { error: e_401_1 }; }
                                finally {
                                    try {
                                        if (_z && !_z.done && (_j = _q.return)) _j.call(_q);
                                    }
                                    finally { if (e_401) throw e_401.error; }
                                }
                        };
                        wc.prototype.removeSelectionAttribute = function (t) {
                            var e_403, _j;
                            if (this._assertWriterUsedCorrectly(), "string" == typeof t)
                                this._removeSelectionAttribute(t);
                            else
                                try {
                                    for (var t_194 = __values(t), t_194_1 = t_194.next(); !t_194_1.done; t_194_1 = t_194.next()) {
                                        var e_404 = t_194_1.value;
                                        this._removeSelectionAttribute(e_404);
                                    }
                                }
                                catch (e_403_1) { e_403 = { error: e_403_1 }; }
                                finally {
                                    try {
                                        if (t_194_1 && !t_194_1.done && (_j = t_194.return)) _j.call(t_194);
                                    }
                                    finally { if (e_403) throw e_403.error; }
                                }
                        };
                        wc.prototype.overrideSelectionGravity = function () { return this.model.document.selection._overrideGravity(); };
                        wc.prototype.restoreSelectionGravity = function (t) { this.model.document.selection._restoreGravity(t); };
                        wc.prototype._setSelectionAttribute = function (t, e) { var n = this.model.document.selection; if (n.isCollapsed && n.anchor.parent.isEmpty) {
                            var i_88 = ca._getStoreAttributeKey(t);
                            this.setAttribute(i_88, e, n.anchor.parent);
                        } n._setAttribute(t, e); };
                        wc.prototype._removeSelectionAttribute = function (t) { var e = this.model.document.selection; if (e.isCollapsed && e.anchor.parent.isEmpty) {
                            var n_160 = ca._getStoreAttributeKey(t);
                            this.removeAttribute(n_160, e.anchor.parent);
                        } e._removeAttribute(t); };
                        wc.prototype._assertWriterUsedCorrectly = function () { if (this.model._currentWriter !== this)
                            throw new Gn.b("writer-incorrect-use: Trying to use a writer outside the change() block.", this); };
                        wc.prototype._addOperationForAffectedMarkers = function (t, e) {
                            var e_405, _j;
                            try {
                                for (var _q = __values(this.model.markers), _z = _q.next(); !_z.done; _z = _q.next()) {
                                    var n_161 = _z.value;
                                    if (!n_161.managedUsingOperations)
                                        continue;
                                    var i_89 = n_161.getRange();
                                    var o_46 = !1;
                                    if ("move" == t)
                                        o_46 = e.containsPosition(i_89.start) || e.start.isEqual(i_89.start) || e.containsPosition(i_89.end) || e.end.isEqual(i_89.end);
                                    else {
                                        var t_195 = e.nodeBefore, n_162 = e.nodeAfter, r_17 = i_89.start.parent == t_195 && i_89.start.isAtEnd, s_17 = i_89.end.parent == n_162 && 0 == i_89.end.offset, a_7 = i_89.end.nodeAfter == n_162, c_4 = i_89.start.nodeAfter == n_162;
                                        o_46 = r_17 || s_17 || a_7 || c_4;
                                    }
                                    o_46 && this.updateMarker(n_161.name, { range: i_89 });
                                }
                            }
                            catch (e_405_1) { e_405 = { error: e_405_1 }; }
                            finally {
                                try {
                                    if (_z && !_z.done && (_j = _q.return)) _j.call(_q);
                                }
                                finally { if (e_405) throw e_405.error; }
                            }
                        };
                        return wc;
                    }());
                    function _c(t, e, n, i) {
                        var e_406, _j;
                        var o = t.model, r = o.document;
                        var s, a, c, l = i.start;
                        try {
                            for (var _q = __values(i.getWalker({ shallow: !0 })), _z = _q.next(); !_z.done; _z = _q.next()) {
                                var t_196 = _z.value;
                                c = t_196.item.getAttribute(e), s && a != c && (a != n && d(), l = s), s = t_196.nextPosition, a = c;
                            }
                        }
                        catch (e_406_1) { e_406 = { error: e_406_1 }; }
                        finally {
                            try {
                                if (_z && !_z.done && (_j = _q.return)) _j.call(_q);
                            }
                            finally { if (e_406) throw e_406.error; }
                        }
                        function d() { var i = new Ks(l, s), c = i.root.document ? r.version : null, d = new dc(i, e, a, n, c); t.batch.addOperation(d), o.applyOperation(d); }
                        s instanceof Gs && s != l && a != n && d();
                    }
                    function vc(t, e, n, i) { var o = t.model, r = o.document, s = i.getAttribute(e); var a, c; if (s != n) {
                        if (i.root === i) {
                            var t_197 = i.document ? r.version : null;
                            c = new pc(i, e, s, n, t_197);
                        }
                        else {
                            var o_47 = (a = new Ks(Gs._createBefore(i), t.createPositionAfter(i))).root.document ? r.version : null;
                            c = new dc(a, e, s, n, o_47);
                        }
                        t.batch.addOperation(c), o.applyOperation(c);
                    } }
                    function yc(t, e, n, i, o) { var r = t.model, s = r.document, a = new gc(e, n, i, r.markers, o, s.version); t.batch.addOperation(a), r.applyOperation(a); }
                    function Cc(t, e, n, i) { var o; if (t.root.document) {
                        var n_163 = i.document, r_18 = new Gs(n_163.graveyard, [0]);
                        o = new hc(t, e, r_18, n_163.version);
                    }
                    else
                        o = new uc(t, e); n.addOperation(o), i.applyOperation(o); }
                    function Tc(t, e) { return t === e || t instanceof kc && e instanceof kc; }
                    var Ac = /** @class */ (function () {
                        function Ac(t) {
                            this._markerCollection = t, this._changesInElement = new Map, this._elementSnapshots = new Map, this._changedMarkers = new Map, this._changeCount = 0, this._cachedChanges = null, this._cachedChangesWithGraveyard = null;
                        }
                        Object.defineProperty(Ac.prototype, "isEmpty", {
                            get: function () { return 0 == this._changesInElement.size && 0 == this._changedMarkers.size; },
                            enumerable: true,
                            configurable: true
                        });
                        Ac.prototype.refreshItem = function (t) {
                            var e_407, _j;
                            if (this._isInInsertedElement(t.parent))
                                return;
                            this._markRemove(t.parent, t.startOffset, t.offsetSize), this._markInsert(t.parent, t.startOffset, t.offsetSize);
                            var e = Ks._createOn(t);
                            try {
                                for (var _q = __values(this._markerCollection.getMarkersIntersectingRange(e)), _z = _q.next(); !_z.done; _z = _q.next()) {
                                    var t_198 = _z.value;
                                    var e_408 = t_198.getRange();
                                    this.bufferMarkerChange(t_198.name, e_408, e_408, t_198.affectsData);
                                }
                            }
                            catch (e_407_1) { e_407 = { error: e_407_1 }; }
                            finally {
                                try {
                                    if (_z && !_z.done && (_j = _q.return)) _j.call(_q);
                                }
                                finally { if (e_407) throw e_407.error; }
                            }
                            this._cachedChanges = null;
                        };
                        Ac.prototype.bufferOperation = function (t) {
                            var e_409, _j, e_410, _q;
                            switch (t.type) {
                                case "insert":
                                    if (this._isInInsertedElement(t.position.parent))
                                        return;
                                    this._markInsert(t.position.parent, t.position.offset, t.nodes.maxOffset);
                                    break;
                                case "addAttribute":
                                case "removeAttribute":
                                case "changeAttribute":
                                    try {
                                        for (var _z = __values(t.range.getItems({ shallow: !0 })), _0 = _z.next(); !_0.done; _0 = _z.next()) {
                                            var e_411 = _0.value;
                                            this._isInInsertedElement(e_411.parent) || this._markAttribute(e_411);
                                        }
                                    }
                                    catch (e_409_1) { e_409 = { error: e_409_1 }; }
                                    finally {
                                        try {
                                            if (_0 && !_0.done && (_j = _z.return)) _j.call(_z);
                                        }
                                        finally { if (e_409) throw e_409.error; }
                                    }
                                    break;
                                case "remove":
                                case "move":
                                case "reinsert": {
                                    if (t.sourcePosition.isEqual(t.targetPosition) || t.sourcePosition.getShiftedBy(t.howMany).isEqual(t.targetPosition))
                                        return;
                                    var e_412 = this._isInInsertedElement(t.sourcePosition.parent), n_164 = this._isInInsertedElement(t.targetPosition.parent);
                                    e_412 || this._markRemove(t.sourcePosition.parent, t.sourcePosition.offset, t.howMany), n_164 || this._markInsert(t.targetPosition.parent, t.getMovedRangeStart().offset, t.howMany);
                                    break;
                                }
                                case "rename": {
                                    if (this._isInInsertedElement(t.position.parent))
                                        return;
                                    this._markRemove(t.position.parent, t.position.offset, 1), this._markInsert(t.position.parent, t.position.offset, 1);
                                    var e_413 = Ks._createFromPositionAndShift(t.position, 1);
                                    try {
                                        for (var _1 = __values(this._markerCollection.getMarkersIntersectingRange(e_413)), _2 = _1.next(); !_2.done; _2 = _1.next()) {
                                            var t_199 = _2.value;
                                            var e_414 = t_199.getRange();
                                            this.bufferMarkerChange(t_199.name, e_414, e_414, t_199.affectsData);
                                        }
                                    }
                                    catch (e_410_1) { e_410 = { error: e_410_1 }; }
                                    finally {
                                        try {
                                            if (_2 && !_2.done && (_q = _1.return)) _q.call(_1);
                                        }
                                        finally { if (e_410) throw e_410.error; }
                                    }
                                    break;
                                }
                                case "split": {
                                    var e_415 = t.splitPosition.parent;
                                    this._isInInsertedElement(e_415) || this._markRemove(e_415, t.splitPosition.offset, t.howMany), this._isInInsertedElement(t.insertionPosition.parent) || this._markInsert(t.insertionPosition.parent, t.insertionPosition.offset, 1), t.graveyardPosition && this._markRemove(t.graveyardPosition.parent, t.graveyardPosition.offset, 1);
                                    break;
                                }
                                case "merge": {
                                    var e_416 = t.sourcePosition.parent;
                                    this._isInInsertedElement(e_416.parent) || this._markRemove(e_416.parent, e_416.startOffset, 1);
                                    var n_165 = t.graveyardPosition.parent;
                                    this._markInsert(n_165, t.graveyardPosition.offset, 1);
                                    var i_90 = t.targetPosition.parent;
                                    this._isInInsertedElement(i_90) || this._markInsert(i_90, t.targetPosition.offset, e_416.maxOffset);
                                    break;
                                }
                            }
                            this._cachedChanges = null;
                        };
                        Ac.prototype.bufferMarkerChange = function (t, e, n, i) { var o = this._changedMarkers.get(t); o ? (o.newRange = n, o.affectsData = i, null == o.oldRange && null == o.newRange && this._changedMarkers.delete(t)) : this._changedMarkers.set(t, { oldRange: e, newRange: n, affectsData: i }); };
                        Ac.prototype.getMarkersToRemove = function () {
                            var e_417, _j;
                            var t = [];
                            try {
                                for (var _q = __values(this._changedMarkers), _z = _q.next(); !_z.done; _z = _q.next()) {
                                    var _0 = __read(_z.value, 2), e_418 = _0[0], n_166 = _0[1];
                                    null != n_166.oldRange && t.push({ name: e_418, range: n_166.oldRange });
                                }
                            }
                            catch (e_417_1) { e_417 = { error: e_417_1 }; }
                            finally {
                                try {
                                    if (_z && !_z.done && (_j = _q.return)) _j.call(_q);
                                }
                                finally { if (e_417) throw e_417.error; }
                            }
                            return t;
                        };
                        Ac.prototype.getMarkersToAdd = function () {
                            var e_419, _j;
                            var t = [];
                            try {
                                for (var _q = __values(this._changedMarkers), _z = _q.next(); !_z.done; _z = _q.next()) {
                                    var _0 = __read(_z.value, 2), e_420 = _0[0], n_167 = _0[1];
                                    null != n_167.newRange && t.push({ name: e_420, range: n_167.newRange });
                                }
                            }
                            catch (e_419_1) { e_419 = { error: e_419_1 }; }
                            finally {
                                try {
                                    if (_z && !_z.done && (_j = _q.return)) _j.call(_q);
                                }
                                finally { if (e_419) throw e_419.error; }
                            }
                            return t;
                        };
                        Ac.prototype.getChangedMarkers = function () { return Array.from(this._changedMarkers).map(function (t) { return ({ name: t[0], data: { oldRange: t[1].oldRange, newRange: t[1].newRange } }); }); };
                        Ac.prototype.hasDataChanges = function () {
                            var e_421, _j;
                            try {
                                for (var _q = __values(this._changedMarkers), _z = _q.next(); !_z.done; _z = _q.next()) {
                                    var _0 = __read(_z.value, 2), t_200 = _0[1];
                                    if (t_200.affectsData)
                                        return !0;
                                }
                            }
                            catch (e_421_1) { e_421 = { error: e_421_1 }; }
                            finally {
                                try {
                                    if (_z && !_z.done && (_j = _q.return)) _j.call(_q);
                                }
                                finally { if (e_421) throw e_421.error; }
                            }
                            return this._changesInElement.size > 0;
                        };
                        Ac.prototype.getChanges = function (t) {
                            var e_422, _j, e_423, _q, e_424, _z;
                            if (t === void 0) { t = { includeChangesInGraveyard: !1 }; }
                            if (this._cachedChanges)
                                return t.includeChangesInGraveyard ? this._cachedChangesWithGraveyard.slice() : this._cachedChanges.slice();
                            var e = [];
                            try {
                                for (var _0 = __values(this._changesInElement.keys()), _1 = _0.next(); !_1.done; _1 = _0.next()) {
                                    var t_201 = _1.value;
                                    var n_168 = this._changesInElement.get(t_201).sort(function (t, e) { return t.offset === e.offset ? t.type != e.type ? "remove" == t.type ? -1 : 1 : 0 : t.offset < e.offset ? -1 : 1; }), i_91 = this._elementSnapshots.get(t_201), o_48 = Sc(t_201.getChildren()), r_20 = Pc(i_91.length, n_168);
                                    var s_18 = 0, a_8 = 0;
                                    try {
                                        for (var r_19 = __values(r_20), r_19_1 = r_19.next(); !r_19_1.done; r_19_1 = r_19.next()) {
                                            var n_169 = r_19_1.value;
                                            if ("i" === n_169)
                                                e.push(this._getInsertDiff(t_201, s_18, o_48[s_18].name)), s_18++;
                                            else if ("r" === n_169)
                                                e.push(this._getRemoveDiff(t_201, s_18, i_91[a_8].name)), a_8++;
                                            else if ("a" === n_169) {
                                                var n_170 = o_48[s_18].attributes, r_21 = i_91[a_8].attributes;
                                                var c_5 = void 0;
                                                if ("$text" == o_48[s_18].name)
                                                    c_5 = new Ks(Gs._createAt(t_201, s_18), Gs._createAt(t_201, s_18 + 1));
                                                else {
                                                    var e_426 = t_201.offsetToIndex(s_18);
                                                    c_5 = new Ks(Gs._createAt(t_201, s_18), Gs._createAt(t_201.getChild(e_426), 0));
                                                }
                                                e.push.apply(e, __spread(this._getAttributesDiff(c_5, r_21, n_170))), s_18++, a_8++;
                                            }
                                            else
                                                s_18++, a_8++;
                                        }
                                    }
                                    catch (e_423_1) { e_423 = { error: e_423_1 }; }
                                    finally {
                                        try {
                                            if (r_19_1 && !r_19_1.done && (_q = r_19.return)) _q.call(r_19);
                                        }
                                        finally { if (e_423) throw e_423.error; }
                                    }
                                }
                            }
                            catch (e_422_1) { e_422 = { error: e_422_1 }; }
                            finally {
                                try {
                                    if (_1 && !_1.done && (_j = _0.return)) _j.call(_0);
                                }
                                finally { if (e_422) throw e_422.error; }
                            }
                            e.sort(function (t, e) { return t.position.root != e.position.root ? t.position.root.rootName < e.position.root.rootName ? -1 : 1 : t.position.isEqual(e.position) ? t.changeCount - e.changeCount : t.position.isBefore(e.position) ? -1 : 1; });
                            for (var t_202 = 1; t_202 < e.length; t_202++) {
                                var n_171 = e[t_202 - 1], i_92 = e[t_202], o_49 = "remove" == n_171.type && "remove" == i_92.type && "$text" == n_171.name && "$text" == i_92.name && n_171.position.isEqual(i_92.position), r_22 = "insert" == n_171.type && "insert" == i_92.type && "$text" == n_171.name && "$text" == i_92.name && n_171.position.parent == i_92.position.parent && n_171.position.offset + n_171.length == i_92.position.offset, s_19 = "attribute" == n_171.type && "attribute" == i_92.type && n_171.position.parent == i_92.position.parent && n_171.range.isFlat && i_92.range.isFlat && n_171.position.offset + n_171.length == i_92.position.offset && n_171.attributeKey == i_92.attributeKey && n_171.attributeOldValue == i_92.attributeOldValue && n_171.attributeNewValue == i_92.attributeNewValue;
                                (o_49 || r_22 || s_19) && (e[t_202 - 1].length++, s_19 && (e[t_202 - 1].range.end = e[t_202 - 1].range.end.getShiftedBy(1)), e.splice(t_202, 1), t_202--);
                            }
                            try {
                                for (var e_425 = __values(e), e_425_1 = e_425.next(); !e_425_1.done; e_425_1 = e_425.next()) {
                                    var t_203 = e_425_1.value;
                                    delete t_203.changeCount, "attribute" == t_203.type && (delete t_203.position, delete t_203.length);
                                }
                            }
                            catch (e_424_1) { e_424 = { error: e_424_1 }; }
                            finally {
                                try {
                                    if (e_425_1 && !e_425_1.done && (_z = e_425.return)) _z.call(e_425);
                                }
                                finally { if (e_424) throw e_424.error; }
                            }
                            return this._changeCount = 0, this._cachedChangesWithGraveyard = e.slice(), this._cachedChanges = e.slice().filter(Mc), t.includeChangesInGraveyard ? this._cachedChangesWithGraveyard : this._cachedChanges;
                        };
                        Ac.prototype.reset = function () { this._changesInElement.clear(), this._elementSnapshots.clear(), this._changedMarkers.clear(), this._cachedChanges = null; };
                        Ac.prototype._markInsert = function (t, e, n) { var i = { type: "insert", offset: e, howMany: n, count: this._changeCount++ }; this._markChange(t, i); };
                        Ac.prototype._markRemove = function (t, e, n) { var i = { type: "remove", offset: e, howMany: n, count: this._changeCount++ }; this._markChange(t, i), this._removeAllNestedChanges(t, e, n); };
                        Ac.prototype._markAttribute = function (t) { var e = { type: "attribute", offset: t.startOffset, howMany: t.offsetSize, count: this._changeCount++ }; this._markChange(t.parent, e); };
                        Ac.prototype._markChange = function (t, e) { this._makeSnapshot(t); var n = this._getChangesForElement(t); this._handleChange(e, n), n.push(e); for (var t_204 = 0; t_204 < n.length; t_204++)
                            n[t_204].howMany < 1 && (n.splice(t_204, 1), t_204--); };
                        Ac.prototype._getChangesForElement = function (t) { var e; return this._changesInElement.has(t) ? e = this._changesInElement.get(t) : (e = [], this._changesInElement.set(t, e)), e; };
                        Ac.prototype._makeSnapshot = function (t) { this._elementSnapshots.has(t) || this._elementSnapshots.set(t, Sc(t.getChildren())); };
                        Ac.prototype._handleChange = function (t, e) {
                            var e_427, _j;
                            t.nodesToHandle = t.howMany;
                            try {
                                for (var e_428 = __values(e), e_428_1 = e_428.next(); !e_428_1.done; e_428_1 = e_428.next()) {
                                    var n_172 = e_428_1.value;
                                    var i_93 = t.offset + t.howMany, o_50 = n_172.offset + n_172.howMany;
                                    if ("insert" == t.type && ("insert" == n_172.type && (t.offset <= n_172.offset ? n_172.offset += t.howMany : t.offset < o_50 && (n_172.howMany += t.nodesToHandle, t.nodesToHandle = 0)), "remove" == n_172.type && t.offset < n_172.offset && (n_172.offset += t.howMany), "attribute" == n_172.type))
                                        if (t.offset <= n_172.offset)
                                            n_172.offset += t.howMany;
                                        else if (t.offset < o_50) {
                                            var o_51 = n_172.howMany;
                                            n_172.howMany = t.offset - n_172.offset, e.unshift({ type: "attribute", offset: i_93, howMany: o_51 - n_172.howMany, count: this._changeCount++ });
                                        }
                                    if ("remove" == t.type) {
                                        if ("insert" == n_172.type)
                                            if (i_93 <= n_172.offset)
                                                n_172.offset -= t.howMany;
                                            else if (i_93 <= o_50)
                                                if (t.offset < n_172.offset) {
                                                    var e_429 = i_93 - n_172.offset;
                                                    n_172.offset = t.offset, n_172.howMany -= e_429, t.nodesToHandle -= e_429;
                                                }
                                                else
                                                    n_172.howMany -= t.nodesToHandle, t.nodesToHandle = 0;
                                            else if (t.offset <= n_172.offset)
                                                t.nodesToHandle -= n_172.howMany, n_172.howMany = 0;
                                            else if (t.offset < o_50) {
                                                var e_430 = o_50 - t.offset;
                                                n_172.howMany -= e_430, t.nodesToHandle -= e_430;
                                            }
                                        if ("remove" == n_172.type && (i_93 <= n_172.offset ? n_172.offset -= t.howMany : t.offset < n_172.offset && (t.nodesToHandle += n_172.howMany, n_172.howMany = 0)), "attribute" == n_172.type)
                                            if (i_93 <= n_172.offset)
                                                n_172.offset -= t.howMany;
                                            else if (t.offset < n_172.offset) {
                                                var e_431 = i_93 - n_172.offset;
                                                n_172.offset = t.offset, n_172.howMany -= e_431;
                                            }
                                            else if (t.offset < o_50)
                                                if (i_93 <= o_50) {
                                                    var i_94 = n_172.howMany;
                                                    n_172.howMany = t.offset - n_172.offset;
                                                    var o_52 = i_94 - n_172.howMany - t.nodesToHandle;
                                                    e.unshift({ type: "attribute", offset: t.offset, howMany: o_52, count: this._changeCount++ });
                                                }
                                                else
                                                    n_172.howMany -= o_50 - t.offset;
                                    }
                                    if ("attribute" == t.type) {
                                        if ("insert" == n_172.type)
                                            if (t.offset < n_172.offset && i_93 > n_172.offset) {
                                                if (i_93 > o_50) {
                                                    var t_205 = { type: "attribute", offset: o_50, howMany: i_93 - o_50, count: this._changeCount++ };
                                                    this._handleChange(t_205, e), e.push(t_205);
                                                }
                                                t.nodesToHandle = n_172.offset - t.offset, t.howMany = t.nodesToHandle;
                                            }
                                            else
                                                t.offset >= n_172.offset && t.offset < o_50 && (i_93 > o_50 ? (t.nodesToHandle = i_93 - o_50, t.offset = o_50) : t.nodesToHandle = 0);
                                        if ("remove" == n_172.type && t.offset < n_172.offset && i_93 > n_172.offset) {
                                            var o_53 = { type: "attribute", offset: n_172.offset, howMany: i_93 - n_172.offset, count: this._changeCount++ };
                                            this._handleChange(o_53, e), e.push(o_53), t.nodesToHandle = n_172.offset - t.offset, t.howMany = t.nodesToHandle;
                                        }
                                        "attribute" == n_172.type && (t.offset >= n_172.offset && i_93 <= o_50 ? (t.nodesToHandle = 0, t.howMany = 0, t.offset = 0) : t.offset <= n_172.offset && i_93 >= o_50 && (n_172.howMany = 0));
                                    }
                                }
                            }
                            catch (e_427_1) { e_427 = { error: e_427_1 }; }
                            finally {
                                try {
                                    if (e_428_1 && !e_428_1.done && (_j = e_428.return)) _j.call(e_428);
                                }
                                finally { if (e_427) throw e_427.error; }
                            }
                            t.howMany = t.nodesToHandle, delete t.nodesToHandle;
                        };
                        Ac.prototype._getInsertDiff = function (t, e, n) { return { type: "insert", position: Gs._createAt(t, e), name: n, length: 1, changeCount: this._changeCount++ }; };
                        Ac.prototype._getRemoveDiff = function (t, e, n) { return { type: "remove", position: Gs._createAt(t, e), name: n, length: 1, changeCount: this._changeCount++ }; };
                        Ac.prototype._getAttributesDiff = function (t, e, n) {
                            var e_432, _j, e_433, _q;
                            var i = [];
                            n = new Map(n);
                            try {
                                for (var e_434 = __values(e), e_434_1 = e_434.next(); !e_434_1.done; e_434_1 = e_434.next()) {
                                    var _z = __read(e_434_1.value, 2), o_54 = _z[0], r_23 = _z[1];
                                    var e_435 = n.has(o_54) ? n.get(o_54) : null;
                                    e_435 !== r_23 && i.push({ type: "attribute", position: t.start, range: t.clone(), length: 1, attributeKey: o_54, attributeOldValue: r_23, attributeNewValue: e_435, changeCount: this._changeCount++ }), n.delete(o_54);
                                }
                            }
                            catch (e_432_1) { e_432 = { error: e_432_1 }; }
                            finally {
                                try {
                                    if (e_434_1 && !e_434_1.done && (_j = e_434.return)) _j.call(e_434);
                                }
                                finally { if (e_432) throw e_432.error; }
                            }
                            try {
                                for (var n_173 = __values(n), n_173_1 = n_173.next(); !n_173_1.done; n_173_1 = n_173.next()) {
                                    var _0 = __read(n_173_1.value, 2), e_436 = _0[0], o_55 = _0[1];
                                    i.push({ type: "attribute", position: t.start, range: t.clone(), length: 1, attributeKey: e_436, attributeOldValue: null, attributeNewValue: o_55, changeCount: this._changeCount++ });
                                }
                            }
                            catch (e_433_1) { e_433 = { error: e_433_1 }; }
                            finally {
                                try {
                                    if (n_173_1 && !n_173_1.done && (_q = n_173.return)) _q.call(n_173);
                                }
                                finally { if (e_433) throw e_433.error; }
                            }
                            return i;
                        };
                        Ac.prototype._isInInsertedElement = function (t) {
                            var e_437, _j;
                            var e = t.parent;
                            if (!e)
                                return !1;
                            var n = this._changesInElement.get(e), i = t.startOffset;
                            if (n)
                                try {
                                    for (var n_174 = __values(n), n_174_1 = n_174.next(); !n_174_1.done; n_174_1 = n_174.next()) {
                                        var t_206 = n_174_1.value;
                                        if ("insert" == t_206.type && i >= t_206.offset && i < t_206.offset + t_206.howMany)
                                            return !0;
                                    }
                                }
                                catch (e_437_1) { e_437 = { error: e_437_1 }; }
                                finally {
                                    try {
                                        if (n_174_1 && !n_174_1.done && (_j = n_174.return)) _j.call(n_174);
                                    }
                                    finally { if (e_437) throw e_437.error; }
                                }
                            return this._isInInsertedElement(e);
                        };
                        Ac.prototype._removeAllNestedChanges = function (t, e, n) {
                            var e_438, _j;
                            var i = new Ks(Gs._createAt(t, e), Gs._createAt(t, e + n));
                            try {
                                for (var _q = __values(i.getItems({ shallow: !0 })), _z = _q.next(); !_z.done; _z = _q.next()) {
                                    var t_207 = _z.value;
                                    t_207.is("element") && (this._elementSnapshots.delete(t_207), this._changesInElement.delete(t_207), this._removeAllNestedChanges(t_207, 0, t_207.maxOffset));
                                }
                            }
                            catch (e_438_1) { e_438 = { error: e_438_1 }; }
                            finally {
                                try {
                                    if (_z && !_z.done && (_j = _q.return)) _j.call(_q);
                                }
                                finally { if (e_438) throw e_438.error; }
                            }
                        };
                        return Ac;
                    }());
                    function Sc(t) {
                        var e_439, _j;
                        var e = [];
                        try {
                            for (var t_208 = __values(t), t_208_1 = t_208.next(); !t_208_1.done; t_208_1 = t_208.next()) {
                                var n_175 = t_208_1.value;
                                if (n_175.is("text"))
                                    for (var t_209 = 0; t_209 < n_175.data.length; t_209++)
                                        e.push({ name: "$text", attributes: new Map(n_175.getAttributes()) });
                                else
                                    e.push({ name: n_175.name, attributes: new Map(n_175.getAttributes()) });
                            }
                        }
                        catch (e_439_1) { e_439 = { error: e_439_1 }; }
                        finally {
                            try {
                                if (t_208_1 && !t_208_1.done && (_j = t_208.return)) _j.call(t_208);
                            }
                            finally { if (e_439) throw e_439.error; }
                        }
                        return e;
                    }
                    function Pc(t, e) {
                        var e_440, _j;
                        var n = [];
                        var i = 0, o = 0;
                        try {
                            for (var e_441 = __values(e), e_441_1 = e_441.next(); !e_441_1.done; e_441_1 = e_441.next()) {
                                var t_210 = e_441_1.value;
                                if (t_210.offset > i) {
                                    for (var e_442 = 0; e_442 < t_210.offset - i; e_442++)
                                        n.push("e");
                                    o += t_210.offset - i;
                                }
                                if ("insert" == t_210.type) {
                                    for (var e_443 = 0; e_443 < t_210.howMany; e_443++)
                                        n.push("i");
                                    i = t_210.offset + t_210.howMany;
                                }
                                else if ("remove" == t_210.type) {
                                    for (var e_444 = 0; e_444 < t_210.howMany; e_444++)
                                        n.push("r");
                                    i = t_210.offset, o += t_210.howMany;
                                }
                                else
                                    n.push.apply(n, __spread("a".repeat(t_210.howMany).split(""))), i = t_210.offset + t_210.howMany, o += t_210.howMany;
                            }
                        }
                        catch (e_440_1) { e_440 = { error: e_440_1 }; }
                        finally {
                            try {
                                if (e_441_1 && !e_441_1.done && (_j = e_441.return)) _j.call(e_441);
                            }
                            finally { if (e_440) throw e_440.error; }
                        }
                        if (o < t)
                            for (var e_445 = 0; e_445 < t - o - i; e_445++)
                                n.push("e");
                        return n;
                    }
                    function Mc(t) { var e = t.position && "$graveyard" == t.position.root.rootName, n = t.range && "$graveyard" == t.range.root.rootName; return !e && !n; }
                    var Ec = /** @class */ (function () {
                        function Ec() {
                            this._operations = [], this._undoPairs = new Map, this._undoneOperations = new Set;
                        }
                        Ec.prototype.addOperation = function (t) { this._operations.includes(t) || this._operations.push(t); };
                        Ec.prototype.getOperations = function (t, e) {
                            if (t === void 0) { t = 0; }
                            if (e === void 0) { e = Number.POSITIVE_INFINITY; }
                            return t < 0 ? [] : this._operations.slice(t, e);
                        };
                        Ec.prototype.getOperation = function (t) { return this._operations[t]; };
                        Ec.prototype.setOperationAsUndone = function (t, e) { this._undoPairs.set(e, t), this._undoneOperations.add(t); };
                        Ec.prototype.isUndoingOperation = function (t) { return this._undoPairs.has(t); };
                        Ec.prototype.isUndoneOperation = function (t) { return this._undoneOperations.has(t); };
                        Ec.prototype.getUndoneOperation = function (t) { return this._undoPairs.get(t); };
                        return Ec;
                    }());
                    function Ic(t, e) { return function (t) { return !!t && 1 == t.length && /[\ud800-\udbff]/.test(t); }(t.charAt(e - 1)) && function (t) { return !!t && 1 == t.length && /[\udc00-\udfff]/.test(t); }(t.charAt(e)); }
                    function Nc(t, e) { return function (t) { return !!t && 1 == t.length && /[\u0300-\u036f\u1ab0-\u1aff\u1dc0-\u1dff\u20d0-\u20ff\ufe20-\ufe2f]/.test(t); }(t.charAt(e)); }
                    var Rc = "$graveyard";
                    var Oc = /** @class */ (function () {
                        function Oc(t) {
                            var _this = this;
                            this.model = t, this.version = 0, this.history = new Ec(this), this.selection = new ca(this), this.roots = new oo({ idProperty: "rootName" }), this.differ = new Ac(t.markers), this._postFixers = new Set, this._hasSelectionChangedFromTheLastChangeBlock = !1, this.createRoot("$root", Rc), this.listenTo(t, "applyOperation", function (t, e) { var n = e[0]; if (n.isDocumentOperation && n.baseVersion !== _this.version)
                                throw new Gn.b("model-document-applyOperation-wrong-version: Only operations with matching versions can be applied.", _this, { operation: n }); }, { priority: "highest" }), this.listenTo(t, "applyOperation", function (t, e) { var n = e[0]; n.isDocumentOperation && _this.differ.bufferOperation(n); }, { priority: "high" }), this.listenTo(t, "applyOperation", function (t, e) { var n = e[0]; n.isDocumentOperation && (_this.version++, _this.history.addOperation(n)); }, { priority: "low" }), this.listenTo(this.selection, "change", function () { _this._hasSelectionChangedFromTheLastChangeBlock = !0; }), this.listenTo(t.markers, "update", function (t, e, n, i) { _this.differ.bufferMarkerChange(e.name, n, i, e.affectsData), null === n && e.on("change", function (t, n) { _this.differ.bufferMarkerChange(e.name, n, e.getRange(), e.affectsData); }); });
                        }
                        Object.defineProperty(Oc.prototype, "graveyard", {
                            get: function () { return this.getRoot(Rc); },
                            enumerable: true,
                            configurable: true
                        });
                        Oc.prototype.createRoot = function (t, e) {
                            if (t === void 0) { t = "$root"; }
                            if (e === void 0) { e = "main"; }
                            if (this.roots.get(e))
                                throw new Gn.b("model-document-createRoot-name-exists: Root with specified name already exists.", this, { name: e });
                            var n = new kc(this, t, e);
                            return this.roots.add(n), n;
                        };
                        Oc.prototype.destroy = function () { this.selection.destroy(), this.stopListening(); };
                        Oc.prototype.getRoot = function (t) {
                            if (t === void 0) { t = "main"; }
                            return this.roots.get(t);
                        };
                        Oc.prototype.getRootNames = function () { return Array.from(this.roots, function (t) { return t.rootName; }).filter(function (t) { return t != Rc; }); };
                        Oc.prototype.registerPostFixer = function (t) { this._postFixers.add(t); };
                        Oc.prototype.toJSON = function () { var t = ui(this); return t.selection = "[engine.model.DocumentSelection]", t.model = "[engine.model.Model]", t; };
                        Oc.prototype._handleChangeBlock = function (t) { this._hasDocumentChangedFromTheLastChangeBlock() && (this._callPostFixers(t), this.selection.refresh(), this.differ.hasDataChanges() ? this.fire("change:data", t.batch) : this.fire("change", t.batch), this.selection.refresh(), this.differ.reset()), this._hasSelectionChangedFromTheLastChangeBlock = !1; };
                        Oc.prototype._hasDocumentChangedFromTheLastChangeBlock = function () { return !this.differ.isEmpty || this._hasSelectionChangedFromTheLastChangeBlock; };
                        Oc.prototype._getDefaultRoot = function () {
                            var e_446, _j;
                            try {
                                for (var _q = __values(this.roots), _z = _q.next(); !_z.done; _z = _q.next()) {
                                    var t_211 = _z.value;
                                    if (t_211 !== this.graveyard)
                                        return t_211;
                                }
                            }
                            catch (e_446_1) { e_446 = { error: e_446_1 }; }
                            finally {
                                try {
                                    if (_z && !_z.done && (_j = _q.return)) _j.call(_q);
                                }
                                finally { if (e_446) throw e_446.error; }
                            }
                            return this.graveyard;
                        };
                        Oc.prototype._getDefaultRange = function () { var t = this._getDefaultRoot(), e = this.model, n = e.schema, i = e.createPositionFromPath(t, [0]); return n.getNearestSelectionRange(i) || e.createRange(i); };
                        Oc.prototype._validateSelectionRange = function (t) { return Dc(t.start) && Dc(t.end); };
                        Oc.prototype._callPostFixers = function (t) {
                            var e_447, _j;
                            var e = !1;
                            do {
                                try {
                                    for (var _q = __values(this._postFixers), _z = _q.next(); !_z.done; _z = _q.next()) {
                                        var n_176 = _z.value;
                                        if (this.selection.refresh(), e = n_176(t))
                                            break;
                                    }
                                }
                                catch (e_447_1) { e_447 = { error: e_447_1 }; }
                                finally {
                                    try {
                                        if (_z && !_z.done && (_j = _q.return)) _j.call(_q);
                                    }
                                    finally { if (e_447) throw e_447.error; }
                                }
                            } while (e);
                        };
                        return Oc;
                    }());
                    function Dc(t) { var e = t.textNode; if (e) {
                        var n_177 = e.data, i_95 = t.offset - e.startOffset;
                        return !Ic(n_177, i_95) && !Nc(n_177, i_95);
                    } return !0; }
                    ci(Oc, ei);
                    var Lc = /** @class */ (function () {
                        function Lc() {
                            this._markers = new Map;
                        }
                        Lc.prototype[Symbol.iterator] = function () { return this._markers.values(); };
                        Lc.prototype.has = function (t) { return this._markers.has(t); };
                        Lc.prototype.get = function (t) { return this._markers.get(t) || null; };
                        Lc.prototype._set = function (t, e, n, i) {
                            if (n === void 0) { n = !1; }
                            if (i === void 0) { i = !1; }
                            var o = t instanceof Vc ? t.name : t, r = this._markers.get(o);
                            if (r) {
                                var t_212 = r.getRange();
                                var s_20 = !1;
                                return t_212.isEqual(e) || (r._attachLiveRange(sa.fromRange(e)), s_20 = !0), n != r.managedUsingOperations && (r._managedUsingOperations = n, s_20 = !0), "boolean" == typeof i && i != r.affectsData && (r._affectsData = i, s_20 = !0), s_20 && this.fire("update:" + o, r, t_212, e), r;
                            }
                            var s = sa.fromRange(e), a = new Vc(o, s, n, i);
                            return this._markers.set(o, a), this.fire("update:" + o, a, null, e), a;
                        };
                        Lc.prototype._remove = function (t) { var e = t instanceof Vc ? t.name : t, n = this._markers.get(e); return !!n && (this._markers.delete(e), this.fire("update:" + e, n, n.getRange(), null), this._destroyMarker(n), !0); };
                        Lc.prototype._refresh = function (t) { var e = t instanceof Vc ? t.name : t, n = this._markers.get(e); if (!n)
                            throw new Gn.b("markercollection-refresh-marker-not-exists: Marker with provided name does not exists.", this); var i = n.getRange(); this.fire("update:" + e, n, i, i, n.managedUsingOperations, n.affectsData); };
                        Lc.prototype.getMarkersAtPosition = function (t) {
                            var e_448, _j, _q, _z, e_449, _0, e_448_1;
                            return __generator(this, function (_1) {
                                switch (_1.label) {
                                    case 0:
                                        _1.trys.push([0, 6, 7, 8]);
                                        _q = __values(this), _z = _q.next();
                                        _1.label = 1;
                                    case 1:
                                        if (!!_z.done) return [3 /*break*/, 5];
                                        e_449 = _z.value;
                                        _0 = e_449.getRange().containsPosition(t);
                                        if (!_0) return [3 /*break*/, 3];
                                        return [4 /*yield*/, e_449];
                                    case 2:
                                        _0 = (_1.sent());
                                        _1.label = 3;
                                    case 3:
                                        _0;
                                        _1.label = 4;
                                    case 4:
                                        _z = _q.next();
                                        return [3 /*break*/, 1];
                                    case 5: return [3 /*break*/, 8];
                                    case 6:
                                        e_448_1 = _1.sent();
                                        e_448 = { error: e_448_1 };
                                        return [3 /*break*/, 8];
                                    case 7:
                                        try {
                                            if (_z && !_z.done && (_j = _q.return)) _j.call(_q);
                                        }
                                        finally { if (e_448) throw e_448.error; }
                                        return [7 /*endfinally*/];
                                    case 8: return [2 /*return*/];
                                }
                            });
                        };
                        Lc.prototype.getMarkersIntersectingRange = function (t) {
                            var e_450, _j, _q, _z, e_451, _0, e_450_1;
                            return __generator(this, function (_1) {
                                switch (_1.label) {
                                    case 0:
                                        _1.trys.push([0, 6, 7, 8]);
                                        _q = __values(this), _z = _q.next();
                                        _1.label = 1;
                                    case 1:
                                        if (!!_z.done) return [3 /*break*/, 5];
                                        e_451 = _z.value;
                                        _0 = null !== e_451.getRange().getIntersection(t);
                                        if (!_0) return [3 /*break*/, 3];
                                        return [4 /*yield*/, e_451];
                                    case 2:
                                        _0 = (_1.sent());
                                        _1.label = 3;
                                    case 3:
                                        _0;
                                        _1.label = 4;
                                    case 4:
                                        _z = _q.next();
                                        return [3 /*break*/, 1];
                                    case 5: return [3 /*break*/, 8];
                                    case 6:
                                        e_450_1 = _1.sent();
                                        e_450 = { error: e_450_1 };
                                        return [3 /*break*/, 8];
                                    case 7:
                                        try {
                                            if (_z && !_z.done && (_j = _q.return)) _j.call(_q);
                                        }
                                        finally { if (e_450) throw e_450.error; }
                                        return [7 /*endfinally*/];
                                    case 8: return [2 /*return*/];
                                }
                            });
                        };
                        Lc.prototype.destroy = function () {
                            var e_452, _j;
                            try {
                                for (var _q = __values(this._markers.values()), _z = _q.next(); !_z.done; _z = _q.next()) {
                                    var t_213 = _z.value;
                                    this._destroyMarker(t_213);
                                }
                            }
                            catch (e_452_1) { e_452 = { error: e_452_1 }; }
                            finally {
                                try {
                                    if (_z && !_z.done && (_j = _q.return)) _j.call(_q);
                                }
                                finally { if (e_452) throw e_452.error; }
                            }
                            this._markers = null, this.stopListening();
                        };
                        Lc.prototype.getMarkersGroup = function (t) {
                            var e_453, _j, _q, _z, e_454, _0, e_453_1;
                            return __generator(this, function (_1) {
                                switch (_1.label) {
                                    case 0:
                                        _1.trys.push([0, 6, 7, 8]);
                                        _q = __values(this._markers.values()), _z = _q.next();
                                        _1.label = 1;
                                    case 1:
                                        if (!!_z.done) return [3 /*break*/, 5];
                                        e_454 = _z.value;
                                        _0 = e_454.name.startsWith(t + ":");
                                        if (!_0) return [3 /*break*/, 3];
                                        return [4 /*yield*/, e_454];
                                    case 2:
                                        _0 = (_1.sent());
                                        _1.label = 3;
                                    case 3:
                                        _0;
                                        _1.label = 4;
                                    case 4:
                                        _z = _q.next();
                                        return [3 /*break*/, 1];
                                    case 5: return [3 /*break*/, 8];
                                    case 6:
                                        e_453_1 = _1.sent();
                                        e_453 = { error: e_453_1 };
                                        return [3 /*break*/, 8];
                                    case 7:
                                        try {
                                            if (_z && !_z.done && (_j = _q.return)) _j.call(_q);
                                        }
                                        finally { if (e_453) throw e_453.error; }
                                        return [7 /*endfinally*/];
                                    case 8: return [2 /*return*/];
                                }
                            });
                        };
                        Lc.prototype._destroyMarker = function (t) { t.stopListening(), t._detachLiveRange(); };
                        return Lc;
                    }());
                    ci(Lc, ei);
                    var Vc = /** @class */ (function () {
                        function Vc(t, e, n, i) {
                            this.name = t, this._liveRange = this._attachLiveRange(e), this._managedUsingOperations = n, this._affectsData = i;
                        }
                        Object.defineProperty(Vc.prototype, "managedUsingOperations", {
                            get: function () { if (!this._liveRange)
                                throw new Gn.b("marker-destroyed: Cannot use a destroyed marker instance.", this); return this._managedUsingOperations; },
                            enumerable: true,
                            configurable: true
                        });
                        Object.defineProperty(Vc.prototype, "affectsData", {
                            get: function () { if (!this._liveRange)
                                throw new Gn.b("marker-destroyed: Cannot use a destroyed marker instance.", this); return this._affectsData; },
                            enumerable: true,
                            configurable: true
                        });
                        Vc.prototype.getStart = function () { if (!this._liveRange)
                            throw new Gn.b("marker-destroyed: Cannot use a destroyed marker instance.", this); return this._liveRange.start.clone(); };
                        Vc.prototype.getEnd = function () { if (!this._liveRange)
                            throw new Gn.b("marker-destroyed: Cannot use a destroyed marker instance.", this); return this._liveRange.end.clone(); };
                        Vc.prototype.getRange = function () { if (!this._liveRange)
                            throw new Gn.b("marker-destroyed: Cannot use a destroyed marker instance.", this); return this._liveRange.toRange(); };
                        Vc.prototype.is = function (t) { return "marker" == t || "model:marker" == t; };
                        Vc.prototype._attachLiveRange = function (t) { return this._liveRange && this._detachLiveRange(), t.delegate("change:range").to(this), t.delegate("change:content").to(this), this._liveRange = t, t; };
                        Vc.prototype._detachLiveRange = function () { this._liveRange.stopDelegating("change:range", this), this._liveRange.stopDelegating("change:content", this), this._liveRange.detach(), this._liveRange = null; };
                        return Vc;
                    }());
                    ci(Vc, ei);
                    var zc = /** @class */ (function (_super) {
                        __extends(zc, _super);
                        function zc(t, e, n) {
                            if (n === void 0) { n = "toNone"; }
                            var _this = this;
                            if (_this = _super.call(this, t, e, n) || this, !_this.root.is("rootElement"))
                                throw new Gn.b("model-liveposition-root-not-rootelement: LivePosition's root has to be an instance of RootElement.", t);
                            (function () {
                                var _this = this;
                                this.listenTo(this.root.document.model, "applyOperation", function (t, e) { var n = e[0]; n.isDocumentOperation && function (t) { var e = this.getTransformedByOperation(t); if (!this.isEqual(e)) {
                                    var t_214 = this.toPosition();
                                    this.path = e.path, this.root = e.root, this.fire("change", t_214);
                                } }.call(_this, n); }, { priority: "low" });
                            }).call(_this);
                            return _this;
                        }
                        zc.prototype.detach = function () { this.stopListening(); };
                        zc.prototype.is = function (t) { return "livePosition" == t || "model:livePosition" == t || _super.prototype.is.call(this, t); };
                        zc.prototype.toPosition = function () { return new Gs(this.root, this.path.slice(), this.stickiness); };
                        zc.fromPosition = function (t, e) { return new this(t.root, t.path.slice(), e || t.stickiness); };
                        return zc;
                    }(Gs));
                    ci(zc, ei);
                    var jc = /** @class */ (function () {
                        function jc(t, e, n) {
                            this.model = t, this.writer = e, this.position = n, this.canMergeWith = new Set([this.position.parent]), this.schema = t.schema, this._filterAttributesOf = [], this._affectedStart = null, this._affectedEnd = null;
                        }
                        jc.prototype.handleNodes = function (t, e) { t = Array.from(t); for (var n_178 = 0; n_178 < t.length; n_178++) {
                            var i_96 = t[n_178];
                            this._handleNode(i_96, { isFirst: 0 === n_178 && e.isFirst, isLast: n_178 === t.length - 1 && e.isLast });
                        } this.schema.removeDisallowedAttributes(this._filterAttributesOf, this.writer), this._filterAttributesOf = []; };
                        jc.prototype.getSelectionRange = function () { return this.nodeToSelect ? Ks._createOn(this.nodeToSelect) : this.model.schema.getNearestSelectionRange(this.position); };
                        jc.prototype.getAffectedRange = function () { return this._affectedStart ? new Ks(this._affectedStart, this._affectedEnd) : null; };
                        jc.prototype.destroy = function () { this._affectedStart && this._affectedStart.detach(), this._affectedEnd && this._affectedEnd.detach(); };
                        jc.prototype._handleNode = function (t, e) { if (this.schema.isObject(t))
                            return void this._handleObject(t, e); this._checkAndSplitToAllowedPosition(t, e) ? (this._insert(t), this._mergeSiblingsOf(t, e)) : this._handleDisallowedNode(t, e); };
                        jc.prototype._handleObject = function (t, e) { this._checkAndSplitToAllowedPosition(t) ? this._insert(t) : this._tryAutoparagraphing(t, e); };
                        jc.prototype._handleDisallowedNode = function (t, e) { t.is("element") ? this.handleNodes(t.getChildren(), e) : this._tryAutoparagraphing(t, e); };
                        jc.prototype._insert = function (t) { if (!this.schema.checkChild(this.position, t))
                            throw new Gn.b("insertcontent-wrong-position: Given node cannot be inserted on the given position.", this, { node: t, position: this.position }); var e = zc.fromPosition(this.position, "toNext"); this._setAffectedBoundaries(this.position), this.writer.insert(t, this.position), this.position = e.toPosition(), e.detach(), this.schema.isObject(t) && !this.schema.checkChild(this.position, "$text") ? this.nodeToSelect = t : this.nodeToSelect = null, this._filterAttributesOf.push(t); };
                        jc.prototype._setAffectedBoundaries = function (t) { this._affectedStart || (this._affectedStart = zc.fromPosition(t, "toPrevious")), this._affectedEnd && !this._affectedEnd.isBefore(t) || (this._affectedEnd && this._affectedEnd.detach(), this._affectedEnd = zc.fromPosition(t, "toNext")); };
                        jc.prototype._mergeSiblingsOf = function (t, e) { if (!(t instanceof Ws))
                            return; var n = this._canMergeLeft(t, e), i = this._canMergeRight(t, e), o = zc._createBefore(t); o.stickiness = "toNext"; var r = zc._createAfter(t); if (r.stickiness = "toNext", n) {
                            var t_215 = zc.fromPosition(this.position);
                            t_215.stickiness = "toNext", this._affectedStart.isEqual(o) && (this._affectedStart.detach(), this._affectedStart = zc._createAt(o.nodeBefore, "end", "toPrevious")), this.writer.merge(o), o.isEqual(this._affectedEnd) && e.isLast && (this._affectedEnd.detach(), this._affectedEnd = zc._createAt(o.nodeBefore, "end", "toNext")), this.position = t_215.toPosition(), t_215.detach();
                        } if (i) {
                            if (!this.position.isEqual(r))
                                throw new Gn.b("insertcontent-invalid-insertion-position", this);
                            this.position = Gs._createAt(r.nodeBefore, "end");
                            var t_216 = zc.fromPosition(this.position, "toPrevious");
                            this._affectedEnd.isEqual(r) && (this._affectedEnd.detach(), this._affectedEnd = zc._createAt(r.nodeBefore, "end", "toNext")), this.writer.merge(r), r.getShiftedBy(-1).isEqual(this._affectedStart) && e.isFirst && (this._affectedStart.detach(), this._affectedStart = zc._createAt(r.nodeBefore, 0, "toPrevious")), this.position = t_216.toPosition(), t_216.detach();
                        } (n || i) && this._filterAttributesOf.push(this.position.parent), o.detach(), r.detach(); };
                        jc.prototype._canMergeLeft = function (t, e) { var n = t.previousSibling; return e.isFirst && n instanceof Ws && this.canMergeWith.has(n) && this.model.schema.checkMerge(n, t); };
                        jc.prototype._canMergeRight = function (t, e) { var n = t.nextSibling; return e.isLast && n instanceof Ws && this.canMergeWith.has(n) && this.model.schema.checkMerge(t, n); };
                        jc.prototype._tryAutoparagraphing = function (t, e) { var n = this.writer.createElement("paragraph"); this._getAllowedIn(n, this.position.parent) && this.schema.checkChild(n, t) && (n._appendChild(t), this._handleNode(n, e)); };
                        jc.prototype._checkAndSplitToAllowedPosition = function (t) { var e = this._getAllowedIn(t, this.position.parent); if (!e)
                            return !1; for (; e != this.position.parent;) {
                            if (this.schema.isLimit(this.position.parent))
                                return !1;
                            if (this.position.isAtStart) {
                                var t_217 = this.position.parent;
                                this.position = this.writer.createPositionBefore(t_217), t_217.isEmpty && t_217.parent === e && this.writer.remove(t_217);
                            }
                            else if (this.position.isAtEnd)
                                this.position = this.writer.createPositionAfter(this.position.parent);
                            else {
                                var t_218 = this.writer.createPositionAfter(this.position.parent);
                                this._setAffectedBoundaries(this.position), this.writer.split(this.position), this.position = t_218, this.canMergeWith.add(this.position.nodeAfter);
                            }
                        } return !0; };
                        jc.prototype._getAllowedIn = function (t, e) { return this.schema.checkChild(e, t) ? e : e.parent ? this._getAllowedIn(t, e.parent) : null; };
                        return jc;
                    }());
                    function Fc(t, e, n) {
                        if (n === void 0) { n = {}; }
                        if (e.isCollapsed)
                            return;
                        var i = e.getFirstRange();
                        if ("$graveyard" == i.root.rootName)
                            return;
                        var o = t.schema;
                        t.change(function (t) { if (!n.doNotResetEntireContent && function (t, e) { var n = t.getLimitElement(e); if (!e.containsEntireContent(n))
                            return !1; var i = e.getFirstRange(); if (i.start.parent == i.end.parent)
                            return !1; return t.checkChild(n, "paragraph"); }(o, e))
                            return void function (t, e) { var n = t.model.schema.getLimitElement(e); t.remove(t.createRangeIn(n)), Bc(t, t.createPositionAt(n, 0), e); }(t, e); var r = i.start, s = zc.fromPosition(i.end, "toNext"); if (i.start.isTouching(i.end) || t.remove(i), n.leaveUnmerged || (!function t(e, n, i) { var o = n.parent; var r = i.parent; if (o == r)
                            return; if (e.model.schema.isLimit(o) || e.model.schema.isLimit(r))
                            return; if (!function (t, e, n) {
                            var e_455, _j;
                            var i = new Ks(t, e);
                            try {
                                for (var _q = __values(i.getWalker()), _z = _q.next(); !_z.done; _z = _q.next()) {
                                    var t_219 = _z.value;
                                    if (n.isLimit(t_219.item))
                                        return !1;
                                }
                            }
                            catch (e_455_1) { e_455 = { error: e_455_1 }; }
                            finally {
                                try {
                                    if (_z && !_z.done && (_j = _q.return)) _j.call(_q);
                                }
                                finally { if (e_455) throw e_455.error; }
                            }
                            return !0;
                        }(n, i, e.model.schema))
                            return; n = e.createPositionAfter(o); i = e.createPositionBefore(r); i.isEqual(n) || e.insert(r, n); e.merge(n); for (; i.parent.isEmpty;) {
                            var t_220 = i.parent;
                            i = e.createPositionBefore(t_220), e.remove(t_220);
                        } t(e, n, i); }(t, r, s), o.removeDisallowedAttributes(r.parent.getChildren(), t)), Hc(t, e, r), function (t, e) { var n = t.checkChild(e, "$text"), i = t.checkChild(e, "paragraph"); return !n && i; }(o, r)) {
                            var i_97 = o.getNearestSelectionRange(r);
                            n.doNotAutoparagraph && i_97 ? Hc(t, e, i_97) : Bc(t, r, e);
                        } s.detach(); });
                    }
                    function Bc(t, e, n) { var i = t.createElement("paragraph"); t.insert(i, e), Hc(t, n, t.createPositionAt(i, 0)); }
                    function Hc(t, e, n) { e instanceof ca ? t.setSelection(n) : e.setTo(n); }
                    var Uc = ' ,.?!:;"-()';
                    function Wc(t, e, n) {
                        if (n === void 0) { n = {}; }
                        var i = t.schema, o = "backward" != n.direction, r = n.unit ? n.unit : "character", s = e.focus, a = new qs({ boundaries: function (t, e) { var n = t.root, i = Gs._createAt(n, e ? "end" : 0); return e ? new Ks(t, i) : new Ks(i, t); }(s, o), singleCharacters: !0, direction: o ? "forward" : "backward" }), c = { walker: a, schema: i, isForward: o, unit: r };
                        var l;
                        var _loop_3 = function () {
                            if (l.done)
                                return { value: void 0 };
                            var n_179 = qc(c, l.value);
                            if (n_179)
                                return { value: void (e instanceof ca ? t.change(function (t) { t.setSelectionFocus(n_179); }) : e.setFocus(n_179)) };
                        };
                        for (; l = a.next();) {
                            var state_1 = _loop_3();
                            if (typeof state_1 === "object")
                                return state_1.value;
                        }
                    }
                    function qc(t, e) { if ("text" == e.type)
                        return "word" === t.unit ? function (t, e) { var n = t.position.textNode; if (n) {
                            var i_98 = t.position.offset - n.startOffset;
                            for (; !Yc(n.data, i_98, e) && !$c(n, i_98, e);) {
                                t.next();
                                var o_56 = e ? t.position.nodeAfter : t.position.nodeBefore;
                                if (o_56 && o_56.is("text")) {
                                    var i_99 = o_56.data.charAt(e ? 0 : o_56.data.length - 1);
                                    Uc.includes(i_99) || (t.next(), n = t.position.textNode);
                                }
                                i_98 = t.position.offset - n.startOffset;
                            }
                        } return t.position; }(t.walker, t.isForward) : function (t, e) { var n = t.position.textNode; if (n) {
                            var i_100 = n.data;
                            var o_57 = t.position.offset - n.startOffset;
                            for (; Ic(i_100, o_57) || "character" == e && Nc(i_100, o_57);)
                                t.next(), o_57 = t.position.offset - n.startOffset;
                        } return t.position; }(t.walker, t.unit, t.isForward); if (e.type == (t.isForward ? "elementStart" : "elementEnd")) {
                        if (t.schema.isObject(e.item))
                            return Gs._createAt(e.item, t.isForward ? "after" : "before");
                        if (t.schema.checkChild(e.nextPosition, "$text"))
                            return e.nextPosition;
                    }
                    else {
                        if (t.schema.isLimit(e.item))
                            return void t.walker.skip(function () { return !0; });
                        if (t.schema.checkChild(e.nextPosition, "$text"))
                            return e.nextPosition;
                    } }
                    function Yc(t, e, n) { var i = e + (n ? 0 : -1); return Uc.includes(t.charAt(i)); }
                    function $c(t, e, n) { return e === (n ? t.endOffset : 0); }
                    function Gc(t, e) { var n = []; Array.from(t.getItems({ direction: "backward" })).map(function (t) { return e.createRangeOn(t); }).filter(function (e) { return (e.start.isAfter(t.start) || e.start.isEqual(t.start)) && (e.end.isBefore(t.end) || e.end.isEqual(t.end)); }).forEach(function (t) { n.push(t.start.parent), e.remove(t); }), n.forEach(function (t) { var n = t; for (; n.parent && n.isEmpty;) {
                        var t_221 = e.createRangeOn(n);
                        n = n.parent, e.remove(t_221);
                    } }); }
                    function Kc(t) { t.document.registerPostFixer(function (e) { return (function (t, e) {
                        var e_456, _j;
                        var n = e.document.selection, i = e.schema, o = [];
                        var r = !1;
                        try {
                            for (var _q = __values(n.getRanges()), _z = _q.next(); !_z.done; _z = _q.next()) {
                                var t_222 = _z.value;
                                var e_457 = Qc(t_222, i);
                                e_457 ? (o.push(e_457), r = !0) : o.push(t_222);
                            }
                        }
                        catch (e_456_1) { e_456 = { error: e_456_1 }; }
                        finally {
                            try {
                                if (_z && !_z.done && (_j = _q.return)) _j.call(_q);
                            }
                            finally { if (e_456) throw e_456.error; }
                        }
                        if (r) {
                            var e_458 = o;
                            if (o.length > 1) {
                                var t_223 = o[0].start, n_180 = o[o.length - 1].end;
                                e_458 = [new Ks(t_223, n_180)];
                            }
                            t.setSelection(e_458, { backward: n.isBackward });
                        }
                    })(e, t); }); }
                    function Qc(t, e) { return t.isCollapsed ? function (t, e) { var n = t.start, i = e.getNearestSelectionRange(n); if (!i)
                        return null; var o = i.start; if (n.isEqual(o))
                        return null; if (o.nodeAfter && e.isLimit(o.nodeAfter))
                        return new Ks(o, Gs._createAfter(o.nodeAfter)); return new Ks(o); }(t, e) : function (t, e) { var n = t.start, i = t.end, o = e.checkChild(n, "$text"), r = e.checkChild(i, "$text"), s = e.getLimitElement(n), a = e.getLimitElement(i); if (s === a) {
                        if (o && r)
                            return null;
                        if (function (t, e, n) { var i = t.nodeAfter && !n.isLimit(t.nodeAfter) || n.checkChild(t, "$text"), o = e.nodeBefore && !n.isLimit(e.nodeBefore) || n.checkChild(e, "$text"); return i || o; }(n, i, e)) {
                            var t_224 = n.nodeAfter && e.isObject(n.nodeAfter), o_58 = t_224 ? null : e.getNearestSelectionRange(n, "forward"), r_24 = i.nodeBefore && e.isObject(i.nodeBefore), s_21 = r_24 ? null : e.getNearestSelectionRange(i, "backward"), a_9 = o_58 ? o_58.start : n, c_6 = s_21 ? s_21.start : i;
                            return new Ks(a_9, c_6);
                        }
                    } var c = s && !s.is("rootElement"), l = a && !a.is("rootElement"); if (c || l) {
                        var t_225 = n.nodeAfter && i.nodeBefore && n.nodeAfter.parent === i.nodeBefore.parent, o_59 = c && (!t_225 || !Zc(n.nodeAfter, e)), r_25 = l && (!t_225 || !Zc(i.nodeBefore, e));
                        var d_1 = n, u_1 = i;
                        return o_59 && (d_1 = Gs._createBefore(Jc(s, e))), r_25 && (u_1 = Gs._createAfter(Jc(a, e))), new Ks(d_1, u_1);
                    } return null; }(t, e); }
                    function Jc(t, e) { var n = t, i = n; for (; e.isLimit(i) && i.parent;)
                        n = i, i = i.parent; return n; }
                    function Zc(t, e) { return t && e.isObject(t); }
                    var Xc = /** @class */ (function () {
                        function Xc() {
                            var _this = this;
                            this.markers = new Lc, this.document = new Oc(this), this.schema = new Da, this._pendingChanges = [], this._currentWriter = null, ["insertContent", "deleteContent", "modifySelection", "getSelectedContent", "applyOperation"].forEach(function (t) { return _this.decorate(t); }), this.on("applyOperation", function (t, e) { e[0]._validate(); }, { priority: "highest" }), this.schema.register("$root", { isLimit: !0 }), this.schema.register("$block", { allowIn: "$root", isBlock: !0 }), this.schema.register("$text", { allowIn: "$block", isInline: !0 }), this.schema.register("$clipboardHolder", { allowContentOf: "$root", isLimit: !0 }), this.schema.extend("$text", { allowIn: "$clipboardHolder" }), this.schema.register("$marker"), this.schema.addChildCheck(function (t, e) { if ("$marker" === e.name)
                                return !0; }), Kc(this);
                        }
                        Xc.prototype.change = function (t) { try {
                            return 0 === this._pendingChanges.length ? (this._pendingChanges.push({ batch: new Xa, callback: t }), this._runPendingChanges()[0]) : t(this._currentWriter);
                        }
                        catch (t) {
                            Gn.b.rethrowUnexpectedError(t, this);
                        } };
                        Xc.prototype.enqueueChange = function (t, e) { try {
                            "string" == typeof t ? t = new Xa(t) : "function" == typeof t && (e = t, t = new Xa), this._pendingChanges.push({ batch: t, callback: e }), 1 == this._pendingChanges.length && this._runPendingChanges();
                        }
                        catch (t) {
                            Gn.b.rethrowUnexpectedError(t, this);
                        } };
                        Xc.prototype.applyOperation = function (t) { t._execute(); };
                        Xc.prototype.insertContent = function (t, e, n) { return function (t, e, n, i) { return t.change(function (o) { var r; var s = (r = n ? n instanceof ea || n instanceof ca ? n : o.createSelection(n, i) : t.document.selection).getFirstPosition(); r.isCollapsed || t.deleteContent(r, { doNotAutoparagraph: !0 }); var a = new jc(t, o, s); var c; c = e.is("documentFragment") ? e.getChildren() : [e], a.handleNodes(c, { isFirst: !0, isLast: !0 }); var l = a.getSelectionRange(); l && (r instanceof ca ? o.setSelection(l) : r.setTo(l)); var d = a.getAffectedRange() || t.createRange(s); return a.destroy(), d; }); }(this, t, e, n); };
                        Xc.prototype.deleteContent = function (t, e) { Fc(this, t, e); };
                        Xc.prototype.modifySelection = function (t, e) { Wc(this, t, e); };
                        Xc.prototype.getSelectedContent = function (t) { return function (t, e) { return t.change(function (t) {
                            var e_459, _j;
                            var n = t.createDocumentFragment(), i = e.getFirstRange();
                            if (!i || i.isCollapsed)
                                return n;
                            var o = i.start.root, r = i.start.getCommonPath(i.end), s = o.getNodeByPath(r);
                            var a;
                            var c = (a = i.start.parent == i.end.parent ? i : t.createRange(t.createPositionAt(s, i.start.path[r.length]), t.createPositionAt(s, i.end.path[r.length] + 1))).end.offset - a.start.offset;
                            try {
                                for (var _q = __values(a.getItems({ shallow: !0 })), _z = _q.next(); !_z.done; _z = _q.next()) {
                                    var e_460 = _z.value;
                                    e_460.is("textProxy") ? t.appendText(e_460.data, e_460.getAttributes(), n) : t.append(e_460._clone(!0), n);
                                }
                            }
                            catch (e_459_1) { e_459 = { error: e_459_1 }; }
                            finally {
                                try {
                                    if (_z && !_z.done && (_j = _q.return)) _j.call(_q);
                                }
                                finally { if (e_459) throw e_459.error; }
                            }
                            if (a != i) {
                                var e_461 = i._getTransformedByMove(a.start, t.createPositionAt(n, 0), c)[0], o_60 = t.createRange(t.createPositionAt(n, 0), e_461.start);
                                Gc(t.createRange(e_461.end, t.createPositionAt(n, "end")), t), Gc(o_60, t);
                            }
                            return n;
                        }); }(this, t); };
                        Xc.prototype.hasContent = function (t, e) {
                            var e_462, _j, e_463, _q;
                            var n = t instanceof Ws ? Ks._createIn(t) : t;
                            if (n.isCollapsed)
                                return !1;
                            try {
                                for (var _z = __values(this.markers.getMarkersIntersectingRange(n)), _0 = _z.next(); !_0.done; _0 = _z.next()) {
                                    var t_226 = _0.value;
                                    if (t_226.affectsData)
                                        return !0;
                                }
                            }
                            catch (e_462_1) { e_462 = { error: e_462_1 }; }
                            finally {
                                try {
                                    if (_0 && !_0.done && (_j = _z.return)) _j.call(_z);
                                }
                                finally { if (e_462) throw e_462.error; }
                            }
                            var _1 = (e || {}).ignoreWhitespaces, i = _1 === void 0 ? !1 : _1;
                            try {
                                for (var _2 = __values(n.getItems()), _3 = _2.next(); !_3.done; _3 = _2.next()) {
                                    var t_227 = _3.value;
                                    if (t_227.is("textProxy")) {
                                        if (!i)
                                            return !0;
                                        if (-1 !== t_227.data.search(/\S/))
                                            return !0;
                                    }
                                    else if (this.schema.isObject(t_227))
                                        return !0;
                                }
                            }
                            catch (e_463_1) { e_463 = { error: e_463_1 }; }
                            finally {
                                try {
                                    if (_3 && !_3.done && (_q = _2.return)) _q.call(_2);
                                }
                                finally { if (e_463) throw e_463.error; }
                            }
                            return !1;
                        };
                        Xc.prototype.createPositionFromPath = function (t, e, n) { return new Gs(t, e, n); };
                        Xc.prototype.createPositionAt = function (t, e) { return Gs._createAt(t, e); };
                        Xc.prototype.createPositionAfter = function (t) { return Gs._createAfter(t); };
                        Xc.prototype.createPositionBefore = function (t) { return Gs._createBefore(t); };
                        Xc.prototype.createRange = function (t, e) { return new Ks(t, e); };
                        Xc.prototype.createRangeIn = function (t) { return Ks._createIn(t); };
                        Xc.prototype.createRangeOn = function (t) { return Ks._createOn(t); };
                        Xc.prototype.createSelection = function (t, e, n) { return new ea(t, e, n); };
                        Xc.prototype.createBatch = function (t) { return new Xa(t); };
                        Xc.prototype.destroy = function () { this.document.destroy(), this.stopListening(); };
                        Xc.prototype._runPendingChanges = function () { var t = []; for (this.fire("_beforeChanges"); this._pendingChanges.length;) {
                            var e_464 = this._pendingChanges[0].batch;
                            this._currentWriter = new wc(this, e_464);
                            var n_181 = this._pendingChanges[0].callback(this._currentWriter);
                            t.push(n_181), this.document._handleChangeBlock(this._currentWriter), this._pendingChanges.shift(), this._currentWriter = null;
                        } return this.fire("_afterChanges"), t; };
                        return Xc;
                    }());
                    ci(Xc, Bi);
                    var tl = /** @class */ (function () {
                        function tl() {
                            this._listener = Object.create(dr);
                        }
                        tl.prototype.listenTo = function (t) {
                            var _this = this;
                            this._listener.listenTo(t, "keydown", function (t, e) { _this._listener.fire("_keydown:" + bo(e), e); });
                        };
                        tl.prototype.set = function (t, e, n) {
                            if (n === void 0) { n = {}; }
                            var i = ko(t), o = n.priority;
                            this._listener.listenTo(this._listener, "_keydown:" + i, function (t, n) { e(n, function () { n.preventDefault(), n.stopPropagation(), t.stop(); }), t.return = !0; }, { priority: o });
                        };
                        tl.prototype.press = function (t) { return !!this._listener.fire("_keydown:" + bo(t), t); };
                        tl.prototype.destroy = function () { this._listener.stopListening(); };
                        return tl;
                    }());
                    var el = /** @class */ (function (_super) {
                        __extends(el, _super);
                        function el(t) {
                            var _this = this;
                            _this = _super.call(this) || this, _this.editor = t;
                            return _this;
                        }
                        el.prototype.set = function (t, e, n) {
                            var _this = this;
                            if (n === void 0) { n = {}; }
                            if ("string" == typeof e) {
                                var t_228 = e;
                                e = (function (e, n) { _this.editor.execute(t_228), n(); });
                            }
                            _super.prototype.set.call(this, t, e, n);
                        };
                        return el;
                    }(tl));
                    var nl = /** @class */ (function () {
                        function nl(t) {
                            var _this = this;
                            var e = this.constructor.builtinPlugins;
                            this.config = new Yn(t, this.constructor.defaultConfig), this.config.define("plugins", e), this.plugins = new Sa(this, e), this.commands = new Pa;
                            var n = this.config.get("language") || {};
                            this.locale = new Ia({ uiLanguage: "string" == typeof n ? n : n.ui, contentLanguage: this.config.get("language.content") }), this.t = this.locale.t, this.set("state", "initializing"), this.once("ready", function () { return _this.state = "ready"; }, { priority: "high" }), this.once("destroy", function () { return _this.state = "destroyed"; }, { priority: "high" }), this.set("isReadOnly", !1), this.model = new Xc, this.data = new Ka(this.model), this.editing = new Aa(this.model), this.editing.view.document.bind("isReadOnly").to(this), this.conversion = new Qa([this.editing.downcastDispatcher, this.data.downcastDispatcher], this.data.upcastDispatcher), this.conversion.addAlias("dataDowncast", this.data.downcastDispatcher), this.conversion.addAlias("editingDowncast", this.editing.downcastDispatcher), this.keystrokes = new el(this), this.keystrokes.listenTo(this.editing.view.document);
                        }
                        nl.prototype.initPlugins = function () { var t = this.config, e = t.get("plugins") || [], n = t.get("removePlugins") || [], i = t.get("extraPlugins") || []; return this.plugins.init(e.concat(i), n); };
                        nl.prototype.destroy = function () {
                            var _this = this;
                            var t = Promise.resolve();
                            return "initializing" == this.state && (t = new Promise(function (t) { return _this.once("ready", t); })), t.then(function () { _this.fire("destroy"), _this.stopListening(), _this.commands.destroy(); }).then(function () { return _this.plugins.destroy(); }).then(function () { _this.model.destroy(), _this.data.destroy(), _this.editing.destroy(), _this.keystrokes.destroy(); });
                        };
                        nl.prototype.execute = function () {
                            var _j;
                            var t = [];
                            for (var _q = 0; _q < arguments.length; _q++) {
                                t[_q] = arguments[_q];
                            }
                            try {
                                (_j = this.commands).execute.apply(_j, __spread(t));
                            }
                            catch (t) {
                                Gn.b.rethrowUnexpectedError(t, this);
                            }
                        };
                        return nl;
                    }());
                    ci(nl, Bi);
                    var il = { setData: function (t) { this.data.set(t); }, getData: function (t) { return this.data.get(t); } };
                    var ol = { updateSourceElement: function () { if (!this.sourceElement)
                            throw new Gn.b("editor-missing-sourceelement: Cannot update the source element of a detached editor.", this); !function (t, e) { t instanceof HTMLTextAreaElement && (t.value = e), t.innerHTML = e; }(this.sourceElement, this.data.get()); } };
                    var rl = /** @class */ (function () {
                        function rl() {
                        }
                        rl.prototype.getHtml = function (t) { var e = document.implementation.createHTMLDocument("").createElement("div"); return e.appendChild(t), e.innerHTML; };
                        return rl;
                    }());
                    var sl = /** @class */ (function () {
                        function sl() {
                            this._domParser = new DOMParser, this._domConverter = new rr({ blockFillerMode: "nbsp" }), this._htmlWriter = new rl;
                        }
                        sl.prototype.toData = function (t) { var e = this._domConverter.viewToDom(t, document); return this._htmlWriter.getHtml(e); };
                        sl.prototype.toView = function (t) { var e = this._toDom(t); return this._domConverter.domToView(e); };
                        sl.prototype._toDom = function (t) { var e = this._domParser.parseFromString(t, "text/html"), n = e.createDocumentFragment(), i = e.body.childNodes; for (; i.length > 0;)
                            n.appendChild(i[0]); return n; };
                        return sl;
                    }());
                    var al = /** @class */ (function () {
                        function al(t) {
                            this.editor = t, this._components = new Map;
                        }
                        al.prototype.names = function () {
                            var e_465, _j, _q, _z, t_229, e_465_1;
                            return __generator(this, function (_0) {
                                switch (_0.label) {
                                    case 0:
                                        _0.trys.push([0, 5, 6, 7]);
                                        _q = __values(this._components.values()), _z = _q.next();
                                        _0.label = 1;
                                    case 1:
                                        if (!!_z.done) return [3 /*break*/, 4];
                                        t_229 = _z.value;
                                        return [4 /*yield*/, t_229.originalName];
                                    case 2:
                                        _0.sent();
                                        _0.label = 3;
                                    case 3:
                                        _z = _q.next();
                                        return [3 /*break*/, 1];
                                    case 4: return [3 /*break*/, 7];
                                    case 5:
                                        e_465_1 = _0.sent();
                                        e_465 = { error: e_465_1 };
                                        return [3 /*break*/, 7];
                                    case 6:
                                        try {
                                            if (_z && !_z.done && (_j = _q.return)) _j.call(_q);
                                        }
                                        finally { if (e_465) throw e_465.error; }
                                        return [7 /*endfinally*/];
                                    case 7: return [2 /*return*/];
                                }
                            });
                        };
                        al.prototype.add = function (t, e) { if (this.has(t))
                            throw new Gn.b("componentfactory-item-exists: The item already exists in the component factory.", this, { name: t }); this._components.set(cl(t), { callback: e, originalName: t }); };
                        al.prototype.create = function (t) { if (!this.has(t))
                            throw new Gn.b("componentfactory-item-missing: The required component is not registered in the factory.", this, { name: t }); return this._components.get(cl(t)).callback(this.editor.locale); };
                        al.prototype.has = function (t) { return this._components.has(cl(t)); };
                        return al;
                    }());
                    function cl(t) { return String(t).toLowerCase(); }
                    var ll = /** @class */ (function () {
                        function ll() {
                            this.set("isFocused", !1), this.set("focusedElement", null), this._elements = new Set, this._nextEventLoopTimeout = null;
                        }
                        ll.prototype.add = function (t) {
                            var _this = this;
                            if (this._elements.has(t))
                                throw new Gn.b("focusTracker-add-element-already-exist", this);
                            this.listenTo(t, "focus", function () { return _this._focus(t); }, { useCapture: !0 }), this.listenTo(t, "blur", function () { return _this._blur(); }, { useCapture: !0 }), this._elements.add(t);
                        };
                        ll.prototype.remove = function (t) { t === this.focusedElement && this._blur(t), this._elements.has(t) && (this.stopListening(t), this._elements.delete(t)); };
                        ll.prototype.destroy = function () { this.stopListening(); };
                        ll.prototype._focus = function (t) { clearTimeout(this._nextEventLoopTimeout), this.focusedElement = t, this.isFocused = !0; };
                        ll.prototype._blur = function () {
                            var _this = this;
                            clearTimeout(this._nextEventLoopTimeout), this._nextEventLoopTimeout = setTimeout(function () { _this.focusedElement = null, _this.isFocused = !1; }, 0);
                        };
                        return ll;
                    }());
                    ci(ll, dr), ci(ll, Bi);
                    var dl = /** @class */ (function () {
                        function dl(t) {
                            var _this = this;
                            this.editor = t, this.componentFactory = new al(t), this.focusTracker = new ll, this._editableElementsMap = new Map, this.listenTo(t.editing.view.document, "layoutChanged", function () { return _this.update(); });
                        }
                        Object.defineProperty(dl.prototype, "element", {
                            get: function () { return null; },
                            enumerable: true,
                            configurable: true
                        });
                        dl.prototype.update = function () { this.fire("update"); };
                        dl.prototype.destroy = function () {
                            var e_466, _j;
                            this.stopListening(), this.focusTracker.destroy();
                            try {
                                for (var _q = __values(this._editableElementsMap.values()), _z = _q.next(); !_z.done; _z = _q.next()) {
                                    var t_230 = _z.value;
                                    t_230.ckeditorInstance = null;
                                }
                            }
                            catch (e_466_1) { e_466 = { error: e_466_1 }; }
                            finally {
                                try {
                                    if (_z && !_z.done && (_j = _q.return)) _j.call(_q);
                                }
                                finally { if (e_466) throw e_466.error; }
                            }
                            this._editableElementsMap = new Map;
                        };
                        dl.prototype.setEditableElement = function (t, e) { this._editableElementsMap.set(t, e), e.ckeditorInstance || (e.ckeditorInstance = this.editor); };
                        dl.prototype.getEditableElement = function (t) {
                            if (t === void 0) { t = "main"; }
                            return this._editableElementsMap.get(t);
                        };
                        dl.prototype.getEditableElementsNames = function () { return this._editableElementsMap.keys(); };
                        Object.defineProperty(dl.prototype, "_editableElements", {
                            get: function () { return console.warn("editor-ui-deprecated-editable-elements: The EditorUI#_editableElements property has been deprecated and will be removed in the near future.", { editorUI: this }), this._editableElementsMap; },
                            enumerable: true,
                            configurable: true
                        });
                        return dl;
                    }());
                    ci(dl, ei);
                    n(69);
                    var ul = new WeakMap;
                    function hl(t) { var e = t.view, n = t.element, i = t.text, _j = t.isDirectHost, o = _j === void 0 ? !0 : _j, r = e.document; ul.has(r) || (ul.set(r, new Map), r.registerPostFixer(function (t) { return gl(r, t); })), ul.get(r).set(n, { text: i, isDirectHost: o }), e.change(function (t) { return gl(r, t); }); }
                    function ml(t, e) { return !!e.hasClass("ck-placeholder") && (t.removeClass("ck-placeholder", e), !0); }
                    function gl(t, e) {
                        var e_467, _j;
                        var n = ul.get(t);
                        var i = !1;
                        try {
                            for (var n_182 = __values(n), n_182_1 = n_182.next(); !n_182_1.done; n_182_1 = n_182.next()) {
                                var _q = __read(n_182_1.value, 2), t_231 = _q[0], o_61 = _q[1];
                                fl(e, t_231, o_61) && (i = !0);
                            }
                        }
                        catch (e_467_1) { e_467 = { error: e_467_1 }; }
                        finally {
                            try {
                                if (n_182_1 && !n_182_1.done && (_j = n_182.return)) _j.call(n_182);
                            }
                            finally { if (e_467) throw e_467.error; }
                        }
                        return i;
                    }
                    function fl(t, e, n) { var i = n.text, o = n.isDirectHost, r = o ? e : function (t) { if (1 === t.childCount) {
                        var e_468 = t.getChild(0);
                        if (e_468.is("element") && !e_468.is("uiElement"))
                            return e_468;
                    } return null; }(e); var s = !1; return !!r && (n.hostElement = r, r.getAttribute("data-placeholder") !== i && (t.setAttribute("data-placeholder", i, r), s = !0), !function (t) { var e = t.document; if (!e)
                        return !1; var n = !Array.from(t.getChildren()).some(function (t) { return !t.is("uiElement"); }); if (!e.isFocused && n)
                        return !0; var i = e.selection.anchor; return !(!n || !i || i.parent === t); }(r) ? ml(t, r) && (s = !0) : function (t, e) { return !e.hasClass("ck-placeholder") && (t.addClass("ck-placeholder", e), !0); }(t, r) && (s = !0), s); }
                    var pl = /** @class */ (function () {
                        function pl() {
                            this._replacedElements = [];
                        }
                        pl.prototype.replace = function (t, e) { this._replacedElements.push({ element: t, newElement: e }), t.style.display = "none", e && t.parentNode.insertBefore(e, t.nextSibling); };
                        pl.prototype.restore = function () { this._replacedElements.forEach(function (_j) {
                            var t = _j.element, e = _j.newElement;
                            t.style.display = "", e && e.remove();
                        }), this._replacedElements = []; };
                        return pl;
                    }());
                    var xl = /** @class */ (function (_super) {
                        __extends(xl, _super);
                        function xl(t, e) {
                            var _this = this;
                            _this = _super.call(this, t) || this, _this.view = e, _this._toolbarConfig = function (t) { return Array.isArray(t) ? { items: t } : t ? Object.assign({ items: [] }, t) : { items: [] }; }(t.config.get("toolbar")), _this._elementReplacer = new pl;
                            return _this;
                        }
                        Object.defineProperty(xl.prototype, "element", {
                            get: function () { return this.view.element; },
                            enumerable: true,
                            configurable: true
                        });
                        xl.prototype.init = function (t) { var e = this.editor, n = this.view, i = e.editing.view, o = n.editable, r = i.document.getRoot(); o.name = r.rootName, n.render(); var s = o.element; this.setEditableElement(o.name, s), this.focusTracker.add(s), n.editable.bind("isFocused").to(this.focusTracker), i.attachDomRoot(s), t && this._elementReplacer.replace(t, this.element), this._initPlaceholder(), this._initToolbar(), this.fire("ready"); };
                        xl.prototype.destroy = function () { var t = this.view, e = this.editor.editing.view; this._elementReplacer.restore(), e.detachDomRoot(t.editable.name), t.destroy(), _super.prototype.destroy.call(this); };
                        xl.prototype._initToolbar = function () { var t = this.editor, e = this.view, n = t.editing.view; e.stickyPanel.bind("isActive").to(this.focusTracker, "isFocused"), e.stickyPanel.limiterElement = e.element, this._toolbarConfig.viewportTopOffset && (e.stickyPanel.viewportTopOffset = this._toolbarConfig.viewportTopOffset), e.toolbar.fillFromConfig(this._toolbarConfig.items, this.componentFactory), function (_j) {
                            var t = _j.origin, e = _j.originKeystrokeHandler, n = _j.originFocusTracker, i = _j.toolbar, o = _j.beforeFocus, r = _j.afterBlur;
                            n.add(i.element), e.set("Alt+F10", function (t, e) { n.isFocused && !i.focusTracker.isFocused && (o && o(), i.focus(), e()); }), i.keystrokes.set("Esc", function (e, n) { i.focusTracker.isFocused && (t.focus(), r && r(), n()); });
                        }({ origin: n, originFocusTracker: this.focusTracker, originKeystrokeHandler: t.keystrokes, toolbar: e.toolbar }); };
                        xl.prototype._initPlaceholder = function () { var t = this.editor, e = t.editing.view, n = e.document.getRoot(), i = t.sourceElement, o = t.config.get("placeholder") || i && "textarea" === i.tagName.toLowerCase() && i.getAttribute("placeholder"); o && hl({ view: e, element: n, text: o, isDirectHost: !1 }); };
                        return xl;
                    }(dl));
                    var bl = /** @class */ (function (_super) {
                        __extends(bl, _super);
                        function bl(t) {
                            var _this = this;
                            _this = _super.call(this, { idProperty: "viewUid" }) || this, _this.on("add", function (t, e, n) { e.isRendered || e.render(), e.element && _this._parentElement && _this._parentElement.insertBefore(e.element, _this._parentElement.children[n]); }), _this.on("remove", function (t, e) { e.element && _this._parentElement && e.element.remove(); }), _this.locale = t, _this._parentElement = null;
                            return _this;
                        }
                        bl.prototype.destroy = function () { this.map(function (t) { return t.destroy(); }); };
                        bl.prototype.setParent = function (t) { this._parentElement = t; };
                        bl.prototype.delegate = function () {
                            var _this = this;
                            var t = [];
                            for (var _j = 0; _j < arguments.length; _j++) {
                                t[_j] = arguments[_j];
                            }
                            if (!t.length || !function (t) { return t.every(function (t) { return "string" == typeof t; }); }(t))
                                throw new Gn.b("ui-viewcollection-delegate-wrong-events: All event names must be strings.", this);
                            return { to: function (e) {
                                    var e_469, _j, e_470, _q;
                                    try {
                                        for (var _z = __values(_this), _0 = _z.next(); !_0.done; _0 = _z.next()) {
                                            var n_183 = _0.value;
                                            try {
                                                for (var t_232 = __values(t), t_232_1 = t_232.next(); !t_232_1.done; t_232_1 = t_232.next()) {
                                                    var i_101 = t_232_1.value;
                                                    n_183.delegate(i_101).to(e);
                                                }
                                            }
                                            catch (e_470_1) { e_470 = { error: e_470_1 }; }
                                            finally {
                                                try {
                                                    if (t_232_1 && !t_232_1.done && (_q = t_232.return)) _q.call(t_232);
                                                }
                                                finally { if (e_470) throw e_470.error; }
                                            }
                                        }
                                    }
                                    catch (e_469_1) { e_469 = { error: e_469_1 }; }
                                    finally {
                                        try {
                                            if (_0 && !_0.done && (_j = _z.return)) _j.call(_z);
                                        }
                                        finally { if (e_469) throw e_469.error; }
                                    }
                                    _this.on("add", function (n, i) {
                                        var e_471, _j;
                                        try {
                                            for (var t_233 = __values(t), t_233_1 = t_233.next(); !t_233_1.done; t_233_1 = t_233.next()) {
                                                var n_184 = t_233_1.value;
                                                i.delegate(n_184).to(e);
                                            }
                                        }
                                        catch (e_471_1) { e_471 = { error: e_471_1 }; }
                                        finally {
                                            try {
                                                if (t_233_1 && !t_233_1.done && (_j = t_233.return)) _j.call(t_233);
                                            }
                                            finally { if (e_471) throw e_471.error; }
                                        }
                                    }), _this.on("remove", function (n, i) {
                                        var e_472, _j;
                                        try {
                                            for (var t_234 = __values(t), t_234_1 = t_234.next(); !t_234_1.done; t_234_1 = t_234.next()) {
                                                var n_185 = t_234_1.value;
                                                i.stopDelegating(n_185, e);
                                            }
                                        }
                                        catch (e_472_1) { e_472 = { error: e_472_1 }; }
                                        finally {
                                            try {
                                                if (t_234_1 && !t_234_1.done && (_j = t_234.return)) _j.call(t_234);
                                            }
                                            finally { if (e_472) throw e_472.error; }
                                        }
                                    });
                                } };
                        };
                        return bl;
                    }(oo));
                    var kl = "http://www.w3.org/1999/xhtml";
                    var wl = /** @class */ (function () {
                        function wl(t) {
                            Object.assign(this, Ml(Pl(t))), this._isRendered = !1, this._revertData = null;
                        }
                        wl.prototype.render = function () { var t = this._renderNode({ intoFragment: !0 }); return this._isRendered = !0, t; };
                        wl.prototype.apply = function (t) { return this._revertData = { children: [], bindings: [], attributes: {} }, this._renderNode({ node: t, isApplying: !0, revertData: this._revertData }), t; };
                        wl.prototype.revert = function (t) { if (!this._revertData)
                            throw new Gn.b("ui-template-revert-not-applied: Attempting to revert a template which has not been applied yet.", [this, t]); this._revertTemplateFromNode(t, this._revertData); };
                        wl.prototype.getViews = function () { return __generator(this, function (_j) {
                            switch (_j.label) {
                                case 0: return [5 /*yield**/, __values(function t(e) {
                                        var e_473, _j, _q, _z, n_186, _0, _1, e_473_1;
                                        return __generator(this, function (_2) {
                                            switch (_2.label) {
                                                case 0:
                                                    if (!e.children) return [3 /*break*/, 12];
                                                    _2.label = 1;
                                                case 1:
                                                    _2.trys.push([1, 10, 11, 12]);
                                                    _q = __values(e.children), _z = _q.next();
                                                    _2.label = 2;
                                                case 2:
                                                    if (!!_z.done) return [3 /*break*/, 9];
                                                    n_186 = _z.value;
                                                    if (!Ol(n_186)) return [3 /*break*/, 4];
                                                    return [4 /*yield*/, n_186];
                                                case 3:
                                                    _0 = _2.sent();
                                                    return [3 /*break*/, 7];
                                                case 4:
                                                    _1 = Dl(n_186);
                                                    if (!_1) return [3 /*break*/, 6];
                                                    return [5 /*yield**/, __values(t(n_186))];
                                                case 5:
                                                    _1 = (_2.sent());
                                                    _2.label = 6;
                                                case 6:
                                                    _0 = _1;
                                                    _2.label = 7;
                                                case 7:
                                                    _0;
                                                    _2.label = 8;
                                                case 8:
                                                    _z = _q.next();
                                                    return [3 /*break*/, 2];
                                                case 9: return [3 /*break*/, 12];
                                                case 10:
                                                    e_473_1 = _2.sent();
                                                    e_473 = { error: e_473_1 };
                                                    return [3 /*break*/, 12];
                                                case 11:
                                                    try {
                                                        if (_z && !_z.done && (_j = _q.return)) _j.call(_q);
                                                    }
                                                    finally { if (e_473) throw e_473.error; }
                                                    return [7 /*endfinally*/];
                                                case 12: return [2 /*return*/];
                                            }
                                        });
                                    }(this))];
                                case 1:
                                    _j.sent();
                                    return [2 /*return*/];
                            }
                        }); };
                        wl.bind = function (t, e) { return { to: function (n, i) { return new vl({ eventNameOrFunction: n, attribute: n, observable: t, emitter: e, callback: i }); }, if: function (n, i, o) { return new yl({ observable: t, emitter: e, attribute: n, valueIfTrue: i, callback: o }); } }; };
                        wl.extend = function (t, e) { if (t._isRendered)
                            throw new Gn.b("template-extend-render: Attempting to extend a template which has already been rendered.", [this, t]); !function t(e, n) {
                            var _j, e_474, _q;
                            n.attributes && (e.attributes || (e.attributes = {}), Nl(e.attributes, n.attributes));
                            n.eventListeners && (e.eventListeners || (e.eventListeners = {}), Nl(e.eventListeners, n.eventListeners));
                            n.text && (_j = e.text).push.apply(_j, __spread(n.text));
                            if (n.children && n.children.length) {
                                if (e.children.length != n.children.length)
                                    throw new Gn.b("ui-template-extend-children-mismatch: The number of children in extended definition does not match.", e);
                                var i_102 = 0;
                                try {
                                    for (var _z = __values(n.children), _0 = _z.next(); !_0.done; _0 = _z.next()) {
                                        var o_62 = _0.value;
                                        t(e.children[i_102++], o_62);
                                    }
                                }
                                catch (e_474_1) { e_474 = { error: e_474_1 }; }
                                finally {
                                    try {
                                        if (_0 && !_0.done && (_q = _z.return)) _q.call(_z);
                                    }
                                    finally { if (e_474) throw e_474.error; }
                                }
                            }
                        }(t, Ml(Pl(e))); };
                        wl.prototype._renderNode = function (t) { var e; if (e = t.node ? this.tag && this.text : this.tag ? this.text : !this.text)
                            throw new Gn.b('ui-template-wrong-syntax: Node definition must have either "tag" or "text" when rendering a new Node.', this); return this.text ? this._renderText(t) : this._renderElement(t); };
                        wl.prototype._renderElement = function (t) { var e = t.node; return e || (e = t.node = document.createElementNS(this.ns || kl, this.tag)), this._renderAttributes(t), this._renderElementChildren(t), this._setUpListeners(t), e; };
                        wl.prototype._renderText = function (t) { var e = t.node; return e ? t.revertData.text = e.textContent : e = t.node = document.createTextNode(""), Cl(this.text) ? this._bindToObservable({ schema: this.text, updater: function (t) { return { set: function (e) { t.textContent = e; }, remove: function () { t.textContent = ""; } }; }(e), data: t }) : e.textContent = this.text.join(""), e; };
                        wl.prototype._renderAttributes = function (t) { var e, n, i, o; if (!this.attributes)
                            return; var r = t.node, s = t.revertData; for (e in this.attributes)
                            if (i = r.getAttribute(e), n = this.attributes[e], s && (s.attributes[e] = i), o = F(n[0]) && n[0].ns ? n[0].ns : null, Cl(n)) {
                                var a_10 = o ? n[0].value : n;
                                s && Vl(e) && a_10.unshift(i), this._bindToObservable({ schema: a_10, updater: Al(r, e, o), data: t });
                            }
                            else
                                "style" == e && "string" != typeof n[0] ? this._renderStyleAttribute(n[0], t) : (s && i && Vl(e) && n.unshift(i), Rl(n = n.map(function (t) { return t && t.value || t; }).reduce(function (t, e) { return t.concat(e); }, []).reduce(Il, "")) || r.setAttributeNS(o, e, n)); };
                        wl.prototype._renderStyleAttribute = function (t, e) { var n = e.node; for (var i_103 in t) {
                            var o_63 = t[i_103];
                            Cl(o_63) ? this._bindToObservable({ schema: [o_63], updater: Sl(n, i_103), data: e }) : n.style[i_103] = o_63;
                        } };
                        wl.prototype._renderElementChildren = function (t) {
                            var e_475, _j, e_476, _q;
                            var e = t.node, n = t.intoFragment ? document.createDocumentFragment() : e, i = t.isApplying;
                            var o = 0;
                            try {
                                for (var _z = __values(this.children), _0 = _z.next(); !_0.done; _0 = _z.next()) {
                                    var r_27 = _0.value;
                                    if (Ll(r_27)) {
                                        if (!i) {
                                            r_27.setParent(e);
                                            try {
                                                for (var r_26 = __values(r_27), r_26_1 = r_26.next(); !r_26_1.done; r_26_1 = r_26.next()) {
                                                    var t_235 = r_26_1.value;
                                                    n.appendChild(t_235.element);
                                                }
                                            }
                                            catch (e_476_1) { e_476 = { error: e_476_1 }; }
                                            finally {
                                                try {
                                                    if (r_26_1 && !r_26_1.done && (_q = r_26.return)) _q.call(r_26);
                                                }
                                                finally { if (e_476) throw e_476.error; }
                                            }
                                        }
                                    }
                                    else if (Ol(r_27))
                                        i || (r_27.isRendered || r_27.render(), n.appendChild(r_27.element));
                                    else if (Jo(r_27))
                                        n.appendChild(r_27);
                                    else if (i) {
                                        var e_477 = { children: [], bindings: [], attributes: {} };
                                        t.revertData.children.push(e_477), r_27._renderNode({ node: n.childNodes[o++], isApplying: !0, revertData: e_477 });
                                    }
                                    else
                                        n.appendChild(r_27.render());
                                }
                            }
                            catch (e_475_1) { e_475 = { error: e_475_1 }; }
                            finally {
                                try {
                                    if (_0 && !_0.done && (_j = _z.return)) _j.call(_z);
                                }
                                finally { if (e_475) throw e_475.error; }
                            }
                            t.intoFragment && e.appendChild(n);
                        };
                        wl.prototype._setUpListeners = function (t) { if (this.eventListeners) {
                            var _loop_4 = function (e_478) {
                                var n_187 = this_1.eventListeners[e_478].map(function (n) { var _j = __read(e_478.split("@"), 2), i = _j[0], o = _j[1]; return n.activateDomEventListener(i, o, t); });
                                t.revertData && t.revertData.bindings.push(n_187);
                            };
                            var this_1 = this;
                            for (var e_478 in this.eventListeners) {
                                _loop_4(e_478);
                            }
                        } };
                        wl.prototype._bindToObservable = function (_j) {
                            var t = _j.schema, e = _j.updater, n = _j.data;
                            var i = n.revertData;
                            Tl(t, e, n);
                            var o = t.filter(function (t) { return !Rl(t); }).filter(function (t) { return t.observable; }).map(function (i) { return i.activateAttributeListener(t, e, n); });
                            i && i.bindings.push(o);
                        };
                        wl.prototype._revertTemplateFromNode = function (t, e) {
                            var e_479, _j, e_480, _q;
                            try {
                                for (var _z = __values(e.bindings), _0 = _z.next(); !_0.done; _0 = _z.next()) {
                                    var t_237 = _0.value;
                                    try {
                                        for (var t_236 = __values(t_237), t_236_1 = t_236.next(); !t_236_1.done; t_236_1 = t_236.next()) {
                                            var e_481 = t_236_1.value;
                                            e_481();
                                        }
                                    }
                                    catch (e_480_1) { e_480 = { error: e_480_1 }; }
                                    finally {
                                        try {
                                            if (t_236_1 && !t_236_1.done && (_q = t_236.return)) _q.call(t_236);
                                        }
                                        finally { if (e_480) throw e_480.error; }
                                    }
                                }
                            }
                            catch (e_479_1) { e_479 = { error: e_479_1 }; }
                            finally {
                                try {
                                    if (_0 && !_0.done && (_j = _z.return)) _j.call(_z);
                                }
                                finally { if (e_479) throw e_479.error; }
                            }
                            if (e.text)
                                t.textContent = e.text;
                            else {
                                for (var n_188 in e.attributes) {
                                    var i_104 = e.attributes[n_188];
                                    null === i_104 ? t.removeAttribute(n_188) : t.setAttribute(n_188, i_104);
                                }
                                for (var n_189 = 0; n_189 < e.children.length; ++n_189)
                                    this._revertTemplateFromNode(t.childNodes[n_189], e.children[n_189]);
                            }
                        };
                        return wl;
                    }());
                    ci(wl, ei);
                    var _l = /** @class */ (function () {
                        function _l(t) {
                            Object.assign(this, t);
                        }
                        _l.prototype.getValue = function (t) { var e = this.observable[this.attribute]; return this.callback ? this.callback(e, t) : e; };
                        _l.prototype.activateAttributeListener = function (t, e, n) {
                            var _this = this;
                            var i = function () { return Tl(t, e, n); };
                            return this.emitter.listenTo(this.observable, "change:" + this.attribute, i), function () { _this.emitter.stopListening(_this.observable, "change:" + _this.attribute, i); };
                        };
                        return _l;
                    }());
                    var vl = /** @class */ (function (_super) {
                        __extends(vl, _super);
                        function vl() {
                            return _super !== null && _super.apply(this, arguments) || this;
                        }
                        vl.prototype.activateDomEventListener = function (t, e, n) {
                            var _this = this;
                            var i = function (t, n) { e && !n.target.matches(e) || ("function" == typeof _this.eventNameOrFunction ? _this.eventNameOrFunction(n) : _this.observable.fire(_this.eventNameOrFunction, n)); };
                            return this.emitter.listenTo(n.node, t, i), function () { _this.emitter.stopListening(n.node, t, i); };
                        };
                        return vl;
                    }(_l));
                    var yl = /** @class */ (function (_super) {
                        __extends(yl, _super);
                        function yl() {
                            return _super !== null && _super.apply(this, arguments) || this;
                        }
                        yl.prototype.getValue = function (t) { return !Rl(_super.prototype.getValue.call(this, t)) && (this.valueIfTrue || !0); };
                        return yl;
                    }(_l));
                    function Cl(t) { return !!t && (t.value && (t = t.value), Array.isArray(t) ? t.some(Cl) : t instanceof _l); }
                    function Tl(t, e, _j) {
                        var n = _j.node;
                        var i = function (t, e) { return t.map(function (t) { return t instanceof _l ? t.getValue(e) : t; }); }(t, n);
                        Rl(i = 1 == t.length && t[0] instanceof yl ? i[0] : i.reduce(Il, "")) ? e.remove() : e.set(i);
                    }
                    function Al(t, e, n) { return { set: function (i) { t.setAttributeNS(n, e, i); }, remove: function () { t.removeAttributeNS(n, e); } }; }
                    function Sl(t, e) { return { set: function (n) { t.style[e] = n; }, remove: function () { t.style[e] = null; } }; }
                    function Pl(t) { return Wn(t, function (t) { if (t && (t instanceof _l || Dl(t) || Ol(t) || Ll(t)))
                        return t; }); }
                    function Ml(t) {
                        var e_482, _j;
                        if ("string" == typeof t ? t = function (t) { return { text: [t] }; }(t) : t.text && function (t) { Array.isArray(t.text) || (t.text = [t.text]); }(t), t.on && (t.eventListeners = function (t) { for (var e_483 in t)
                            El(t, e_483); return t; }(t.on), delete t.on), !t.text) {
                            t.attributes && function (t) { for (var e_484 in t)
                                t[e_484].value && (t[e_484].value = [].concat(t[e_484].value)), El(t, e_484); }(t.attributes);
                            var e_485 = [];
                            if (t.children)
                                if (Ll(t.children))
                                    e_485.push(t.children);
                                else
                                    try {
                                        for (var _q = __values(t.children), _z = _q.next(); !_z.done; _z = _q.next()) {
                                            var n_190 = _z.value;
                                            Dl(n_190) || Ol(n_190) || Jo(n_190) ? e_485.push(n_190) : e_485.push(new wl(n_190));
                                        }
                                    }
                                    catch (e_482_1) { e_482 = { error: e_482_1 }; }
                                    finally {
                                        try {
                                            if (_z && !_z.done && (_j = _q.return)) _j.call(_q);
                                        }
                                        finally { if (e_482) throw e_482.error; }
                                    }
                            t.children = e_485;
                        }
                        return t;
                    }
                    function El(t, e) { Array.isArray(t[e]) || (t[e] = [t[e]]); }
                    function Il(t, e) { return Rl(e) ? t : Rl(t) ? e : t + " " + e; }
                    function Nl(t, e) {
                        var _j;
                        for (var n_191 in e)
                            t[n_191] ? (_j = t[n_191]).push.apply(_j, __spread(e[n_191])) : t[n_191] = e[n_191];
                    }
                    function Rl(t) { return !t && 0 !== t; }
                    function Ol(t) { return t instanceof zl; }
                    function Dl(t) { return t instanceof wl; }
                    function Ll(t) { return t instanceof bl; }
                    function Vl(t) { return "class" == t || "style" == t; }
                    n(71);
                    var zl = /** @class */ (function () {
                        function zl(t) {
                            this.element = null, this.isRendered = !1, this.locale = t, this.t = t && t.t, this._viewCollections = new oo, this._unboundChildren = this.createCollection(), this._viewCollections.on("add", function (e, n) { n.locale = t; }), this.decorate("render");
                        }
                        Object.defineProperty(zl.prototype, "bindTemplate", {
                            get: function () { return this._bindTemplate ? this._bindTemplate : this._bindTemplate = wl.bind(this, this); },
                            enumerable: true,
                            configurable: true
                        });
                        zl.prototype.createCollection = function () { var t = new bl; return this._viewCollections.add(t), t; };
                        zl.prototype.registerChild = function (t) {
                            var e_486, _j;
                            pi(t) || (t = [t]);
                            try {
                                for (var t_238 = __values(t), t_238_1 = t_238.next(); !t_238_1.done; t_238_1 = t_238.next()) {
                                    var e_487 = t_238_1.value;
                                    this._unboundChildren.add(e_487);
                                }
                            }
                            catch (e_486_1) { e_486 = { error: e_486_1 }; }
                            finally {
                                try {
                                    if (t_238_1 && !t_238_1.done && (_j = t_238.return)) _j.call(t_238);
                                }
                                finally { if (e_486) throw e_486.error; }
                            }
                        };
                        zl.prototype.deregisterChild = function (t) {
                            var e_488, _j;
                            pi(t) || (t = [t]);
                            try {
                                for (var t_239 = __values(t), t_239_1 = t_239.next(); !t_239_1.done; t_239_1 = t_239.next()) {
                                    var e_489 = t_239_1.value;
                                    this._unboundChildren.remove(e_489);
                                }
                            }
                            catch (e_488_1) { e_488 = { error: e_488_1 }; }
                            finally {
                                try {
                                    if (t_239_1 && !t_239_1.done && (_j = t_239.return)) _j.call(t_239);
                                }
                                finally { if (e_488) throw e_488.error; }
                            }
                        };
                        zl.prototype.setTemplate = function (t) { this.template = new wl(t); };
                        zl.prototype.extendTemplate = function (t) { wl.extend(this.template, t); };
                        zl.prototype.render = function () { if (this.isRendered)
                            throw new Gn.b("ui-view-render-already-rendered: This View has already been rendered.", this); this.template && (this.element = this.template.render(), this.registerChild(this.template.getViews())), this.isRendered = !0; };
                        zl.prototype.destroy = function () { this.stopListening(), this._viewCollections.map(function (t) { return t.destroy(); }), this.template && this.template._revertData && this.template.revert(this.element); };
                        return zl;
                    }());
                    ci(zl, dr), ci(zl, Bi);
                    n(73);
                    var jl = /** @class */ (function (_super) {
                        __extends(jl, _super);
                        function jl(t) {
                            var _this = this;
                            _this = _super.call(this, t) || this, _this.body = _this.createCollection();
                            return _this;
                        }
                        jl.prototype.render = function () { _super.prototype.render.call(this), this._renderBodyCollection(); };
                        jl.prototype.destroy = function () { return this._bodyCollectionContainer.remove(), _super.prototype.destroy.call(this); };
                        jl.prototype._renderBodyCollection = function () { var t = this.locale, e = this._bodyCollectionContainer = new wl({ tag: "div", attributes: { class: ["ck", "ck-reset_all", "ck-body", "ck-rounded-corners"], dir: t.uiLanguageDirection }, children: this.body }).render(); document.body.appendChild(e); };
                        return jl;
                    }(zl));
                    n(75);
                    var Fl = /** @class */ (function (_super) {
                        __extends(Fl, _super);
                        function Fl(t) {
                            var _this = this;
                            _this = _super.call(this, t) || this, _this.set("text"), _this.set("for");
                            var e = _this.bindTemplate;
                            _this.setTemplate({ tag: "label", attributes: { class: ["ck", "ck-label"], for: e.to("for") }, children: [{ text: e.to("text") }] });
                            return _this;
                        }
                        return Fl;
                    }(zl));
                    var Bl = /** @class */ (function (_super) {
                        __extends(Bl, _super);
                        function Bl(t) {
                            var _this = _super.call(this, t) || this;
                            var e = Jn();
                            _this.top = _this.createCollection(), _this.main = _this.createCollection(), _this._voiceLabelView = _this._createVoiceLabel(e), _this.setTemplate({ tag: "div", attributes: { class: ["ck", "ck-reset", "ck-editor", "ck-rounded-corners"], role: "application", dir: t.uiLanguageDirection, lang: t.uiLanguage, "aria-labelledby": "ck-editor__aria-label_" + e }, children: [_this._voiceLabelView, { tag: "div", attributes: { class: ["ck", "ck-editor__top", "ck-reset_all"], role: "presentation" }, children: _this.top }, { tag: "div", attributes: { class: ["ck", "ck-editor__main"], role: "presentation" }, children: _this.main }] });
                            return _this;
                        }
                        Bl.prototype._createVoiceLabel = function (t) { var e = this.t, n = new Fl; return n.text = e("cd"), n.extendTemplate({ attributes: { id: "ck-editor__aria-label_" + t, class: "ck-voice-label" } }), n; };
                        return Bl;
                    }(jl));
                    var Hl = /** @class */ (function (_super) {
                        __extends(Hl, _super);
                        function Hl(t, e, n) {
                            var _this = this;
                            _this = _super.call(this, t) || this, _this.setTemplate({ tag: "div", attributes: { class: ["ck", "ck-content", "ck-editor__editable", "ck-rounded-corners"], lang: t.contentLanguage, dir: t.contentLanguageDirection } }), _this.name = null, _this.set("isFocused", !1), _this._editableElement = n, _this._hasExternalElement = !!_this._editableElement, _this._editingView = e;
                            return _this;
                        }
                        Hl.prototype.render = function () {
                            var _this = this;
                            _super.prototype.render.call(this), this._hasExternalElement ? this.template.apply(this.element = this._editableElement) : this._editableElement = this.element, this.on("change:isFocused", function () { return _this._updateIsFocusedClasses(); }), this._updateIsFocusedClasses();
                        };
                        Hl.prototype.destroy = function () { this._hasExternalElement && this.template.revert(this._editableElement), _super.prototype.destroy.call(this); };
                        Hl.prototype._updateIsFocusedClasses = function () { var t = this._editingView; function e(e) { t.change(function (n) { var i = t.document.getRoot(e.name); n.addClass(e.isFocused ? "ck-focused" : "ck-blurred", i), n.removeClass(e.isFocused ? "ck-blurred" : "ck-focused", i); }); } t.isRenderingInProgress ? function n(i) { t.once("change:isRenderingInProgress", function (t, o, r) { r ? n(i) : e(i); }); }(this) : e(this); };
                        return Hl;
                    }(zl));
                    var Ul = /** @class */ (function (_super) {
                        __extends(Ul, _super);
                        function Ul(t, e, n) {
                            var _this = this;
                            _this = _super.call(this, t, e, n) || this, _this.extendTemplate({ attributes: { role: "textbox", class: "ck-editor__editable_inline" } });
                            return _this;
                        }
                        Ul.prototype.render = function () {
                            var _this = this;
                            _super.prototype.render.call(this);
                            var t = this._editingView, e = this.t;
                            t.change(function (n) { var i = t.document.getRoot(_this.name); n.setAttribute("aria-label", e("cq", [_this.name]), i); });
                        };
                        return Ul;
                    }(Hl));
                    function Wl(t) { return function (e) { return e + t; }; }
                    n(77);
                    var ql = Wl("px");
                    var Yl = /** @class */ (function (_super) {
                        __extends(Yl, _super);
                        function Yl(t) {
                            var _this = _super.call(this, t) || this;
                            var e = _this.bindTemplate;
                            _this.set("isActive", !1), _this.set("isSticky", !1), _this.set("limiterElement", null), _this.set("limiterBottomOffset", 50), _this.set("viewportTopOffset", 0), _this.set("_marginLeft", null), _this.set("_isStickyToTheLimiter", !1), _this.set("_hasViewportTopOffset", !1), _this.content = _this.createCollection(), _this._contentPanelPlaceholder = new wl({ tag: "div", attributes: { class: ["ck", "ck-sticky-panel__placeholder"], style: { display: e.to("isSticky", function (t) { return t ? "block" : "none"; }), height: e.to("isSticky", function (t) { return t ? ql(_this._panelRect.height) : null; }) } } }).render(), _this._contentPanel = new wl({ tag: "div", attributes: { class: ["ck", "ck-sticky-panel__content", e.if("isSticky", "ck-sticky-panel__content_sticky"), e.if("_isStickyToTheLimiter", "ck-sticky-panel__content_sticky_bottom-limit")], style: { width: e.to("isSticky", function (t) { return t ? ql(_this._contentPanelPlaceholder.getBoundingClientRect().width) : null; }), top: e.to("_hasViewportTopOffset", function (t) { return t ? ql(_this.viewportTopOffset) : null; }), bottom: e.to("_isStickyToTheLimiter", function (t) { return t ? ql(_this.limiterBottomOffset) : null; }), marginLeft: e.to("_marginLeft") } }, children: _this.content }).render(), _this.setTemplate({ tag: "div", attributes: { class: ["ck", "ck-sticky-panel"] }, children: [_this._contentPanelPlaceholder, _this._contentPanel] });
                            return _this;
                        }
                        Yl.prototype.render = function () {
                            var _this = this;
                            _super.prototype.render.call(this), this._checkIfShouldBeSticky(), this.listenTo(er.window, "scroll", function () { _this._checkIfShouldBeSticky(); }), this.listenTo(this, "change:isActive", function () { _this._checkIfShouldBeSticky(); });
                        };
                        Yl.prototype._checkIfShouldBeSticky = function () { var t = this._panelRect = this._contentPanel.getBoundingClientRect(); var e; this.limiterElement ? (e = this._limiterRect = this.limiterElement.getBoundingClientRect(), this.isSticky = this.isActive && e.top < this.viewportTopOffset && this._panelRect.height + this.limiterBottomOffset < e.height) : this.isSticky = !1, this.isSticky ? (this._isStickyToTheLimiter = e.bottom < t.height + this.limiterBottomOffset + this.viewportTopOffset, this._hasViewportTopOffset = !this._isStickyToTheLimiter && !!this.viewportTopOffset, this._marginLeft = this._isStickyToTheLimiter ? null : ql(-er.window.scrollX)) : (this._isStickyToTheLimiter = !1, this._hasViewportTopOffset = !1, this._marginLeft = null); };
                        return Yl;
                    }(zl));
                    var $l = /** @class */ (function () {
                        function $l(t) {
                            var _this = this;
                            if (Object.assign(this, t), t.actions && t.keystrokeHandler) {
                                var _loop_5 = function (e_491) {
                                    var e_490, _j;
                                    var n_193 = t.actions[e_491];
                                    "string" == typeof n_193 && (n_193 = [n_193]);
                                    try {
                                        for (var n_192 = __values(n_193), n_192_1 = n_192.next(); !n_192_1.done; n_192_1 = n_192.next()) {
                                            var i_105 = n_192_1.value;
                                            t.keystrokeHandler.set(i_105, function (t, n) { _this[e_491](), n(); });
                                        }
                                    }
                                    catch (e_490_1) { e_490 = { error: e_490_1 }; }
                                    finally {
                                        try {
                                            if (n_192_1 && !n_192_1.done && (_j = n_192.return)) _j.call(n_192);
                                        }
                                        finally { if (e_490) throw e_490.error; }
                                    }
                                };
                                for (var e_491 in t.actions) {
                                    _loop_5(e_491);
                                }
                            }
                        }
                        Object.defineProperty($l.prototype, "first", {
                            get: function () { return this.focusables.find(Gl) || null; },
                            enumerable: true,
                            configurable: true
                        });
                        Object.defineProperty($l.prototype, "last", {
                            get: function () { return this.focusables.filter(Gl).slice(-1)[0] || null; },
                            enumerable: true,
                            configurable: true
                        });
                        Object.defineProperty($l.prototype, "next", {
                            get: function () { return this._getFocusableItem(1); },
                            enumerable: true,
                            configurable: true
                        });
                        Object.defineProperty($l.prototype, "previous", {
                            get: function () { return this._getFocusableItem(-1); },
                            enumerable: true,
                            configurable: true
                        });
                        Object.defineProperty($l.prototype, "current", {
                            get: function () {
                                var _this = this;
                                var t = null;
                                return null === this.focusTracker.focusedElement ? null : (this.focusables.find(function (e, n) { var i = e.element === _this.focusTracker.focusedElement; return i && (t = n), i; }), t);
                            },
                            enumerable: true,
                            configurable: true
                        });
                        $l.prototype.focusFirst = function () { this._focus(this.first); };
                        $l.prototype.focusLast = function () { this._focus(this.last); };
                        $l.prototype.focusNext = function () { this._focus(this.next); };
                        $l.prototype.focusPrevious = function () { this._focus(this.previous); };
                        $l.prototype._focus = function (t) { t && t.focus(); };
                        $l.prototype._getFocusableItem = function (t) { var e = this.current, n = this.focusables.length; if (!n)
                            return null; if (null === e)
                            return this[1 === t ? "first" : "last"]; var i = (e + n + t) % n; do {
                            var e_492 = this.focusables.get(i);
                            if (Gl(e_492))
                                return e_492;
                            i = (i + n + t) % n;
                        } while (i !== e); return null; };
                        return $l;
                    }());
                    function Gl(t) { return !(!t.focus || "none" == er.window.getComputedStyle(t.element).display); }
                    var Kl = /** @class */ (function (_super) {
                        __extends(Kl, _super);
                        function Kl(t) {
                            var _this = this;
                            _this = _super.call(this, t) || this, _this.setTemplate({ tag: "span", attributes: { class: ["ck", "ck-toolbar__separator"] } });
                            return _this;
                        }
                        return Kl;
                    }(zl));
                    var Ql = 100;
                    var Jl = /** @class */ (function () {
                        function Jl(t) {
                            this._callback = t, this._elements = new Set, this._previousRects = new Map, this._periodicCheckTimeout = null;
                        }
                        Jl.prototype.observe = function (t) { this._elements.add(t), 1 === this._elements.size && this._startPeriodicCheck(); };
                        Jl.prototype.unobserve = function (t) { this._elements.delete(t), this._previousRects.delete(t), this._elements.size || this._stopPeriodicCheck(); };
                        Jl.prototype.disconnect = function () {
                            var _this = this;
                            this._elements.forEach(function (t) { return _this.unobserve(t); });
                        };
                        Jl.prototype._startPeriodicCheck = function () {
                            var _this = this;
                            var t = function () { _this._checkElementRectsAndExecuteCallback(), _this._periodicCheckTimeout = setTimeout(t, Ql); };
                            this.listenTo(er.window, "resize", function () { _this._checkElementRectsAndExecuteCallback(); }), t();
                        };
                        Jl.prototype._stopPeriodicCheck = function () { clearTimeout(this._periodicCheckTimeout), this.stopListening(), this._previousRects.clear(); };
                        Jl.prototype._checkElementRectsAndExecuteCallback = function () {
                            var e_493, _j;
                            var t = [];
                            try {
                                for (var _q = __values(this._elements), _z = _q.next(); !_z.done; _z = _q.next()) {
                                    var e_494 = _z.value;
                                    this._hasRectChanged(e_494) && t.push({ target: e_494, contentRect: this._previousRects.get(e_494) });
                                }
                            }
                            catch (e_493_1) { e_493 = { error: e_493_1 }; }
                            finally {
                                try {
                                    if (_z && !_z.done && (_j = _q.return)) _j.call(_q);
                                }
                                finally { if (e_493) throw e_493.error; }
                            }
                            t.length && this._callback(t);
                        };
                        Jl.prototype._hasRectChanged = function (t) { if (!t.ownerDocument.body.contains(t))
                            return !1; var e = new Ts(t), n = this._previousRects.get(t), i = !n || !n.isEqual(e); return this._previousRects.set(t, e), i; };
                        return Jl;
                    }());
                    ci(Jl, dr);
                    var Zl = /** @class */ (function (_super) {
                        __extends(Zl, _super);
                        function Zl(t) {
                            var _this = _super.call(this, t) || this;
                            var e = _this.bindTemplate;
                            _this.set("isVisible", !1), _this.set("position", "se"), _this.children = _this.createCollection(), _this.setTemplate({ tag: "div", attributes: { class: ["ck", "ck-reset", "ck-dropdown__panel", e.to("position", function (t) { return "ck-dropdown__panel_" + t; }), e.if("isVisible", "ck-dropdown__panel-visible")] }, children: _this.children, on: { selectstart: e.to(function (t) { return t.preventDefault(); }) } });
                            return _this;
                        }
                        Zl.prototype.focus = function () { this.children.length && this.children.first.focus(); };
                        Zl.prototype.focusLast = function () { if (this.children.length) {
                            var t_240 = this.children.last;
                            "function" == typeof t_240.focusLast ? t_240.focusLast() : t_240.focus();
                        } };
                        return Zl;
                    }(zl));
                    n(79);
                    function Xl(t) { for (; t && "html" != t.tagName.toLowerCase();) {
                        if ("static" != er.window.getComputedStyle(t).position)
                            return t;
                        t = t.parentElement;
                    } return null; }
                    function td(_j) {
                        var _q, _z;
                        var t = _j.element, e = _j.target, n = _j.positions, i = _j.limiter, o = _j.fitInViewport;
                        q(e) && (e = e()), q(i) && (i = i());
                        var r = Xl(t.parentElement), s = new Ts(t), a = new Ts(e);
                        var c, l;
                        if (i || o) {
                            var t_241 = i && new Ts(i).getVisible(), e_495 = o && new Ts(er.window);
                            _q = __read(function (t, e, n, i, o) { var r, s, a = 0, c = 0; var l = n.getArea(); return t.some(function (t) { var _j = __read(ed(t, e, n), 2), d = _j[0], u = _j[1]; var h, m; if (i)
                                if (o) {
                                    var t_242 = i.getIntersection(o);
                                    h = t_242 ? t_242.getIntersectionArea(u) : 0;
                                }
                                else
                                    h = i.getIntersectionArea(u); function g() { c = m, a = h, r = u, s = d; } return o && (m = o.getIntersectionArea(u)), o && !i ? m > c && g() : !o && i ? h > a && g() : m > c && h >= a ? g() : m >= c && h > a && g(), h === l; }), r ? [s, r] : null; }(n, a, s, t_241, e_495) || ed(n[0], a, s), 2), l = _q[0], c = _q[1];
                        }
                        else
                            _z = __read(ed(n[0], a, s), 2), l = _z[0], c = _z[1];
                        var _0 = nd(c), d = _0.left, u = _0.top;
                        if (r) {
                            var t_243 = nd(new Ts(r)), e_496 = ys(r);
                            d -= t_243.left, u -= t_243.top, d += r.scrollLeft, u += r.scrollTop, d -= e_496.left, u -= e_496.top;
                        }
                        return { left: d, top: u, name: l };
                    }
                    function ed(t, e, n) { var _j = t(e, n), i = _j.left, o = _j.top, r = _j.name; return [r, n.clone().moveTo(i, o)]; }
                    function nd(_j) {
                        var t = _j.left, e = _j.top;
                        var _q = er.window, n = _q.scrollX, i = _q.scrollY;
                        return { left: t + n, top: e + i };
                    }
                    var id = /** @class */ (function (_super) {
                        __extends(id, _super);
                        function id(t, e, n) {
                            var _this = _super.call(this, t) || this;
                            var i = _this.bindTemplate;
                            _this.buttonView = e, _this.panelView = n, _this.set("isOpen", !1), _this.set("isEnabled", !0), _this.set("class"), _this.set("panelPosition", "auto"), _this.focusTracker = new ll, _this.keystrokes = new tl, _this.setTemplate({ tag: "div", attributes: { class: ["ck", "ck-dropdown", i.to("class"), i.if("isEnabled", "ck-disabled", function (t) { return !t; })] }, children: [e, n] }), e.extendTemplate({ attributes: { class: ["ck-dropdown__button"] } });
                            return _this;
                        }
                        id.prototype.render = function () {
                            var _this = this;
                            _super.prototype.render.call(this), this.listenTo(this.buttonView, "open", function () { _this.isOpen = !_this.isOpen; }), this.panelView.bind("isVisible").to(this, "isOpen"), this.on("change:isOpen", function () { _this.isOpen && ("auto" === _this.panelPosition ? _this.panelView.position = id._getOptimalPosition({ element: _this.panelView.element, target: _this.buttonView.element, fitInViewport: !0, positions: _this._panelPositions }).name : _this.panelView.position = _this.panelPosition); }), this.keystrokes.listenTo(this.element), this.focusTracker.add(this.element);
                            var t = function (t, e) { _this.isOpen && (_this.buttonView.focus(), _this.isOpen = !1, e()); };
                            this.keystrokes.set("arrowdown", function (t, e) { _this.buttonView.isEnabled && !_this.isOpen && (_this.isOpen = !0, e()); }), this.keystrokes.set("arrowright", function (t, e) { _this.isOpen && e(); }), this.keystrokes.set("arrowleft", t), this.keystrokes.set("esc", t);
                        };
                        id.prototype.focus = function () { this.buttonView.focus(); };
                        Object.defineProperty(id.prototype, "_panelPositions", {
                            get: function () { var _j = id.defaultPanelPositions, t = _j.southEast, e = _j.southWest, n = _j.northEast, i = _j.northWest; return "ltr" === this.locale.uiLanguageDirection ? [t, e, n, i] : [e, t, i, n]; },
                            enumerable: true,
                            configurable: true
                        });
                        return id;
                    }(zl));
                    id.defaultPanelPositions = { southEast: function (t) { return ({ top: t.bottom, left: t.left, name: "se" }); }, southWest: function (t, e) { return ({ top: t.bottom, left: t.left - e.width + t.width, name: "sw" }); }, northEast: function (t, e) { return ({ top: t.top - e.height, left: t.left, name: "ne" }); }, northWest: function (t, e) { return ({ top: t.bottom - e.height, left: t.left - e.width + t.width, name: "nw" }); } }, id._getOptimalPosition = td;
                    n(81);
                    var od = /** @class */ (function (_super) {
                        __extends(od, _super);
                        function od() {
                            var _this = _super.call(this) || this;
                            var t = _this.bindTemplate;
                            _this.set("content", ""), _this.set("viewBox", "0 0 20 20"), _this.set("fillColor", ""), _this.setTemplate({ tag: "svg", ns: "http://www.w3.org/2000/svg", attributes: { class: ["ck", "ck-icon"], viewBox: t.to("viewBox") } });
                            return _this;
                        }
                        od.prototype.render = function () {
                            var _this = this;
                            _super.prototype.render.call(this), this._updateXMLContent(), this._colorFillPaths(), this.on("change:content", function () { _this._updateXMLContent(), _this._colorFillPaths(); }), this.on("change:fillColor", function () { _this._colorFillPaths(); });
                        };
                        od.prototype._updateXMLContent = function () { if (this.content) {
                            var t_244 = (new DOMParser).parseFromString(this.content.trim(), "image/svg+xml").querySelector("svg"), e_497 = t_244.getAttribute("viewBox");
                            for (e_497 && (this.viewBox = e_497), this.element.innerHTML = ""; t_244.childNodes.length > 0;)
                                this.element.appendChild(t_244.childNodes[0]);
                        } };
                        od.prototype._colorFillPaths = function () {
                            var _this = this;
                            this.fillColor && this.element.querySelectorAll(".ck-icon__fill").forEach(function (t) { t.style.fill = _this.fillColor; });
                        };
                        return od;
                    }(zl));
                    n(83);
                    var rd = /** @class */ (function (_super) {
                        __extends(rd, _super);
                        function rd(t) {
                            var _this = this;
                            _this = _super.call(this, t) || this, _this.set("text", ""), _this.set("position", "s");
                            var e = _this.bindTemplate;
                            _this.setTemplate({ tag: "span", attributes: { class: ["ck", "ck-tooltip", e.to("position", function (t) { return "ck-tooltip_" + t; }), e.if("text", "ck-hidden", function (t) { return !t.trim(); })] }, children: [{ tag: "span", attributes: { class: ["ck", "ck-tooltip__text"] }, children: [{ text: e.to("text") }] }] });
                            return _this;
                        }
                        return rd;
                    }(zl));
                    n(85);
                    var sd = /** @class */ (function (_super) {
                        __extends(sd, _super);
                        function sd(t) {
                            var _this = _super.call(this, t) || this;
                            var e = _this.bindTemplate, n = Jn();
                            _this.set("class"), _this.set("labelStyle"), _this.set("icon"), _this.set("isEnabled", !0), _this.set("isOn", !1), _this.set("isVisible", !0), _this.set("isToggleable", !1), _this.set("keystroke"), _this.set("label"), _this.set("tabindex", -1), _this.set("tooltip"), _this.set("tooltipPosition", "s"), _this.set("type", "button"), _this.set("withText", !1), _this.set("withKeystroke", !1), _this.children = _this.createCollection(), _this.tooltipView = _this._createTooltipView(), _this.labelView = _this._createLabelView(n), _this.iconView = new od, _this.iconView.extendTemplate({ attributes: { class: "ck-button__icon" } }), _this.keystrokeView = _this._createKeystrokeView(), _this.bind("_tooltipString").to(_this, "tooltip", _this, "label", _this, "keystroke", _this._getTooltipString.bind(_this)), _this.setTemplate({ tag: "button", attributes: { class: ["ck", "ck-button", e.to("class"), e.if("isEnabled", "ck-disabled", function (t) { return !t; }), e.if("isVisible", "ck-hidden", function (t) { return !t; }), e.to("isOn", function (t) { return t ? "ck-on" : "ck-off"; }), e.if("withText", "ck-button_with-text"), e.if("withKeystroke", "ck-button_with-keystroke")], type: e.to("type", function (t) { return t || "button"; }), tabindex: e.to("tabindex"), "aria-labelledby": "ck-editor__aria-label_" + n, "aria-disabled": e.if("isEnabled", !0, function (t) { return !t; }), "aria-pressed": e.to("isOn", function (t) { return !!_this.isToggleable && String(t); }) }, children: _this.children, on: { mousedown: e.to(function (t) { t.preventDefault(); }), click: e.to(function (t) { _this.isEnabled ? _this.fire("execute") : t.preventDefault(); }) } });
                            return _this;
                        }
                        sd.prototype.render = function () { _super.prototype.render.call(this), this.icon && (this.iconView.bind("content").to(this, "icon"), this.children.add(this.iconView)), this.children.add(this.tooltipView), this.children.add(this.labelView), this.withKeystroke && this.children.add(this.keystrokeView); };
                        sd.prototype.focus = function () { this.element.focus(); };
                        sd.prototype._createTooltipView = function () { var t = new rd; return t.bind("text").to(this, "_tooltipString"), t.bind("position").to(this, "tooltipPosition"), t; };
                        sd.prototype._createLabelView = function (t) { var e = new zl, n = this.bindTemplate; return e.setTemplate({ tag: "span", attributes: { class: ["ck", "ck-button__label"], style: n.to("labelStyle"), id: "ck-editor__aria-label_" + t }, children: [{ text: this.bindTemplate.to("label") }] }), e; };
                        sd.prototype._createKeystrokeView = function () { var t = new zl; return t.setTemplate({ tag: "span", attributes: { class: ["ck", "ck-button__keystroke"] }, children: [{ text: this.bindTemplate.to("keystroke", function (t) { return wo(t); }) }] }), t; };
                        sd.prototype._getTooltipString = function (t, e, n) { return t ? "string" == typeof t ? t : (n && (n = wo(n)), t instanceof Function ? t(e, n) : "" + e + (n ? " (" + n + ")" : "")) : ""; };
                        return sd;
                    }(zl));
                    var ad = n(11), cd = n.n(ad);
                    var ld = /** @class */ (function (_super) {
                        __extends(ld, _super);
                        function ld(t) {
                            var _this = this;
                            _this = _super.call(this, t) || this, _this.arrowView = _this._createArrowView(), _this.extendTemplate({ attributes: { "aria-haspopup": !0 } }), _this.delegate("execute").to(_this, "open");
                            return _this;
                        }
                        ld.prototype.render = function () { _super.prototype.render.call(this), this.children.add(this.arrowView); };
                        ld.prototype._createArrowView = function () { var t = new od; return t.content = cd.a, t.extendTemplate({ attributes: { class: "ck-dropdown__arrow" } }), t; };
                        return ld;
                    }(sd));
                    n(87);
                    var dd = /** @class */ (function (_super) {
                        __extends(dd, _super);
                        function dd() {
                            var _this = this;
                            _this = _super.call(this) || this, _this.items = _this.createCollection(), _this.focusTracker = new ll, _this.keystrokes = new tl, _this._focusCycler = new $l({ focusables: _this.items, focusTracker: _this.focusTracker, keystrokeHandler: _this.keystrokes, actions: { focusPrevious: "arrowup", focusNext: "arrowdown" } }), _this.setTemplate({ tag: "ul", attributes: { class: ["ck", "ck-reset", "ck-list"] }, children: _this.items });
                            return _this;
                        }
                        dd.prototype.render = function () {
                            var _this = this;
                            var e_498, _j;
                            _super.prototype.render.call(this);
                            try {
                                for (var _q = __values(this.items), _z = _q.next(); !_z.done; _z = _q.next()) {
                                    var t_245 = _z.value;
                                    this.focusTracker.add(t_245.element);
                                }
                            }
                            catch (e_498_1) { e_498 = { error: e_498_1 }; }
                            finally {
                                try {
                                    if (_z && !_z.done && (_j = _q.return)) _j.call(_q);
                                }
                                finally { if (e_498) throw e_498.error; }
                            }
                            this.items.on("add", function (t, e) { _this.focusTracker.add(e.element); }), this.items.on("remove", function (t, e) { _this.focusTracker.remove(e.element); }), this.keystrokes.listenTo(this.element);
                        };
                        dd.prototype.focus = function () { this._focusCycler.focusFirst(); };
                        dd.prototype.focusLast = function () { this._focusCycler.focusLast(); };
                        return dd;
                    }(zl));
                    var ud = /** @class */ (function (_super) {
                        __extends(ud, _super);
                        function ud(t) {
                            var _this = this;
                            _this = _super.call(this, t) || this, _this.children = _this.createCollection(), _this.setTemplate({ tag: "li", attributes: { class: ["ck", "ck-list__item"] }, children: _this.children });
                            return _this;
                        }
                        ud.prototype.focus = function () { this.children.first.focus(); };
                        return ud;
                    }(zl));
                    var hd = /** @class */ (function (_super) {
                        __extends(hd, _super);
                        function hd(t) {
                            var _this = this;
                            _this = _super.call(this, t) || this, _this.setTemplate({ tag: "li", attributes: { class: ["ck", "ck-list__separator"] } });
                            return _this;
                        }
                        return hd;
                    }(zl));
                    n(89);
                    var md = /** @class */ (function (_super) {
                        __extends(md, _super);
                        function md(t) {
                            var _this = this;
                            _this = _super.call(this, t) || this, _this.isToggleable = !0, _this.toggleSwitchView = _this._createToggleView(), _this.extendTemplate({ attributes: { class: "ck-switchbutton" } });
                            return _this;
                        }
                        md.prototype.render = function () { _super.prototype.render.call(this), this.children.add(this.toggleSwitchView); };
                        md.prototype._createToggleView = function () { var t = new zl; return t.setTemplate({ tag: "span", attributes: { class: ["ck", "ck-button__toggle"] }, children: [{ tag: "span", attributes: { class: ["ck", "ck-button__toggle__inner"] } }] }), t; };
                        return md;
                    }(sd));
                    function gd(_j) {
                        var t = _j.emitter, e = _j.activator, n = _j.callback, i = _j.contextElements;
                        t.listenTo(document, "mousedown", function (t, _j) {
                            var e_499, _q;
                            var o = _j.target;
                            if (e()) {
                                try {
                                    for (var i_106 = __values(i), i_106_1 = i_106.next(); !i_106_1.done; i_106_1 = i_106.next()) {
                                        var t_246 = i_106_1.value;
                                        if (t_246.contains(o))
                                            return;
                                    }
                                }
                                catch (e_499_1) { e_499 = { error: e_499_1 }; }
                                finally {
                                    try {
                                        if (i_106_1 && !i_106_1.done && (_q = i_106.return)) _q.call(i_106);
                                    }
                                    finally { if (e_499) throw e_499.error; }
                                }
                                n();
                            }
                        });
                    }
                    n(91), n(93);
                    function fd(t, e) {
                        if (e === void 0) { e = ld; }
                        var n = new e(t), i = new Zl(t), o = new id(t, n, i);
                        return n.bind("isEnabled").to(o), n instanceof ld ? n.bind("isOn").to(o, "isOpen") : n.arrowView.bind("isOn").to(o, "isOpen"), function (t) { (function (t) { t.on("render", function () { gd({ emitter: t, activator: function () { return t.isOpen; }, callback: function () { t.isOpen = !1; }, contextElements: [t.element] }); }); })(t), function (t) { t.on("execute", function (e) { e.source instanceof md || (t.isOpen = !1); }); }(t), function (t) { t.keystrokes.set("arrowdown", function (e, n) { t.isOpen && (t.panelView.focus(), n()); }), t.keystrokes.set("arrowup", function (e, n) { t.isOpen && (t.panelView.focusLast(), n()); }); }(t); }(o), o;
                    }
                    function pd(t, e) { var n = t.locale, i = n.t, o = t.toolbarView = new wd(n); o.set("ariaLabel", i("bx")), t.extendTemplate({ attributes: { class: ["ck-toolbar-dropdown"] } }), e.map(function (t) { return o.items.add(t); }), t.panelView.children.add(o), o.items.delegate("execute").to(t); }
                    function xd(t, e) { var n = t.locale, i = t.listView = new dd(n); i.items.bindTo(e).using(function (_j) {
                        var _q;
                        var t = _j.type, e = _j.model;
                        if ("separator" === t)
                            return new hd(n);
                        if ("button" === t || "switchbutton" === t) {
                            var i_107 = new ud(n);
                            var o_64;
                            return (_q = (o_64 = "button" === t ? new sd(n) : new md(n))).bind.apply(_q, __spread(Object.keys(e))).to(e), o_64.delegate("execute").to(i_107), i_107.children.add(o_64), i_107;
                        }
                    }), t.panelView.children.add(i), i.items.delegate("execute").to(t); }
                    var bd = n(33), kd = n.n(bd);
                    n(95);
                    var wd = /** @class */ (function (_super) {
                        __extends(wd, _super);
                        function wd(t, e) {
                            var _this = _super.call(this, t) || this;
                            var n = _this.bindTemplate, i = _this.t;
                            _this.options = e || {}, _this.set("ariaLabel", i("ce")), _this.items = _this.createCollection(), _this.focusTracker = new ll, _this.keystrokes = new tl, _this.set("class"), _this.itemsView = new _d(t), _this.children = _this.createCollection(), _this.children.add(_this.itemsView), _this.focusables = _this.createCollection(), _this._focusCycler = new $l({ focusables: _this.focusables, focusTracker: _this.focusTracker, keystrokeHandler: _this.keystrokes, actions: { focusPrevious: ["arrowleft", "arrowup"], focusNext: ["arrowright", "arrowdown"] } }), _this.setTemplate({ tag: "div", attributes: { class: ["ck", "ck-toolbar", n.to("class")], role: "toolbar", "aria-label": n.to("ariaLabel") }, children: _this.children, on: { mousedown: function (t) { return t.bindTemplate.to(function (e) { e.target === t.element && e.preventDefault(); }); }(_this) } }), _this._behavior = _this.options.shouldGroupWhenFull ? new yd(_this) : new vd(_this);
                            return _this;
                        }
                        wd.prototype.render = function () {
                            var _this = this;
                            var e_500, _j;
                            _super.prototype.render.call(this);
                            try {
                                for (var _q = __values(this.items), _z = _q.next(); !_z.done; _z = _q.next()) {
                                    var t_247 = _z.value;
                                    this.focusTracker.add(t_247.element);
                                }
                            }
                            catch (e_500_1) { e_500 = { error: e_500_1 }; }
                            finally {
                                try {
                                    if (_z && !_z.done && (_j = _q.return)) _j.call(_q);
                                }
                                finally { if (e_500) throw e_500.error; }
                            }
                            this.items.on("add", function (t, e) { _this.focusTracker.add(e.element); }), this.items.on("remove", function (t, e) { _this.focusTracker.remove(e.element); }), this.keystrokes.listenTo(this.element), this._behavior.render(this);
                        };
                        wd.prototype.destroy = function () { return this._behavior.destroy(), _super.prototype.destroy.call(this); };
                        wd.prototype.focus = function () { this._focusCycler.focusFirst(); };
                        wd.prototype.focusLast = function () { this._focusCycler.focusLast(); };
                        wd.prototype.fillFromConfig = function (t, e) {
                            var _this = this;
                            t.map(function (t) { "|" == t ? _this.items.add(new Kl) : e.has(t) ? _this.items.add(e.create(t)) : console.warn(Object(Gn.a)("toolbarview-item-unavailable: The requested toolbar item is unavailable."), { name: t }); });
                        };
                        return wd;
                    }(zl));
                    var _d = /** @class */ (function (_super) {
                        __extends(_d, _super);
                        function _d(t) {
                            var _this = this;
                            _this = _super.call(this, t) || this, _this.children = _this.createCollection(), _this.setTemplate({ tag: "div", attributes: { class: ["ck", "ck-toolbar__items"] }, children: _this.children });
                            return _this;
                        }
                        return _d;
                    }(zl));
                    var vd = /** @class */ (function () {
                        function vd(t) {
                            var e = t.bindTemplate;
                            t.set("isVertical", !1), t.itemsView.children.bindTo(t.items).using(function (t) { return t; }), t.focusables.bindTo(t.items).using(function (t) { return t; }), t.extendTemplate({ attributes: { class: [e.if("isVertical", "ck-toolbar_vertical")] } });
                        }
                        vd.prototype.render = function () { };
                        vd.prototype.destroy = function () { };
                        return vd;
                    }());
                    var yd = /** @class */ (function () {
                        function yd(t) {
                            var _this = this;
                            this.viewChildren = t.children, this.viewFocusables = t.focusables, this.viewItemsView = t.itemsView, this.viewFocusTracker = t.focusTracker, this.viewLocale = t.locale, this.ungroupedItems = t.createCollection(), this.groupedItems = t.createCollection(), this.groupedItemsDropdown = this._createGroupedItemsDropdown(), this.resizeObserver = null, this.cachedPadding = null, t.itemsView.children.bindTo(this.ungroupedItems).using(function (t) { return t; }), this.ungroupedItems.on("add", this._updateFocusCycleableItems.bind(this)), this.ungroupedItems.on("remove", this._updateFocusCycleableItems.bind(this)), t.children.on("add", this._updateFocusCycleableItems.bind(this)), t.children.on("remove", this._updateFocusCycleableItems.bind(this)), t.items.on("add", function (t, e, n) { n > _this.ungroupedItems.length ? _this.groupedItems.add(e, n - _this.ungroupedItems.length) : _this.ungroupedItems.add(e, n), _this._updateGrouping(); }), t.items.on("remove", function (t, e, n) { n > _this.ungroupedItems.length ? _this.groupedItems.remove(e) : _this.ungroupedItems.remove(e), _this._updateGrouping(); }), t.extendTemplate({ attributes: { class: ["ck-toolbar_grouping"] } });
                        }
                        yd.prototype.render = function (t) { this.viewElement = t.element, this._enableGroupingOnResize(); };
                        yd.prototype.destroy = function () { this.groupedItemsDropdown.destroy(), this.resizeObserver.disconnect(); };
                        yd.prototype._updateGrouping = function () { if (!this.viewElement.ownerDocument.body.contains(this.viewElement))
                            return; var t; for (; this._areItemsOverflowing;)
                            this._groupLastItem(), t = !0; if (!t && this.groupedItems.length) {
                            for (; this.groupedItems.length && !this._areItemsOverflowing;)
                                this._ungroupFirstItem();
                            this._areItemsOverflowing && this._groupLastItem();
                        } };
                        Object.defineProperty(yd.prototype, "_areItemsOverflowing", {
                            get: function () { if (!this.ungroupedItems.length)
                                return !1; var t = this.viewElement, e = this.viewLocale.uiLanguageDirection, n = new Ts(t.lastChild), i = new Ts(t); if (!this.cachedPadding) {
                                var n_194 = er.window.getComputedStyle(t), i_108 = "ltr" === e ? "paddingRight" : "paddingLeft";
                                this.cachedPadding = Number.parseInt(n_194[i_108]);
                            } return "ltr" === e ? n.right > i.right - this.cachedPadding : n.left < i.left + this.cachedPadding; },
                            enumerable: true,
                            configurable: true
                        });
                        yd.prototype._enableGroupingOnResize = function () {
                            var _this = this;
                            var t;
                            this.resizeObserver = function (t) { return "function" == typeof er.window.ResizeObserver ? new er.window.ResizeObserver(t) : new Jl(t); }(function (_j) {
                                var _q = __read(_j, 1), e = _q[0];
                                t && t === e.contentRect.width || (_this._updateGrouping(), t = e.contentRect.width);
                            }), this.resizeObserver.observe(this.viewElement), this._updateGrouping();
                        };
                        yd.prototype._groupLastItem = function () { this.groupedItems.length || (this.viewChildren.add(new Kl), this.viewChildren.add(this.groupedItemsDropdown), this.viewFocusTracker.add(this.groupedItemsDropdown.element)), this.groupedItems.add(this.ungroupedItems.remove(this.ungroupedItems.last), 0); };
                        yd.prototype._ungroupFirstItem = function () { this.ungroupedItems.add(this.groupedItems.remove(this.groupedItems.first)), this.groupedItems.length || (this.viewChildren.remove(this.groupedItemsDropdown), this.viewChildren.remove(this.viewChildren.last), this.viewFocusTracker.remove(this.groupedItemsDropdown.element)); };
                        yd.prototype._createGroupedItemsDropdown = function () { var t = this.viewLocale, e = t.t, n = fd(t); return n.class = "ck-toolbar__grouped-dropdown", n.panelPosition = "ltr" === t.uiLanguageDirection ? "sw" : "se", pd(n, []), n.buttonView.set({ label: e("cf"), tooltip: !0, icon: kd.a }), n.toolbarView.items.bindTo(this.groupedItems).using(function (t) { return t; }), n; };
                        yd.prototype._updateFocusCycleableItems = function () {
                            var _this = this;
                            this.viewFocusables.clear(), this.ungroupedItems.map(function (t) { _this.viewFocusables.add(t); }), this.groupedItems.length && this.viewFocusables.add(this.groupedItemsDropdown);
                        };
                        return yd;
                    }());
                    n(97);
                    var Cd = /** @class */ (function (_super) {
                        __extends(Cd, _super);
                        function Cd(t, e, n) {
                            if (n === void 0) { n = {}; }
                            var _this = this;
                            _this = _super.call(this, t) || this, _this.stickyPanel = new Yl(t), _this.toolbar = new wd(t, { shouldGroupWhenFull: n.shouldToolbarGroupWhenFull }), _this.editable = new Ul(t, e);
                            return _this;
                        }
                        Cd.prototype.render = function () { _super.prototype.render.call(this), this.stickyPanel.content.add(this.toolbar), this.top.add(this.stickyPanel), this.main.add(this.editable); };
                        return Cd;
                    }(Bl));
                    var Td = /** @class */ (function (_super) {
                        __extends(Td, _super);
                        function Td(t, e) {
                            var _this = this;
                            _this = _super.call(this, e) || this, qn(t) && (_this.sourceElement = t), _this.data.processor = new sl, _this.model.document.createRoot();
                            var n = !_this.config.get("toolbar.shouldNotGroupWhenFull"), i = new Cd(_this.locale, _this.editing.view, { shouldToolbarGroupWhenFull: n });
                            _this.ui = new xl(_this, i), function (t) { if (!q(t.updateSourceElement))
                                throw new Gn.b("attachtoform-missing-elementapi-interface: Editor passed to attachToForm() must implement ElementApi.", t); var e = t.sourceElement; if (e && "textarea" === e.tagName.toLowerCase() && e.form) {
                                var n_195;
                                var i_109 = e.form, o_65 = function () { return t.updateSourceElement(); };
                                q(i_109.submit) && (n_195 = i_109.submit, i_109.submit = (function () { o_65(), n_195.apply(i_109); })), i_109.addEventListener("submit", o_65), t.on("destroy", function () { i_109.removeEventListener("submit", o_65), n_195 && (i_109.submit = n_195); });
                            } }(_this);
                            return _this;
                        }
                        Td.prototype.destroy = function () { return this.sourceElement && this.updateSourceElement(), this.ui.destroy(), _super.prototype.destroy.call(this); };
                        Td.create = function (t, e) {
                            var _this = this;
                            if (e === void 0) { e = {}; }
                            return new Promise(function (n) { var i = new _this(t, e); n(i.initPlugins().then(function () { return i.ui.init(qn(t) ? t : null); }).then(function () { if (!qn(t) && e.initialData)
                                throw new Gn.b("editor-create-initial-data: The config.initialData option cannot be used together with initial data passed in Editor.create().", null); var n = e.initialData || function (t) { return qn(t) ? function (t) { return t instanceof HTMLTextAreaElement ? t.value : t.innerHTML; }(t) : t; }(t); return i.data.init(n); }).then(function () { return i.fire("ready"); }).then(function () { return i; })); });
                        };
                        return Td;
                    }(nl));
                    ci(Td, il), ci(Td, ol);
                    var Ad = /** @class */ (function () {
                        function Ad(t) {
                            this.editor = t;
                        }
                        Ad.prototype.destroy = function () { this.stopListening(); };
                        return Ad;
                    }());
                    ci(Ad, Bi);
                    var Sd = /** @class */ (function (_super) {
                        __extends(Sd, _super);
                        function Sd() {
                            return _super !== null && _super.apply(this, arguments) || this;
                        }
                        Object.defineProperty(Sd, "pluginName", {
                            get: function () { return "PendingActions"; },
                            enumerable: true,
                            configurable: true
                        });
                        Sd.prototype.init = function () { this.set("hasAny", !1), this._actions = new oo({ idProperty: "_id" }), this._actions.delegate("add", "remove").to(this); };
                        Sd.prototype.add = function (t) { if ("string" != typeof t)
                            throw new Gn.b("pendingactions-add-invalid-message: The message must be a string.", this); var e = Object.create(Bi); return e.set("message", t), this._actions.add(e), this.hasAny = !0, e; };
                        Sd.prototype.remove = function (t) { this._actions.remove(t), this.hasAny = !!this._actions.length; };
                        Object.defineProperty(Sd.prototype, "first", {
                            get: function () { return this._actions.get(0); },
                            enumerable: true,
                            configurable: true
                        });
                        Sd.prototype[Symbol.iterator] = function () { return this._actions[Symbol.iterator](); };
                        return Sd;
                    }(Ad));
                    var Pd = /** @class */ (function () {
                        function Pd(t) {
                            var _this = this;
                            this.editor = t, this.set("value", void 0), this.set("isEnabled", !1), this._disableStack = new Set, this.decorate("execute"), this.listenTo(this.editor.model.document, "change", function () { _this.refresh(); }), this.on("execute", function (t) { _this.isEnabled || t.stop(); }, { priority: "high" }), this.listenTo(t, "change:isReadOnly", function (t, e, n) { n ? _this.forceDisabled("readOnlyMode") : _this.clearForceDisabled("readOnlyMode"); });
                        }
                        Pd.prototype.refresh = function () { this.isEnabled = !0; };
                        Pd.prototype.forceDisabled = function (t) { this._disableStack.add(t), 1 == this._disableStack.size && (this.on("set:isEnabled", Md, { priority: "highest" }), this.isEnabled = !1); };
                        Pd.prototype.clearForceDisabled = function (t) { this._disableStack.delete(t), 0 == this._disableStack.size && (this.off("set:isEnabled", Md), this.refresh()); };
                        Pd.prototype.execute = function () { };
                        Pd.prototype.destroy = function () { this.stopListening(); };
                        return Pd;
                    }());
                    function Md(t) { t.return = !1, t.stop(); }
                    ci(Pd, Bi);
                    var Ed = ["isCollapsed", "execute", "change", "addMarker", "getFirstRange", "editor", "model", "document", "selection", "isEnabled"];
                    !function (t, e) { !function (e) { for (; --e;)
                        t.push(t.shift()); }(++e); }(Ed, 425);
                    var Id = function (t, e) { return Ed[t -= 0]; };
                    var Nd = /** @class */ (function (_super) {
                        __extends(Nd, _super);
                        function Nd() {
                            return _super !== null && _super.apply(this, arguments) || this;
                        }
                        Nd.prototype.refresh = function () { var t = this[Id("0x0")][Id("0x1")][Id("0x2")][Id("0x3")]; this[Id("0x4")] = !t[Id("0x5")]; };
                        Nd.prototype[Id("0x6")] = function (_j) {
                            var _q = (_j === void 0 ? {} : _j).threadId, t = _q === void 0 ? Jn() : _q;
                            var e = this[Id("0x0")][Id("0x1")];
                            e[Id("0x7")](function (n) { n[Id("0x8")]("comment:" + t, { range: e.document[Id("0x3")][Id("0x9")](), usingOperation: !1, affectData: !1 }); });
                        };
                        return Nd;
                    }(Pd));
                    var Rd = ["comment:", "removeMarker", "execute", "markers"];
                    !function (t, e) { !function (e) { for (; --e;)
                        t.push(t.shift()); }(++e); }(Rd, 150);
                    var Od = function (t, e) { return Rd[t -= 0]; };
                    var Dd = /** @class */ (function (_super) {
                        __extends(Dd, _super);
                        function Dd() {
                            return _super !== null && _super.apply(this, arguments) || this;
                        }
                        Dd.prototype[Od("0x0")] = function (_j) {
                            var t = _j.threadId;
                            var e = this.editor.model, n = e[Od("0x1")].get(Od("0x2") + t);
                            n && e.change(function (t) { t[Od("0x3")](n); });
                        };
                        return Dd;
                    }(Pd));
                    var Ld = ["length", "change", "updateMarker", "adapter", "addComment", "pendingComments", "set", "then", "remove", "adapter-", "createdAt", "updateComment", "catch", "error", "addcommentcommand-internal-error: Adding comment threw an error.", "resolve", "author", "editor", "model", "threads", "get", "markers"];
                    !function (t, e) { !function (e) { for (; --e;)
                        t.push(t.shift()); }(++e); }(Ld, 302);
                    var Vd = function (t, e) { return Ld[t -= 0]; };
                    var zd = /** @class */ (function (_super) {
                        __extends(zd, _super);
                        function zd(t, e, n) {
                            var _this = this;
                            _this = _super.call(this, t) || this, _this.$ = e, _this.O = n;
                            return _this;
                        }
                        Object.defineProperty(zd.prototype, Vd("0x0"), {
                            get: function () { return this.O.me; },
                            enumerable: true,
                            configurable: true
                        });
                        zd.prototype.execute = function (_j) {
                            var _this = this;
                            var t = _j.threadId, _q = _j.commentId, e = _q === void 0 ? Jn() : _q, n = _j.content;
                            var i = this[Vd("0x1")][Vd("0x2")], o = this.$, r = o[Vd("0x3")][Vd("0x4")](t);
                            o.addComment({ threadId: t, commentId: e, content: n, authorId: this.author.id, createdAt: new Date });
                            var s = i[Vd("0x5")][Vd("0x4")]("comment:" + t);
                            return s && 1 === r[Vd("0x6")] && i[Vd("0x7")](function (t) { t[Vd("0x8")](s, { usingOperation: !0, affectsData: !0 }); }), o[Vd("0x9")] && "function" == typeof o[Vd("0x9")][Vd("0xa")] ? (o[Vd("0xb")][Vd("0xc")]("adapter-" + e), o[Vd("0x9")][Vd("0xa")]({ threadId: t, commentId: e, content: n })[Vd("0xd")](function (n) { o[Vd("0xb")][Vd("0xe")](Vd("0xf") + e), n && n[Vd("0x10")] && o[Vd("0x11")]({ threadId: t, commentId: e, createdAt: n[Vd("0x10")] }); })[Vd("0x12")](function (t) { throw console[Vd("0x13")](t), new Gn.b(Vd("0x14"), _this); })) : Promise[Vd("0x15")]();
                        };
                        return zd;
                    }(Pd));
                    var jd = ["remove", "catch", "error", "updatecommentcommand-internal-error: Updating comment resulted in an error", "execute", "_commentIdToThreadId", "get", "updateComment", "adapter", "function", "pendingComments", "adapter-", "then"];
                    !function (t, e) { !function (e) { for (; --e;)
                        t.push(t.shift()); }(++e); }(jd, 212);
                    var Fd = function (t, e) { return jd[t -= 0]; };
                    var Bd = /** @class */ (function (_super) {
                        __extends(Bd, _super);
                        function Bd(t, e, n) {
                            var _this = this;
                            _this = _super.call(this, t) || this, _this.$ = e, _this.O = n;
                            return _this;
                        }
                        Bd.prototype[Fd("0x0")] = function (_j) {
                            var _this = this;
                            var t = _j.commentId, e = _j.content;
                            var n = this.$, i = n[Fd("0x1")][Fd("0x2")](t);
                            return n[Fd("0x3")]({ commentId: t, content: e }), n[Fd("0x4")] && Fd("0x5") == typeof n.adapter.updateComment ? (n[Fd("0x6")].set(Fd("0x7") + t), n[Fd("0x4")][Fd("0x3")]({ threadId: i, commentId: t, content: e })[Fd("0x8")](function () { return n[Fd("0x6")][Fd("0x9")](Fd("0x7") + t); })[Fd("0xa")](function (t) { throw console[Fd("0xb")](t), new Gn.b(Fd("0xc"), _this); })) : Promise.resolve();
                        };
                        Bd.prototype.isEnabledForComment = function (t) { return this.O.me === t.author; };
                        return Bd;
                    }(Pd));
                    var Hd = ["remove", "catch", "error", "resolve", "isEnabledForComment", "author", "_commentIdToThreadId", "get", "function", "removeComment", "pendingComments", "adapter-", "adapter"];
                    !function (t, e) { !function (e) { for (; --e;)
                        t.push(t.shift()); }(++e); }(Hd, 201);
                    var Ud = function (t, e) { return Hd[t -= 0]; };
                    var Wd = /** @class */ (function (_super) {
                        __extends(Wd, _super);
                        function Wd(t, e, n) {
                            var _this = this;
                            _this = _super.call(this, t) || this, _this.$ = e, _this.O = n;
                            return _this;
                        }
                        Wd.prototype.execute = function (_j) {
                            var _this = this;
                            var t = _j.commentId;
                            var e = this.$, n = e[Ud("0x0")][Ud("0x1")](t);
                            return e.removeComment(t), e.adapter && Ud("0x2") == typeof e.adapter[Ud("0x3")] ? (e[Ud("0x4")].set(Ud("0x5") + t), e[Ud("0x6")][Ud("0x3")]({ threadId: n, commentId: t }).then(function () { return e[Ud("0x4")][Ud("0x7")](Ud("0x5") + t); })[Ud("0x8")](function (t) { throw console[Ud("0x9")](t), new Gn.b("removecommentcommand-internal-error: Removing comment error.", _this); })) : Promise[Ud("0xa")]();
                        };
                        Wd.prototype[Ud("0xb")] = function (t) { return this.O.me === t[Ud("0xc")]; };
                        return Wd;
                    }(Pd));
                    n(99);
                    var qd = ["user-invalid-id: The ID must be a string.", "color", "trim", "name", "avatar", "isAnonymous", "Anonymous", "map", "charAt", "join", "toUpperCase", "ck-user__bg-color--", "getSelectionClass", "ck-user__selection--", "getMarkerClass", "ck-user__marker--", "pluginName", "Users", "getOperationAuthor", "config", "get", "users.colorsCount", "init", "editor", "users", "licenseKey", "licenseKeyTrial", "licenseKeyInvalid", "licenseKeyValid", "info", "You are using the trial version of CKEditor 5 collaboration plugin with limited usage. Make sure you will not use it in the production environment.", "licenseKeyTrialLimit", "trial-license-key-reached-limit: You have exhausted the trial usage limit. You need to restart the editor now. Please contact our customer support to get a full access at https://ckeditor.com/contact/.", "addUser", "add", "getUser", "defineMe", "users-me-already-defined: Cannot add a local user more than once.", "warn", "anonymous-user", "isReadOnly", "destroy", "string"];
                    !function (t, e) { !function (e) { for (; --e;)
                        t.push(t.shift()); }(++e); }(qd, 317);
                    var Yd = function (t, e) { return qd[t -= 0]; };
                    var $d = /** @class */ (function (_super) {
                        __extends($d, _super);
                        function $d(t) {
                            var _this = this;
                            _this = _super.call(this, t) || this, _this.s = null, _this.decorate(Yd("0x2")), _this.i = t[Yd("0x3")][Yd("0x4")](Yd("0x5")) || 8;
                            return _this;
                        }
                        Object.defineProperty($d, Yd("0x0"), {
                            get: function () { return Yd("0x1"); },
                            enumerable: true,
                            configurable: true
                        });
                        $d.prototype[Yd("0x6")] = function () {
                            var _this = this;
                            var t = this[Yd("0x7")];
                            this[Yd("0x8")] = new oo, this.o = 0, this.licenseKey = t[Yd("0x3")][Yd("0x4")](Yd("0x9"));
                            var e = !1;
                            this.s = setInterval(function () { var n; for (var e_501 in t) {
                                var i_110 = t[e_501];
                                Yd("0xa") !== i_110 && Yd("0xb") !== i_110 && Yd("0xc") !== i_110 || (n = i_110);
                            } if (Yd("0xb") === n)
                                throw _this.l(), new Gn.b("invalid-license-key: Invalid license key. Please contact our customer support at https://ckeditor.com/contact/.", null); if (Yd("0xa") !== n)
                                n && clearInterval(_this.s);
                            else {
                                e || (console[Yd("0xd")](Yd("0xe")), e = !0);
                                for (var e_502 in t)
                                    if (Yd("0xf") === t[e_502])
                                        throw _this.l(), new Gn.b(Yd("0x10"), null);
                            } }, 2e3);
                        };
                        $d.prototype[Yd("0x11")] = function (t) { t = Object.assign({}, t, { color: this.u() }); var e = new Gd(t, this[Yd("0x7")]); return this.users[Yd("0x12")](e), e; };
                        $d.prototype[Yd("0x13")] = function (t) { return this.users[Yd("0x4")](t); };
                        $d.prototype[Yd("0x14")] = function (t) { if (this.h)
                            throw new Gn.b(Yd("0x15"), null); if (!this[Yd("0x13")](t))
                            throw new Gn.b("users-me-missing-user: Cannot add an undefined user as a local user.", null); this.h = t; };
                        Object.defineProperty($d.prototype, "me", {
                            get: function () { if (!this.h) {
                                console[Yd("0x16")](Object(Gn.a)("users-me-not-defined: Local user is not defined."));
                                var t_248 = Yd("0x17");
                                this[Yd("0x11")]({ name: "", id: t_248 }), this[Yd("0x14")](t_248);
                            } return this.getUser(this.h); },
                            enumerable: true,
                            configurable: true
                        });
                        $d.prototype[Yd("0x2")] = function () { return this.me; };
                        $d.prototype.u = function () { return this.o >= this.i && (this.o = 0), new Kd(this.o++); };
                        $d.prototype.l = function () { clearInterval(this.s), this[Yd("0x7")][Yd("0x18")] = !0; };
                        $d.prototype.destroy = function () { _super.prototype[Yd("0x19")].call(this), clearInterval(this.s); };
                        return $d;
                    }(Ad));
                    var Gd = /** @class */ (function () {
                        function Gd(t, e) {
                            if (!t.id || Yd("0x1a") != typeof t.id)
                                throw new Gn.b(Yd("0x1b"), e);
                            this.id = t.id, this[Yd("0x1c")] = t[Yd("0x1c")], this.name = function (t) {
                                if (t === void 0) { t = ""; }
                                return 0 === t[Yd("0x1d")]().length ? "Anonymous" : t[Yd("0x1d")]();
                            }(t[Yd("0x1e")]), this[Yd("0x1f")] = t.avatar;
                        }
                        Object.defineProperty(Gd.prototype, Yd("0x20"), {
                            get: function () { return Yd("0x21") == this[Yd("0x1e")]; },
                            enumerable: true,
                            configurable: true
                        });
                        Object.defineProperty(Gd.prototype, "initials", {
                            get: function () { return this.name.split(" ")[Yd("0x22")](function (t) { return t[Yd("0x23")](0); }).slice(0, 2)[Yd("0x24")]("")[Yd("0x25")](); },
                            enumerable: true,
                            configurable: true
                        });
                        return Gd;
                    }());
                    var Kd = /** @class */ (function () {
                        function Kd(t) {
                            this.m = t;
                        }
                        Kd.prototype.getBackgroundColorClass = function () { return Yd("0x26") + this.m; };
                        Kd.prototype[Yd("0x27")] = function () { return Yd("0x28") + this.m; };
                        Kd.prototype[Yd("0x29")] = function () { return Yd("0x2a") + this.m; };
                        return Kd;
                    }());
                    n(101);
                    var Qd = ["CommentsEditing", "threads", "set", "activeMarker", "change:activeMarker", "model", "change", "markers", "has", "updateMarker", "_isThreadsLoadingPaused", "data", "once", "ready", "_commentIdToThreadId", "pendingComments", "plugins", "get", "init", "editor", "replace", "test", "length", "charAt", "indexOf", "fromCharCode", "from", "charCodeAt", "pop", "push", "slice", "substring", "map", "join", "isDocumentOperation", "config", "off", "add", "addCommentThread", "removeCommentThread", "commands", "removeComment", "adapter", "commentsediting-adapter-already-set: Cannot set adapter more than once.", "string", "commentthread-invalid-id: CommentThread id has to be a string.", "assign", "addComment", "commentsediting-invalid-comment-id: Comment id has to be a string.", "commentsediting-invalid-comment-authorId: Comment author id is required and has to be a string.", "trim", "commentsediting-invalid-content: Comment content has to be a string.", "getUser", "commentsediting-user-not-exists: Comment author is not defined in Users plugin.", "updateComment", "commentsediting-missing-comment: Cannot update not existing Comment.", "content", "createdAt", "remove", "delete", "resolve", '" id is not added to the editor nor adapter is defined.', "function", "getCommentThread", "commentsediting-missing-thread-and-adapter-method: ", 'Comment thread with "', "then", "catch", "error", "commentsEditing-getCommentThread: Comments editing - getting a comment thread failed.", "getCommentThreads", "find", "name", "includes", "conversion", "for", "markerToHighlight", "comment", "markerName", "ck-comment-marker--active", "dataDowncast", "isOpening", "start", "end", "elementToMarker", "registerPostFixer", "document", "_changedMarkers", "newRange", "root", "rootName", "isEqual", "hasContent", "removeMarker", "change:_isThreadsLoadingPaused", "update:comment", "fire", "threadUnloaded", "managedUsingOperations", "_getCommentThread", "destroyed", "state", "threadLoaded", "split", "schema", "createRange", "getWalker", "text", "createPositionBefore", "isCollapsed", "listenTo", "getIndex", "stopListening", "destroy", "getTime", "toJSON", "author", "size", "iterator", "values", "pluginName"];
                    !function (t, e) { !function (e) { for (; --e;)
                        t.push(t.shift()); }(++e); }(Qd, 241);
                    var Jd = function (t, e) { return Qd[t -= 0]; };
                    var Zd = /** @class */ (function (_super) {
                        __extends(Zd, _super);
                        function Zd(t) {
                            var _this = this;
                            _this = _super.call(this, t) || this, _this[Jd("0x2")] = new oo, _this[Jd("0x3")](Jd("0x4"), null), _this.on(Jd("0x5"), function (e, n, i, o) { t[Jd("0x6")][Jd("0x7")](function (e) { t[Jd("0x6")][Jd("0x8")][Jd("0x9")](i) && e[Jd("0xa")](i), t[Jd("0x6")].markers[Jd("0x9")](o) && e[Jd("0xa")](o); }); }), _this[Jd("0x3")](Jd("0xb"), !0), t[Jd("0xc")][Jd("0xd")](Jd("0xe"), function () { return _this._isThreadsLoadingPaused = !1; }), _this[Jd("0xf")] = new Map, _this[Jd("0x10")] = new iu(t[Jd("0x11")][Jd("0x12")](Sd));
                            return _this;
                        }
                        Object.defineProperty(Zd, "requires", {
                            get: function () { return [$d, Sd]; },
                            enumerable: true,
                            configurable: true
                        });
                        Object.defineProperty(Zd, Jd("0x0"), {
                            get: function () { return Jd("0x1"); },
                            enumerable: true,
                            configurable: true
                        });
                        Zd.prototype[Jd("0x13")] = function () { var t = this[Jd("0x14")]; !function (t) { var e = [1, 85, 78, 115, 198, 255, 50, 112, 83, 87, 161], n = c([52, 48, 51, 56, 50, 52, 48, 56]), i = [127, 34, 6, 211, 167, 86, 146, 199, 132, 160, 18], o = c([65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84, 85, 86, 87, 88, 89, 90, 97, 98, 99, 100, 101, 102, 103, 104, 105, 106, 107, 108, 109, 110, 111, 112, 113, 114, 115, 116, 117, 118, 119, 120, 121, 122, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57]); function r(r) { if (t[c([112, 108, 117, 103, 105, 110, 115])][c([104, 97, 115])](c([82, 101, 97, 108, 84, 105, 109, 101, 67, 111, 108, 108, 97, 98, 111, 114, 97, 116, 105, 111, 110, 67, 108, 105, 101, 110, 116]))) {
                            var e_503 = t[c([112, 108, 117, 103, 105, 110, 115])][c([103, 101, 116])](c([82, 101, 97, 108, 84, 105, 109, 101, 67, 111, 108, 108, 97, 98, 111, 114, 97, 116, 105, 111, 110, 67, 108, 105, 101, 110, 116]));
                            if (typeof e_503[c([95, 115, 97, 118, 101, 79, 112, 101, 114, 97, 116, 105, 111, 110, 73, 110, 66, 117, 102, 102, 101, 114])] == c([102, 117, 110, 99, 116, 105, 111, 110]) && e_503[c([95, 115, 97, 118, 101, 79, 112, 101, 114, 97, 116, 105, 111, 110, 73, 110, 66, 117, 102, 102, 101, 114])](c([115, 101, 108, 101, 99, 116, 105, 111, 110])) == c([99, 104, 97, 110, 103, 101, 100]))
                                return s(c([108, 105, 99, 101, 110, 115, 101, 75, 101, 121, 86, 97, 108, 105, 100]));
                        } try {
                            var l_1 = function (t, e) { var n = function (t) { var e = o + c([43, 47, 61]); if (t = String(t)[Jd("0x15")](/[\t\n\f\r ]+/g, ""), !/^(?:[A-Za-z\d+\/]{4})*?(?:[A-Za-z\d+\/]{2}(?:==)?|[A-Za-z\d+\/]{3}=?)?$/[Jd("0x16")](t))
                                throw new TypeError(c([70, 97, 105, 108, 101, 100, 32, 116, 111, 32, 112, 97, 114, 115, 101, 32, 98, 97, 115, 101, 54, 52, 32, 116, 111, 32, 115, 116, 114, 105, 110, 103, 46])); t += c([61, 61]).slice(2 - (3 & t[Jd("0x17")])); var n, i, r, s = ""; for (var o_66 = 0; o_66 < t[Jd("0x17")];)
                                n = e.indexOf(t[Jd("0x18")](o_66++)) << 18 | e[Jd("0x19")](t[Jd("0x18")](o_66++)) << 12 | (i = e[Jd("0x19")](t[Jd("0x18")](o_66++))) << 6 | (r = e[Jd("0x19")](t[Jd("0x18")](o_66++))), s += 64 === i ? String[Jd("0x1a")](n >> 16 & 255) : 64 === r ? String.fromCharCode(n >> 16 & 255, n >> 8 & 255) : String[Jd("0x1a")](n >> 16 & 255, n >> 8 & 255, 255 & n); return s; }(t), i = Array[Jd("0x1b")](function (t) { var e = new Uint8Array(t[Jd("0x17")]); for (var n_196 = 0; n_196 < t.length; n_196++)
                                e[n_196] = t[Jd("0x1c")](n_196); return e; }(n)), r = i[Jd("0x1d")](); return function (t) {
                                var e_504, _j;
                                var e = "";
                                try {
                                    for (var t_249 = __values(t), t_249_1 = t_249.next(); !t_249_1.done; t_249_1 = t_249.next()) {
                                        var n_197 = t_249_1.value;
                                        e += String[Jd("0x1a")](n_197);
                                    }
                                }
                                catch (e_504_1) { e_504 = { error: e_504_1 }; }
                                finally {
                                    try {
                                        if (t_249_1 && !t_249_1.done && (_j = t_249.return)) _j.call(t_249);
                                    }
                                    finally { if (e_504) throw e_504.error; }
                                }
                                return e;
                            }(function (t, e, n) { var i = {}; i[c([110, 117, 109, 98, 101, 114, 79, 102, 82, 111, 117, 110, 100, 115])] = { 16: 10, 24: 12, 32: 14 }, i[c([114, 99, 111, 110])] = [1, 2, 4, 8, 16, 32, 64, 128, 27, 54, 108, 216, 171, 77, 154, 47, 94, 188, 99, 198, 151, 53, 106, 212, 179, 125, 250, 239, 197, 145], i[c([83])] = [99, 124, 119, 123, 242, 107, 111, 197, 48, 1, 103, 43, 254, 215, 171, 118, 202, 130, 201, 125, 250, 89, 71, 240, 173, 212, 162, 175, 156, 164, 114, 192, 183, 253, 147, 38, 54, 63, 247, 204, 52, 165, 229, 241, 113, 216, 49, 21, 4, 199, 35, 195, 24, 150, 5, 154, 7, 18, 128, 226, 235, 39, 178, 117, 9, 131, 44, 26, 27, 110, 90, 160, 82, 59, 214, 179, 41, 227, 47, 132, 83, 209, 0, 237, 32, 252, 177, 91, 106, 203, 190, 57, 74, 76, 88, 207, 208, 239, 170, 251, 67, 77, 51, 133, 69, 249, 2, 127, 80, 60, 159, 168, 81, 163, 64, 143, 146, 157, 56, 245, 188, 182, 218, 33, 16, 255, 243, 210, 205, 12, 19, 236, 95, 151, 68, 23, 196, 167, 126, 61, 100, 93, 25, 115, 96, 129, 79, 220, 34, 42, 144, 136, 70, 238, 184, 20, 222, 94, 11, 219, 224, 50, 58, 10, 73, 6, 36, 92, 194, 211, 172, 98, 145, 149, 228, 121, 231, 200, 55, 109, 141, 213, 78, 169, 108, 86, 244, 234, 101, 122, 174, 8, 186, 120, 37, 46, 28, 166, 180, 198, 232, 221, 116, 31, 75, 189, 139, 138, 112, 62, 181, 102, 72, 3, 246, 14, 97, 53, 87, 185, 134, 193, 29, 158, 225, 248, 152, 17, 105, 217, 142, 148, 155, 30, 135, 233, 206, 85, 40, 223, 140, 161, 137, 13, 191, 230, 66, 104, 65, 153, 45, 15, 176, 84, 187, 22], i[c([84, 49])] = [3328402341, 4168907908, 4000806809, 4135287693, 4294111757, 3597364157, 3731845041, 2445657428, 1613770832, 33620227, 3462883241, 1445669757, 3892248089, 3050821474, 1303096294, 3967186586, 2412431941, 528646813, 2311702848, 4202528135, 4026202645, 2992200171, 2387036105, 4226871307, 1101901292, 3017069671, 1604494077, 1169141738, 597466303, 1403299063, 3832705686, 2613100635, 1974974402, 3791519004, 1033081774, 1277568618, 1815492186, 2118074177, 4126668546, 2211236943, 1748251740, 1369810420, 3521504564, 4193382664, 3799085459, 2883115123, 1647391059, 706024767, 134480908, 2512897874, 1176707941, 2646852446, 806885416, 932615841, 168101135, 798661301, 235341577, 605164086, 461406363, 3756188221, 3454790438, 1311188841, 2142417613, 3933566367, 302582043, 495158174, 1479289972, 874125870, 907746093, 3698224818, 3025820398, 1537253627, 2756858614, 1983593293, 3084310113, 2108928974, 1378429307, 3722699582, 1580150641, 327451799, 2790478837, 3117535592, 0, 3253595436, 1075847264, 3825007647, 2041688520, 3059440621, 3563743934, 2378943302, 1740553945, 1916352843, 2487896798, 2555137236, 2958579944, 2244988746, 3151024235, 3320835882, 1336584933, 3992714006, 2252555205, 2588757463, 1714631509, 293963156, 2319795663, 3925473552, 67240454, 4269768577, 2689618160, 2017213508, 631218106, 1269344483, 2723238387, 1571005438, 2151694528, 93294474, 1066570413, 563977660, 1882732616, 4059428100, 1673313503, 2008463041, 2950355573, 1109467491, 537923632, 3858759450, 4260623118, 3218264685, 2177748300, 403442708, 638784309, 3287084079, 3193921505, 899127202, 2286175436, 773265209, 2479146071, 1437050866, 4236148354, 2050833735, 3362022572, 3126681063, 840505643, 3866325909, 3227541664, 427917720, 2655997905, 2749160575, 1143087718, 1412049534, 999329963, 193497219, 2353415882, 3354324521, 1807268051, 672404540, 2816401017, 3160301282, 369822493, 2916866934, 3688947771, 1681011286, 1949973070, 336202270, 2454276571, 201721354, 1210328172, 3093060836, 2680341085, 3184776046, 1135389935, 3294782118, 965841320, 831886756, 3554993207, 4068047243, 3588745010, 2345191491, 1849112409, 3664604599, 26054028, 2983581028, 2622377682, 1235855840, 3630984372, 2891339514, 4092916743, 3488279077, 3395642799, 4101667470, 1202630377, 268961816, 1874508501, 4034427016, 1243948399, 1546530418, 941366308, 1470539505, 1941222599, 2546386513, 3421038627, 2715671932, 3899946140, 1042226977, 2521517021, 1639824860, 227249030, 260737669, 3765465232, 2084453954, 1907733956, 3429263018, 2420656344, 100860677, 4160157185, 470683154, 3261161891, 1781871967, 2924959737, 1773779408, 394692241, 2579611992, 974986535, 664706745, 3655459128, 3958962195, 731420851, 571543859, 3530123707, 2849626480, 126783113, 865375399, 765172662, 1008606754, 361203602, 3387549984, 2278477385, 2857719295, 1344809080, 2782912378, 59542671, 1503764984, 160008576, 437062935, 1707065306, 3622233649, 2218934982, 3496503480, 2185314755, 697932208, 1512910199, 504303377, 2075177163, 2824099068, 1841019862, 739644986], i[c([84, 50])] = [2781242211, 2230877308, 2582542199, 2381740923, 234877682, 3184946027, 2984144751, 1418839493, 1348481072, 50462977, 2848876391, 2102799147, 434634494, 1656084439, 3863849899, 2599188086, 1167051466, 2636087938, 1082771913, 2281340285, 368048890, 3954334041, 3381544775, 201060592, 3963727277, 1739838676, 4250903202, 3930435503, 3206782108, 4149453988, 2531553906, 1536934080, 3262494647, 484572669, 2923271059, 1783375398, 1517041206, 1098792767, 49674231, 1334037708, 1550332980, 4098991525, 886171109, 150598129, 2481090929, 1940642008, 1398944049, 1059722517, 201851908, 1385547719, 1699095331, 1587397571, 674240536, 2704774806, 252314885, 3039795866, 151914247, 908333586, 2602270848, 1038082786, 651029483, 1766729511, 3447698098, 2682942837, 454166793, 2652734339, 1951935532, 775166490, 758520603, 3000790638, 4004797018, 4217086112, 4137964114, 1299594043, 1639438038, 3464344499, 2068982057, 1054729187, 1901997871, 2534638724, 4121318227, 1757008337, 0, 750906861, 1614815264, 535035132, 3363418545, 3988151131, 3201591914, 1183697867, 3647454910, 1265776953, 3734260298, 3566750796, 3903871064, 1250283471, 1807470800, 717615087, 3847203498, 384695291, 3313910595, 3617213773, 1432761139, 2484176261, 3481945413, 283769337, 100925954, 2180939647, 4037038160, 1148730428, 3123027871, 3813386408, 4087501137, 4267549603, 3229630528, 2315620239, 2906624658, 3156319645, 1215313976, 82966005, 3747855548, 3245848246, 1974459098, 1665278241, 807407632, 451280895, 251524083, 1841287890, 1283575245, 337120268, 891687699, 801369324, 3787349855, 2721421207, 3431482436, 959321879, 1469301956, 4065699751, 2197585534, 1199193405, 2898814052, 3887750493, 724703513, 2514908019, 2696962144, 2551808385, 3516813135, 2141445340, 1715741218, 2119445034, 2872807568, 2198571144, 3398190662, 700968686, 3547052216, 1009259540, 2041044702, 3803995742, 487983883, 1991105499, 1004265696, 1449407026, 1316239930, 504629770, 3683797321, 168560134, 1816667172, 3837287516, 1570751170, 1857934291, 4014189740, 2797888098, 2822345105, 2754712981, 936633572, 2347923833, 852879335, 1133234376, 1500395319, 3084545389, 2348912013, 1689376213, 3533459022, 3762923945, 3034082412, 4205598294, 133428468, 634383082, 2949277029, 2398386810, 3913789102, 403703816, 3580869306, 2297460856, 1867130149, 1918643758, 607656988, 4049053350, 3346248884, 1368901318, 600565992, 2090982877, 2632479860, 557719327, 3717614411, 3697393085, 2249034635, 2232388234, 2430627952, 1115438654, 3295786421, 2865522278, 3633334344, 84280067, 33027830, 303828494, 2747425121, 1600795957, 4188952407, 3496589753, 2434238086, 1486471617, 658119965, 3106381470, 953803233, 334231800, 3005978776, 857870609, 3151128937, 1890179545, 2298973838, 2805175444, 3056442267, 574365214, 2450884487, 550103529, 1233637070, 4289353045, 2018519080, 2057691103, 2399374476, 4166623649, 2148108681, 387583245, 3664101311, 836232934, 3330556482, 3100665960, 3280093505, 2955516313, 2002398509, 287182607, 3413881008, 4238890068, 3597515707, 975967766], i[c([84, 51])] = [1671808611, 2089089148, 2006576759, 2072901243, 4061003762, 1807603307, 1873927791, 3310653893, 810573872, 16974337, 1739181671, 729634347, 4263110654, 3613570519, 2883997099, 1989864566, 3393556426, 2191335298, 3376449993, 2106063485, 4195741690, 1508618841, 1204391495, 4027317232, 2917941677, 3563566036, 2734514082, 2951366063, 2629772188, 2767672228, 1922491506, 3227229120, 3082974647, 4246528509, 2477669779, 644500518, 911895606, 1061256767, 4144166391, 3427763148, 878471220, 2784252325, 3845444069, 4043897329, 1905517169, 3631459288, 827548209, 356461077, 67897348, 3344078279, 593839651, 3277757891, 405286936, 2527147926, 84871685, 2595565466, 118033927, 305538066, 2157648768, 3795705826, 3945188843, 661212711, 2999812018, 1973414517, 152769033, 2208177539, 745822252, 439235610, 455947803, 1857215598, 1525593178, 2700827552, 1391895634, 994932283, 3596728278, 3016654259, 695947817, 3812548067, 795958831, 2224493444, 1408607827, 3513301457, 0, 3979133421, 543178784, 4229948412, 2982705585, 1542305371, 1790891114, 3410398667, 3201918910, 961245753, 1256100938, 1289001036, 1491644504, 3477767631, 3496721360, 4012557807, 2867154858, 4212583931, 1137018435, 1305975373, 861234739, 2241073541, 1171229253, 4178635257, 33948674, 2139225727, 1357946960, 1011120188, 2679776671, 2833468328, 1374921297, 2751356323, 1086357568, 2408187279, 2460827538, 2646352285, 944271416, 4110742005, 3168756668, 3066132406, 3665145818, 560153121, 271589392, 4279952895, 4077846003, 3530407890, 3444343245, 202643468, 322250259, 3962553324, 1608629855, 2543990167, 1154254916, 389623319, 3294073796, 2817676711, 2122513534, 1028094525, 1689045092, 1575467613, 422261273, 1939203699, 1621147744, 2174228865, 1339137615, 3699352540, 577127458, 712922154, 2427141008, 2290289544, 1187679302, 3995715566, 3100863416, 339486740, 3732514782, 1591917662, 186455563, 3681988059, 3762019296, 844522546, 978220090, 169743370, 1239126601, 101321734, 611076132, 1558493276, 3260915650, 3547250131, 2901361580, 1655096418, 2443721105, 2510565781, 3828863972, 2039214713, 3878868455, 3359869896, 928607799, 1840765549, 2374762893, 3580146133, 1322425422, 2850048425, 1823791212, 1459268694, 4094161908, 3928346602, 1706019429, 2056189050, 2934523822, 135794696, 3134549946, 2022240376, 628050469, 779246638, 472135708, 2800834470, 3032970164, 3327236038, 3894660072, 3715932637, 1956440180, 522272287, 1272813131, 3185336765, 2340818315, 2323976074, 1888542832, 1044544574, 3049550261, 1722469478, 1222152264, 50660867, 4127324150, 236067854, 1638122081, 895445557, 1475980887, 3117443513, 2257655686, 3243809217, 489110045, 2662934430, 3778599393, 4162055160, 2561878936, 288563729, 1773916777, 3648039385, 2391345038, 2493985684, 2612407707, 505560094, 2274497927, 3911240169, 3460925390, 1442818645, 678973480, 3749357023, 2358182796, 2717407649, 2306869641, 219617805, 3218761151, 3862026214, 1120306242, 1756942440, 1103331905, 2578459033, 762796589, 252780047, 2966125488, 1425844308, 3151392187, 372911126], i[c([84, 52])] = [1667474886, 2088535288, 2004326894, 2071694838, 4075949567, 1802223062, 1869591006, 3318043793, 808472672, 16843522, 1734846926, 724270422, 4278065639, 3621216949, 2880169549, 1987484396, 3402253711, 2189597983, 3385409673, 2105378810, 4210693615, 1499065266, 1195886990, 4042263547, 2913856577, 3570689971, 2728590687, 2947541573, 2627518243, 2762274643, 1920112356, 3233831835, 3082273397, 4261223649, 2475929149, 640051788, 909531756, 1061110142, 4160160501, 3435941763, 875846760, 2779116625, 3857003729, 4059105529, 1903268834, 3638064043, 825316194, 353713962, 67374088, 3351728789, 589522246, 3284360861, 404236336, 2526454071, 84217610, 2593830191, 117901582, 303183396, 2155911963, 3806477791, 3958056653, 656894286, 2998062463, 1970642922, 151591698, 2206440989, 741110872, 437923380, 454765878, 1852748508, 1515908788, 2694904667, 1381168804, 993742198, 3604373943, 3014905469, 690584402, 3823320797, 791638366, 2223281939, 1398011302, 3520161977, 0, 3991743681, 538992704, 4244381667, 2981218425, 1532751286, 1785380564, 3419096717, 3200178535, 960056178, 1246420628, 1280103576, 1482221744, 3486468741, 3503319995, 4025428677, 2863326543, 4227536621, 1128514950, 1296947098, 859002214, 2240123921, 1162203018, 4193849577, 33687044, 2139062782, 1347481760, 1010582648, 2678045221, 2829640523, 1364325282, 2745433693, 1077985408, 2408548869, 2459086143, 2644360225, 943212656, 4126475505, 3166494563, 3065430391, 3671750063, 555836226, 269496352, 4294908645, 4092792573, 3537006015, 3452783745, 202118168, 320025894, 3974901699, 1600119230, 2543297077, 1145359496, 387397934, 3301201811, 2812801621, 2122220284, 1027426170, 1684319432, 1566435258, 421079858, 1936954854, 1616945344, 2172753945, 1330631070, 3705438115, 572679748, 707427924, 2425400123, 2290647819, 1179044492, 4008585671, 3099120491, 336870440, 3739122087, 1583276732, 185277718, 3688593069, 3772791771, 842159716, 976899700, 168435220, 1229577106, 101059084, 606366792, 1549591736, 3267517855, 3553849021, 2897014595, 1650632388, 2442242105, 2509612081, 3840161747, 2038008818, 3890688725, 3368567691, 926374254, 1835907034, 2374863873, 3587531953, 1313788572, 2846482505, 1819063512, 1448540844, 4109633523, 3941213647, 1701162954, 2054852340, 2930698567, 134748176, 3132806511, 2021165296, 623210314, 774795868, 471606328, 2795958615, 3031746419, 3334885783, 3907527627, 3722280097, 1953799400, 522133822, 1263263126, 3183336545, 2341176845, 2324333839, 1886425312, 1044267644, 3048588401, 1718004428, 1212733584, 50529542, 4143317495, 235803164, 1633788866, 892690282, 1465383342, 3115962473, 2256965911, 3250673817, 488449850, 2661202215, 3789633753, 4177007595, 2560144171, 286339874, 1768537042, 3654906025, 2391705863, 2492770099, 2610673197, 505291324, 2273808917, 3924369609, 3469625735, 1431699370, 673740880, 3755965093, 2358021891, 2711746649, 2307489801, 218961690, 3217021541, 3873845719, 1111672452, 1751693520, 1094828930, 2576986153, 757954394, 252645662, 2964376443, 1414855848, 3149649517, 370555436], i[c([85, 49])] = [0, 235474187, 470948374, 303765277, 941896748, 908933415, 607530554, 708780849, 1883793496, 2118214995, 1817866830, 1649639237, 1215061108, 1181045119, 1417561698, 1517767529, 3767586992, 4003061179, 4236429990, 4069246893, 3635733660, 3602770327, 3299278474, 3400528769, 2430122216, 2664543715, 2362090238, 2193862645, 2835123396, 2801107407, 3035535058, 3135740889, 3678124923, 3576870512, 3341394285, 3374361702, 3810496343, 3977675356, 4279080257, 4043610186, 2876494627, 2776292904, 3076639029, 3110650942, 2472011535, 2640243204, 2403728665, 2169303058, 1001089995, 899835584, 666464733, 699432150, 59727847, 226906860, 530400753, 294930682, 1273168787, 1172967064, 1475418501, 1509430414, 1942435775, 2110667444, 1876241833, 1641816226, 2910219766, 2743034109, 2976151520, 3211623147, 2505202138, 2606453969, 2302690252, 2269728455, 3711829422, 3543599269, 3240894392, 3475313331, 3843699074, 3943906441, 4178062228, 4144047775, 1306967366, 1139781709, 1374988112, 1610459739, 1975683434, 2076935265, 1775276924, 1742315127, 1034867998, 866637845, 566021896, 800440835, 92987698, 193195065, 429456164, 395441711, 1984812685, 2017778566, 1784663195, 1683407248, 1315562145, 1080094634, 1383856311, 1551037884, 101039829, 135050206, 437757123, 337553864, 1042385657, 807962610, 573804783, 742039012, 2531067453, 2564033334, 2328828971, 2227573024, 2935566865, 2700099354, 3001755655, 3168937228, 3868552805, 3902563182, 4203181171, 4102977912, 3736164937, 3501741890, 3265478751, 3433712980, 1106041591, 1340463100, 1576976609, 1408749034, 2043211483, 2009195472, 1708848333, 1809054150, 832877231, 1068351396, 766945465, 599762354, 159417987, 126454664, 361929877, 463180190, 2709260871, 2943682380, 3178106961, 3009879386, 2572697195, 2538681184, 2236228733, 2336434550, 3509871135, 3745345300, 3441850377, 3274667266, 3910161971, 3877198648, 4110568485, 4211818798, 2597806476, 2497604743, 2261089178, 2295101073, 2733856160, 2902087851, 3202437046, 2968011453, 3936291284, 3835036895, 4136440770, 4169408201, 3535486456, 3702665459, 3467192302, 3231722213, 2051518780, 1951317047, 1716890410, 1750902305, 1113818384, 1282050075, 1584504582, 1350078989, 168810852, 67556463, 371049330, 404016761, 841739592, 1008918595, 775550814, 540080725, 3969562369, 3801332234, 4035489047, 4269907996, 3569255213, 3669462566, 3366754619, 3332740144, 2631065433, 2463879762, 2160117071, 2395588676, 2767645557, 2868897406, 3102011747, 3069049960, 202008497, 33778362, 270040487, 504459436, 875451293, 975658646, 675039627, 641025152, 2084704233, 1917518562, 1615861247, 1851332852, 1147550661, 1248802510, 1484005843, 1451044056, 933301370, 967311729, 733156972, 632953703, 260388950, 25965917, 328671808, 496906059, 1206477858, 1239443753, 1543208500, 1441952575, 2144161806, 1908694277, 1675577880, 1842759443, 3610369226, 3644379585, 3408119516, 3307916247, 4011190502, 3776767469, 4077384432, 4245618683, 2809771154, 2842737049, 3144396420, 3043140495, 2673705150, 2438237621, 2203032232, 2370213795], i[c([85, 50])] = [0, 185469197, 370938394, 487725847, 741876788, 657861945, 975451694, 824852259, 1483753576, 1400783205, 1315723890, 1164071807, 1950903388, 2135319889, 1649704518, 1767536459, 2967507152, 3152976349, 2801566410, 2918353863, 2631447780, 2547432937, 2328143614, 2177544179, 3901806776, 3818836405, 4270639778, 4118987695, 3299409036, 3483825537, 3535072918, 3652904859, 2077965243, 1893020342, 1841768865, 1724457132, 1474502543, 1559041666, 1107234197, 1257309336, 598438867, 681933534, 901210569, 1052338372, 261314535, 77422314, 428819965, 310463728, 3409685355, 3224740454, 3710368113, 3593056380, 3875770207, 3960309330, 4045380933, 4195456072, 2471224067, 2554718734, 2237133081, 2388260884, 3212035895, 3028143674, 2842678573, 2724322336, 4138563181, 4255350624, 3769721975, 3955191162, 3667219033, 3516619604, 3431546947, 3347532110, 2933734917, 2782082824, 3099667487, 3016697106, 2196052529, 2313884476, 2499348523, 2683765030, 1179510461, 1296297904, 1347548327, 1533017514, 1786102409, 1635502980, 2087309459, 2003294622, 507358933, 355706840, 136428751, 53458370, 839224033, 957055980, 605657339, 790073846, 2373340630, 2256028891, 2607439820, 2422494913, 2706270690, 2856345839, 3075636216, 3160175349, 3573941694, 3725069491, 3273267108, 3356761769, 4181598602, 4063242375, 4011996048, 3828103837, 1033297158, 915985419, 730517276, 545572369, 296679730, 446754879, 129166120, 213705253, 1709610350, 1860738147, 1945798516, 2029293177, 1239331162, 1120974935, 1606591296, 1422699085, 4148292826, 4233094615, 3781033664, 3931371469, 3682191598, 3497509347, 3446004468, 3328955385, 2939266226, 2755636671, 3106780840, 2988687269, 2198438022, 2282195339, 2501218972, 2652609425, 1201765386, 1286567175, 1371368976, 1521706781, 1805211710, 1620529459, 2105887268, 1988838185, 533804130, 350174575, 164439672, 46346101, 870912086, 954669403, 636813900, 788204353, 2358957921, 2274680428, 2592523643, 2441661558, 2695033685, 2880240216, 3065962831, 3182487618, 3572145929, 3756299780, 3270937875, 3388507166, 4174560061, 4091327024, 4006521127, 3854606378, 1014646705, 930369212, 711349675, 560487590, 272786309, 457992840, 106852767, 223377554, 1678381017, 1862534868, 1914052035, 2031621326, 1211247597, 1128014560, 1580087799, 1428173050, 32283319, 182621114, 401639597, 486441376, 768917123, 651868046, 1003007129, 818324884, 1503449823, 1385356242, 1333838021, 1150208456, 1973745387, 2125135846, 1673061617, 1756818940, 2970356327, 3120694122, 2802849917, 2887651696, 2637442643, 2520393566, 2334669897, 2149987652, 3917234703, 3799141122, 4284502037, 4100872472, 3309594171, 3460984630, 3545789473, 3629546796, 2050466060, 1899603969, 1814803222, 1730525723, 1443857720, 1560382517, 1075025698, 1260232239, 575138148, 692707433, 878443390, 1062597235, 243256656, 91341917, 409198410, 325965383, 3403100636, 3252238545, 3704300486, 3620022987, 3874428392, 3990953189, 4042459122, 4227665663, 2460449204, 2578018489, 2226875310, 2411029155, 3198115200, 3046200461, 2827177882, 2743944855], i[c([85, 51])] = [0, 218828297, 437656594, 387781147, 875313188, 958871085, 775562294, 590424639, 1750626376, 1699970625, 1917742170, 2135253587, 1551124588, 1367295589, 1180849278, 1265195639, 3501252752, 3720081049, 3399941250, 3350065803, 3835484340, 3919042237, 4270507174, 4085369519, 3102249176, 3051593425, 2734591178, 2952102595, 2361698556, 2177869557, 2530391278, 2614737639, 3145456443, 3060847922, 2708326185, 2892417312, 2404901663, 2187128086, 2504130317, 2555048196, 3542330227, 3727205754, 3375740769, 3292445032, 3876557655, 3926170974, 4246310725, 4027744588, 1808481195, 1723872674, 1910319033, 2094410160, 1608975247, 1391201670, 1173430173, 1224348052, 59984867, 244860394, 428169201, 344873464, 935293895, 984907214, 766078933, 547512796, 1844882806, 1627235199, 2011214180, 2062270317, 1507497298, 1423022939, 1137477952, 1321699145, 95345982, 145085239, 532201772, 313773861, 830661914, 1015671571, 731183368, 648017665, 3175501286, 2957853679, 2807058932, 2858115069, 2305455554, 2220981195, 2474404304, 2658625497, 3575528878, 3625268135, 3473416636, 3254988725, 3778151818, 3963161475, 4213447064, 4130281361, 3599595085, 3683022916, 3432737375, 3247465558, 3802222185, 4020912224, 4172763771, 4122762354, 3201631749, 3017672716, 2764249623, 2848461854, 2331590177, 2280796200, 2431590963, 2648976442, 104699613, 188127444, 472615631, 287343814, 840019705, 1058709744, 671593195, 621591778, 1852171925, 1668212892, 1953757831, 2037970062, 1514790577, 1463996600, 1080017571, 1297403050, 3673637356, 3623636965, 3235995134, 3454686199, 4007360968, 3822090177, 4107101658, 4190530515, 2997825956, 3215212461, 2830708150, 2779915199, 2256734592, 2340947849, 2627016082, 2443058075, 172466556, 122466165, 273792366, 492483431, 1047239e3, 861968209, 612205898, 695634755, 1646252340, 1863638845, 2013908262, 1963115311, 1446242576, 1530455833, 1277555970, 1093597963, 1636604631, 1820824798, 2073724613, 1989249228, 1436590835, 1487645946, 1337376481, 1119727848, 164948639, 81781910, 331544205, 516552836, 1039717051, 821288114, 669961897, 719700128, 2973530695, 3157750862, 2871682645, 2787207260, 2232435299, 2283490410, 2667994737, 2450346104, 3647212047, 3564045318, 3279033885, 3464042516, 3980931627, 3762502690, 4150144569, 4199882800, 3070356634, 3121275539, 2904027272, 2686254721, 2200818878, 2384911031, 2570832044, 2486224549, 3747192018, 3528626907, 3310321856, 3359936201, 3950355702, 3867060991, 4049844452, 4234721005, 1739656202, 1790575107, 2108100632, 1890328081, 1402811438, 1586903591, 1233856572, 1149249077, 266959938, 48394827, 369057872, 418672217, 1002783846, 919489135, 567498868, 752375421, 209336225, 24197544, 376187827, 459744698, 945164165, 895287692, 574624663, 793451934, 1679968233, 1764313568, 2117360635, 1933530610, 1343127501, 1560637892, 1243112415, 1192455638, 3704280881, 3519142200, 3336358691, 3419915562, 3907448597, 3857572124, 4075877127, 4294704398, 3029510009, 3113855344, 2927934315, 2744104290, 2159976285, 2377486676, 2594734927, 2544078150], i[c([85, 52])] = [0, 151849742, 303699484, 454499602, 607398968, 758720310, 908999204, 1059270954, 1214797936, 1097159550, 1517440620, 1400849762, 1817998408, 1699839814, 2118541908, 2001430874, 2429595872, 2581445614, 2194319100, 2345119218, 3034881240, 3186202582, 2801699524, 2951971274, 3635996816, 3518358430, 3399679628, 3283088770, 4237083816, 4118925222, 4002861748, 3885750714, 1002142683, 850817237, 698445255, 548169417, 529487843, 377642221, 227885567, 77089521, 1943217067, 2061379749, 1640576439, 1757691577, 1474760595, 1592394909, 1174215055, 1290801793, 2875968315, 2724642869, 3111247143, 2960971305, 2405426947, 2253581325, 2638606623, 2487810577, 3808662347, 3926825029, 4044981591, 4162096729, 3342319475, 3459953789, 3576539503, 3693126241, 1986918061, 2137062819, 1685577905, 1836772287, 1381620373, 1532285339, 1078185097, 1229899655, 1040559837, 923313619, 740276417, 621982671, 439452389, 322734571, 137073913, 19308535, 3871163981, 4021308739, 4104605777, 4255800159, 3263785589, 3414450555, 3499326569, 3651041127, 2933202493, 2815956275, 3167684641, 3049390895, 2330014213, 2213296395, 2566595609, 2448830231, 1305906550, 1155237496, 1607244650, 1455525988, 1776460110, 1626319424, 2079897426, 1928707164, 96392454, 213114376, 396673818, 514443284, 562755902, 679998e3, 865136418, 983426092, 3708173718, 3557504664, 3474729866, 3323011204, 4180808110, 4030667424, 3945269170, 3794078908, 2507040230, 2623762152, 2272556026, 2390325492, 2975484382, 3092726480, 2738905026, 2857194700, 3973773121, 3856137295, 4274053469, 4157467219, 3371096953, 3252932727, 3673476453, 3556361835, 2763173681, 2915017791, 3064510765, 3215307299, 2156299017, 2307622919, 2459735317, 2610011675, 2081048481, 1963412655, 1846563261, 1729977011, 1480485785, 1362321559, 1243905413, 1126790795, 878845905, 1030690015, 645401037, 796197571, 274084841, 425408743, 38544885, 188821243, 3613494426, 3731654548, 3313212038, 3430322568, 4082475170, 4200115116, 3780097726, 3896688048, 2668221674, 2516901860, 2366882550, 2216610296, 3141400786, 2989552604, 2837966542, 2687165888, 1202797690, 1320957812, 1437280870, 1554391400, 1669664834, 1787304780, 1906247262, 2022837584, 265905162, 114585348, 499347990, 349075736, 736970802, 585122620, 972512814, 821712160, 2595684844, 2478443234, 2293045232, 2174754046, 3196267988, 3079546586, 2895723464, 2777952454, 3537852828, 3687994002, 3234156416, 3385345166, 4142626212, 4293295786, 3841024952, 3992742070, 174567692, 57326082, 410887952, 292596766, 777231668, 660510266, 1011452712, 893681702, 1108339068, 1258480242, 1343618912, 1494807662, 1715193156, 1865862730, 1948373848, 2100090966, 2701949495, 2818666809, 3004591147, 3122358053, 2235061775, 2352307457, 2535604243, 2653899549, 3915653703, 3764988233, 4219352155, 4067639125, 3444575871, 3294430577, 3746175075, 3594982253, 836553431, 953270745, 600235211, 718002117, 367585007, 484830689, 133361907, 251657213, 2041877159, 1891211689, 1806599355, 1654886325, 1568718495, 1418573201, 1335535747, 1184342925]; var o = new Uint8Array(16); for (var t_250 = 15; t_250 >= 0; --t_250)
                                o[t_250] = n % 256, n = parseInt(n / 256); var r = null, s = 16; var a = new Uint8Array(e), l = [], d = []; !function () { var t = i[c([110, 117, 109, 98, 101, 114, 79, 102, 82, 111, 117, 110, 100, 115])][a[Jd("0x17")]]; for (var e_505 = 0; e_505 <= t; e_505++)
                                l[Jd("0x1e")]([0, 0, 0, 0]), d[Jd("0x1e")]([0, 0, 0, 0]); var e = 4 * (t + 1), n = a.length / 4, o = u(a); var r; for (var e_506 = 0; e_506 < n; e_506++)
                                l[r = e_506 >> 2][e_506 % 4] = o[e_506], d[t - r][e_506 % 4] = o[e_506]; var s, h = 0, m = n; for (; m < e;) {
                                s = o[n - 1], o[0] ^= i[c([83])][s >> 16 & 255] << 24 ^ i[c([83])][s >> 8 & 255] << 16 ^ i[c([83])][255 & s] << 8 ^ i[c([83])][s >> 24 & 255] ^ i[c([114, 99, 111, 110])][h] << 24, h += 1;
                                for (var t_251 = 1; t_251 < n / 2; t_251++)
                                    o[t_251] ^= o[t_251 - 1];
                                s = o[n / 2 - 1], o[n / 2] ^= i[c([83])][255 & s] ^ i[c([83])][s >> 8 & 255] << 8 ^ i[c([83])][s >> 16 & 255] << 16 ^ i[c([83])][s >> 24 & 255] << 24;
                                for (var t_252 = n / 2 + 1; t_252 < n; t_252++)
                                    o[t_252] ^= o[t_252 - 1];
                                var r_28 = void 0, a_11 = void 0, u_2 = 0;
                                for (; u_2 < n && m < e;)
                                    a_11 = m % 4, l[r_28 = m >> 2][a_11] = o[u_2], d[t - r_28][a_11] = o[u_2++], m++;
                            } for (var e_507 = 1; e_507 < t; e_507++)
                                for (var t_253 = 0; t_253 < 4; t_253++)
                                    s = d[e_507][t_253], d[e_507][t_253] = i[c([85, 49])][s >> 24 & 255] ^ i[c([85, 50])][s >> 16 & 255] ^ i[c([85, 51])][s >> 8 & 255] ^ i[c([85, 52])][255 & s]; }(); for (var e_508 = 0; e_508 < t[Jd("0x17")]; e_508++)
                                16 === s && (r = m(o), s = 0, h(o)), t[e_508] ^= r[s++]; return t; function u(t) { var e = []; for (var n_198 = 0; n_198 < t[Jd("0x17")]; n_198 += 4)
                                e[Jd("0x1e")](t[n_198] << 24 | t[n_198 + 1] << 16 | t[n_198 + 2] << 8 | t[n_198 + 3]); return e; } function h(t) { for (var e_509 = 15; e_509 >= 0; e_509--) {
                                if (255 !== t[e_509]) {
                                    t[e_509]++;
                                    break;
                                }
                                t[e_509] = 0;
                            } } function m(t) { var e = l[Jd("0x17")] - 1, n = [0, 0, 0, 0]; var o = u(t); for (var t_254 = 0; t_254 < 4; t_254++)
                                o[t_254] ^= l[0][t_254]; for (var t_255 = 1; t_255 < e; t_255++) {
                                for (var e_510 = 0; e_510 < 4; e_510++)
                                    n[e_510] = i[c([84, 49])][o[e_510] >> 24 & 255] ^ i[c([84, 50])][o[(e_510 + 1) % 4] >> 16 & 255] ^ i[c([84, 51])][o[(e_510 + 2) % 4] >> 8 & 255] ^ i[c([84, 52])][255 & o[(e_510 + 3) % 4]] ^ l[t_255][e_510];
                                o = n[Jd("0x1f")]();
                            } var r = new Uint8Array(16); var s; for (var t_256 = 0; t_256 < 4; t_256++)
                                s = l[e][t_256], r[4 * t_256] = 255 & (i[c([83])][o[t_256] >> 24 & 255] ^ s >> 24), r[4 * t_256 + 1] = 255 & (i[c([83])][o[(t_256 + 1) % 4] >> 16 & 255] ^ s >> 16), r[4 * t_256 + 2] = 255 & (i[c([83])][o[(t_256 + 2) % 4] >> 8 & 255] ^ s >> 8), r[4 * t_256 + 3] = 255 & (i[c([83])][255 & o[(t_256 + 3) % 4]] ^ s); return r; } }(i, e, i[Jd("0x1d")]() + 256 * r)); }(r, new (window[c([85, 105, 110, 116, 56, 65, 114, 114, 97, 121])])(__spread(e, [29, 221, 175, 90, 231, 133, 239, 240, 75, 180], i))), d_2 = JSON.parse(l_1), u_3 = parseInt(d_2[c([49])]), h_1 = parseInt(d_2[c([51])]), m_1 = parseInt(d_2[c([52])]) || 0, g_1 = parseInt(d_2[c([53])]) || 0, f_1 = 2;
                            if (!(1 & m_1) || t[c([112, 108, 117, 103, 105, 110, 115])][c([104, 97, 115])](c([84, 114, 97, 99, 107, 67, 104, 97, 110, 103, 101, 115, 69, 100, 105, 116, 105, 110, 103])) && !(m_1 & f_1))
                                return a(), s(c([108, 105, 99, 101, 110, 115, 101, 75, 101, 121, 73, 110, 118, 97, 108, 105, 100]));
                            if (g_1 && !window[c([111, 112, 101, 110])][c([99, 108, 111, 115, 101, 100])])
                                return a(), s(c([108, 105, 99, 101, 110, 115, 101, 75, 101, 121, 73, 110, 118, 97, 108, 105, 100]));
                            if (parseInt(n) / 2 > u_3)
                                return a(), s(c([108, 105, 99, 101, 110, 115, 101, 75, 101, 121, 73, 110, 118, 97, 108, 105, 100]));
                            if (t[c([112, 108, 117, 103, 105, 110, 115])][c([104, 97, 115])](c([84, 114, 97, 99, 107, 67, 104, 97, 110, 103, 101, 115, 69, 100, 105, 116, 105, 110, 103]))) {
                                var e_511 = t[c([112, 108, 117, 103, 105, 110, 115])][c([103, 101, 116])](c([84, 114, 97, 99, 107, 67, 104, 97, 110, 103, 101, 115, 69, 100, 105, 116, 105, 110, 103]));
                                if (parseInt(e_511[c([95, 101, 120, 101, 99, 117, 116, 101, 83, 117, 103, 103, 101, 115, 116, 105, 111, 110])]) / 2 > u_3)
                                    return a(), s(c([108, 105, 99, 101, 110, 115, 101, 75, 101, 121, 73, 110, 118, 97, 108, 105, 100]));
                            }
                            return s(c(h_1 ? [108, 105, 99, 101, 110, 115, 101, 75, 101, 121, 84, 114, 105, 97, 108] : [108, 105, 99, 101, 110, 115, 101, 75, 101, 121, 86, 97, 108, 105, 100]));
                        }
                        catch (t) {
                            return a(), s(c([108, 105, 99, 101, 110, 115, 101, 75, 101, 121, 73, 110, 118, 97, 108, 105, 100]));
                        } } function s(e) { var n = function () { var t = String(window[c([112, 101, 114, 102, 111, 114, 109, 97, 110, 99, 101])][c([110, 111, 119])]())[Jd("0x15")](c([46]), ""); var e = ""; for (var n_199 = 0; n_199 < t[Jd("0x17")]; n_199 += 2) {
                            var i_111 = parseInt(t[Jd("0x20")](n_199, n_199 + 2));
                            i_111 >= o[Jd("0x17")] && (i_111 -= o[Jd("0x17")]), e += o[i_111];
                        } return e; }(); return t[n] = e, e; } function a() { t[c([109, 111, 100, 101, 108])][c([99, 104, 97, 110, 103, 101])] = (function () { }), t[c([109, 111, 100, 101, 108])][c([101, 110, 113, 117, 101, 117, 101, 67, 104, 97, 110, 103, 101])] = (function () { }), t[c([112, 108, 117, 103, 105, 110, 115])][c([103, 101, 116])](Zd)[c([95, 99, 111, 109, 109, 101, 110, 116, 73, 100, 84, 111, 84, 104, 114, 101, 97, 100, 73, 100])][c([99, 108, 101, 97, 114])](); } function c(t) { return t[Jd("0x21")](function (t) { return String[Jd("0x1a")](t); })[Jd("0x22")](""); } t[c([111, 110])](c([114, 101, 97, 100, 121]), function () { var e, n = 0; t[c([109, 111, 100, 101, 108])][c([111, 110])](c([97, 112, 112, 108, 121, 79, 112, 101, 114, 97, 116, 105, 111, 110]), function (i, o) { o[0][Jd("0x23")] && n++, 6 === n ? e = r(t[Jd("0x24")][Jd("0x12")](c([108, 105, 99, 101, 110, 115, 101, 75, 101, 121]))) : e === c([108, 105, 99, 101, 110, 115, 101, 75, 101, 121, 84, 114, 105, 97, 108]) && 504 === n ? (a(), s(c([108, 105, 99, 101, 110, 115, 101, 75, 101, 121, 84, 114, 105, 97, 108, 76, 105, 109, 105, 116])), i[Jd("0x25")]()) : e && e !== c([108, 105, 99, 101, 110, 115, 101, 75, 101, 121, 84, 114, 105, 97, 108]) && i[Jd("0x25")](); }, { priority: c([104, 105, 103, 104, 101, 115, 116]) }); }); }(t); var e = t.plugins[Jd("0x12")]($d); t.commands[Jd("0x26")](Jd("0x27"), new Nd(t)), t.commands[Jd("0x26")](Jd("0x28"), new Dd(t)), t[Jd("0x29")][Jd("0x26")]("addComment", new zd(t, this, e)), t.commands[Jd("0x26")]("updateComment", new Bd(t, this, e)), t[Jd("0x29")].add(Jd("0x2a"), new Wd(t, this, e)), this.U(), this.P(); };
                        Object.defineProperty(Zd.prototype, Jd("0x2b"), {
                            set: function (t) { if (this.Z)
                                throw new Gn.b(Jd("0x2c"), this); this.Z = t; },
                            enumerable: true,
                            configurable: true
                        });
                        Object.defineProperty(Zd.prototype, "adapter", {
                            get: function () { return this.Z; },
                            enumerable: true,
                            configurable: true
                        });
                        Zd.prototype[Jd("0x27")] = function (_j) {
                            var e_512, _q;
                            var t = _j.threadId, _z = _j.comments, e = _z === void 0 ? [] : _z;
                            if (Jd("0x2d") != typeof t)
                                throw new Gn.b(Jd("0x2e"), this);
                            this.threads[Jd("0x26")](new eu(t));
                            try {
                                for (var e_513 = __values(e), e_513_1 = e_513.next(); !e_513_1.done; e_513_1 = e_513.next()) {
                                    var n_200 = e_513_1.value;
                                    this.addComment(Object[Jd("0x2f")]({ threadId: t }, n_200));
                                }
                            }
                            catch (e_512_1) { e_512 = { error: e_512_1 }; }
                            finally {
                                try {
                                    if (e_513_1 && !e_513_1.done && (_q = e_513.return)) _q.call(e_513);
                                }
                                finally { if (e_512) throw e_512.error; }
                            }
                        };
                        Zd.prototype[Jd("0x30")] = function (_j) {
                            var t = _j.threadId, e = _j.commentId, n = _j.content, i = _j.authorId, o = _j.createdAt;
                            if (Jd("0x2d") != typeof e)
                                throw new Gn.b(Jd("0x31"), this);
                            if (this[Jd("0xf")].get(e))
                                throw new Gn.b("commentsediting-duplicated-comment-id: Comment id has to be unique.", this);
                            if (Jd("0x2d") != typeof i)
                                throw new Gn.b(Jd("0x32"), this);
                            if (Jd("0x2d") != typeof n || !n[Jd("0x33")]())
                                throw new Gn.b(Jd("0x34"), this);
                            var r = this[Jd("0x2")][Jd("0x12")](t);
                            if (!r)
                                throw new Gn.b("commentsediting-missing-comment-thread: Cannot add Comment to not existing CommentThread.", this);
                            var s = this[Jd("0x14")][Jd("0x11")][Jd("0x12")]($d)[Jd("0x35")](i);
                            if (!s)
                                throw new Gn.b(Jd("0x36"), this);
                            r[Jd("0x26")](new nu({ id: e, author: s, content: n, createdAt: o })), this._commentIdToThreadId.set(e, t);
                        };
                        Zd.prototype[Jd("0x37")] = function (_j) {
                            var t = _j.commentId, e = _j.content, n = _j.createdAt;
                            var i = this[Jd("0xf")].get(t);
                            if (!i)
                                throw new Gn.b(Jd("0x38"), this);
                            if (e && (Jd("0x2d") != typeof e || !e.trim()))
                                throw new Gn.b(Jd("0x34"), this);
                            var o = this[Jd("0x2")][Jd("0x12")](i)[Jd("0x12")](t);
                            e && e != o[Jd("0x39")] && (o.content = e), n && n != o.createdAt && (o[Jd("0x3a")] = n);
                        };
                        Zd.prototype[Jd("0x2a")] = function (t) { var e = this[Jd("0xf")].get(t); if (!e)
                            throw new Gn.b("commentsediting-missing-comment: Cannot remove not existing Comment.", this); var n = this.threads[Jd("0x12")](e); n[Jd("0x3b")](n[Jd("0x12")](t)), this[Jd("0xf")][Jd("0x3c")](t); };
                        Zd.prototype._getCommentThread = function (t) {
                            var _this = this;
                            var e = this.threads[Jd("0x12")](t);
                            if (e)
                                return Promise[Jd("0x3d")](e);
                            if (!this[Jd("0x2b")])
                                throw new Gn.b('commentsediting-missing-thread-and-adapter: Comment thread with "' + t + Jd("0x3e"), this);
                            if (Jd("0x3f") != typeof this.adapter[Jd("0x40")])
                                throw new Gn.b(Jd("0x41") + (Jd("0x42") + t + '" id is not added to the editor nor adapter.getCommentThread() is defined.'), this);
                            return this[Jd("0x2b")][Jd("0x40")](t)[Jd("0x43")](function (e) { if (e)
                                return _this.addCommentThread(e), _this[Jd("0x2")][Jd("0x12")](t); })[Jd("0x44")](function (t) { throw console[Jd("0x45")](t), new Gn.b(Jd("0x46"), _this[Jd("0x14")]); });
                        };
                        Zd.prototype[Jd("0x47")] = function () {
                            var e_514, _j, t, _loop_6, _q, _z, e_515, e_514_1;
                            return __generator(this, function (_0) {
                                switch (_0.label) {
                                    case 0:
                                        t = Array.from(this[Jd("0x14")][Jd("0x6")][Jd("0x8")]);
                                        _loop_6 = function (e_515) {
                                            var _j;
                                            return __generator(this, function (_q) {
                                                switch (_q.label) {
                                                    case 0:
                                                        _j = e_515[Jd("0x17")] && t[Jd("0x48")](function (t) { return t[Jd("0x49")][Jd("0x4a")](e_515.id); });
                                                        if (!_j) return [3 /*break*/, 2];
                                                        return [4 /*yield*/, e_515.toJSON()];
                                                    case 1:
                                                        _j = (_q.sent());
                                                        _q.label = 2;
                                                    case 2:
                                                        _j;
                                                        return [2 /*return*/];
                                                }
                                            });
                                        };
                                        _0.label = 1;
                                    case 1:
                                        _0.trys.push([1, 6, 7, 8]);
                                        _q = __values(this[Jd("0x2")]), _z = _q.next();
                                        _0.label = 2;
                                    case 2:
                                        if (!!_z.done) return [3 /*break*/, 5];
                                        e_515 = _z.value;
                                        return [5 /*yield**/, _loop_6(e_515)];
                                    case 3:
                                        _0.sent();
                                        _0.label = 4;
                                    case 4:
                                        _z = _q.next();
                                        return [3 /*break*/, 2];
                                    case 5: return [3 /*break*/, 8];
                                    case 6:
                                        e_514_1 = _0.sent();
                                        e_514 = { error: e_514_1 };
                                        return [3 /*break*/, 8];
                                    case 7:
                                        try {
                                            if (_z && !_z.done && (_j = _q.return)) _j.call(_q);
                                        }
                                        finally { if (e_514) throw e_514.error; }
                                        return [7 /*endfinally*/];
                                    case 8: return [2 /*return*/];
                                }
                            });
                        };
                        Zd.prototype.U = function () {
                            var _this = this;
                            var t = this.editor;
                            t[Jd("0x4b")][Jd("0x4c")]("editingDowncast")[Jd("0x4d")]({ model: Jd("0x4e"), view: function (t) { var e = Xd(t[Jd("0x4f")]).id, n = ["ck-comment-marker"]; return _this[Jd("0x4")] === t[Jd("0x4f")] && n[Jd("0x1e")](Jd("0x50")), { classes: n, attributes: { "data-comment": e } }; } }), t[Jd("0x4b")][Jd("0x4c")](Jd("0x51")).markerToElement({ model: Jd("0x4e"), view: function (e, n) { var i = t[Jd("0x6")][Jd("0x8")][Jd("0x12")](e[Jd("0x4f")]), o = Xd(e[Jd("0x4f")]).id; if (i.affectsData)
                                    return n.createUIElement(Jd("0x4e"), { id: o, type: e[Jd("0x52")] ? Jd("0x53") : Jd("0x54") }); } }), t[Jd("0x4b")].for("upcast")[Jd("0x55")]({ view: { name: "comment", attribute: { id: /^\w/ } }, model: function (t) { return "comment:" + t.getAttribute("id"); } });
                        };
                        Zd.prototype.P = function () {
                            var _this = this;
                            var t = this[Jd("0x14")], e = new Set, n = new Set;
                            t.model.document[Jd("0x56")](function (i) {
                                var e_516, _j;
                                var o = !1;
                                try {
                                    for (var _q = __values(t[Jd("0x6")][Jd("0x57")].differ[Jd("0x58")]), _z = _q.next(); !_z.done; _z = _q.next()) {
                                        var _0 = __read(_z.value, 2), r_29 = _0[0], s_22 = _0[1];
                                        var _1 = Xd(r_29), a_12 = _1.group, c_7 = _1.id;
                                        var l_2 = s_22[Jd("0x59")];
                                        if ("comment" != a_12 || !l_2)
                                            continue;
                                        var d_3 = n[Jd("0x9")](c_7), u_4 = "$graveyard" == l_2[Jd("0x5a")][Jd("0x5b")];
                                        u_4 || !(l_2 = tu(l_2, t[Jd("0x6")])) || l_2[Jd("0x5c")](s_22[Jd("0x59")]) ? l_2 && (!d_3 || !u_4 && t[Jd("0x6")][Jd("0x5d")](l_2)) ? d_3 || u_4 || (n[Jd("0x26")](c_7), _this[Jd("0xb")] ? e.add(r_29) : _this.X(r_29)) : (i[Jd("0x5e")](r_29), o = !0) : (i.updateMarker(r_29, { range: l_2 }), o = !0);
                                    }
                                }
                                catch (e_516_1) { e_516 = { error: e_516_1 }; }
                                finally {
                                    try {
                                        if (_z && !_z.done && (_j = _q.return)) _j.call(_q);
                                    }
                                    finally { if (e_516) throw e_516.error; }
                                }
                                return o;
                            }), this.on(Jd("0x5f"), function (t, n, i) {
                                var e_517, _j;
                                if (!i && e.size)
                                    try {
                                        for (var e_518 = __values(e), e_518_1 = e_518.next(); !e_518_1.done; e_518_1 = e_518.next()) {
                                            var t_257 = e_518_1.value;
                                            _this.X(t_257), e[Jd("0x3c")](t_257);
                                        }
                                    }
                                    catch (e_517_1) { e_517 = { error: e_517_1 }; }
                                    finally {
                                        try {
                                            if (e_518_1 && !e_518_1.done && (_j = e_518.return)) _j.call(e_518);
                                        }
                                        finally { if (e_517) throw e_517.error; }
                                    }
                            }), this.listenTo(t.model.markers, Jd("0x60"), function (t, i, o, r) { if (r)
                                return; var s = Xd(i[Jd("0x49")]).id, a = _this[Jd("0x2")][Jd("0x12")](s); n[Jd("0x3c")](s), e[Jd("0x3c")](i[Jd("0x49")]), a && (a[Jd("0x17")] || _this.threads[Jd("0x3b")](s), _this[Jd("0x61")](Jd("0x62"), a)); });
                        };
                        Zd.prototype.X = function (t) {
                            var _this = this;
                            var e = this[Jd("0x14")].model.markers[Jd("0x12")](t), n = Xd(t).id;
                            e[Jd("0x63")] || this[Jd("0x27")]({ threadId: n }), this[Jd("0x64")](n)[Jd("0x43")](function (t) { Jd("0x65") != _this[Jd("0x14")][Jd("0x66")] && (t ? _this[Jd("0x61")](Jd("0x67"), t) : _this[Jd("0x14")].execute(Jd("0x28"), { threadId: n })); });
                        };
                        return Zd;
                    }(Ad));
                    function Xd(t) { var e = t[Jd("0x68")](":"); return { group: e[0], id: e[1] }; }
                    function tu(t, e) {
                        var e_519, _j;
                        var n = e[Jd("0x69")], i = e[Jd("0x6a")](t[Jd("0x53")]);
                        try {
                            for (var _q = __values(t[Jd("0x6b")]()), _z = _q.next(); !_z.done; _z = _q.next()) {
                                var o_67 = _z.value;
                                var t_258 = o_67.type, r_30 = o_67.item, s_23 = o_67.nextPosition;
                                if (Jd("0x6c") == t_258 || n.isObject(r_30)) {
                                    var t_259 = e[Jd("0x6d")](r_30);
                                    i[Jd("0x6e")] && (i.start = t_259), i[Jd("0x54")] = s_23;
                                }
                            }
                        }
                        catch (e_519_1) { e_519 = { error: e_519_1 }; }
                        finally {
                            try {
                                if (_z && !_z.done && (_j = _q.return)) _j.call(_q);
                            }
                            finally { if (e_519) throw e_519.error; }
                        }
                        return i[Jd("0x6e")] ? null : i;
                    }
                    var eu = /** @class */ (function (_super) {
                        __extends(eu, _super);
                        function eu(t) {
                            var _this = this;
                            _this = _super.call(this) || this, _this.id = t;
                            return _this;
                        }
                        eu.prototype.add = function (t) {
                            var _this = this;
                            return this[Jd("0x6f")](t, "change", function (e, n) { if ("createdAt" == n) {
                                var e_520 = _this.Y(t);
                                e_520 - 1 != _this[Jd("0x70")](t) && e_520 + 1 != _this[Jd("0x70")](t) && (_this[Jd("0x3b")](t), _this[Jd("0x26")](t));
                            } _this[Jd("0x61")](Jd("0x7")); }), t[Jd("0x3a")] ? _super.prototype[Jd("0x26")].call(this, t, this.Y(t)) : _super.prototype[Jd("0x26")].call(this, t);
                        };
                        eu.prototype[Jd("0x3b")] = function (t) { return this[Jd("0x71")](t), t[Jd("0x72")](), _super.prototype[Jd("0x3b")].call(this, t); };
                        eu.prototype.Y = function (t) { var e = this.find(function (e) { return new Date(e[Jd("0x3a")])[Jd("0x73")]() > new Date(t[Jd("0x3a")])[Jd("0x73")](); }); return e ? this.getIndex(e) : this.length; };
                        eu.prototype[Jd("0x74")] = function () { return { threadId: this.id, comments: this[Jd("0x21")](function (t) { return t[Jd("0x74")](); }) }; };
                        return eu;
                    }(oo));
                    var nu = /** @class */ (function () {
                        function nu(t) {
                            this.id = t.id, this.author = t.author, this[Jd("0x3")](Jd("0x39"), t[Jd("0x39")]), this[Jd("0x3")](Jd("0x3a"), t.createdAt);
                        }
                        nu.prototype.toJSON = function () { return { commentId: this.id, content: this[Jd("0x39")], createdAt: this[Jd("0x3a")], authorId: this[Jd("0x75")].id }; };
                        nu.prototype[Jd("0x72")] = function () { this[Jd("0x71")](); };
                        return nu;
                    }());
                    ci(nu, Bi);
                    var iu = /** @class */ (function () {
                        function iu(t) {
                            this.tt = t, this.et = new Set;
                        }
                        iu.prototype[Jd("0x3")] = function (t) { this.et.add(t), this.nt || (this.nt = this.tt[Jd("0x26")]("Unsaved changes in comments.")); };
                        iu.prototype[Jd("0x3b")] = function (t) { this.et[Jd("0x3c")](t), this.nt && !this.et[Jd("0x76")] && (this.tt[Jd("0x3b")](this.nt), this.nt = null); };
                        iu.prototype[Symbol[Jd("0x77")]] = function () { return this.et[Jd("0x78")]()[Symbol[Jd("0x77")]](); };
                        return iu;
                    }());
                    var ou = ["change:isEnabled", "pluginName", "CommentsOnly", "requires", "editor", "config", "get", "commentsOnly", "includes", "constructor", "forceDisabled", "commentsOnlyMode", "document", "listenTo", "cut", "stop", "clipboardInput", "highest", "delete", "commands", "clearForceDisabled", "stopListening", "editing", "view", "set"];
                    !function (t, e) { !function (e) { for (; --e;)
                        t.push(t.shift()); }(++e); }(ou, 174);
                    var ru = function (t, e) { return ou[t -= 0]; };
                    var su = /** @class */ (function (_super) {
                        __extends(su, _super);
                        function su(t) {
                            var _this = this;
                            _this = _super.call(this, t) || this, _this.Ot = [zd, Bd, Wd, Nd, Dd], _this[ru("0x0")]("isEnabled", !1), _this.on(ru("0x1"), function (t, e, n) { n ? _this.Mt() : _this.It(); });
                            return _this;
                        }
                        Object.defineProperty(su, ru("0x2"), {
                            get: function () { return ru("0x3"); },
                            enumerable: true,
                            configurable: true
                        });
                        Object.defineProperty(su, ru("0x4"), {
                            get: function () { return [Zd]; },
                            enumerable: true,
                            configurable: true
                        });
                        su.prototype.afterInit = function () { this.isEnabled = !!this[ru("0x5")][ru("0x6")][ru("0x7")](ru("0x8")); };
                        su.prototype.Mt = function () {
                            var e_521, _j;
                            try {
                                for (var _q = __values(this[ru("0x5")].commands.commands()), _z = _q.next(); !_z.done; _z = _q.next()) {
                                    var t_260 = _z.value;
                                    this.Ot[ru("0x9")](t_260[ru("0xa")]) || t_260[ru("0xb")](ru("0xc"));
                                }
                            }
                            catch (e_521_1) { e_521 = { error: e_521_1 }; }
                            finally {
                                try {
                                    if (_z && !_z.done && (_j = _q.return)) _j.call(_q);
                                }
                                finally { if (e_521) throw e_521.error; }
                            }
                            var t = this[ru("0x5")].editing.view[ru("0xd")];
                            this[ru("0xe")](t, ru("0xf"), function (t) { return t[ru("0x10")](); }, { priority: "highest" }), this.listenTo(t, ru("0x11"), function (t) { return t[ru("0x10")](); }, { priority: ru("0x12") }), this[ru("0xe")](t, ru("0x13"), function (t) { return t.stop(); }, { priority: "highest" });
                        };
                        su.prototype.It = function () {
                            var e_522, _j;
                            try {
                                for (var _q = __values(this[ru("0x5")][ru("0x14")][ru("0x14")]()), _z = _q.next(); !_z.done; _z = _q.next()) {
                                    var t_261 = _z.value;
                                    this.Ot[ru("0x9")](t_261.constructor) || t_261[ru("0x15")](ru("0xc"));
                                }
                            }
                            catch (e_522_1) { e_522 = { error: e_522_1 }; }
                            finally {
                                try {
                                    if (_z && !_z.done && (_j = _q.return)) _j.call(_q);
                                }
                                finally { if (e_522) throw e_522.error; }
                            }
                            this[ru("0x16")](this[ru("0x5")][ru("0x17")][ru("0x18")][ru("0xd")]);
                        };
                        return su;
                    }(Ad));
                    var au = n(34), cu = n.n(au), lu = "Expected a function";
                    var du = function (t, e, n) { var i = !0, o = !0; if ("function" != typeof t)
                        throw new TypeError(lu); return F(n) && (i = "leading" in n ? !!n.leading : i, o = "trailing" in n ? !!n.trailing : o), ps(t, e, { leading: i, maxWait: e, trailing: o }); }, uu = ["cancel", "attributes", "type", "class", "attributeName", "childList", "observe", "disconnect"];
                    !function (t, e) { !function (e) { for (; --e;)
                        t.push(t.shift()); }(++e); }(uu, 465);
                    var hu = function (t, e) { return uu[t -= 0]; };
                    function mu(t) { var e = du(t, 30), n = new MutationObserver(function (t) {
                        var e_523, _j;
                        try {
                            for (var t_262 = __values(t), t_262_1 = t_262.next(); !t_262_1.done; t_262_1 = t_262.next()) {
                                var n_201 = t_262_1.value;
                                (hu("0x0") == n_201[hu("0x1")] && hu("0x2") == n_201[hu("0x3")] || hu("0x4") == n_201[hu("0x1")]) && e();
                            }
                        }
                        catch (e_523_1) { e_523 = { error: e_523_1 }; }
                        finally {
                            try {
                                if (t_262_1 && !t_262_1.done && (_j = t_262.return)) _j.call(t_262);
                            }
                            finally { if (e_523) throw e_523.error; }
                        }
                    }); return { attach: function (t) { n[hu("0x5")](t, { attributes: !0, childList: !0, subtree: !0 }); }, detach: function () { n[hu("0x6")](), e[hu("0x7")](); } }; }
                    var gu = ["ck-annotation-wrapper--active", "element", "render", "add", "destroy", "detach", "mainView", "narrowView", "focusTracker", "keystrokes", "Esc", "fire", "set", "targetRect", "height", "active", "updateHeight", "content", "createCollection", "bindTemplate", "setTemplate", "ck-rounded-corners"];
                    !function (t, e) { !function (e) { for (; --e;)
                        t.push(t.shift()); }(++e); }(gu, 160);
                    var fu = function (t, e) { return gu[t -= 0]; };
                    var pu = /** @class */ (function (_super) {
                        __extends(pu, _super);
                        function pu(t, e, n) {
                            var _this = this;
                            _this = _super.call(this, t) || this, _this.id = Jn(), _this[fu("0x0")] = e, _this[fu("0x1")] = n, _this[fu("0x2")] = new ll, _this[fu("0x3")] = new tl, _this[fu("0x3")].set(fu("0x4"), function () { return _this[fu("0x5")](fu("0x4")); }), _this[fu("0x6")](fu("0x7"), { top: 0, right: 0, bottom: 0, left: 0 }), _this[fu("0x6")](fu("0x8"), 0), _this[fu("0x6")](fu("0x9")), _this.K = mu(function () { return _this[fu("0xa")](); }), _this[fu("0xb")] = _this[fu("0xc")](), _this[fu("0xb")].add(_this.mainView);
                            var i = _this[fu("0xd")];
                            _this[fu("0xe")]({ tag: "div", attributes: { class: ["ck", "ck-annotation-wrapper", fu("0xf"), i.if(fu("0x9"), fu("0x10"))], tabindex: -1 }, children: _this.content });
                            return _this;
                        }
                        pu.prototype[fu("0xa")] = function () { var t = this[fu("0x11")].clientHeight; t && (this.height = t); };
                        pu.prototype[fu("0x12")] = function () { _super.prototype[fu("0x12")].call(this), this[fu("0x2")][fu("0x13")](this[fu("0x11")]), this[fu("0x3")].listenTo(this.element), this.K.attach(this[fu("0x11")]); };
                        pu.prototype[fu("0x14")] = function () { this[fu("0xb")].clear(), this.keystrokes.destroy(), this[fu("0x2")][fu("0x14")](), this.K[fu("0x15")](), _super.prototype[fu("0x14")].call(this); };
                        return pu;
                    }(zl));
                    n(103);
                    var xu = Wl("px"), bu = er.document.body;
                    var ku = /** @class */ (function (_super) {
                        __extends(ku, _super);
                        function ku(t) {
                            var _this = _super.call(this, t) || this;
                            var e = _this.bindTemplate;
                            _this.set("top", 0), _this.set("left", 0), _this.set("position", "arrow_nw"), _this.set("isVisible", !1), _this.set("withArrow", !0), _this.set("class"), _this.content = _this.createCollection(), _this.setTemplate({ tag: "div", attributes: { class: ["ck", "ck-balloon-panel", e.to("position", function (t) { return "ck-balloon-panel_" + t; }), e.if("isVisible", "ck-balloon-panel_visible"), e.if("withArrow", "ck-balloon-panel_with-arrow"), e.to("class")], style: { top: e.to("top", xu), left: e.to("left", xu) } }, children: _this.content });
                            return _this;
                        }
                        ku.prototype.show = function () { this.isVisible = !0; };
                        ku.prototype.hide = function () { this.isVisible = !1; };
                        ku.prototype.attachTo = function (t) { this.show(); var e = ku.defaultPositions, n = Object.assign({}, { element: this.element, positions: [e.southArrowNorth, e.southArrowNorthWest, e.southArrowNorthEast, e.northArrowSouth, e.northArrowSouthWest, e.northArrowSouthEast], limiter: bu, fitInViewport: !0 }, t), i = ku._getOptimalPosition(n), o = parseInt(i.left), r = parseInt(i.top), s = i.name; Object.assign(this, { top: r, left: o, position: s }); };
                        ku.prototype.pin = function (t) {
                            var _this = this;
                            this.unpin(), this._pinWhenIsVisibleCallback = (function () { _this.isVisible ? _this._startPinning(t) : _this._stopPinning(); }), this._startPinning(t), this.listenTo(this, "change:isVisible", this._pinWhenIsVisibleCallback);
                        };
                        ku.prototype.unpin = function () { this._pinWhenIsVisibleCallback && (this._stopPinning(), this.stopListening(this, "change:isVisible", this._pinWhenIsVisibleCallback), this._pinWhenIsVisibleCallback = null, this.hide()); };
                        ku.prototype._startPinning = function (t) {
                            var _this = this;
                            this.attachTo(t);
                            var e = wu(t.target), n = t.limiter ? wu(t.limiter) : bu;
                            this.listenTo(er.document, "scroll", function (i, o) { var r = o.target, s = e && r.contains(e), a = n && r.contains(n); !s && !a && e && n || _this.attachTo(t); }, { useCapture: !0 }), this.listenTo(er.window, "resize", function () { _this.attachTo(t); });
                        };
                        ku.prototype._stopPinning = function () { this.stopListening(er.document, "scroll"), this.stopListening(er.window, "resize"); };
                        return ku;
                    }(zl));
                    function wu(t) { return qn(t) ? t : vs(t) ? t.commonAncestorContainer : "function" == typeof t ? wu(t()) : null; }
                    function _u(t, e) { return t.top - e.height - ku.arrowVerticalOffset; }
                    function vu(t) { return t.bottom + ku.arrowVerticalOffset; }
                    ku.arrowHorizontalOffset = 25, ku.arrowVerticalOffset = 10, ku._getOptimalPosition = td, ku.defaultPositions = { northArrowSouth: function (t, e) { return ({ top: _u(t, e), left: t.left + t.width / 2 - e.width / 2, name: "arrow_s" }); }, northArrowSouthEast: function (t, e) { return ({ top: _u(t, e), left: t.left + t.width / 2 - e.width + ku.arrowHorizontalOffset, name: "arrow_se" }); }, northArrowSouthWest: function (t, e) { return ({ top: _u(t, e), left: t.left + t.width / 2 - ku.arrowHorizontalOffset, name: "arrow_sw" }); }, northWestArrowSouth: function (t, e) { return ({ top: _u(t, e), left: t.left - e.width / 2, name: "arrow_s" }); }, northWestArrowSouthWest: function (t, e) { return ({ top: _u(t, e), left: t.left - ku.arrowHorizontalOffset, name: "arrow_sw" }); }, northWestArrowSouthEast: function (t, e) { return ({ top: _u(t, e), left: t.left - e.width + ku.arrowHorizontalOffset, name: "arrow_se" }); }, northEastArrowSouth: function (t, e) { return ({ top: _u(t, e), left: t.right - e.width / 2, name: "arrow_s" }); }, northEastArrowSouthEast: function (t, e) { return ({ top: _u(t, e), left: t.right - e.width + ku.arrowHorizontalOffset, name: "arrow_se" }); }, northEastArrowSouthWest: function (t, e) { return ({ top: _u(t, e), left: t.right - ku.arrowHorizontalOffset, name: "arrow_sw" }); }, southArrowNorth: function (t, e) { return ({ top: vu(t), left: t.left + t.width / 2 - e.width / 2, name: "arrow_n" }); }, southArrowNorthEast: function (t, e) { return ({ top: vu(t), left: t.left + t.width / 2 - e.width + ku.arrowHorizontalOffset, name: "arrow_ne" }); }, southArrowNorthWest: function (t, e) { return ({ top: vu(t), left: t.left + t.width / 2 - ku.arrowHorizontalOffset, name: "arrow_nw" }); }, southWestArrowNorth: function (t, e) { return ({ top: vu(t), left: t.left - e.width / 2, name: "arrow_n" }); }, southWestArrowNorthWest: function (t, e) { return ({ top: vu(t), left: t.left - ku.arrowHorizontalOffset, name: "arrow_nw" }); }, southWestArrowNorthEast: function (t, e) { return ({ top: vu(t), left: t.left - e.width + ku.arrowHorizontalOffset, name: "arrow_ne" }); }, southEastArrowNorth: function (t, e) { return ({ top: vu(t), left: t.right - e.width / 2, name: "arrow_n" }); }, southEastArrowNorthEast: function (t, e) { return ({ top: vu(t), left: t.right - e.width + ku.arrowHorizontalOffset, name: "arrow_ne" }); }, southEastArrowNorthWest: function (t, e) { return ({ top: vu(t), left: t.right - ku.arrowHorizontalOffset, name: "arrow_nw" }); } };
                    var yu = n(35), Cu = n.n(yu), Tu = n(36), Au = n.n(Tu);
                    n(105), n(107);
                    var Su = Wl("px");
                    var Pu = /** @class */ (function (_super) {
                        __extends(Pu, _super);
                        function Pu(t) {
                            var _this = this;
                            _this = _super.call(this, t) || this, _this.positionLimiter = (function () { var t = _this.editor.editing.view, e = t.document.selection.editableElement; return e ? t.domConverter.mapViewToDom(e.root) : null; }), _this.set("visibleView", null), _this.view = new ku(t.locale), t.ui.view.body.add(_this.view), t.ui.focusTracker.add(_this.view.element), _this._viewToStack = new Map, _this._idToStack = new Map, _this.set("_numberOfStacks", 0), _this.set("_singleViewMode", !1), _this._rotatorView = _this._createRotatorView(), _this._fakePanelsView = _this._createFakePanelsView();
                            return _this;
                        }
                        Object.defineProperty(Pu, "pluginName", {
                            get: function () { return "ContextualBalloon"; },
                            enumerable: true,
                            configurable: true
                        });
                        Pu.prototype.hasView = function (t) { return Array.from(this._viewToStack.keys()).includes(t); };
                        Pu.prototype.add = function (t) { if (this.hasView(t.view))
                            throw new Gn.b("contextualballoon-add-view-exist: Cannot add configuration of the same view twice.", [this, t]); var e = t.stackId || "main"; if (!this._idToStack.has(e))
                            return this._idToStack.set(e, new Map([[t.view, t]])), this._viewToStack.set(t.view, this._idToStack.get(e)), this._numberOfStacks = this._idToStack.size, void (this._visibleStack && !t.singleViewMode || this.showStack(e)); var n = this._idToStack.get(e); t.singleViewMode && this.showStack(e), n.set(t.view, t), this._viewToStack.set(t.view, n), n === this._visibleStack && this._showView(t); };
                        Pu.prototype.remove = function (t) { if (!this.hasView(t))
                            throw new Gn.b("contextualballoon-remove-view-not-exist: Cannot remove the configuration of a non-existent view.", [this, t]); var e = this._viewToStack.get(t); this._singleViewMode && this.visibleView === t && (this._singleViewMode = !1), this.visibleView === t && (1 === e.size ? this._idToStack.size > 1 ? this._showNextStack() : (this.view.hide(), this.visibleView = null, this._rotatorView.hideView()) : this._showView(Array.from(e.values())[e.size - 2])), 1 === e.size ? (this._idToStack.delete(this._getStackId(e)), this._numberOfStacks = this._idToStack.size) : e.delete(t), this._viewToStack.delete(t); };
                        Pu.prototype.updatePosition = function (t) { t && (this._visibleStack.get(this.visibleView).position = t), this.view.pin(this._getBalloonPosition()), this._fakePanelsView.updatePosition(); };
                        Pu.prototype.showStack = function (t) { this.visibleStack = t; var e = this._idToStack.get(t); if (!e)
                            throw new Gn.b("contextualballoon-showstack-stack-not-exist: Cannot show a stack that does not exist.", this); this._visibleStack !== e && this._showView(Array.from(e.values()).pop()); };
                        Object.defineProperty(Pu.prototype, "_visibleStack", {
                            get: function () { return this._viewToStack.get(this.visibleView); },
                            enumerable: true,
                            configurable: true
                        });
                        Pu.prototype._getStackId = function (t) { return Array.from(this._idToStack.entries()).find(function (e) { return e[1] === t; })[0]; };
                        Pu.prototype._showNextStack = function () { var t = Array.from(this._idToStack.values()); var e = t.indexOf(this._visibleStack) + 1; t[e] || (e = 0), this.showStack(this._getStackId(t[e])); };
                        Pu.prototype._showPrevStack = function () { var t = Array.from(this._idToStack.values()); var e = t.indexOf(this._visibleStack) - 1; t[e] || (e = t.length - 1), this.showStack(this._getStackId(t[e])); };
                        Pu.prototype._createRotatorView = function () {
                            var _this = this;
                            var t = new Mu(this.editor.locale), e = this.editor.locale.t;
                            return this.view.content.add(t), t.bind("isNavigationVisible").to(this, "_numberOfStacks", this, "_singleViewMode", function (t, e) { return !e && t > 1; }), t.on("change:isNavigationVisible", function () { return _this.updatePosition(); }, { priority: "low" }), t.bind("counter").to(this, "visibleView", this, "_numberOfStacks", function (t, n) { if (n < 2)
                                return ""; var i = Array.from(_this._idToStack.values()).indexOf(_this._visibleStack) + 1; return e("ca", [i, n]); }), t.buttonNextView.on("execute", function () { t.focusTracker.isFocused && _this.editor.editing.view.focus(), _this._showNextStack(); }), t.buttonPrevView.on("execute", function () { t.focusTracker.isFocused && _this.editor.editing.view.focus(), _this._showPrevStack(); }), t;
                        };
                        Pu.prototype._createFakePanelsView = function () { var t = new Eu(this.editor.locale, this.view); return t.bind("numberOfPanels").to(this, "_numberOfStacks", this, "_singleViewMode", function (t, e) { return !e && t >= 2 ? Math.min(t - 1, 2) : 0; }), t.listenTo(this.view, "change:top", function () { return t.updatePosition(); }), t.listenTo(this.view, "change:left", function () { return t.updatePosition(); }), this.editor.ui.view.body.add(t), t; };
                        Pu.prototype._showView = function (_j) {
                            var t = _j.view, _q = _j.balloonClassName, e = _q === void 0 ? "" : _q, _z = _j.withArrow, n = _z === void 0 ? !0 : _z, _0 = _j.singleViewMode, i = _0 === void 0 ? !1 : _0;
                            this.view.class = e, this.view.withArrow = n, this._rotatorView.showView(t), this.visibleView = t, this.view.pin(this._getBalloonPosition()), this._fakePanelsView.updatePosition(), i && (this._singleViewMode = !0);
                        };
                        Pu.prototype._getBalloonPosition = function () { var t = Array.from(this._visibleStack.values()).pop().position; return t && !t.limiter && (t = Object.assign({}, t, { limiter: this.positionLimiter })), t; };
                        return Pu;
                    }(Ad));
                    var Mu = /** @class */ (function (_super) {
                        __extends(Mu, _super);
                        function Mu(t) {
                            var _this = _super.call(this, t) || this;
                            var e = t.t, n = _this.bindTemplate;
                            _this.set("isNavigationVisible", !0), _this.focusTracker = new ll, _this.buttonPrevView = _this._createButtonView(e("cb"), Cu.a), _this.buttonNextView = _this._createButtonView(e("cc"), Au.a), _this.content = _this.createCollection(), _this.setTemplate({ tag: "div", attributes: { class: ["ck", "ck-balloon-rotator"], "z-index": "-1" }, children: [{ tag: "div", attributes: { class: ["ck-balloon-rotator__navigation", n.to("isNavigationVisible", function (t) { return t ? "" : "ck-hidden"; })] }, children: [_this.buttonPrevView, { tag: "span", attributes: { class: ["ck-balloon-rotator__counter"] }, children: [{ text: n.to("counter") }] }, _this.buttonNextView] }, { tag: "div", attributes: { class: "ck-balloon-rotator__content" }, children: _this.content }] });
                            return _this;
                        }
                        Mu.prototype.render = function () { _super.prototype.render.call(this), this.focusTracker.add(this.element); };
                        Mu.prototype.showView = function (t) { this.hideView(), this.content.add(t); };
                        Mu.prototype.hideView = function () { this.content.clear(); };
                        Mu.prototype._createButtonView = function (t, e) { var n = new sd(this.locale); return n.set({ label: t, icon: e, tooltip: !0 }), n; };
                        return Mu;
                    }(zl));
                    var Eu = /** @class */ (function (_super) {
                        __extends(Eu, _super);
                        function Eu(t, e) {
                            var _this = _super.call(this, t) || this;
                            var n = _this.bindTemplate;
                            _this.set("top", 0), _this.set("left", 0), _this.set("height", 0), _this.set("width", 0), _this.set("numberOfPanels", 0), _this.content = _this.createCollection(), _this._balloonPanelView = e, _this.setTemplate({ tag: "div", attributes: { class: ["ck-fake-panel", n.to("numberOfPanels", function (t) { return t ? "" : "ck-hidden"; })], style: { top: n.to("top", Su), left: n.to("left", Su), width: n.to("width", Su), height: n.to("height", Su) } }, children: _this.content }), _this.on("change:numberOfPanels", function (t, e, n, i) { n > i ? _this._addPanels(n - i) : _this._removePanels(i - n), _this.updatePosition(); });
                            return _this;
                        }
                        Eu.prototype._addPanels = function (t) { for (; t--;) {
                            var t_263 = new zl;
                            t_263.setTemplate({ tag: "div" }), this.content.add(t_263), this.registerChild(t_263);
                        } };
                        Eu.prototype._removePanels = function (t) { for (; t--;) {
                            var t_264 = this.content.last;
                            this.content.remove(t_264), this.deregisterChild(t_264), t_264.destroy();
                        } };
                        Eu.prototype.updatePosition = function () { if (this.numberOfPanels) {
                            var _j = this._balloonPanelView, t_265 = _j.top, e_524 = _j.left, _q = new Ts(this._balloonPanelView.element), n_202 = _q.width, i_112 = _q.height;
                            Object.assign(this, { top: t_265, left: e_524, width: n_202, height: i_112 });
                        } };
                        return Eu;
                    }(zl));
                    var Iu = /** @class */ (function (_super) {
                        __extends(Iu, _super);
                        function Iu(t) {
                            var _this = this;
                            _this = _super.call(this, t) || this, _this.domEventType = "mousedown";
                            return _this;
                        }
                        Iu.prototype.onDomEvent = function (t) { this.fire(t.type, t); };
                        return Iu;
                    }(es));
                    n(109);
                    var Nu = ["InlineAnnotations", "editing", "view", "get", "init", "editor", "plugins", "register", "inline", "keystrokes", "set", "Esc", "isAttached", "visibleView", "items", "has", "add", "afterInit", "uiType", "destroy", "detach", "attach", "inlineannotations-attach-already-attached: Cannot attach the same annotations twice.", "listenTo", "focusTracker", "change:isFocused", "remove", "change:selectedViews", "includes", "delete", "getAnnotationView", "mainView", "change:activeView", "change:visibleView", "stopListening", "change:height", "activeView", "update", "updatePosition", "document", "clear", "refreshActiveView", "inlineannotations-detach-not-attached: Cannot detach not attached annotations.", "hasView", "showStack", "getMarkers", "getMarkerDomElement", "requires", "pluginName"];
                    !function (t, e) { !function (e) { for (; --e;)
                        t.push(t.shift()); }(++e); }(Nu, 243);
                    var Ru = function (t, e) { return Nu[t -= 0]; };
                    var Ou = /** @class */ (function (_super) {
                        __extends(Ou, _super);
                        function Ou(t) {
                            var _this = this;
                            _this = _super.call(this, t) || this, t[Ru("0x3")][Ru("0x4")].addObserver(Iu), _this.isAttached = !1, _this.k = new Set, _this.v = t.plugins[Ru("0x5")](Pu);
                            return _this;
                        }
                        Object.defineProperty(Ou, Ru("0x0"), {
                            get: function () { return [zu, Pu]; },
                            enumerable: true,
                            configurable: true
                        });
                        Object.defineProperty(Ou, Ru("0x1"), {
                            get: function () { return Ru("0x2"); },
                            enumerable: true,
                            configurable: true
                        });
                        Ou.prototype[Ru("0x6")] = function () {
                            var _this = this;
                            this.A = this[Ru("0x7")][Ru("0x8")][Ru("0x5")](zu), this.A[Ru("0x9")](Ru("0xa"), this), this[Ru("0x7")][Ru("0xb")][Ru("0xc")](Ru("0xd"), function (t, e) { var n = _this.v, i = _this.A; _this[Ru("0xe")] && n[Ru("0xf")] && i[Ru("0x10")][Ru("0x11")](n.visibleView) && (_this.k[Ru("0x12")](n[Ru("0xf")]), _this.I(n[Ru("0xf")]), e()); });
                        };
                        Ou.prototype[Ru("0x13")] = function () { this.A[Ru("0x14")] || this.A.switchTo("inline"); };
                        Ou.prototype[Ru("0x15")] = function () { this.isAttached && this[Ru("0x16")](); };
                        Ou.prototype[Ru("0x17")] = function () {
                            var _this = this;
                            var t = this.A, e = this.v;
                            if (this.isAttached)
                                throw new Gn.b(Ru("0x18"), this);
                            this[Ru("0x19")](this.editor.ui[Ru("0x1a")], Ru("0x1b"), function (e, n, i) {
                                var e_525, _j;
                                if (!i)
                                    try {
                                        for (var _q = __values(t[Ru("0x10")]), _z = _q.next(); !_z.done; _z = _q.next()) {
                                            var e_526 = _z.value;
                                            _this.I(e_526);
                                        }
                                    }
                                    catch (e_525_1) { e_525 = { error: e_525_1 }; }
                                    finally {
                                        try {
                                            if (_z && !_z.done && (_j = _q.return)) _j.call(_q);
                                        }
                                        finally { if (e_525) throw e_525.error; }
                                    }
                            }), this[Ru("0x19")](t[Ru("0x10")], Ru("0x1c"), function (t, e) { _this.I(e); }), this[Ru("0x19")](t, Ru("0x1d"), function (e, n, i, o) {
                                var e_527, _j, e_528, _q, e_529, _z;
                                try {
                                    for (var o_68 = __values(o), o_68_1 = o_68.next(); !o_68_1.done; o_68_1 = o_68.next()) {
                                        var e_530 = o_68_1.value;
                                        i[Ru("0x1e")](e_530) || _this.k[Ru("0x1f")](t[Ru("0x20")](e_530));
                                    }
                                }
                                catch (e_527_1) { e_527 = { error: e_527_1 }; }
                                finally {
                                    try {
                                        if (o_68_1 && !o_68_1.done && (_j = o_68.return)) _j.call(o_68);
                                    }
                                    finally { if (e_527) throw e_527.error; }
                                }
                                try {
                                    for (var _0 = __values(t[Ru("0x10")]), _1 = _0.next(); !_1.done; _1 = _0.next()) {
                                        var e_531 = _1.value;
                                        i[Ru("0x1e")](e_531[Ru("0x21")]) || _this.I(e_531);
                                    }
                                }
                                catch (e_528_1) { e_528 = { error: e_528_1 }; }
                                finally {
                                    try {
                                        if (_1 && !_1.done && (_q = _0.return)) _q.call(_0);
                                    }
                                    finally { if (e_528) throw e_528.error; }
                                }
                                try {
                                    for (var i_113 = __values(i), i_113_1 = i_113.next(); !i_113_1.done; i_113_1 = i_113.next()) {
                                        var e_532 = i_113_1.value;
                                        _this.V(t.getAnnotationView(e_532));
                                    }
                                }
                                catch (e_529_1) { e_529 = { error: e_529_1 }; }
                                finally {
                                    try {
                                        if (i_113_1 && !i_113_1.done && (_z = i_113.return)) _z.call(i_113);
                                    }
                                    finally { if (e_529) throw e_529.error; }
                                }
                            }), this[Ru("0x19")](t, Ru("0x22"), function (n, i, o) { o && e[Ru("0xf")] && _this.V(t[Ru("0x20")](o), !0); }), this[Ru("0x19")](e, Ru("0x23"), function (n, i, o, r) { r && _this[Ru("0x24")](r), o && t.items.has(o) && (_this[Ru("0x19")](o, Ru("0x25"), function () { return e.updatePosition(); }), _this[Ru("0x19")](o, Ru("0xd"), function () { _this.k.add(o), _this.I(o), _this.editor[Ru("0x3")][Ru("0x4")].focus(); }), t[Ru("0x26")] !== o.mainView && (t.activeView = o[Ru("0x21")])); }), this[Ru("0x19")](this[Ru("0x7")].ui, Ru("0x27"), function () { e.visibleView && t[Ru("0x10")][Ru("0x11")](e[Ru("0xf")]) && e[Ru("0x28")](); }), this[Ru("0x19")](this[Ru("0x7")][Ru("0x3")].view[Ru("0x29")], "mousedown", function () { _this.k[Ru("0x2a")](), _this.A[Ru("0x2b")](); }), this[Ru("0xe")] = !0;
                        };
                        Ou.prototype.detach = function () {
                            var e_533, _j;
                            if (!this[Ru("0xe")])
                                throw new Gn.b(Ru("0x2c"), this);
                            var t = this.A, e = this.v;
                            try {
                                for (var _q = __values(t.selectedViews), _z = _q.next(); !_z.done; _z = _q.next()) {
                                    var e_534 = _z.value;
                                    this.I(t[Ru("0x20")](e_534));
                                }
                            }
                            catch (e_533_1) { e_533 = { error: e_533_1 }; }
                            finally {
                                try {
                                    if (_z && !_z.done && (_j = _q.return)) _j.call(_q);
                                }
                                finally { if (e_533) throw e_533.error; }
                            }
                            this.stopListening(t.items), this[Ru("0x24")](t), this[Ru("0x24")](e), this[Ru("0x24")](this[Ru("0x7")].ui), this[Ru("0x24")](this[Ru("0x7")].ui.focusTracker), this[Ru("0x24")](this[Ru("0x7")].editing[Ru("0x4")][Ru("0x29")]), this.isAttached = !1;
                        };
                        Ou.prototype.V = function (t, e) {
                            var _this = this;
                            this[Ru("0x7")].ui.focusTracker.isFocused && (this.k[Ru("0x11")](t) || (this.v[Ru("0x2d")](t) || this.v[Ru("0x12")]({ stackId: t.id, view: t, position: { target: function () { return _this._(t[Ru("0x21")]); } } }), e && this.v[Ru("0x2e")](t.id)));
                        };
                        Ou.prototype.I = function (t) { this.v.hasView(t) && this.v.remove(t); };
                        Ou.prototype._ = function (t) { var e = this.A[Ru("0x2f")](t)[0]; return e ? this.A[Ru("0x30")](e) : {}; };
                        return Ou;
                    }(Ad));
                    function Du(t) { var e = t.next(); return e.done ? null : e.value; }
                    var Lu = ["selectedViews", "_throttledOrderUpdate", "editor", "model", "document", "registerPostFixer", "refreshActiveView", "listenTo", "selection", "change:range", "editing", "view", "change:isFocused", "focusTracker", "addEventListener", "resize", "register", "has", "annotations-register-already-registered: UI of a given name already registered.", "attach", "function", "detach", "annotations-register-invalid-interface: UI plugin does not have both #attach and #detach methods.", "switchTo", "annotations-switchto-missing-ui: UI of a given name has been not registered.", "get", "add", "annotations-duplicated-item: Given view already added to the annotations.", "isArray", "addMarker", "render", "element", "bind", "active", "getMarkers", "targetRect", "remove", "getAnnotationView", "_markerToView", "delete", "splice", "length", "before", "getRange", "compareWith", "hasMarker", "removeMarker", "indexOf", "pop", "isFocused", "includes", "getMarkerDomElement", "mapper", "markerNameToElements", "name", "values", "domConverter", "mapViewToDom", "destroy", "removeEventListener", "cancel", "map", "markers", "push", "sort", "end", "start", "isAfter", "isBefore", "isTouching", "mainView", "from", "getIndex", "max", "top", "left", "requires", "pluginName", "uiType", "items", "set", "activeView"];
                    !function (t, e) { !function (e) { for (; --e;)
                        t.push(t.shift()); }(++e); }(Lu, 240);
                    var Vu = function (t, e) { return Lu[t -= 0]; };
                    var zu = /** @class */ (function (_super) {
                        __extends(zu, _super);
                        function zu(t) {
                            var _this = this;
                            _this = _super.call(this, t) || this, _this[Vu("0x2")] = "", _this[Vu("0x3")] = new oo, _this[Vu("0x4")](Vu("0x5"), null), _this[Vu("0x4")](Vu("0x6"), []), _this._markerToView = new Map, _this.i = new Map, _this.s = new Map, _this.o = new Map, _this[Vu("0x7")] = du(function () { _this.h(), _this.u(); }, 400, { leading: !1 });
                            return _this;
                        }
                        Object.defineProperty(zu, Vu("0x0"), {
                            get: function () { return [Ou]; },
                            enumerable: true,
                            configurable: true
                        });
                        Object.defineProperty(zu, Vu("0x1"), {
                            get: function () { return "Annotations"; },
                            enumerable: true,
                            configurable: true
                        });
                        zu.prototype.init = function () {
                            var _this = this;
                            var t = this[Vu("0x8")];
                            t[Vu("0x9")][Vu("0xa")][Vu("0xb")](function () { return _this[Vu("0xc")](); }), this[Vu("0xd")](t.model[Vu("0xa")][Vu("0xe")], Vu("0xf"), function (t, _j) {
                                var e = _j.directChange;
                                e && (_this[Vu("0x5")] = null);
                            }), this.listenTo(t[Vu("0x10")][Vu("0x11")][Vu("0xa")], Vu("0x12"), function (t, e, n) { n && _this[Vu("0xc")](); }), this[Vu("0xd")](t.ui[Vu("0x13")], "change:isFocused", function (t, e, n) { n || (_this[Vu("0x5")] = null); }), this[Vu("0xd")](t.ui, "update", this._throttledOrderUpdate), window[Vu("0x14")](Vu("0x15"), this._throttledOrderUpdate);
                        };
                        zu.prototype[Vu("0x16")] = function (t, e) { if (this.o[Vu("0x17")](t))
                            throw new Gn.b(Vu("0x18"), this); if ("function" != typeof e[Vu("0x19")] || Vu("0x1a") != typeof e[Vu("0x1b")])
                            throw new Gn.b(Vu("0x1c"), this); this.o[Vu("0x4")](t, e); };
                        zu.prototype[Vu("0x1d")] = function (t) { if (!this.o[Vu("0x17")](t))
                            throw new Gn.b(Vu("0x1e"), this); this[Vu("0x2")] !== t && (this.uiType && this.o[Vu("0x1f")](this[Vu("0x2")])[Vu("0x1b")](), this[Vu("0x2")] = t, this.o[Vu("0x1f")](this[Vu("0x2")])[Vu("0x19")]()); };
                        zu.prototype[Vu("0x20")] = function (t, e, n) {
                            var _this = this;
                            var e_535, _j;
                            if (this.s[Vu("0x17")](t))
                                throw new Gn.b(Vu("0x21"), this);
                            Array[Vu("0x22")](n) || (n = [n]);
                            try {
                                for (var n_203 = __values(n), n_203_1 = n_203.next(); !n_203_1.done; n_203_1 = n_203.next()) {
                                    var e_536 = n_203_1.value;
                                    this[Vu("0x23")](t, e_536);
                                }
                            }
                            catch (e_535_1) { e_535 = { error: e_535_1 }; }
                            finally {
                                try {
                                    if (n_203_1 && !n_203_1.done && (_j = n_203.return)) _j.call(n_203);
                                }
                                finally { if (e_535) throw e_535.error; }
                            }
                            var i = new pu(this[Vu("0x8")].locale, t, e);
                            i[Vu("0x24")](), this.editor.ui[Vu("0x13")][Vu("0x20")](i[Vu("0x25")]), i[Vu("0x26")](Vu("0x27")).to(this, Vu("0x5"), function (e) { return e === t; }), i[Vu("0x13")].on(Vu("0x12"), function (e, n, i) { i && (_this[Vu("0x5")] = t); }), this.l(i, this[Vu("0x28")](t)[0]);
                            var o = this.g(i[Vu("0x29")]);
                            this[Vu("0x3")][Vu("0x20")](i, o), this.s[Vu("0x4")](t, i);
                        };
                        zu.prototype[Vu("0x2a")] = function (t) {
                            var e_537, _j;
                            if (!this.s[Vu("0x17")](t))
                                return;
                            this.activeView === t && (this[Vu("0x5")] = null);
                            var e = this[Vu("0x2b")](t);
                            this[Vu("0x8")].ui[Vu("0x13")][Vu("0x2a")](e.element);
                            try {
                                for (var _q = __values(this[Vu("0x28")](t)), _z = _q.next(); !_z.done; _z = _q.next()) {
                                    var e_538 = _z.value;
                                    this[Vu("0x2c")][Vu("0x2d")](e_538);
                                }
                            }
                            catch (e_537_1) { e_537 = { error: e_537_1 }; }
                            finally {
                                try {
                                    if (_z && !_z.done && (_j = _q.return)) _j.call(_q);
                                }
                                finally { if (e_537) throw e_537.error; }
                            }
                            this.i.delete(t), this.s[Vu("0x2d")](e), this[Vu("0x3")][Vu("0x2a")](e), e.destroy();
                        };
                        zu.prototype[Vu("0x23")] = function (t, e) { var n = []; if (this.i[Vu("0x17")](t)) {
                            var i_114 = e.getRange().start;
                            (n = this[Vu("0x28")](t))[Vu("0x2e")](function (t, e) { for (var n_204 = 0; n_204 < e[Vu("0x2f")]; n_204++)
                                if (Vu("0x30") !== e[n_204][Vu("0x31")]().start[Vu("0x32")](t))
                                    return n_204; return e[Vu("0x2f")]; }(i_114, n), 0, e);
                        }
                        else
                            n = [e]; this._markerToView.set(e, t), this.i[Vu("0x4")](t, n); };
                        zu.prototype[Vu("0x33")] = function (t) { return this._markerToView[Vu("0x17")](t); };
                        zu.prototype[Vu("0x34")] = function (t) { var e = this._markerToView[Vu("0x1f")](t), n = this[Vu("0x28")](e); n[Vu("0x2e")](n[Vu("0x35")](t), 1), this._markerToView[Vu("0x2d")](t); };
                        zu.prototype.setMarkers = function (t, e) {
                            var e_539, _j;
                            var n = this[Vu("0x28")](t);
                            for (; n[Vu("0x2f")];) {
                                var t_266 = n[Vu("0x36")]();
                                this[Vu("0x2c")].delete(t_266);
                            }
                            try {
                                for (var e_540 = __values(e), e_540_1 = e_540.next(); !e_540_1.done; e_540_1 = e_540.next()) {
                                    var n_205 = e_540_1.value;
                                    this.addMarker(t, n_205);
                                }
                            }
                            catch (e_539_1) { e_539 = { error: e_539_1 }; }
                            finally {
                                try {
                                    if (e_540_1 && !e_540_1.done && (_j = e_540.return)) _j.call(e_540);
                                }
                                finally { if (e_539) throw e_539.error; }
                            }
                        };
                        zu.prototype[Vu("0xc")] = function () { this[Vu("0x6")] = this.m(); var t = this[Vu("0x2b")](this[Vu("0x5")]); t && t.focusTracker[Vu("0x37")] || this[Vu("0x6")][Vu("0x38")](this[Vu("0x5")]) || (this[Vu("0x5")] = this[Vu("0x6")][0] || null); };
                        zu.prototype[Vu("0x2b")] = function (t) { return this.s.get(t); };
                        zu.prototype[Vu("0x28")] = function (t) { return this.i[Vu("0x1f")](t); };
                        zu.prototype[Vu("0x39")] = function (t) { var e = this.editor[Vu("0x10")], n = Du(e[Vu("0x3a")][Vu("0x3b")](t[Vu("0x3c")])[Vu("0x3d")]()); return e[Vu("0x11")][Vu("0x3e")][Vu("0x3f")](n); };
                        zu.prototype.destroy = function () { _super.prototype[Vu("0x40")].call(this), window[Vu("0x41")](Vu("0x15"), this[Vu("0x7")]), this[Vu("0x7")][Vu("0x42")](), this[Vu("0x3")][Vu("0x43")](function (t) { return t[Vu("0x40")](); }); };
                        zu.prototype.m = function () {
                            var _this = this;
                            var e_541, _j, e_542, _q;
                            var t = [];
                            try {
                                for (var _z = __values(this[Vu("0x8")][Vu("0x9")][Vu("0xa")][Vu("0xe")][Vu("0x44")]), _0 = _z.next(); !_0.done; _0 = _z.next()) {
                                    var e_543 = _0.value;
                                    this[Vu("0x2c")][Vu("0x17")](e_543) && t.push(this[Vu("0x2c")][Vu("0x1f")](e_543));
                                }
                            }
                            catch (e_541_1) { e_541 = { error: e_541_1 }; }
                            finally {
                                try {
                                    if (_0 && !_0.done && (_j = _z.return)) _j.call(_z);
                                }
                                finally { if (e_541) throw e_541.error; }
                            }
                            var e = this.editor.model.document[Vu("0xe")];
                            if (e.isCollapsed)
                                try {
                                    for (var _1 = __values(this.p(e.getFirstPosition())), _2 = _1.next(); !_2.done; _2 = _1.next()) {
                                        var n_206 = _2.value;
                                        t[Vu("0x45")](n_206);
                                    }
                                }
                                catch (e_542_1) { e_542 = { error: e_542_1 }; }
                                finally {
                                    try {
                                        if (_2 && !_2.done && (_q = _1.return)) _q.call(_1);
                                    }
                                    finally { if (e_542) throw e_542.error; }
                                }
                            return t[Vu("0x46")](function (t, e) { var n = _this.getMarkers(t), i = _this[Vu("0x28")](e), o = n[0][Vu("0x31")]().start, r = n[n[Vu("0x2f")] - 1][Vu("0x31")]()[Vu("0x47")], s = i[0].getRange()[Vu("0x48")], a = i[i[Vu("0x2f")] - 1][Vu("0x31")]()[Vu("0x47")]; return o[Vu("0x49")](s) && r[Vu("0x4a")](a) ? -1 : o[Vu("0x4a")](s) && r[Vu("0x49")](a) ? 1 : 0; });
                        };
                        zu.prototype.p = function (t) {
                            var e_544, _j;
                            var e = [];
                            try {
                                for (var _q = __values(this.i), _z = _q.next(); !_z.done; _z = _q.next()) {
                                    var _0 = __read(_z.value, 2), n_207 = _0[0], i_115 = _0[1];
                                    if (!(i_115[Vu("0x2f")] < 2))
                                        for (var o_69 = 1; o_69 < i_115.length; o_69++) {
                                            var r_31 = i_115[o_69 - 1][Vu("0x31")](), s_24 = i_115[o_69][Vu("0x31")]();
                                            r_31[Vu("0x47")][Vu("0x4b")](t) && s_24[Vu("0x48")][Vu("0x4b")](t) && e[Vu("0x45")](n_207);
                                        }
                                }
                            }
                            catch (e_544_1) { e_544 = { error: e_544_1 }; }
                            finally {
                                try {
                                    if (_z && !_z.done && (_j = _q.return)) _j.call(_q);
                                }
                                finally { if (e_544) throw e_544.error; }
                            }
                            return e;
                        };
                        zu.prototype.h = function () {
                            var e_545, _j;
                            try {
                                for (var _q = __values(this.items), _z = _q.next(); !_z.done; _z = _q.next()) {
                                    var t_267 = _z.value;
                                    this.l(t_267);
                                }
                            }
                            catch (e_545_1) { e_545 = { error: e_545_1 }; }
                            finally {
                                try {
                                    if (_z && !_z.done && (_j = _q.return)) _j.call(_q);
                                }
                                finally { if (e_545) throw e_545.error; }
                            }
                        };
                        zu.prototype.l = function (t, e) { e || (e = this.getMarkers(t[Vu("0x4c")])[0]), t[Vu("0x29")] = new Ts(this[Vu("0x39")](e)); };
                        zu.prototype.u = function () { var t = Array[Vu("0x4d")](this[Vu("0x3")]).sort(function (t, e) { return ju(t[Vu("0x29")], e.targetRect); }); for (var e_546 = t[Vu("0x2f")] - 1; e_546 > 0; e_546--) {
                            var n_208 = t[e_546];
                            e_546 !== this[Vu("0x3")][Vu("0x4e")](n_208) && (this[Vu("0x3")][Vu("0x2a")](n_208), this.items[Vu("0x20")](n_208, e_546));
                        } };
                        zu.prototype.g = function (t) {
                            var e_547, _j;
                            var e = 0;
                            try {
                                for (var _q = __values(this[Vu("0x3")]), _z = _q.next(); !_z.done; _z = _q.next()) {
                                    var n_209 = _z.value;
                                    var i_116 = this.getMarkers(n_209[Vu("0x4c")])[0];
                                    if (i_116) {
                                        var n_210 = this[Vu("0x39")](i_116);
                                        if (ju(t, new Ts(n_210)) < 0)
                                            return e;
                                    }
                                    e++;
                                }
                            }
                            catch (e_547_1) { e_547 = { error: e_547_1 }; }
                            finally {
                                try {
                                    if (_z && !_z.done && (_j = _q.return)) _j.call(_q);
                                }
                                finally { if (e_547) throw e_547.error; }
                            }
                            return Math[Vu("0x4f")](0, e);
                        };
                        return zu;
                    }(Ad));
                    function ju(t, e) { return t[Vu("0x50")] < e[Vu("0x50")] ? -1 : t[Vu("0x50")] === e[Vu("0x50")] && t[Vu("0x51")] < e.left ? -1 : t.top === e[Vu("0x50")] && t[Vu("0x51")] === e.left ? 0 : 1; }
                    var Fu = n(37), Bu = n.n(Fu), Hu = ["setTemplate", "span", "ck-annotation-counter__badge", "ck-annotation-counter__badge--edit-mode", "children", "bindTemplate", "set", "isEdit", "number", "bind", "_badge", "...", "extendTemplate", "ck-annotation-counter", "counterView"];
                    !function (t, e) { !function (e) { for (; --e;)
                        t.push(t.shift()); }(++e); }(Hu, 275);
                    var Uu = function (t, e) { return Hu[t -= 0]; };
                    var Wu = /** @class */ (function (_super) {
                        __extends(Wu, _super);
                        function Wu(t) {
                            var _this = _super.call(this, t) || this;
                            var e = _this[Uu("0x0")];
                            _this[Uu("0x1")](Uu("0x2"), !1), _this[Uu("0x1")](Uu("0x3"), 0), _this[Uu("0x4")](Uu("0x5")).to(_this, Uu("0x2"), _this, Uu("0x3"), function (t, e) { return t ? Uu("0x6") : e; }), _this[Uu("0x1")]("annotationType", ""), _this.icon = Bu.a, _this[Uu("0x7")]({ attributes: { class: [Uu("0x8")] } }), _this[Uu("0x9")] = new zl, _this[Uu("0x9")][Uu("0xa")]({ tag: Uu("0xb"), attributes: { class: [Uu("0xc"), e.to("annotationType", function (t) { return "ck-annotation-counter__badge--" + t; }), e.if(Uu("0x2"), Uu("0xd"))] }, children: [{ text: e.to(Uu("0x5")) }] }), _this[Uu("0xe")].add(_this[Uu("0x9")]);
                            return _this;
                        }
                        return Wu;
                    }(sd));
                    var qu = n(4), Yu = n.n(qu), $u = n(5), Gu = n.n($u), Ku = ["label", "extendTemplate", "ck-thread__remove-confirm-", "execute", "fire", "bindTemplate", "Yes", "cancelView", "cancel", "set", "message", "Are you sure?", "div", "ck-thread__remove-confirm-actions", "submitView"];
                    !function (t, e) { !function (e) { for (; --e;)
                        t.push(t.shift()); }(++e); }(Ku, 485);
                    var Qu = function (t, e) { return Ku[t -= 0]; };
                    var Ju = ["element", "destroy", "remove", "isConfirm", "appendChild", "registerChild", "submit", "fire", "confirmView", "locale", "render", "message", "once", "cancel", "stopListening"];
                    !function (t, e) { !function (e) { for (; --e;)
                        t.push(t.shift()); }(++e); }(Ju, 353);
                    var Zu = function (t, e) { return Ju[t -= 0]; }, Xu = { showConfirm: function (t, e) {
                            var _this = this;
                            return this[Zu("0x0")] = new /** @class */ (function (_super) {
                                __extends(class_1, _super);
                                function class_1(t) {
                                    var _this = _super.call(this, t) || this;
                                    var e = _this[Qu("0x0")];
                                    _this.submitView = _this.Nt(t, Qu("0x1"), Yu.a, "submit"), _this[Qu("0x2")] = _this.Nt(t, "No", Gu.a, Qu("0x3")), _this[Qu("0x4")](Qu("0x5"), Qu("0x6")), _this.setTemplate({ tag: "div", attributes: { class: ["ck-thread__remove-confirm"] }, children: [{ tag: Qu("0x7"), attributes: { class: "ck-thread__remove-confirm-inner" }, children: [{ tag: "p", children: [{ text: e.to(Qu("0x5")) }] }, { tag: "div", attributes: { class: Qu("0x8") }, children: [_this[Qu("0x9")], _this[Qu("0x2")]] }] }] });
                                    return _this;
                                }
                                class_1.prototype.Nt = function (t, e, n, i) {
                                    var _this = this;
                                    var o = new sd(t);
                                    return o[Qu("0xa")] = e, o.icon = n, o[Qu("0xb")]({ attributes: { class: Qu("0xc") + i } }), o.on(Qu("0xd"), function () { return _this[Qu("0xe")](i); }), o;
                                };
                                return class_1;
                            }(zl))(this[Zu("0x1")]), this[Zu("0x0")][Zu("0x2")](), this[Zu("0x0")][Zu("0x3")] = t, this.confirmView[Zu("0x4")](Zu("0x5"), function () { _this[Zu("0x0")][Zu("0x6")](_this[Zu("0x7")]), _this[Zu("0x0")][Zu("0x8")](), _this[Zu("0x0")][Zu("0x7")][Zu("0x9")](), _this.deregisterChild(_this.confirmView), _this[Zu("0x0")] = void 0, _this[Zu("0xa")] = !1; }), e[Zu("0xb")](this.confirmView[Zu("0x7")]), this[Zu("0xc")](this.confirmView), this.set(Zu("0xa"), !0), new Promise(function (t) { return _this[Zu("0x0")].on(Zu("0xd"), t); });
                        }, cancelConfirm: function () { this[Zu("0xa")] && this[Zu("0x0")][Zu("0xe")](Zu("0x5")); } }, th = (n(111), ["avatar", "ck-user__avatar", "setTemplate", "div", "url('", "ck ck-user__name ck-user__name--hidden", "ck ck-user__name", "initials", "name", "isAnonymous", "push"]);
                    !function (t, e) { !function (e) { for (; --e;)
                        t.push(t.shift()); }(++e); }(th, 448);
                    var eh = function (t, e) { return th[t -= 0]; };
                    var nh = /** @class */ (function (_super) {
                        __extends(nh, _super);
                        function nh(t, e) {
                            var _this = this;
                            _this = _super.call(this, t) || this, _this[eh("0x0")] = e[eh("0x0")];
                            var n = ["ck", "ck-user__img"];
                            e[eh("0x1")] && n[eh("0x2")]("ck-user__anonymous"), e[eh("0x3")] && n[eh("0x2")](eh("0x4")), _this[eh("0x5")]({ tag: eh("0x6"), attributes: { class: ["ck", "ck-user"], "data-user-id": e.id }, children: [{ tag: eh("0x6"), attributes: { class: n, style: { "background-image": e[eh("0x3")] ? eh("0x7") + e[eh("0x3")] + "')" : "" } } }, { tag: eh("0x6"), attributes: { class: e[eh("0x3")] ? eh("0x8") : eh("0x9") }, children: [{ text: e[eh("0xa")] }] }] });
                            return _this;
                        }
                        return nh;
                    }(zl));
                    var ih = n(12), oh = n.n(ih), rh = n(38), sh = n.n(rh), ah = ["isConfirm", "ck-comment--remove-confirmation", "ck-comment", "isEdit", "ck-comment--edit", "nextAction", "ck-comment--", "div", "ck-comment__main", "ck-annotation__main", "ck-comment__info", "ck-annotation__info", "ck-comment__info-name", "ck-annotation__info-name", "time", "ck-comment__actions", "ck-annotation__actions", "ck-comment__actions--hidden", "ck-annotation__actions--hidden", "ck-annotation__content-wrapper", "locale", "label", "Edit", "icon", "Remove", "ck-comment--remove", "mouseenter", "focus", "listenTo", "blur", "render", "editButton", "element", "edit", "remove", "set", "createdAt", "content", "createCollection", "removeButton", "userView", "extendTemplate", "ck-comment__user", "bindTemplate", "setTemplate", "ck-comment__wrapper"];
                    !function (t, e) { !function (e) { for (; --e;)
                        t.push(t.shift()); }(++e); }(ah, 495);
                    var ch = function (t, e) { return ah[t -= 0]; };
                    var lh = /** @class */ (function (_super) {
                        __extends(lh, _super);
                        function lh(t, _j) {
                            var e = _j.author, n = _j.commentId, i = _j.formatDateTime;
                            var _this = this;
                            _this = _super.call(this, t) || this, _this[ch("0x0")]("isEdit", !1), _this.set("nextAction", null), _this[ch("0x0")](ch("0x1"), null), _this[ch("0x2")] = _this[ch("0x3")](), _this.editButton = _this.At(), _this[ch("0x4")] = _this.Et(), _this[ch("0x5")] = new nh(t, e), _this.userView[ch("0x6")]({ attributes: { class: [ch("0x7"), "ck-annotation__user"] } });
                            var o = _this[ch("0x8")];
                            _this[ch("0x9")]({ tag: "li", attributes: { class: [ch("0xa"), o.if(ch("0xb"), ch("0xc"))], tabindex: -1 }, children: [{ tag: "div", attributes: { class: [ch("0xd"), "ck-annotation", o.if(ch("0xe"), ch("0xf")), o.to(ch("0x10"), function (t) { return t ? ch("0x11") + t : ""; })], "data-author-id": e.id, "data-comment-id": n }, children: [_this[ch("0x5")], { tag: ch("0x12"), attributes: { class: [ch("0x13"), ch("0x14")] }, children: [{ tag: "div", attributes: { class: [ch("0x15"), ch("0x16")] }, children: [{ tag: "span", children: [{ text: _this.userView.name }], attributes: { class: [ch("0x17"), ch("0x18")] } }, { tag: ch("0x19"), attributes: { datetime: o.to("createdAt"), class: ["ck-comment__info-time", "ck-annotation__info-time"] }, children: [{ text: o.to("createdAt", function (t) { return i(t); }) }] }] }, { tag: ch("0x12"), attributes: { class: [ch("0x1a"), ch("0x1b"), o.if(ch("0xe"), ch("0x1c")), o.if(ch("0xe"), ch("0x1d"))] }, children: [_this.editButton, _this.removeButton] }, { tag: ch("0x12"), attributes: { class: [ch("0x1e")] }, children: _this.content }] }] }] });
                            return _this;
                        }
                        lh.prototype.At = function () { var t = new sd(this[ch("0x1f")]); return t[ch("0x20")] = ch("0x21"), t[ch("0x22")] = oh.a, t.extendTemplate({ attributes: { class: ch("0xf") } }), t; };
                        lh.prototype.Et = function () { var t = new sd(this[ch("0x1f")]); return t[ch("0x20")] = ch("0x23"), t.icon = sh.a, t[ch("0x6")]({ attributes: { class: ch("0x24") } }), t; };
                        lh.prototype.Bt = function (t, e) {
                            var _this = this;
                            this.listenTo(t, ch("0x25"), function () { return _this.nextAction = e; }), this.listenTo(t, ch("0x26"), function () { return _this[ch("0x10")] = e; }), this[ch("0x27")](t, "mouseleave", function () { return _this[ch("0x10")] = null; }), this[ch("0x27")](t, ch("0x28"), function () { return _this[ch("0x10")] = null; });
                        };
                        lh.prototype[ch("0x29")] = function () { _super.prototype.render.call(this), this.Bt(this[ch("0x2a")][ch("0x2b")], ch("0x2c")), this.Bt(this[ch("0x4")][ch("0x2b")], ch("0x2d")); };
                        return lh;
                    }(zl));
                    ci(lh, Xu);
                    var dh = ["content", "set", "setTemplate", "div", "ck-annotation__content", "render", "change:content", "element", "innerHTML"];
                    !function (t, e) { !function (e) { for (; --e;)
                        t.push(t.shift()); }(++e); }(dh, 145);
                    var uh = function (t, e) { return dh[t -= 0]; };
                    var hh = /** @class */ (function (_super) {
                        __extends(hh, _super);
                        function hh(t) {
                            var _this = this;
                            _this = _super.call(this, t) || this, _this[uh("0x0")]("content", ""), _this[uh("0x1")]({ tag: uh("0x2"), attributes: { class: ["ck-comment__content", uh("0x3")] } });
                            return _this;
                        }
                        hh.prototype[uh("0x4")] = function () {
                            var _this = this;
                            _super.prototype[uh("0x4")].call(this), this.on(uh("0x5"), function (t, e, n) { _this[uh("0x6")].innerHTML = n; }), this[uh("0x6")][uh("0x7")] = this[uh("0x8")];
                        };
                        return hh;
                    }(zl));
                    var mh = ["main", "createCollection", "setTemplate", "div", "ck-rounded-corners", "ck-comment__input", "comment", "uiLanguageDirection", "uiLanguage", "ck-editor__main", "presentation", "render", "add", "editable", "element", "focus", "text", "Comment editor", "ck-editor__aria-label_", "ck-voice-label"];
                    !function (t, e) { !function (e) { for (; --e;)
                        t.push(t.shift()); }(++e); }(mh, 220);
                    var gh = function (t, e) { return mh[t -= 0]; };
                    var fh = /** @class */ (function (_super) {
                        __extends(fh, _super);
                        function fh(t, e) {
                            var _this = _super.call(this, t) || this;
                            var n = Jn();
                            _this[gh("0x0")] = _this[gh("0x1")](), _this.editable = new Ul(t, e), _this.ii = _this.ei(n), _this[gh("0x2")]({ tag: gh("0x3"), attributes: { class: ["ck-reset", "ck-editor", gh("0x4"), gh("0x5")], role: gh("0x6"), dir: t[gh("0x7")], lang: t[gh("0x8")], "aria-labelledby": "cke-editor__aria-label_" + n }, children: [_this.ii, { tag: "div", attributes: { class: gh("0x9"), role: gh("0xa") }, children: _this[gh("0x0")] }] });
                            return _this;
                        }
                        fh.prototype[gh("0xb")] = function () { _super.prototype[gh("0xb")].call(this), this.main[gh("0xc")](this[gh("0xd")]); };
                        fh.prototype.focus = function () { this[gh("0xd")][gh("0xe")][gh("0xf")](); };
                        fh.prototype.ei = function (t) { var e = new Fl; return e[gh("0x10")] = gh("0x11"), e.extendTemplate({ attributes: { id: gh("0x12") + t, class: gh("0x13") } }), e; };
                        return fh;
                    }(jl));
                    var ph = ["document", "getRoot", "name", "rootName", "render", "element", "add", "bind", "isFocused", "focusTracker", "fire", "ready", "destroy", "view", "locale", "editor", "editable"];
                    !function (t, e) { !function (e) { for (; --e;)
                        t.push(t.shift()); }(++e); }(ph, 115);
                    var xh = function (t, e) { return ph[t -= 0]; };
                    var bh = /** @class */ (function (_super) {
                        __extends(bh, _super);
                        function bh(t) {
                            var _this = this;
                            _this = _super.call(this, t) || this, _this[xh("0x0")] = new fh(t[xh("0x1")], t.editing[xh("0x0")]);
                            return _this;
                        }
                        Object.defineProperty(bh.prototype, "element", {
                            get: function () { return this.view.element; },
                            enumerable: true,
                            configurable: true
                        });
                        bh.prototype.init = function () { var t = this[xh("0x2")].editing[xh("0x0")], e = this[xh("0x0")][xh("0x3")], n = t[xh("0x4")][xh("0x5")](); e[xh("0x6")] = n[xh("0x7")], this[xh("0x0")][xh("0x8")](); var i = e[xh("0x9")]; this.setEditableElement(e[xh("0x6")], i), this.focusTracker[xh("0xa")](i), this.view[xh("0x3")][xh("0xb")](xh("0xc")).to(this[xh("0xd")]), t.attachDomRoot(i), this[xh("0xe")](xh("0xf")); };
                        bh.prototype.destroy = function () { this.view[xh("0x10")](), _super.prototype[xh("0x10")].call(this); };
                        return bh;
                    }(dl));
                    var kh = /** @class */ (function () {
                        function kh(t) {
                            this.files = function (t) { var e = t.files ? Array.from(t.files) : [], n = t.items ? Array.from(t.items) : []; if (e.length)
                                return e; return n.filter(function (t) { return "file" === t.kind; }).map(function (t) { return t.getAsFile(); }); }(t), this._native = t;
                        }
                        Object.defineProperty(kh.prototype, "types", {
                            get: function () { return this._native.types; },
                            enumerable: true,
                            configurable: true
                        });
                        kh.prototype.getData = function (t) { return this._native.getData(t); };
                        kh.prototype.setData = function (t, e) { this._native.setData(t, e); };
                        return kh;
                    }());
                    var wh = /** @class */ (function (_super) {
                        __extends(wh, _super);
                        function wh(t) {
                            var _this = _super.call(this, t) || this;
                            var e = _this.document;
                            function n(t, n) { n.preventDefault(); var i = n.dropRange ? [n.dropRange] : Array.from(e.selection.getRanges()), o = new Qn(e, "clipboardInput"); e.fire(o, { dataTransfer: n.dataTransfer, targetRanges: i }), o.stop.called && n.stopPropagation(); }
                            _this.domEventType = ["paste", "copy", "cut", "drop", "dragover"], _this.listenTo(e, "paste", n, { priority: "low" }), _this.listenTo(e, "drop", n, { priority: "low" });
                            return _this;
                        }
                        wh.prototype.onDomEvent = function (t) { var e = { dataTransfer: new kh(t.clipboardData ? t.clipboardData : t.dataTransfer) }; "drop" == t.type && (e.dropRange = function (t, e) { var n = e.target.ownerDocument, i = e.clientX, o = e.clientY; var r; n.caretRangeFromPoint && n.caretRangeFromPoint(i, o) ? r = n.caretRangeFromPoint(i, o) : e.rangeParent && ((r = n.createRange()).setStart(e.rangeParent, e.rangeOffset), r.collapse(!0)); return r ? t.domConverter.domRangeToView(r) : t.document.selection.getFirstRange(); }(this.view, t)), this.fire(t.type, t, e); };
                        return wh;
                    }(es));
                    var _h = ["figcaption", "li"];
                    var vh = /** @class */ (function (_super) {
                        __extends(vh, _super);
                        function vh() {
                            return _super !== null && _super.apply(this, arguments) || this;
                        }
                        Object.defineProperty(vh, "pluginName", {
                            get: function () { return "Clipboard"; },
                            enumerable: true,
                            configurable: true
                        });
                        vh.prototype.init = function () {
                            var _this = this;
                            var t = this.editor, e = t.model.document, n = t.editing.view, i = n.document;
                            function o(n, o) { var r = o.dataTransfer; o.preventDefault(); var s = t.data.toView(t.model.getSelectedContent(e.selection)); i.fire("clipboardOutput", { dataTransfer: r, content: s, method: n.name }); }
                            this._htmlDataProcessor = new sl, n.addObserver(wh), this.listenTo(i, "clipboardInput", function (e) { t.isReadOnly && e.stop(); }, { priority: "highest" }), this.listenTo(i, "clipboardInput", function (t, e) { var i = e.dataTransfer; var o = ""; i.getData("text/html") ? o = function (t) { return t.replace(/<span(?: class="Apple-converted-space"|)>(\s+)<\/span>/g, function (t, e) { return 1 == e.length ? " " : e; }); }(i.getData("text/html")) : i.getData("text/plain") && (o = function (t) { return (t = t.replace(/</g, "&lt;").replace(/>/g, "&gt;").replace(/\n/g, "</p><p>").replace(/^\s/, "&nbsp;").replace(/\s$/, "&nbsp;").replace(/\s\s/g, " &nbsp;")).indexOf("</p><p>") > -1 && (t = "<p>" + t + "</p>"), t; }(i.getData("text/plain"))), o = _this._htmlDataProcessor.toView(o), _this.fire("inputTransformation", { content: o, dataTransfer: i }), n.scrollToTheSelection(); }, { priority: "low" }), this.listenTo(this, "inputTransformation", function (t, e) { if (!e.content.isEmpty) {
                                var t_268 = _this.editor.data, n_211 = _this.editor.model, i_117 = t_268.toModel(e.content, "$clipboardHolder");
                                if (0 == i_117.childCount)
                                    return;
                                n_211.insertContent(i_117);
                            } }, { priority: "low" }), this.listenTo(i, "copy", o, { priority: "low" }), this.listenTo(i, "cut", function (e, n) { t.isReadOnly ? n.preventDefault() : o(e, n); }, { priority: "low" }), this.listenTo(i, "clipboardOutput", function (n, i) { i.content.isEmpty || (i.dataTransfer.setData("text/html", _this._htmlDataProcessor.toData(i.content)), i.dataTransfer.setData("text/plain", function t(e) {
                                var e_548, _j;
                                var n = "";
                                if (e.is("text") || e.is("textProxy"))
                                    n = e.data;
                                else if (e.is("img") && e.hasAttribute("alt"))
                                    n = e.getAttribute("alt");
                                else {
                                    var i_118 = null;
                                    try {
                                        for (var _q = __values(e.getChildren()), _z = _q.next(); !_z.done; _z = _q.next()) {
                                            var o_70 = _z.value;
                                            var e_549 = t(o_70);
                                            i_118 && (i_118.is("containerElement") || o_70.is("containerElement")) && (_h.includes(i_118.name) || _h.includes(o_70.name) ? n += "\n" : n += "\n\n"), n += e_549, i_118 = o_70;
                                        }
                                    }
                                    catch (e_548_1) { e_548 = { error: e_548_1 }; }
                                    finally {
                                        try {
                                            if (_z && !_z.done && (_j = _q.return)) _j.call(_q);
                                        }
                                        finally { if (e_548) throw e_548.error; }
                                    }
                                }
                                return n;
                            }(i.content))), "cut" == i.method && t.model.deleteContent(e.selection); }, { priority: "low" });
                        };
                        return vh;
                    }(Ad));
                    function yh(t, e) {
                        var e_550, _j, e_551, e_551_1, n_212, _q, e_550_1;
                        return __generator(this, function (_z) {
                            switch (_z.label) {
                                case 0:
                                    _z.trys.push([0, 6, 7, 8]);
                                    e_551 = __values(e), e_551_1 = e_551.next();
                                    _z.label = 1;
                                case 1:
                                    if (!!e_551_1.done) return [3 /*break*/, 5];
                                    n_212 = e_551_1.value;
                                    _q = n_212 && t.getAttributeProperties(n_212[0]).copyOnEnter;
                                    if (!_q) return [3 /*break*/, 3];
                                    return [4 /*yield*/, n_212];
                                case 2:
                                    _q = (_z.sent());
                                    _z.label = 3;
                                case 3:
                                    _q;
                                    _z.label = 4;
                                case 4:
                                    e_551_1 = e_551.next();
                                    return [3 /*break*/, 1];
                                case 5: return [3 /*break*/, 8];
                                case 6:
                                    e_550_1 = _z.sent();
                                    e_550 = { error: e_550_1 };
                                    return [3 /*break*/, 8];
                                case 7:
                                    try {
                                        if (e_551_1 && !e_551_1.done && (_j = e_551.return)) _j.call(e_551);
                                    }
                                    finally { if (e_550) throw e_550.error; }
                                    return [7 /*endfinally*/];
                                case 8: return [2 /*return*/];
                            }
                        });
                    }
                    var Ch = /** @class */ (function (_super) {
                        __extends(Ch, _super);
                        function Ch() {
                            return _super !== null && _super.apply(this, arguments) || this;
                        }
                        Ch.prototype.execute = function () {
                            var _this = this;
                            var t = this.editor.model, e = t.document;
                            t.change(function (n) { !function (t, e, n, i) { var o = n.isCollapsed, r = n.getFirstRange(), s = r.start.parent, a = r.end.parent; if (i.isLimit(s) || i.isLimit(a))
                                return void (o || s != a || t.deleteContent(n)); if (o) {
                                var t_269 = yh(e.model.schema, n.getAttributes());
                                Th(e, r.start), e.setSelectionAttribute(t_269);
                            }
                            else {
                                var i_119 = !(r.start.isAtStart && r.end.isAtEnd), o_71 = s == a;
                                t.deleteContent(n, { leaveUnmerged: i_119 }), i_119 && (o_71 ? Th(e, n.focus) : e.setSelection(a, 0));
                            } }(_this.editor.model, n, e.selection, t.schema), _this.fire("afterExecute", { writer: n }); });
                        };
                        return Ch;
                    }(Pd));
                    function Th(t, e) { t.split(e), t.setSelection(e.parent.nextSibling, 0); }
                    var Ah = /** @class */ (function (_super) {
                        __extends(Ah, _super);
                        function Ah(t) {
                            var _this = _super.call(this, t) || this;
                            var e = _this.document;
                            e.on("keydown", function (t, n) { if (_this.isEnabled && n.keyCode == xo.enter) {
                                var i_120;
                                e.once("enter", function (t) { return i_120 = t; }, { priority: "highest" }), e.fire("enter", new ts(e, n.domEvent, { isSoft: n.shiftKey })), i_120 && i_120.stop.called && t.stop();
                            } });
                            return _this;
                        }
                        Ah.prototype.observe = function () { };
                        return Ah;
                    }(mr));
                    var Sh = /** @class */ (function (_super) {
                        __extends(Sh, _super);
                        function Sh() {
                            return _super !== null && _super.apply(this, arguments) || this;
                        }
                        Object.defineProperty(Sh, "pluginName", {
                            get: function () { return "Enter"; },
                            enumerable: true,
                            configurable: true
                        });
                        Sh.prototype.init = function () { var t = this.editor, e = t.editing.view, n = e.document; e.addObserver(Ah), t.commands.add("enter", new Ch(t)), this.listenTo(n, "enter", function (n, i) { i.preventDefault(), i.isSoft || (t.execute("enter"), e.scrollToTheSelection()); }, { priority: "low" }); };
                        return Sh;
                    }(Ad));
                    var Ph = /** @class */ (function (_super) {
                        __extends(Ph, _super);
                        function Ph() {
                            return _super !== null && _super.apply(this, arguments) || this;
                        }
                        Ph.prototype.execute = function () {
                            var _this = this;
                            var t = this.editor.model, e = t.document;
                            t.change(function (n) { !function (t, e, n) { var i = n.isCollapsed, o = n.getFirstRange(), r = o.start.parent, s = o.end.parent, a = r == s; if (i) {
                                var i_121 = yh(t.schema, n.getAttributes());
                                Mh(e, o.end), e.removeSelectionAttribute(n.getAttributeKeys()), e.setSelectionAttribute(i_121);
                            }
                            else {
                                var i_122 = !(o.start.isAtStart && o.end.isAtEnd);
                                t.deleteContent(n, { leaveUnmerged: i_122 }), a ? Mh(e, n.focus) : i_122 && e.setSelection(s, 0);
                            } }(t, n, e.selection), _this.fire("afterExecute", { writer: n }); });
                        };
                        Ph.prototype.refresh = function () { var t = this.editor.model, e = t.document; this.isEnabled = function (t, e) { if (e.rangeCount > 1)
                            return !1; var n = e.anchor; if (!n || !t.checkChild(n, "softBreak"))
                            return !1; var i = e.getFirstRange(), o = i.start.parent, r = i.end.parent; if ((Eh(o, t) || Eh(r, t)) && o !== r)
                            return !1; return !0; }(t.schema, e.selection); };
                        return Ph;
                    }(Pd));
                    function Mh(t, e) { var n = t.createElement("softBreak"); t.insert(n, e), t.setSelection(n, "after"); }
                    function Eh(t, e) { return !t.is("rootElement") && (e.isLimit(t) || Eh(t.parent, e)); }
                    var Ih = /** @class */ (function (_super) {
                        __extends(Ih, _super);
                        function Ih() {
                            return _super !== null && _super.apply(this, arguments) || this;
                        }
                        Object.defineProperty(Ih, "pluginName", {
                            get: function () { return "ShiftEnter"; },
                            enumerable: true,
                            configurable: true
                        });
                        Ih.prototype.init = function () { var t = this.editor, e = t.model.schema, n = t.conversion, i = t.editing.view, o = i.document; e.register("softBreak", { allowWhere: "$text", isInline: !0 }), n.for("upcast").elementToElement({ model: "softBreak", view: "br" }), n.for("downcast").elementToElement({ model: "softBreak", view: function (t, e) { return e.createEmptyElement("br"); } }), i.addObserver(Ah), t.commands.add("shiftEnter", new Ph(t)), this.listenTo(o, "enter", function (e, n) { n.preventDefault(), n.isSoft && (t.execute("shiftEnter"), i.scrollToTheSelection()); }, { priority: "low" }); };
                        return Ih;
                    }(Ad));
                    var Nh = /** @class */ (function () {
                        function Nh(t, e) {
                            var _this = this;
                            if (e === void 0) { e = 20; }
                            this.model = t, this.size = 0, this.limit = e, this.isLocked = !1, this._changeCallback = (function (t, e) { "transparent" != e.type && e !== _this._batch && _this._reset(!0); }), this._selectionChangeCallback = (function () { _this._reset(); }), this.model.document.on("change", this._changeCallback), this.model.document.selection.on("change:range", this._selectionChangeCallback), this.model.document.selection.on("change:attribute", this._selectionChangeCallback);
                        }
                        Object.defineProperty(Nh.prototype, "batch", {
                            get: function () { return this._batch || (this._batch = this.model.createBatch()), this._batch; },
                            enumerable: true,
                            configurable: true
                        });
                        Nh.prototype.input = function (t) { this.size += t, this.size >= this.limit && this._reset(!0); };
                        Nh.prototype.lock = function () { this.isLocked = !0; };
                        Nh.prototype.unlock = function () { this.isLocked = !1; };
                        Nh.prototype.destroy = function () { this.model.document.off("change", this._changeCallback), this.model.document.selection.off("change:range", this._selectionChangeCallback), this.model.document.selection.off("change:attribute", this._selectionChangeCallback); };
                        Nh.prototype._reset = function (t) { this.isLocked && !t || (this._batch = null, this.size = 0); };
                        return Nh;
                    }());
                    var Rh = /** @class */ (function (_super) {
                        __extends(Rh, _super);
                        function Rh(t, e) {
                            var _this = this;
                            _this = _super.call(this, t) || this, _this._buffer = new Nh(t.model, e), _this._batches = new WeakSet;
                            return _this;
                        }
                        Object.defineProperty(Rh.prototype, "buffer", {
                            get: function () { return this._buffer; },
                            enumerable: true,
                            configurable: true
                        });
                        Rh.prototype.destroy = function () { _super.prototype.destroy.call(this), this._buffer.destroy(); };
                        Rh.prototype.execute = function (t) {
                            var _this = this;
                            if (t === void 0) { t = {}; }
                            var e = this.editor.model, n = e.document, i = t.text || "", o = i.length, r = t.range || n.selection.getFirstRange(), s = t.resultRange;
                            e.enqueueChange(this._buffer.batch, function (t) { var a = r.isCollapsed; _this._buffer.lock(), e.deleteContent(e.createSelection(r)), i && e.insertContent(t.createText(i, n.selection.getAttributes()), r.start), s ? t.setSelection(s) : a && t.setSelection(r.start.getShiftedBy(o)), _this._buffer.unlock(), _this._buffer.input(o), _this._batches.add(_this._buffer.batch); });
                        };
                        return Rh;
                    }(Pd));
                    function Oh(t) { var e = null; var n = t.model, i = t.editing.view, o = t.commands.get("input"); function r(t) { var r = n.document, a = i.document.isComposing, c = e && e.isEqual(r.selection); e = null, o.isEnabled && (function (t) { if (t.ctrlKey)
                        return !0; return Dh.includes(t.keyCode); }(t) || r.selection.isCollapsed || a && 229 === t.keyCode || !a && 229 === t.keyCode && c || s()); } function s() { var t = o.buffer; t.lock(), n.enqueueChange(t.batch, function () { n.deleteContent(n.document.selection); }), t.unlock(); } go.isAndroid ? i.document.on("beforeinput", function (t, e) { return r(e); }, { priority: "lowest" }) : i.document.on("keydown", function (t, e) { return r(e); }, { priority: "lowest" }), i.document.on("compositionstart", function () { var t = n.document, e = 1 !== t.selection.rangeCount || t.selection.getFirstRange().isFlat; if (t.selection.isCollapsed || e)
                        return; s(); }, { priority: "lowest" }), i.document.on("compositionend", function () { e = n.createSelection(n.document.selection); }, { priority: "lowest" }); }
                    var Dh = [bo("arrowUp"), bo("arrowRight"), bo("arrowDown"), bo("arrowLeft"), 9, 16, 17, 18, 19, 20, 27, 33, 34, 35, 36, 45, 91, 93, 144, 145, 173, 174, 175, 176, 177, 178, 179, 255];
                    for (var t_270 = 112; t_270 <= 135; t_270++)
                        Dh.push(t_270);
                    function Lh(t) { if (t.newChildren.length - t.oldChildren.length != 1)
                        return; var e = function (t, e) { var n = []; var i, o = 0; return t.forEach(function (t) { "equal" == t ? (r(), o++) : "insert" == t ? (s("insert") ? i.values.push(e[o]) : (r(), i = { type: "insert", index: o, values: [e[o]] }), o++) : s("delete") ? i.howMany++ : (r(), i = { type: "delete", index: o, howMany: 1 }); }), r(), n; function r() { i && (n.push(i), i = null); } function s(t) { return i && i.type == t; } }(Go(t.oldChildren, t.newChildren, Vh), t.newChildren); if (e.length > 1)
                        return; var n = e[0]; return n.values[0] && n.values[0].is("text") ? n : void 0; }
                    function Vh(t, e) { return t && t.is("text") && e && e.is("text") ? t.data === e.data : t === e; }
                    var zh = /** @class */ (function () {
                        function zh(t) {
                            this.editor = t, this.editing = this.editor.editing;
                        }
                        zh.prototype.handle = function (t, e) {
                            var e_552, _j;
                            if (function (t) {
                                var e_553, _j;
                                if (0 == t.length)
                                    return !1;
                                try {
                                    for (var t_272 = __values(t), t_272_1 = t_272.next(); !t_272_1.done; t_272_1 = t_272.next()) {
                                        var e_554 = t_272_1.value;
                                        if ("children" === e_554.type && !Lh(e_554))
                                            return !0;
                                    }
                                }
                                catch (e_553_1) { e_553 = { error: e_553_1 }; }
                                finally {
                                    try {
                                        if (t_272_1 && !t_272_1.done && (_j = t_272.return)) _j.call(t_272);
                                    }
                                    finally { if (e_553) throw e_553.error; }
                                }
                                return !1;
                            }(t))
                                this._handleContainerChildrenMutations(t, e);
                            else
                                try {
                                    for (var t_271 = __values(t), t_271_1 = t_271.next(); !t_271_1.done; t_271_1 = t_271.next()) {
                                        var n_213 = t_271_1.value;
                                        this._handleTextMutation(n_213, e), this._handleTextNodeInsertion(n_213);
                                    }
                                }
                                catch (e_552_1) { e_552 = { error: e_552_1 }; }
                                finally {
                                    try {
                                        if (t_271_1 && !t_271_1.done && (_j = t_271.return)) _j.call(t_271);
                                    }
                                    finally { if (e_552) throw e_552.error; }
                                }
                        };
                        zh.prototype._handleContainerChildrenMutations = function (t, e) { var n = function (t) { var e = t.map(function (t) { return t.node; }).reduce(function (t, e) { return t.getCommonAncestor(e, { includeSelf: !0 }); }); if (!e)
                            return; return e.getAncestors({ includeSelf: !0, parentFirst: !0 }).find(function (t) { return t.is("containerElement") || t.is("rootElement"); }); }(t); if (!n)
                            return; var i = this.editor.editing.view.domConverter.mapViewToDom(n), o = new rr, r = this.editor.data.toModel(o.domToView(i)).getChild(0), s = this.editor.editing.mapper.toModelElement(n); if (!s)
                            return; var a = Array.from(r.getChildren()), c = Array.from(s.getChildren()), l = a[a.length - 1], d = c[c.length - 1]; l && l.is("softBreak") && d && !d.is("softBreak") && a.pop(); var u = this.editor.model.schema; if (!jh(a, u) || !jh(c, u))
                            return; var h = a.map(function (t) { return t.is("text") ? t.data : "@"; }).join("").replace(/\u00A0/g, " "), m = c.map(function (t) { return t.is("text") ? t.data : "@"; }).join("").replace(/\u00A0/g, " "); if (m === h)
                            return; var g = Go(m, h), _j = Fh(g), f = _j.firstChangeAt, p = _j.insertions, x = _j.deletions; var b = null; e && (b = this.editing.mapper.toModelRange(e.getFirstRange())); var k = h.substr(f, p), w = this.editor.model.createRange(this.editor.model.createPositionAt(s, f), this.editor.model.createPositionAt(s, f + x)); this.editor.execute("input", { text: k, range: w, resultRange: b }); };
                        zh.prototype._handleTextMutation = function (t, e) { if ("text" != t.type)
                            return; var n = t.newText.replace(/\u00A0/g, " "), i = t.oldText.replace(/\u00A0/g, " "); if (i === n)
                            return; var o = Go(i, n), _j = Fh(o), r = _j.firstChangeAt, s = _j.insertions, a = _j.deletions; var c = null; e && (c = this.editing.mapper.toModelRange(e.getFirstRange())); var l = this.editing.view.createPositionAt(t.node, r), d = this.editing.mapper.toModelPosition(l), u = this.editor.model.createRange(d, d.getShiftedBy(a)), h = n.substr(r, s); this.editor.execute("input", { text: h, range: u, resultRange: c }); };
                        zh.prototype._handleTextNodeInsertion = function (t) { if ("children" != t.type)
                            return; var e = Lh(t), n = this.editing.view.createPositionAt(t.node, e.index), i = this.editing.mapper.toModelPosition(n), o = e.values[0].data; this.editor.execute("input", { text: o.replace(/\u00A0/g, " "), range: this.editor.model.createRange(i) }); };
                        return zh;
                    }());
                    function jh(t, e) { return t.every(function (t) { return e.isInline(t); }); }
                    function Fh(t) { var e = null, n = null; for (var i_123 = 0; i_123 < t.length; i_123++) {
                        "equal" != t[i_123] && (e = null === e ? i_123 : e, n = i_123);
                    } var i = 0, o = 0; for (var r_32 = e; r_32 <= n; r_32++)
                        "insert" != t[r_32] && i++, "delete" != t[r_32] && o++; return { insertions: o, deletions: i, firstChangeAt: e }; }
                    var Bh = /** @class */ (function (_super) {
                        __extends(Bh, _super);
                        function Bh() {
                            return _super !== null && _super.apply(this, arguments) || this;
                        }
                        Object.defineProperty(Bh, "pluginName", {
                            get: function () { return "Input"; },
                            enumerable: true,
                            configurable: true
                        });
                        Bh.prototype.init = function () { var t = this.editor, e = new Rh(t, t.config.get("typing.undoStep") || 20); t.commands.add("input", e), Oh(t), function (t) { t.editing.view.document.on("mutations", function (e, n, i) { new zh(t).handle(n, i); }); }(t); };
                        Bh.prototype.isInput = function (t) { return this.editor.commands.get("input")._batches.has(t); };
                        return Bh;
                    }(Ad));
                    var Hh = /** @class */ (function (_super) {
                        __extends(Hh, _super);
                        function Hh(t, e) {
                            var _this = this;
                            _this = _super.call(this, t) || this, _this.direction = e, _this._buffer = new Nh(t.model, t.config.get("typing.undoStep"));
                            return _this;
                        }
                        Object.defineProperty(Hh.prototype, "buffer", {
                            get: function () { return this._buffer; },
                            enumerable: true,
                            configurable: true
                        });
                        Hh.prototype.execute = function (t) {
                            var _this = this;
                            if (t === void 0) { t = {}; }
                            var e = this.editor.model, n = e.document;
                            e.enqueueChange(this._buffer.batch, function (i) { _this._buffer.lock(); var o = i.createSelection(t.selection || n.selection), r = o.isCollapsed; if (o.isCollapsed && e.modifySelection(o, { direction: _this.direction, unit: t.unit }), _this._shouldEntireContentBeReplacedWithParagraph(t.sequence || 1))
                                return void _this._replaceEntireContentWithParagraph(i); if (o.isCollapsed)
                                return; var s = 0; o.getFirstRange().getMinimalFlatRanges().forEach(function (t) { s += eo(t.getWalker({ singleCharacters: !0, ignoreElementEnd: !0, shallow: !0 })); }), e.deleteContent(o, { doNotResetEntireContent: r }), _this._buffer.input(s), i.setSelection(o), _this._buffer.unlock(); });
                        };
                        Hh.prototype._shouldEntireContentBeReplacedWithParagraph = function (t) { if (t > 1)
                            return !1; var e = this.editor.model, n = e.document.selection, i = e.schema.getLimitElement(n); if (!(n.isCollapsed && n.containsEntireContent(i)))
                            return !1; if (!e.schema.checkChild(i, "paragraph"))
                            return !1; var o = i.getChild(0); return !o || "paragraph" !== o.name; };
                        Hh.prototype._replaceEntireContentWithParagraph = function (t) { var e = this.editor.model, n = e.document.selection, i = e.schema.getLimitElement(n), o = t.createElement("paragraph"); t.remove(t.createRangeIn(i)), t.insert(o, i), t.setSelection(o, 0); };
                        return Hh;
                    }(Pd));
                    var Uh = /** @class */ (function (_super) {
                        __extends(Uh, _super);
                        function Uh(t) {
                            var _this = _super.call(this, t) || this;
                            var e = t.document;
                            var n = 0;
                            function i(t, n, i) { var o; e.once("delete", function (t) { return o = t; }, { priority: Number.POSITIVE_INFINITY }), e.fire("delete", new ts(e, n, i)), o && o.stop.called && t.stop(); }
                            e.on("keyup", function (t, e) { e.keyCode != xo.delete && e.keyCode != xo.backspace || (n = 0); }), e.on("keydown", function (t, e) { var o = {}; if (e.keyCode == xo.delete)
                                o.direction = "forward", o.unit = "character";
                            else {
                                if (e.keyCode != xo.backspace)
                                    return;
                                o.direction = "backward", o.unit = "codePoint";
                            } var r = go.isMac ? e.altKey : e.ctrlKey; o.unit = r ? "word" : o.unit, o.sequence = ++n, i(t, e.domEvent, o); }), go.isAndroid && e.on("beforeinput", function (e, n) { if ("deleteContentBackward" != n.domEvent.inputType)
                                return; var o = { unit: "codepoint", direction: "backward", sequence: 1 }, r = n.domTarget.ownerDocument.defaultView.getSelection(); r.anchorNode == r.focusNode && r.anchorOffset + 1 != r.focusOffset && (o.selectionToRemove = t.domConverter.domSelectionToView(r)), i(e, n.domEvent, o); });
                            return _this;
                        }
                        Uh.prototype.observe = function () { };
                        return Uh;
                    }(mr));
                    var Wh = /** @class */ (function (_super) {
                        __extends(Wh, _super);
                        function Wh() {
                            return _super !== null && _super.apply(this, arguments) || this;
                        }
                        Object.defineProperty(Wh, "pluginName", {
                            get: function () { return "Delete"; },
                            enumerable: true,
                            configurable: true
                        });
                        Wh.prototype.init = function () { var t = this.editor, e = t.editing.view, n = e.document; if (e.addObserver(Uh), t.commands.add("forwardDelete", new Hh(t, "forward")), t.commands.add("delete", new Hh(t, "backward")), this.listenTo(n, "delete", function (n, i) {
                            var e_555, _j;
                            var o = { unit: i.unit, sequence: i.sequence };
                            if (i.selectionToRemove) {
                                var e_556 = t.model.createSelection(), n_214 = [];
                                try {
                                    for (var _q = __values(i.selectionToRemove.getRanges()), _z = _q.next(); !_z.done; _z = _q.next()) {
                                        var e_557 = _z.value;
                                        n_214.push(t.editing.mapper.toModelRange(e_557));
                                    }
                                }
                                catch (e_555_1) { e_555 = { error: e_555_1 }; }
                                finally {
                                    try {
                                        if (_z && !_z.done && (_j = _q.return)) _j.call(_q);
                                    }
                                    finally { if (e_555) throw e_555.error; }
                                }
                                e_556.setTo(n_214), o.selection = e_556;
                            }
                            t.execute("forward" == i.direction ? "forwardDelete" : "delete", o), i.preventDefault(), e.scrollToTheSelection();
                        }), go.isAndroid) {
                            var t_273 = null;
                            this.listenTo(n, "delete", function (e, n) { var i = n.domTarget.ownerDocument.defaultView.getSelection(); t_273 = { anchorNode: i.anchorNode, anchorOffset: i.anchorOffset, focusNode: i.focusNode, focusOffset: i.focusOffset }; }, { priority: "lowest" }), this.listenTo(n, "keyup", function (e, n) { if (t_273) {
                                var e_558 = n.domTarget.ownerDocument.defaultView.getSelection();
                                e_558.collapse(t_273.anchorNode, t_273.anchorOffset), e_558.extend(t_273.focusNode, t_273.focusOffset), t_273 = null;
                            } });
                        } };
                        return Wh;
                    }(Ad));
                    var qh = /** @class */ (function (_super) {
                        __extends(qh, _super);
                        function qh() {
                            return _super !== null && _super.apply(this, arguments) || this;
                        }
                        Object.defineProperty(qh, "requires", {
                            get: function () { return [Bh, Wh]; },
                            enumerable: true,
                            configurable: true
                        });
                        Object.defineProperty(qh, "pluginName", {
                            get: function () { return "Typing"; },
                            enumerable: true,
                            configurable: true
                        });
                        return qh;
                    }(Ad));
                    var Yh = /** @class */ (function (_super) {
                        __extends(Yh, _super);
                        function Yh() {
                            return _super !== null && _super.apply(this, arguments) || this;
                        }
                        Object.defineProperty(Yh.prototype, "type", {
                            get: function () { return "noop"; },
                            enumerable: true,
                            configurable: true
                        });
                        Yh.prototype.clone = function () { return new Yh(this.baseVersion); };
                        Yh.prototype.getReversed = function () { return new Yh(this.baseVersion + 1); };
                        Yh.prototype._execute = function () { };
                        Object.defineProperty(Yh, "className", {
                            get: function () { return "NoOperation"; },
                            enumerable: true,
                            configurable: true
                        });
                        return Yh;
                    }(tc));
                    var $h = new Map;
                    function Gh(t, e, n) { var i = $h.get(t); i || (i = new Map, $h.set(t, i)), i.set(e, n); }
                    function Kh(t) { return [t]; }
                    function Qh(t, e, n) {
                        if (n === void 0) { n = {}; }
                        var i = function (t, e) { var n = $h.get(t); return n && n.has(e) ? n.get(e) : Kh; }(t.constructor, e.constructor);
                        try {
                            return i(t = t.clone(), e, n);
                        }
                        catch (t) {
                            throw t;
                        }
                    }
                    function Jh(t, e, n) {
                        var e_559, _j, e_560, _q;
                        t = t.slice(), e = e.slice();
                        var i = new Zh(n.document, n.useRelations, n.forceWeakRemove);
                        i.setOriginalOperations(t), i.setOriginalOperations(e);
                        var o = i.originalOperations;
                        if (0 == t.length || 0 == e.length)
                            return { operationsA: t, operationsB: e, originalOperations: o };
                        var r = new WeakMap;
                        try {
                            for (var t_274 = __values(t), t_274_1 = t_274.next(); !t_274_1.done; t_274_1 = t_274.next()) {
                                var e_561 = t_274_1.value;
                                r.set(e_561, 0);
                            }
                        }
                        catch (e_559_1) { e_559 = { error: e_559_1 }; }
                        finally {
                            try {
                                if (t_274_1 && !t_274_1.done && (_j = t_274.return)) _j.call(t_274);
                            }
                            finally { if (e_559) throw e_559.error; }
                        }
                        var s = { nextBaseVersionA: t[t.length - 1].baseVersion + 1, nextBaseVersionB: e[e.length - 1].baseVersion + 1, originalOperationsACount: t.length, originalOperationsBCount: e.length };
                        var a = 0;
                        for (; a < t.length;) {
                            var n_215 = t[a], o_72 = r.get(n_215);
                            if (o_72 == e.length) {
                                a++;
                                continue;
                            }
                            var s_25 = e[o_72], c_9 = Qh(n_215, s_25, i.getContext(n_215, s_25, !0)), l_3 = Qh(s_25, n_215, i.getContext(s_25, n_215, !1));
                            i.updateRelation(n_215, s_25), i.setOriginalOperations(c_9, n_215), i.setOriginalOperations(l_3, s_25);
                            try {
                                for (var c_8 = __values(c_9), c_8_1 = c_8.next(); !c_8_1.done; c_8_1 = c_8.next()) {
                                    var t_275 = c_8_1.value;
                                    r.set(t_275, o_72 + l_3.length);
                                }
                            }
                            catch (e_560_1) { e_560 = { error: e_560_1 }; }
                            finally {
                                try {
                                    if (c_8_1 && !c_8_1.done && (_q = c_8.return)) _q.call(c_8);
                                }
                                finally { if (e_560) throw e_560.error; }
                            }
                            t.splice.apply(t, __spread([a, 1], c_9)), e.splice.apply(e, __spread([o_72, 1], l_3));
                        }
                        if (n.padWithNoOps) {
                            var n_216 = t.length - s.originalOperationsACount, i_124 = e.length - s.originalOperationsBCount;
                            tm(t, i_124 - n_216), tm(e, n_216 - i_124);
                        }
                        return Xh(t, s.nextBaseVersionB), Xh(e, s.nextBaseVersionA), { operationsA: t, operationsB: e, originalOperations: o };
                    }
                    var Zh = /** @class */ (function () {
                        function Zh(t, e, n) {
                            if (n === void 0) { n = !1; }
                            this.originalOperations = new Map, this._history = t.history, this._useRelations = e, this._forceWeakRemove = !!n, this._relations = new Map;
                        }
                        Zh.prototype.setOriginalOperations = function (t, e) {
                            var e_562, _j;
                            if (e === void 0) { e = null; }
                            var n = e ? this.originalOperations.get(e) : null;
                            try {
                                for (var t_276 = __values(t), t_276_1 = t_276.next(); !t_276_1.done; t_276_1 = t_276.next()) {
                                    var e_563 = t_276_1.value;
                                    this.originalOperations.set(e_563, n || e_563);
                                }
                            }
                            catch (e_562_1) { e_562 = { error: e_562_1 }; }
                            finally {
                                try {
                                    if (t_276_1 && !t_276_1.done && (_j = t_276.return)) _j.call(t_276);
                                }
                                finally { if (e_562) throw e_562.error; }
                            }
                        };
                        Zh.prototype.updateRelation = function (t, e) { switch (t.constructor) {
                            case hc:
                                switch (e.constructor) {
                                    case xc:
                                        t.targetPosition.isEqual(e.sourcePosition) || e.movedRange.containsPosition(t.targetPosition) ? this._setRelation(t, e, "insertAtSource") : t.targetPosition.isEqual(e.deletionPosition) ? this._setRelation(t, e, "insertBetween") : t.targetPosition.isAfter(e.sourcePosition) && this._setRelation(t, e, "moveTargetAfter");
                                        break;
                                    case hc: t.targetPosition.isEqual(e.sourcePosition) || t.targetPosition.isBefore(e.sourcePosition) ? this._setRelation(t, e, "insertBefore") : this._setRelation(t, e, "insertAfter");
                                }
                                break;
                            case bc:
                                switch (e.constructor) {
                                    case xc:
                                        t.splitPosition.isBefore(e.sourcePosition) && this._setRelation(t, e, "splitBefore");
                                        break;
                                    case hc: (t.splitPosition.isEqual(e.sourcePosition) || t.splitPosition.isBefore(e.sourcePosition)) && this._setRelation(t, e, "splitBefore");
                                }
                                break;
                            case xc:
                                switch (e.constructor) {
                                    case xc:
                                        t.targetPosition.isEqual(e.sourcePosition) || this._setRelation(t, e, "mergeTargetNotMoved"), t.sourcePosition.isEqual(e.targetPosition) && this._setRelation(t, e, "mergeSourceNotMoved"), t.sourcePosition.isEqual(e.sourcePosition) && this._setRelation(t, e, "mergeSameElement");
                                        break;
                                    case bc: t.sourcePosition.isEqual(e.splitPosition) && this._setRelation(t, e, "splitAtSource");
                                }
                                break;
                            case gc: {
                                var n_217 = t.newRange;
                                if (!n_217)
                                    return;
                                switch (e.constructor) {
                                    case hc: {
                                        var i_125 = Ks._createFromPositionAndShift(e.sourcePosition, e.howMany), o_73 = i_125.containsPosition(n_217.start) || i_125.start.isEqual(n_217.start), r_33 = i_125.containsPosition(n_217.end) || i_125.end.isEqual(n_217.end);
                                        !o_73 && !r_33 || i_125.containsRange(n_217) || this._setRelation(t, e, { side: o_73 ? "left" : "right", path: o_73 ? n_217.start.path.slice() : n_217.end.path.slice() });
                                        break;
                                    }
                                    case xc: {
                                        var i_126 = n_217.start.isEqual(e.targetPosition), o_74 = n_217.start.isEqual(e.deletionPosition), r_34 = n_217.end.isEqual(e.deletionPosition), s_26 = n_217.end.isEqual(e.sourcePosition);
                                        (i_126 || o_74 || r_34 || s_26) && this._setRelation(t, e, { wasInLeftElement: i_126, wasStartBeforeMergedElement: o_74, wasEndBeforeMergedElement: r_34, wasInRightElement: s_26 });
                                        break;
                                    }
                                }
                                break;
                            }
                        } };
                        Zh.prototype.getContext = function (t, e, n) { return { aIsStrong: n, aWasUndone: this._wasUndone(t), bWasUndone: this._wasUndone(e), abRelation: this._useRelations ? this._getRelation(t, e) : null, baRelation: this._useRelations ? this._getRelation(e, t) : null, forceWeakRemove: this._forceWeakRemove }; };
                        Zh.prototype._wasUndone = function (t) { var e = this.originalOperations.get(t); return e.wasUndone || this._history.isUndoneOperation(e); };
                        Zh.prototype._getRelation = function (t, e) { var n = this.originalOperations.get(e), i = this._history.getUndoneOperation(n); if (!i)
                            return null; var o = this.originalOperations.get(t), r = this._relations.get(o); return r && r.get(i) || null; };
                        Zh.prototype._setRelation = function (t, e, n) { var i = this.originalOperations.get(t), o = this.originalOperations.get(e); var r = this._relations.get(i); r || (r = new Map, this._relations.set(i, r)), r.set(o, n); };
                        return Zh;
                    }());
                    function Xh(t, e) {
                        var e_564, _j;
                        try {
                            for (var t_277 = __values(t), t_277_1 = t_277.next(); !t_277_1.done; t_277_1 = t_277.next()) {
                                var n_218 = t_277_1.value;
                                n_218.baseVersion = e++;
                            }
                        }
                        catch (e_564_1) { e_564 = { error: e_564_1 }; }
                        finally {
                            try {
                                if (t_277_1 && !t_277_1.done && (_j = t_277.return)) _j.call(t_277);
                            }
                            finally { if (e_564) throw e_564.error; }
                        }
                    }
                    function tm(t, e) { for (var n_219 = 0; n_219 < e; n_219++)
                        t.push(new Yh(0)); }
                    function em(t, e, n) { var i = t.nodes.getNode(0).getAttribute(e); if (i == n)
                        return null; var o = new Ks(t.position, t.position.getShiftedBy(t.howMany)); return new dc(o, e, i, n, 0); }
                    function nm(t, e) { return null === t.targetPosition._getTransformedByDeletion(e.sourcePosition, e.howMany); }
                    function im(t, e) { var n = []; for (var i_127 = 0; i_127 < t.length; i_127++) {
                        var o_75 = t[i_127], r_35 = new hc(o_75.start, o_75.end.offset - o_75.start.offset, e, 0);
                        n.push(r_35);
                        for (var e_565 = i_127 + 1; e_565 < t.length; e_565++)
                            t[e_565] = t[e_565]._getTransformedByMove(r_35.sourcePosition, r_35.targetPosition, r_35.howMany)[0];
                        e = e._getTransformedByMove(r_35.sourcePosition, r_35.targetPosition, r_35.howMany);
                    } return n; }
                    Gh(dc, dc, function (t, e, n) { if (t.key === e.key) {
                        var i_128 = t.range.getDifference(e.range).map(function (e) { return new dc(e, t.key, t.oldValue, t.newValue, 0); }), o_76 = t.range.getIntersection(e.range);
                        return o_76 && n.aIsStrong && i_128.push(new dc(o_76, e.key, e.newValue, t.newValue, 0)), 0 == i_128.length ? [new Yh(0)] : i_128;
                    } return [t]; }), Gh(dc, mc, function (t, e) { if (t.range.start.hasSameParentAs(e.position) && t.range.containsPosition(e.position)) {
                        var n_220 = t.range._getTransformedByInsertion(e.position, e.howMany, !e.shouldReceiveAttributes).map(function (e) { return new dc(e, t.key, t.oldValue, t.newValue, t.baseVersion); });
                        if (e.shouldReceiveAttributes) {
                            var i_129 = em(e, t.key, t.oldValue);
                            i_129 && n_220.unshift(i_129);
                        }
                        return n_220;
                    } return t.range = t.range._getTransformedByInsertion(e.position, e.howMany, !1)[0], [t]; }), Gh(dc, xc, function (t, e) { var n = []; t.range.start.hasSameParentAs(e.deletionPosition) && (t.range.containsPosition(e.deletionPosition) || t.range.start.isEqual(e.deletionPosition)) && n.push(Ks._createFromPositionAndShift(e.graveyardPosition, 1)); var i = t.range._getTransformedByMergeOperation(e); return i.isCollapsed || n.push(i), n.map(function (e) { return new dc(e, t.key, t.oldValue, t.newValue, t.baseVersion); }); }), Gh(dc, hc, function (t, e) { return function (t, e) {
                        var e_566, _j;
                        var n = Ks._createFromPositionAndShift(e.sourcePosition, e.howMany);
                        var i = null, o = [];
                        n.containsRange(t, !0) ? i = t : t.start.hasSameParentAs(n.start) ? (o = t.getDifference(n), i = t.getIntersection(n)) : o = [t];
                        var r = [];
                        try {
                            for (var o_77 = __values(o), o_77_1 = o_77.next(); !o_77_1.done; o_77_1 = o_77.next()) {
                                var t_278 = o_77_1.value;
                                t_278 = t_278._getTransformedByDeletion(e.sourcePosition, e.howMany);
                                var n_221 = e.getMovedRangeStart(), i_130 = t_278.start.hasSameParentAs(n_221);
                                t_278 = t_278._getTransformedByInsertion(n_221, e.howMany, i_130), r.push.apply(r, __spread(t_278));
                            }
                        }
                        catch (e_566_1) { e_566 = { error: e_566_1 }; }
                        finally {
                            try {
                                if (o_77_1 && !o_77_1.done && (_j = o_77.return)) _j.call(o_77);
                            }
                            finally { if (e_566) throw e_566.error; }
                        }
                        i && r.push(i._getTransformedByMove(e.sourcePosition, e.targetPosition, e.howMany, !1)[0]);
                        return r;
                    }(t.range, e).map(function (e) { return new dc(e, t.key, t.oldValue, t.newValue, t.baseVersion); }); }), Gh(dc, bc, function (t, e) { if (t.range.end.isEqual(e.insertionPosition))
                        return e.graveyardPosition || t.range.end.offset++, [t]; if (t.range.start.hasSameParentAs(e.splitPosition) && t.range.containsPosition(e.splitPosition)) {
                        var n_222 = t.clone();
                        return n_222.range = new Ks(e.moveTargetPosition.clone(), t.range.end._getCombined(e.splitPosition, e.moveTargetPosition)), t.range.end = e.splitPosition.clone(), t.range.end.stickiness = "toPrevious", [t, n_222];
                    } return t.range = t.range._getTransformedBySplitOperation(e), [t]; }), Gh(mc, dc, function (t, e) { var n = [t]; if (t.shouldReceiveAttributes && t.position.hasSameParentAs(e.range.start) && e.range.containsPosition(t.position)) {
                        var i_131 = em(t, e.key, e.newValue);
                        i_131 && n.push(i_131);
                    } return n; }), Gh(mc, mc, function (t, e, n) { return t.position.isEqual(e.position) && n.aIsStrong ? [t] : (t.position = t.position._getTransformedByInsertOperation(e), [t]); }), Gh(mc, hc, function (t, e) { return (t.position = t.position._getTransformedByMoveOperation(e), [t]); }), Gh(mc, bc, function (t, e) { return (t.position = t.position._getTransformedBySplitOperation(e), [t]); }), Gh(mc, xc, function (t, e) { return (t.position = t.position._getTransformedByMergeOperation(e), [t]); }), Gh(gc, mc, function (t, e) { return (t.oldRange && (t.oldRange = t.oldRange._getTransformedByInsertOperation(e)[0]), t.newRange && (t.newRange = t.newRange._getTransformedByInsertOperation(e)[0]), [t]); }), Gh(gc, gc, function (t, e, n) { if (t.name == e.name) {
                        if (!n.aIsStrong)
                            return [new Yh(0)];
                        t.oldRange = e.newRange ? e.newRange.clone() : null;
                    } return [t]; }), Gh(gc, xc, function (t, e) { return (t.oldRange && (t.oldRange = t.oldRange._getTransformedByMergeOperation(e)), t.newRange && (t.newRange = t.newRange._getTransformedByMergeOperation(e)), [t]); }), Gh(gc, hc, function (t, e, n) { if (t.oldRange && (t.oldRange = Ks._createFromRanges(t.oldRange._getTransformedByMoveOperation(e))), t.newRange) {
                        if (n.abRelation) {
                            var i_132 = Ks._createFromRanges(t.newRange._getTransformedByMoveOperation(e));
                            if ("left" == n.abRelation.side && e.targetPosition.isEqual(t.newRange.start))
                                return t.newRange.start.path = n.abRelation.path, t.newRange.end = i_132.end, [t];
                            if ("right" == n.abRelation.side && e.targetPosition.isEqual(t.newRange.end))
                                return t.newRange.start = i_132.start, t.newRange.end.path = n.abRelation.path, [t];
                        }
                        t.newRange = Ks._createFromRanges(t.newRange._getTransformedByMoveOperation(e));
                    } return [t]; }), Gh(gc, bc, function (t, e, n) { if (t.oldRange && (t.oldRange = t.oldRange._getTransformedBySplitOperation(e)), t.newRange) {
                        if (n.abRelation) {
                            var i_133 = t.newRange._getTransformedBySplitOperation(e);
                            return t.newRange.start.isEqual(e.splitPosition) && n.abRelation.wasStartBeforeMergedElement ? t.newRange.start = Gs._createAt(e.insertionPosition) : t.newRange.start.isEqual(e.splitPosition) && !n.abRelation.wasInLeftElement && (t.newRange.start = Gs._createAt(e.moveTargetPosition)), t.newRange.end.isEqual(e.splitPosition) && n.abRelation.wasInRightElement ? t.newRange.end = Gs._createAt(e.moveTargetPosition) : t.newRange.end.isEqual(e.splitPosition) && n.abRelation.wasEndBeforeMergedElement ? t.newRange.end = Gs._createAt(e.insertionPosition) : t.newRange.end = i_133.end, [t];
                        }
                        t.newRange = t.newRange._getTransformedBySplitOperation(e);
                    } return [t]; }), Gh(xc, mc, function (t, e) { return (t.sourcePosition.hasSameParentAs(e.position) && (t.howMany += e.howMany), t.sourcePosition = t.sourcePosition._getTransformedByInsertOperation(e), t.targetPosition = t.targetPosition._getTransformedByInsertOperation(e), [t]); }), Gh(xc, xc, function (t, e, n) { if (t.sourcePosition.isEqual(e.sourcePosition) && t.targetPosition.isEqual(e.targetPosition)) {
                        if (n.bWasUndone) {
                            var n_223 = e.graveyardPosition.path.slice();
                            return n_223.push(0), t.sourcePosition = new Gs(e.graveyardPosition.root, n_223), t.howMany = 0, [t];
                        }
                        return [new Yh(0)];
                    } if (t.sourcePosition.isEqual(e.sourcePosition) && !t.targetPosition.isEqual(e.targetPosition) && !n.bWasUndone && "splitAtSource" != n.abRelation) {
                        var i_134 = "$graveyard" == t.targetPosition.root.rootName, o_78 = "$graveyard" == e.targetPosition.root.rootName;
                        if (o_78 && !i_134 || !(i_134 && !o_78) && n.aIsStrong) {
                            var n_224 = e.targetPosition._getTransformedByMergeOperation(e), i_135 = t.targetPosition._getTransformedByMergeOperation(e);
                            return [new hc(n_224, t.howMany, i_135, 0)];
                        }
                        return [new Yh(0)];
                    } return t.sourcePosition.hasSameParentAs(e.targetPosition) && (t.howMany += e.howMany), t.sourcePosition = t.sourcePosition._getTransformedByMergeOperation(e), t.targetPosition = t.targetPosition._getTransformedByMergeOperation(e), t.graveyardPosition.isEqual(e.graveyardPosition) && n.aIsStrong || (t.graveyardPosition = t.graveyardPosition._getTransformedByMergeOperation(e)), [t]; }), Gh(xc, hc, function (t, e, n) { var i = Ks._createFromPositionAndShift(e.sourcePosition, e.howMany); return "remove" == e.type && !n.bWasUndone && !n.forceWeakRemove && t.deletionPosition.hasSameParentAs(e.sourcePosition) && i.containsPosition(t.sourcePosition) ? [new Yh(0)] : (t.sourcePosition.hasSameParentAs(e.targetPosition) && (t.howMany += e.howMany), t.sourcePosition.hasSameParentAs(e.sourcePosition) && (t.howMany -= e.howMany), t.sourcePosition = t.sourcePosition._getTransformedByMoveOperation(e), t.targetPosition = t.targetPosition._getTransformedByMoveOperation(e), t.graveyardPosition.isEqual(e.targetPosition) || (t.graveyardPosition = t.graveyardPosition._getTransformedByMoveOperation(e)), [t]); }), Gh(xc, bc, function (t, e, n) { if (e.graveyardPosition && (t.graveyardPosition = t.graveyardPosition._getTransformedByDeletion(e.graveyardPosition, 1), t.deletionPosition.isEqual(e.graveyardPosition) && (t.howMany = e.howMany)), t.targetPosition.isEqual(e.splitPosition)) {
                        var i_136 = 0 != e.howMany, o_79 = e.graveyardPosition && t.deletionPosition.isEqual(e.graveyardPosition);
                        if (i_136 || o_79 || "mergeTargetNotMoved" == n.abRelation)
                            return t.sourcePosition = t.sourcePosition._getTransformedBySplitOperation(e), [t];
                    } if (t.sourcePosition.isEqual(e.splitPosition)) {
                        if ("mergeSourceNotMoved" == n.abRelation)
                            return t.howMany = 0, t.targetPosition = t.targetPosition._getTransformedBySplitOperation(e), [t];
                        if ("mergeSameElement" == n.abRelation || t.sourcePosition.offset > 0)
                            return t.sourcePosition = e.moveTargetPosition.clone(), t.targetPosition = t.targetPosition._getTransformedBySplitOperation(e), [t];
                    } return t.sourcePosition.hasSameParentAs(e.splitPosition) && (t.howMany = e.splitPosition.offset), t.sourcePosition = t.sourcePosition._getTransformedBySplitOperation(e), t.targetPosition = t.targetPosition._getTransformedBySplitOperation(e), [t]; }), Gh(hc, mc, function (t, e) { var n = Ks._createFromPositionAndShift(t.sourcePosition, t.howMany)._getTransformedByInsertOperation(e, !1)[0]; return t.sourcePosition = n.start, t.howMany = n.end.offset - n.start.offset, t.targetPosition.isEqual(e.position) || (t.targetPosition = t.targetPosition._getTransformedByInsertOperation(e)), [t]; }), Gh(hc, hc, function (t, e, n) {
                        var e_567, _j;
                        var i = Ks._createFromPositionAndShift(t.sourcePosition, t.howMany), o = Ks._createFromPositionAndShift(e.sourcePosition, e.howMany);
                        var r, s = n.aIsStrong, a = !n.aIsStrong;
                        if ("insertBefore" == n.abRelation || "insertAfter" == n.baRelation ? a = !0 : "insertAfter" != n.abRelation && "insertBefore" != n.baRelation || (a = !1), r = t.targetPosition.isEqual(e.targetPosition) && a ? t.targetPosition._getTransformedByDeletion(e.sourcePosition, e.howMany) : t.targetPosition._getTransformedByMove(e.sourcePosition, e.targetPosition, e.howMany), nm(t, e) && nm(e, t))
                            return [e.getReversed()];
                        if (i.containsPosition(e.targetPosition) && i.containsRange(o, !0))
                            return i.start = i.start._getTransformedByMove(e.sourcePosition, e.targetPosition, e.howMany), i.end = i.end._getTransformedByMove(e.sourcePosition, e.targetPosition, e.howMany), im([i], r);
                        if (o.containsPosition(t.targetPosition) && o.containsRange(i, !0))
                            return i.start = i.start._getCombined(e.sourcePosition, e.getMovedRangeStart()), i.end = i.end._getCombined(e.sourcePosition, e.getMovedRangeStart()), im([i], r);
                        var c = li(t.sourcePosition.getParentPath(), e.sourcePosition.getParentPath());
                        if ("prefix" == c || "extension" == c)
                            return i.start = i.start._getTransformedByMove(e.sourcePosition, e.targetPosition, e.howMany), i.end = i.end._getTransformedByMove(e.sourcePosition, e.targetPosition, e.howMany), im([i], r);
                        "remove" != t.type || "remove" == e.type || n.aWasUndone || n.forceWeakRemove ? "remove" == t.type || "remove" != e.type || n.bWasUndone || n.forceWeakRemove || (s = !1) : s = !0;
                        var l = [], d = i.getDifference(o);
                        try {
                            for (var d_4 = __values(d), d_4_1 = d_4.next(); !d_4_1.done; d_4_1 = d_4.next()) {
                                var t_279 = d_4_1.value;
                                t_279.start = t_279.start._getTransformedByDeletion(e.sourcePosition, e.howMany), t_279.end = t_279.end._getTransformedByDeletion(e.sourcePosition, e.howMany);
                                var n_225 = "same" == li(t_279.start.getParentPath(), e.getMovedRangeStart().getParentPath()), i_137 = t_279._getTransformedByInsertion(e.getMovedRangeStart(), e.howMany, n_225);
                                l.push.apply(l, __spread(i_137));
                            }
                        }
                        catch (e_567_1) { e_567 = { error: e_567_1 }; }
                        finally {
                            try {
                                if (d_4_1 && !d_4_1.done && (_j = d_4.return)) _j.call(d_4);
                            }
                            finally { if (e_567) throw e_567.error; }
                        }
                        var u = i.getIntersection(o);
                        return null !== u && s && (u.start = u.start._getCombined(e.sourcePosition, e.getMovedRangeStart()), u.end = u.end._getCombined(e.sourcePosition, e.getMovedRangeStart()), 0 === l.length ? l.push(u) : 1 == l.length ? o.start.isBefore(i.start) || o.start.isEqual(i.start) ? l.unshift(u) : l.push(u) : l.splice(1, 0, u)), 0 === l.length ? [new Yh(t.baseVersion)] : im(l, r);
                    }), Gh(hc, bc, function (t, e, n) { var i = t.targetPosition.clone(); t.targetPosition.isEqual(e.insertionPosition) && e.graveyardPosition && "moveTargetAfter" != n.abRelation || (i = t.targetPosition._getTransformedBySplitOperation(e)); var o = Ks._createFromPositionAndShift(t.sourcePosition, t.howMany); if (o.end.isEqual(e.insertionPosition))
                        return e.graveyardPosition || t.howMany++, t.targetPosition = i, [t]; if (o.start.hasSameParentAs(e.splitPosition) && o.containsPosition(e.splitPosition)) {
                        var t_280 = new Ks(e.splitPosition, o.end);
                        return t_280 = t_280._getTransformedBySplitOperation(e), im([new Ks(o.start, e.splitPosition), t_280], i);
                    } t.targetPosition.isEqual(e.splitPosition) && "insertAtSource" == n.abRelation && (i = e.moveTargetPosition), t.targetPosition.isEqual(e.insertionPosition) && "insertBetween" == n.abRelation && (i = t.targetPosition); var r = [o._getTransformedBySplitOperation(e)]; if (e.graveyardPosition) {
                        var i_138 = o.start.isEqual(e.graveyardPosition) || o.containsPosition(e.graveyardPosition);
                        t.howMany > 1 && i_138 && !n.aWasUndone && r.push(Ks._createFromPositionAndShift(e.insertionPosition, 1));
                    } return im(r, i); }), Gh(hc, xc, function (t, e, n) { var i = Ks._createFromPositionAndShift(t.sourcePosition, t.howMany); if (e.deletionPosition.hasSameParentAs(t.sourcePosition) && i.containsPosition(e.sourcePosition))
                        if ("remove" != t.type || n.forceWeakRemove) {
                            if (1 == t.howMany)
                                return n.bWasUndone ? (t.sourcePosition = e.graveyardPosition.clone(), t.targetPosition = t.targetPosition._getTransformedByMergeOperation(e), [t]) : [new Yh(0)];
                        }
                        else if (!n.aWasUndone) {
                            var n_226 = [];
                            var i_139 = e.graveyardPosition.clone(), o_80 = e.targetPosition._getTransformedByMergeOperation(e);
                            t.howMany > 1 && (n_226.push(new hc(t.sourcePosition, t.howMany - 1, t.targetPosition, 0)), i_139 = i_139._getTransformedByMove(t.sourcePosition, t.targetPosition, t.howMany - 1), o_80 = o_80._getTransformedByMove(t.sourcePosition, t.targetPosition, t.howMany - 1));
                            var r_36 = e.deletionPosition._getCombined(t.sourcePosition, t.targetPosition), s_27 = new hc(i_139, 1, r_36, 0), a_13 = s_27.getMovedRangeStart().path.slice();
                            a_13.push(0);
                            var c_10 = new Gs(s_27.targetPosition.root, a_13);
                            o_80 = o_80._getTransformedByMove(i_139, r_36, 1);
                            var l_4 = new hc(o_80, e.howMany, c_10, 0);
                            return n_226.push(s_27), n_226.push(l_4), n_226;
                        } var o = Ks._createFromPositionAndShift(t.sourcePosition, t.howMany)._getTransformedByMergeOperation(e); return t.sourcePosition = o.start, t.howMany = o.end.offset - o.start.offset, t.targetPosition = t.targetPosition._getTransformedByMergeOperation(e), [t]; }), Gh(fc, mc, function (t, e) { return (t.position = t.position._getTransformedByInsertOperation(e), [t]); }), Gh(fc, xc, function (t, e) { return t.position.isEqual(e.deletionPosition) ? (t.position = e.graveyardPosition.clone(), t.position.stickiness = "toNext", [t]) : (t.position = t.position._getTransformedByMergeOperation(e), [t]); }), Gh(fc, hc, function (t, e) { return (t.position = t.position._getTransformedByMoveOperation(e), [t]); }), Gh(fc, fc, function (t, e, n) { if (t.position.isEqual(e.position)) {
                        if (!n.aIsStrong)
                            return [new Yh(0)];
                        t.oldName = e.newName;
                    } return [t]; }), Gh(fc, bc, function (t, e) { if ("same" == li(t.position.path, e.splitPosition.getParentPath()) && !e.graveyardPosition) {
                        return [t, new fc(t.position.getShiftedBy(1), t.oldName, t.newName, 0)];
                    } return t.position = t.position._getTransformedBySplitOperation(e), [t]; }), Gh(pc, pc, function (t, e, n) { if (t.root === e.root && t.key === e.key) {
                        if (!n.aIsStrong || t.newValue === e.newValue)
                            return [new Yh(0)];
                        t.oldValue = e.newValue;
                    } return [t]; }), Gh(bc, mc, function (t, e) { return (t.splitPosition.hasSameParentAs(e.position) && t.splitPosition.offset < e.position.offset && (t.howMany += e.howMany), t.splitPosition = t.splitPosition._getTransformedByInsertOperation(e), t.insertionPosition = bc.getInsertionPosition(t.splitPosition), [t]); }), Gh(bc, xc, function (t, e, n) { if (!t.graveyardPosition && !n.bWasUndone && t.splitPosition.hasSameParentAs(e.sourcePosition)) {
                        var n_227 = e.graveyardPosition.path.slice();
                        n_227.push(0);
                        var i_140 = new Gs(e.graveyardPosition.root, n_227), o_81 = bc.getInsertionPosition(new Gs(e.graveyardPosition.root, n_227)), r_37 = new bc(i_140, 0, null, 0);
                        return r_37.insertionPosition = o_81, t.splitPosition = t.splitPosition._getTransformedByMergeOperation(e), t.insertionPosition = bc.getInsertionPosition(t.splitPosition), t.graveyardPosition = r_37.insertionPosition.clone(), t.graveyardPosition.stickiness = "toNext", [r_37, t];
                    } return t.splitPosition.hasSameParentAs(e.deletionPosition) && !t.splitPosition.isAfter(e.deletionPosition) && t.howMany--, t.splitPosition.hasSameParentAs(e.targetPosition) && (t.howMany += e.howMany), t.splitPosition = t.splitPosition._getTransformedByMergeOperation(e), t.insertionPosition = bc.getInsertionPosition(t.splitPosition), t.graveyardPosition && (t.graveyardPosition = t.graveyardPosition._getTransformedByMergeOperation(e)), [t]; }), Gh(bc, hc, function (t, e, n) { var i = Ks._createFromPositionAndShift(e.sourcePosition, e.howMany); if (t.graveyardPosition) {
                        var o_82 = i.start.isEqual(t.graveyardPosition) || i.containsPosition(t.graveyardPosition);
                        if (!n.bWasUndone && o_82) {
                            var n_228 = t.splitPosition._getTransformedByMoveOperation(e), i_141 = t.graveyardPosition._getTransformedByMoveOperation(e), o_83 = i_141.path.slice();
                            o_83.push(0);
                            var r_38 = new Gs(i_141.root, o_83);
                            return [new hc(n_228, t.howMany, r_38, 0)];
                        }
                        t.graveyardPosition = t.graveyardPosition._getTransformedByMoveOperation(e);
                    } if (t.splitPosition.hasSameParentAs(e.sourcePosition) && i.containsPosition(t.splitPosition)) {
                        var n_229 = e.howMany - (t.splitPosition.offset - e.sourcePosition.offset);
                        return t.howMany -= n_229, t.splitPosition.hasSameParentAs(e.targetPosition) && t.splitPosition.offset < e.targetPosition.offset && (t.howMany += e.howMany), t.splitPosition = e.sourcePosition.clone(), t.insertionPosition = bc.getInsertionPosition(t.splitPosition), [t];
                    } return !t.splitPosition.isEqual(e.targetPosition) || "insertAtSource" != n.baRelation && "splitBefore" != n.abRelation ? (e.sourcePosition.isEqual(e.targetPosition) || (t.splitPosition.hasSameParentAs(e.sourcePosition) && t.splitPosition.offset <= e.sourcePosition.offset && (t.howMany -= e.howMany), t.splitPosition.hasSameParentAs(e.targetPosition) && t.splitPosition.offset < e.targetPosition.offset && (t.howMany += e.howMany)), t.splitPosition.stickiness = "toNone", t.splitPosition = t.splitPosition._getTransformedByMoveOperation(e), t.splitPosition.stickiness = "toNext", t.graveyardPosition ? t.insertionPosition = t.insertionPosition._getTransformedByMoveOperation(e) : t.insertionPosition = bc.getInsertionPosition(t.splitPosition), [t]) : (t.howMany += e.howMany, t.splitPosition = t.splitPosition._getTransformedByDeletion(e.sourcePosition, e.howMany), t.insertionPosition = bc.getInsertionPosition(t.splitPosition), [t]); }), Gh(bc, bc, function (t, e, n) { if (t.splitPosition.isEqual(e.splitPosition)) {
                        if (!t.graveyardPosition && !e.graveyardPosition)
                            return [new Yh(0)];
                        if (t.graveyardPosition && e.graveyardPosition && t.graveyardPosition.isEqual(e.graveyardPosition))
                            return [new Yh(0)];
                        if ("splitBefore" == n.abRelation)
                            return t.howMany = 0, t.graveyardPosition = t.graveyardPosition._getTransformedBySplitOperation(e), [t];
                    } if (t.graveyardPosition && e.graveyardPosition && t.graveyardPosition.isEqual(e.graveyardPosition)) {
                        var i_142 = "$graveyard" == t.splitPosition.root.rootName, o_84 = "$graveyard" == e.splitPosition.root.rootName;
                        if (o_84 && !i_142 || !(i_142 && !o_84) && n.aIsStrong) {
                            var n_230 = [];
                            return e.howMany && n_230.push(new hc(e.moveTargetPosition, e.howMany, e.splitPosition, 0)), t.howMany && n_230.push(new hc(t.splitPosition, t.howMany, t.moveTargetPosition, 0)), n_230;
                        }
                        return [new Yh(0)];
                    } if (t.graveyardPosition && (t.graveyardPosition = t.graveyardPosition._getTransformedBySplitOperation(e)), t.splitPosition.isEqual(e.insertionPosition) && "splitBefore" == n.abRelation)
                        return t.howMany++, [t]; if (e.splitPosition.isEqual(t.insertionPosition) && "splitBefore" == n.baRelation) {
                        var n_231 = e.insertionPosition.path.slice();
                        n_231.push(0);
                        var i_143 = new Gs(e.insertionPosition.root, n_231);
                        return [t, new hc(t.insertionPosition, 1, i_143, 0)];
                    } return t.splitPosition.hasSameParentAs(e.splitPosition) && t.splitPosition.offset < e.splitPosition.offset && (t.howMany -= e.howMany), t.splitPosition = t.splitPosition._getTransformedBySplitOperation(e), t.insertionPosition = bc.getInsertionPosition(t.splitPosition), [t]; });
                    var om = /** @class */ (function (_super) {
                        __extends(om, _super);
                        function om(t) {
                            var _this = this;
                            _this = _super.call(this, t) || this, _this._stack = [], _this._createdBatches = new WeakSet, _this.refresh();
                            return _this;
                        }
                        om.prototype.refresh = function () { this.isEnabled = this._stack.length > 0; };
                        om.prototype.addBatch = function (t) { var e = this.editor.model.document.selection, n = { ranges: e.hasOwnRange ? Array.from(e.getRanges()) : [], isBackward: e.isBackward }; this._stack.push({ batch: t, selection: n }), this.refresh(); };
                        om.prototype.clearStack = function () { this._stack = [], this.refresh(); };
                        om.prototype._restoreSelection = function (t, e, n) {
                            var e_568, _j;
                            var i = this.editor.model, o = i.document, r = [];
                            try {
                                for (var t_281 = __values(t), t_281_1 = t_281.next(); !t_281_1.done; t_281_1 = t_281.next()) {
                                    var e_569 = t_281_1.value;
                                    var t_282 = rm(e_569, n).find(function (t) { return t.start.root != o.graveyard; });
                                    t_282 && r.push(t_282);
                                }
                            }
                            catch (e_568_1) { e_568 = { error: e_568_1 }; }
                            finally {
                                try {
                                    if (t_281_1 && !t_281_1.done && (_j = t_281.return)) _j.call(t_281);
                                }
                                finally { if (e_568) throw e_568.error; }
                            }
                            r.length && i.change(function (t) { t.setSelection(r, { backward: e }); });
                        };
                        om.prototype._undo = function (t, e) {
                            var e_570, _j, e_571, _q;
                            var n = this.editor.model, i = n.document;
                            this._createdBatches.add(e);
                            var o = t.operations.slice().filter(function (t) { return t.isDocumentOperation; });
                            o.reverse();
                            try {
                                for (var o_85 = __values(o), o_85_1 = o_85.next(); !o_85_1.done; o_85_1 = o_85.next()) {
                                    var t_283 = o_85_1.value;
                                    var o_86 = t_283.baseVersion + 1, r_39 = Array.from(i.history.getOperations(o_86)), s_29 = Jh([t_283.getReversed()], r_39, { useRelations: !0, document: this.editor.model.document, padWithNoOps: !1, forceWeakRemove: !0 }).operationsA;
                                    try {
                                        for (var s_28 = __values(s_29), s_28_1 = s_28.next(); !s_28_1.done; s_28_1 = s_28.next()) {
                                            var o_87 = s_28_1.value;
                                            e.addOperation(o_87), n.applyOperation(o_87), i.history.setOperationAsUndone(t_283, o_87);
                                        }
                                    }
                                    catch (e_571_1) { e_571 = { error: e_571_1 }; }
                                    finally {
                                        try {
                                            if (s_28_1 && !s_28_1.done && (_q = s_28.return)) _q.call(s_28);
                                        }
                                        finally { if (e_571) throw e_571.error; }
                                    }
                                }
                            }
                            catch (e_570_1) { e_570 = { error: e_570_1 }; }
                            finally {
                                try {
                                    if (o_85_1 && !o_85_1.done && (_j = o_85.return)) _j.call(o_85);
                                }
                                finally { if (e_570) throw e_570.error; }
                            }
                        };
                        return om;
                    }(Pd));
                    function rm(t, e) { var n = t.getTransformedByOperations(e); n.sort(function (t, e) { return t.start.isBefore(e.start) ? -1 : 1; }); for (var t_284 = 1; t_284 < n.length; t_284++) {
                        var e_572 = n[t_284 - 1], i_144 = n[t_284];
                        e_572.end.isTouching(i_144.start) && (e_572.end = i_144.end, n.splice(t_284, 1), t_284--);
                    } return n; }
                    var sm = /** @class */ (function (_super) {
                        __extends(sm, _super);
                        function sm() {
                            return _super !== null && _super.apply(this, arguments) || this;
                        }
                        sm.prototype.execute = function (t) {
                            var _this = this;
                            if (t === void 0) { t = null; }
                            var e = t ? this._stack.findIndex(function (e) { return e.batch == t; }) : this._stack.length - 1, n = this._stack.splice(e, 1)[0], i = this.editor.model.createBatch("transparent");
                            this.editor.model.enqueueChange(i, function () { _this._undo(n.batch, i); var t = _this.editor.model.document.history.getOperations(n.batch.baseVersion); _this._restoreSelection(n.selection.ranges, n.selection.isBackward, t), _this.fire("revert", n.batch, i); }), this.refresh();
                        };
                        return sm;
                    }(om));
                    var am = /** @class */ (function (_super) {
                        __extends(am, _super);
                        function am() {
                            return _super !== null && _super.apply(this, arguments) || this;
                        }
                        am.prototype.execute = function () {
                            var _this = this;
                            var t = this._stack.pop(), e = this.editor.model.createBatch("transparent");
                            this.editor.model.enqueueChange(e, function () { var n = t.batch.operations[t.batch.operations.length - 1].baseVersion + 1, i = _this.editor.model.document.history.getOperations(n); _this._restoreSelection(t.selection.ranges, t.selection.isBackward, i), _this._undo(t.batch, e); }), this.refresh();
                        };
                        return am;
                    }(om));
                    var cm = /** @class */ (function (_super) {
                        __extends(cm, _super);
                        function cm(t) {
                            var _this = this;
                            _this = _super.call(this, t) || this, _this._batchRegistry = new WeakSet;
                            return _this;
                        }
                        Object.defineProperty(cm, "pluginName", {
                            get: function () { return "UndoEditing"; },
                            enumerable: true,
                            configurable: true
                        });
                        cm.prototype.init = function () {
                            var _this = this;
                            var t = this.editor;
                            this._undoCommand = new sm(t), this._redoCommand = new am(t), t.commands.add("undo", this._undoCommand), t.commands.add("redo", this._redoCommand), this.listenTo(t.model, "applyOperation", function (t, e) { var n = e[0]; if (!n.isDocumentOperation)
                                return; var i = n.batch, o = _this._redoCommand._createdBatches.has(i), r = _this._undoCommand._createdBatches.has(i); _this._batchRegistry.has(i) || "transparent" == i.type && !o && !r || (o ? _this._undoCommand.addBatch(i) : r || (_this._undoCommand.addBatch(i), _this._redoCommand.clearStack()), _this._batchRegistry.add(i)); }, { priority: "highest" }), this.listenTo(this._undoCommand, "revert", function (t, e, n) { _this._redoCommand.addBatch(n); }), t.keystrokes.set("CTRL+Z", "undo"), t.keystrokes.set("CTRL+Y", "redo"), t.keystrokes.set("CTRL+SHIFT+Z", "redo");
                        };
                        return cm;
                    }(Ad));
                    var lm = n(18), dm = n.n(lm), um = n(19), hm = n.n(um);
                    var mm = /** @class */ (function (_super) {
                        __extends(mm, _super);
                        function mm() {
                            return _super !== null && _super.apply(this, arguments) || this;
                        }
                        mm.prototype.init = function () { var t = this.editor, e = t.locale, n = t.t, i = "ltr" == e.uiLanguageDirection ? dm.a : hm.a, o = "ltr" == e.uiLanguageDirection ? hm.a : dm.a; this._addButton("undo", n("by"), "CTRL+Z", i), this._addButton("redo", n("bz"), "CTRL+Y", o); };
                        mm.prototype._addButton = function (t, e, n, i) {
                            var _this = this;
                            var o = this.editor;
                            o.ui.componentFactory.add(t, function (r) { var s = o.commands.get(t), a = new sd(r); return a.set({ label: e, icon: i, keystroke: n, tooltip: !0 }), a.bind("isEnabled").to(s, "isEnabled"), _this.listenTo(a, "execute", function () { return o.execute(t); }), a; });
                        };
                        return mm;
                    }(Ad));
                    var gm = /** @class */ (function (_super) {
                        __extends(gm, _super);
                        function gm() {
                            return _super !== null && _super.apply(this, arguments) || this;
                        }
                        Object.defineProperty(gm, "requires", {
                            get: function () { return [cm, mm]; },
                            enumerable: true,
                            configurable: true
                        });
                        Object.defineProperty(gm, "pluginName", {
                            get: function () { return "Undo"; },
                            enumerable: true,
                            configurable: true
                        });
                        return gm;
                    }(Ad));
                    var fm = /** @class */ (function (_super) {
                        __extends(fm, _super);
                        function fm() {
                            return _super !== null && _super.apply(this, arguments) || this;
                        }
                        Object.defineProperty(fm, "requires", {
                            get: function () { return [vh, Sh, Ih, qh, gm]; },
                            enumerable: true,
                            configurable: true
                        });
                        Object.defineProperty(fm, "pluginName", {
                            get: function () { return "Essentials"; },
                            enumerable: true,
                            configurable: true
                        });
                        return fm;
                    }(Ad));
                    var pm = /** @class */ (function (_super) {
                        __extends(pm, _super);
                        function pm() {
                            return _super !== null && _super.apply(this, arguments) || this;
                        }
                        pm.prototype.refresh = function () { var t = this.editor.model, e = Du(t.document.selection.getSelectedBlocks()); this.value = !!e && e.is("paragraph"), this.isEnabled = !!e && xm(e, t.schema); };
                        pm.prototype.execute = function (t) {
                            if (t === void 0) { t = {}; }
                            var e = this.editor.model, n = e.document;
                            e.change(function (i) {
                                var e_573, _j;
                                var o = (t.selection || n.selection).getSelectedBlocks();
                                try {
                                    for (var o_88 = __values(o), o_88_1 = o_88.next(); !o_88_1.done; o_88_1 = o_88.next()) {
                                        var t_285 = o_88_1.value;
                                        !t_285.is("paragraph") && xm(t_285, e.schema) && i.rename(t_285, "paragraph");
                                    }
                                }
                                catch (e_573_1) { e_573 = { error: e_573_1 }; }
                                finally {
                                    try {
                                        if (o_88_1 && !o_88_1.done && (_j = o_88.return)) _j.call(o_88);
                                    }
                                    finally { if (e_573) throw e_573.error; }
                                }
                            });
                        };
                        return pm;
                    }(Pd));
                    function xm(t, e) { return e.checkChild(t.parent, "paragraph") && !e.isObject(t); }
                    var bm = /** @class */ (function (_super) {
                        __extends(bm, _super);
                        function bm() {
                            return _super !== null && _super.apply(this, arguments) || this;
                        }
                        Object.defineProperty(bm, "pluginName", {
                            get: function () { return "Paragraph"; },
                            enumerable: true,
                            configurable: true
                        });
                        bm.prototype.init = function () {
                            var _this = this;
                            var t = this.editor, e = t.model, n = t.data;
                            t.commands.add("paragraph", new pm(t)), e.schema.register("paragraph", { inheritAllFrom: "$block" }), t.conversion.elementToElement({ model: "paragraph", view: "p" }), t.conversion.for("upcast").elementToElement({ model: function (t, e) { return bm.paragraphLikeElements.has(t.name) ? t.isEmpty ? null : e.createElement("paragraph") : null; }, converterPriority: "low" }), n.upcastDispatcher.on("element", function (t, e, n) { n.consumable.test(e.viewItem, { name: e.viewItem.name }) && wm(e.viewItem, e.modelCursor, n.schema) && Object.assign(e, km(e.viewItem, e.modelCursor, n)); }, { priority: "low" }), n.upcastDispatcher.on("text", function (t, e, n) { e.modelRange || wm(e.viewItem, e.modelCursor, n.schema) && Object.assign(e, km(e.viewItem, e.modelCursor, n)); }, { priority: "lowest" }), e.document.registerPostFixer(function (t) { return _this._autoparagraphEmptyRoots(t); }), t.data.on("ready", function () { e.enqueueChange("transparent", function (t) { return _this._autoparagraphEmptyRoots(t); }); }, { priority: "lowest" });
                        };
                        bm.prototype._autoparagraphEmptyRoots = function (t) {
                            var e_574, _j;
                            var e = this.editor.model;
                            try {
                                for (var _q = __values(e.document.getRootNames()), _z = _q.next(); !_z.done; _z = _q.next()) {
                                    var n_232 = _z.value;
                                    var i_145 = e.document.getRoot(n_232);
                                    if (i_145.isEmpty && "$graveyard" != i_145.rootName && e.schema.checkChild(i_145, "paragraph"))
                                        return t.insertElement("paragraph", i_145), !0;
                                }
                            }
                            catch (e_574_1) { e_574 = { error: e_574_1 }; }
                            finally {
                                try {
                                    if (_z && !_z.done && (_j = _q.return)) _j.call(_q);
                                }
                                finally { if (e_574) throw e_574.error; }
                            }
                        };
                        return bm;
                    }(Ad));
                    function km(t, e, n) { var i = n.writer.createElement("paragraph"); return n.writer.insert(i, e), n.convertItem(t, n.writer.createPositionAt(i, 0)); }
                    function wm(t, e, n) { var i = n.createContext(e); return !!n.checkChild(i, "paragraph") && !!n.checkChild(i.push("paragraph"), t); }
                    bm.paragraphLikeElements = new Set(["blockquote", "dd", "div", "dt", "h1", "h2", "h3", "h4", "h5", "h6", "li", "p", "td"]);
                    var _m = /** @class */ (function (_super) {
                        __extends(_m, _super);
                        function _m(t, e) {
                            var _this = this;
                            _this = _super.call(this, t) || this, _this.attributeKey = e;
                            return _this;
                        }
                        _m.prototype.refresh = function () { var t = this.editor.model, e = t.document; this.value = this._getValueFromFirstAllowedNode(), this.isEnabled = t.schema.checkAttributeInSelection(e.selection, this.attributeKey); };
                        _m.prototype.execute = function (t) {
                            var _this = this;
                            if (t === void 0) { t = {}; }
                            var e = this.editor.model, n = e.document.selection, i = void 0 === t.forceValue ? !this.value : t.forceValue;
                            e.change(function (t) {
                                var e_575, _j;
                                if (n.isCollapsed)
                                    i ? t.setSelectionAttribute(_this.attributeKey, !0) : t.removeSelectionAttribute(_this.attributeKey);
                                else {
                                    var o_90 = e.schema.getValidRanges(n.getRanges(), _this.attributeKey);
                                    try {
                                        for (var o_89 = __values(o_90), o_89_1 = o_89.next(); !o_89_1.done; o_89_1 = o_89.next()) {
                                            var e_576 = o_89_1.value;
                                            i ? t.setAttribute(_this.attributeKey, i, e_576) : t.removeAttribute(_this.attributeKey, e_576);
                                        }
                                    }
                                    catch (e_575_1) { e_575 = { error: e_575_1 }; }
                                    finally {
                                        try {
                                            if (o_89_1 && !o_89_1.done && (_j = o_89.return)) _j.call(o_89);
                                        }
                                        finally { if (e_575) throw e_575.error; }
                                    }
                                }
                            });
                        };
                        _m.prototype._getValueFromFirstAllowedNode = function () {
                            var e_577, _j, e_578, _q;
                            var t = this.editor.model, e = t.schema, n = t.document.selection;
                            if (n.isCollapsed)
                                return n.hasAttribute(this.attributeKey);
                            try {
                                for (var _z = __values(n.getRanges()), _0 = _z.next(); !_0.done; _0 = _z.next()) {
                                    var t_286 = _0.value;
                                    try {
                                        for (var _1 = __values(t_286.getItems()), _2 = _1.next(); !_2.done; _2 = _1.next()) {
                                            var n_233 = _2.value;
                                            if (e.checkAttribute(n_233, this.attributeKey))
                                                return n_233.hasAttribute(this.attributeKey);
                                        }
                                    }
                                    catch (e_578_1) { e_578 = { error: e_578_1 }; }
                                    finally {
                                        try {
                                            if (_2 && !_2.done && (_q = _1.return)) _q.call(_1);
                                        }
                                        finally { if (e_578) throw e_578.error; }
                                    }
                                }
                            }
                            catch (e_577_1) { e_577 = { error: e_577_1 }; }
                            finally {
                                try {
                                    if (_0 && !_0.done && (_j = _z.return)) _j.call(_z);
                                }
                                finally { if (e_577) throw e_577.error; }
                            }
                            return !1;
                        };
                        return _m;
                    }(Pd));
                    var vm = "bold";
                    var ym = /** @class */ (function (_super) {
                        __extends(ym, _super);
                        function ym() {
                            return _super !== null && _super.apply(this, arguments) || this;
                        }
                        Object.defineProperty(ym, "pluginName", {
                            get: function () { return "BoldEditing"; },
                            enumerable: true,
                            configurable: true
                        });
                        ym.prototype.init = function () { var t = this.editor; t.model.schema.extend("$text", { allowAttributes: vm }), t.model.schema.setAttributeProperties(vm, { isFormatting: !0, copyOnEnter: !0 }), t.conversion.attributeToElement({ model: vm, view: "strong", upcastAlso: ["b", function (t) { var e = t.getStyle("font-weight"); return e ? "bold" == e || Number(e) >= 600 ? { name: !0, styles: ["font-weight"] } : void 0 : null; }] }), t.commands.add(vm, new _m(t, vm)), t.keystrokes.set("CTRL+B", vm); };
                        return ym;
                    }(Ad));
                    var Cm = n(39), Tm = n.n(Cm);
                    var Am = "bold";
                    var Sm = /** @class */ (function (_super) {
                        __extends(Sm, _super);
                        function Sm() {
                            return _super !== null && _super.apply(this, arguments) || this;
                        }
                        Sm.prototype.init = function () {
                            var _this = this;
                            var t = this.editor, e = t.t;
                            t.ui.componentFactory.add(Am, function (n) { var i = t.commands.get(Am), o = new sd(n); return o.set({ label: e("k"), icon: Tm.a, keystroke: "CTRL+B", tooltip: !0, isToggleable: !0 }), o.bind("isOn", "isEnabled").to(i, "value", "isEnabled"), _this.listenTo(o, "execute", function () { return t.execute(Am); }), o; });
                        };
                        return Sm;
                    }(Ad));
                    var Pm = /** @class */ (function (_super) {
                        __extends(Pm, _super);
                        function Pm() {
                            return _super !== null && _super.apply(this, arguments) || this;
                        }
                        Object.defineProperty(Pm, "requires", {
                            get: function () { return [ym, Sm]; },
                            enumerable: true,
                            configurable: true
                        });
                        Object.defineProperty(Pm, "pluginName", {
                            get: function () { return "Bold"; },
                            enumerable: true,
                            configurable: true
                        });
                        return Pm;
                    }(Ad));
                    var Mm = "italic";
                    var Em = /** @class */ (function (_super) {
                        __extends(Em, _super);
                        function Em() {
                            return _super !== null && _super.apply(this, arguments) || this;
                        }
                        Object.defineProperty(Em, "pluginName", {
                            get: function () { return "ItalicEditing"; },
                            enumerable: true,
                            configurable: true
                        });
                        Em.prototype.init = function () { var t = this.editor; t.model.schema.extend("$text", { allowAttributes: Mm }), t.model.schema.setAttributeProperties(Mm, { isFormatting: !0, copyOnEnter: !0 }), t.conversion.attributeToElement({ model: Mm, view: "i", upcastAlso: ["em", { styles: { "font-style": "italic" } }] }), t.commands.add(Mm, new _m(t, Mm)), t.keystrokes.set("CTRL+I", Mm); };
                        return Em;
                    }(Ad));
                    var Im = n(40), Nm = n.n(Im);
                    var Rm = "italic";
                    var Om = /** @class */ (function (_super) {
                        __extends(Om, _super);
                        function Om() {
                            return _super !== null && _super.apply(this, arguments) || this;
                        }
                        Om.prototype.init = function () {
                            var _this = this;
                            var t = this.editor, e = t.t;
                            t.ui.componentFactory.add(Rm, function (n) { var i = t.commands.get(Rm), o = new sd(n); return o.set({ label: e("l"), icon: Nm.a, keystroke: "CTRL+I", tooltip: !0, isToggleable: !0 }), o.bind("isOn", "isEnabled").to(i, "value", "isEnabled"), _this.listenTo(o, "execute", function () { return t.execute(Rm); }), o; });
                        };
                        return Om;
                    }(Ad));
                    var Dm = /** @class */ (function (_super) {
                        __extends(Dm, _super);
                        function Dm() {
                            return _super !== null && _super.apply(this, arguments) || this;
                        }
                        Object.defineProperty(Dm, "requires", {
                            get: function () { return [Em, Om]; },
                            enumerable: true,
                            configurable: true
                        });
                        Object.defineProperty(Dm, "pluginName", {
                            get: function () { return "Italic"; },
                            enumerable: true,
                            configurable: true
                        });
                        return Dm;
                    }(Ad));
                    var Lm = /** @class */ (function (_super) {
                        __extends(Lm, _super);
                        function Lm(t, e) {
                            var _this = this;
                            _this = _super.call(this, t) || this, _this.type = e;
                            return _this;
                        }
                        Lm.prototype.refresh = function () { this.value = this._getValue(), this.isEnabled = this._checkEnabled(); };
                        Lm.prototype.execute = function () {
                            var _this = this;
                            var t = this.editor.model, e = t.document, n = Array.from(e.selection.getSelectedBlocks()).filter(function (e) { return zm(e, t.schema); }), i = !0 === this.value;
                            t.change(function (t) {
                                var e_579, _j, e_580, _q, e_581, _z;
                                if (i) {
                                    var e_582 = n[n.length - 1].nextSibling, i_146 = Number.POSITIVE_INFINITY, o_92 = [];
                                    for (; e_582 && "listItem" == e_582.name && 0 !== e_582.getAttribute("listIndent");) {
                                        var t_287 = e_582.getAttribute("listIndent");
                                        t_287 < i_146 && (i_146 = t_287);
                                        var n_235 = t_287 - i_146;
                                        o_92.push({ element: e_582, listIndent: n_235 }), e_582 = e_582.nextSibling;
                                    }
                                    o_92 = o_92.reverse();
                                    try {
                                        for (var o_91 = __values(o_92), o_91_1 = o_91.next(); !o_91_1.done; o_91_1 = o_91.next()) {
                                            var e_583 = o_91_1.value;
                                            t.setAttribute("listIndent", e_583.listIndent, e_583.element);
                                        }
                                    }
                                    catch (e_579_1) { e_579 = { error: e_579_1 }; }
                                    finally {
                                        try {
                                            if (o_91_1 && !o_91_1.done && (_j = o_91.return)) _j.call(o_91);
                                        }
                                        finally { if (e_579) throw e_579.error; }
                                    }
                                }
                                if (!i) {
                                    var t_288 = Number.POSITIVE_INFINITY;
                                    try {
                                        for (var n_234 = __values(n), n_234_1 = n_234.next(); !n_234_1.done; n_234_1 = n_234.next()) {
                                            var e_584 = n_234_1.value;
                                            e_584.is("listItem") && e_584.getAttribute("listIndent") < t_288 && (t_288 = e_584.getAttribute("listIndent"));
                                        }
                                    }
                                    catch (e_580_1) { e_580 = { error: e_580_1 }; }
                                    finally {
                                        try {
                                            if (n_234_1 && !n_234_1.done && (_q = n_234.return)) _q.call(n_234);
                                        }
                                        finally { if (e_580) throw e_580.error; }
                                    }
                                    Vm(n, !0, t_288 = 0 === t_288 ? 1 : t_288), Vm(n, !1, t_288);
                                }
                                try {
                                    for (var _0 = __values(n.reverse()), _1 = _0.next(); !_1.done; _1 = _0.next()) {
                                        var e_585 = _1.value;
                                        i && "listItem" == e_585.name ? t.rename(e_585, "paragraph") : i || "listItem" == e_585.name ? i || "listItem" != e_585.name || e_585.getAttribute("listType") == _this.type || t.setAttribute("listType", _this.type, e_585) : (t.setAttributes({ listType: _this.type, listIndent: 0 }, e_585), t.rename(e_585, "listItem"));
                                    }
                                }
                                catch (e_581_1) { e_581 = { error: e_581_1 }; }
                                finally {
                                    try {
                                        if (_1 && !_1.done && (_z = _0.return)) _z.call(_0);
                                    }
                                    finally { if (e_581) throw e_581.error; }
                                }
                            });
                        };
                        Lm.prototype._getValue = function () { var t = Du(this.editor.model.document.selection.getSelectedBlocks()); return !!t && t.is("listItem") && t.getAttribute("listType") == this.type; };
                        Lm.prototype._checkEnabled = function () { if (this.value)
                            return !0; var t = this.editor.model.document.selection, e = this.editor.model.schema, n = Du(t.getSelectedBlocks()); return !!n && zm(n, e); };
                        return Lm;
                    }(Pd));
                    function Vm(t, e, n) { var i = e ? t[0] : t[t.length - 1]; if (i.is("listItem")) {
                        var o_93 = i[e ? "previousSibling" : "nextSibling"], r_40 = i.getAttribute("listIndent");
                        for (; o_93 && o_93.is("listItem") && o_93.getAttribute("listIndent") >= n;)
                            r_40 > o_93.getAttribute("listIndent") && (r_40 = o_93.getAttribute("listIndent")), o_93.getAttribute("listIndent") == r_40 && t[e ? "unshift" : "push"](o_93), o_93 = o_93[e ? "previousSibling" : "nextSibling"];
                    } }
                    function zm(t, e) { return e.checkChild(t.parent, "listItem") && !e.isObject(t); }
                    var jm = /** @class */ (function (_super) {
                        __extends(jm, _super);
                        function jm(t, e) {
                            var _this = this;
                            _this = _super.call(this, t) || this, _this._indentBy = "forward" == e ? 1 : -1;
                            return _this;
                        }
                        jm.prototype.refresh = function () { this.isEnabled = this._checkEnabled(); };
                        jm.prototype.execute = function () {
                            var _this = this;
                            var t = this.editor.model, e = t.document;
                            var n = Array.from(e.selection.getSelectedBlocks());
                            t.change(function (t) {
                                var e_586, _j;
                                var e = n[n.length - 1];
                                var i = e.nextSibling;
                                for (; i && "listItem" == i.name && i.getAttribute("listIndent") > e.getAttribute("listIndent");)
                                    n.push(i), i = i.nextSibling;
                                _this._indentBy < 0 && (n = n.reverse());
                                try {
                                    for (var n_236 = __values(n), n_236_1 = n_236.next(); !n_236_1.done; n_236_1 = n_236.next()) {
                                        var e_587 = n_236_1.value;
                                        var n_237 = e_587.getAttribute("listIndent") + _this._indentBy;
                                        n_237 < 0 ? t.rename(e_587, "paragraph") : t.setAttribute("listIndent", n_237, e_587);
                                    }
                                }
                                catch (e_586_1) { e_586 = { error: e_586_1 }; }
                                finally {
                                    try {
                                        if (n_236_1 && !n_236_1.done && (_j = n_236.return)) _j.call(n_236);
                                    }
                                    finally { if (e_586) throw e_586.error; }
                                }
                            });
                        };
                        jm.prototype._checkEnabled = function () { var t = Du(this.editor.model.document.selection.getSelectedBlocks()); if (!t || !t.is("listItem"))
                            return !1; if (this._indentBy > 0) {
                            var e_588 = t.getAttribute("listIndent"), n_238 = t.getAttribute("listType");
                            var i_147 = t.previousSibling;
                            for (; i_147 && i_147.is("listItem") && i_147.getAttribute("listIndent") >= e_588;) {
                                if (i_147.getAttribute("listIndent") == e_588)
                                    return i_147.getAttribute("listType") == n_238;
                                i_147 = i_147.previousSibling;
                            }
                            return !1;
                        } return !0; };
                        return jm;
                    }(Pd));
                    function Fm(t, e) { var n = e.mapper, i = e.writer, o = "numbered" == t.getAttribute("listType") ? "ol" : "ul", r = function (t) { var e = t.createContainerElement("li"); return e.getFillerOffset = Ym, e; }(i), s = i.createContainerElement(o, null); return i.insert(i.createPositionAt(s, 0), r), n.bindElements(t, r), r; }
                    function Bm(t, e, n, i) {
                        var e_589, _j, e_590, _q;
                        var o = e.parent, r = n.mapper, s = n.writer;
                        var a = r.toViewPosition(i.createPositionBefore(t));
                        var c = Wm(t.previousSibling, { sameIndent: !0, smallerIndent: !0, listIndent: t.getAttribute("listIndent") }), l = t.previousSibling;
                        if (c && c.getAttribute("listIndent") == t.getAttribute("listIndent")) {
                            var t_289 = r.toViewElement(c);
                            a = s.breakContainer(s.createPositionAfter(t_289));
                        }
                        else
                            a = l && "listItem" == l.name ? r.toViewPosition(i.createPositionAt(l, "end")) : r.toViewPosition(i.createPositionBefore(t));
                        if (a = Um(a), s.insert(a, o), l && "listItem" == l.name) {
                            var t_290 = r.toViewElement(l), n_240 = s.createRange(s.createPositionAt(t_290, 0), a).getWalker({ ignoreElementEnd: !0 });
                            try {
                                for (var n_239 = __values(n_240), n_239_1 = n_239.next(); !n_239_1.done; n_239_1 = n_239.next()) {
                                    var t_291 = n_239_1.value;
                                    if (t_291.item.is("li")) {
                                        var i_148 = s.breakContainer(s.createPositionBefore(t_291.item)), o_94 = t_291.item.parent, r_41 = s.createPositionAt(e, "end");
                                        Hm(s, r_41.nodeBefore, r_41.nodeAfter), s.move(s.createRangeOn(o_94), r_41), n_240.position = i_148;
                                    }
                                }
                            }
                            catch (e_589_1) { e_589 = { error: e_589_1 }; }
                            finally {
                                try {
                                    if (n_239_1 && !n_239_1.done && (_j = n_239.return)) _j.call(n_239);
                                }
                                finally { if (e_589) throw e_589.error; }
                            }
                        }
                        else {
                            var n_241 = o.nextSibling;
                            if (n_241 && (n_241.is("ul") || n_241.is("ol"))) {
                                var i_149 = null;
                                try {
                                    for (var _z = __values(n_241.getChildren()), _0 = _z.next(); !_0.done; _0 = _z.next()) {
                                        var e_591 = _0.value;
                                        var n_242 = r.toModelElement(e_591);
                                        if (!(n_242 && n_242.getAttribute("listIndent") > t.getAttribute("listIndent")))
                                            break;
                                        i_149 = e_591;
                                    }
                                }
                                catch (e_590_1) { e_590 = { error: e_590_1 }; }
                                finally {
                                    try {
                                        if (_0 && !_0.done && (_q = _z.return)) _q.call(_z);
                                    }
                                    finally { if (e_590) throw e_590.error; }
                                }
                                i_149 && (s.breakContainer(s.createPositionAfter(i_149)), s.move(s.createRangeOn(i_149.parent), s.createPositionAt(e, "end")));
                            }
                        }
                        Hm(s, o, o.nextSibling), Hm(s, o.previousSibling, o);
                    }
                    function Hm(t, e, n) { return !e || !n || "ul" != e.name && "ol" != e.name ? null : e.name != n.name || e.getAttribute("class") !== n.getAttribute("class") ? null : t.mergeContainers(t.createPositionAfter(e)); }
                    function Um(t) { return t.getLastMatchingPosition(function (t) { return t.item.is("uiElement"); }); }
                    function Wm(t, e) { var n = !!e.sameIndent, i = !!e.smallerIndent, o = e.listIndent; var r = t; for (; r && "listItem" == r.name;) {
                        var t_292 = r.getAttribute("listIndent");
                        if (n && o == t_292 || i && o > t_292)
                            return r;
                        r = r.previousSibling;
                    } return null; }
                    function qm(t, e, n, i) { t.ui.componentFactory.add(e, function (o) { var r = t.commands.get(e), s = new sd(o); return s.set({ label: n, icon: i, tooltip: !0, isToggleable: !0 }), s.bind("isOn", "isEnabled").to(r, "value", "isEnabled"), s.on("execute", function () { return t.execute(e); }), s; }); }
                    function Ym() { var t = !this.isEmpty && ("ul" == this.getChild(0).name || "ol" == this.getChild(0).name); return this.isEmpty || t ? 0 : yi.call(this); }
                    function $m(t) { return function (e, n, i) { var o = i.consumable; if (!o.test(n.item, "insert") || !o.test(n.item, "attribute:listType") || !o.test(n.item, "attribute:listIndent"))
                        return; o.consume(n.item, "insert"), o.consume(n.item, "attribute:listType"), o.consume(n.item, "attribute:listIndent"); var r = n.item; Bm(r, Fm(r, i), i, t); }; }
                    function Gm(t, e, n) { if (!n.consumable.consume(e.item, "attribute:listType"))
                        return; var i = n.mapper.toViewElement(e.item), o = n.writer; o.breakContainer(o.createPositionBefore(i)), o.breakContainer(o.createPositionAfter(i)); var r = i.parent, s = "numbered" == e.attributeNewValue ? "ol" : "ul"; o.rename(s, r); }
                    function Km(t, e, n) {
                        var e_592, _j;
                        var i = n.mapper.toViewElement(e.item).parent, o = n.writer;
                        Hm(o, i, i.nextSibling), Hm(o, i.previousSibling, i);
                        try {
                            for (var _q = __values(e.item.getChildren()), _z = _q.next(); !_z.done; _z = _q.next()) {
                                var t_293 = _z.value;
                                n.consumable.consume(t_293, "insert");
                            }
                        }
                        catch (e_592_1) { e_592 = { error: e_592_1 }; }
                        finally {
                            try {
                                if (_z && !_z.done && (_j = _q.return)) _j.call(_q);
                            }
                            finally { if (e_592) throw e_592.error; }
                        }
                    }
                    function Qm(t, e, n) { if ("listItem" != e.item.name) {
                        var t_294 = n.mapper.toViewPosition(e.range.start);
                        var i_150 = n.writer, o_95 = [];
                        for (; ("ul" == t_294.parent.name || "ol" == t_294.parent.name) && "li" == (t_294 = i_150.breakContainer(t_294)).parent.name;) {
                            var e_593 = t_294, n_243 = i_150.createPositionAt(t_294.parent, "end");
                            if (!e_593.isEqual(n_243)) {
                                var t_295 = i_150.remove(i_150.createRange(e_593, n_243));
                                o_95.push(t_295);
                            }
                            t_294 = i_150.createPositionAfter(t_294.parent);
                        }
                        if (o_95.length > 0) {
                            for (var e_594 = 0; e_594 < o_95.length; e_594++) {
                                var n_244 = t_294.nodeBefore;
                                if (t_294 = i_150.insert(t_294, o_95[e_594]).end, e_594 > 0) {
                                    var e_595 = Hm(i_150, n_244, n_244.nextSibling);
                                    e_595 && e_595.parent == n_244 && t_294.offset--;
                                }
                            }
                            Hm(i_150, t_294.nodeBefore, t_294.nodeAfter);
                        }
                    } }
                    function Jm(t, e, n) { var i = n.mapper.toViewPosition(e.position), o = i.nodeBefore, r = i.nodeAfter; Hm(n.writer, o, r); }
                    function Zm(t, e, n) { if (n.consumable.consume(e.viewItem, { name: !0 })) {
                        var t_296 = n.writer, i_151 = t_296.createElement("listItem"), o_96 = function (t) { var e = 0, n = t.parent; for (; n;) {
                            if (n.is("li"))
                                e++;
                            else {
                                var t_297 = n.previousSibling;
                                t_297 && t_297.is("li") && e++;
                            }
                            n = n.parent;
                        } return e; }(e.viewItem);
                        t_296.setAttribute("listIndent", o_96, i_151);
                        var r_42 = e.viewItem.parent && "ol" == e.viewItem.parent.name ? "numbered" : "bulleted";
                        t_296.setAttribute("listType", r_42, i_151);
                        var s_30 = n.splitToAllowedParent(i_151, e.modelCursor);
                        if (!s_30)
                            return;
                        t_296.insert(i_151, s_30.position);
                        var a_14 = function (t, e, n) {
                            var e_596, _j;
                            var i = n.writer, o = n.schema;
                            var r = i.createPositionAfter(t);
                            try {
                                for (var e_597 = __values(e), e_597_1 = e_597.next(); !e_597_1.done; e_597_1 = e_597.next()) {
                                    var s_31 = e_597_1.value;
                                    if ("ul" == s_31.name || "ol" == s_31.name)
                                        r = n.convertItem(s_31, r).modelCursor;
                                    else {
                                        var e_598 = n.convertItem(s_31, i.createPositionAt(t, "end")), a_15 = e_598.modelRange.start.nodeAfter, c_11 = a_15 && a_15.is("element") && !o.checkChild(t, a_15.name);
                                        c_11 && (t = e_598.modelCursor.parent.is("listItem") ? e_598.modelCursor.parent : ig(e_598.modelCursor), r = i.createPositionAfter(t));
                                    }
                                }
                            }
                            catch (e_596_1) { e_596 = { error: e_596_1 }; }
                            finally {
                                try {
                                    if (e_597_1 && !e_597_1.done && (_j = e_597.return)) _j.call(e_597);
                                }
                                finally { if (e_596) throw e_596.error; }
                            }
                            return r;
                        }(i_151, e.viewItem.getChildren(), n);
                        e.modelRange = t_296.createRange(e.modelCursor, a_14), s_30.cursorParent ? e.modelCursor = t_296.createPositionAt(s_30.cursorParent, 0) : e.modelCursor = e.modelRange.end;
                    } }
                    function Xm(t, e, n) {
                        var e_599, _j;
                        if (n.consumable.test(e.viewItem, { name: !0 })) {
                            var t_299 = Array.from(e.viewItem.getChildren());
                            try {
                                for (var t_298 = __values(t_299), t_298_1 = t_298.next(); !t_298_1.done; t_298_1 = t_298.next()) {
                                    var e_600 = t_298_1.value;
                                    !(e_600.is("li") || rg(e_600)) && e_600._remove();
                                }
                            }
                            catch (e_599_1) { e_599 = { error: e_599_1 }; }
                            finally {
                                try {
                                    if (t_298_1 && !t_298_1.done && (_j = t_298.return)) _j.call(t_298);
                                }
                                finally { if (e_599) throw e_599.error; }
                            }
                        }
                    }
                    function tg(t, e, n) {
                        var e_601, _j;
                        if (n.consumable.test(e.viewItem, { name: !0 })) {
                            if (0 === e.viewItem.childCount)
                                return;
                            var t_301 = __spread(e.viewItem.getChildren());
                            var n_245 = !1, i_152 = !0;
                            try {
                                for (var t_300 = __values(t_301), t_300_1 = t_300.next(); !t_300_1.done; t_300_1 = t_300.next()) {
                                    var e_602 = t_300_1.value;
                                    n_245 && !rg(e_602) && e_602._remove(), e_602.is("text") ? (i_152 && (e_602._data = e_602.data.replace(/^\s+/, "")), e_602.nextSibling && !rg(e_602.nextSibling) || (e_602._data = e_602.data.replace(/\s+$/, ""))) : rg(e_602) && (n_245 = !0), i_152 = !1;
                                }
                            }
                            catch (e_601_1) { e_601 = { error: e_601_1 }; }
                            finally {
                                try {
                                    if (t_300_1 && !t_300_1.done && (_j = t_300.return)) _j.call(t_300);
                                }
                                finally { if (e_601) throw e_601.error; }
                            }
                        }
                    }
                    function eg(t) { return function (e, n) {
                        var e_603, _j;
                        if (n.isPhantom)
                            return;
                        var i = n.modelPosition.nodeBefore;
                        if (i && i.is("listItem")) {
                            var e_604 = n.mapper.toViewElement(i), o_97 = e_604.getAncestors().find(rg), r_44 = t.createPositionAt(e_604, 0).getWalker();
                            try {
                                for (var r_43 = __values(r_44), r_43_1 = r_43.next(); !r_43_1.done; r_43_1 = r_43.next()) {
                                    var t_302 = r_43_1.value;
                                    if ("elementStart" == t_302.type && t_302.item.is("li")) {
                                        n.viewPosition = t_302.previousPosition;
                                        break;
                                    }
                                    if ("elementEnd" == t_302.type && t_302.item == o_97) {
                                        n.viewPosition = t_302.nextPosition;
                                        break;
                                    }
                                }
                            }
                            catch (e_603_1) { e_603 = { error: e_603_1 }; }
                            finally {
                                try {
                                    if (r_43_1 && !r_43_1.done && (_j = r_43.return)) _j.call(r_43);
                                }
                                finally { if (e_603) throw e_603.error; }
                            }
                        }
                    }; }
                    function ng(t, _j) {
                        var _q = __read(_j, 2), e = _q[0], n = _q[1];
                        var i, o = e.is("documentFragment") ? e.getChild(0) : e;
                        if (i = n ? this.createSelection(n) : this.document.selection, o && o.is("listItem")) {
                            var t_303 = i.getFirstPosition();
                            var e_605 = null;
                            if (t_303.parent.is("listItem") ? e_605 = t_303.parent : t_303.nodeBefore && t_303.nodeBefore.is("listItem") && (e_605 = t_303.nodeBefore), e_605) {
                                var t_304 = e_605.getAttribute("listIndent");
                                if (t_304 > 0)
                                    for (; o && o.is("listItem");)
                                        o._setAttribute("listIndent", o.getAttribute("listIndent") + t_304), o = o.nextSibling;
                            }
                        }
                    }
                    function ig(t) { var e = new qs({ startPosition: t }); var n; do {
                        n = e.next();
                    } while (!n.value.item.is("listItem")); return n.value.item; }
                    function og(t, e, n, i, o, r) {
                        var e_606, _j;
                        var s = Wm(e.nodeBefore, { sameIndent: !0, smallerIndent: !0, listIndent: t, foo: "b" }), a = o.mapper, c = o.writer, l = s ? s.getAttribute("listIndent") : null;
                        var d;
                        if (s)
                            if (l == t) {
                                var t_305 = a.toViewElement(s).parent;
                                d = c.createPositionAfter(t_305);
                            }
                            else {
                                var t_306 = r.createPositionAt(s, "end");
                                d = a.toViewPosition(t_306);
                            }
                        else
                            d = n;
                        d = Um(d);
                        try {
                            for (var _q = __values(__spread(i.getChildren())), _z = _q.next(); !_z.done; _z = _q.next()) {
                                var t_307 = _z.value;
                                rg(t_307) && (d = c.move(c.createRangeOn(t_307), d).end, Hm(c, t_307, t_307.nextSibling), Hm(c, t_307.previousSibling, t_307));
                            }
                        }
                        catch (e_606_1) { e_606 = { error: e_606_1 }; }
                        finally {
                            try {
                                if (_z && !_z.done && (_j = _q.return)) _j.call(_q);
                            }
                            finally { if (e_606) throw e_606.error; }
                        }
                    }
                    function rg(t) { return t.is("ol") || t.is("ul"); }
                    var sg = /** @class */ (function (_super) {
                        __extends(sg, _super);
                        function sg() {
                            return _super !== null && _super.apply(this, arguments) || this;
                        }
                        Object.defineProperty(sg, "pluginName", {
                            get: function () { return "ListEditing"; },
                            enumerable: true,
                            configurable: true
                        });
                        Object.defineProperty(sg, "requires", {
                            get: function () { return [bm]; },
                            enumerable: true,
                            configurable: true
                        });
                        sg.prototype.init = function () {
                            var _this = this;
                            var t = this.editor;
                            t.model.schema.register("listItem", { inheritAllFrom: "$block", allowAttributes: ["listType", "listIndent"] });
                            var e = t.data, n = t.editing;
                            t.model.document.registerPostFixer(function (e) { return (function (t, e) {
                                var e_607, _j, e_608, _q, e_609, _z;
                                var n = t.document.differ.getChanges(), i = new Map;
                                var o = !1;
                                try {
                                    for (var n_246 = __values(n), n_246_1 = n_246.next(); !n_246_1.done; n_246_1 = n_246.next()) {
                                        var i_153 = n_246_1.value;
                                        if ("insert" == i_153.type && "listItem" == i_153.name)
                                            r(i_153.position);
                                        else if ("insert" == i_153.type && "listItem" != i_153.name) {
                                            if ("$text" != i_153.name) {
                                                var n_247 = i_153.position.nodeAfter;
                                                n_247.hasAttribute("listIndent") && (e.removeAttribute("listIndent", n_247), o = !0), n_247.hasAttribute("listType") && (e.removeAttribute("listType", n_247), o = !0);
                                                try {
                                                    for (var _0 = __values(Array.from(t.createRangeIn(n_247)).filter(function (t) { return t.item.is("listItem"); })), _1 = _0.next(); !_1.done; _1 = _0.next()) {
                                                        var e_610 = _1.value;
                                                        r(e_610.previousPosition);
                                                    }
                                                }
                                                catch (e_608_1) { e_608 = { error: e_608_1 }; }
                                                finally {
                                                    try {
                                                        if (_1 && !_1.done && (_q = _0.return)) _q.call(_0);
                                                    }
                                                    finally { if (e_608) throw e_608.error; }
                                                }
                                            }
                                            r(i_153.position.getShiftedBy(i_153.length));
                                        }
                                        else
                                            "remove" == i_153.type && "listItem" == i_153.name ? r(i_153.position) : "attribute" == i_153.type && "listIndent" == i_153.attributeKey ? r(i_153.range.start) : "attribute" == i_153.type && "listType" == i_153.attributeKey && r(i_153.range.start);
                                    }
                                }
                                catch (e_607_1) { e_607 = { error: e_607_1 }; }
                                finally {
                                    try {
                                        if (n_246_1 && !n_246_1.done && (_j = n_246.return)) _j.call(n_246);
                                    }
                                    finally { if (e_607) throw e_607.error; }
                                }
                                try {
                                    for (var _2 = __values(i.values()), _3 = _2.next(); !_3.done; _3 = _2.next()) {
                                        var t_308 = _3.value;
                                        s(t_308), a(t_308);
                                    }
                                }
                                catch (e_609_1) { e_609 = { error: e_609_1 }; }
                                finally {
                                    try {
                                        if (_3 && !_3.done && (_z = _2.return)) _z.call(_2);
                                    }
                                    finally { if (e_609) throw e_609.error; }
                                }
                                return o;
                                function r(t) { var e = t.nodeBefore; if (e && e.is("listItem")) {
                                    var n_248 = e;
                                    if (i.has(n_248))
                                        return;
                                    for (; n_248.previousSibling && n_248.previousSibling.is("listItem");)
                                        if (n_248 = n_248.previousSibling, i.has(n_248))
                                            return;
                                    i.set(t.nodeBefore, n_248);
                                }
                                else {
                                    var e_611 = t.nodeAfter;
                                    e_611 && e_611.is("listItem") && i.set(e_611, e_611);
                                } }
                                function s(t) { var n = 0, i = null; for (; t && t.is("listItem");) {
                                    var r_45 = t.getAttribute("listIndent");
                                    if (r_45 > n) {
                                        var s_32 = void 0;
                                        null === i ? (i = r_45 - n, s_32 = n) : (i > r_45 && (i = r_45), s_32 = r_45 - i), e.setAttribute("listIndent", s_32, t), o = !0;
                                    }
                                    else
                                        i = null, n = t.getAttribute("listIndent") + 1;
                                    t = t.nextSibling;
                                } }
                                function a(t) { var n = [], i = null; for (; t && t.is("listItem");) {
                                    var r_46 = t.getAttribute("listIndent");
                                    if (i && i.getAttribute("listIndent") > r_46 && (n = n.slice(0, r_46 + 1)), 0 != r_46)
                                        if (n[r_46]) {
                                            var i_154 = n[r_46];
                                            t.getAttribute("listType") != i_154 && (e.setAttribute("listType", i_154, t), o = !0);
                                        }
                                        else
                                            n[r_46] = t.getAttribute("listType");
                                    i = t, t = t.nextSibling;
                                } }
                            })(t.model, e); }), n.mapper.registerViewToModelLength("li", ag), e.mapper.registerViewToModelLength("li", ag), n.mapper.on("modelToViewPosition", eg(n.view)), n.mapper.on("viewToModelPosition", function (t) { return function (e, n) { var i = n.viewPosition, o = i.parent, r = n.mapper; if ("ul" == o.name || "ol" == o.name) {
                                if (i.isAtEnd) {
                                    var e_612 = r.toModelElement(i.nodeBefore), o_98 = r.getModelLength(i.nodeBefore);
                                    n.modelPosition = t.createPositionBefore(e_612).getShiftedBy(o_98);
                                }
                                else {
                                    var e_613 = r.toModelElement(i.nodeAfter);
                                    n.modelPosition = t.createPositionBefore(e_613);
                                }
                                e.stop();
                            }
                            else if ("li" == o.name && i.nodeBefore && ("ul" == i.nodeBefore.name || "ol" == i.nodeBefore.name)) {
                                var s_33 = r.toModelElement(o);
                                var a_16 = 1, c_12 = i.nodeBefore;
                                for (; c_12 && rg(c_12);)
                                    a_16 += r.getModelLength(c_12), c_12 = c_12.previousSibling;
                                n.modelPosition = t.createPositionBefore(s_33).getShiftedBy(a_16), e.stop();
                            } }; }(t.model)), e.mapper.on("modelToViewPosition", eg(n.view)), t.conversion.for("editingDowncast").add(function (e) { e.on("insert", Qm, { priority: "high" }), e.on("insert:listItem", $m(t.model)), e.on("attribute:listType:listItem", Gm, { priority: "high" }), e.on("attribute:listType:listItem", Km, { priority: "low" }), e.on("attribute:listIndent:listItem", function (t) { return function (e, n, i) {
                                var e_614, _j;
                                if (!i.consumable.consume(n.item, "attribute:listIndent"))
                                    return;
                                var o = i.mapper.toViewElement(n.item), r = i.writer;
                                r.breakContainer(r.createPositionBefore(o)), r.breakContainer(r.createPositionAfter(o));
                                var s = o.parent, a = s.previousSibling, c = r.createRangeOn(s);
                                r.remove(c), a && a.nextSibling && Hm(r, a, a.nextSibling), og(n.attributeOldValue + 1, n.range.start, c.start, o, i, t), Bm(n.item, o, i, t);
                                try {
                                    for (var _q = __values(n.item.getChildren()), _z = _q.next(); !_z.done; _z = _q.next()) {
                                        var t_309 = _z.value;
                                        i.consumable.consume(t_309, "insert");
                                    }
                                }
                                catch (e_614_1) { e_614 = { error: e_614_1 }; }
                                finally {
                                    try {
                                        if (_z && !_z.done && (_j = _q.return)) _j.call(_q);
                                    }
                                    finally { if (e_614) throw e_614.error; }
                                }
                            }; }(t.model)), e.on("remove:listItem", function (t) { return function (e, n, i) {
                                var e_615, _j;
                                var o = i.mapper.toViewPosition(n.position).getLastMatchingPosition(function (t) { return !t.item.is("li"); }).nodeAfter, r = i.writer;
                                r.breakContainer(r.createPositionBefore(o)), r.breakContainer(r.createPositionAfter(o));
                                var s = o.parent, a = s.previousSibling, c = r.createRangeOn(s), l = r.remove(c);
                                a && a.nextSibling && Hm(r, a, a.nextSibling), og(i.mapper.toModelElement(o).getAttribute("listIndent") + 1, n.position, c.start, o, i, t);
                                try {
                                    for (var _q = __values(r.createRangeIn(l).getItems()), _z = _q.next(); !_z.done; _z = _q.next()) {
                                        var t_310 = _z.value;
                                        i.mapper.unbindViewElement(t_310);
                                    }
                                }
                                catch (e_615_1) { e_615 = { error: e_615_1 }; }
                                finally {
                                    try {
                                        if (_z && !_z.done && (_j = _q.return)) _j.call(_q);
                                    }
                                    finally { if (e_615) throw e_615.error; }
                                }
                                e.stop();
                            }; }(t.model)), e.on("remove", Jm, { priority: "low" }); }), t.conversion.for("dataDowncast").add(function (e) { e.on("insert", Qm, { priority: "high" }), e.on("insert:listItem", $m(t.model)); }), t.conversion.for("upcast").add(function (t) { t.on("element:ul", Xm, { priority: "high" }), t.on("element:ol", Xm, { priority: "high" }), t.on("element:li", tg, { priority: "high" }), t.on("element:li", Zm); }), t.model.on("insertContent", ng, { priority: "high" }), t.commands.add("numberedList", new Lm(t, "numbered")), t.commands.add("bulletedList", new Lm(t, "bulleted")), t.commands.add("indentList", new jm(t, "forward")), t.commands.add("outdentList", new jm(t, "backward"));
                            var i = n.view.document;
                            this.listenTo(i, "enter", function (t, e) { var n = _this.editor.model.document, i = n.selection.getLastPosition().parent; n.selection.isCollapsed && "listItem" == i.name && i.isEmpty && (_this.editor.execute("outdentList"), e.preventDefault(), t.stop()); }), this.listenTo(i, "delete", function (t, e) { if ("backward" !== e.direction)
                                return; var n = _this.editor.model.document.selection; if (!n.isCollapsed)
                                return; var i = n.getFirstPosition(); if (!i.isAtStart)
                                return; var o = i.parent; "listItem" === o.name && (o.previousSibling && "listItem" === o.previousSibling.name || (_this.editor.execute("outdentList"), e.preventDefault(), t.stop())); }, { priority: "high" });
                            var o = function (t) { return function (e, n) { _this.editor.commands.get(t).isEnabled && (_this.editor.execute(t), n()); }; };
                            t.keystrokes.set("Tab", o("indentList")), t.keystrokes.set("Shift+Tab", o("outdentList"));
                        };
                        sg.prototype.afterInit = function () { var t = this.editor.commands, e = t.get("indent"), n = t.get("outdent"); e && e.registerChildCommand(t.get("indentList")), n && n.registerChildCommand(t.get("outdentList")); };
                        return sg;
                    }(Ad));
                    function ag(t) {
                        var e_616, _j, e_617, _q;
                        var e = 1;
                        try {
                            for (var _z = __values(t.getChildren()), _0 = _z.next(); !_0.done; _0 = _z.next()) {
                                var n_249 = _0.value;
                                if ("ul" == n_249.name || "ol" == n_249.name)
                                    try {
                                        for (var _1 = __values(n_249.getChildren()), _2 = _1.next(); !_2.done; _2 = _1.next()) {
                                            var t_311 = _2.value;
                                            e += ag(t_311);
                                        }
                                    }
                                    catch (e_617_1) { e_617 = { error: e_617_1 }; }
                                    finally {
                                        try {
                                            if (_2 && !_2.done && (_q = _1.return)) _q.call(_1);
                                        }
                                        finally { if (e_617) throw e_617.error; }
                                    }
                            }
                        }
                        catch (e_616_1) { e_616 = { error: e_616_1 }; }
                        finally {
                            try {
                                if (_0 && !_0.done && (_j = _z.return)) _j.call(_z);
                            }
                            finally { if (e_616) throw e_616.error; }
                        }
                        return e;
                    }
                    var cg = n(41), lg = n.n(cg), dg = n(42), ug = n.n(dg);
                    var hg = /** @class */ (function (_super) {
                        __extends(hg, _super);
                        function hg() {
                            return _super !== null && _super.apply(this, arguments) || this;
                        }
                        hg.prototype.init = function () { var t = this.editor.t; qm(this.editor, "numberedList", t("af"), lg.a), qm(this.editor, "bulletedList", t("ag"), ug.a); };
                        return hg;
                    }(Ad));
                    var mg = /** @class */ (function (_super) {
                        __extends(mg, _super);
                        function mg() {
                            return _super !== null && _super.apply(this, arguments) || this;
                        }
                        Object.defineProperty(mg, "requires", {
                            get: function () { return [sg, hg]; },
                            enumerable: true,
                            configurable: true
                        });
                        Object.defineProperty(mg, "pluginName", {
                            get: function () { return "List"; },
                            enumerable: true,
                            configurable: true
                        });
                        return mg;
                    }(Ad));
                    var gg = /** @class */ (function () {
                        function gg(t, e, n) {
                            var i, o = null;
                            "function" == typeof n ? i = n : (o = t.commands.get(n), i = (function () { t.execute(n); })), t.model.document.on("change", function (n, r) { if (o && !o.isEnabled)
                                return; if ("transparent" == r.type)
                                return; var s = Array.from(t.model.document.differ.getChanges()), a = s[0]; if (1 != s.length || "insert" !== a.type || "$text" != a.name || 1 != a.length)
                                return; var c = a.position.parent; if (!c.is("paragraph") || 1 !== c.childCount)
                                return; var l = e.exec(c.getChild(0).data); l && t.model.enqueueChange(function (t) { var e = t.createPositionAt(c, 0), n = t.createPositionAt(c, l[0].length), o = new sa(e, n); !1 !== i({ match: l }) && t.remove(o), o.detach(); }); });
                        }
                        Object.defineProperty(gg, "pluginName", {
                            get: function () { return "BlockAutoformatEditing"; },
                            enumerable: true,
                            configurable: true
                        });
                        return gg;
                    }());
                    var fg = /** @class */ (function () {
                        function fg(t, e, n) {
                            var i, o, r, s;
                            e instanceof RegExp ? i = e : r = e, "string" == typeof n ? o = n : s = n, r = r || (function (t) { var e; var n = [], o = []; for (; null !== (e = i.exec(t)) && !(e && e.length < 4);) {
                                var t_312 = e.index, i_155 = e[1], r_47 = e[2], s_34 = e[3];
                                var a_17 = i_155 + r_47 + s_34, c_13 = [t_312 += e[0].length - a_17.length, t_312 + i_155.length], l_5 = [t_312 + i_155.length + r_47.length, t_312 + i_155.length + r_47.length + s_34.length];
                                n.push(c_13), n.push(l_5), o.push([t_312 + i_155.length, t_312 + i_155.length + r_47.length]);
                            } return { remove: n, format: o }; }), s = s || (function (e, n) {
                                var e_618, _j;
                                var i = t.model.schema.getValidRanges(n, o);
                                try {
                                    for (var i_156 = __values(i), i_156_1 = i_156.next(); !i_156_1.done; i_156_1 = i_156.next()) {
                                        var t_313 = i_156_1.value;
                                        e.setAttribute(o, !0, t_313);
                                    }
                                }
                                catch (e_618_1) { e_618 = { error: e_618_1 }; }
                                finally {
                                    try {
                                        if (i_156_1 && !i_156_1.done && (_j = i_156.return)) _j.call(i_156);
                                    }
                                    finally { if (e_618) throw e_618.error; }
                                }
                                e.removeSelectionAttribute(o);
                            }), t.model.document.on("change", function (e, n) { if ("transparent" == n.type)
                                return; var i = t.model, o = i.document.selection; if (!o.isCollapsed)
                                return; var a = Array.from(i.document.differ.getChanges()), c = a[0]; if (1 != a.length || "insert" !== c.type || "$text" != c.name || 1 != c.length)
                                return; var l = o.focus, d = l.parent, _j = function (t, e) { var n = t.start; return { text: Array.from(t.getItems()).reduce(function (t, i) { return i.is("text") || i.is("textProxy") ? t + i.data : (n = e.createPositionAfter(i), ""); }, ""), range: e.createRange(n, t.end) }; }(i.createRange(i.createPositionAt(d, 0), l), i), u = _j.text, h = _j.range, m = r(u), g = pg(h.start, m.format, i), f = pg(h.start, m.remove, i); g.length && f.length && i.enqueueChange(function (t) {
                                var e_619, _j;
                                if (!1 !== s(t, g))
                                    try {
                                        for (var _q = __values(f.reverse()), _z = _q.next(); !_z.done; _z = _q.next()) {
                                            var e_620 = _z.value;
                                            t.remove(e_620);
                                        }
                                    }
                                    catch (e_619_1) { e_619 = { error: e_619_1 }; }
                                    finally {
                                        try {
                                            if (_z && !_z.done && (_j = _q.return)) _j.call(_q);
                                        }
                                        finally { if (e_619) throw e_619.error; }
                                    }
                            }); });
                        }
                        Object.defineProperty(fg, "pluginName", {
                            get: function () { return "InlineAutoformatEditing"; },
                            enumerable: true,
                            configurable: true
                        });
                        return fg;
                    }());
                    function pg(t, e, n) { return e.filter(function (t) { return void 0 !== t[0] && void 0 !== t[1]; }).map(function (e) { return n.createRange(t.getShiftedBy(e[0]), t.getShiftedBy(e[1])); }); }
                    var xg = /** @class */ (function (_super) {
                        __extends(xg, _super);
                        function xg() {
                            return _super !== null && _super.apply(this, arguments) || this;
                        }
                        Object.defineProperty(xg, "pluginName", {
                            get: function () { return "Autoformat"; },
                            enumerable: true,
                            configurable: true
                        });
                        xg.prototype.afterInit = function () { this._addListAutoformats(), this._addBasicStylesAutoformats(), this._addHeadingAutoformats(), this._addBlockQuoteAutoformats(), this._addCodeBlockAutoformats(); };
                        xg.prototype._addListAutoformats = function () { var t = this.editor.commands; t.get("bulletedList") && new gg(this.editor, /^[*-]\s$/, "bulletedList"), t.get("numberedList") && new gg(this.editor, /^1[.|)]\s$/, "numberedList"); };
                        xg.prototype._addBasicStylesAutoformats = function () { var t = this.editor.commands; if (t.get("bold")) {
                            var t_314 = bg(this.editor, "bold");
                            new fg(this.editor, /(\*\*)([^*]+)(\*\*)$/g, t_314), new fg(this.editor, /(__)([^_]+)(__)$/g, t_314);
                        } if (t.get("italic")) {
                            var t_315 = bg(this.editor, "italic");
                            new fg(this.editor, /(?:^|[^*])(\*)([^*_]+)(\*)$/g, t_315), new fg(this.editor, /(?:^|[^_])(_)([^_]+)(_)$/g, t_315);
                        } if (t.get("code")) {
                            var t_316 = bg(this.editor, "code");
                            new fg(this.editor, /(`)([^`]+)(`)$/g, t_316);
                        } };
                        xg.prototype._addHeadingAutoformats = function () {
                            var _this = this;
                            var t = this.editor.commands.get("heading");
                            t && t.modelElements.filter(function (t) { return t.match(/^heading[1-6]$/); }).forEach(function (e) { var n = e[7], i = new RegExp("^(#{" + n + "})\\s$"); new gg(_this.editor, i, function () { if (!t.isEnabled)
                                return !1; _this.editor.execute("heading", { value: e }); }); });
                        };
                        xg.prototype._addBlockQuoteAutoformats = function () { this.editor.commands.get("blockQuote") && new gg(this.editor, /^>\s$/, "blockQuote"); };
                        xg.prototype._addCodeBlockAutoformats = function () { this.editor.commands.get("codeBlock") && new gg(this.editor, /^```$/, "codeBlock"); };
                        return xg;
                    }(Ad));
                    function bg(t, e) { return function (n, i) {
                        var e_621, _j;
                        if (!t.commands.get(e).isEnabled)
                            return !1;
                        var o = t.model.schema.getValidRanges(i, e);
                        try {
                            for (var o_99 = __values(o), o_99_1 = o_99.next(); !o_99_1.done; o_99_1 = o_99.next()) {
                                var t_317 = o_99_1.value;
                                n.setAttribute(e, !0, t_317);
                            }
                        }
                        catch (e_621_1) { e_621 = { error: e_621_1 }; }
                        finally {
                            try {
                                if (o_99_1 && !o_99_1.done && (_j = o_99.return)) _j.call(o_99);
                            }
                            finally { if (e_621) throw e_621.error; }
                        }
                        n.removeSelectionAttribute(e);
                    }; }
                    var kg = ["defaultPlugins", "set", "model", "document", "data", "initPlugins", "then", "init", "fire", "ready", "destroy", "focus", "change", "getRoot", "getChild", "childCount", "setSelection", "editing", "view", "name", "placeholderElement", "placeholder", "plugins"];
                    !function (t, e) { !function (e) { for (; --e;)
                        t.push(t.shift()); }(++e); }(kg, 114);
                    var wg = function (t, e) { return kg[t -= 0]; };
                    var _g = /** @class */ (function (_super) {
                        __extends(_g, _super);
                        function _g(t) {
                            if (t === void 0) { t = {}; }
                            var _this = this;
                            t[wg("0x0")] || (t[wg("0x0")] = _g[wg("0x1")]), _this = _super.call(this, t) || this, _this.ui = new bh(_this), _this[wg("0x2")]("placeholder", ""), _this[wg("0x3")][wg("0x4")].on("change", function () { return _this.at(); }, { priority: "low" }), _this.on("change:placeholder", function () { return _this.at(); }), _this[wg("0x3")][wg("0x4")].createRoot(), _this[wg("0x5")].processor = new sl;
                            return _this;
                        }
                        _g.prototype.create = function () {
                            var _this = this;
                            return this[wg("0x6")]()[wg("0x7")](function () { return _this.ui[wg("0x8")](); })[wg("0x7")](function () { return _this[wg("0x5")].init(""); })[wg("0x7")](function () { return _this[wg("0x9")](wg("0xa")); });
                        };
                        _g.prototype[wg("0xb")] = function () {
                            var _this = this;
                            return _super.prototype.destroy.call(this)[wg("0x7")](function () { return _this.ui[wg("0xb")](); });
                        };
                        _g.prototype[wg("0xc")] = function () {
                            var _this = this;
                            this[wg("0x3")][wg("0xd")](function (t) { var e = _this[wg("0x3")].document[wg("0xe")](), n = e[wg("0xf")](e[wg("0x10")] - 1); t[wg("0x11")](n, "end"), _this[wg("0x12")][wg("0x13")][wg("0xc")](); });
                        };
                        _g.prototype.at = function () { var t = this[wg("0x12")][wg("0x13")], e = t[wg("0x4")][wg("0xe")](), n = e[wg("0xf")](0); e[wg("0x10")] > 1 || !n || "p" != n[wg("0x14")] ? this[wg("0x15")] && (function (t, e) { var n = e.document; t.change(function (t) { if (!ul.has(n))
                            return; var i = ul.get(n), o = i.get(e); t.removeAttribute("data-placeholder", o.hostElement), ml(t, o.hostElement), i.delete(e); }); }(t, this[wg("0x15")]), this[wg("0x15")] = void 0) : (hl({ view: t, element: n, text: this[wg("0x16")] }), this[wg("0x15")] = n); };
                        return _g;
                    }(nl));
                    ci(_g, Bi), ci(_g, il), _g[wg("0x1")] = [fm, xg, bm, Pm, Dm, mg];
                    var vg = ["execute", "submit", "length", "Comment content is too long. Your comment has a ", " characters but the limit is a 4000 characters.", "high", "render", "listenTo", "add", "create", "then", "insertBefore", "element", "firstChild", "model", "document", "change", "editor", "focus", "destroy", "extendTemplate", "ck-comment__input-actions--submit", "label", "Submit", "bind", "isEnabled", "disabledSubmit", "trim", "locale", "ck-comment__input-actions--cancel", "Cancel", "view", "forEach", "tab", "focusNext", "low", "keystrokes", "focusTracker", "set", "value", "placeholder", "cancelButtonView", "setTemplate", "div", "ck-comment__input-actions", "submitButtonView", "Esc", "fire"];
                    !function (t, e) { !function (e) { for (; --e;)
                        t.push(t.shift()); }(++e); }(vg, 132);
                    var yg = function (t, e) { return vg[t -= 0]; };
                    var Cg = /** @class */ (function (_super) {
                        __extends(Cg, _super);
                        function Cg(t, e) {
                            var _this = this;
                            _this = _super.call(this, t) || this, _this.editor = new _g(e), _this[yg("0x0")] = new tl, _this[yg("0x1")] = new ll, _this[yg("0x2")](yg("0x3"), ""), _this[yg("0x2")]("disabledSubmit", !1), _this[yg("0x2")](yg("0x4"), ""), _this.submitButtonView = _this.yt(), _this[yg("0x5")] = _this.xt(), _this[yg("0x6")]({ tag: "div", attributes: { class: ["ck-comment__input-wrapper"] }, children: [{ tag: yg("0x7"), attributes: { class: [yg("0x8")] }, children: [_this[yg("0x9")], _this[yg("0x5")]] }] }), _this[yg("0x0")][yg("0x2")](yg("0xa"), function (t, e) { _this[yg("0x5")][yg("0xb")](yg("0xc")), e(); }), _this.on(yg("0xd"), function (t, e) { e[yg("0xe")] > 4e3 && (alert(yg("0xf") + e[yg("0xe")] + yg("0x10")), t.stop()); }, { priority: yg("0x11") });
                            return _this;
                        }
                        Cg.prototype.render = function () {
                            var _this = this;
                            _super.prototype[yg("0x12")].call(this);
                            var _j = this, t = _j.editor, e = _j.element;
                            this[yg("0x0")][yg("0x13")](e), this[yg("0x1")][yg("0x14")](e), t[yg("0x15")]()[yg("0x16")](function () { e[yg("0x17")](t.ui[yg("0x18")], e[yg("0x19")]), t[yg("0x1a")][yg("0x1b")].on(yg("0x1c"), function () { return _this[yg("0x3")] = t.getData(); }), t.bind(yg("0x4")).to(_this), _this.St(t), _this.fire("editorReady"); });
                        };
                        Cg.prototype.focus = function () { this[yg("0x1d")][yg("0x1e")](); };
                        Cg.prototype.destroy = function () {
                            var _this = this;
                            return this.isRendered ? this[yg("0x1d")][yg("0x1f")]()[yg("0x16")](function () { return _super.prototype[yg("0x1f")].call(_this); }) : Promise.resolve(_super.prototype[yg("0x1f")].call(this));
                        };
                        Cg.prototype.yt = function () {
                            var _this = this;
                            var t = new sd(this.locale);
                            return t[yg("0x20")]({ attributes: { class: [yg("0x21")] } }), t[yg("0x22")] = yg("0x23"), t.icon = Yu.a, t.on(yg("0xc"), function () { return _this[yg("0xb")](yg("0xd"), _this[yg("0x3")]); }), t[yg("0x24")](yg("0x25")).to(this, yg("0x3"), this, yg("0x26"), function (t, e) { return !e && !!t[yg("0x27")](); }), t;
                        };
                        Cg.prototype.xt = function () {
                            var _this = this;
                            var t = new sd(this[yg("0x28")]);
                            return t[yg("0x20")]({ attributes: { class: [yg("0x29")] } }), t[yg("0x22")] = yg("0x2a"), t.icon = Gu.a, t.on(yg("0xc"), function () { _this[yg("0x1d")].setData(""), _this[yg("0xb")]("cancel"); }), t;
                        };
                        Cg.prototype.St = function (t) { var e = this[yg("0x1")], n = new bl; [t.ui[yg("0x2b")], this[yg("0x9")], this[yg("0x5")]][yg("0x2c")](function (t) { n.add(t), e[yg("0x14")](t[yg("0x18")]); }); var i = new $l({ focusables: n, focusTracker: e }); this.keystrokes.set(yg("0x2d"), function (t, e) { i[yg("0x2e")](), e(); }, { priority: yg("0x2f") }), this.keystrokes[yg("0x2")]("shift + tab", function (t, e) { i.focusPrevious(), e(); }, { priority: "low" }); };
                        return Cg;
                    }(zl));
                    var Tg = ["indexOf", "join", "...", "replace", "split", "length", "startsWith", "match", "push", "slice"];
                    !function (t, e) { !function (e) { for (; --e;)
                        t.push(t.shift()); }(++e); }(Tg, 442);
                    var Ag = function (t, e) { return Tg[t -= 0]; };
                    function Sg(t, _j) {
                        var e = _j.limit, _q = _j.suffix, n = _q === void 0 ? Ag("0x0") : _q;
                        var i = [];
                        var o = 0;
                        var r = t[Ag("0x1")](/</g, "\n<")[Ag("0x1")](/>/g, ">\n")[Ag("0x1")](/^\n/g, "").replace(/\n$/g, "")[Ag("0x2")]("\n");
                        for (var t_318 = 0; t_318 < r[Ag("0x3")]; t_318++) {
                            var s_35 = r[t_318];
                            var a_18 = Pg(s_35);
                            if (s_35[Ag("0x4")]("<")) {
                                if (o >= e) {
                                    var t_319 = s_35[Ag("0x5")](/[a-zA-Z]+/)[0];
                                    s_35[Ag("0x4")]("</") ? (i[Ag("0x3")] && (s_35 = ""), i.pop()) : (i[Ag("0x6")](t_319), s_35 = "");
                                }
                            }
                            else if (o >= e)
                                s_35 = "";
                            else if (o + a_18[Ag("0x3")] >= e) {
                                var t_320 = e - o;
                                if (" " === a_18[t_320 - 1])
                                    t_320--;
                                else {
                                    var e_622 = a_18[Ag("0x7")](t_320)[Ag("0x8")](" ");
                                    -1 !== e_622 ? t_320 += e_622 : t_320 = s_35.length;
                                }
                                s_35 = a_18.slice(0, t_320)[Ag("0x9")]("") + n, o = e;
                            }
                            else
                                o += a_18.length;
                            r[t_318] = s_35;
                        }
                        return r[Ag("0x9")]("\n")[Ag("0x1")](/\n/g, "");
                    }
                    function Pg(t) { var e = []; for (var n_250 = 0; n_250 < t.length; n_250++) {
                        var i_157 = t.substring(n_250)[Ag("0x5")](/^&[a-z0-9#]+;/);
                        if (i_157) {
                            var t_321 = i_157[0];
                            e.push(t_321), n_250 += t_321[Ag("0x3")] - 1;
                        }
                        else
                            e[Ag("0x6")](t[n_250]);
                    } return e; }
                    var Mg = ["bind", "isVisible", "isEnabled", "isEnabledForComment", "editButton", "execute", "removeButton", "showConfirm", "Delete comment?", "element", "updateComment", "submit", "comment-controller-update-comment-command-disabled: Cannot edit comment when `updateComment` command is disabled.", "cancel", "once", "editorReady", "editor", "setData", "focus", "commentcontroller-permision-denied: Permission denied for editing comment.", "remove", "add", "localeData", "placeholder", "Reply...", "isCollapsed", "view", "comment", "max", "createElement", "div", "innerHTML", "textContent", "content", "expand", "collapse", "isEdit", "destroy", "stopListening", "resolve", "then", "locale"];
                    !function (t, e) { !function (e) { for (; --e;)
                        t.push(t.shift()); }(++e); }(Mg, 274);
                    var Eg = function (t, e) { return Mg[t -= 0]; };
                    var Ig = 200, Ng = 140;
                    var Rg = /** @class */ (function () {
                        function Rg(t, e, n, i) {
                            var _this = this;
                            this[Eg("0x0")] = t, this.comment = e, this.it = n, this.st = i, this[Eg("0x1")] = Eg("0x2"), this.set(Eg("0x3"), !1), this.set("isEdit", !1), this[Eg("0x4")] = this.ot(), this.on("change:isEdit", function (t, e, n) { return _this.rt(n); });
                        }
                        Object.defineProperty(Rg.prototype, "id", {
                            get: function () { return this[Eg("0x5")].id; },
                            enumerable: true,
                            configurable: true
                        });
                        Object.defineProperty(Rg.prototype, "weight", {
                            get: function () { return Math[Eg("0x6")](function (t) { var e = document[Eg("0x7")](Eg("0x8")); return e[Eg("0x9")] = t, e[Eg("0xa")].length; }(this.comment[Eg("0xb")]), Ig); },
                            enumerable: true,
                            configurable: true
                        });
                        Rg.prototype[Eg("0xc")] = function () { this[Eg("0x3")] = !1; };
                        Rg.prototype[Eg("0xd")] = function () { this[Eg("0xe")] || (this[Eg("0x3")] = !0); };
                        Rg.prototype[Eg("0xf")] = function () {
                            var _this = this;
                            return this[Eg("0x10")](), this[Eg("0x4")][Eg("0xf")](), Promise[Eg("0x11")]()[Eg("0x12")](function () { return _this.view[Eg("0xb")].get(0)[Eg("0xf")](); });
                        };
                        Rg.prototype.ot = function () {
                            var _this = this;
                            var t = new lh(this[Eg("0x0")][Eg("0x13")], { author: this[Eg("0x5")].author, commentId: this[Eg("0x5")].id, formatDateTime: this.localeData.formatDateTime }), _j = this.it, e = _j.updateComment, n = _j.removeComment;
                            return t[Eg("0x14")]("isEdit").to(this), t[Eg("0x14")]("createdAt").to(this[Eg("0x5")]), t.content.add(this.ht()), t.editButton[Eg("0x14")](Eg("0x15")).to(e, Eg("0x16"), function (t) { return t && e[Eg("0x17")](_this[Eg("0x5")]); }), t[Eg("0x18")].on(Eg("0x19"), function () { return _this[Eg("0xe")] = !0; }), t[Eg("0x1a")][Eg("0x14")](Eg("0x15")).to(n, Eg("0x16"), function (t) { return t && n[Eg("0x17")](_this[Eg("0x5")]); }), t[Eg("0x1a")].on("execute", function () { t[Eg("0x1b")](Eg("0x1c"), t[Eg("0x1d")]).then(function () { n[Eg("0x19")]({ commentId: _this.id }); }); }), t;
                        };
                        Rg.prototype.ht = function () { var t = new hh(this[Eg("0x0")].locale); return t[Eg("0x14")](Eg("0xb")).to(this[Eg("0x5")], Eg("0xb"), this, "isCollapsed", function (t, e) { return e ? Sg(t, { limit: Ng }) : t; }), t; };
                        Rg.prototype.ct = function () {
                            var _this = this;
                            var t = new Cg(this[Eg("0x0")][Eg("0x13")], this.st), e = this.it[Eg("0x1e")];
                            return t[Eg("0x1")] = this[Eg("0x1")], t.bind("disabledSubmit").to(e, Eg("0x16"), function (t) { return !t; }), t.on(Eg("0x1f"), function (t, n) { if (!e[Eg("0x16")])
                                throw new Gn.b(Eg("0x20"), _this); e[Eg("0x19")]({ commentId: _this.id, content: n }), _this[Eg("0xe")] = !1, _this.dt(); }), t.on(Eg("0x21"), function () { _this[Eg("0xe")] = !1, _this.dt(); }), t[Eg("0x22")](Eg("0x23"), function () { t[Eg("0x24")][Eg("0x25")](_this[Eg("0x5")][Eg("0xb")]), t[Eg("0x26")](); }), t;
                        };
                        Rg.prototype.rt = function (t) { var e = this.it.updateComment; if (t && !e[Eg("0x17")](this[Eg("0x5")]))
                            throw new Gn.b(Eg("0x27"), this); if (t && !e[Eg("0x16")])
                            throw new Gn.b(Eg("0x20"), this); this[Eg("0x4")][Eg("0xb")][Eg("0x28")](0)[Eg("0xf")](), t ? this[Eg("0x4")][Eg("0xb")][Eg("0x29")](this.ct()) : this[Eg("0x4")][Eg("0xb")].add(this.ht()); };
                        Rg.prototype.dt = function () { this[Eg("0x4")].element[Eg("0x26")](); };
                        return Rg;
                    }());
                    ci(Rg, Bi);
                    var Og = ["active", "visibleInput", "visibleActions", "nextAction", "focusTracker", "comments", "createCollection", "userView", "ck-thread__user", "bindTemplate", "div", "ck-thread", "isConfirm", "ck-thread--remove-confirmation", "ck-thread--", "ck-thread__container", "ck-comment__input-container", "ck-comment__input-container--active", "ck-comment__input-container--active-actions", "commentInputView", "render", "add", "element", "containerElement", "querySelector", ".ck-thread__container", "destroy", "then", "locale", "extendTemplate", "ck-thread__input", "extend", "template", "children", "set"];
                    !function (t, e) { !function (e) { for (; --e;)
                        t.push(t.shift()); }(++e); }(Og, 139);
                    var Dg = function (t, e) { return Og[t -= 0]; };
                    var Lg = /** @class */ (function (_super) {
                        __extends(Lg, _super);
                        function Lg(t, e, n, i) {
                            var _this = this;
                            _this = _super.call(this, t) || this, _this[Dg("0x0")](Dg("0x1"), !1), _this[Dg("0x0")](Dg("0x2"), !1), _this[Dg("0x0")](Dg("0x3"), !1), _this.set(Dg("0x4"), null), _this[Dg("0x5")] = new ll, _this[Dg("0x6")] = _this[Dg("0x7")](), _this.commentInputView = _this.ct(i), _this[Dg("0x8")] = new nh(t, e), _this[Dg("0x8")].extendTemplate({ attributes: { class: Dg("0x9") } });
                            var o = _this[Dg("0xa")];
                            _this.setTemplate({ tag: Dg("0xb"), attributes: { class: [Dg("0xc"), o.if(Dg("0x1"), "ck-thread--active"), o.if(Dg("0xd"), Dg("0xe")), o.to("nextAction", function (t) { return t ? Dg("0xf") + t : ""; })], "data-thread-id": n, tabindex: -1 }, children: [{ tag: Dg("0xb"), attributes: { class: Dg("0x10") }, children: [{ tag: "ul", attributes: { class: ["ck-thread__comments"] }, children: _this[Dg("0x6")] }, { tag: Dg("0xb"), attributes: { class: [Dg("0x11"), o.if(Dg("0x2"), Dg("0x12")), o.if("visibleActions", Dg("0x13"))] }, children: [_this[Dg("0x8")], _this[Dg("0x14")]] }] }] });
                            return _this;
                        }
                        Lg.prototype[Dg("0x15")] = function () { _super.prototype[Dg("0x15")].call(this), this[Dg("0x5")][Dg("0x16")](this[Dg("0x17")]), this[Dg("0x18")] = this.element[Dg("0x19")](Dg("0x1a")); };
                        Lg.prototype[Dg("0x1b")] = function () {
                            var _this = this;
                            return this[Dg("0x14")][Dg("0x1b")]()[Dg("0x1c")](function () { return _super.prototype[Dg("0x1b")].call(_this); });
                        };
                        Lg.prototype.ct = function (t) { var e = new Cg(this[Dg("0x1d")], t), n = this[Dg("0xa")]; return e[Dg("0x1e")]({ attributes: { class: Dg("0x1f") } }), wl[Dg("0x20")](e[Dg("0x21")][Dg("0x22")][0], { attributes: { class: [n.if(Dg("0x3"), "ck-comment__input-actions--active")] } }), e; };
                        return Lg;
                    }(zl));
                    ci(Lg, Xu);
                    var Vg = ["count", "setTemplate", "ck-thread__comment-count", " Comment", "set"];
                    !function (t, e) { !function (e) { for (; --e;)
                        t.push(t.shift()); }(++e); }(Vg, 329);
                    var zg = function (t, e) { return Vg[t -= 0]; };
                    var jg = /** @class */ (function (_super) {
                        __extends(jg, _super);
                        function jg(t) {
                            var _this = this;
                            _this = _super.call(this, t) || this, _this[zg("0x0")](zg("0x1"));
                            var e = _this.bindTemplate;
                            _this[zg("0x2")]({ tag: "li", attributes: { class: zg("0x3") }, children: [{ text: e.to("count", function (t) { return 1 == t ? t + zg("0x4") : t + " Comments"; }) }] });
                            return _this;
                        }
                        return jg;
                    }(zl));
                    var Fg = ["every", "commentthreadcontroller-comment-already-collapsed: Cannot collapse collapsed comment.", "last", "expand", "get", "collapsed", "addComment", "author", "using", "locale", "bind", "count", "commentInputView", "placeholder", "submit", "editor", "setData", "low", "cancel", "change:value", "disabledSubmit", "isEnabled", "value", "has", "removeAllRanges", "element", "focus", "cancelConfirm", "find", "localeData", "thread", "commentControllers", "bindTo", "change:isEdit", "visibleCommentControllers", "add", "length", "isEdit", "set", "isCollapsed", "active", "visibleInput", "visibleActions", "view", "collapse", "removeCommentThread", "change:isEnabled", "change:active", "change", "listenTo", "remove", "destroy", "removeComment", "execute", "focusTracker", "isFocused", "totalWeight", "reduce", "from"];
                    !function (t, e) { !function (e) { for (; --e;)
                        t.push(t.shift()); }(++e); }(Fg, 147);
                    var Bg = function (t, e) { return Fg[t -= 0]; };
                    var Hg = 500, Ug = 2;
                    var Wg = /** @class */ (function () {
                        function Wg(t, e, n, i) {
                            var _this = this;
                            this[Bg("0x0")] = t, this[Bg("0x1")] = e, this.it = n, this[Bg("0x2")] = new oo, this.commentControllers[Bg("0x3")](this[Bg("0x1")]).using(function (e) { var o = new Rg(t, e, n, i); return o.on(Bg("0x4"), function () { return _this.lt(); }), o; }), this[Bg("0x5")] = function (t) {
                                var e_623, _j;
                                var e = new oo;
                                try {
                                    for (var t_322 = __values(t), t_322_1 = t_322.next(); !t_322_1.done; t_322_1 = t_322.next()) {
                                        var n_251 = t_322_1.value;
                                        e[Bg("0x6")](n_251);
                                    }
                                }
                                catch (e_623_1) { e_623 = { error: e_623_1 }; }
                                finally {
                                    try {
                                        if (t_322_1 && !t_322_1.done && (_j = t_322.return)) _j.call(t_322);
                                    }
                                    finally { if (e_623) throw e_623.error; }
                                }
                                return e;
                            }(this[Bg("0x2")]), this.set(Bg("0x7"), this[Bg("0x2")][Bg("0x7")]), this.set(Bg("0x8"), !1), this[Bg("0x9")](Bg("0xa"), !1), this.set(Bg("0xb"), !1), this[Bg("0x9")](Bg("0xc"), !1), this[Bg("0x9")](Bg("0xd"), !1), this[Bg("0xe")] = this.ut(i), this[Bg("0xf")](), this.listenTo(this.it[Bg("0x10")], Bg("0x11"), function () { _this.pt(); }), this.on(Bg("0x12"), function (t, e, n) { _this.ft(), n || _this.pt(); }), this.listenTo(this[Bg("0x1")], Bg("0x13"), function () { _this.ft(); }), this[Bg("0x14")](this[Bg("0x2")], Bg("0x6"), function (t, e) { _this.length = _this[Bg("0x2")][Bg("0x7")], _this.vt(e); }), this[Bg("0x14")](this[Bg("0x2")], Bg("0x15"), function (t, e) { _this.length = _this[Bg("0x2")][Bg("0x7")], _this.bt(e), e[Bg("0x16")](), _this.lt(); }), this[Bg("0x14")](this.it[Bg("0x17")], Bg("0x18"), function () { _this[Bg("0xe")][Bg("0x19")][Bg("0x1a")] && _this.dt(); }, { priority: "low" });
                        }
                        Object.defineProperty(Wg.prototype, "id", {
                            get: function () { return this.thread.id; },
                            enumerable: true,
                            configurable: true
                        });
                        Object.defineProperty(Wg.prototype, Bg("0x1b"), {
                            get: function () { return Array.from(this.commentControllers)[Bg("0x1c")](function (t, e) { return t + e.weight; }, 0); },
                            enumerable: true,
                            configurable: true
                        });
                        Object.defineProperty(Wg.prototype, "gt", {
                            get: function () { return !this.active && this[Bg("0x1b")] > Hg && Array[Bg("0x1d")](this.commentControllers)[Bg("0x1e")](function (t) { return !t[Bg("0x8")]; }); },
                            enumerable: true,
                            configurable: true
                        });
                        Wg.prototype[Bg("0xf")] = function () { if (this[Bg("0xa")])
                            throw new Gn.b(Bg("0x1f"), this); var t = this[Bg("0x7")] - Ug; for (var e_624 = 1; e_624 <= t; e_624++)
                            this[Bg("0x5")][Bg("0x15")](this[Bg("0x2")].get(e_624)); this[Bg("0x5")].length < this.length && this.wt(), this[Bg("0x1b")] > Hg && (this[Bg("0x5")].first[Bg("0xf")](), this[Bg("0x5")][Bg("0x20")][Bg("0xf")](), this[Bg("0xa")] = !0); };
                        Wg.prototype[Bg("0x21")] = function () {
                            var e_625, _j;
                            this.visibleCommentControllers[Bg("0x22")](Bg("0x23")) && this.Ct();
                            for (var t_323 = 0; t_323 < this[Bg("0x7")]; t_323++) {
                                var e_626 = this.commentControllers[Bg("0x22")](t_323);
                                this[Bg("0x5")][Bg("0x22")](t_323) != e_626 && this[Bg("0x5")].add(e_626, t_323);
                            }
                            try {
                                for (var _q = __values(this[Bg("0x2")]), _z = _q.next(); !_z.done; _z = _q.next()) {
                                    var t_324 = _z.value;
                                    t_324[Bg("0x21")]();
                                }
                            }
                            catch (e_625_1) { e_625 = { error: e_625_1 }; }
                            finally {
                                try {
                                    if (_z && !_z.done && (_j = _q.return)) _j.call(_q);
                                }
                                finally { if (e_625) throw e_625.error; }
                            }
                            this[Bg("0xa")] = !1;
                        };
                        Wg.prototype[Bg("0x16")] = function () { return this.stopListening(), Promise.all(__spread([this[Bg("0xe")]], this[Bg("0x2")]).map(function (t) { return t.destroy(); })); };
                        Wg.prototype.ut = function (t) {
                            var _this = this;
                            var e = new Lg(this[Bg("0x0")].locale, this.it[Bg("0x24")][Bg("0x25")], this.id, t);
                            return e.bind(Bg("0xb"), Bg("0xc"), Bg("0xd")).to(this), e.comments[Bg("0x3")](this[Bg("0x5")])[Bg("0x26")](function (t) { if (Bg("0x23") === t.id) {
                                var t_325 = new jg(_this[Bg("0x0")][Bg("0x27")]);
                                return t_325[Bg("0x28")](Bg("0x29")).to(_this, Bg("0x7"), function (t) { return t - Ug; }), t_325;
                            } return t.view; }), this._t(e[Bg("0x2a")]), e;
                        };
                        Wg.prototype._t = function (t) {
                            var _this = this;
                            t[Bg("0x2b")] = "Reply...", t.on(Bg("0x2c"), function (e, n) { _this.it[Bg("0x24")].execute({ threadId: _this.id, content: n }), t[Bg("0x2d")][Bg("0x2e")](""); }, { priority: "high" }), t.on(Bg("0x2c"), function () { _this.dt(); }, { priority: Bg("0x2f") }), t.on(Bg("0x30"), function () { _this.dt(); }, { priority: Bg("0x2f") }), t.on(Bg("0x31"), function () { return _this.lt(); }), t.bind(Bg("0x32")).to(this.it[Bg("0x24")], Bg("0x33"), function (t) { return !t; }), this[Bg("0x28")]("visibleInput").to(this, "active", this.it.addComment, Bg("0x33"), t, Bg("0x34"), function (t, e, n) { var i = !!n; return i || !i && t && e; }), this[Bg("0x28")](Bg("0xd")).to(t[Bg("0x19")], Bg("0x1a"), t, "value", function (t, e) { return t || !!e; });
                        };
                        Wg.prototype.ft = function () { this.isCollapsed && !this.gt ? this.expand() : !this.isCollapsed && this.gt && this.collapse(); };
                        Wg.prototype.vt = function (t) { this[Bg("0x5")][Bg("0x6")](t), this[Bg("0xa")] ? (t[Bg("0xf")](), this[Bg("0x5")][Bg("0x35")](Bg("0x23")) || this.wt(), this[Bg("0x5")][Bg("0x15")](this[Bg("0x5")].length - 2)) : this.gt && this.collapse(); };
                        Wg.prototype.bt = function (t) { var e = !1; if (this[Bg("0x5")][Bg("0x22")](t.id) && (this[Bg("0x5")][Bg("0x15")](t), e = !0), !this[Bg("0xa")])
                            return; if (!this.gt)
                            return void this[Bg("0x21")](); var n = this[Bg("0x5")].getIndex(Bg("0x23")), i = n > -1; i && this[Bg("0x7")] <= Ug && this.Ct(), e && i && (0 === n ? this[Bg("0x5")][Bg("0x6")](this.commentControllers.first, 0) : this[Bg("0x5")].add(this[Bg("0x2")][Bg("0x20")])); };
                        Wg.prototype.wt = function () { this.visibleCommentControllers[Bg("0x6")]({ kt: Bg("0x23"), id: Bg("0x23") }, 1); };
                        Wg.prototype.Ct = function () { this[Bg("0x5")][Bg("0x15")](Bg("0x23")); };
                        Wg.prototype.dt = function () { document.getSelection()[Bg("0x36")](), this[Bg("0xe")][Bg("0x37")][Bg("0x38")](); };
                        Wg.prototype.pt = function () {
                            var e_627, _j;
                            this.view.cancelConfirm();
                            try {
                                for (var _q = __values(this[Bg("0x2")]), _z = _q.next(); !_z.done; _z = _q.next()) {
                                    var t_326 = _z.value;
                                    t_326.view[Bg("0x39")]();
                                }
                            }
                            catch (e_627_1) { e_627 = { error: e_627_1 }; }
                            finally {
                                try {
                                    if (_z && !_z.done && (_j = _q.return)) _j.call(_q);
                                }
                                finally { if (e_627) throw e_627.error; }
                            }
                        };
                        Wg.prototype.lt = function () { this[Bg("0x8")] = !!this[Bg("0xe")][Bg("0x2a")][Bg("0x34")] || !!this[Bg("0x2")][Bg("0x3a")](function (t) { return t[Bg("0x8")]; }); };
                        return Wg;
                    }());
                    ci(Wg, Bi);
                    var qg = n(43), Yg = n.n(qg), $g = n(17), Gg = n.n($g), Kg = ["dateTimeFormat", "function", "invalid-date-time-format: Date format must be a function.", "[Today] hh:mmA", "[Last] dddd hh:mmA", "MM-DD-YYYY hh:mmA", "config", "get", "locale"];
                    !function (t, e) { !function (e) { for (; --e;)
                        t.push(t.shift()); }(++e); }(Kg, 384);
                    var Qg = function (t, e) { return Kg[t -= 0]; };
                    function Jg(t) { var e = t[Qg("0x0")][Qg("0x1")](Qg("0x2")) || {}; if (void 0 !== e[Qg("0x3")] && Qg("0x4") != typeof e[Qg("0x3")])
                        throw new Gn.b(Qg("0x5"), t); return function (t) { var n = new Date, i = Gg()(n, t); return e[Qg("0x3")] ? e[Qg("0x3")](t) : Yg()(t, 0 === i ? Qg("0x6") : 1 === i ? "[Yesterday] hh:mmA" : Qg(i < 7 ? "0x7" : "0x8")); }; }
                    n(125), n(127), n(129), n(131);
                    var Zg = ["comment", "addCommentThread", "tooltip", "Comment", "icon", "bind", "execute", "editor", "removeCommentThread", "addComment", "removeComment", "config", "locale", "commentInputView", "length", "once", "change:length", "editorReady", "placeholder", "Reply...", "Write a comment...", "submit", "editing", "cancel", "stop", "change:active", "value", "change:isEdit", "annotationType", "isEdit", "registerChild", "commands", "unbind", "isVisible", "isEnabled", "from", "commentControllers", "every", "isEnabledForComment", "nextAction", "removeButton", "Delete comment thread?", "containerElement", "high", "init", "plugins", "get", "threadLoaded", "model", "comment:", "_modelToController", "set", "view", "add", "element", "focus", "activeView", "listenTo", "threadUnloaded", "delete", "pendingComments", "remove", "has", "active", "activeMarker"];
                    !function (t, e) { !function (e) { for (; --e;)
                        t.push(t.shift()); }(++e); }(Zg, 499);
                    var Xg = function (t, e) { return Zg[t -= 0]; };
                    var tf = /** @class */ (function (_super) {
                        __extends(tf, _super);
                        function tf(t) {
                            var _this = this;
                            _this = _super.call(this, t) || this, _this._modelToController = new Map, _this.ee = new Map;
                            return _this;
                        }
                        Object.defineProperty(tf, "requires", {
                            get: function () { return [zu, Zd]; },
                            enumerable: true,
                            configurable: true
                        });
                        tf.prototype[Xg("0x0")] = function () {
                            var _this = this;
                            var t = this.editor, e = t[Xg("0x1")].get(Zd), n = this.editor[Xg("0x1")][Xg("0x2")](zu);
                            this.listenTo(e, Xg("0x3"), function (e, i) { var o = _this.te(i), r = t[Xg("0x4")].markers[Xg("0x2")](Xg("0x5") + i.id), s = _this.oe(o); _this[Xg("0x6")].set(i, o), _this.ee[Xg("0x7")](o[Xg("0x8")], o), n[Xg("0x9")](o[Xg("0x8")], s, r), o.length || (o[Xg("0x8")][Xg("0xa")][Xg("0xb")](), n[Xg("0xc")] = o.view); }), this[Xg("0xd")](e, Xg("0xe"), function (t, i) { var o = _this[Xg("0x6")][Xg("0x2")](i); o && (n.remove(o[Xg("0x8")]), o.destroy(), _this._modelToController[Xg("0xf")](i), _this.ee[Xg("0xf")](o.view), e[Xg("0x10")][Xg("0x11")](o.id)); }), this[Xg("0xd")](n, "change:activeView", function (t, n, i, o) { if (o && _this.ee.has(o) && (_this.ee[Xg("0x2")](o).active = !1), i && _this.ee[Xg("0x12")](i)) {
                                var t_327 = _this.ee.get(i);
                                t_327[Xg("0x13")] = !0, e[Xg("0x14")] = Xg("0x5") + t_327.id;
                            }
                            else
                                e[Xg("0x14")] = null; }), t.ui.componentFactory[Xg("0x9")](Xg("0x15"), function (e) { var n = new sd(e), i = t.commands.get(Xg("0x16")); return n.label = "Inline comment", n[Xg("0x17")] = Xg("0x18"), n[Xg("0x19")] = cu.a, n[Xg("0x1a")]("isEnabled").to(i), _this[Xg("0xd")](n, Xg("0x1b"), function () { return i[Xg("0x1b")](); }), n; });
                        };
                        tf.prototype.te = function (t) { var e = this[Xg("0x1c")], n = e[Xg("0x1")][Xg("0x2")](Zd), i = e.commands, o = { addCommentThread: i.get(Xg("0x16")), removeCommentThread: i[Xg("0x2")](Xg("0x1d")), addComment: i[Xg("0x2")](Xg("0x1e")), updateComment: i.get("updateComment"), removeComment: i.get(Xg("0x1f")) }, r = e[Xg("0x20")][Xg("0x2")]("comments.editorConfig"), s = { locale: e[Xg("0x21")], formatDateTime: Jg(e) }, a = new Wg(s, t, o, r), c = a[Xg("0x8")][Xg("0x22")]; return a[Xg("0x23")] ? ef(this[Xg("0x1c")], a) : (a[Xg("0x24")](Xg("0x25"), function () { return ef(e, a); }), c.once(Xg("0x26"), function () { return c.focus(); })), c[Xg("0x1a")](Xg("0x27")).to(a, Xg("0x23"), function (t) { return Xg(t ? "0x28" : "0x29"); }), c.on(Xg("0x2a"), function (t) { 1 === a[Xg("0x23")] && (e[Xg("0x2b")][Xg("0x8")][Xg("0xb")](), t.stop()); }), c.on(Xg("0x2c"), function (t) { a[Xg("0x23")] || (e.execute(Xg("0x1d"), { threadId: a.id }), e[Xg("0x2b")][Xg("0x8")][Xg("0xb")](), t[Xg("0x2d")]()); }), a.on(Xg("0x2e"), function (t, n, i) { i || a[Xg("0x23")] || c[Xg("0x2f")] || e[Xg("0x1b")]("removeCommentThread", { threadId: a.id }); }), a.on(Xg("0x30"), function (t, e, i) { i ? n[Xg("0x10")][Xg("0x7")](a.id) : n[Xg("0x10")].remove(a.id); }), a; };
                        tf.prototype.oe = function (t) { var e = new Wu; return e[Xg("0x31")] = Xg("0x15"), e[Xg("0x1a")]("number").to(t, Xg("0x23")), e.bind(Xg("0x32")).to(t, Xg("0x32"), t, Xg("0x23"), function (t, e) { return !e || t; }), t[Xg("0x8")][Xg("0x33")](e), e; };
                        return tf;
                    }(Ad));
                    function ef(t, e) { var n = e.commentControllers[Xg("0x2")](0), i = t[Xg("0x34")][Xg("0x2")](Xg("0x1d")), o = t[Xg("0x34")][Xg("0x2")](Xg("0x1f")); n[Xg("0x27")] = Xg("0x29"), n[Xg("0x8")].removeButton[Xg("0x35")](), n.view.removeButton[Xg("0x1a")](Xg("0x36")).to(i, Xg("0x37"), e, "length", function (t) { return t && Array[Xg("0x38")](e[Xg("0x39")])[Xg("0x3a")](function (t) { return o[Xg("0x3b")](t[Xg("0x15")]); }); }), e.view[Xg("0x1a")](Xg("0x3c")).to(n.view, Xg("0x3c"), function (t) { return "remove" === t ? Xg("0x11") : null; }), n[Xg("0x8")][Xg("0x3d")].on(Xg("0x1b"), function (n) { n.stop(), e[Xg("0x8")].showConfirm(Xg("0x3e"), e.view[Xg("0x3f")]).then(function () { t.execute("removeCommentThread", { threadId: e.id }), t[Xg("0x2b")].view[Xg("0xb")](); }); }, { priority: Xg("0x40") }); }
                    n(133);
                    var nf = ["set", "minHeight", "class", "list", "createCollection", "setTemplate", "div", "ck-sidebar", "ck-reset", "bindTemplate"];
                    !function (t, e) { !function (e) { for (; --e;)
                        t.push(t.shift()); }(++e); }(nf, 439);
                    var of = function (t, e) { return nf[t -= 0]; };
                    var rf = Wl("px");
                    var sf = /** @class */ (function (_super) {
                        __extends(sf, _super);
                        function sf(t) {
                            var _this = _super.call(this, t) || this;
                            var e = _this[of("0x0")];
                            _this[of("0x1")](of("0x2"), 0), _this[of("0x1")](of("0x3"), ""), _this[of("0x4")] = _this[of("0x5")](), _this[of("0x6")]({ tag: of("0x7"), attributes: { class: ["ck", of("0x8"), of("0x9"), e.to(of("0x3"))], style: { minHeight: e.to(of("0x2"), function (t) { return t ? rf(t + 10) : null; }) }, tabindex: -1 }, children: _this[of("0x4")] });
                            return _this;
                        }
                        return sf;
                    }(zl));
                    var af = ["top", "height", "bind", "bottom", "targetTop", "isAnimationDisabled", "updateHeight", "content", "createCollection", "bindTemplate", "setTemplate", "div", "ck-sidebar-item--no-animation", "render", "element", "clientHeight", "resetTop", "destroy", "set"];
                    !function (t, e) { !function (e) { for (; --e;)
                        t.push(t.shift()); }(++e); }(af, 322);
                    var cf = function (t, e) { return af[t -= 0]; };
                    var lf = Wl("px");
                    var df = /** @class */ (function (_super) {
                        __extends(df, _super);
                        function df(t) {
                            var _this = this;
                            _this = _super.call(this, t) || this, _this[cf("0x0")](cf("0x1")), _this[cf("0x0")](cf("0x2"), 0), _this[cf("0x3")](cf("0x4")).to(_this, cf("0x1"), _this, cf("0x2"), function (t, e) { return (t || 0) + e; }), _this.set(cf("0x5"), 0), _this.on("change:targetTop", function () { return _this.resetTop(); }), _this[cf("0x0")](cf("0x6"), !1), _this.K = mu(function () { return _this[cf("0x7")](); }), _this[cf("0x8")] = _this[cf("0x9")]();
                            var e = _this[cf("0xa")];
                            _this[cf("0xb")]({ tag: cf("0xc"), attributes: { class: ["ck-sidebar-item", e.to("isAnimationDisabled", function (t) { return t ? cf("0xd") : ""; })], style: { top: e.to("top", lf) } }, children: _this[cf("0x8")] });
                            return _this;
                        }
                        df.prototype.render = function () { _super.prototype[cf("0xe")].call(this), this.K.attach(this[cf("0xf")]); };
                        df.prototype[cf("0x7")] = function () { var t = this.element[cf("0x10")]; t && (this[cf("0x2")] = t); };
                        df.prototype[cf("0x11")] = function () { this.top = this[cf("0x5")]; };
                        df.prototype[cf("0x12")] = function () { this.content.clear(), this.K.detach(), _super.prototype.destroy.call(this); };
                        return df;
                    }(zl));
                    var uf = ["_annotationViewToSidebarItemView", "content", "bind", "targetRect", "top", "change:top", "length", "activeView", "change:bottom", "resetTop", "destroy", "delete", "registerChild", "change:_lastItem", "minHeight", "bottom", "getIndex", "updateHeight", "parentNode", "push", "requires", "pluginName", "Sidebar", "set", "_lastItem", "view", "container", "plugins", "get", "Annotations", "editor", "config", "sidebar.container", "setContainer", "sidebar-setcontainer-invalid-element: Container element is not a HTMLElement.", "addViewToContainer", "appendChild", "element", "class", "change:activeView", "getAnnotationView", "getSidebarItemView", "listenTo", "remove", "update", "removeViewFromContainer", "stopListening", "items", "list", "clear", "createSidebarItemView", "mainView", "sidebar-invalid-layout: Missing positioned container for the editor with a sidebar.", "locale"];
                    !function (t, e) { !function (e) { for (; --e;)
                        t.push(t.shift()); }(++e); }(uf, 290);
                    var hf = function (t, e) { return uf[t -= 0]; };
                    var mf = /** @class */ (function (_super) {
                        __extends(mf, _super);
                        function mf(t) {
                            var _this = this;
                            _this = _super.call(this, t) || this, _this[hf("0x3")](hf("0x4")), _this[hf("0x5")] = _this.M(), _this[hf("0x3")](hf("0x6"), null), _this.H = 25, _this.T = new Map, _this._annotationViewToSidebarItemView = new Map;
                            return _this;
                        }
                        Object.defineProperty(mf, hf("0x0"), {
                            get: function () { return [zu]; },
                            enumerable: true,
                            configurable: true
                        });
                        Object.defineProperty(mf, hf("0x1"), {
                            get: function () { return hf("0x2"); },
                            enumerable: true,
                            configurable: true
                        });
                        mf.prototype.init = function () { this.A = this.editor[hf("0x7")][hf("0x8")](hf("0x9")); var t = this[hf("0xa")][hf("0xb")].get(hf("0xc")); t && this.setContainer(t); };
                        mf.prototype[hf("0xd")] = function (t) { if (!qn(t))
                            throw new Gn.b(hf("0xe"), this); this.container = t; };
                        mf.prototype[hf("0xf")] = function (_j) {
                            var _this = this;
                            var _q = _j === void 0 ? {} : _j, _z = _q.viewClass, t = _z === void 0 ? "" : _z, _0 = _q.spaceBetweenItems, e = _0 === void 0 ? 25 : _0;
                            var n = this[hf("0xa")], i = n[hf("0x7")].get(zu);
                            if (!qn(this[hf("0x6")]))
                                throw new Gn.b("sidebar-addviewtocontainer-missing-container: Missing container element.", this);
                            this.container[hf("0x10")](this[hf("0x5")][hf("0x11")]), this[hf("0x5")][hf("0x12")] = t, this.H = e, this.listenTo(i, hf("0x13"), function (t, e, n) { if (n) {
                                var t_328 = i[hf("0x14")](n), e_628 = _this[hf("0x15")](t_328);
                                e_628 && e_628.resetTop();
                            } }), this[hf("0x16")](i.items, hf("0x17"), function (t, e, n) { _this.R(e, n); }), n.ui[hf("0x18")]();
                        };
                        mf.prototype[hf("0x19")] = function () {
                            var e_629, _j;
                            var t = this.A;
                            this[hf("0x1a")](t.items), this[hf("0x1a")](t, hf("0x13")), this.view[hf("0x11")][hf("0x17")]();
                            try {
                                for (var _q = __values(t[hf("0x1b")]), _z = _q.next(); !_z.done; _z = _q.next()) {
                                    var e_630 = _z.value;
                                    this.R(e_630);
                                }
                            }
                            catch (e_629_1) { e_629 = { error: e_629_1 }; }
                            finally {
                                try {
                                    if (_z && !_z.done && (_j = _q.return)) _j.call(_q);
                                }
                                finally { if (e_629) throw e_629.error; }
                            }
                            this.view[hf("0x1c")][hf("0x1d")](), this[hf("0x5")][hf("0x12")] = "", this[hf("0x4")] = null, this.q = null;
                        };
                        mf.prototype[hf("0x1e")] = function (t, e) {
                            var _this = this;
                            e || (e = t);
                            var n = this.A, i = t[hf("0x1f")], o = n.getMarkers(i)[0], r = this[hf("0x6")], s = this.A.getMarkerDomElement(o), a = this.F(r, s);
                            if (!a)
                                throw new Gn.b(hf("0x20"), this);
                            var c = new df(this.editor[hf("0x21")]);
                            this.T[hf("0x3")](c, t), this[hf("0x22")][hf("0x3")](t, c), c[hf("0x23")].add(e), c[hf("0x24")]("targetTop").to(t, hf("0x25"), function (t) { var e = new Ts(a).top, n = new Ts(_this[hf("0x5")].element)[hf("0x26")] - e; return t.top - e - n; }), this[hf("0x16")](c, hf("0x27"), du(function () { if (!c[hf("0x23")][hf("0x28")])
                                return; var t = _this.W(c); if (!t)
                                return; var e = _this.T[hf("0x8")](t); n[hf("0x29")] === e[hf("0x1f")] ? _this.j(t, c) : _this.D(c, t); }, 10, { leading: !1 })), this[hf("0x16")](c, hf("0x2a"), du(function () { if (!c[hf("0x23")].length)
                                return; var t = _this.G(c); if (!t)
                                return; var e = _this.T[hf("0x8")](t); n[hf("0x29")] === e[hf("0x1f")] ? _this.D(t, c) : _this.j(c, t); }, 10, { leading: !1 }));
                            var l = this.W(c);
                            return l && this.j(l, c) || c[hf("0x2b")](), this.J(), c;
                        };
                        mf.prototype[hf("0x15")] = function (t) { return this[hf("0x22")][hf("0x8")](t); };
                        mf.prototype.R = function (t, e) { var n = this[hf("0x15")](t); if (this[hf("0x1a")](n), n[hf("0x2c")](), this[hf("0x22")][hf("0x2d")](t), this.T[hf("0x2d")](n), void 0 === e)
                            return; var i = this.A[hf("0x1b")][hf("0x8")](e - 1), o = this.A[hf("0x1b")][hf("0x8")](e); i && this[hf("0x15")](i)[hf("0x2b")](), o && this[hf("0x15")](o)[hf("0x2b")](), this.J(); };
                        mf.prototype.M = function () { var t = new sf(this[hf("0xa")][hf("0x21")]); return this[hf("0xa")].ui[hf("0x5")][hf("0x2e")](t), this.on(hf("0x2f"), function (e, n, i, o) { o && t.unbind(hf("0x30")), i ? t.bind(hf("0x30")).to(i, hf("0x31")) : t.minHeight = null; }), t; };
                        mf.prototype.J = function () { var t = this[hf("0x15")](this.A[hf("0x1b")].last); t !== this._lastItem && (this[hf("0x4")] = t); };
                        mf.prototype.W = function (t) { var e = this.A[hf("0x1b")], n = this.T[hf("0x8")](t), i = e[hf("0x8")](e[hf("0x32")](n) - 1); return this[hf("0x15")](i); };
                        mf.prototype.G = function (t) { var e = this.A[hf("0x1b")], n = this.T[hf("0x8")](t), i = e.get(e[hf("0x32")](n) + 1); return this[hf("0x15")](i); };
                        mf.prototype.D = function (t, e) { t.updateHeight(); var n = ff(e.bottom + this.H, t[hf("0x26")]); return !!n && (e[hf("0x26")] -= n, !0); };
                        mf.prototype.j = function (t, e) { t[hf("0x33")](); var n = ff(t[hf("0x31")] + this.H, e[hf("0x26")]); return !!n && (e[hf("0x26")] += n, !0); };
                        mf.prototype.F = function (t, e) { if (!this.q) {
                            var n_252 = gf(t), i_158 = gf(e);
                            this.q = function (t, e) { for (var n_253 = 0; n_253 < t[hf("0x28")]; n_253++)
                                for (var i_159 = 0; i_159 < e[hf("0x28")]; i_159++)
                                    if (t[n_253] === e[i_159])
                                        return t[n_253]; }(n_252, i_158);
                        } return this.q; };
                        return mf;
                    }(Ad));
                    function gf(t) { var e = []; var n = t; for (; null !== n;)
                        (n = Xl(n[hf("0x34")])) && e[hf("0x35")](n); return e; }
                    function ff(t, e) { return Math.max(t - e, 0); }
                    var pf = ["plugins", "get", "Sidebar", "register", "wideSidebar", "attach", "isAttached", "set:container", "listenTo", "change:container", "off", "addViewToContainer", "ck-sidebar--wide", "view", "list", "items", "createSidebarItemView", "detach", "destroy", "requires", "pluginName", "init", "editor"];
                    !function (t, e) { !function (e) { for (; --e;)
                        t.push(t.shift()); }(++e); }(pf, 272);
                    var xf = function (t, e) { return pf[t -= 0]; };
                    var bf = /** @class */ (function (_super) {
                        __extends(bf, _super);
                        function bf(t) {
                            var _this = this;
                            _this = _super.call(this, t) || this, _this.isAttached = !1;
                            return _this;
                        }
                        Object.defineProperty(bf, xf("0x0"), {
                            get: function () { return [mf, zu]; },
                            enumerable: true,
                            configurable: true
                        });
                        Object.defineProperty(bf, xf("0x1"), {
                            get: function () { return "WideSidebar"; },
                            enumerable: true,
                            configurable: true
                        });
                        bf.prototype[xf("0x2")] = function () { var t = this[xf("0x3")][xf("0x4")][xf("0x5")]("Annotations"), e = this[xf("0x3")][xf("0x4")][xf("0x5")](xf("0x6")); t[xf("0x7")](xf("0x8"), this), e.container && t.switchTo(xf("0x8")); };
                        bf.prototype[xf("0x9")] = function () {
                            var _this = this;
                            var t = this.editor[xf("0x4")][xf("0x5")](xf("0x6")), e = this[xf("0x3")][xf("0x4")][xf("0x5")]("Annotations");
                            if (this[xf("0xa")])
                                throw new Gn.b("widesidebar-attach-already-attached: Cannot attach wide sidebar twice.", this);
                            this.isAttached = !0, this.listenTo(t, xf("0xb"), function () { _this.detach(), _this[xf("0xc")](t, xf("0xd"), function (t) { t[xf("0xe")](), _this[xf("0x9")](); }); }), t[xf("0xf")]({ viewClass: xf("0x10") }), t[xf("0x11")][xf("0x12")].bindTo(e[xf("0x13")]).using(function (e) { return t[xf("0x14")](e); });
                        };
                        bf.prototype[xf("0x15")] = function () { if (!this[xf("0xa")])
                            throw new Gn.b("widesidebar-detach-not-attached: Cannot detach not attached sidebar.", this); var t = this[xf("0x3")][xf("0x4")][xf("0x5")](xf("0x6")); t.removeViewFromContainer(), this.stopListening(t), this.isAttached = !1; };
                        bf.prototype[xf("0x16")] = function () { this[xf("0xa")] && this.detach(); };
                        return bf;
                    }(Ad));
                    n(135);
                    var kf = ["Esc", "isAttached", "isVisible", "first", "narrowsidebar-attach-already-attached: Cannot attach narrow sidebar twice.", "set:container", "change:container", "off", "attach", "addViewToContainer", "ck-sidebar--narrow", "list", "bindTo", "items", "using", "narrowView", "listenTo", "execute", "clear", "content", "activeView", "mainView", "render", "change:activeView", "getAnnotationView", "isAnimationDisabled", "getSidebarItemView", "high", "editing", "document", "mousedown", "change:selectedViews", "includes", "delete", "update", "detach", "narrowsidebar-detach-not-attached: Cannot detach not attached sidebar.", "Sidebar", "removeViewFromContainer", "stopListening", "destroy", "element", "southArrowNorthEast", "northArrowSouth", "southArrowNorthWest", "northArrowSouthWest", "focus", "change:height", "requires", "NarrowSidebar", "view", "addObserver", "init", "editor", "plugins", "get", "Annotations", "register", "narrowSidebar", "balloonPanelView", "locale", "body", "add", "focusTracker", "keystrokes"];
                    !function (t, e) { !function (e) { for (; --e;)
                        t.push(t.shift()); }(++e); }(kf, 113);
                    var wf = function (t, e) { return kf[t -= 0]; };
                    var _f = /** @class */ (function (_super) {
                        __extends(_f, _super);
                        function _f(t) {
                            var _this = this;
                            _this = _super.call(this, t) || this, t.editing[wf("0x2")][wf("0x3")](Iu), _this.isAttached = !1, _this.k = new Set;
                            return _this;
                        }
                        Object.defineProperty(_f, wf("0x0"), {
                            get: function () { return [mf, zu]; },
                            enumerable: true,
                            configurable: true
                        });
                        Object.defineProperty(_f, "pluginName", {
                            get: function () { return wf("0x1"); },
                            enumerable: true,
                            configurable: true
                        });
                        _f.prototype[wf("0x4")] = function () {
                            var _this = this;
                            this[wf("0x5")][wf("0x6")][wf("0x7")](wf("0x8"))[wf("0x9")](wf("0xa"), this), this[wf("0xb")] = new ku(this.editor[wf("0xc")]), this[wf("0x5")].ui[wf("0x2")][wf("0xd")][wf("0xe")](this.balloonPanelView), this[wf("0x5")].ui[wf("0xf")][wf("0xe")](this[wf("0xb")].element), this[wf("0x5")][wf("0x10")].set(wf("0x11"), function (t, e) { _this[wf("0x12")] && _this[wf("0xb")][wf("0x13")] && (_this.k[wf("0xe")](_this[wf("0xb")].content[wf("0x14")]), _this.S(), e()); });
                        };
                        _f.prototype.attach = function () {
                            var _this = this;
                            var t = this[wf("0x5")][wf("0x6")].get("Sidebar"), e = this[wf("0x5")][wf("0x6")][wf("0x7")](wf("0x8")), n = this[wf("0xb")];
                            if (this[wf("0x12")])
                                throw new Gn.b(wf("0x15"), this);
                            this[wf("0x12")] = !0, this.listenTo(t, wf("0x16"), function () { _this.detach(), _this.listenTo(t, wf("0x17"), function (t) { t[wf("0x18")](), _this[wf("0x19")](); }); }), t[wf("0x1a")]({ viewClass: wf("0x1b"), spaceBetweenItems: 5 }), t[wf("0x2")][wf("0x1c")][wf("0x1d")](e[wf("0x1e")])[wf("0x1f")](function (i) { var o = t.createSidebarItemView(i, i[wf("0x20")]); return o[wf("0x21")](i[wf("0x20")], wf("0x22"), function () { _this.k[wf("0x23")](), n[wf("0x24")][wf("0x14")] !== i ? (_this.B(i), i.element.focus(), e[wf("0x25")] = i[wf("0x26")]) : _this.S(!0); }), o[wf("0x27")](), o; }), this.listenTo(e, wf("0x28"), function (n, i, o, r) { if (r) {
                                var n_254 = e[wf("0x29")](r);
                                t.getSidebarItemView(n_254)[wf("0x2a")] = !1;
                            } if (o) {
                                var n_255 = e[wf("0x29")](o);
                                t[wf("0x2b")](n_255)[wf("0x2a")] = !0;
                            } }, { priority: wf("0x2c") }), this[wf("0x21")](this.editor[wf("0x2d")][wf("0x2")][wf("0x2e")], wf("0x2f"), function () { return _this.k[wf("0x23")](); }), this[wf("0x21")](e, wf("0x28"), function (n, i, o) { var r = e[wf("0x29")](o), s = t.getSidebarItemView(r); o && s ? _this.B(r) : _this.S(); }), this[wf("0x21")](e, wf("0x30"), function (t, n, i, o) {
                                var e_631, _j;
                                try {
                                    for (var o_100 = __values(o), o_100_1 = o_100.next(); !o_100_1.done; o_100_1 = o_100.next()) {
                                        var t_329 = o_100_1.value;
                                        i[wf("0x31")](t_329) || _this.k[wf("0x32")](e[wf("0x29")](t_329));
                                    }
                                }
                                catch (e_631_1) { e_631 = { error: e_631_1 }; }
                                finally {
                                    try {
                                        if (o_100_1 && !o_100_1.done && (_j = o_100.return)) _j.call(o_100);
                                    }
                                    finally { if (e_631) throw e_631.error; }
                                }
                            }), this[wf("0x21")](this[wf("0x5")].ui, wf("0x33"), function () { n[wf("0x13")] && _this.C(); });
                        };
                        _f.prototype[wf("0x34")] = function () { if (!this.isAttached)
                            throw new Gn.b(wf("0x35"), this); var t = this[wf("0x5")][wf("0x6")][wf("0x7")](wf("0x36")), e = this[wf("0x5")][wf("0x6")][wf("0x7")](wf("0x8")); this.S(), t[wf("0x37")](), this[wf("0x38")](t), this[wf("0x38")](e), this[wf("0x38")](this[wf("0x5")].ui), this[wf("0x38")](this[wf("0x5")][wf("0x2d")][wf("0x2")][wf("0x2e")]), this[wf("0x12")] = !1; };
                        _f.prototype[wf("0x39")] = function () { this[wf("0x12")] && this[wf("0x34")](); };
                        _f.prototype.B = function (t) { if (this.k.has(t))
                            return; var e = this[wf("0xb")][wf("0x24")][wf("0x14")]; e !== t ? (e && this.L(e), this.N(t), this[wf("0xb")][wf("0x24")][wf("0x23")](), this[wf("0xb")][wf("0x24")][wf("0xe")](t), this.C()) : this.C(); };
                        _f.prototype.C = function () { var t = this[wf("0xb")][wf("0x24")].first[wf("0x20")][wf("0x3a")], e = function () { var t = ku.defaultPositions; return [t[wf("0x3b")], t.northArrowSouthEast, t.southArrowNorth, t[wf("0x3c")], t[wf("0x3d")], t[wf("0x3e")]]; }(); this[wf("0xb")].pin({ target: t, positions: e }); };
                        _f.prototype.S = function (t) { var e = this.balloonPanelView, n = e.content[wf("0x14")]; n && (this.L(n), e.unpin(), e.content[wf("0x23")](), t && this.editor[wf("0x2d")][wf("0x2")][wf("0x3f")]()); };
                        _f.prototype.N = function (t) {
                            var _this = this;
                            this.listenTo(t, wf("0x40"), function () { return _this.C(); }), this[wf("0x21")](t, wf("0x11"), function () { _this.k[wf("0xe")](t), _this.S(!0); });
                        };
                        _f.prototype.L = function (t) { this.stopListening(t); };
                        return _f;
                    }(Ad));
                    var vf = ["updateComment", "removeComment", "getCommentThreads", "requires", "Comments", "init", "editor", "licenseKey", "adapter", "plugins", "get", "addCommentThread", "addComment"];
                    !function (t, e) { !function (e) { for (; --e;)
                        t.push(t.shift()); }(++e); }(vf, 159);
                    var yf = function (t, e) { return vf[t -= 0]; };
                    var Cf = /** @class */ (function (_super) {
                        __extends(Cf, _super);
                        function Cf() {
                            return _super !== null && _super.apply(this, arguments) || this;
                        }
                        Object.defineProperty(Cf, yf("0x0"), {
                            get: function () { return [Zd, su, tf, bf, _f]; },
                            enumerable: true,
                            configurable: true
                        });
                        Object.defineProperty(Cf, "pluginName", {
                            get: function () { return yf("0x1"); },
                            enumerable: true,
                            configurable: true
                        });
                        Cf.prototype[yf("0x2")] = function () { this.licenseKey = this[yf("0x3")].config.get(yf("0x4")); };
                        Object.defineProperty(Cf.prototype, yf("0x5"), {
                            set: function (t) { this[yf("0x3")][yf("0x6")][yf("0x7")](Zd).adapter = t; },
                            enumerable: true,
                            configurable: true
                        });
                        Object.defineProperty(Cf.prototype, "adapter", {
                            get: function () { return this[yf("0x3")].plugins[yf("0x7")](Zd)[yf("0x5")]; },
                            enumerable: true,
                            configurable: true
                        });
                        Cf.prototype[yf("0x8")] = function () {
                            var _j;
                            var t = [];
                            for (var _q = 0; _q < arguments.length; _q++) {
                                t[_q] = arguments[_q];
                            }
                            (_j = this[yf("0x3")].plugins[yf("0x7")](Zd))[yf("0x8")].apply(_j, __spread(t));
                        };
                        Cf.prototype[yf("0x9")] = function () {
                            var _j;
                            var t = [];
                            for (var _q = 0; _q < arguments.length; _q++) {
                                t[_q] = arguments[_q];
                            }
                            (_j = this.editor.plugins[yf("0x7")](Zd))[yf("0x9")].apply(_j, __spread(t));
                        };
                        Cf.prototype.updateComment = function () {
                            var _j;
                            var t = [];
                            for (var _q = 0; _q < arguments.length; _q++) {
                                t[_q] = arguments[_q];
                            }
                            (_j = this[yf("0x3")].plugins.get(Zd))[yf("0xa")].apply(_j, __spread(t));
                        };
                        Cf.prototype[yf("0xb")] = function () {
                            var _j;
                            var t = [];
                            for (var _q = 0; _q < arguments.length; _q++) {
                                t[_q] = arguments[_q];
                            }
                            (_j = this[yf("0x3")][yf("0x6")].get(Zd))[yf("0xb")].apply(_j, __spread(t));
                        };
                        Cf.prototype[yf("0xc")] = function () { return this[yf("0x3")][yf("0x6")][yf("0x7")](Zd)[yf("0xc")](); };
                        return Cf;
                    }(Ad));
                    var Tf = ["clearForceDisabled", "value", "refresh", "isEnabled", "execute", "editor", "commands", "forceDisabled", "TrackChangesCommand", "has"];
                    !function (t, e) { !function (e) { for (; --e;)
                        t.push(t.shift()); }(++e); }(Tf, 431);
                    var Af = function (t, e) { return Tf[t -= 0]; };
                    var Sf = /** @class */ (function (_super) {
                        __extends(Sf, _super);
                        function Sf(t, e) {
                            var _this = this;
                            _this = _super.call(this, t) || this, _this.m = e, _this[Af("0x0")] = !1, _this[Af("0x1")]();
                            return _this;
                        }
                        Sf.prototype.refresh = function () { this[Af("0x2")] = !0; };
                        Sf.prototype[Af("0x3")] = function () { this[Af("0x0")] = !this.value, this[Af("0x0")] ? this.C() : this.p(); };
                        Sf.prototype.C = function () {
                            var e_632, _j;
                            try {
                                for (var _q = __values(this[Af("0x4")].commands[Af("0x5")]()), _z = _q.next(); !_z.done; _z = _q.next()) {
                                    var t_330 = _z.value;
                                    this.m.has(t_330) || t_330[Af("0x6")](Af("0x7"));
                                }
                            }
                            catch (e_632_1) { e_632 = { error: e_632_1 }; }
                            finally {
                                try {
                                    if (_z && !_z.done && (_j = _q.return)) _j.call(_q);
                                }
                                finally { if (e_632) throw e_632.error; }
                            }
                        };
                        Sf.prototype.p = function () {
                            var e_633, _j;
                            try {
                                for (var _q = __values(this[Af("0x4")][Af("0x5")].commands()), _z = _q.next(); !_z.done; _z = _q.next()) {
                                    var t_331 = _z.value;
                                    this.m[Af("0x8")](t_331) || t_331[Af("0x9")](Af("0x7"));
                                }
                            }
                            catch (e_633_1) { e_633 = { error: e_633_1 }; }
                            finally {
                                try {
                                    if (_z && !_z.done && (_j = _q.return)) _j.call(_q);
                                }
                                finally { if (e_633) throw e_633.error; }
                            }
                        };
                        return Sf;
                    }(Pd));
                    var Pf = ["model", "change", "getAllAdjacentSuggestions", "accept", "execute", "track-changes-accept-suggestion-not-found: Suggestion to accept does not exist."];
                    !function (t, e) { !function (e) { for (; --e;)
                        t.push(t.shift()); }(++e); }(Pf, 196);
                    var Mf = function (t, e) { return Pf[t -= 0]; };
                    var Ef = /** @class */ (function (_super) {
                        __extends(Ef, _super);
                        function Ef(t, e) {
                            var _this = this;
                            _this = _super.call(this, t) || this, _this.o = e, _this.refresh();
                            return _this;
                        }
                        Ef.prototype.refresh = function () { this.isEnabled = !0; };
                        Ef.prototype[Mf("0x0")] = function (t) { var e = this.o.get(t); if (!e)
                            throw new Gn.b(Mf("0x1"), this); this.editor[Mf("0x2")][Mf("0x3")](function () {
                            var e_634, _j;
                            try {
                                for (var _q = __values(e[Mf("0x4")]()), _z = _q.next(); !_z.done; _z = _q.next()) {
                                    var t_332 = _z.value;
                                    t_332[Mf("0x5")]();
                                }
                            }
                            catch (e_634_1) { e_634 = { error: e_634_1 }; }
                            finally {
                                try {
                                    if (_z && !_z.done && (_j = _q.return)) _j.call(_q);
                                }
                                finally { if (e_634) throw e_634.error; }
                            }
                        }); };
                        return Ef;
                    }(Pd));
                    var If = ["getAllAdjacentSuggestions", "discard", "isEnabled", "execute", "get", "model", "change"];
                    !function (t, e) { !function (e) { for (; --e;)
                        t.push(t.shift()); }(++e); }(If, 289);
                    var Nf = function (t, e) { return If[t -= 0]; };
                    var Rf = /** @class */ (function (_super) {
                        __extends(Rf, _super);
                        function Rf(t, e) {
                            var _this = this;
                            _this = _super.call(this, t) || this, _this.o = e, _this.refresh();
                            return _this;
                        }
                        Rf.prototype.refresh = function () { this[Nf("0x0")] = !0; };
                        Rf.prototype[Nf("0x1")] = function (t) { var e = this.o[Nf("0x2")](t); if (!e)
                            throw new Gn.b("track-changes-discard-suggestion-not-found: Suggestion to discard does not exist.", this); this.editor[Nf("0x3")][Nf("0x4")](function () {
                            var e_635, _j;
                            try {
                                for (var _q = __values(e[Nf("0x5")]()), _z = _q.next(); !_z.done; _z = _q.next()) {
                                    var t_333 = _z.value;
                                    t_333[Nf("0x6")]();
                                }
                            }
                            catch (e_635_1) { e_635 = { error: e_635_1 }; }
                            finally {
                                try {
                                    if (_z && !_z.done && (_j = _q.return)) _j.call(_q);
                                }
                                finally { if (e_635) throw e_635.error; }
                            }
                        }); };
                        return Rf;
                    }(Pd));
                    var Of = ["sort", "deletion", "type"];
                    !function (t, e) { !function (e) { for (; --e;)
                        t.push(t.shift()); }(++e); }(Of, 132);
                    var Df = function (t, e) { return Of[t -= 0]; };
                    function Lf(t) { return t[Df("0x0")](function (t, e) { return Df("0x1") == t[Df("0x2")] && Df("0x1") != e[Df("0x2")] ? -1 : "deletion" != t[Df("0x2")] && "deletion" == e[Df("0x2")] ? 1 : 0; }); }
                    var Vf = ["refresh", "isEnabled", "from", "values", "some", "isInContent", "execute", "editor", "model", "change"];
                    !function (t, e) { !function (e) { for (; --e;)
                        t.push(t.shift()); }(++e); }(Vf, 460);
                    var zf = function (t, e) { return Vf[t -= 0]; };
                    var jf = /** @class */ (function (_super) {
                        __extends(jf, _super);
                        function jf(t, e, n) {
                            var _this = this;
                            _this = _super.call(this, t) || this, _this.s = e, _this.o = n, _this[zf("0x0")]();
                            return _this;
                        }
                        jf.prototype.refresh = function () { var t = this.s; this.isEnabled = t[zf("0x1")] && Array[zf("0x2")](this.o[zf("0x3")]())[zf("0x4")](function (t) { return t[zf("0x5")]; }); };
                        jf.prototype[zf("0x6")] = function () {
                            var _this = this;
                            this[zf("0x7")][zf("0x8")][zf("0x9")](function () {
                                var e_636, _j;
                                var t = Lf(Array[zf("0x2")](_this.o[zf("0x3")]()));
                                try {
                                    for (var t_334 = __values(t), t_334_1 = t_334.next(); !t_334_1.done; t_334_1 = t_334.next()) {
                                        var e_637 = t_334_1.value;
                                        e_637.isInContent && _this.s[zf("0x6")](e_637.id);
                                    }
                                }
                                catch (e_636_1) { e_636 = { error: e_636_1 }; }
                                finally {
                                    try {
                                        if (t_334_1 && !t_334_1.done && (_j = t_334.return)) _j.call(t_334);
                                    }
                                    finally { if (e_636) throw e_636.error; }
                                }
                            });
                        };
                        return jf;
                    }(Pd));
                    var Ff = ["getMarkers", "getRange", "isIntersecting", "isCollapsed", "next", "isTouching", "start", "add", "from", "getRanges", "isInContent"];
                    !function (t, e) { !function (e) { for (; --e;)
                        t.push(t.shift()); }(++e); }(Ff, 481);
                    var Bf = function (t, e) { return Ff[t -= 0]; };
                    function Hf(t, e) {
                        var e_638, _j, e_639, _q, e_640, _z;
                        var n = Array[Bf("0x0")](t[Bf("0x1")]()), i = new Set;
                        try {
                            for (var e_641 = __values(e), e_641_1 = e_641.next(); !e_641_1.done; e_641_1 = e_641.next()) {
                                var o_101 = e_641_1.value;
                                if (o_101[Bf("0x2")])
                                    try {
                                        for (var n_256 = __values(n), n_256_1 = n_256.next(); !n_256_1.done; n_256_1 = n_256.next()) {
                                            var e_642 = n_256_1.value;
                                            try {
                                                for (var _0 = __values(o_101[Bf("0x3")]()), _1 = _0.next(); !_1.done; _1 = _0.next()) {
                                                    var n_257 = _1.value;
                                                    var r_48 = n_257[Bf("0x4")]();
                                                    (e_642[Bf("0x5")](r_48) || t[Bf("0x6")] && o_101[Bf("0x7")] && r_48.end[Bf("0x8")](e_642[Bf("0x9")])) && i[Bf("0xa")](o_101);
                                                }
                                            }
                                            catch (e_640_1) { e_640 = { error: e_640_1 }; }
                                            finally {
                                                try {
                                                    if (_1 && !_1.done && (_z = _0.return)) _z.call(_0);
                                                }
                                                finally { if (e_640) throw e_640.error; }
                                            }
                                        }
                                    }
                                    catch (e_639_1) { e_639 = { error: e_639_1 }; }
                                    finally {
                                        try {
                                            if (n_256_1 && !n_256_1.done && (_q = n_256.return)) _q.call(n_256);
                                        }
                                        finally { if (e_639) throw e_639.error; }
                                    }
                            }
                        }
                        catch (e_638_1) { e_638 = { error: e_638_1 }; }
                        finally {
                            try {
                                if (e_641_1 && !e_641_1.done && (_j = e_641.return)) _j.call(e_641);
                            }
                            finally { if (e_638) throw e_638.error; }
                        }
                        return i;
                    }
                    var Uf = ["isEnabled", "editor", "execute", "refresh", "model", "selection", "from"];
                    !function (t, e) { !function (e) { for (; --e;)
                        t.push(t.shift()); }(++e); }(Uf, 241);
                    var Wf = function (t, e) { return Uf[t -= 0]; };
                    var qf = /** @class */ (function (_super) {
                        __extends(qf, _super);
                        function qf(t, e, n) {
                            var _this = this;
                            _this = _super.call(this, t) || this, _this.s = e, _this.o = n, _this.i = new Set, _this[Wf("0x0")]();
                            return _this;
                        }
                        qf.prototype[Wf("0x0")] = function () { var t = this.s, e = this.editor[Wf("0x1")].document[Wf("0x2")], n = Array[Wf("0x3")](this.o.values()); this.i = Hf(e, n), this[Wf("0x4")] = t.isEnabled && !!this.i.size; };
                        qf.prototype.execute = function () {
                            var _this = this;
                            this[Wf("0x5")][Wf("0x1")].change(function () {
                                var e_643, _j;
                                var t = Lf(Array[Wf("0x3")](_this.i));
                                try {
                                    for (var t_335 = __values(t), t_335_1 = t_335.next(); !t_335_1.done; t_335_1 = t_335.next()) {
                                        var e_644 = t_335_1.value;
                                        _this.s[Wf("0x6")](e_644.id);
                                    }
                                }
                                catch (e_643_1) { e_643 = { error: e_643_1 }; }
                                finally {
                                    try {
                                        if (t_335_1 && !t_335_1.done && (_j = t_335.return)) _j.call(t_335);
                                    }
                                    finally { if (e_643) throw e_643.error; }
                                }
                            });
                        };
                        return qf;
                    }(Pd));
                    var Yf = ["from", "values", "isInContent", "editor", "change", "execute", "refresh", "isEnabled"];
                    !function (t, e) { !function (e) { for (; --e;)
                        t.push(t.shift()); }(++e); }(Yf, 294);
                    var $f = function (t, e) { return Yf[t -= 0]; };
                    var Gf = /** @class */ (function (_super) {
                        __extends(Gf, _super);
                        function Gf(t, e, n) {
                            var _this = this;
                            _this = _super.call(this, t) || this, _this.h = e, _this.o = n, _this.refresh();
                            return _this;
                        }
                        Gf.prototype[$f("0x0")] = function () { var t = this.h; this[$f("0x1")] = t.isEnabled && Array[$f("0x2")](this.o[$f("0x3")]()).some(function (t) { return t[$f("0x4")]; }); };
                        Gf.prototype.execute = function () {
                            var _this = this;
                            this[$f("0x5")].model[$f("0x6")](function () {
                                var e_645, _j;
                                try {
                                    for (var _q = __values(_this.o[$f("0x3")]()), _z = _q.next(); !_z.done; _z = _q.next()) {
                                        var t_336 = _z.value;
                                        t_336[$f("0x4")] && _this.h[$f("0x7")](t_336.id);
                                    }
                                }
                                catch (e_645_1) { e_645 = { error: e_645_1 }; }
                                finally {
                                    try {
                                        if (_z && !_z.done && (_j = _q.return)) _j.call(_q);
                                    }
                                    finally { if (e_645) throw e_645.error; }
                                }
                            });
                        };
                        return Gf;
                    }(Pd));
                    var Kf = ["execute", "refresh", "editor", "model", "selection", "from", "values", "isEnabled", "size", "change"];
                    !function (t, e) { !function (e) { for (; --e;)
                        t.push(t.shift()); }(++e); }(Kf, 441);
                    var Qf = function (t, e) { return Kf[t -= 0]; };
                    var Jf = /** @class */ (function (_super) {
                        __extends(Jf, _super);
                        function Jf(t, e, n) {
                            var _this = this;
                            _this = _super.call(this, t) || this, _this.h = e, _this.o = n, _this.i = new Set, _this[Qf("0x0")]();
                            return _this;
                        }
                        Jf.prototype[Qf("0x0")] = function () { var t = this.h, e = this[Qf("0x1")][Qf("0x2")].document[Qf("0x3")], n = Array[Qf("0x4")](this.o[Qf("0x5")]()); this.i = Hf(e, n), this[Qf("0x6")] = t[Qf("0x6")] && !!this.i[Qf("0x7")]; };
                        Jf.prototype.execute = function () {
                            var _this = this;
                            this[Qf("0x1")].model[Qf("0x8")](function () {
                                var e_646, _j;
                                try {
                                    for (var _q = __values(_this.i), _z = _q.next(); !_z.done; _z = _q.next()) {
                                        var t_337 = _z.value;
                                        _this.h[Qf("0x9")](t_337.id);
                                    }
                                }
                                catch (e_646_1) { e_646 = { error: e_646_1 }; }
                                finally {
                                    try {
                                        if (_z && !_z.done && (_j = _q.return)) _j.call(_q);
                                    }
                                    finally { if (e_646) throw e_646.error; }
                                }
                            });
                        };
                        return Jf;
                    }(Pd));
                    var Zf = ["type", "change", "isIntersectingWithRange", "getRanges", "map", "getRange", "_onDiscard", "getAllAdjacentSuggestions", "push", "getMultiRangeId", "substr", "subType", "author", "data", "onDiscard", "set", "createdAt", "next", "commentThread", "decorate", "accept", "discard", "head", "hasComments", "length", "isMultiRange", "size", "from", "isInContent", "getFirstMarker", "addMarkerName", "add", "getMarkers", "getMarkerNames", "removeMarkers", "removeMarker", "suggestion:"];
                    !function (t, e) { !function (e) { for (; --e;)
                        t.push(t.shift()); }(++e); }(Zf, 307);
                    var Xf = function (t, e) { return Zf[t -= 0]; };
                    var tp = /** @class */ (function () {
                        function tp(t, e) {
                            this.id = e.id, this.type = e.type, this[Xf("0x0")] = e[Xf("0x0")] || null, this[Xf("0x1")] = e[Xf("0x1")], this[Xf("0x2")] = null, this.k = t, this.M = e.onAccept, this._onDiscard = e[Xf("0x3")], this.A = new Set, this[Xf("0x4")](Xf("0x5"), null), this.set("previous", null), this[Xf("0x4")](Xf("0x6"), null), this[Xf("0x4")](Xf("0x7"), null), this[Xf("0x8")](Xf("0x9")), this[Xf("0x8")](Xf("0xa"));
                        }
                        Object.defineProperty(tp.prototype, Xf("0xb"), {
                            get: function () { var t = this; for (; t.previous;)
                                t = t.previous; return t; },
                            enumerable: true,
                            configurable: true
                        });
                        Object.defineProperty(tp.prototype, Xf("0xc"), {
                            get: function () { return !!this[Xf("0x7")] && this[Xf("0x7")][Xf("0xd")] > 0; },
                            enumerable: true,
                            configurable: true
                        });
                        Object.defineProperty(tp.prototype, Xf("0xe"), {
                            get: function () { return 0 != this.A[Xf("0xf")] && 6 == Array[Xf("0x10")](this.A)[0].split(":")[Xf("0xd")]; },
                            enumerable: true,
                            configurable: true
                        });
                        Object.defineProperty(tp.prototype, Xf("0x11"), {
                            get: function () { return null !== this[Xf("0x12")](); },
                            enumerable: true,
                            configurable: true
                        });
                        tp.prototype[Xf("0x13")] = function (t) { this.A[Xf("0x14")](t); };
                        tp.prototype.getMarkerNames = function () { return Array[Xf("0x10")](this.A); };
                        tp.prototype[Xf("0x15")] = function () {
                            var _this = this;
                            return this[Xf("0x16")]().map(function (t) { return _this.k.markers.get(t); }).filter(function (t) { return t; });
                        };
                        tp.prototype.getFirstMarker = function () { return this.getMarkers()[0] || null; };
                        tp.prototype[Xf("0x17")] = function () {
                            var _this = this;
                            this.k.change(function (t) {
                                var e_647, _j;
                                try {
                                    for (var _q = __values(_this.getMarkers()), _z = _q.next(); !_z.done; _z = _q.next()) {
                                        var e_648 = _z.value;
                                        t[Xf("0x18")](e_648);
                                    }
                                }
                                catch (e_647_1) { e_647 = { error: e_647_1 }; }
                                finally {
                                    try {
                                        if (_z && !_z.done && (_j = _q.return)) _j.call(_q);
                                    }
                                    finally { if (e_647) throw e_647.error; }
                                }
                            }), this.A.clear();
                        };
                        tp.prototype.addRange = function (t) { var e = Xf("0x19") + this[Xf("0x1a")] + ":" + this[Xf("0x0")] + ":" + this.id + ":" + this.author.id + ":" + tp.getMultiRangeId(); this[Xf("0x13")](e), this.k[Xf("0x1b")](function (n) { n.addMarker(e, { range: t, usingOperation: !0, affectsData: !0 }); }); };
                        tp.prototype[Xf("0x1c")] = function (t) {
                            var e_649, _j;
                            try {
                                for (var _q = __values(this[Xf("0x1d")]()), _z = _q.next(); !_z.done; _z = _q.next()) {
                                    var e_650 = _z.value;
                                    if (e_650.isIntersecting(t))
                                        return !0;
                                }
                            }
                            catch (e_649_1) { e_649 = { error: e_649_1 }; }
                            finally {
                                try {
                                    if (_z && !_z.done && (_j = _q.return)) _j.call(_q);
                                }
                                finally { if (e_649) throw e_649.error; }
                            }
                            return !1;
                        };
                        tp.prototype[Xf("0x1d")] = function () { return this[Xf("0x15")]()[Xf("0x1e")](function (t) { return t[Xf("0x1f")](); }); };
                        tp.prototype.getFirstRange = function () { return this[Xf("0x12")]().getRange(); };
                        tp.prototype.accept = function () { this.M(this.getRanges(), this[Xf("0x2")]), this[Xf("0x17")](); };
                        tp.prototype[Xf("0xa")] = function () { this[Xf("0x20")](this[Xf("0x1d")](), this[Xf("0x2")]), this.removeMarkers(); };
                        tp.prototype[Xf("0x21")] = function () { var t = []; var e = this[Xf("0xb")]; for (; e;)
                            t[Xf("0x22")](e), e = e[Xf("0x6")]; return t; };
                        tp[Xf("0x23")] = function () { return Jn()[Xf("0x24")](1, 5); };
                        return tp;
                    }());
                    ci(tp, Bi);
                    var ep = ["type", "add", "remove", "registerDescriptionCallback", "registerElementLabel", "set", "getItemLabel", "get", "item", "textProxy", "indexOf", "Container", "pop", "text", "data", "isObject", "elementEnd", "Object", "name", "quantity", "skip", "checkChild", "$text", "elementStart", "nextSibling", "previousSibling", "isEmpty", "EmptyContainer", "replace", "$1 $2", "Replace", "with", " spaces", "Add", "match", "Remove", "removeEmptyContainer", "addObject", "removeObject", "addEmptyContainer", "addContainer", "removeContainer", "Split", "Merge", "getDescriptions", "push", "getFirstRange", "isEqual", "start", "length", "insertion"];
                    !function (t, e) { !function (e) { for (; --e;)
                        t.push(t.shift()); }(++e); }(ep, 299);
                    var np = function (t, e) { return ep[t -= 0]; };
                    var ip = /** @class */ (function () {
                        function ip(t) {
                            this.v = [], this.$ = new Map, this.S = t;
                        }
                        ip.prototype[np("0x0")] = function (t) {
                            var e_651, _j;
                            var e = [];
                            for (var n_258 = 0; n_258 < t.length; n_258++) {
                                var i_160 = t[n_258];
                                var o_102 = !1;
                                try {
                                    for (var _q = __values(this.v), _z = _q.next(); !_z.done; _z = _q.next()) {
                                        var t_338 = _z.value;
                                        var n_259 = t_338(i_160);
                                        if (n_259) {
                                            e[np("0x1")](n_259), o_102 = !0;
                                            break;
                                        }
                                    }
                                }
                                catch (e_651_1) { e_651 = { error: e_651_1 }; }
                                finally {
                                    try {
                                        if (_z && !_z.done && (_j = _q.return)) _j.call(_q);
                                    }
                                    finally { if (e_651) throw e_651.error; }
                                }
                                if (!o_102) {
                                    this.j(e, i_160);
                                    var o_103 = t[n_258 + 1];
                                    if (o_103 && !i_160[np("0x2")]().end[np("0x3")](o_103[np("0x2")]()[np("0x4")])) {
                                        var t_339 = e[e[np("0x5")] - 1], n_260 = np("0x6") == i_160[np("0x7")] ? np("0x8") : np("0x9");
                                        t_339 && "text" == t_339[np("0x7")] && (t_339[n_260] += "\n");
                                    }
                                }
                            }
                            return this.O(e);
                        };
                        ip.prototype[np("0xa")] = function (t) { this.v[np("0x1")](t); };
                        ip.prototype[np("0xb")] = function (t, e) { this.$[np("0xc")](t, e); };
                        ip.prototype[np("0xd")] = function (t) { return this.$[np("0xe")](t) || t; };
                        ip.prototype.j = function (t, e) {
                            var e_652, _j;
                            var n = e[np("0x2")]().getWalker(), i = np("0x6") == e.type ? np("0x8") : np("0x9");
                            var _loop_7 = function (e_653) {
                                var o_104 = e_653[np("0xf")], r_49 = t[t.length - 1];
                                if (o_104.is(np("0x10")))
                                    r_49 && r_49[np("0x7")][np("0x11")](np("0x12")) > -1 && t[np("0x13")](), r_49 && np("0x14") == r_49[np("0x7")] ? r_49[i] += o_104[np("0x15")] : t[np("0x1")]({ type: np("0x14"), add: "add" == i ? o_104[np("0x15")] : "", remove: np("0x9") == i ? o_104[np("0x15")] : "" });
                                else if (this_2.S[np("0x16")](o_104)) {
                                    if (r_49 && r_49[np("0x7")][np("0x11")](np("0x12")) > -1 && t[np("0x13")](), np("0x17") == e_653[np("0x7")])
                                        return "continue";
                                    r_49 && r_49.type == i + np("0x18") && r_49[np("0x19")] == o_104[np("0x19")] ? r_49[np("0x1a")]++ : t[np("0x1")]({ type: i + np("0x18"), name: o_104.name, quantity: 1 }), n[np("0x1b")](function (t) { return !("elementEnd" == t.type && t[np("0xf")] == o_104); });
                                }
                                else if (this_2.S[np("0x1c")](o_104, np("0x1d"))) {
                                    if (np("0x8") == i && np("0x1e") == e_653[np("0x7")] || np("0x9") == i && np("0x17") == e_653[np("0x7")])
                                        return "continue";
                                    if (r_49 && -1 == r_49[np("0x7")][np("0x11")](np("0x12"))) {
                                        "text" == r_49.type && (r_49[i] += "\n");
                                        return "continue";
                                    }
                                    var n_262 = void 0;
                                    if (n_262 = np("0x8") == i ? o_104[np("0x1f")] && !this_2.S[np("0x16")](o_104.nextSibling) ? o_104[np("0x1f")] : null : o_104[np("0x20")] && !this_2.S[np("0x16")](o_104[np("0x20")]) ? o_104[np("0x20")] : null, o_104[np("0x21")] || n_262 && n_262[np("0x21")]) {
                                        var e_654 = n_262 && n_262[np("0x21")] ? n_262[np("0x19")] : o_104[np("0x19")];
                                        r_49 && r_49[np("0x7")] == i + np("0x22") && r_49[np("0x19")] == e_654 ? r_49.quantity++ : t[np("0x1")]({ type: i + "EmptyContainer", name: e_654, quantity: 1 });
                                    }
                                    else
                                        t[np("0x1")]({ type: i + "Container", name: o_104[np("0x19")] });
                                }
                            };
                            var this_2 = this;
                            try {
                                for (var n_261 = __values(n), n_261_1 = n_261.next(); !n_261_1.done; n_261_1 = n_261.next()) {
                                    var e_653 = n_261_1.value;
                                    _loop_7(e_653);
                                }
                            }
                            catch (e_652_1) { e_652 = { error: e_652_1 }; }
                            finally {
                                try {
                                    if (n_261_1 && !n_261_1.done && (_j = n_261.return)) _j.call(n_261);
                                }
                                finally { if (e_652) throw e_652.error; }
                            }
                        };
                        ip.prototype.O = function (t) {
                            var e_655, _j;
                            var e = [];
                            var n;
                            try {
                                for (var t_340 = __values(t), t_340_1 = t_340.next(); !t_340_1.done; t_340_1 = t_340.next()) {
                                    var i_161 = t_340_1.value;
                                    switch (i_161[np("0x7")]) {
                                        case np("0x14"):
                                            if (i_161.add = i_161[np("0x8")][np("0x23")](/(\S)\u000A+(\S)/g, np("0x24"))[np("0x23")](/\u000A/g, ""), i_161[np("0x9")] = i_161[np("0x9")][np("0x23")](/(\S)\u000A+(\S)/g, "$1 $2")[np("0x23")](/\u000A/g, ""), "" != i_161[np("0x8")] && "" != i_161[np("0x9")]) {
                                                e[np("0x1")]([{ label: np("0x25"), description: '"' + i_161[np("0x9")] + '"' }, { label: np("0x26"), description: '"' + i_161[np("0x8")] + '"' }]);
                                                continue;
                                            }
                                            if (null != i_161[np("0x8")].match(/^ +$/)) {
                                                var t_341 = i_161[np("0x8")][np("0x5")] > 1 ? i_161[np("0x8")].length + np("0x27") : "space";
                                                e.push([{ label: np("0x28"), description: t_341 }]);
                                                continue;
                                            }
                                            if (null != i_161[np("0x9")][np("0x29")](/^ +$/)) {
                                                var t_342 = i_161[np("0x9")][np("0x5")] > 1 ? i_161.remove[np("0x5")] + np("0x27") : "space";
                                                e.push([{ label: "Remove", description: t_342 }]);
                                                continue;
                                            }
                                            if ("" != i_161[np("0x8")]) {
                                                e[np("0x1")]([{ label: np("0x28"), description: '"' + i_161.add + '"' }]);
                                                continue;
                                            }
                                            e[np("0x1")]([{ label: np("0x2a"), description: '"' + i_161[np("0x9")] + '"' }]);
                                            continue;
                                        case "addEmptyContainer":
                                        case np("0x2b"):
                                        case np("0x2c"):
                                        case np("0x2d"):
                                            if (n = np("0x2c") == i_161.type || np("0x2e") == i_161[np("0x7")] ? "Add" : np("0x2a"), i_161[np("0x1a")] > 1) {
                                                e[np("0x1")]([{ label: n + " " + i_161[np("0x1a")] + " " + this[np("0xd")](i_161[np("0x19")]) + "s" }]);
                                                continue;
                                            }
                                            e.push([{ label: n + " " + this[np("0xd")](i_161[np("0x19")]) }]);
                                            continue;
                                        case np("0x2f"):
                                        case np("0x30"):
                                            n = "addContainer" == i_161[np("0x7")] ? np("0x31") : np("0x32"), e[np("0x1")]([{ label: n + " " + this.getItemLabel(i_161[np("0x19")]) }]);
                                            continue;
                                    }
                                    e[np("0x1")](i_161);
                                }
                            }
                            catch (e_655_1) { e_655 = { error: e_655_1 }; }
                            finally {
                                try {
                                    if (t_340_1 && !t_340_1.done && (_j = t_340.return)) _j.call(t_340);
                                }
                                finally { if (e_655) throw e_655.error; }
                            }
                            return e;
                        };
                        return ip;
                    }());
                    n(28), n(29);
                    var op = ["editor", "enableCommand", "input", "requires", "init"];
                    !function (t, e) { !function (e) { for (; --e;)
                        t.push(t.shift()); }(++e); }(op, 128);
                    var rp = function (t, e) { return op[t -= 0]; };
                    var sp = /** @class */ (function (_super) {
                        __extends(sp, _super);
                        function sp() {
                            return _super !== null && _super.apply(this, arguments) || this;
                        }
                        Object.defineProperty(sp, rp("0x0"), {
                            get: function () { return [Bh]; },
                            enumerable: true,
                            configurable: true
                        });
                        sp.prototype[rp("0x1")] = function () { this[rp("0x2")].plugins.get("TrackChangesEditing")[rp("0x3")](rp("0x4")); };
                        return sp;
                    }(Ad));
                    var ap = ["get", "TrackChangesEditing", "delete", "commands", "enableCommand", "forwardDelete", "createSelection", "model", "document", "isCollapsed", "forward", "unit", "root", "rootName", "createRange", "start", "end", "enqueueChange", "buffer", "lock", "setSelection", "unlock", "downcastDispatcher", "addMarker:suggestion:deletion", "consumable", "markerRange", "getWalker", "schema", "item", "elementStart", "type", "isObject", "skip", "elementEnd", "isBlock", "isLimit", "createUIElement", "span", "ck-suggestion-marker-merge", "mapper", "toViewPosition", "previousPosition", "markerName", "writer", "ck-suggestion-marker--active", "insert", "editing", "removeMarker:suggestion:deletion", "markerNameToElements", "uiElement", "unbindElementFromMarkerName", "remove", "high", "requires", "init", "editor", "plugins"];
                    !function (t, e) { !function (e) { for (; --e;)
                        t.push(t.shift()); }(++e); }(ap, 338);
                    var cp = function (t, e) { return ap[t -= 0]; };
                    var lp = /** @class */ (function (_super) {
                        __extends(lp, _super);
                        function lp() {
                            return _super !== null && _super.apply(this, arguments) || this;
                        }
                        Object.defineProperty(lp, cp("0x0"), {
                            get: function () { return [Wh]; },
                            enumerable: true,
                            configurable: true
                        });
                        lp.prototype[cp("0x1")] = function () { var t = this[cp("0x2")], e = t[cp("0x3")][cp("0x4")](cp("0x5")); e.enableCommand(cp("0x6")); var n = t[cp("0x7")][cp("0x4")]("forwardDelete"); e[cp("0x8")](cp("0x9"), function (e, i) { var o = t.model[cp("0xa")](t[cp("0xb")][cp("0xc")].selection); o[cp("0xd")] && t[cp("0xb")].modifySelection(o, { direction: cp("0xe"), unit: i[cp("0xf")] }); var r = o.getFirstRange(), s = sa.fromRange(r); var a; e(i), a = "$graveyard" == s[cp("0x10")][cp("0x11")] ? t[cp("0xb")][cp("0x12")](r[cp("0x13")]) : t[cp("0xb")][cp("0x12")](s[cp("0x13")], s[cp("0x14")]), s.detach(), t[cp("0xb")][cp("0x15")](n.buffer.batch, function (t) { n[cp("0x16")][cp("0x17")](), t[cp("0x18")](t[cp("0x12")](a[cp("0x14")])), n.buffer[cp("0x19")](); }); }), t.editing[cp("0x1a")].on(cp("0x1b"), function (n, i, o) {
                            var e_656, _j;
                            if (!o[cp("0x1c")].test(i[cp("0x1d")], n.name))
                                return;
                            var r = i[cp("0x1d")][cp("0x1e")](), s = t[cp("0xb")][cp("0x1f")];
                            var _loop_8 = function (t_343) {
                                var n_263 = t_343[cp("0x20")];
                                if (cp("0x21") == t_343[cp("0x22")] && s[cp("0x23")](n_263) && r[cp("0x24")](function (t) { return !("elementEnd" == t[cp("0x22")] && t[cp("0x20")] == n_263); }), cp("0x25") == t_343.type && s[cp("0x26")](n_263) && !s[cp("0x27")](n_263)) {
                                    var n_264 = o.writer[cp("0x28")](cp("0x29"), { class: cp("0x2a") }), r_51 = o[cp("0x2b")][cp("0x2c")](t_343[cp("0x2d")]);
                                    e.activeMarkers.includes(i[cp("0x2e")]) && o[cp("0x2f")].addClass(cp("0x30"), n_264), o.writer[cp("0x31")](r_51, n_264), o[cp("0x2b")].bindElementToMarker(n_264, i[cp("0x2e")]);
                                }
                            };
                            try {
                                for (var r_50 = __values(r), r_50_1 = r_50.next(); !r_50_1.done; r_50_1 = r_50.next()) {
                                    var t_343 = r_50_1.value;
                                    _loop_8(t_343);
                                }
                            }
                            catch (e_656_1) { e_656 = { error: e_656_1 }; }
                            finally {
                                try {
                                    if (r_50_1 && !r_50_1.done && (_j = r_50.return)) _j.call(r_50);
                                }
                                finally { if (e_656) throw e_656.error; }
                            }
                        }, { priority: "high" }), t[cp("0x32")][cp("0x1a")].on(cp("0x33"), function (t, e, n) {
                            var e_657, _j;
                            var i = n[cp("0x2b")][cp("0x34")](e.markerName);
                            if (i)
                                try {
                                    for (var i_162 = __values(i), i_162_1 = i_162.next(); !i_162_1.done; i_162_1 = i_162.next()) {
                                        var t_344 = i_162_1.value;
                                        t_344.is(cp("0x35")) && (n[cp("0x2b")][cp("0x36")](t_344, e[cp("0x2e")]), n[cp("0x2f")][cp("0x37")](t_344));
                                    }
                                }
                                catch (e_657_1) { e_657 = { error: e_657_1 }; }
                                finally {
                                    try {
                                        if (i_162_1 && !i_162_1.done && (_j = i_162.return)) _j.call(i_162);
                                    }
                                    finally { if (e_657) throw e_657.error; }
                                }
                        }, { priority: cp("0x38") }); };
                        return lp;
                    }(Ad));
                    var dp = ["markerRange", "name", "getWalker", "item", "elementStart", "elementEnd", "isBlock", "writer", "createUIElement", "span", "ck-suggestion-marker-split", "toViewPosition", "previousPosition", "activeMarkers", "includes", "markerName", "ck-suggestion-marker--active", "insert", "bindElementToMarker", "high", "removeMarker:suggestion:insertion", "mapper", "markerNameToElements", "unbindElementFromMarkerName", "remove", "requires", "init", "editor", "plugins", "get", "TrackChangesEditing", "enableCommand", "model", "change", "document", "selection", "getFirstPosition", "isCollapsed", "fromRange", "getFirstRange", "start", "parent", "isAtStart", "end", "schema", "isLimit", "createPositionAt", "nextSibling", "createRange", "markInsertion", "setSelection", "detach", "editing", "downcastDispatcher", "addMarker:suggestion:insertion", "consumable", "test"];
                    !function (t, e) { !function (e) { for (; --e;)
                        t.push(t.shift()); }(++e); }(dp, 424);
                    var up = function (t, e) { return dp[t -= 0]; };
                    var hp = /** @class */ (function (_super) {
                        __extends(hp, _super);
                        function hp() {
                            return _super !== null && _super.apply(this, arguments) || this;
                        }
                        Object.defineProperty(hp, up("0x0"), {
                            get: function () { return [Sh]; },
                            enumerable: true,
                            configurable: true
                        });
                        hp.prototype[up("0x1")] = function () { var t = this[up("0x2")], e = t[up("0x3")][up("0x4")](up("0x5")); e[up("0x6")]("enter", function (n) { t[up("0x7")][up("0x8")](function (i) { var o = t.model[up("0x9")][up("0xa")], r = o[up("0xb")](), s = o[up("0xc")], a = sa[up("0xd")](o[up("0xe")]()), c = a[up("0xf")][up("0x10")], l = a.end[up("0x10")], d = !(a[up("0xf")][up("0x11")] && a[up("0x12")].isAtEnd), u = c == l, h = !(t[up("0x7")][up("0x13")][up("0x14")](c) || t[up("0x7")][up("0x13")].isLimit(l)) && (s || d && u); if (n(), h) {
                            var n_265 = t.model[up("0x15")](r[up("0x10")][up("0x16")], 0), o_105 = i[up("0x17")](r, n_265);
                            e[up("0x18")](o_105);
                        }
                        else
                            i[up("0x19")](i.createRange(a[up("0x12")])); a[up("0x1a")](); }); }), t[up("0x1b")][up("0x1c")].on(up("0x1d"), function (n, i, o) {
                            var e_658, _j;
                            if (!o[up("0x1e")][up("0x1f")](i[up("0x20")], n[up("0x21")]))
                                return;
                            var r = i[up("0x20")][up("0x22")](), s = t[up("0x7")].schema;
                            var _loop_9 = function (t_345) {
                                var n_266 = t_345[up("0x23")];
                                if (up("0x24") == t_345.type && s.isObject(n_266) && r.skip(function (t) { return !(up("0x25") == t.type && t.item == n_266); }), "elementEnd" == t_345.type && s[up("0x26")](n_266) && !s[up("0x14")](n_266)) {
                                    var n_267 = o[up("0x27")][up("0x28")](up("0x29"), { class: up("0x2a") }), r_53 = o.mapper[up("0x2b")](t_345[up("0x2c")]);
                                    e[up("0x2d")][up("0x2e")](i[up("0x2f")]) && o[up("0x27")].addClass(up("0x30"), n_267), o[up("0x27")][up("0x31")](r_53, n_267), o.mapper[up("0x32")](n_267, i[up("0x2f")]);
                                }
                            };
                            try {
                                for (var r_52 = __values(r), r_52_1 = r_52.next(); !r_52_1.done; r_52_1 = r_52.next()) {
                                    var t_345 = r_52_1.value;
                                    _loop_9(t_345);
                                }
                            }
                            catch (e_658_1) { e_658 = { error: e_658_1 }; }
                            finally {
                                try {
                                    if (r_52_1 && !r_52_1.done && (_j = r_52.return)) _j.call(r_52);
                                }
                                finally { if (e_658) throw e_658.error; }
                            }
                        }, { priority: up("0x33") }), t[up("0x1b")].downcastDispatcher.on(up("0x34"), function (t, e, n) {
                            var e_659, _j;
                            var i = n[up("0x35")][up("0x36")](e[up("0x2f")]);
                            if (i)
                                try {
                                    for (var i_163 = __values(i), i_163_1 = i_163.next(); !i_163_1.done; i_163_1 = i_163.next()) {
                                        var t_346 = i_163_1.value;
                                        t_346.hasClass(up("0x2a")) && (n[up("0x35")][up("0x37")](t_346, e[up("0x2f")]), n[up("0x27")][up("0x38")](t_346));
                                    }
                                }
                                catch (e_659_1) { e_659 = { error: e_659_1 }; }
                                finally {
                                    try {
                                        if (i_163_1 && !i_163_1.done && (_j = i_163.return)) _j.call(i_163);
                                    }
                                    finally { if (e_659) throw e_659.error; }
                                }
                        }, { priority: up("0x33") }); };
                        return hp;
                    }(Ad));
                    var mp = ["plugins", "has", "UndoEditing", "enableCommand", "undo", "redo", "afterInit", "editor", "get"];
                    !function (t, e) { !function (e) { for (; --e;)
                        t.push(t.shift()); }(++e); }(mp, 375);
                    var gp = function (t, e) { return mp[t -= 0]; };
                    var fp = /** @class */ (function (_super) {
                        __extends(fp, _super);
                        function fp() {
                            return _super !== null && _super.apply(this, arguments) || this;
                        }
                        fp.prototype[gp("0x0")] = function () { var t = this[gp("0x1")], e = t.plugins[gp("0x2")]("TrackChangesEditing"); t[gp("0x3")][gp("0x4")](gp("0x5")) && (e[gp("0x6")](gp("0x7")), e[gp("0x6")](gp("0x8"))); };
                        return fp;
                    }(Ad));
                    var pp = ["requires", "init", "plugins", "get", "TrackChangesEditing", "enableCommand", "addCommentThread", "addComment", "updateComment", "removeComment"];
                    !function (t, e) { !function (e) { for (; --e;)
                        t.push(t.shift()); }(++e); }(pp, 340);
                    var xp = function (t, e) { return pp[t -= 0]; };
                    var bp = /** @class */ (function (_super) {
                        __extends(bp, _super);
                        function bp() {
                            return _super !== null && _super.apply(this, arguments) || this;
                        }
                        Object.defineProperty(bp, xp("0x0"), {
                            get: function () { return [Zd]; },
                            enumerable: true,
                            configurable: true
                        });
                        bp.prototype[xp("0x1")] = function () { var t = this.editor[xp("0x2")][xp("0x3")](xp("0x4")); t[xp("0x5")](xp("0x6")), t[xp("0x5")]("removeCommentThread"), t[xp("0x5")](xp("0x7")), t[xp("0x5")](xp("0x8")), t[xp("0x5")](xp("0x9")); };
                        return bp;
                    }(Ad));
                    var kp = n(20), wp = n.n(kp), _p = n(21), vp = n.n(_p), yp = n(22), Cp = n.n(yp), Tp = n(14), Ap = n.n(Tp);
                    var Sp = { full: { name: "full", title: "Full size image", icon: wp.a, isDefault: !0 }, side: { name: "side", title: "Side image", icon: Ap.a, className: "image-style-side" }, alignLeft: { name: "alignLeft", title: "Left aligned image", icon: vp.a, className: "image-style-align-left" }, alignCenter: { name: "alignCenter", title: "Centered image", icon: Cp.a, className: "image-style-align-center" }, alignRight: { name: "alignRight", title: "Right aligned image", icon: Ap.a, className: "image-style-align-right" } }, Pp = { full: wp.a, left: vp.a, right: Ap.a, center: Cp.a };
                    function Mp(t) {
                        if (t === void 0) { t = []; }
                        return t.map(Ep);
                    }
                    function Ep(t) { if ("string" == typeof t) {
                        var e_660 = t;
                        Sp[e_660] ? t = Object.assign({}, Sp[e_660]) : (console.warn(Object(Gn.a)("image-style-not-found: There is no such image style of given name."), { name: e_660 }), t = { name: e_660 });
                    }
                    else if (Sp[t.name]) {
                        var e_661 = Sp[t.name], n_268 = Object.assign({}, t);
                        for (var i_164 in e_661)
                            t.hasOwnProperty(i_164) || (n_268[i_164] = e_661[i_164]);
                        t = n_268;
                    } return "string" == typeof t.icon && Pp[t.icon] && (t.icon = Pp[t.icon]), t; }
                    n(139);
                    var Ip = ["alt", "getAttribute", "newValue", "config", "image.styles", "name", "title", "_descriptionFactory", "registerDescriptionCallback", "commandName", "Format", "set image style to ", "commandParams", "remove image text alternative", "editor", "plugins", "get", "TrackChangesEditing", "has", "ImageEditing", "imageInsert", "ImageUploadEditing", "enableCommand", "imageUpload", "ImageStyleEditing", "commands", "imageStyle", "document", "selection", "nodeAfter", "hasAttribute", "defaultStyle", "value", "model", "markBlockFormat", "ImageTextAlternativeEditing", "imageTextAlternative", "getFirstRange", "start"];
                    !function (t, e) { !function (e) { for (; --e;)
                        t.push(t.shift()); }(++e); }(Ip, 365);
                    var Np = function (t, e) { return Ip[t -= 0]; };
                    var Rp = /** @class */ (function (_super) {
                        __extends(Rp, _super);
                        function Rp() {
                            return _super !== null && _super.apply(this, arguments) || this;
                        }
                        Rp.prototype.afterInit = function () {
                            var e_662, _j;
                            var t = this[Np("0x0")], e = t[Np("0x1")][Np("0x2")](Np("0x3"));
                            if (!t[Np("0x1")][Np("0x4")](Np("0x5")))
                                return;
                            e.enableCommand(Np("0x6")), t[Np("0x1")][Np("0x4")](Np("0x7")) && e[Np("0x8")](Np("0x9")), t[Np("0x1")][Np("0x4")](Np("0xa")) && e[Np("0x8")]("imageStyle", function (n, i) { var o = t[Np("0xb")][Np("0x2")](Np("0xc")), r = t.model[Np("0xd")][Np("0xe")].getFirstRange().start[Np("0xf")]; (r[Np("0x10")](Np("0xc")) ? r.getAttribute(Np("0xc")) : o[Np("0x11")]) != i[Np("0x12")] && t[Np("0x13")].change(function () { e[Np("0x14")](r, { commandName: Np("0xc"), commandParams: [i] }); }); }), t[Np("0x1")][Np("0x4")](Np("0x15")) && e.enableCommand(Np("0x16"), function (n, i) { var o = t[Np("0x13")].document[Np("0xe")][Np("0x17")]()[Np("0x18")][Np("0xf")]; (o[Np("0x10")](Np("0x19")) ? o[Np("0x1a")](Np("0x19")) : "") != i[Np("0x1b")] && t[Np("0x13")].change(function () { e[Np("0x14")](o, { commandName: Np("0x16"), commandParams: [i] }); }); });
                            var n = {}, i = Mp(this[Np("0x0")][Np("0x1c")].get(Np("0x1d")));
                            try {
                                for (var i_165 = __values(i), i_165_1 = i_165.next(); !i_165_1.done; i_165_1 = i_165.next()) {
                                    var t_347 = i_165_1.value;
                                    n[t_347[Np("0x1e")]] = t_347[Np("0x1f")].toLowerCase();
                                }
                            }
                            catch (e_662_1) { e_662 = { error: e_662_1 }; }
                            finally {
                                try {
                                    if (i_165_1 && !i_165_1.done && (_j = i_165.return)) _j.call(i_165);
                                }
                                finally { if (e_662) throw e_662.error; }
                            }
                            e[Np("0x20")][Np("0x21")](function (t) { var e = t.data; if (e) {
                                if ("imageStyle" == e[Np("0x22")])
                                    return [{ label: Np("0x23"), description: Np("0x24") + n[e[Np("0x25")][0][Np("0x12")]] }];
                                if ("imageTextAlternative" == e[Np("0x22")])
                                    return [{ label: Np("0x23"), description: "" != e[Np("0x25")][0].newValue ? 'set image text alternative to "' + e[Np("0x25")][0][Np("0x1b")] + '"' : Np("0x26") }];
                            } });
                        };
                        return Rp;
                    }(Ad));
                    var Op = /** @class */ (function () {
                        function Op(t, e) {
                            if (e === void 0) { e = {}; }
                            this.table = t, this.startRow = e.startRow || 0, this.endRow = "number" == typeof e.endRow ? e.endRow : void 0, this.includeSpanned = !!e.includeSpanned, this.column = "number" == typeof e.column ? e.column : void 0, this._skipRows = new Set, this._row = 0, this._column = 0, this._cellIndex = 0, this._spannedCells = new Map, this._nextCellAtColumn = -1;
                        }
                        Op.prototype[Symbol.iterator] = function () { return this; };
                        Op.prototype.next = function () { var t = this.table.getChild(this._row); if (!t || this._isOverEndRow())
                            return { done: !0 }; var e, n, i; if (this._isSpanned(this._row, this._column))
                            e = this._getSpanned(this._row, this._column), n = !this.includeSpanned || this._shouldSkipRow() || this._shouldSkipColumn(), i = this._formatOutValue(e, this._column, !0);
                        else {
                            if (!(e = t.getChild(this._cellIndex)))
                                return this._row++, this._column = 0, this._cellIndex = 0, this._nextCellAtColumn = -1, this.next();
                            var o_106 = parseInt(e.getAttribute("colspan") || 1), r_54 = parseInt(e.getAttribute("rowspan") || 1);
                            (o_106 > 1 || r_54 > 1) && this._recordSpans(this._row, this._column, r_54, o_106, e), this._nextCellAtColumn = this._column + o_106, n = this._shouldSkipRow() || this._shouldSkipColumn(), i = this._formatOutValue(e, this._column, !1, r_54, o_106);
                        } return this._column++, this._column == this._nextCellAtColumn && this._cellIndex++, n ? this.next() : i; };
                        Op.prototype.skipRow = function (t) { this._skipRows.add(t); };
                        Op.prototype._isOverEndRow = function () { return void 0 !== this.endRow && this._row > this.endRow; };
                        Op.prototype._formatOutValue = function (t, e, n, i, o) {
                            if (i === void 0) { i = 1; }
                            if (o === void 0) { o = 1; }
                            return { done: !1, value: { cell: t, row: this._row, column: e, isSpanned: n, rowspan: i, colspan: o, cellIndex: this._cellIndex } };
                        };
                        Op.prototype._shouldSkipRow = function () { var t = this._row < this.startRow, e = this._skipRows.has(this._row); return t || e; };
                        Op.prototype._shouldSkipColumn = function () { return void 0 !== this.column && this.column != this._column; };
                        Op.prototype._isSpanned = function (t, e) { if (!this._spannedCells.has(t))
                            return !1; return this._spannedCells.get(t).has(e); };
                        Op.prototype._getSpanned = function (t, e) { return this._spannedCells.get(t).get(e); };
                        Op.prototype._recordSpans = function (t, e, n, i, o) { for (var n_269 = e + 1; n_269 <= e + i - 1; n_269++)
                            this._markSpannedCell(t, n_269, o); for (var r_55 = t + 1; r_55 < t + n; r_55++)
                            for (var t_348 = e; t_348 <= e + i - 1; t_348++)
                                this._markSpannedCell(r_55, t_348, o); };
                        Op.prototype._markSpannedCell = function (t, e, n) { this._spannedCells.has(t) || this._spannedCells.set(t, new Map), this._spannedCells.get(t).set(e, n); };
                        return Op;
                    }());
                    n(141);
                    var Dp = ["nextSibling", "getChildren", "map", "createRangeOn", "markMultiRangeInsertion", "insertTableColumnLeft", "insertTableColumnRight", "parent", "getCellLocation", "cell", "removeTableColumn", "substr", "toLowerCase", "span", "min", "tableCell", "removeTableRow", "filter", "markMultiRangeDeletion", "subType", "getAttribute", "addRange", "setTableRowHeader", "headingRows", "index", "forceValue", "getChild", "createPositionAfter", "createRange", "createPositionBefore", "headingColumns", "isBefore", "markBlockFormat", "setTableColumnHeader", "mergeTableCellUp", "mergeTableCellRight", "mergeTableCellDown", "mergeTableCellLeft", "splitTableCellHorizontally", "commands", "horizontally", "direction", "downcastDispatcher", "addMarker:suggestion", "markerName", "getSuggestion", "data", "start", "nodeAfter", "stop", "consumable", "consume", "markerRange", "name", "getItems", "toViewElement", "addClass", "ck-suggestion-marker-", "mapper", "bindElementToMarker", "activeMarkers", "includes", "writer", "ck-suggestion-marker--active", "removeClass", "editing", "commandName", "end", "highest", "removeMarker:suggestion", "-cell", "unbindElementFromMarkerName", "_descriptionFactory", "registerDescriptionCallback", "insertion", "type", "Add", "Remove", "table row", "table column", "minRow", "maxColumn", "minColumn", "row", "column", "Format", "change to ", "commandParams", "table header", "regular ", "merge cell ", "_suggestionFactory", "registerCustomCallback", "formatBlock", "splitTableCellVertically", "split cell ", "max", "isInContent", "getFirstRange", "hasAttribute", "registerPostFixer", "insert", "position", "set:isEnabled", "value", "return", "createRangeIn", "rootName", "refresh", "push", "execute", "$graveyard", "root", "setSelection", "detach", "fromRange", "createBatch", "createPositionAt", "enqueueChange", "isEqual", "some", "accept", "discard", "deletion", "join", "TableUtils", "MAX_SAFE_INTEGER", "MIN_SAFE_INTEGER", "rowspan", "colspan", "getSuggestions", "getRanges", "containsRange", "author", "size", "afterInit", "editor", "plugins", "has", "TableEditing", "get", "TrackChangesEditing", "model", "document", "change:data", "from", "differ", "getChangedMarkers", "_splitMarkerName", "oldRange", "tableRow", "tableColumn", "add", "low", "enableCommand", "insertTable", "insertTableRowAbove", "change", "selection", "getFirstPosition", "getAncestors", "find", "previousSibling"];
                    !function (t, e) { !function (e) { for (; --e;)
                        t.push(t.shift()); }(++e); }(Dp, 461);
                    var Lp = function (t, e) { return Dp[t -= 0]; };
                    var Vp = /** @class */ (function (_super) {
                        __extends(Vp, _super);
                        function Vp() {
                            return _super !== null && _super.apply(this, arguments) || this;
                        }
                        Vp.prototype[Lp("0x0")] = function () {
                            var _this = this;
                            var e_663, _j, e_664, _q, e_665, _z, e_666, _0, e_667, _1, e_668, _2, e_669, _3, e_670, _4;
                            var t = this[Lp("0x1")];
                            if (!t[Lp("0x2")][Lp("0x3")](Lp("0x4")))
                                return;
                            var e = t[Lp("0x2")][Lp("0x5")](Lp("0x6")), n = t.plugins.get("TableUtils");
                            this.u = new Set, t[Lp("0x7")][Lp("0x8")].on(Lp("0x9"), function () {
                                var e_671, _j;
                                var n = Array[Lp("0xa")](t.model.document[Lp("0xb")][Lp("0xc")]());
                                try {
                                    for (var n_270 = __values(n), n_270_1 = n_270.next(); !n_270_1.done; n_270_1 = n_270.next()) {
                                        var _q = n_270_1.value, t_349 = _q.name, i_166 = _q.data;
                                        var _z = e[Lp("0xd")](t_349), n_271 = _z.group, o_107 = _z.id, r_56 = _z.subType;
                                        if ("suggestion" != n_271)
                                            continue;
                                        if (null != i_166[Lp("0xe")])
                                            continue;
                                        var s_36 = e.getSuggestion(o_107);
                                        Lp("0xf") != r_56 && Lp("0x10") != r_56 || _this.u[Lp("0x11")](s_36);
                                    }
                                }
                                catch (e_671_1) { e_671 = { error: e_671_1 }; }
                                finally {
                                    try {
                                        if (n_270_1 && !n_270_1.done && (_j = n_270.return)) _j.call(n_270);
                                    }
                                    finally { if (e_671) throw e_671.error; }
                                }
                            }, { priority: Lp("0x12") }), e[Lp("0x13")](Lp("0x14"));
                            var _loop_10 = function (n_272) {
                                e[Lp("0x13")](n_272, function (i) { t[Lp("0x7")][Lp("0x16")](function (o) { i(); var r = t[Lp("0x7")][Lp("0x8")][Lp("0x17")][Lp("0x18")]()[Lp("0x19")]()[Lp("0x1a")](function (t) { return t.is(Lp("0xf")); }), s = "insertTableRowAbove" == n_272 ? r[Lp("0x1b")] : r[Lp("0x1c")], a = Array[Lp("0xa")](s[Lp("0x1d")]())[Lp("0x1e")](function (t) { return o[Lp("0x1f")](t); }); e[Lp("0x20")](a, Lp("0xf")); }); });
                            };
                            try {
                                for (var _5 = __values([Lp("0x15"), "insertTableRowBelow"]), _6 = _5.next(); !_6.done; _6 = _5.next()) {
                                    var n_272 = _6.value;
                                    _loop_10(n_272);
                                }
                            }
                            catch (e_663_1) { e_663 = { error: e_663_1 }; }
                            finally {
                                try {
                                    if (_6 && !_6.done && (_j = _5.return)) _j.call(_5);
                                }
                                finally { if (e_663) throw e_663.error; }
                            }
                            var _loop_11 = function (i_167) {
                                e[Lp("0x13")](i_167, function (o) { t.model[Lp("0x16")](function (r) { o(); var s = t[Lp("0x7")][Lp("0x8")].selection.getFirstPosition()[Lp("0x19")]().find(function (t) { return t.is("tableCell"); }), a = s[Lp("0x23")][Lp("0x23")], c = n[Lp("0x24")](s).column, l = new Op(a, { startRow: 0, column: Lp("0x21") == i_167 ? c - 1 : c + 1, includeSpanned: !1 }), d = Array[Lp("0xa")](l)[Lp("0x1e")](function (t) { return r[Lp("0x1f")](t[Lp("0x25")]); }); e.markMultiRangeInsertion(d, Lp("0x10")); }); });
                            };
                            try {
                                for (var _7 = __values([Lp("0x21"), Lp("0x22")]), _8 = _7.next(); !_8.done; _8 = _7.next()) {
                                    var i_167 = _8.value;
                                    _loop_11(i_167);
                                }
                            }
                            catch (e_664_1) { e_664 = { error: e_664_1 }; }
                            finally {
                                try {
                                    if (_8 && !_8.done && (_q = _7.return)) _q.call(_7);
                                }
                                finally { if (e_664) throw e_664.error; }
                            }
                            var _loop_12 = function (i_168) {
                                var o_108 = i_168[Lp("0x27")](11), r_57 = o_108[Lp("0x28")](), s_37 = r_57.substr(0, 3) + Lp("0x29"), a_19 = "table" + o_108, c_14 = Lp("0x2a") + o_108, l_6 = "max" + o_108;
                                e[Lp("0x13")](i_168, function () { t.model[Lp("0x16")](function (o) {
                                    var e_672, _j;
                                    var d = t.model[Lp("0x8")][Lp("0x17")][Lp("0x18")]().getAncestors().find(function (t) { return t.is(Lp("0x2b")); });
                                    var u;
                                    if (Lp("0x2c") == i_168) {
                                        var t_350 = n.getCellLocation(d).row;
                                        u = { startRow: t_350, endRow: t_350, includeSpanned: !0 };
                                    }
                                    else {
                                        var t_351 = n.getCellLocation(d).column;
                                        u = { startRow: 0, column: t_351, includeSpanned: !0 };
                                    }
                                    var h = new Op(d[Lp("0x23")][Lp("0x23")], u), m = Array[Lp("0xa")](h), g = m.filter(function (t) { return t[Lp("0x25")].hasAttribute(s_37); }), f = m[Lp("0x2d")](function (t) { return !t[Lp("0x25")].hasAttribute(s_37); })[Lp("0x1e")](function (t) { return o[Lp("0x1f")](t[Lp("0x25")]); }), p = e[Lp("0x2e")](f, a_19);
                                    if (p && ("tableRow" == p[Lp("0x2f")] || Lp("0x10") == p.subType)) {
                                        var t_352 = _this.T(p);
                                        try {
                                            for (var g_2 = __values(g), g_2_1 = g_2.next(); !g_2_1.done; g_2_1 = g_2.next()) {
                                                var e_673 = g_2_1.value;
                                                var i_169 = o[Lp("0x1f")](e_673.cell), a_20 = n.getCellLocation(e_673[Lp("0x25")]), d_5 = e_673[Lp("0x25")][Lp("0x30")](s_37) - 1, u_5 = t_352[c_14], h_2 = t_352[l_6];
                                                u_5 <= a_20[r_57] && a_20[r_57] + d_5 <= h_2 && p[Lp("0x31")](i_169);
                                            }
                                        }
                                        catch (e_672_1) { e_672 = { error: e_672_1 }; }
                                        finally {
                                            try {
                                                if (g_2_1 && !g_2_1.done && (_j = g_2.return)) _j.call(g_2);
                                            }
                                            finally { if (e_672) throw e_672.error; }
                                        }
                                    }
                                }); });
                            };
                            try {
                                for (var _9 = __values(["removeTableRow", Lp("0x26")]), _10 = _9.next(); !_10.done; _10 = _9.next()) {
                                    var i_168 = _10.value;
                                    _loop_12(i_168);
                                }
                            }
                            catch (e_665_1) { e_665 = { error: e_665_1 }; }
                            finally {
                                try {
                                    if (_10 && !_10.done && (_z = _9.return)) _z.call(_9);
                                }
                                finally { if (e_665) throw e_665.error; }
                            }
                            e[Lp("0x13")](Lp("0x32"), function (n, i) { var o = t[Lp("0x7")].document[Lp("0x17")][Lp("0x18")]()[Lp("0x19")]()[Lp("0x1a")](function (t) { return t.is(Lp("0xf")); }), r = o.parent, s = r[Lp("0x30")](Lp("0x33")) || 0, a = o[Lp("0x34")], c = i && null !== i[Lp("0x35")] ? i[Lp("0x35")] : s <= a; var l; if (c) {
                                var e_674 = r[Lp("0x36")](s);
                                if (o[Lp("0x34")] < e_674[Lp("0x34")])
                                    return;
                                l = t.model.createRange(t.model.createPositionBefore(e_674.getChild(0)), t[Lp("0x7")][Lp("0x37")](o[Lp("0x36")](o.childCount - 1)));
                            }
                            else {
                                var e_675 = r[Lp("0x36")](s - 1);
                                if (!e_675)
                                    return;
                                l = t[Lp("0x7")][Lp("0x38")](t.model[Lp("0x39")](o[Lp("0x36")](0)), t.model.createPositionAfter(e_675[Lp("0x36")](e_675.childCount - 1)));
                            } t[Lp("0x7")].change(function () { e.markBlockFormat(l, { commandName: Lp("0x32"), commandParams: [{ forceValue: c }] }, [], Lp("0x32")); }); }), e.enableCommand("setTableColumnHeader", function (i, o) { var r = t[Lp("0x7")][Lp("0x8")][Lp("0x17")][Lp("0x18")]()[Lp("0x19")]()[Lp("0x1a")](function (t) { return t.is(Lp("0x2b")); }), s = r[Lp("0x23")][Lp("0x23")], a = s[Lp("0x30")](Lp("0x3a")) || 0, c = n[Lp("0x24")](r).column, l = o && null !== o[Lp("0x35")] ? o[Lp("0x35")] : a <= c; var d; var u = s.getChild(0), h = new Op(s, { startRow: 0, column: c, includeSpanned: !1 }), m = Array[Lp("0xa")](h)[0].cell; if (l) {
                                var e_676 = u[Lp("0x36")](a);
                                if (m[Lp("0x3b")](e_676))
                                    return;
                                d = t[Lp("0x7")][Lp("0x38")](t.model[Lp("0x39")](e_676), t[Lp("0x7")][Lp("0x37")](m));
                            }
                            else {
                                var e_677 = u[Lp("0x36")](a - 1);
                                if (!e_677)
                                    return;
                                d = t.model.createRange(t.model.createPositionBefore(m), t[Lp("0x7")][Lp("0x37")](e_677));
                            } t.model.change(function () { e[Lp("0x3c")](d, { commandName: Lp("0x3d"), commandParams: [{ forceValue: l }] }, [], "setTableColumnHeader"); }); });
                            var _loop_13 = function (n_273) {
                                var i_170 = t.commands[Lp("0x5")](n_273);
                                e[Lp("0x13")](n_273, function () { var o = t[Lp("0x7")][Lp("0x8")].selection.getFirstPosition()[Lp("0x19")]()[Lp("0x1a")](function (t) { return t.is(Lp("0x2b")); }), r = i_170.value; t[Lp("0x7")].change(function (t) { e[Lp("0x3c")](t[Lp("0x1f")](o), { commandName: n_273, commandParams: [] }, [r], n_273); }); });
                            };
                            try {
                                for (var _11 = __values([Lp("0x3e"), Lp("0x3f"), Lp("0x40"), Lp("0x41")]), _12 = _11.next(); !_12.done; _12 = _11.next()) {
                                    var n_273 = _12.value;
                                    _loop_13(n_273);
                                }
                            }
                            catch (e_666_1) { e_666 = { error: e_666_1 }; }
                            finally {
                                try {
                                    if (_12 && !_12.done && (_0 = _11.return)) _0.call(_11);
                                }
                                finally { if (e_666) throw e_666.error; }
                            }
                            var _loop_14 = function (i_171) {
                                var o_109 = t[Lp("0x43")][Lp("0x5")](i_171);
                                e[Lp("0x13")](i_171, function () { var r = t[Lp("0x7")].document[Lp("0x17")][Lp("0x18")]()[Lp("0x19")]()[Lp("0x1a")](function (t) { return t.is(Lp("0x2b")); }), s = r[Lp("0x23")][Lp("0x23")], _j = n[Lp("0x24")](r), a = _j.column, c = _j.row; var l = []; if (Lp("0x44") == o_109[Lp("0x45")]) {
                                    var t_353 = new Op(s, { startRow: c, endRow: c, includeSpanned: !0 });
                                    l = Array[Lp("0xa")](t_353)[Lp("0x1e")](function (t) { return t[Lp("0x25")]; });
                                }
                                else {
                                    var t_354 = new Op(s, { column: a, includeSpanned: !0 });
                                    l = Array[Lp("0xa")](t_354)[Lp("0x1e")](function (t) { return t.cell; });
                                } t.model[Lp("0x16")](function (t) { e[Lp("0x3c")](t[Lp("0x1f")](r), { commandName: i_171, commandParams: [] }, l, i_171); }); });
                            };
                            try {
                                for (var _13 = __values(["splitTableCellVertically", Lp("0x42")]), _14 = _13.next(); !_14.done; _14 = _13.next()) {
                                    var i_171 = _14.value;
                                    _loop_14(i_171);
                                }
                            }
                            catch (e_667_1) { e_667 = { error: e_667_1 }; }
                            finally {
                                try {
                                    if (_14 && !_14.done && (_1 = _13.return)) _1.call(_13);
                                }
                                finally { if (e_667) throw e_667.error; }
                            }
                            t.editing[Lp("0x46")].on(Lp("0x47"), function (t, n, i) {
                                var e_678, _j;
                                var _q = e[Lp("0xd")](n[Lp("0x48")]), o = _q.type, r = _q.subType, s = _q.id, a = e[Lp("0x49")](s);
                                if (a[Lp("0x4a")] && Lp("0x3d") == a[Lp("0x4a")].commandName)
                                    return;
                                var c = n.markerRange[Lp("0x4b")][Lp("0x4c")];
                                if (!c || !c.is(Lp("0xf")) && !c.is(Lp("0x2b")))
                                    return;
                                if (n.item)
                                    return void t[Lp("0x4d")]();
                                if (!i[Lp("0x4e")][Lp("0x4f")](n[Lp("0x50")], t[Lp("0x51")]))
                                    return;
                                var l = Array[Lp("0xa")](n[Lp("0x50")][Lp("0x52")]())[Lp("0x2d")](function (t) { return t.is("tableCell"); });
                                try {
                                    for (var l_7 = __values(l), l_7_1 = l_7.next(); !l_7_1.done; l_7_1 = l_7.next()) {
                                        var t_355 = l_7_1.value;
                                        var s_38 = i.mapper[Lp("0x53")](t_355);
                                        "formatBlock" == o ? i.writer[Lp("0x54")](Lp("0x55") + o + "-cell", s_38) : i.writer[Lp("0x54")](Lp("0x55") + o + "-" + r, s_38), i[Lp("0x56")][Lp("0x57")](s_38, n[Lp("0x48")]), e[Lp("0x58")][Lp("0x59")](n.markerName) ? i[Lp("0x5a")].addClass(Lp("0x5b"), s_38) : i[Lp("0x5a")][Lp("0x5c")](Lp("0x5b"), s_38);
                                    }
                                }
                                catch (e_678_1) { e_678 = { error: e_678_1 }; }
                                finally {
                                    try {
                                        if (l_7_1 && !l_7_1.done && (_j = l_7.return)) _j.call(l_7);
                                    }
                                    finally { if (e_678) throw e_678.error; }
                                }
                            }, { priority: "highest" }), t[Lp("0x5d")].downcastDispatcher.on(Lp("0x47"), function (t, i, o) {
                                var e_679, _j;
                                var _q = e[Lp("0xd")](i[Lp("0x48")]), r = _q.type, s = _q.id, a = e[Lp("0x49")](s);
                                if (!a[Lp("0x4a")] || Lp("0x3d") != a.data[Lp("0x5e")])
                                    return;
                                if (i.item)
                                    return void t[Lp("0x4d")]();
                                if (!o[Lp("0x4e")].consume(i[Lp("0x50")], t.name))
                                    return;
                                var c = i[Lp("0x50")][Lp("0x4b")][Lp("0x4c")], l = i[Lp("0x50")][Lp("0x5f")].nodeBefore, d = c[Lp("0x23")][Lp("0x23")], u = n.getCellLocation(c).column, h = n[Lp("0x24")](l).column;
                                for (var t_356 = u; t_356 <= h; t_356++) {
                                    var n_275 = new Op(d, { column: t_356, includeSpanned: !1 });
                                    try {
                                        for (var n_274 = __values(n_275), n_274_1 = n_274.next(); !n_274_1.done; n_274_1 = n_274.next()) {
                                            var t_357 = n_274_1.value;
                                            var n_276 = t_357[Lp("0x25")], s_39 = o[Lp("0x56")][Lp("0x53")](n_276);
                                            o[Lp("0x5a")][Lp("0x54")](Lp("0x55") + r + "-cell", s_39), o[Lp("0x56")][Lp("0x57")](s_39, i[Lp("0x48")]), e.activeMarkers.includes(i[Lp("0x48")]) ? o[Lp("0x5a")][Lp("0x54")]("ck-suggestion-marker--active", s_39) : o.writer[Lp("0x5c")](Lp("0x5b"), s_39);
                                        }
                                    }
                                    catch (e_679_1) { e_679 = { error: e_679_1 }; }
                                    finally {
                                        try {
                                            if (n_274_1 && !n_274_1.done && (_j = n_274.return)) _j.call(n_274);
                                        }
                                        finally { if (e_679) throw e_679.error; }
                                    }
                                }
                            }, { priority: Lp("0x60") }), t[Lp("0x5d")][Lp("0x46")].on(Lp("0x61"), function (t, n, i) {
                                var e_680, _j;
                                var _q = e[Lp("0xd")](n[Lp("0x48")]), o = _q.type, r = _q.subType, s = i[Lp("0x56")].markerNameToElements(n[Lp("0x48")]);
                                if (s)
                                    try {
                                        for (var s_40 = __values(s), s_40_1 = s_40.next(); !s_40_1.done; s_40_1 = s_40.next()) {
                                            var t_358 = s_40_1.value;
                                            (t_358.is("td") || t_358.is("th")) && ("formatBlock" == o ? i.writer[Lp("0x5c")](Lp("0x55") + o + Lp("0x62"), t_358) : i[Lp("0x5a")][Lp("0x5c")](Lp("0x55") + o + "-" + r, t_358), i.writer.removeClass("ck-suggestion-marker--active", t_358), i[Lp("0x56")][Lp("0x63")](t_358, n[Lp("0x48")]));
                                        }
                                    }
                                    catch (e_680_1) { e_680 = { error: e_680_1 }; }
                                    finally {
                                        try {
                                            if (s_40_1 && !s_40_1.done && (_j = s_40.return)) _j.call(s_40);
                                        }
                                        finally { if (e_680) throw e_680.error; }
                                    }
                            }, { priority: Lp("0x60") }), e[Lp("0x64")][Lp("0x65")](function (t) { if (Lp("0xf") == t[Lp("0x2f")] || "tableColumn" == t[Lp("0x2f")]) {
                                var e_681 = Lp("0x66") == t[Lp("0x67")] ? Lp("0x68") : Lp("0x69"), n_277 = Lp("0xf") == t[Lp("0x2f")] ? Lp("0x6a") : Lp("0x6b"), i_172 = _this.T(t), o_110 = Lp("0xf") == t.subType ? i_172.maxRow - i_172[Lp("0x6c")] + 1 : i_172[Lp("0x6d")] - i_172[Lp("0x6e")] + 1;
                                return [{ label: 1 == o_110 ? e_681 + " " + n_277 : e_681 + " " + o_110 + " " + n_277 + "s" }];
                            } }), e[Lp("0x64")][Lp("0x65")](function (t) { var e = t.data; if (e && (Lp("0x32") == e.commandName || Lp("0x3d") == e.commandName)) {
                                var t_359 = "setTableRowHeader" == e.commandName ? Lp("0x6f") : Lp("0x70");
                                return [{ label: Lp("0x71"), description: Lp("0x72") + (e[Lp("0x73")][0][Lp("0x35")] ? Lp("0x74") : Lp("0x75") + t_359) }];
                            } });
                            var _loop_15 = function (t_360) {
                                e[Lp("0x64")][Lp("0x65")](function (e) { var n = e.data; if (n && n.commandName == t_360)
                                    return [{ label: "Format", description: Lp("0x76") + t_360[Lp("0x27")](14)[Lp("0x28")]() }]; }), e[Lp("0x77")][Lp("0x78")](Lp("0x79"), t_360, "accept", o);
                            };
                            try {
                                for (var _15 = __values([Lp("0x3e"), Lp("0x3f"), Lp("0x40"), "mergeTableCellLeft"]), _16 = _15.next(); !_16.done; _16 = _15.next()) {
                                    var t_360 = _16.value;
                                    _loop_15(t_360);
                                }
                            }
                            catch (e_668_1) { e_668 = { error: e_668_1 }; }
                            finally {
                                try {
                                    if (_16 && !_16.done && (_2 = _15.return)) _2.call(_15);
                                }
                                finally { if (e_668) throw e_668.error; }
                            }
                            var _loop_16 = function (t_361) {
                                e[Lp("0x64")][Lp("0x65")](function (e) { var n = e.data; if (n && n.commandName == t_361)
                                    return [{ label: Lp("0x71"), description: Lp("0x7b") + t_361[Lp("0x27")](14).toLowerCase() }]; }), e[Lp("0x77")][Lp("0x78")](Lp("0x79"), t_361, "accept", o);
                            };
                            try {
                                for (var _17 = __values([Lp("0x7a"), Lp("0x42")]), _18 = _17.next(); !_18.done; _18 = _17.next()) {
                                    var t_361 = _18.value;
                                    _loop_16(t_361);
                                }
                            }
                            catch (e_669_1) { e_669 = { error: e_669_1 }; }
                            finally {
                                try {
                                    if (_18 && !_18.done && (_3 = _17.return)) _3.call(_17);
                                }
                                finally { if (e_669) throw e_669.error; }
                            }
                            var i = function (t, e) {
                                var e_682, _j;
                                var i = e[Lp("0x1f")](t), o = t[Lp("0x23")][Lp("0x23")], r = n.getCellLocation(t);
                                try {
                                    for (var _q = __values(_this.u), _z = _q.next(); !_z.done; _z = _q.next()) {
                                        var e_683 = _z.value;
                                        var n_278 = e_683[Lp("0x2f")][Lp("0x27")](5), s_41 = n_278[Lp("0x28")](), a_21 = s_41.substr(0, 3) + "span", c_15 = Lp("0x2a") + n_278, l_8 = Lp("0x7c") + n_278;
                                        if (!e_683[Lp("0x7d")])
                                            continue;
                                        if (o != e_683[Lp("0x7e")]().start[Lp("0x23")][Lp("0x23")])
                                            continue;
                                        if (e_683.isIntersectingWithRange(i))
                                            continue;
                                        var d_6 = t[Lp("0x7f")](a_21) ? t[Lp("0x30")](a_21) - 1 : 0, u_6 = _this.T(e_683), h_3 = u_6[c_15], m_2 = u_6[l_8];
                                        h_3 <= r[s_41] && r[s_41] + d_6 <= m_2 && e_683[Lp("0x31")](i);
                                    }
                                }
                                catch (e_682_1) { e_682 = { error: e_682_1 }; }
                                finally {
                                    try {
                                        if (_z && !_z.done && (_j = _q.return)) _j.call(_q);
                                    }
                                    finally { if (e_682) throw e_682.error; }
                                }
                            };
                            t[Lp("0x7")][Lp("0x8")][Lp("0x80")](function (e) {
                                var e_684, _j, e_685, _q;
                                try {
                                    for (var _z = __values(t.model.document[Lp("0xb")].getChanges()), _0 = _z.next(); !_0.done; _0 = _z.next()) {
                                        var n_279 = _0.value;
                                        if (Lp("0x81") == n_279[Lp("0x67")])
                                            if ("tableRow" == n_279[Lp("0x51")])
                                                try {
                                                    for (var _1 = __values(n_279.position[Lp("0x4c")][Lp("0x1d")]()), _2 = _1.next(); !_2.done; _2 = _1.next()) {
                                                        var t_362 = _2.value;
                                                        i(t_362, e);
                                                    }
                                                }
                                                catch (e_685_1) { e_685 = { error: e_685_1 }; }
                                                finally {
                                                    try {
                                                        if (_2 && !_2.done && (_q = _1.return)) _q.call(_1);
                                                    }
                                                    finally { if (e_685) throw e_685.error; }
                                                }
                                            else
                                                Lp("0x2b") == n_279[Lp("0x51")] && i(n_279[Lp("0x82")].nodeAfter, e);
                                    }
                                }
                                catch (e_684_1) { e_684 = { error: e_684_1 }; }
                                finally {
                                    try {
                                        if (_0 && !_0.done && (_j = _z.return)) _j.call(_z);
                                    }
                                    finally { if (e_684) throw e_684.error; }
                                }
                            });
                            var _loop_17 = function (e_686) {
                                var n_280 = t[Lp("0x43")][Lp("0x5")](e_686);
                                n_280.on(Lp("0x83"), function (e, i, o) { if (o) {
                                    var i_173 = t.model.document.selection[Lp("0x18")]()[Lp("0x19")]()[Lp("0x1a")](function (t) { return t.is(Lp("0x2b")); });
                                    _this.R(n_280[Lp("0x84")], i_173) || (e[Lp("0x85")] = !1, e.stop());
                                } }, { priority: Lp("0x12") });
                            };
                            try {
                                for (var _19 = __values([Lp("0x3e"), Lp("0x40"), Lp("0x41"), Lp("0x3f")]), _20 = _19.next(); !_20.done; _20 = _19.next()) {
                                    var e_686 = _20.value;
                                    _loop_17(e_686);
                                }
                            }
                            catch (e_670_1) { e_670 = { error: e_670_1 }; }
                            finally {
                                try {
                                    if (_20 && !_20.done && (_4 = _19.return)) _4.call(_19);
                                }
                                finally { if (e_670) throw e_670.error; }
                            }
                            function o(e, n) { t[Lp("0x7")][Lp("0x16")](function (i) { var o = n.commandName, r = n.commandParams; var s = e[0][Lp("0x5f")].nodeBefore; r && r[0] && !1 === r[0][Lp("0x35")] && (s = e[0].start[Lp("0x4c")]); var a = i[Lp("0x86")](s); if ("$graveyard" == a.root[Lp("0x87")])
                                return; var c = sa.fromRange(t[Lp("0x7")][Lp("0x8")][Lp("0x17")].getFirstRange()); i.setSelection(a), t.commands[Lp("0x5")](o)[Lp("0x88")](), r[Lp("0x89")]({ forceDefaultExecution: !0 }), t[Lp("0x8a")].apply(t, __spread([o], r)), Lp("0x8b") != c[Lp("0x8c")][Lp("0x87")] && i[Lp("0x8d")](c), c[Lp("0x8e")](); }); }
                            function r(e) {
                                var e_687, _j, e_688, _q, e_689, _z;
                                var n = sa[Lp("0x8f")](t.model[Lp("0x8")][Lp("0x17")][Lp("0x7e")]()), i = [];
                                try {
                                    for (var e_690 = __values(e), e_690_1 = e_690.next(); !e_690_1.done; e_690_1 = e_690.next()) {
                                        var t_363 = e_690_1.value;
                                        try {
                                            for (var _0 = __values(t_363[Lp("0x52")]({ shallow: !0 })), _1 = _0.next(); !_1.done; _1 = _0.next()) {
                                                var e_691 = _1.value;
                                                i[Lp("0x89")](e_691);
                                            }
                                        }
                                        catch (e_688_1) { e_688 = { error: e_688_1 }; }
                                        finally {
                                            try {
                                                if (_1 && !_1.done && (_q = _0.return)) _q.call(_0);
                                            }
                                            finally { if (e_688) throw e_688.error; }
                                        }
                                    }
                                }
                                catch (e_687_1) { e_687 = { error: e_687_1 }; }
                                finally {
                                    try {
                                        if (e_690_1 && !e_690_1.done && (_j = e_690.return)) _j.call(e_690);
                                    }
                                    finally { if (e_687) throw e_687.error; }
                                }
                                var o = new Set, r = t[Lp("0x7")][Lp("0x90")]();
                                var _loop_18 = function (e_692) {
                                    var n_281 = e_692[Lp("0x23")];
                                    o[Lp("0x3")](n_281) || (o[Lp("0x11")](n_281), t[Lp("0x7")].enqueueChange(r, function (n) { n[Lp("0x8d")](n[Lp("0x91")](e_692, 0)), t[Lp("0x43")].get("removeTableRow").refresh(), t[Lp("0x8a")]("removeTableRow", { forceDefaultExecution: !0 }); }));
                                };
                                try {
                                    for (var i_174 = __values(i), i_174_1 = i_174.next(); !i_174_1.done; i_174_1 = i_174.next()) {
                                        var e_692 = i_174_1.value;
                                        _loop_18(e_692);
                                    }
                                }
                                catch (e_689_1) { e_689 = { error: e_689_1 }; }
                                finally {
                                    try {
                                        if (i_174_1 && !i_174_1.done && (_z = i_174.return)) _z.call(i_174);
                                    }
                                    finally { if (e_689) throw e_689.error; }
                                }
                                t[Lp("0x7")][Lp("0x92")](r, function (t) { Lp("0x8b") != n[Lp("0x8c")][Lp("0x87")] && t[Lp("0x8d")](n), n[Lp("0x8e")](); });
                            }
                            function s(e) { t[Lp("0x7")][Lp("0x16")](function (n) {
                                var e_693, _j, e_694, _q, e_695, _z;
                                var i = sa[Lp("0x8f")](t[Lp("0x7")][Lp("0x8")].selection[Lp("0x7e")]()), o = [];
                                try {
                                    for (var e_696 = __values(e), e_696_1 = e_696.next(); !e_696_1.done; e_696_1 = e_696.next()) {
                                        var t_364 = e_696_1.value;
                                        try {
                                            for (var _0 = __values(t_364[Lp("0x52")]({ shallow: !0 })), _1 = _0.next(); !_1.done; _1 = _0.next()) {
                                                var e_697 = _1.value;
                                                o.push(e_697);
                                            }
                                        }
                                        catch (e_694_1) { e_694 = { error: e_694_1 }; }
                                        finally {
                                            try {
                                                if (_1 && !_1.done && (_q = _0.return)) _q.call(_0);
                                            }
                                            finally { if (e_694) throw e_694.error; }
                                        }
                                    }
                                }
                                catch (e_693_1) { e_693 = { error: e_693_1 }; }
                                finally {
                                    try {
                                        if (e_696_1 && !e_696_1.done && (_j = e_696.return)) _j.call(e_696);
                                    }
                                    finally { if (e_693) throw e_693.error; }
                                }
                                try {
                                    for (var o_111 = __values(o), o_111_1 = o_111.next(); !o_111_1.done; o_111_1 = o_111.next()) {
                                        var e_698 = o_111_1.value;
                                        "$graveyard" != e_698[Lp("0x8c")].rootName && (n[Lp("0x8d")](n.createPositionAt(e_698, 0)), t[Lp("0x43")].get(Lp("0x26")).refresh(), t[Lp("0x8a")]("removeTableColumn", { forceDefaultExecution: !0 }));
                                    }
                                }
                                catch (e_695_1) { e_695 = { error: e_695_1 }; }
                                finally {
                                    try {
                                        if (o_111_1 && !o_111_1.done && (_z = o_111.return)) _z.call(o_111);
                                    }
                                    finally { if (e_695) throw e_695.error; }
                                }
                                Lp("0x8b") != i.root[Lp("0x87")] && n[Lp("0x8d")](i), i.detach();
                            }); }
                            function a(t, e) { return e.every(function (e) { return t.some(function (t) { return t[Lp("0x5f")][Lp("0x93")](e[Lp("0x4b")]) || e[Lp("0x5f")][Lp("0x93")](t.start); }); }); }
                            function c(t, e) { return t[Lp("0x94")](function (t) { return e[Lp("0x94")](function (e) { return t[Lp("0x5f")].isTouching(e[Lp("0x4b")]); }); }); }
                            e[Lp("0x77")][Lp("0x78")](Lp("0x79"), "setTableRowHeader", Lp("0x95"), o), e[Lp("0x77")][Lp("0x78")]("formatBlock", Lp("0x3d"), "accept", o), e[Lp("0x77")][Lp("0x78")](Lp("0x66"), Lp("0xf"), Lp("0x96"), r), e[Lp("0x77")][Lp("0x78")](Lp("0x97"), Lp("0xf"), Lp("0x95"), r), e[Lp("0x77")][Lp("0x78")]("insertion", Lp("0x10"), Lp("0x96"), s), e._suggestionFactory[Lp("0x78")]("deletion", Lp("0x10"), "accept", s), e[Lp("0x77")].registerCustomCallback("insertion", Lp("0x10"), Lp("0x98"), a), e._suggestionFactory.registerCustomCallback("deletion", "tableColumn", Lp("0x98"), a), e[Lp("0x77")][Lp("0x78")](Lp("0x66"), Lp("0xf"), Lp("0x98"), c), e[Lp("0x77")][Lp("0x78")]("deletion", Lp("0xf"), "join", c);
                        };
                        Vp.prototype.T = function (t) {
                            var e_699, _j;
                            var e = this[Lp("0x1")][Lp("0x2")][Lp("0x5")](Lp("0x99"));
                            var n = Number[Lp("0x9a")], i = Number[Lp("0x9b")], o = Number[Lp("0x9a")], r = Number[Lp("0x9b")];
                            try {
                                for (var _q = __values(t.getRanges()), _z = _q.next(); !_z.done; _z = _q.next()) {
                                    var s_42 = _z.value;
                                    var t_365 = s_42[Lp("0x4b")].nodeAfter, _0 = e[Lp("0x24")](t_365), a_22 = _0.row, c_16 = _0.column, l_9 = t_365.hasAttribute(Lp("0x9c")) ? t_365.getAttribute(Lp("0x9c")) - 1 : 0, d_7 = t_365[Lp("0x7f")](Lp("0x9d")) ? t_365[Lp("0x30")](Lp("0x9d")) - 1 : 0;
                                    n = a_22 < n ? a_22 : n, i = a_22 + l_9 > i ? a_22 + l_9 : i, o = c_16 < o ? c_16 : o, r = c_16 + d_7 > r ? c_16 + d_7 : r;
                                }
                            }
                            catch (e_699_1) { e_699 = { error: e_699_1 }; }
                            finally {
                                try {
                                    if (_z && !_z.done && (_j = _q.return)) _j.call(_q);
                                }
                                finally { if (e_699) throw e_699.error; }
                            }
                            return { minRow: n, maxRow: i, minColumn: o, maxColumn: r };
                        };
                        Vp.prototype.R = function (t, e) {
                            var e_700, _j, e_701, _q, e_702, _z;
                            var n = this[Lp("0x1")][Lp("0x2")].get(Lp("0x6")), i = this[Lp("0x1")].model[Lp("0x1f")](t), o = this[Lp("0x1")][Lp("0x7")][Lp("0x1f")](e), r = new Set, s = new Set;
                            try {
                                for (var _0 = __values(n[Lp("0x9e")]()), _1 = _0.next(); !_1.done; _1 = _0.next()) {
                                    var t_366 = _1.value;
                                    if (("insertion" == t_366[Lp("0x67")] || "deletion" == t_366[Lp("0x67")]) && t_366[Lp("0x7d")])
                                        try {
                                            for (var _2 = __values(t_366[Lp("0x9f")]()), _3 = _2.next(); !_3.done; _3 = _2.next()) {
                                                var e_703 = _3.value;
                                                e_703[Lp("0xa0")](i, !0) && r[Lp("0x11")](t_366[Lp("0x67")] + ":" + t_366.author.id), e_703[Lp("0xa0")](o, !0) && s.add(t_366[Lp("0x67")] + ":" + t_366[Lp("0xa1")].id);
                                            }
                                        }
                                        catch (e_701_1) { e_701 = { error: e_701_1 }; }
                                        finally {
                                            try {
                                                if (_3 && !_3.done && (_q = _2.return)) _q.call(_2);
                                            }
                                            finally { if (e_701) throw e_701.error; }
                                        }
                                }
                            }
                            catch (e_700_1) { e_700 = { error: e_700_1 }; }
                            finally {
                                try {
                                    if (_1 && !_1.done && (_j = _0.return)) _j.call(_0);
                                }
                                finally { if (e_700) throw e_700.error; }
                            }
                            if (r.size != s[Lp("0xa2")])
                                return !1;
                            try {
                                for (var r_58 = __values(r), r_58_1 = r_58.next(); !r_58_1.done; r_58_1 = r_58.next()) {
                                    var t_367 = r_58_1.value;
                                    if (!s[Lp("0x3")](t_367))
                                        return !1;
                                }
                            }
                            catch (e_702_1) { e_702 = { error: e_702_1 }; }
                            finally {
                                try {
                                    if (r_58_1 && !r_58_1.done && (_z = r_58.return)) _z.call(r_58);
                                }
                                finally { if (e_702) throw e_702.error; }
                            }
                            return !0;
                        };
                        return Vp;
                    }(Ad));
                    n(143);
                    var zp = ["get", "TrackChangesEditing", "enableCommand", "mediaEmbed", "editor", "MediaEmbedEditing"];
                    !function (t, e) { !function (e) { for (; --e;)
                        t.push(t.shift()); }(++e); }(zp, 214);
                    var jp = function (t, e) { return zp[t -= 0]; };
                    var Fp = /** @class */ (function (_super) {
                        __extends(Fp, _super);
                        function Fp() {
                            return _super !== null && _super.apply(this, arguments) || this;
                        }
                        Fp.prototype.afterInit = function () { var t = this[jp("0x0")]; t.plugins.has(jp("0x1")) && t.plugins[jp("0x2")](jp("0x3"))[jp("0x4")](jp("0x5")); };
                        return Fp;
                    }(Ad));
                    var Bp = ["getAttribute", "listIndent", "getItems", "push", "createRangeOn", "listItem"];
                    !function (t, e) { !function (e) { for (; --e;)
                        t.push(t.shift()); }(++e); }(Bp, 248);
                    var Hp = function (t, e) { return Bp[t -= 0]; };
                    function Up(t, e, n) {
                        var e_704, _j;
                        var i = [];
                        try {
                            for (var _q = __values(e[Hp("0x0")]()), _z = _q.next(); !_z.done; _z = _q.next()) {
                                var o_112 = _z.value;
                                o_112.hasAttribute(t) && i[Hp("0x1")](n[Hp("0x2")](o_112));
                            }
                        }
                        catch (e_704_1) { e_704 = { error: e_704_1 }; }
                        finally {
                            try {
                                if (_z && !_z.done && (_j = _q.return)) _j.call(_q);
                            }
                            finally { if (e_704) throw e_704.error; }
                        }
                        return i;
                    }
                    function Wp(t) { var e = []; if (t.is(Hp("0x3"))) {
                        var n_282 = t.nextSibling;
                        for (; n_282 && n_282.is(Hp("0x3")) && n_282[Hp("0x4")](Hp("0x5")) > 0;)
                            e[Hp("0x1")](n_282), n_282 = n_282.nextSibling;
                    } return e; }
                    var qp = ["markInlineFormat", "_descriptionFactory", "registerDescriptionCallback", "commandParams", "add", "remove", "commandName", "BoldEditing", "ItalicEditing", "UnderlineEditing", "CodeEditing", "StrikethroughEditing", "SubscriptEditing", "SuperscriptEditing", "editor", "get", "TrackChangesEditing", "plugins", "has", "toLowerCase", "forceValue", "value", "model", "document", "getFirstRange", "isCollapsed", "change"];
                    !function (t, e) { !function (e) { for (; --e;)
                        t.push(t.shift()); }(++e); }(qp, 358);
                    var Yp = function (t, e) { return qp[t -= 0]; };
                    var $p = [Yp("0x0"), Yp("0x1"), Yp("0x2"), Yp("0x3"), Yp("0x4"), Yp("0x5"), Yp("0x6")];
                    var Gp = /** @class */ (function (_super) {
                        __extends(Gp, _super);
                        function Gp() {
                            return _super !== null && _super.apply(this, arguments) || this;
                        }
                        Gp.prototype.afterInit = function () {
                            var e_705, _j;
                            var t = this[Yp("0x7")], e = t.plugins[Yp("0x8")](Yp("0x9"));
                            var _loop_19 = function (n_283) {
                                if (!t[Yp("0xa")][Yp("0xb")](n_283))
                                    return "continue";
                                var i_175 = n_283.slice(0, -7)[Yp("0xc")](), o_113 = t.commands[Yp("0x8")](i_175);
                                e.enableCommand(i_175, function (n, r) {
                                    if (r === void 0) { r = {}; }
                                    var s = void 0 !== r.forceValue ? r[Yp("0xd")] : !o_113[Yp("0xe")], a = t[Yp("0xf")][Yp("0x10")].selection[Yp("0x11")]();
                                    a[Yp("0x12")] ? n(r) : t[Yp("0xf")][Yp("0x13")](function () {
                                        var e_706, _j;
                                        var n = s ? [a] : Up(i_175, a, t[Yp("0xf")]);
                                        try {
                                            for (var n_284 = __values(n), n_284_1 = n_284.next(); !n_284_1.done; n_284_1 = n_284.next()) {
                                                var t_368 = n_284_1.value;
                                                e[Yp("0x14")](t_368, { commandName: i_175, commandParams: [{ forceValue: s }] });
                                            }
                                        }
                                        catch (e_706_1) { e_706 = { error: e_706_1 }; }
                                        finally {
                                            try {
                                                if (n_284_1 && !n_284_1.done && (_j = n_284.return)) _j.call(n_284);
                                            }
                                            finally { if (e_706) throw e_706.error; }
                                        }
                                    });
                                }), e[Yp("0x15")][Yp("0x16")](function (t) { var e = t.data; if (e && e.commandName == i_175)
                                    return [{ label: "Format", description: (e[Yp("0x17")][0][Yp("0xd")] ? Yp("0x18") : Yp("0x19")) + " " + e[Yp("0x1a")] }]; });
                            };
                            try {
                                for (var $p_1 = __values($p), $p_1_1 = $p_1.next(); !$p_1_1.done; $p_1_1 = $p_1.next()) {
                                    var n_283 = $p_1_1.value;
                                    _loop_19(n_283);
                                }
                            }
                            catch (e_705_1) { e_705 = { error: e_705_1 }; }
                            finally {
                                try {
                                    if ($p_1_1 && !$p_1_1.done && (_j = $p_1.return)) _j.call($p_1);
                                }
                                finally { if (e_705) throw e_705.error; }
                            }
                        };
                        return Gp;
                    }(Ad));
                    var Kp = ["commandName", "Format", "change to ", "afterInit", "HeadingEditing", "get", "TrackChangesEditing", "enableCommand", "value", "from", "editor", "selection", "filter", "parent", "isObject", "model", "markBlockFormat", "heading", "blockName", "config", "heading.options", "paragraph", "_descriptionFactory", "registerElementLabel", "title", "toLowerCase", "formatBlock"];
                    !function (t, e) { !function (e) { for (; --e;)
                        t.push(t.shift()); }(++e); }(Kp, 462);
                    var Qp = function (t, e) { return Kp[t -= 0]; };
                    var Jp = /** @class */ (function (_super) {
                        __extends(Jp, _super);
                        function Jp() {
                            return _super !== null && _super.apply(this, arguments) || this;
                        }
                        Jp.prototype[Qp("0x0")] = function () {
                            var _this = this;
                            var e_707, _j;
                            var t = this.editor;
                            if (!t.plugins.has(Qp("0x1")))
                                return;
                            var e = t.plugins[Qp("0x2")](Qp("0x3"));
                            e[Qp("0x4")]("heading", function (n, i) { var o = i[Qp("0x5")], r = Array[Qp("0x6")](_this[Qp("0x7")].model.document[Qp("0x8")].getSelectedBlocks())[Qp("0x9")](function (t) { return (function (t, e, n) { return n.checkChild(t[Qp("0xa")], e) && !n[Qp("0xb")](t) && t.name != e; })(t, o, _this[Qp("0x7")].model.schema); }); t[Qp("0xc")].change(function () {
                                var e_708, _j;
                                try {
                                    for (var r_59 = __values(r), r_59_1 = r_59.next(); !r_59_1.done; r_59_1 = r_59.next()) {
                                        var t_369 = r_59_1.value;
                                        e[Qp("0xd")](t_369, { commandName: Qp("0xe"), commandParams: [i], formatGroupId: Qp("0xf") }, Wp(t_369));
                                    }
                                }
                                catch (e_708_1) { e_708 = { error: e_708_1 }; }
                                finally {
                                    try {
                                        if (r_59_1 && !r_59_1.done && (_j = r_59.return)) _j.call(r_59);
                                    }
                                    finally { if (e_708) throw e_708.error; }
                                }
                            }); });
                            try {
                                for (var _q = __values(t[Qp("0x10")][Qp("0x2")](Qp("0x11"))), _z = _q.next(); !_z.done; _z = _q.next()) {
                                    var n_285 = _z.value;
                                    Qp("0x12") != n_285[Qp("0xc")] && e[Qp("0x13")][Qp("0x14")](n_285[Qp("0xc")], n_285[Qp("0x15")][Qp("0x16")]());
                                }
                            }
                            catch (e_707_1) { e_707 = { error: e_707_1 }; }
                            finally {
                                try {
                                    if (_z && !_z.done && (_j = _q.return)) _j.call(_q);
                                }
                                finally { if (e_707) throw e_707.error; }
                            }
                            e._descriptionFactory.registerDescriptionCallback(function (t) { var n = t.type, i = t.data; if (Qp("0x17") == n && "heading" == i[Qp("0x18")]) {
                                var t_370 = i.commandParams[0][Qp("0x5")];
                                return [{ label: Qp("0x19"), description: Qp("0x1a") + e[Qp("0x13")].getItemLabel(t_370) }];
                            } });
                        };
                        return Jp;
                    }(Ad));
                    function Zp(t, e, n) { return n.createRange(Xp(t, e, !0, n), Xp(t, e, !1, n)); }
                    function Xp(t, e, n, i) { var o = t.textNode || (n ? t.nodeBefore : t.nodeAfter), r = null; for (; o && o.getAttribute("linkHref") == e;)
                        r = o, o = n ? o.previousSibling : o.nextSibling; return r ? i.createPositionAt(r, n ? "before" : "after") : t; }
                    var tx = ["document", "linkHref", "getFirstRange", "_descriptionFactory", "commandName", "Format", 'set link to "', "commandParams", "remove link", "afterInit", "editor", "plugins", "has", "LinkEditing", "get", "TrackChangesEditing", "enableCommand", "link", "model", "selection", "isCollapsed", "getFirstPosition", "getAttribute", "getRanges", "change", "markInlineFormat", "unlink"];
                    !function (t, e) { !function (e) { for (; --e;)
                        t.push(t.shift()); }(++e); }(tx, 225);
                    var ex = function (t, e) { return tx[t -= 0]; };
                    var nx = /** @class */ (function (_super) {
                        __extends(nx, _super);
                        function nx() {
                            return _super !== null && _super.apply(this, arguments) || this;
                        }
                        nx.prototype[ex("0x0")] = function () {
                            var _this = this;
                            var t = this[ex("0x1")];
                            if (!t[ex("0x2")][ex("0x3")](ex("0x4")))
                                return;
                            var e = t[ex("0x2")][ex("0x5")](ex("0x6"));
                            e[ex("0x7")](ex("0x8"), function (n, i) { var o = t[ex("0x9")].document[ex("0xa")]; var r = []; if (o[ex("0xb")]) {
                                if (!o.hasAttribute("linkHref"))
                                    return void n(i);
                                r = [Zp(o[ex("0xc")](), o[ex("0xd")]("linkHref"), t[ex("0x9")])];
                            }
                            else
                                r = o[ex("0xe")](); t[ex("0x9")][ex("0xf")](function () {
                                var e_709, _j;
                                try {
                                    for (var r_60 = __values(r), r_60_1 = r_60.next(); !r_60_1.done; r_60_1 = r_60.next()) {
                                        var t_371 = r_60_1.value;
                                        e[ex("0x10")](t_371, { commandName: "link", commandParams: [i] });
                                    }
                                }
                                catch (e_709_1) { e_709 = { error: e_709_1 }; }
                                finally {
                                    try {
                                        if (r_60_1 && !r_60_1.done && (_j = r_60.return)) _j.call(r_60);
                                    }
                                    finally { if (e_709) throw e_709.error; }
                                }
                            }); }), e[ex("0x7")](ex("0x11"), function () { var n = _this[ex("0x1")].model, i = n[ex("0x12")][ex("0xa")]; n.change(function () {
                                var e_710, _j;
                                var n = [];
                                n = i[ex("0xb")] ? [Zp(i[ex("0xc")](), i[ex("0xd")](ex("0x13")), t.model)] : Up(ex("0x13"), i[ex("0x14")](), t[ex("0x9")]);
                                try {
                                    for (var n_286 = __values(n), n_286_1 = n_286.next(); !n_286_1.done; n_286_1 = n_286.next()) {
                                        var t_372 = n_286_1.value;
                                        e.markInlineFormat(t_372, { commandName: ex("0x11"), commandParams: [] });
                                    }
                                }
                                catch (e_710_1) { e_710 = { error: e_710_1 }; }
                                finally {
                                    try {
                                        if (n_286_1 && !n_286_1.done && (_j = n_286.return)) _j.call(n_286);
                                    }
                                    finally { if (e_710) throw e_710.error; }
                                }
                            }); }), e[ex("0x15")].registerDescriptionCallback(function (t) { var e = t.data; if (e)
                                return ex("0x8") == e[ex("0x16")] ? [{ label: ex("0x17"), description: ex("0x18") + (e[ex("0x19")][0] || "#") + '"' }] : ex("0x11") == e[ex("0x16")] ? [{ label: ex("0x17"), description: ex("0x1a") }] : void 0; });
                        };
                        return nx;
                    }(Ad));
                    var ix = ["afterInit", "editor", "has", "Paragraph", "plugins", "get", "TrackChangesEditing", "enableCommand", "model", "document", "selection", "from", "filter", "checkChild", "parent", "paragraph", "isObject", "name", "change", "_descriptionFactory", "registerDescriptionCallback", "commandName", "Format"];
                    !function (t, e) { !function (e) { for (; --e;)
                        t.push(t.shift()); }(++e); }(ix, 299);
                    var ox = function (t, e) { return ix[t -= 0]; };
                    var rx = /** @class */ (function (_super) {
                        __extends(rx, _super);
                        function rx() {
                            return _super !== null && _super.apply(this, arguments) || this;
                        }
                        rx.prototype[ox("0x0")] = function () {
                            var _this = this;
                            var t = this[ox("0x1")];
                            if (!t.plugins[ox("0x2")](ox("0x3")))
                                return;
                            var e = t[ox("0x4")][ox("0x5")](ox("0x6"));
                            e[ox("0x7")]("paragraph", function (n, i) {
                                if (i === void 0) { i = {}; }
                                var o = t[ox("0x8")][ox("0x9")], r = i[ox("0xa")] || o[ox("0xa")], s = Array[ox("0xb")](r.getSelectedBlocks())[ox("0xc")](function (t) { return (function (t, e) { return e[ox("0xd")](t[ox("0xe")], ox("0xf")) && !e[ox("0x10")](t) && ox("0xf") != t[ox("0x11")]; })(t, _this[ox("0x1")].model.schema); });
                                t[ox("0x8")][ox("0x12")](function () {
                                    var e_711, _j;
                                    try {
                                        for (var s_43 = __values(s), s_43_1 = s_43.next(); !s_43_1.done; s_43_1 = s_43.next()) {
                                            var t_373 = s_43_1.value;
                                            e.markBlockFormat(t_373, { commandName: ox("0xf"), commandParams: [], formatGroupId: "blockName" }, Wp(t_373));
                                        }
                                    }
                                    catch (e_711_1) { e_711 = { error: e_711_1 }; }
                                    finally {
                                        try {
                                            if (s_43_1 && !s_43_1.done && (_j = s_43.return)) _j.call(s_43);
                                        }
                                        finally { if (e_711) throw e_711.error; }
                                    }
                                });
                            }), e[ox("0x13")][ox("0x14")](function (t) { var e = t.data; if (e && ox("0xf") == e[ox("0x15")])
                                return [{ label: ox("0x16"), description: "change to paragraph" }]; });
                        };
                        return rx;
                    }(Ad));
                    var sx = ["TrackChangesEditing", "blockQuote", "enableCommand", "model", "selection", "forceValue", "value", "from", "getSelectedBlocks", "filter", "checkChild", "parent", "schema", "createPositionBefore", "nextSibling", "push", "createRange", "isObject", "createPositionAfter", "createPositionAt", "end", "change", "markBlockFormat", "_descriptionFactory", "block quote", "commandName", "Format", "commandParams", "add", "remove", " block quote", "length", "before", "afterInit", "editor", "plugins", "BlockQuoteEditing", "get"];
                    !function (t, e) { !function (e) { for (; --e;)
                        t.push(t.shift()); }(++e); }(sx, 299);
                    var ax = function (t, e) { return sx[t -= 0]; };
                    var cx = /** @class */ (function (_super) {
                        __extends(cx, _super);
                        function cx() {
                            return _super !== null && _super.apply(this, arguments) || this;
                        }
                        cx.prototype[ax("0x0")] = function () {
                            var _this = this;
                            var t = this[ax("0x1")];
                            if (!t[ax("0x2")].has(ax("0x3")))
                                return;
                            var e = t[ax("0x2")][ax("0x4")](ax("0x5")), n = this[ax("0x1")].commands[ax("0x4")](ax("0x6"));
                            e[ax("0x7")]("blockQuote", function (i, o) {
                                if (o === void 0) { o = {}; }
                                var r = _this[ax("0x1")][ax("0x8")].document[ax("0x9")], s = o && void 0 !== o[ax("0xa")] ? o.forceValue : !n[ax("0xb")];
                                var a = [];
                                if (s) {
                                    var e_712 = Array[ax("0xc")](r[ax("0xd")]())[ax("0xe")](function (t) { return lx(t) || function (t, e) { var n = e[ax("0xf")](t[ax("0x10")], "blockQuote"), i = e[ax("0xf")](["$root", ax("0x6")], t); return n && i; }(t, _this[ax("0x1")][ax("0x8")][ax("0x11")]); });
                                    a = [function (t, e) { var n = e[ax("0x11")], i = t[t[ax("0x24")] - 1], o = e[ax("0x18")](t[0], ax("0x25")), r = n[ax("0x16")](i) ? e[ax("0x17")](i) : e[ax("0x18")](i, "end"); return e[ax("0x15")](o, r); }(e_712, t[ax("0x8")])];
                                }
                                else {
                                    var e_713 = Array.from(r[ax("0xd")]())[ax("0xe")](function (t) { return lx(t); });
                                    a = function (t, e) { var n, i = 0; var o = [], r = e[ax("0x11")]; for (; i < t.length;) {
                                        var s_44 = t[i], a_23 = t[i + 1];
                                        n || (n = e[ax("0x12")](s_44)), a_23 && s_44[ax("0x13")] == a_23 || (o[ax("0x14")](e[ax("0x15")](n, r[ax("0x16")](s_44) ? e[ax("0x17")](s_44) : e[ax("0x18")](s_44, ax("0x19")))), n = null), i++;
                                    } return o; }(e_713, t.model);
                                }
                                t[ax("0x8")][ax("0x1a")](function () {
                                    var e_714, _j;
                                    try {
                                        for (var a_24 = __values(a), a_24_1 = a_24.next(); !a_24_1.done; a_24_1 = a_24.next()) {
                                            var t_374 = a_24_1.value;
                                            e[ax("0x1b")](t_374, { commandName: ax("0x6"), commandParams: [{ forceValue: s }] });
                                        }
                                    }
                                    catch (e_714_1) { e_714 = { error: e_714_1 }; }
                                    finally {
                                        try {
                                            if (a_24_1 && !a_24_1.done && (_j = a_24.return)) _j.call(a_24);
                                        }
                                        finally { if (e_714) throw e_714.error; }
                                    }
                                });
                            }), e[ax("0x1c")].registerElementLabel(ax("0x6"), ax("0x1d")), e._descriptionFactory.registerDescriptionCallback(function (t) { var e = t.data; if (e && ax("0x6") == e[ax("0x1e")])
                                return [{ label: ax("0x1f"), description: (e[ax("0x20")][0][ax("0xa")] ? ax("0x21") : ax("0x22")) + ax("0x23") }]; });
                        };
                        return cx;
                    }(Ad));
                    function lx(t) { return ax("0x6") == t[ax("0x10")].name; }
                    var dx = ["todoList", "indentList", "outdentList", "todoListCheck", "_selectedElements", "todoListChecked", "value", "_descriptionFactory", "list item", "commandName", "getFirstRange", "to-do", "replace", "Format", "start", "nodeAfter", "change list to ", " list", "change to ", " list item", "indent list item", "commandParams", "forceValue", "uncheck", "previousSibling", "push", "editor", "plugins", "has", "ListEditing", "get", "TrackChangesEditing", "TodoListEditing", "selection", "commands", "from", "filter", "checkChild", "parent", "isObject", "getAttribute", "listType", "listItem", "add", "schema", "model", "findIndex", "name", "document", "getSelectedBlocks", "createRange", "createPositionAt", "before", "length", "end", "change", "markBlockFormat", "listIndent", "nextSibling", "enableCommand", "numberedList"];
                    !function (t, e) { !function (e) { for (; --e;)
                        t.push(t.shift()); }(++e); }(dx, 331);
                    var ux = function (t, e) { return dx[t -= 0]; };
                    var hx = /** @class */ (function (_super) {
                        __extends(hx, _super);
                        function hx() {
                            return _super !== null && _super.apply(this, arguments) || this;
                        }
                        hx.prototype.afterInit = function () { var t = this[ux("0x0")]; if (!t[ux("0x1")][ux("0x2")](ux("0x3")))
                            return; var e = t[ux("0x1")][ux("0x4")](ux("0x5")), n = t.plugins.has(ux("0x6")); function i(n) { return function () { var i = t.model.document[ux("0x7")]; if (t[ux("0x8")][ux("0x4")](n).value)
                            return void t.execute("paragraph", {}); var o = n.slice(0, -4), r = function (t, e, n) {
                            var e_715, _j;
                            var i = Array[ux("0x9")](t)[ux("0xa")](function (t) { return (function (t, e) { return e[ux("0xb")](t[ux("0xc")], "listItem") && !e[ux("0xd")](t); })(t, n); });
                            i = i[ux("0xa")](function (t) { return !t.is("listItem") || t[ux("0xe")](ux("0xf")) != e; });
                            var o = new Set;
                            try {
                                for (var i_176 = __values(i), i_176_1 = i_176.next(); !i_176_1.done; i_176_1 = i_176.next()) {
                                    var t_375 = i_176_1.value;
                                    t_375.is(ux("0x10")) ? o[ux("0x11")](mx(t_375)) : o[ux("0x11")](t_375);
                                }
                            }
                            catch (e_715_1) { e_715 = { error: e_715_1 }; }
                            finally {
                                try {
                                    if (i_176_1 && !i_176_1.done && (_j = i_176.return)) _j.call(i_176);
                                }
                                finally { if (e_715) throw e_715.error; }
                            }
                            return Array.from(o);
                        }(i.getSelectedBlocks(), o, t.model[ux("0x12")]); t[ux("0x13")].change(function () {
                            var e_716, _j;
                            try {
                                for (var r_61 = __values(r), r_61_1 = r_61.next(); !r_61_1.done; r_61_1 = r_61.next()) {
                                    var t_376 = r_61_1.value;
                                    e.markBlockFormat(t_376, { commandName: n, commandParams: [], formatGroupId: "blockName" }, gx(t_376));
                                }
                            }
                            catch (e_716_1) { e_716 = { error: e_716_1 }; }
                            finally {
                                try {
                                    if (r_61_1 && !r_61_1.done && (_j = r_61.return)) _j.call(r_61);
                                }
                                finally { if (e_716) throw e_716.error; }
                            }
                        }); }; } function o(n) { return function () { var i = function (t) { var e = (t = Array[ux("0x9")](t))[ux("0x14")](function (t) { return ux("0x10") != t[ux("0x15")]; }); return e > -1 && (t = t.slice(0, e)), t; }(t[ux("0x13")][ux("0x16")].selection[ux("0x17")]()), o = t[ux("0x13")][ux("0x18")](t[ux("0x13")][ux("0x19")](i[0], ux("0x1a")), t[ux("0x13")][ux("0x19")](i[i[ux("0x1b")] - 1], ux("0x1c"))); t.model[ux("0x1d")](function () { e[ux("0x1e")](o, { commandName: n, commandParams: [], formatGroupId: "listIndent" }, function (t) {
                            var e_717, _j;
                            var e = new Set;
                            try {
                                for (var t_377 = __values(t), t_377_1 = t_377.next(); !t_377_1.done; t_377_1 = t_377.next()) {
                                    var n_287 = t_377_1.value;
                                    var t_378 = n_287.nextSibling;
                                    for (; t_378 && t_378.getAttribute(ux("0x1f")) > n_287[ux("0xe")](ux("0x1f"));)
                                        e[ux("0x11")](t_378), t_378 = t_378[ux("0x20")];
                                }
                            }
                            catch (e_717_1) { e_717 = { error: e_717_1 }; }
                            finally {
                                try {
                                    if (t_377_1 && !t_377_1.done && (_j = t_377.return)) _j.call(t_377);
                                }
                                finally { if (e_717) throw e_717.error; }
                            }
                            return Array[ux("0x9")](e);
                        }(i)); }); }; } e[ux("0x21")](ux("0x22"), i(ux("0x22"))), e.enableCommand("bulletedList", i("bulletedList")), n && e.enableCommand(ux("0x23"), i(ux("0x23"))), e[ux("0x21")](ux("0x24"), o(ux("0x24"))), e[ux("0x21")]("outdentList", o(ux("0x25"))), n && e[ux("0x21")](ux("0x26"), function () { var n = t[ux("0x8")].get("todoListCheck"), i = Array[ux("0x9")](n[ux("0x27")]); i[ux("0xa")](function (t) { return t[ux("0xe")](ux("0x28")) != n[ux("0x29")]; }), t[ux("0x13")][ux("0x1d")](function () {
                            var e_718, _j;
                            try {
                                for (var i_177 = __values(i), i_177_1 = i_177.next(); !i_177_1.done; i_177_1 = i_177.next()) {
                                    var t_379 = i_177_1.value;
                                    e[ux("0x1e")](t_379, { commandName: ux("0x26"), commandParams: [{ forceValue: !n.value }] });
                                }
                            }
                            catch (e_718_1) { e_718 = { error: e_718_1 }; }
                            finally {
                                try {
                                    if (i_177_1 && !i_177_1.done && (_j = i_177.return)) _j.call(i_177);
                                }
                                finally { if (e_718) throw e_718.error; }
                            }
                        }); }), e[ux("0x2a")].registerElementLabel(ux("0x10"), ux("0x2b")), e[ux("0x2a")].registerDescriptionCallback(function (t) { var e = t.data; if (e) {
                            if (ux("0x22") == e[ux("0x2c")] || "bulletedList" == e[ux("0x2c")] || ux("0x23") == e.commandName) {
                                var n_288 = t[ux("0x2d")](), i_178 = ux("0x23") == e[ux("0x2c")] ? ux("0x2e") : e.commandName[ux("0x2f")]("List", "");
                                var o_114;
                                return [{ label: ux("0x30"), description: o_114 = ux("0x10") == n_288[ux("0x31")][ux("0x32")][ux("0x15")] ? ux("0x33") + i_178 + ux("0x34") : ux("0x35") + i_178 + ux("0x36") }];
                            }
                            if ("indentList" == e[ux("0x2c")] || ux("0x25") == e[ux("0x2c")])
                                return [{ label: ux("0x30"), description: ux("0x24") == e[ux("0x2c")] ? ux("0x37") : "outdent list item" }];
                            if (ux("0x26") == e[ux("0x2c")])
                                return [{ label: ux("0x30"), description: (e[ux("0x38")][0][ux("0x39")] ? "check" : ux("0x3a")) + " to-do list item" }];
                        } }); };
                        return hx;
                    }(Ad));
                    function mx(t) { var e = t[ux("0xe")](ux("0x1f")); if (0 == e)
                        return t; var n = t; for (; t[ux("0x3b")] && t[ux("0x3b")].is("listItem");) {
                        var i_179 = t[ux("0x3b")][ux("0xe")](ux("0x1f"));
                        if (i_179 == e)
                            n = t[ux("0x3b")];
                        else if (i_179 < e)
                            break;
                        t = t.previousSibling;
                    } return n; }
                    function gx(t) { var e = []; if (t.is("listItem") && t.getAttribute(ux("0x1f")) > 0) {
                        var n_289 = t.nextSibling;
                        for (; n_289 && ux("0x10") == n_289[ux("0x15")] && n_289[ux("0xe")](ux("0x1f")) == t.getAttribute("listIndent");)
                            e[ux("0x3c")](n_289), n_289 = n_289[ux("0x20")];
                    } return e; }
                    n(44);
                    n(145);
                    var fx = /** @class */ (function (_super) {
                        __extends(fx, _super);
                        function fx(t) {
                            var _this = this;
                            _this = _super.call(this, t) || this, _this.set("isEmpty", !0);
                            return _this;
                        }
                        fx.prototype.add = function (t, e) { this.find(function (e) { return e.color === t.color; }) || (_super.prototype.add.call(this, t, e), this.set("isEmpty", !1)); };
                        fx.prototype.remove = function (t) { var e = _super.prototype.remove.call(this, t); return 0 === this.length && this.set("isEmpty", !0), e; };
                        fx.prototype.hasColor = function (t) { return !!this.find(function (e) { return e.color === t; }); };
                        return fx;
                    }(oo));
                    ci(fx, Bi);
                    var px = n(13), xx = n.n(px);
                    n(147);
                    var bx = "fontSize", kx = "fontFamily";
                    function wx(t, e) {
                        var e_719, _j;
                        var n = { model: { key: t, values: [] }, view: {}, upcastAlso: {} };
                        try {
                            for (var e_720 = __values(e), e_720_1 = e_720.next(); !e_720_1.done; e_720_1 = e_720.next()) {
                                var t_380 = e_720_1.value;
                                n.model.values.push(t_380.model), n.view[t_380.model] = t_380.view, t_380.upcastAlso && (n.upcastAlso[t_380.model] = t_380.upcastAlso);
                            }
                        }
                        catch (e_719_1) { e_719 = { error: e_719_1 }; }
                        finally {
                            try {
                                if (e_720_1 && !e_720_1.done && (_j = e_720.return)) _j.call(e_720);
                            }
                            finally { if (e_719) throw e_719.error; }
                        }
                        return n;
                    }
                    function _x(t) { return "string" == typeof t ? { model: t.replace(/ /g, ""), label: t, hasBorder: !1, view: { name: "span", styles: { color: t } } } : { model: t.color.replace(/ /g, ""), label: t.label || t.color, hasBorder: void 0 !== t.hasBorder && t.hasBorder, view: { name: "span", styles: { color: "" + t.color } } }; }
                    var vx = ["afterInit", "editor", "has", "plugins", "get", "TrackChangesEditing", "enableCommand", "value", "model", "document", "selection", "getFirstRange", "isCollapsed", "change", "_descriptionFactory", "registerDescriptionCallback", "commandName", "commandParams", ".colors", "find", "toLowerCase", "set font ", " to ", "remove font ", "FontSizeEditing", "fontSize", "size", "fontFamily", "family", "fontColor", "FontBackgroundColorEditing"];
                    !function (t, e) { !function (e) { for (; --e;)
                        t.push(t.shift()); }(++e); }(vx, 458);
                    var yx = function (t, e) { return vx[t -= 0]; };
                    var Cx = [{ pluginName: yx("0x0"), commandName: yx("0x1"), label: yx("0x2"), normalize: !1 }, { pluginName: "FontFamilyEditing", commandName: yx("0x3"), label: yx("0x4"), normalize: !1 }, { pluginName: "FontColorEditing", commandName: yx("0x5"), label: "color", normalize: !0 }, { pluginName: yx("0x6"), commandName: "fontBackgroundColor", label: "background color", normalize: !0 }];
                    var Tx = /** @class */ (function (_super) {
                        __extends(Tx, _super);
                        function Tx() {
                            return _super !== null && _super.apply(this, arguments) || this;
                        }
                        Tx.prototype[yx("0x7")] = function () {
                            var e_721, _j;
                            try {
                                for (var Cx_1 = __values(Cx), Cx_1_1 = Cx_1.next(); !Cx_1_1.done; Cx_1_1 = Cx_1.next()) {
                                    var _q = Cx_1_1.value, t_381 = _q.pluginName, e_722 = _q.commandName, n_290 = _q.label, i_180 = _q.normalize;
                                    this[yx("0x8")].plugins[yx("0x9")](t_381) && (this.l(e_722), this.g(e_722, n_290, i_180));
                                }
                            }
                            catch (e_721_1) { e_721 = { error: e_721_1 }; }
                            finally {
                                try {
                                    if (Cx_1_1 && !Cx_1_1.done && (_j = Cx_1.return)) _j.call(Cx_1);
                                }
                                finally { if (e_721) throw e_721.error; }
                            }
                        };
                        Tx.prototype.l = function (t) { var e = this[yx("0x8")]; e[yx("0xa")][yx("0xb")](yx("0xc"))[yx("0xd")](t, function (n, i) {
                            if (i === void 0) { i = {}; }
                            var o = i[yx("0xe")], r = e[yx("0xf")][yx("0x10")][yx("0x11")][yx("0x12")]();
                            r[yx("0x13")] ? n(i) : e[yx("0xf")][yx("0x14")](function () {
                                var e_723, _j;
                                var n = o ? [r] : Up(t, r, e[yx("0xf")]);
                                try {
                                    for (var n_291 = __values(n), n_291_1 = n_291.next(); !n_291_1.done; n_291_1 = n_291.next()) {
                                        var i_181 = n_291_1.value;
                                        e.plugins[yx("0xb")](yx("0xc")).markInlineFormat(i_181, { commandName: t, commandParams: [{ value: o }] });
                                    }
                                }
                                catch (e_723_1) { e_723 = { error: e_723_1 }; }
                                finally {
                                    try {
                                        if (n_291_1 && !n_291_1.done && (_j = n_291.return)) _j.call(n_291);
                                    }
                                    finally { if (e_723) throw e_723.error; }
                                }
                            });
                        }); };
                        Tx.prototype.g = function (t, e, n) { var i = this[yx("0x8")]; i[yx("0xa")].get(yx("0xc"))[yx("0x15")][yx("0x16")](function (o) { var r = o.data; if (r && r[yx("0x17")] == t) {
                            var o_115 = r[yx("0x18")][0].value;
                            if (o_115 && n) {
                                var e_724 = function (t) { return t.map(_x).filter(function (t) { return !!t; }); }(i.config.get(t + yx("0x19")));
                                o_115 = e_724[yx("0x1a")](function (t) { return t.model == o_115; }).label[yx("0x1b")]();
                            }
                            return [{ label: "Format", description: o_115 ? yx("0x1c") + e + yx("0x1d") + o_115 : yx("0x1e") + e }];
                        } }); };
                        return Tx;
                    }(Ad));
                    var Ax = ["createRangeOn", "removeFormat", "_descriptionFactory", "registerDescriptionCallback", "commandName", "Format", "remove all formatting", "getAttributes", "getAttributeProperties", "afterInit", "editor", "plugins", "RemoveFormatEditing", "get", "TrackChangesEditing", "document", "selection", "getFirstRange", "isCollapsed", "model", "change", "getItems", "schema", "markInlineFormat"];
                    !function (t, e) { !function (e) { for (; --e;)
                        t.push(t.shift()); }(++e); }(Ax, 201);
                    var Sx = function (t, e) { return Ax[t -= 0]; };
                    var Px = /** @class */ (function (_super) {
                        __extends(Px, _super);
                        function Px() {
                            return _super !== null && _super.apply(this, arguments) || this;
                        }
                        Px.prototype[Sx("0x0")] = function () { var t = this[Sx("0x1")]; if (!t[Sx("0x2")].has(Sx("0x3")))
                            return; var e = t[Sx("0x2")][Sx("0x4")](Sx("0x5")); e.enableCommand("removeFormat", function (n) { var i = t.model[Sx("0x6")][Sx("0x7")][Sx("0x8")](); i[Sx("0x9")] ? n() : t[Sx("0xa")][Sx("0xb")](function () {
                            var e_725, _j;
                            try {
                                for (var _q = __values(i[Sx("0xc")]()), _z = _q.next(); !_z.done; _z = _q.next()) {
                                    var n_292 = _z.value;
                                    Mx(n_292, t[Sx("0xa")][Sx("0xd")]) && e[Sx("0xe")](t[Sx("0xa")][Sx("0xf")](n_292), { commandName: Sx("0x10"), commandParams: [] });
                                }
                            }
                            catch (e_725_1) { e_725 = { error: e_725_1 }; }
                            finally {
                                try {
                                    if (_z && !_z.done && (_j = _q.return)) _j.call(_q);
                                }
                                finally { if (e_725) throw e_725.error; }
                            }
                        }); }), e[Sx("0x11")][Sx("0x12")](function (t) { var e = t.data; if (e && Sx("0x10") == e[Sx("0x13")])
                            return [{ label: Sx("0x14"), description: Sx("0x15") }]; }); };
                        return Px;
                    }(Ad));
                    function Mx(t, e) {
                        var e_726, _j;
                        try {
                            for (var _q = __values(t[Sx("0x16")]()), _z = _q.next(); !_z.done; _z = _q.next()) {
                                var _0 = __read(_z.value, 1), n_293 = _0[0];
                                var t_382 = e[Sx("0x17")](n_293);
                                if (t_382 && t_382.isFormatting)
                                    return !0;
                            }
                        }
                        catch (e_726_1) { e_726 = { error: e_726_1 }; }
                        finally {
                            try {
                                if (_z && !_z.done && (_j = _q.return)) _j.call(_q);
                            }
                            finally { if (e_726) throw e_726.error; }
                        }
                        return !1;
                    }
                    var Ex = ["left", "right", "center", "justify"];
                    function Ix(t) { return Ex.includes(t); }
                    function Nx(t, e) { return "rtl" == e.contentLanguageDirection ? "right" === t : "left" === t; }
                    var Rx = ["markBlockFormat", "_descriptionFactory", "registerDescriptionCallback", "commandName", "Format", "change text alignment to ", "commandParams", "afterInit", "editor", "plugins", "has", "AlignmentEditing", "get", "TrackChangesEditing", "alignment", "value", "locale", "from", "model", "selection", "filter", "checkAttribute", "change"];
                    !function (t, e) { !function (e) { for (; --e;)
                        t.push(t.shift()); }(++e); }(Rx, 191);
                    var Ox = function (t, e) { return Rx[t -= 0]; };
                    var Dx = /** @class */ (function (_super) {
                        __extends(Dx, _super);
                        function Dx() {
                            return _super !== null && _super.apply(this, arguments) || this;
                        }
                        Dx.prototype[Ox("0x0")] = function () {
                            var _this = this;
                            var t = this[Ox("0x1")];
                            if (!t[Ox("0x2")][Ox("0x3")](Ox("0x4")))
                                return;
                            var e = t[Ox("0x2")][Ox("0x5")](Ox("0x6"));
                            e.enableCommand(Ox("0x7"), function (n, i) {
                                if (i === void 0) { i = {}; }
                                var o = !i[Ox("0x8")] || Nx(i[Ox("0x8")], t[Ox("0x9")]) ? "left" : i[Ox("0x8")], r = Array[Ox("0xa")](_this[Ox("0x1")][Ox("0xb")].document[Ox("0xc")].getSelectedBlocks())[Ox("0xd")](function (t) { return (function (t, e, n) { var i = t.getAttribute(Ox("0x7")) || null; return e[Ox("0xe")](t, "alignment") && n != i; })(t, _this[Ox("0x1")][Ox("0xb")].schema, o); });
                                t[Ox("0xb")][Ox("0xf")](function () {
                                    var e_727, _j;
                                    try {
                                        for (var r_62 = __values(r), r_62_1 = r_62.next(); !r_62_1.done; r_62_1 = r_62.next()) {
                                            var t_383 = r_62_1.value;
                                            e[Ox("0x10")](t_383, { commandName: Ox("0x7"), commandParams: [{ value: o }] });
                                        }
                                    }
                                    catch (e_727_1) { e_727 = { error: e_727_1 }; }
                                    finally {
                                        try {
                                            if (r_62_1 && !r_62_1.done && (_j = r_62.return)) _j.call(r_62);
                                        }
                                        finally { if (e_727) throw e_727.error; }
                                    }
                                });
                            }), e[Ox("0x11")][Ox("0x12")](function (t) { var e = t.data; if (e && "alignment" == e[Ox("0x13")])
                                return [{ label: Ox("0x14"), description: Ox("0x15") + e[Ox("0x16")][0][Ox("0x8")] }]; });
                        };
                        return Dx;
                    }(Ad));
                    var Lx = ["_descriptionFactory", "registerDescriptionCallback", "formatInline", "commandName", "Format", "highlight with ", "config", "highlight.options", "find", "title", "toLowerCase", "remove highlight", "afterInit", "has", "plugins", "get", "TrackChangesEditing", "enableCommand", "highlight", "model", "document", "getAttribute", "value", "isCollapsed", "getFirstPosition", "hasAttribute", "item", "createRange", "getFirstRange", "change", "markInlineFormat"];
                    !function (t, e) { !function (e) { for (; --e;)
                        t.push(t.shift()); }(++e); }(Lx, 167);
                    var Vx = function (t, e) { return Lx[t -= 0]; };
                    var zx = /** @class */ (function (_super) {
                        __extends(zx, _super);
                        function zx() {
                            return _super !== null && _super.apply(this, arguments) || this;
                        }
                        zx.prototype[Vx("0x0")] = function () { var t = this.editor; if (!t.plugins[Vx("0x1")]("HighlightEditing"))
                            return; var e = t[Vx("0x2")][Vx("0x3")](Vx("0x4")); e[Vx("0x5")](Vx("0x6"), function (n, i) {
                            if (i === void 0) { i = {}; }
                            var o = t[Vx("0x7")][Vx("0x8")].selection, r = o[Vx("0x9")](Vx("0x6"));
                            var s, a = i[Vx("0xa")];
                            if (o[Vx("0xb")]) {
                                var e_728 = o[Vx("0xc")]();
                                if (!o[Vx("0xd")](Vx("0x6")))
                                    return void n(i);
                                {
                                    var n_294 = function (t) { return t[Vx("0xe")][Vx("0x9")](Vx("0x6")) === r; }, i_182 = e_728.getLastMatchingPosition(n_294, { direction: "backward" }), o_116 = e_728.getLastMatchingPosition(n_294);
                                    s = [t[Vx("0x7")][Vx("0xf")](i_182, o_116)], a == r && (a = null);
                                }
                            }
                            else {
                                var e_729 = o[Vx("0x10")]();
                                s = a ? [e_729] : Up(Vx("0x6"), e_729, t.model);
                            }
                            t[Vx("0x7")][Vx("0x11")](function () {
                                var e_730, _j;
                                try {
                                    for (var s_45 = __values(s), s_45_1 = s_45.next(); !s_45_1.done; s_45_1 = s_45.next()) {
                                        var t_384 = s_45_1.value;
                                        e[Vx("0x12")](t_384, { commandName: Vx("0x6"), commandParams: [{ value: a }] });
                                    }
                                }
                                catch (e_730_1) { e_730 = { error: e_730_1 }; }
                                finally {
                                    try {
                                        if (s_45_1 && !s_45_1.done && (_j = s_45.return)) _j.call(s_45);
                                    }
                                    finally { if (e_730) throw e_730.error; }
                                }
                            });
                        }), e[Vx("0x13")][Vx("0x14")](function (e) { var n = e.type, i = e.data; if (Vx("0x15") == n && Vx("0x6") == i[Vx("0x16")]) {
                            var e_731 = i.commandParams[0][Vx("0xa")];
                            return [{ label: Vx("0x17"), description: e_731 ? Vx("0x18") + t[Vx("0x19")][Vx("0x3")](Vx("0x1a"))[Vx("0x1b")](function (t) { return t.model == e_731; })[Vx("0x1c")][Vx("0x1d")]() : Vx("0x1e") }];
                        } }); };
                        return zx;
                    }(Ad));
                    var jx = ["get", "enableCommand", "mention", "afterInit", "editor", "plugins", "has"];
                    !function (t, e) { !function (e) { for (; --e;)
                        t.push(t.shift()); }(++e); }(jx, 493);
                    var Fx = function (t, e) { return jx[t -= 0]; };
                    var Bx = /** @class */ (function (_super) {
                        __extends(Bx, _super);
                        function Bx() {
                            return _super !== null && _super.apply(this, arguments) || this;
                        }
                        Bx.prototype[Fx("0x0")] = function () { var t = this[Fx("0x1")]; t[Fx("0x2")][Fx("0x3")]("MentionEditing") && t.plugins[Fx("0x4")]("TrackChangesEditing")[Fx("0x5")](Fx("0x6")); };
                        return Bx;
                    }(Ad));
                    var Hx = ["checkAttribute", "markBlockFormat", "_descriptionFactory", "registerDescriptionCallback", "Format", "increase indent", "commandName", "decrease indent", "editor", "plugins", "get", "TrackChangesEditing", "IndentEditing", "enableCommand", "indent", "indentBlock", "outdentBlock", "from", "model", "selection", "getSelectedBlocks", "filter", "schema"];
                    !function (t, e) { !function (e) { for (; --e;)
                        t.push(t.shift()); }(++e); }(Hx, 192);
                    var Ux = function (t, e) { return Hx[t -= 0]; };
                    var Wx = /** @class */ (function (_super) {
                        __extends(Wx, _super);
                        function Wx() {
                            return _super !== null && _super.apply(this, arguments) || this;
                        }
                        Wx.prototype.afterInit = function () {
                            var _this = this;
                            var e_732, _j;
                            var t = this[Ux("0x0")], e = t[Ux("0x1")][Ux("0x2")](Ux("0x3"));
                            if (t[Ux("0x1")].has(Ux("0x4")) && (e[Ux("0x5")](Ux("0x6")), e[Ux("0x5")]("outdent")), t.plugins.has("IndentBlock")) {
                                var _loop_20 = function (n_295) {
                                    e.enableCommand(n_295, function () { var i = Array[Ux("0x9")](_this[Ux("0x0")][Ux("0xa")].document[Ux("0xb")][Ux("0xc")]())[Ux("0xd")](function (t) { return _this[Ux("0x0")][Ux("0xa")][Ux("0xe")][Ux("0xf")](t, "blockIndent"); }); t[Ux("0xa")].change(function () {
                                        var e_733, _j;
                                        try {
                                            for (var i_183 = __values(i), i_183_1 = i_183.next(); !i_183_1.done; i_183_1 = i_183.next()) {
                                                var t_385 = i_183_1.value;
                                                e[Ux("0x10")](t_385, { commandName: n_295, commandParams: [{ value: "" }], formatGroupId: Ux("0x7") });
                                            }
                                        }
                                        catch (e_733_1) { e_733 = { error: e_733_1 }; }
                                        finally {
                                            try {
                                                if (i_183_1 && !i_183_1.done && (_j = i_183.return)) _j.call(i_183);
                                            }
                                            finally { if (e_733) throw e_733.error; }
                                        }
                                    }); });
                                };
                                try {
                                    for (var _q = __values([Ux("0x7"), Ux("0x8")]), _z = _q.next(); !_z.done; _z = _q.next()) {
                                        var n_295 = _z.value;
                                        _loop_20(n_295);
                                    }
                                }
                                catch (e_732_1) { e_732 = { error: e_732_1 }; }
                                finally {
                                    try {
                                        if (_z && !_z.done && (_j = _q.return)) _j.call(_q);
                                    }
                                    finally { if (e_732) throw e_732.error; }
                                }
                                e[Ux("0x11")][Ux("0x12")](function (t) { var e = t.data; return e && Ux("0x7") == e.commandName ? [{ label: Ux("0x13"), description: Ux("0x14") }] : e && Ux("0x8") == e[Ux("0x15")] ? [{ label: "Format", description: Ux("0x16") }] : void 0; });
                            }
                        };
                        return Wx;
                    }(Ad));
                    var qx = ["_descriptionFactory", "registerElementLabel", "code block", "afterInit", "editor", "plugins", "has", "CodeBlock", "get"];
                    !function (t, e) { !function (e) { for (; --e;)
                        t.push(t.shift()); }(++e); }(qx, 255);
                    var Yx = function (t, e) { return qx[t -= 0]; };
                    var $x = /** @class */ (function (_super) {
                        __extends($x, _super);
                        function $x() {
                            return _super !== null && _super.apply(this, arguments) || this;
                        }
                        $x.prototype[Yx("0x0")] = function () { var t = this[Yx("0x1")]; t[Yx("0x2")][Yx("0x3")](Yx("0x4")) && t[Yx("0x2")][Yx("0x5")]("TrackChangesEditing")[Yx("0x6")][Yx("0x7")]("codeBlock", Yx("0x8")); };
                        return $x;
                    }(Ad));
                    var Gx = ["charCodeAt", "sign", "toString", "boolean", "isArray", "string", "number", "keys"];
                    !function (t, e) { !function (e) { for (; --e;)
                        t.push(t.shift()); }(++e); }(Gx, 403);
                    var Kx = function (t, e) { return Gx[t -= 0]; };
                    function Qx(t) { var _j, _q, _z, _0, _1, _2; return __generator(this, function (_3) {
                        switch (_3.label) {
                            case 0:
                                if (!t) return [3 /*break*/, 15];
                                if (!(Kx("0x0") == typeof t)) return [3 /*break*/, 2];
                                return [4 /*yield*/, 1];
                            case 1:
                                _q = _3.sent();
                                return [3 /*break*/, 14];
                            case 2:
                                if (!Array[Kx("0x1")](t)) return [3 /*break*/, 4];
                                return [5 /*yield**/, __values(function (t) {
                                        var e_734, _j, t_386, t_386_1, e_735, e_734_1;
                                        return __generator(this, function (_q) {
                                            switch (_q.label) {
                                                case 0:
                                                    _q.trys.push([0, 5, 6, 7]);
                                                    t_386 = __values(t), t_386_1 = t_386.next();
                                                    _q.label = 1;
                                                case 1:
                                                    if (!!t_386_1.done) return [3 /*break*/, 4];
                                                    e_735 = t_386_1.value;
                                                    return [5 /*yield**/, __values(Qx(e_735))];
                                                case 2:
                                                    _q.sent();
                                                    _q.label = 3;
                                                case 3:
                                                    t_386_1 = t_386.next();
                                                    return [3 /*break*/, 1];
                                                case 4: return [3 /*break*/, 7];
                                                case 5:
                                                    e_734_1 = _q.sent();
                                                    e_734 = { error: e_734_1 };
                                                    return [3 /*break*/, 7];
                                                case 6:
                                                    try {
                                                        if (t_386_1 && !t_386_1.done && (_j = t_386.return)) _j.call(t_386);
                                                    }
                                                    finally { if (e_734) throw e_734.error; }
                                                    return [7 /*endfinally*/];
                                                case 7: return [2 /*return*/];
                                            }
                                        });
                                    }(t))];
                            case 3:
                                _z = _3.sent();
                                return [3 /*break*/, 13];
                            case 4:
                                if (!("object" == typeof t)) return [3 /*break*/, 6];
                                return [5 /*yield**/, __values(Jx(t))];
                            case 5:
                                _0 = _3.sent();
                                return [3 /*break*/, 12];
                            case 6:
                                if (!(Kx("0x2") == typeof t)) return [3 /*break*/, 8];
                                return [5 /*yield**/, __values(Zx(t))];
                            case 7:
                                _1 = _3.sent();
                                return [3 /*break*/, 11];
                            case 8:
                                _2 = Kx("0x3") == typeof t;
                                if (!_2) return [3 /*break*/, 10];
                                return [4 /*yield*/, t];
                            case 9:
                                _2 = (_3.sent());
                                _3.label = 10;
                            case 10:
                                _1 = _2;
                                _3.label = 11;
                            case 11:
                                _0 = _1;
                                _3.label = 12;
                            case 12:
                                _z = _0;
                                _3.label = 13;
                            case 13:
                                _q = _z;
                                _3.label = 14;
                            case 14:
                                _j = _q;
                                return [3 /*break*/, 17];
                            case 15: return [4 /*yield*/, 0];
                            case 16:
                                _j = _3.sent();
                                _3.label = 17;
                            case 17:
                                _j;
                                return [2 /*return*/];
                        }
                    }); }
                    function Jx(t) {
                        var e_736, _j, e_738, e_737, e_737_1, n_296, e_736_1;
                        return __generator(this, function (_q) {
                            switch (_q.label) {
                                case 0: return [4 /*yield*/, Xx("{")];
                                case 1:
                                    if (!(_q.sent(), t)) return [3 /*break*/, 11];
                                    e_738 = Object[Kx("0x4")](t).sort();
                                    _q.label = 2;
                                case 2:
                                    _q.trys.push([2, 9, 10, 11]);
                                    e_737 = __values(e_738), e_737_1 = e_737.next();
                                    _q.label = 3;
                                case 3:
                                    if (!!e_737_1.done) return [3 /*break*/, 8];
                                    n_296 = e_737_1.value;
                                    return [5 /*yield**/, __values(Zx(n_296))];
                                case 4:
                                    _q.sent();
                                    return [4 /*yield*/, Xx(":")];
                                case 5:
                                    _q.sent();
                                    return [5 /*yield**/, __values(Qx(t[n_296]))];
                                case 6:
                                    _q.sent();
                                    _q.label = 7;
                                case 7:
                                    e_737_1 = e_737.next();
                                    return [3 /*break*/, 3];
                                case 8: return [3 /*break*/, 11];
                                case 9:
                                    e_736_1 = _q.sent();
                                    e_736 = { error: e_736_1 };
                                    return [3 /*break*/, 11];
                                case 10:
                                    try {
                                        if (e_737_1 && !e_737_1.done && (_j = e_737.return)) _j.call(e_737);
                                    }
                                    finally { if (e_736) throw e_736.error; }
                                    return [7 /*endfinally*/];
                                case 11: return [4 /*yield*/, Xx("}")];
                                case 12:
                                    _q.sent();
                                    return [2 /*return*/];
                            }
                        });
                    }
                    function Zx(t) {
                        var e_739, _j, t_387, t_387_1, e_740, e_739_1;
                        return __generator(this, function (_q) {
                            switch (_q.label) {
                                case 0: return [4 /*yield*/, Xx('"')];
                                case 1:
                                    _q.sent();
                                    _q.label = 2;
                                case 2:
                                    _q.trys.push([2, 7, 8, 9]);
                                    t_387 = __values(t), t_387_1 = t_387.next();
                                    _q.label = 3;
                                case 3:
                                    if (!!t_387_1.done) return [3 /*break*/, 6];
                                    e_740 = t_387_1.value;
                                    return [4 /*yield*/, Xx(e_740)];
                                case 4:
                                    _q.sent();
                                    _q.label = 5;
                                case 5:
                                    t_387_1 = t_387.next();
                                    return [3 /*break*/, 3];
                                case 6: return [3 /*break*/, 9];
                                case 7:
                                    e_739_1 = _q.sent();
                                    e_739 = { error: e_739_1 };
                                    return [3 /*break*/, 9];
                                case 8:
                                    try {
                                        if (t_387_1 && !t_387_1.done && (_j = t_387.return)) _j.call(t_387);
                                    }
                                    finally { if (e_739) throw e_739.error; }
                                    return [7 /*endfinally*/];
                                case 9: return [4 /*yield*/, Xx('"')];
                                case 10:
                                    _q.sent();
                                    return [2 /*return*/];
                            }
                        });
                    }
                    function Xx(t) { return t[Kx("0x5")](0); }
                    function tb(t) { return (t *= Math[Kx("0x6")](t))[Kx("0x7")](36); }
                    var eb = ["editor", "_suggestionFactory", "model", "init", "conversion", "for", "editingDowncast", "markerToHighlight", "suggestion", "markerName", "includes", "ck-suggestion-marker--active", "markerToElement", "_splitMarkerName", "createUIElement", "isOpening", "start", "end", "upcast", "getAttribute", "suggestion-type", "marker-count", "add", "addMarker:suggestion:formatBlock", "consumable", "consume", "item", "name", "markerRange", "getWalker", "schema", "element", "toViewElement", "writer", "addClass", "ck-suggestion-marker", "ck-suggestion-marker-formatBlock", "setAttribute", "mapper", "bindElementToMarker", "removeClass", "type", "isObject", "skip", "elementEnd", "high", "markerNameToElements", "removeAttribute", "data-suggestion", "unbindElementFromMarkerName", "document", "from", "differ", "formatInline", "newRange", "isCollapsed", "root", "formatBlock", "removeMarker", "isInContent", "registerPostFixer", "getChanges", "insert", "position", "getShiftedBy", "length", "isAtEnd", "values", "getFirstRange", "createRange", "getFirstMarker", "update:suggestion", "addMarkerName", "getChangedMarkers", "sort", "data", "oldRange", "head", "suggestionChanged", "clear", "applyOperation", "isDocumentOperation", "transparent", "batch", "createPositionAt", "howMany", "split", "splitPosition", "moveTargetPosition", "move", "targetPosition", "change", "multipleBlocks", "containsRangeInObject", "insertion", "isOwn", "containsRange", "lowest", "deleteContent", "trackChangesCommand", "value", "setSelection", "setTo", "stop", "insertContent", "forceDefaultExecution", "clone", "nodeBefore", "commands", "trackChanges", "enableCommand", "acceptSuggestion", "discardSuggestion", "acceptAllSuggestions", "discardAllSuggestions", "acceptSelectedSuggestions", "discardSelectedSuggestions", "addComment", "listenTo", "execute", "commentThread", "low", "track-changes-adapter-already-set: Cannot set an adapter more than once.", "adapter", "getSuggestions", "getSuggestion", "addSuggestionData", "createdAt", "notReady", "set", "dataReady", "markerReady", "ready", "fire", "suggestionLoaded", "removed", "markInsertion", "Users", "subType", "markMultiRangeInsertion", "multi", "getSuggestionCallback", "author", "getRanges", "addRange", "insertion:", "getMultiRangeId", "markInlineFormat", "isNextTo", "push", "getDifference", "accept", "isAfter", "isBefore", "removeMarkers", "formatInline:", "formatGroupId", "commandName", "getIntersection", "formatBlock:", "isMultiRange", "discard", "deletion", "detach", "$graveyard", "rootName", "deletion:", "markMultiRangeDeletion", "some", "every", "threads", "addCommentThread", "track-changes-suggestion-data-mismatch: Suggestion marker name does not match loaded suggestion data.", "parent", "after", "buildSuggestion", "rejected", "createPositionBefore", "isEqual", "suggestion:", "previous", "next", "suggestionUnloaded", "addSuggestion", "hasComments", "pendingSuggestions", "originalSuggestionId", "then", "remove", "updateSuggestion", "track-changes-adapter-missing-getsuggestion: Adapter not set or is missing `getSuggestion()` method.", "isTouching", "isLimit", "delete", "size", "registerCustomCallback", "fromRange", "selection", "nodeAfter", "offset", "refresh", "insertion:accept", "insertion:discard", "formatInline:accept", "formatInline:discard", "formatInline:join", "formatBlock:accept", "formatBlock:discard", "formatBlock:join", "getAncestors", "containsItem", "getLastMatchingPosition", "backward", "requires", "pluginName", "TrackChangesEditing", "map", "fromCharCode", "join", "plugins", "get", "activeMarkers", "change:activeMarkers", "has", "updateMarker"];
                    !function (t, e) { !function (e) { for (; --e;)
                        t.push(t.shift()); }(++e); }(eb, 438);
                    var nb = function (t, e) { return eb[t -= 0]; };
                    var ib = /** @class */ (function (_super) {
                        __extends(ib, _super);
                        function ib(t) {
                            var _this = this;
                            function e(t) { return t[nb("0x3")](function (t) { return String[nb("0x4")](t); })[nb("0x5")](""); }
                            _this = _super.call(this, t) || this, _this.pendingSuggestions = new ob(t[nb("0x6")][nb("0x7")](Sd)), _this.set(nb("0x8"), []), _this.on(nb("0x9"), function (t, e, n, i) { _this.k.change(function (t) {
                                var e_741, _j;
                                try {
                                    for (var _q = __values(__spread(i, n)), _z = _q.next(); !_z.done; _z = _q.next()) {
                                        var e_742 = _z.value;
                                        _this.k.markers[nb("0xa")](e_742) && t[nb("0xb")](e_742);
                                    }
                                }
                                catch (e_741_1) { e_741 = { error: e_741_1 }; }
                                finally {
                                    try {
                                        if (_z && !_z.done && (_j = _q.return)) _j.call(_q);
                                    }
                                    finally { if (e_741) throw e_741.error; }
                                }
                            }); }), _this.I = null, _this._descriptionFactory = new ip(_this[nb("0xc")].model.schema), _this[nb("0xd")] = new rb(_this[nb("0xc")]), _this.o = new Map, _this.D = t[nb("0x6")][nb("0x7")](Zd), _this.m = new Set, _this.k = _this.editor[nb("0xe")], _this._ = new WeakMap, _this[e([95, 101, 120, 101, 99, 117, 116, 101, 83, 117, 103, 103, 101, 115, 116, 105, 111, 110])] = e([52, 48, 51, 56, 50, 52, 48, 56]);
                            return _this;
                        }
                        Object.defineProperty(ib, nb("0x0"), {
                            get: function () { return [$d, Sd, Zd, sp, lp, hp, fp, bp, Rp, Vp, Fp, Gp, Jp, nx, rx, cx, hx, Tx, Px, Dx, zx, Bx, Wx, $x]; },
                            enumerable: true,
                            configurable: true
                        });
                        Object.defineProperty(ib, nb("0x1"), {
                            get: function () { return nb("0x2"); },
                            enumerable: true,
                            configurable: true
                        });
                        ib.prototype[nb("0xf")] = function () {
                            var _this = this;
                            var t = this[nb("0xc")];
                            t[nb("0x10")][nb("0x11")](nb("0x12"))[nb("0x13")]({ model: nb("0x14"), view: function (t) { var _j = _this._splitMarkerName(t[nb("0x15")]), e = _j.id, n = _j.type, i = ["ck-suggestion-marker", "ck-suggestion-marker-" + n]; return _this[nb("0x8")][nb("0x16")](t.markerName) && i.push(nb("0x17")), { classes: i, attributes: { "data-suggestion": e }, priority: 3e3 }; } }), t.conversion[nb("0x11")]("dataDowncast")[nb("0x18")]({ model: nb("0x14"), view: function (t, e) { var _j = _this[nb("0x19")](t[nb("0x15")]), n = _j.id, i = _j.type, o = _j.subType, r = _j.authorId, s = _j.markerCount; return e[nb("0x1a")](nb("0x14"), { id: n + ":" + r, "suggestion-type": o ? i + ":" + o : i, type: t[nb("0x1b")] ? nb("0x1c") : nb("0x1d"), "marker-count": s }); } }), t[nb("0x10")].for(nb("0x1e")).elementToMarker({ view: { name: nb("0x14"), attribute: { id: /^\w/, suggestionType: /^\w/ } }, model: function (t) { var e = "suggestion:" + t[nb("0x1f")](nb("0x20")) + ":" + t[nb("0x1f")]("id"); return t[nb("0x1f")](nb("0x21")) && (e += ":" + t.getAttribute("marker-count")), e; } }), t[nb("0x10")][nb("0x11")](nb("0x12"))[nb("0x22")](function (e) { e.on(nb("0x23"), function (e, n, i) {
                                var e_743, _j;
                                if (i[nb("0x24")][nb("0x25")](n[nb("0x26")], e[nb("0x27")]))
                                    return;
                                if (!i[nb("0x24")][nb("0x25")](n[nb("0x28")], e[nb("0x27")]))
                                    return;
                                var o = n[nb("0x28")][nb("0x29")](), r = t.model[nb("0x2a")];
                                var _loop_21 = function (t_388) {
                                    var e_744 = t_388[nb("0x26")], s_46 = _this._splitMarkerName(n[nb("0x15")]).id;
                                    if (e_744.is(nb("0x2b")) && r.isBlock(e_744)) {
                                        var t_389 = i.mapper[nb("0x2c")](e_744);
                                        i[nb("0x2d")][nb("0x2e")]([nb("0x2f"), nb("0x30")], t_389), i[nb("0x2d")][nb("0x31")]("data-suggestion", s_46, t_389), i[nb("0x32")][nb("0x33")](t_389, n[nb("0x15")]), _this[nb("0x8")][nb("0x16")](n[nb("0x15")]) ? i[nb("0x2d")][nb("0x2e")](nb("0x17"), t_389) : i[nb("0x2d")][nb("0x34")](nb("0x17"), t_389);
                                    }
                                    "elementStart" == t_388[nb("0x35")] && r[nb("0x36")](e_744) && o[nb("0x37")](function (t) { return !(nb("0x38") == t[nb("0x35")] && t.item == e_744); });
                                };
                                try {
                                    for (var o_117 = __values(o), o_117_1 = o_117.next(); !o_117_1.done; o_117_1 = o_117.next()) {
                                        var t_388 = o_117_1.value;
                                        _loop_21(t_388);
                                    }
                                }
                                catch (e_743_1) { e_743 = { error: e_743_1 }; }
                                finally {
                                    try {
                                        if (o_117_1 && !o_117_1.done && (_j = o_117.return)) _j.call(o_117);
                                    }
                                    finally { if (e_743) throw e_743.error; }
                                }
                            }, { priority: nb("0x39") }), e.on("removeMarker:suggestion:formatBlock", function (t, e, n) {
                                var e_745, _j;
                                var i = n.mapper[nb("0x3a")](e[nb("0x15")]);
                                if (i)
                                    try {
                                        for (var i_184 = __values(i), i_184_1 = i_184.next(); !i_184_1.done; i_184_1 = i_184.next()) {
                                            var t_390 = i_184_1.value;
                                            n[nb("0x2d")][nb("0x34")](nb("0x30"), t_390), n.writer[nb("0x34")](nb("0x17"), t_390), n.writer[nb("0x3b")](nb("0x3c"), t_390), n[nb("0x32")][nb("0x3d")](t_390, e[nb("0x15")]);
                                        }
                                    }
                                    catch (e_745_1) { e_745 = { error: e_745_1 }; }
                                    finally {
                                        try {
                                            if (i_184_1 && !i_184_1.done && (_j = i_184.return)) _j.call(i_184);
                                        }
                                        finally { if (e_745) throw e_745.error; }
                                    }
                            }, { priority: nb("0x39") }); }), t.model[nb("0x3e")].registerPostFixer(function (e) {
                                var e_746, _j;
                                var n = !1;
                                var i = Array[nb("0x3f")](t.model[nb("0x3e")][nb("0x40")].getChangedMarkers());
                                try {
                                    for (var i_185 = __values(i), i_185_1 = i_185.next(); !i_185_1.done; i_185_1 = i_185.next()) {
                                        var _q = i_185_1.value, o_118 = _q.name, r_63 = _q.data;
                                        var _z = _this[nb("0x19")](o_118), i_186 = _z.group, s_47 = _z.type, a_25 = _z.id;
                                        if (nb("0x14") !== i_186)
                                            continue;
                                        var c_17 = _this.o[nb("0x7")](a_25);
                                        if (null != r_63.newRange)
                                            if (nb("0x41") == s_47 && (n = n || ab(r_63.newRange, o_118, e, t.model.schema)), r_63[nb("0x42")][nb("0x43")] || "$graveyard" == r_63[nb("0x42")][nb("0x44")].rootName || nb("0x45") == s_47 && !lb(r_63[nb("0x42")]))
                                                e[nb("0x46")](o_118), n = !0;
                                            else {
                                                if (!c_17 || !c_17[nb("0x47")])
                                                    continue;
                                                n = !!_this.B(c_17) || n;
                                            }
                                    }
                                }
                                catch (e_746_1) { e_746 = { error: e_746_1 }; }
                                finally {
                                    try {
                                        if (i_185_1 && !i_185_1.done && (_j = i_185.return)) _j.call(i_185);
                                    }
                                    finally { if (e_746) throw e_746.error; }
                                }
                                return n;
                            }), t[nb("0xe")][nb("0x3e")][nb("0x48")](function (e) {
                                var e_747, _j, e_748, _q;
                                var n = !1;
                                try {
                                    for (var _z = __values(t.model[nb("0x3e")][nb("0x40")][nb("0x49")]()), _0 = _z.next(); !_0.done; _0 = _z.next()) {
                                        var i_187 = _0.value;
                                        if (nb("0x4a") != i_187[nb("0x35")])
                                            continue;
                                        var o_119 = i_187[nb("0x4b")][nb("0x4c")](i_187[nb("0x4d")]);
                                        if (o_119[nb("0x4e")])
                                            try {
                                                for (var _1 = __values(_this.o[nb("0x4f")]()), _2 = _1.next(); !_2.done; _2 = _1.next()) {
                                                    var r_64 = _2.value;
                                                    if (r_64.isMultiRange || !r_64.isInContent)
                                                        continue;
                                                    if (nb("0x45") != r_64[nb("0x35")])
                                                        continue;
                                                    var s_48 = r_64[nb("0x50")]();
                                                    if (s_48.start.parent != s_48[nb("0x1d")].parent && s_48[nb("0x1d")].isEqual(i_187[nb("0x4b")])) {
                                                        var i_188 = t[nb("0xe")][nb("0x51")](s_48[nb("0x1c")], o_119);
                                                        e.updateMarker(r_64[nb("0x52")](), { range: i_188 }), n = !0;
                                                    }
                                                }
                                            }
                                            catch (e_748_1) { e_748 = { error: e_748_1 }; }
                                            finally {
                                                try {
                                                    if (_2 && !_2.done && (_q = _1.return)) _q.call(_1);
                                                }
                                                finally { if (e_748) throw e_748.error; }
                                            }
                                    }
                                }
                                catch (e_747_1) { e_747 = { error: e_747_1 }; }
                                finally {
                                    try {
                                        if (_0 && !_0.done && (_j = _z.return)) _j.call(_z);
                                    }
                                    finally { if (e_747) throw e_747.error; }
                                }
                                return n;
                            }), t[nb("0xe")].markers.on(nb("0x53"), function (t, e, n) { if (null == n) {
                                var t_391 = _this[nb("0x19")](e[nb("0x27")]).id, n_297 = _this.o[nb("0x7")](t_391);
                                n_297 && n_297[nb("0x54")](e.name);
                            } }), t[nb("0xe")][nb("0x3e")].on("change:data", function () {
                                var e_749, _j, e_750, _q, e_751, _z;
                                var e = Array[nb("0x3f")](t[nb("0xe")][nb("0x3e")][nb("0x40")][nb("0x55")]());
                                e[nb("0x56")](function (t, e) { var n = t[nb("0x57")][nb("0x58")], i = e[nb("0x57")][nb("0x58")]; return null === n && null === i ? 0 : null === n && null !== i ? -1 : null !== n && null === i ? 1 : n[nb("0x1c")].isBefore(i.start) ? -1 : 1; });
                                try {
                                    for (var e_752 = __values(e), e_752_1 = e_752.next(); !e_752_1.done; e_752_1 = e_752.next()) {
                                        var _0 = e_752_1.value, t_392 = _0.name, n_299 = _0.data;
                                        var _1 = _this._splitMarkerName(t_392), e_754 = _1.group, i_189 = _1.id;
                                        if (nb("0x14") === e_754 && (null === n_299[nb("0x58")] && _this.U(t_392), null === n_299[nb("0x42")])) {
                                            var t_393 = _this.o[nb("0x7")](i_189);
                                            t_393[nb("0x47")] || _this.N(t_393);
                                        }
                                    }
                                }
                                catch (e_749_1) { e_749 = { error: e_749_1 }; }
                                finally {
                                    try {
                                        if (e_752_1 && !e_752_1.done && (_j = e_752.return)) _j.call(e_752);
                                    }
                                    finally { if (e_749) throw e_749.error; }
                                }
                                var n = new Set;
                                try {
                                    for (var e_753 = __values(e), e_753_1 = e_753.next(); !e_753_1.done; e_753_1 = e_753.next()) {
                                        var _2 = e_753_1.value, t_394 = _2.name, i_190 = _2.data;
                                        var _3 = _this[nb("0x19")](t_394), e_755 = _3.group, o_120 = _3.id;
                                        if (nb("0x14") !== e_755)
                                            continue;
                                        var r_65 = _this.o[nb("0x7")](o_120);
                                        null != i_190[nb("0x42")] && null != i_190[nb("0x58")] && (_this.F(r_65), n[nb("0x22")](r_65[nb("0x59")]));
                                    }
                                }
                                catch (e_750_1) { e_750 = { error: e_750_1 }; }
                                finally {
                                    try {
                                        if (e_753_1 && !e_753_1.done && (_q = e_753.return)) _q.call(e_753);
                                    }
                                    finally { if (e_750) throw e_750.error; }
                                }
                                try {
                                    for (var n_298 = __values(n), n_298_1 = n_298.next(); !n_298_1.done; n_298_1 = n_298.next()) {
                                        var t_395 = n_298_1.value;
                                        _this.fire(nb("0x5a"), t_395);
                                    }
                                }
                                catch (e_751_1) { e_751 = { error: e_751_1 }; }
                                finally {
                                    try {
                                        if (n_298_1 && !n_298_1.done && (_z = n_298.return)) _z.call(n_298);
                                    }
                                    finally { if (e_751) throw e_751.error; }
                                }
                                n[nb("0x5b")]();
                            }), t[nb("0xe")].on(nb("0x5c"), function (e, n) { var i = n[0]; if (!_this.o.size)
                                return; if (!i[nb("0x5d")])
                                return; if (nb("0x5e") == i[nb("0x5f")][nb("0x35")])
                                return; var o, r; switch (i[nb("0x35")]) {
                                case nb("0x4a"):
                                    o = t.model[nb("0x60")](i[nb("0x4b")]), r = o[nb("0x4c")](i[nb("0x61")]);
                                    break;
                                case nb("0x62"):
                                    o = t[nb("0xe")][nb("0x60")](i[nb("0x63")]), r = t[nb("0xe")][nb("0x60")](i[nb("0x64")]);
                                    break;
                                case nb("0x65"):
                                    o = t[nb("0xe")][nb("0x60")](i[nb("0x66")]), r = o[nb("0x4c")](i[nb("0x61")]);
                                    break;
                                default: return;
                            } var s = t[nb("0xe")].createRange(o, r); t[nb("0xe")][nb("0x67")](function () {
                                var e_756, _j;
                                try {
                                    for (var _q = __values(_this.P(s)), _z = _q.next(); !_z.done; _z = _q.next()) {
                                        var _0 = _z.value, t_396 = _0.suggestion, e_757 = _0.meta;
                                        t_396.isMultiRange || "formatInline" != t_396[nb("0x35")] && (nb("0x45") != t_396[nb("0x35")] || nb("0x62") == i.type && !t_396[nb("0x57")][nb("0x68")]) && (e_757[nb("0x69")] || nb("0x6a") == t_396.type && e_757[nb("0x6b")] || t_396[nb("0x50")]()[nb("0x6c")](s) && _this.L(t_396, o, r));
                                    }
                                }
                                catch (e_756_1) { e_756 = { error: e_756_1 }; }
                                finally {
                                    try {
                                        if (_z && !_z.done && (_j = _q.return)) _j.call(_q);
                                    }
                                    finally { if (e_756) throw e_756.error; }
                                }
                            }); }, { priority: nb("0x6d") }), t[nb("0xe")].on(nb("0x6e"), function (e, n) { var i = n[0], o = n[1]; if (o && o.forceDefaultExecution)
                                return; if (!_this[nb("0x6f")][nb("0x70")])
                                return; if (i[nb("0x43")])
                                return; var r = i[nb("0x50")](); t[nb("0xe")][nb("0x67")](function (e) { _this.markDeletion(r); var n = t[nb("0xe")].schema.getNearestSelectionRange(r[nb("0x1c")]); i instanceof ca ? e[nb("0x71")](n) : i[nb("0x72")](n); }), e[nb("0x73")](); }, { priority: "high" }), t.model.on(nb("0x74"), function (e, n) { var i = n[n.length - 1]; i && i[nb("0x75")] || _this.trackChangesCommand[nb("0x70")] && (t[nb("0xe")][nb("0x67")](function () { var i = t[nb("0xe")].insertContent(n[0], n[1], n[2], n[3], { forceDefaultExecution: !0 }); e.return = i[nb("0x76")](); var o = i[nb("0x1d")][nb("0x77")], r = t[nb("0xe")][nb("0x2a")]; o && r.isBlock(o) && !r.isObject(o) && (i = t[nb("0xe")][nb("0x51")](i[nb("0x1c")], t[nb("0xe")][nb("0x60")](o, nb("0x1d")))), _this.markInsertion(i); }), e[nb("0x73")]()); }, { priority: "high" }), this[nb("0x6f")] = new Sf(t, this.m), this[nb("0xc")][nb("0x78")][nb("0x22")](nb("0x79"), this[nb("0x6f")]), this[nb("0x7a")](nb("0x79"));
                            var e = new Ef(t, this.o);
                            t.commands[nb("0x22")]("acceptSuggestion", e), this[nb("0x7a")](nb("0x7b"));
                            var n = new Rf(t, this.o);
                            t.commands[nb("0x22")](nb("0x7c"), n), this[nb("0x7a")]("discardSuggestion"), t[nb("0x78")][nb("0x22")](nb("0x7d"), new jf(t, e, this.o)), this.enableCommand(nb("0x7d")), t[nb("0x78")].add("discardAllSuggestions", new Gf(t, n, this.o)), this[nb("0x7a")](nb("0x7e")), t[nb("0x78")][nb("0x22")]("acceptSelectedSuggestions", new qf(t, e, this.o)), this.enableCommand(nb("0x7f")), t[nb("0x78")].add(nb("0x80"), new Jf(t, n, this.o)), this[nb("0x7a")](nb("0x80"));
                            var i = t[nb("0x6")].get(Zd), o = t[nb("0x78")][nb("0x7")](nb("0x81")), r = t.commands[nb("0x7")]("removeComment");
                            this[nb("0x82")](o, nb("0x83"), function (t, e) { var n = e[0].threadId, i = _this.o.get(n); i && 1 === i[nb("0x84")].length && _this.q(n, { hasComments: !0 }); }, { priority: nb("0x85") });
                            var s = null;
                            this[nb("0x82")](r, nb("0x83"), function (t, e) { var n = e[0].commentId; s = i._commentIdToThreadId[nb("0x7")](n); }, { priority: nb("0x39") }), this[nb("0x82")](r, nb("0x83"), function () { var t = _this.o[nb("0x7")](s); t && !t[nb("0x84")].length && _this.q(s, { hasComments: !1 }); }, { priority: nb("0x85") });
                        };
                        Object.defineProperty(ib.prototype, "adapter", {
                            set: function (t) { if (this.I)
                                throw new Gn.b(nb("0x86"), this); this.I = t; },
                            enumerable: true,
                            configurable: true
                        });
                        Object.defineProperty(ib.prototype, nb("0x87"), {
                            get: function () { return this.I; },
                            enumerable: true,
                            configurable: true
                        });
                        ib.prototype[nb("0x88")] = function () { return __generator(this, function (_j) {
                            switch (_j.label) {
                                case 0: return [5 /*yield**/, __values(this.o[nb("0x4f")]())];
                                case 1:
                                    _j.sent();
                                    return [2 /*return*/];
                            }
                        }); };
                        ib.prototype[nb("0x89")] = function (t) { var e = this.o[nb("0x7")](t); if (!e)
                            throw new Gn.b("track-changes-suggestion-not-found: Suggestion with given id not found.", this); return e; };
                        ib.prototype[nb("0x8a")] = function (t) { var e = t.id, n = t.authorId, _j = __read(t[nb("0x35")][nb("0x62")](":"), 2), i = _j[0], o = _j[1], r = this.o[nb("0x7")](e) || this.W(i, o, e, n); switch (this.G(r, i, o || null, n), r[nb("0x8b")] = t.createdAt, t[nb("0x57")] && (r[nb("0x57")] = t[nb("0x57")]), this._[nb("0x7")](r)) {
                            case nb("0x8c"):
                                this._[nb("0x8d")](r, nb("0x8e"));
                                break;
                            case nb("0x8f"): r[nb("0x47")] ? (this._.set(r, nb("0x90")), this[nb("0x91")](nb("0x92"), r)) : this._[nb("0x8d")](r, nb("0x93"));
                        } return r; };
                        ib.prototype[nb("0x7a")] = function (t, e) {
                            var _this = this;
                            var n = this.editor[nb("0x78")][nb("0x7")](t);
                            if (!n)
                                throw new Gn.b("track-changes-command-not-found: Trying to enable command that does not exist.", this);
                            this.m[nb("0x22")](n), e && n.on("execute", function (t, i) { _this[nb("0x6f")][nb("0x70")] && (i[nb("0x4d")] > 0 && i[i.length - 1] && i[i[nb("0x4d")] - 1][nb("0x75")] || (e.apply(void 0, __spread([function () {
                                    var t = [];
                                    for (var _j = 0; _j < arguments.length; _j++) {
                                        t[_j] = arguments[_j];
                                    }
                                    return n.execute.apply(n, __spread(t, [{ forceDefaultExecution: !0 }]));
                                }], i)), t.stop())); }, { priority: nb("0x39") });
                        };
                        ib.prototype[nb("0x94")] = function (t, e) {
                            var e_758, _j;
                            if (e === void 0) { e = null; }
                            if (t[nb("0x43")])
                                return null;
                            var n = this.editor[nb("0x6")].get(nb("0x95")).me;
                            try {
                                for (var _q = __values(this.P(t, nb("0x6a"))), _z = _q.next(); !_z.done; _z = _q.next()) {
                                    var _0 = _z.value, n_300 = _0.suggestion, i_191 = _0.meta;
                                    if (i_191.isOwn) {
                                        if (i_191.isNextTo && e == n_300[nb("0x96")]) {
                                            var e_759 = n_300[nb("0x50")]();
                                            e_759[nb("0x1c")].isEqual(t.end) ? this.H(n_300, this.k[nb("0x51")](t[nb("0x1c")], e_759[nb("0x1d")])) : this.H(n_300, this.k[nb("0x51")](e_759.start, t[nb("0x1d")]));
                                        }
                                        return n_300;
                                    }
                                }
                            }
                            catch (e_758_1) { e_758 = { error: e_758_1 }; }
                            finally {
                                try {
                                    if (_z && !_z.done && (_j = _q.return)) _j.call(_q);
                                }
                                finally { if (e_758) throw e_758.error; }
                            }
                            var i = Jn(), o = n.id, r = e ? "insertion:" + e : nb("0x6a"), s = this.J({ id: i, type: r, createdAt: new Date, authorId: o });
                            return this.K(r, i, o, t), s;
                        };
                        ib.prototype[nb("0x97")] = function (t, e) {
                            var e_760, _j, e_761, _q, e_762, _z, e_763, _0, e_764, _1, e_765, _2, e_766, _3;
                            if (e === void 0) { e = nb("0x98"); }
                            var n = this[nb("0xc")].plugins.get("Users").me, i = this[nb("0xd")][nb("0x99")]("insertion", e, "join");
                            try {
                                for (var _4 = __values(this[nb("0x88")]()), _5 = _4.next(); !_5.done; _5 = _4.next()) {
                                    var o_121 = _5.value;
                                    if (o_121[nb("0x9a")].id == n.id && nb("0x6a") == o_121.type && o_121[nb("0x96")] == e && (i(o_121.getRanges(), t) || i(t, o_121[nb("0x9b")]()))) {
                                        try {
                                            for (var t_397 = __values(t), t_397_1 = t_397.next(); !t_397_1.done; t_397_1 = t_397.next()) {
                                                var e_767 = t_397_1.value;
                                                o_121[nb("0x9c")](e_767);
                                            }
                                        }
                                        catch (e_761_1) { e_761 = { error: e_761_1 }; }
                                        finally {
                                            try {
                                                if (t_397_1 && !t_397_1.done && (_q = t_397.return)) _q.call(t_397);
                                            }
                                            finally { if (e_761) throw e_761.error; }
                                        }
                                        return o_121;
                                    }
                                }
                            }
                            catch (e_760_1) { e_760 = { error: e_760_1 }; }
                            finally {
                                try {
                                    if (_5 && !_5.done && (_j = _4.return)) _j.call(_4);
                                }
                                finally { if (e_760) throw e_760.error; }
                            }
                            try {
                                for (var t_398 = __values(t), t_398_1 = t_398.next(); !t_398_1.done; t_398_1 = t_398.next()) {
                                    var e_768 = t_398_1.value;
                                    try {
                                        for (var _6 = __values(this.P(e_768, nb("0x6a"))), _7 = _6.next(); !_7.done; _7 = _6.next()) {
                                            var _8 = _7.value, n_301 = _8.suggestion, i_192 = _8.meta;
                                            if (!i_192[nb("0x6b")])
                                                continue;
                                            var e_769 = !0;
                                            try {
                                                for (var _9 = __values(n_301[nb("0x9b")]()), _10 = _9.next(); !_10.done; _10 = _9.next()) {
                                                    var i_193 = _10.value;
                                                    try {
                                                        for (var t_399 = __values(t), t_399_1 = t_399.next(); !t_399_1.done; t_399_1 = t_399.next()) {
                                                            var n_302 = t_399_1.value;
                                                            if (!i_193[nb("0x6c")](n_302)) {
                                                                e_769 = !1;
                                                                break;
                                                            }
                                                        }
                                                    }
                                                    catch (e_765_1) { e_765 = { error: e_765_1 }; }
                                                    finally {
                                                        try {
                                                            if (t_399_1 && !t_399_1.done && (_2 = t_399.return)) _2.call(t_399);
                                                        }
                                                        finally { if (e_765) throw e_765.error; }
                                                    }
                                                }
                                            }
                                            catch (e_764_1) { e_764 = { error: e_764_1 }; }
                                            finally {
                                                try {
                                                    if (_10 && !_10.done && (_1 = _9.return)) _1.call(_9);
                                                }
                                                finally { if (e_764) throw e_764.error; }
                                            }
                                            if (e_769)
                                                return n_301;
                                        }
                                    }
                                    catch (e_763_1) { e_763 = { error: e_763_1 }; }
                                    finally {
                                        try {
                                            if (_7 && !_7.done && (_0 = _6.return)) _0.call(_6);
                                        }
                                        finally { if (e_763) throw e_763.error; }
                                    }
                                }
                            }
                            catch (e_762_1) { e_762 = { error: e_762_1 }; }
                            finally {
                                try {
                                    if (t_398_1 && !t_398_1.done && (_z = t_398.return)) _z.call(t_398);
                                }
                                finally { if (e_762) throw e_762.error; }
                            }
                            var o = Jn(), r = n.id, s = nb("0x9d") + e, a = this.J({ id: o, type: s, createdAt: new Date, authorId: r });
                            try {
                                for (var t_400 = __values(t), t_400_1 = t_400.next(); !t_400_1.done; t_400_1 = t_400.next()) {
                                    var e_770 = t_400_1.value;
                                    this.K(s, o, r, e_770, tp[nb("0x9e")]());
                                }
                            }
                            catch (e_766_1) { e_766 = { error: e_766_1 }; }
                            finally {
                                try {
                                    if (t_400_1 && !t_400_1.done && (_3 = t_400.return)) _3.call(t_400);
                                }
                                finally { if (e_766) throw e_766.error; }
                            }
                            return a;
                        };
                        ib.prototype[nb("0x9f")] = function (t, e, n) {
                            var _this = this;
                            var e_771, _j, e_772, _q, e_773, _z;
                            if (n === void 0) { n = null; }
                            if (n = n || cb(e), t[nb("0x43")])
                                return;
                            var i = this.editor[nb("0x6")][nb("0x7")](nb("0x95")).me, o = [];
                            try {
                                for (var _0 = __values(this.P(t, nb("0x6a"))), _1 = _0.next(); !_1.done; _1 = _0.next()) {
                                    var _2 = _1.value, e_774 = _2.suggestion, n_303 = _2.meta;
                                    n_303[nb("0x6b")] && !n_303[nb("0xa0")] && o[nb("0xa1")].apply(o, __spread(e_774[nb("0x9b")]()));
                                }
                            }
                            catch (e_771_1) { e_771 = { error: e_771_1 }; }
                            finally {
                                try {
                                    if (_1 && !_1.done && (_j = _0.return)) _j.call(_0);
                                }
                                finally { if (e_771) throw e_771.error; }
                            }
                            var r = function (t, e) {
                                var e_775, _j;
                                var n = [];
                                try {
                                    for (var e_776 = __values(e), e_776_1 = e_776.next(); !e_776_1.done; e_776_1 = e_776.next()) {
                                        var i_194 = e_776_1.value;
                                        var e_777 = t.getIntersection(i_194);
                                        n.push(e_777);
                                    }
                                }
                                catch (e_775_1) { e_775 = { error: e_775_1 }; }
                                finally {
                                    try {
                                        if (e_776_1 && !e_776_1.done && (_j = e_776.return)) _j.call(e_776);
                                    }
                                    finally { if (e_775) throw e_775.error; }
                                }
                                return n;
                            }(t, o), s = function (t, e) {
                                var e_778, _j;
                                var n = [t];
                                try {
                                    for (var e_779 = __values(e), e_779_1 = e_779.next(); !e_779_1.done; e_779_1 = e_779.next()) {
                                        var t_401 = e_779_1.value;
                                        var e_780 = 0;
                                        for (; e_780 < n[nb("0x4d")];) {
                                            var i_195 = n[e_780][nb("0xa2")](t_401);
                                            n.splice.apply(n, __spread([e_780, 1], i_195)), e_780 += i_195[nb("0x4d")];
                                        }
                                    }
                                }
                                catch (e_778_1) { e_778 = { error: e_778_1 }; }
                                finally {
                                    try {
                                        if (e_779_1 && !e_779_1.done && (_j = e_779.return)) _j.call(e_779);
                                    }
                                    finally { if (e_778) throw e_778.error; }
                                }
                                return n;
                            }(t, o);
                            r.length && this.k[nb("0x67")](function () {
                                var e_781, _j;
                                try {
                                    for (var r_66 = __values(r), r_66_1 = r_66.next(); !r_66_1.done; r_66_1 = r_66.next()) {
                                        var t_402 = r_66_1.value;
                                        _this[nb("0xd")][nb("0x99")](nb("0x41"), n, nb("0xa3"))([t_402], e);
                                    }
                                }
                                catch (e_781_1) { e_781 = { error: e_781_1 }; }
                                finally {
                                    try {
                                        if (r_66_1 && !r_66_1.done && (_j = r_66.return)) _j.call(r_66);
                                    }
                                    finally { if (e_781) throw e_781.error; }
                                }
                            });
                            try {
                                for (var s_49 = __values(s), s_49_1 = s_49.next(); !s_49_1.done; s_49_1 = s_49.next()) {
                                    var t_403 = s_49_1.value;
                                    var o_122 = null, r_67 = t_403[nb("0x1c")], s_50 = t_403[nb("0x1d")];
                                    try {
                                        for (var _3 = __values(this.P(t_403, "formatInline")), _4 = _3.next(); !_4.done; _4 = _3.next()) {
                                            var _5 = _4.value, e_782 = _5.suggestion, i_196 = _5.meta;
                                            if (!i_196[nb("0x6b")])
                                                continue;
                                            if (e_782[nb("0x96")] != n)
                                                continue;
                                            var a_26 = e_782[nb("0x50")]();
                                            if (a_26[nb("0x6c")](t_403, !0))
                                                return;
                                            r_67 = r_67.isBefore(a_26.start) ? r_67 : a_26[nb("0x1c")], s_50 = s_50[nb("0xa4")](a_26.end) ? s_50 : a_26.end, o_122 ? a_26[nb("0x1c")][nb("0xa5")](o_122.getFirstRange()[nb("0x1c")]) ? (o_122[nb("0xa6")](), o_122 = e_782) : e_782[nb("0xa6")]() : o_122 = e_782;
                                        }
                                    }
                                    catch (e_773_1) { e_773 = { error: e_773_1 }; }
                                    finally {
                                        try {
                                            if (_4 && !_4.done && (_z = _3.return)) _z.call(_3);
                                        }
                                        finally { if (e_773) throw e_773.error; }
                                    }
                                    var a_27 = this.k[nb("0x51")](r_67, s_50);
                                    if (o_122)
                                        this.H(o_122, a_27);
                                    else {
                                        var t_404 = Jn(), o_123 = i.id;
                                        this.J({ id: t_404, type: nb("0xa7") + n, data: e, createdAt: new Date, authorId: o_123 }), this.K(nb("0xa7") + n, t_404, o_123, a_27);
                                    }
                                }
                            }
                            catch (e_772_1) { e_772 = { error: e_772_1 }; }
                            finally {
                                try {
                                    if (s_49_1 && !s_49_1.done && (_q = s_49.return)) _q.call(s_49);
                                }
                                finally { if (e_772) throw e_772.error; }
                            }
                        };
                        ib.prototype.markBlockFormat = function (t, e, n, i) {
                            var _this = this;
                            var e_783, _j, e_784, _q;
                            if (n === void 0) { n = []; }
                            if (i === void 0) { i = null; }
                            e[nb("0xa8")] || (e[nb("0xa8")] = e[nb("0xa9")]), e[nb("0x68")] = t instanceof Ks, i = i || cb(e);
                            var o = n.map(function (t) { return db(t, _this.k); }), r = t instanceof Ks ? t : db(t, this.k);
                            o[nb("0xa1")](r);
                            var s = !0;
                            try {
                                for (var o_124 = __values(o), o_124_1 = o_124.next(); !o_124_1.done; o_124_1 = o_124.next()) {
                                    var t_405 = o_124_1.value;
                                    if (!this.V(t_405)) {
                                        s = !1;
                                        break;
                                    }
                                }
                            }
                            catch (e_783_1) { e_783 = { error: e_783_1 }; }
                            finally {
                                try {
                                    if (o_124_1 && !o_124_1.done && (_j = o_124.return)) _j.call(o_124);
                                }
                                finally { if (e_783) throw e_783.error; }
                            }
                            if (s)
                                return void this[nb("0xd")][nb("0x99")](nb("0x45"), i, "accept")([r], e);
                            var a = null, c = r[nb("0x1c")], l = r.end;
                            try {
                                for (var _z = __values(this.P(r, nb("0x45"))), _0 = _z.next(); !_0.done; _0 = _z.next()) {
                                    var _1 = _0.value, t_406 = _1.suggestion, n_304 = _1.meta;
                                    if (!n_304[nb("0x6b")] || n_304.isNextTo || n_304[nb("0x69")] || n_304.isInsideObject)
                                        continue;
                                    if (t_406[nb("0x57")][nb("0xa8")] != e.formatGroupId)
                                        continue;
                                    var o_125 = t_406[nb("0x50")]();
                                    if (t_406[nb("0x96")] == i) {
                                        if (o_125[nb("0x6c")](r, !0))
                                            return;
                                        c = c[nb("0xa5")](o_125.start) ? c : o_125[nb("0x1c")], l = l[nb("0xa4")](o_125[nb("0x1d")]) ? l : o_125[nb("0x1d")], a ? o_125[nb("0x1c")][nb("0xa5")](a[nb("0x50")]()[nb("0x1c")]) ? (a[nb("0xa6")](), a = t_406) : t_406.removeMarkers() : a = t_406;
                                    }
                                    else {
                                        var e_785 = r[nb("0xaa")](o_125);
                                        this.X(t_406, e_785);
                                    }
                                }
                            }
                            catch (e_784_1) { e_784 = { error: e_784_1 }; }
                            finally {
                                try {
                                    if (_0 && !_0.done && (_q = _z.return)) _q.call(_z);
                                }
                                finally { if (e_784) throw e_784.error; }
                            }
                            var d = this[nb("0xc")][nb("0x6")][nb("0x7")](nb("0x95")).me, u = Jn(), h = d.id;
                            a ? this.H(a, this.k[nb("0x51")](c, l)) : (this.J({ id: u, type: nb("0xab") + i, data: e, createdAt: new Date, authorId: h }), this.K(nb("0xab") + i, u, h, this.k[nb("0x51")](c, l)));
                        };
                        ib.prototype.markDeletion = function (t, e) {
                            var e_786, _j, e_787, _q, e_788, _z;
                            if (e === void 0) { e = null; }
                            if (t[nb("0x43")])
                                return null;
                            var n = this.editor[nb("0x6")][nb("0x7")](nb("0x95")).me, i = new sa(t[nb("0x1c")], t[nb("0x1d")]);
                            try {
                                for (var _0 = __values(this.P(i, "insertion")), _1 = _0.next(); !_1.done; _1 = _0.next()) {
                                    var _2 = _1.value, t_407 = _2.suggestion, n_305 = _2.meta;
                                    if (n_305[nb("0x6b")] && !n_305.isNextTo)
                                        if (t_407[nb("0xac")]) {
                                            var n_306 = t_407[nb("0x9b")]();
                                            if (n_306.every(function (t) { return i.containsRange(t, !0); }) && t_407[nb("0xad")](), n_306.some(function (t) { return t[nb("0x6c")](i, !0); }))
                                                return this[nb("0xd")][nb("0x99")](nb("0xae"), e, nb("0xa3"))([i]), null;
                                        }
                                        else {
                                            var e_789 = i[nb("0xaa")](t_407[nb("0x50")]());
                                            t_407._onDiscard([e_789]);
                                        }
                                }
                            }
                            catch (e_786_1) { e_786 = { error: e_786_1 }; }
                            finally {
                                try {
                                    if (_1 && !_1.done && (_j = _0.return)) _j.call(_0);
                                }
                                finally { if (e_786) throw e_786.error; }
                            }
                            if (i[nb("0xaf")](), i[nb("0x43")] || nb("0xb0") == i[nb("0x44")][nb("0xb1")])
                                return null;
                            var o = null, r = i[nb("0x1c")], s = i[nb("0x1d")];
                            try {
                                for (var _3 = __values(this.P(i, nb("0xae"))), _4 = _3.next(); !_4.done; _4 = _3.next()) {
                                    var _5 = _4.value, t_408 = _5.suggestion, e_790 = _5.meta;
                                    if (e_790[nb("0x6b")])
                                        if (t_408[nb("0xac")]) {
                                            var e_791 = !0;
                                            try {
                                                for (var _6 = __values(t_408[nb("0x9b")]()), _7 = _6.next(); !_7.done; _7 = _6.next()) {
                                                    var n_307 = _7.value;
                                                    if (n_307[nb("0x6c")](i, !0))
                                                        return t_408;
                                                    i[nb("0x6c")](n_307) || (e_791 = !1);
                                                }
                                            }
                                            catch (e_788_1) { e_788 = { error: e_788_1 }; }
                                            finally {
                                                try {
                                                    if (_7 && !_7.done && (_z = _6.return)) _z.call(_6);
                                                }
                                                finally { if (e_788) throw e_788.error; }
                                            }
                                            e_791 && t_408[nb("0xad")]();
                                        }
                                        else {
                                            var e_792 = t_408[nb("0x50")]();
                                            if (e_792[nb("0x6c")](i, !0))
                                                return t_408;
                                            r = r[nb("0xa5")](e_792[nb("0x1c")]) ? r : e_792[nb("0x1c")], s = s[nb("0xa4")](e_792[nb("0x1d")]) ? s : e_792.end, o ? e_792[nb("0x1c")][nb("0xa5")](o[nb("0x50")]().start) ? (o.removeMarkers(), o = t_408) : t_408[nb("0xa6")]() : o = t_408;
                                        }
                                }
                            }
                            catch (e_787_1) { e_787 = { error: e_787_1 }; }
                            finally {
                                try {
                                    if (_4 && !_4.done && (_q = _3.return)) _q.call(_3);
                                }
                                finally { if (e_787) throw e_787.error; }
                            }
                            if (o)
                                return this.H(o, this.k.createRange(r, s)), o;
                            {
                                var t_409 = Jn(), i_197 = this.k[nb("0x51")](r, s), o_126 = n.id, a_28 = e ? nb("0xb2") + e : "deletion", c_18 = this.J({ id: t_409, type: a_28, createdAt: new Date, authorId: o_126 });
                                return this.K(a_28, t_409, o_126, i_197), c_18;
                            }
                        };
                        ib.prototype[nb("0xb3")] = function (t, e) {
                            var e_793, _j, e_794, _q, e_795, _z, e_796, _0, e_797, _1, e_798, _2, e_799, _3, e_800, _4, e_801, _5, e_802, _6;
                            if (e === void 0) { e = nb("0x98"); }
                            var n = this[nb("0xc")][nb("0x6")][nb("0x7")](nb("0x95")).me, i = t[nb("0x3")](function (t) { return new sa(t.start, t[nb("0x1d")]); }), o = new Set;
                            try {
                                for (var i_198 = __values(i), i_198_1 = i_198.next(); !i_198_1.done; i_198_1 = i_198.next()) {
                                    var t_411 = i_198_1.value;
                                    try {
                                        for (var _7 = __values(this.P(t_411, "insertion")), _8 = _7.next(); !_8.done; _8 = _7.next()) {
                                            var _9 = _8.value, e_803 = _9.suggestion, n_308 = _9.meta;
                                            n_308[nb("0x6b")] && !n_308[nb("0xa0")] && o[nb("0x22")](e_803);
                                        }
                                    }
                                    catch (e_794_1) { e_794 = { error: e_794_1 }; }
                                    finally {
                                        try {
                                            if (_8 && !_8.done && (_q = _7.return)) _q.call(_7);
                                        }
                                        finally { if (e_794) throw e_794.error; }
                                    }
                                }
                            }
                            catch (e_793_1) { e_793 = { error: e_793_1 }; }
                            finally {
                                try {
                                    if (i_198_1 && !i_198_1.done && (_j = i_198.return)) _j.call(i_198);
                                }
                                finally { if (e_793) throw e_793.error; }
                            }
                            var _loop_22 = function (n_309) {
                                if (n_309[nb("0xac")]) {
                                    var o_129 = n_309[nb("0x9b")]();
                                    if (o_129.every(function (t) { return i.some(function (e) { return e.containsRange(t, !0); }); }) && n_309[nb("0xad")](), i.every(function (t) { return o_129.some(function (e) { return e[nb("0x6c")](t, !0); }); }))
                                        return { value: (this_3[nb("0xd")][nb("0x99")]("deletion", e, "accept")(t), null) };
                                }
                                else {
                                    var t_412 = n_309[nb("0x50")]();
                                    if (i[nb("0xb4")](function (e) { return e[nb("0x6c")](t_412, !0); }) && n_309[nb("0xad")](), i[nb("0xb5")](function (e) { return t_412.containsRange(e, !0); }))
                                        return { value: (this_3[nb("0xd")].getSuggestionCallback(nb("0xae"), e, nb("0xa3"))(i), null) };
                                }
                            };
                            var this_3 = this;
                            try {
                                for (var o_127 = __values(o), o_127_1 = o_127.next(); !o_127_1.done; o_127_1 = o_127.next()) {
                                    var n_309 = o_127_1.value;
                                    var state_2 = _loop_22(n_309);
                                    if (typeof state_2 === "object")
                                        return state_2.value;
                                }
                            }
                            catch (e_795_1) { e_795 = { error: e_795_1 }; }
                            finally {
                                try {
                                    if (o_127_1 && !o_127_1.done && (_z = o_127.return)) _z.call(o_127);
                                }
                                finally { if (e_795) throw e_795.error; }
                            }
                            var r = this[nb("0xd")][nb("0x99")]("deletion", e, nb("0x5"));
                            var s = null;
                            try {
                                for (var _10 = __values(this[nb("0x88")]()), _11 = _10.next(); !_11.done; _11 = _10.next()) {
                                    var i_201 = _11.value;
                                    if (i_201.author.id == n.id && i_201[nb("0x47")] && nb("0xae") == i_201.type && i_201[nb("0x96")] == e && (r(i_201[nb("0x9b")](), t) || r(t, i_201[nb("0x9b")]())))
                                        if (s) {
                                            if (i_201[nb("0x84")] && i_201[nb("0x84")][nb("0x4d")])
                                                continue;
                                            try {
                                                for (var _12 = __values(i_201[nb("0x9b")]()), _13 = _12.next(); !_13.done; _13 = _12.next()) {
                                                    var t_413 = _13.value;
                                                    s[nb("0x9c")](t_413);
                                                }
                                            }
                                            catch (e_797_1) { e_797 = { error: e_797_1 }; }
                                            finally {
                                                try {
                                                    if (_13 && !_13.done && (_1 = _12.return)) _1.call(_12);
                                                }
                                                finally { if (e_797) throw e_797.error; }
                                            }
                                            i_201[nb("0xa6")]();
                                        }
                                        else {
                                            s = i_201;
                                            try {
                                                for (var t_410 = __values(t), t_410_1 = t_410.next(); !t_410_1.done; t_410_1 = t_410.next()) {
                                                    var e_804 = t_410_1.value;
                                                    i_201[nb("0x9c")](e_804);
                                                }
                                            }
                                            catch (e_798_1) { e_798 = { error: e_798_1 }; }
                                            finally {
                                                try {
                                                    if (t_410_1 && !t_410_1.done && (_2 = t_410.return)) _2.call(t_410);
                                                }
                                                finally { if (e_798) throw e_798.error; }
                                            }
                                        }
                                }
                            }
                            catch (e_796_1) { e_796 = { error: e_796_1 }; }
                            finally {
                                try {
                                    if (_11 && !_11.done && (_0 = _10.return)) _0.call(_10);
                                }
                                finally { if (e_796) throw e_796.error; }
                            }
                            if (s)
                                return s;
                            o.clear();
                            try {
                                for (var i_199 = __values(i), i_199_1 = i_199.next(); !i_199_1.done; i_199_1 = i_199.next()) {
                                    var t_414 = i_199_1.value;
                                    try {
                                        for (var _14 = __values(this.P(t_414, "deletion")), _15 = _14.next(); !_15.done; _15 = _14.next()) {
                                            var _16 = _15.value, e_805 = _16.suggestion, n_310 = _16.meta;
                                            n_310[nb("0x6b")] && o.add(e_805);
                                        }
                                    }
                                    catch (e_800_1) { e_800 = { error: e_800_1 }; }
                                    finally {
                                        try {
                                            if (_15 && !_15.done && (_4 = _14.return)) _4.call(_14);
                                        }
                                        finally { if (e_800) throw e_800.error; }
                                    }
                                }
                            }
                            catch (e_799_1) { e_799 = { error: e_799_1 }; }
                            finally {
                                try {
                                    if (i_199_1 && !i_199_1.done && (_3 = i_199.return)) _3.call(i_199);
                                }
                                finally { if (e_799) throw e_799.error; }
                            }
                            var _loop_23 = function (t_415) {
                                var e_806 = t_415[nb("0x9b")]();
                                if (i[nb("0xb5")](function (t) { return e_806.some(function (e) { return e[nb("0x6c")](t, !0); }); }))
                                    return { value: t_415 };
                                e_806[nb("0xb5")](function (t) { return i[nb("0xb4")](function (e) { return e[nb("0x6c")](t, !0); }); }) && t_415[nb("0xad")]();
                            };
                            try {
                                for (var o_128 = __values(o), o_128_1 = o_128.next(); !o_128_1.done; o_128_1 = o_128.next()) {
                                    var t_415 = o_128_1.value;
                                    var state_3 = _loop_23(t_415);
                                    if (typeof state_3 === "object")
                                        return state_3.value;
                                }
                            }
                            catch (e_801_1) { e_801 = { error: e_801_1 }; }
                            finally {
                                try {
                                    if (o_128_1 && !o_128_1.done && (_5 = o_128.return)) _5.call(o_128);
                                }
                                finally { if (e_801) throw e_801.error; }
                            }
                            var a = Jn(), c = n.id, l = "deletion:" + e, d = this.J({ id: a, type: l, createdAt: new Date, authorId: c });
                            try {
                                for (var i_200 = __values(i), i_200_1 = i_200.next(); !i_200_1.done; i_200_1 = i_200.next()) {
                                    var t_416 = i_200_1.value;
                                    t_416[nb("0xaf")](), t_416[nb("0x43")] || nb("0xb0") == t_416[nb("0x44")].rootName || this.K(l, a, c, t_416, tp[nb("0x9e")]());
                                }
                            }
                            catch (e_802_1) { e_802 = { error: e_802_1 }; }
                            finally {
                                try {
                                    if (i_200_1 && !i_200_1.done && (_6 = i_200.return)) _6.call(i_200);
                                }
                                finally { if (e_802) throw e_802.error; }
                            }
                            return d;
                        };
                        ib.prototype.H = function (t, e) { var n = t[nb("0x52")](); this.k[nb("0x67")](function (t) { t.updateMarker(n, { range: e }); }); };
                        ib.prototype.Y = function (t) { this.D[nb("0xb6")].has(t) || this.D[nb("0xb7")]({ threadId: t }), this.o.get(t).commentThread = this.D[nb("0xb6")][nb("0x7")](t); };
                        ib.prototype.G = function (t, e, n, i) { if (t.type != e || t[nb("0x96")] != n || t.author.id != i)
                            throw this[nb("0xc")].isReadOnly = !0, new Gn.b(nb("0xb8"), this); };
                        ib.prototype.X = function (t, e) { var n = t.getFirstRange(); if (e.isEqual(n))
                            t[nb("0xa6")]();
                        else if (n[nb("0x6c")](e)) {
                            var i_202 = this.k[nb("0x60")](e.start[nb("0x77")], nb("0x1d"));
                            this.H(t, this.k.createRange(n[nb("0x1c")], i_202));
                            var o_130 = Jn(), r_68 = t[nb("0x9a")].id, s_51 = t[nb("0x35")] + ":" + t.subType;
                            this.J({ id: o_130, type: s_51, createdAt: new Date, authorId: r_68, data: t[nb("0x57")] });
                            var a_29 = this.k[nb("0x60")](e[nb("0x1d")][nb("0xb9")], nb("0xba")), c_19 = this.k[nb("0x51")](a_29, n[nb("0x1d")]);
                            this.K(s_51, o_130, r_68, c_19);
                        }
                        else if (n.containsPosition(e.start)) {
                            var i_203 = this.k.createPositionAt(e[nb("0x1c")][nb("0x77")], "end");
                            this.H(t, this.k[nb("0x51")](n[nb("0x1c")], i_203));
                        }
                        else {
                            var i_204 = this.k[nb("0x60")](e[nb("0x1d")].parent, nb("0xba"));
                            this.H(t, this.k[nb("0x51")](i_204, n[nb("0x1d")]));
                        } };
                        ib.prototype.V = function (t) {
                            var e_807, _j, e_808, _q;
                            try {
                                for (var _z = __values(this.P(t, "insertion")), _0 = _z.next(); !_0.done; _0 = _z.next()) {
                                    var _1 = _0.value, e_809 = _1.suggestion, n_311 = _1.meta;
                                    if (!n_311[nb("0x6b")])
                                        continue;
                                    var i_206 = e_809[nb("0x9b")]();
                                    try {
                                        for (var i_205 = __values(i_206), i_205_1 = i_205.next(); !i_205_1.done; i_205_1 = i_205.next()) {
                                            var e_810 = i_205_1.value;
                                            if (!t[nb("0xa2")](e_810)[nb("0x4d")])
                                                return !0;
                                        }
                                    }
                                    catch (e_808_1) { e_808 = { error: e_808_1 }; }
                                    finally {
                                        try {
                                            if (i_205_1 && !i_205_1.done && (_q = i_205.return)) _q.call(i_205);
                                        }
                                        finally { if (e_808) throw e_808.error; }
                                    }
                                }
                            }
                            catch (e_807_1) { e_807 = { error: e_807_1 }; }
                            finally {
                                try {
                                    if (_0 && !_0.done && (_j = _z.return)) _j.call(_z);
                                }
                                finally { if (e_807) throw e_807.error; }
                            }
                            return !1;
                        };
                        ib.prototype.Z = function (t) { var e = this[nb("0xc")][nb("0x6")][nb("0x7")](nb("0x95")).getUser(t); if (!e)
                            throw new Gn.b("track-changes-user-not-found: User with given id not found.", this); return e; };
                        ib.prototype.W = function (t, e, n, i) {
                            var _this = this;
                            var o = this.Z(i), r = this[nb("0xd")][nb("0xbb")](t, e, n, o);
                            return this[nb("0x82")](r, nb("0xa3"), function () { _this.q(n, { state: "accepted" }); }, { priority: nb("0x39") }), this[nb("0x82")](r, nb("0xad"), function () { _this.q(n, { state: nb("0xbc") }); }, { priority: nb("0x39") }), this.o[nb("0x8d")](n, r), this._[nb("0x8d")](r, "notReady"), r;
                        };
                        ib.prototype[nb("0x19")] = function (t) { var e = t[nb("0x62")](":"); return { group: e[0], type: e[1], subType: e[nb("0x4d")] >= 5 ? e[2] : null, id: e.length < 5 ? e[2] : e[3], authorId: e[nb("0x4d")] < 5 ? e[3] : e[4], markerCount: 6 == e[nb("0x4d")] ? e[5] : null }; };
                        ib.prototype.L = function (t, e, n) { var i = t[nb("0x50")](), o = i.start, r = i[nb("0x1d")]; this.H(t, this.k.createRange(o, e)); var s = Jn(), a = t[nb("0x9a")].id, c = t[nb("0x35")] + (t[nb("0x96")] ? ":" + t[nb("0x96")] : ""); this.J({ id: s, type: c, createdAt: new Date, authorId: a, originalSuggestionId: t.id, data: t[nb("0x57")] }), nb("0x45") == t[nb("0x35")] && (n = this.k[nb("0xbd")](n[nb("0xb9")])), this.K(c, s, a, this.k[nb("0x51")](n, r)); };
                        ib.prototype.P = function (t, e) {
                            var e_811, _j, e_812, _q;
                            if (e === void 0) { e = null; }
                            var n = [], i = this.k[nb("0x2a")], o = this[nb("0xc")].plugins[nb("0x7")](nb("0x95")).me;
                            try {
                                for (var _z = __values(this.getSuggestions()), _0 = _z.next(); !_0.done; _0 = _z.next()) {
                                    var r_69 = _0.value;
                                    if (r_69[nb("0x47")] && (!e || r_69[nb("0x35")] == e))
                                        try {
                                            for (var _1 = __values(r_69[nb("0x9b")]()), _2 = _1.next(); !_2.done; _2 = _1.next()) {
                                                var e_813 = _2.value;
                                                var s_52 = t[nb("0x1c")][nb("0xbe")](e_813[nb("0x1d")]) || t[nb("0x1d")].isEqual(e_813[nb("0x1c")]);
                                                if (s_52 || t[nb("0xaa")](e_813)) {
                                                    var a_30 = t[nb("0x6c")](e_813) && sb(i, e_813.start, t), c_20 = e_813[nb("0x6c")](t) && sb(i, t[nb("0x1c")], e_813);
                                                    n[nb("0xa1")]({ suggestion: r_69, meta: { isOwn: o == r_69[nb("0x9a")], isNextTo: s_52, isInsideObject: a_30, containsRangeInObject: c_20 } });
                                                    break;
                                                }
                                            }
                                        }
                                        catch (e_812_1) { e_812 = { error: e_812_1 }; }
                                        finally {
                                            try {
                                                if (_2 && !_2.done && (_q = _1.return)) _q.call(_1);
                                            }
                                            finally { if (e_812) throw e_812.error; }
                                        }
                                }
                            }
                            catch (e_811_1) { e_811 = { error: e_811_1 }; }
                            finally {
                                try {
                                    if (_0 && !_0.done && (_j = _z.return)) _j.call(_z);
                                }
                                finally { if (e_811) throw e_811.error; }
                            }
                            return n;
                        };
                        ib.prototype.K = function (t, e, n, i, o) {
                            if (o === void 0) { o = null; }
                            this.k[nb("0x67")](function (r) { var s = nb("0xbf") + t + ":" + e + ":" + n; o && (s = s + ":" + o), r.addMarker(s, { range: i, usingOperation: !0, affectsData: !0 }); });
                        };
                        ib.prototype.N = function (t) { var e = t[nb("0xc0")], n = t[nb("0xc1")]; t.previous = null, null != e && (e.next = null), t[nb("0xc1")] = null, "ready" == this._.get(t) && (this._[nb("0x8d")](t, nb("0x93")), this.fire(nb("0xc2"), t, e, n)), null != n && (n[nb("0xc0")] = null); };
                        ib.prototype.J = function (t) {
                            var _this = this;
                            var e = t.id, n = this[nb("0x8a")](t);
                            if (this.Y(e), this.I && this.I[nb("0xc3")]) {
                                var i_207 = n[nb("0xc4")], o_131 = n.subType ? n.type + ":" + n[nb("0x96")] : n[nb("0x35")];
                                this[nb("0xc5")][nb("0x8d")](e);
                                var r_70 = { id: e, type: o_131, hasComments: i_207, data: t[nb("0x57")] || null, originalSuggestionId: t[nb("0xc6")] || null };
                                this.I[nb("0xc3")](r_70)[nb("0xc7")](function (t) { _this[nb("0xc5")][nb("0xc8")](e), t && t[nb("0x8b")] && (_this.o[nb("0x7")](e)[nb("0x8b")] = t[nb("0x8b")]); });
                            }
                            return n;
                        };
                        ib.prototype.q = function (t, e) {
                            var _this = this;
                            this.I && this.I[nb("0xc9")] && (this.pendingSuggestions[nb("0x8d")](t), this.I.updateSuggestion(t, e)[nb("0xc7")](function () { _this.pendingSuggestions[nb("0xc8")](t); }));
                        };
                        ib.prototype.tt = function (t) { if (!this.I || !this.I.getSuggestion)
                            throw new Gn.b(nb("0xca"), this); return this.I[nb("0x89")](t); };
                        ib.prototype.U = function (t) {
                            var _this = this;
                            var _j = this._splitMarkerName(t), e = _j.id, n = _j.type, i = _j.subType, o = _j.authorId, r = this.o[nb("0x7")](e) || this.W(n, i, e, o);
                            switch ((this.G(r, n, i, o), this._[nb("0x7")](r))) {
                                case nb("0x8c"):
                                    this.tt(e)[nb("0xc7")](function (t) { _this.addSuggestionData(t); var n = Promise.resolve(); t[nb("0xc4")] && (n = _this.D._getCommentThread(e)), n[nb("0xc7")](function () { return _this.Y(e); }); }), this._[nb("0x8d")](r, nb("0x8f"));
                                    break;
                                case "removed": this.q(e, { state: "open" });
                                case "dataReady":
                                    this._[nb("0x8d")](r, "ready"), this.Y(e), this[nb("0x91")](nb("0x92"), r);
                                    break;
                                case nb("0x90"): this[nb("0x91")](nb("0x5a"), r);
                            }
                            r[nb("0x54")](t), this.F(r);
                        };
                        ib.prototype.F = function (t) {
                            var e_814, _j;
                            if (nb("0x41") == t[nb("0x35")] || "formatBlock" == t[nb("0x35")])
                                return;
                            if (t.isMultiRange)
                                return;
                            var e = !0;
                            try {
                                for (var _q = __values(this[nb("0x88")]()), _z = _q.next(); !_z.done; _z = _q.next()) {
                                    var n_312 = _z.value;
                                    if (!n_312[nb("0xac")] && n_312 != t && n_312[nb("0x47")] && nb("0x41") != n_312.type && nb("0x45") != n_312[nb("0x35")] && n_312.author.id == t[nb("0x9a")].id) {
                                        if (this.it(n_312, t)) {
                                            if (t[nb("0x84")] && t[nb("0x84")][nb("0x4d")])
                                                continue;
                                            n_312[nb("0xc1")] = t, t.previous = n_312, e = !1;
                                        }
                                        if (this.it(t, n_312)) {
                                            if (n_312[nb("0x84")] && n_312[nb("0x84")][nb("0x4d")])
                                                continue;
                                            t[nb("0xc1")] = n_312, n_312[nb("0xc0")] = t;
                                        }
                                    }
                                }
                            }
                            catch (e_814_1) { e_814 = { error: e_814_1 }; }
                            finally {
                                try {
                                    if (_z && !_z.done && (_j = _q.return)) _j.call(_q);
                                }
                                finally { if (e_814) throw e_814.error; }
                            }
                            t[nb("0xc0")] && e && (t[nb("0xc0")][nb("0xc1")] = null, t[nb("0xc0")] = null);
                        };
                        ib.prototype.it = function (t, e) {
                            var e_815, _j;
                            var n = t[nb("0x50")](), i = e[nb("0x50")]();
                            if (n[nb("0x1d")][nb("0xbe")](i[nb("0x1c")]))
                                return !0;
                            if (t[nb("0x35")] != e.type)
                                return !1;
                            if (!n[nb("0x1d")][nb("0xcb")](i[nb("0x1c")]))
                                return !1;
                            var o = new qs({ boundaries: this.editor[nb("0xe")][nb("0x51")](n[nb("0x1d")], i[nb("0x1c")]) });
                            try {
                                for (var o_132 = __values(o), o_132_1 = o_132.next(); !o_132_1.done; o_132_1 = o_132.next()) {
                                    var t_417 = o_132_1.value;
                                    if (nb("0x38") == t_417[nb("0x35")] && this.editor.model[nb("0x2a")][nb("0xcc")](t_417[nb("0x26")]))
                                        return !1;
                                }
                            }
                            catch (e_815_1) { e_815 = { error: e_815_1 }; }
                            finally {
                                try {
                                    if (o_132_1 && !o_132_1.done && (_j = o_132.return)) _j.call(o_132);
                                }
                                finally { if (e_815) throw e_815.error; }
                            }
                            return !0;
                        };
                        ib.prototype.B = function (t) {
                            var e_816, _j;
                            try {
                                for (var _q = __values(this.o[nb("0x4f")]()), _z = _q.next(); !_z.done; _z = _q.next()) {
                                    var e_817 = _z.value;
                                    if (e_817 == t || !e_817.isInContent)
                                        continue;
                                    if (e_817.type != t[nb("0x35")] || e_817.author.id != t[nb("0x9a")].id || e_817[nb("0x96")] != t.subType)
                                        continue;
                                    var n_313 = this[nb("0xd")][nb("0x99")](t[nb("0x35")], t[nb("0x96")], nb("0x5"));
                                    if (n_313(e_817[nb("0x9b")](), t[nb("0x9b")]())) {
                                        if (t[nb("0x84")] && t[nb("0x84")][nb("0x4d")])
                                            continue;
                                        return this.et(e_817, t), !0;
                                    }
                                    if (n_313(t[nb("0x9b")](), e_817.getRanges())) {
                                        if (e_817[nb("0x84")] && e_817[nb("0x84")][nb("0x4d")])
                                            continue;
                                        return this.et(t, e_817), !0;
                                    }
                                }
                            }
                            catch (e_816_1) { e_816 = { error: e_816_1 }; }
                            finally {
                                try {
                                    if (_z && !_z.done && (_j = _q.return)) _j.call(_q);
                                }
                                finally { if (e_816) throw e_816.error; }
                            }
                            return !1;
                        };
                        ib.prototype.et = function (t, e) {
                            var e_818, _j;
                            if (t[nb("0xac")])
                                try {
                                    for (var _q = __values(e[nb("0x9b")]()), _z = _q.next(); !_z.done; _z = _q.next()) {
                                        var n_314 = _z.value;
                                        t[nb("0x9c")](n_314);
                                    }
                                }
                                catch (e_818_1) { e_818 = { error: e_818_1 }; }
                                finally {
                                    try {
                                        if (_z && !_z.done && (_j = _q.return)) _j.call(_q);
                                    }
                                    finally { if (e_818) throw e_818.error; }
                                }
                            else {
                                var n_315 = e.getFirstRange().end;
                                this.H(t, this.k[nb("0x51")](t[nb("0x50")]()[nb("0x1c")], n_315));
                            }
                            e.removeMarkers();
                        };
                        return ib;
                    }(Ad));
                    ci(ib, ei);
                    var ob = /** @class */ (function () {
                        function ob(t) {
                            this.st = t, this.ot = new Set, this.nt = null;
                        }
                        ob.prototype[nb("0x8d")] = function (t) { this.ot.add(t), this.nt || (this.nt = this.st.add("Unsaved changes in track changes.")); };
                        ob.prototype[nb("0xc8")] = function (t) { this.ot[nb("0xcd")](t), this.nt && !this.ot[nb("0xce")] && (this.st[nb("0xc8")](this.nt), this.nt = null); };
                        return ob;
                    }());
                    var rb = /** @class */ (function () {
                        function rb(t) {
                            this.rt = t, this.k = t[nb("0xe")], this.v = new Map, this.ct = new Map, this.at();
                        }
                        rb.prototype[nb("0xbb")] = function (t, e, n, i) { return new tp(this.k, { type: t, subType: e, id: n, author: i, onAccept: this[nb("0x99")](t, e, nb("0xa3")), onDiscard: this[nb("0x99")](t, e, nb("0xad")) }); };
                        rb.prototype[nb("0xcf")] = function (t, e, n, i) { var o = t + ":" + e + ":" + n; this.v[nb("0x8d")](o, i); };
                        rb.prototype[nb("0x99")] = function (t, e, n) { var i = t + ":" + e + ":" + n; return this.v.get(i) || this.ct[nb("0x7")](t + ":" + n); };
                        rb.prototype.at = function () {
                            var _this = this;
                            var t = function () { }, e = function (t) { t[nb("0x56")](function (t, e) { return t[nb("0x1c")][nb("0xa5")](e[nb("0x1c")]) ? 1 : -1; }), _this.k[nb("0x67")](function (e) {
                                var e_819, _j;
                                try {
                                    for (var t_418 = __values(t), t_418_1 = t_418.next(); !t_418_1.done; t_418_1 = t_418.next()) {
                                        var n_316 = t_418_1.value;
                                        var t_419 = e.createSelection(n_316);
                                        _this.k[nb("0x6e")](t_419, { forceDefaultExecution: !0, doNotAutoparagraph: !0 });
                                    }
                                }
                                catch (e_819_1) { e_819 = { error: e_819_1 }; }
                                finally {
                                    try {
                                        if (t_418_1 && !t_418_1.done && (_j = t_418.return)) _j.call(t_418);
                                    }
                                    finally { if (e_819) throw e_819.error; }
                                }
                            }); }, n = function (t, e) { _this.k[nb("0x67")](function (n) {
                                var _j;
                                var i = e.commandName, o = e.commandParams, r = t[0];
                                if (nb("0xb0") == r[nb("0x44")][nb("0xb1")])
                                    return;
                                var s = sa[nb("0xd0")](_this.k[nb("0x3e")][nb("0xd1")][nb("0x50")]());
                                !function (t) { return t.end.parent == t[nb("0x1c")][nb("0xd2")] && 0 == t.end[nb("0xd3")]; }(r) ? n.setSelection(r) : n[nb("0x71")](_this.k[nb("0x51")](r.end)), _this.rt.commands[nb("0x7")](i)[nb("0xd4")](), o.push({ forceDefaultExecution: !0 }), (_j = _this.rt)[nb("0x83")].apply(_j, __spread([i], o)), nb("0xb0") != s[nb("0x44")][nb("0xb1")] && n[nb("0x71")](s), s[nb("0xaf")]();
                            }); }, i = function (t, e) { return 1 == t[nb("0x4d")] && 1 == e[nb("0x4d")] && t[0].end[nb("0xbe")](e[0].start); };
                            this.ct[nb("0x8d")](nb("0xd5"), t), this.ct[nb("0x8d")](nb("0xd6"), e), this.ct[nb("0x8d")]("insertion:join", i), this.ct.set("deletion:accept", e), this.ct[nb("0x8d")]("deletion:discard", t), this.ct.set("deletion:join", i), this.ct[nb("0x8d")](nb("0xd7"), n), this.ct[nb("0x8d")](nb("0xd8"), t), this.ct[nb("0x8d")](nb("0xd9"), i), this.ct[nb("0x8d")](nb("0xda"), n), this.ct.set(nb("0xdb"), t), this.ct[nb("0x8d")](nb("0xdc"), i);
                        };
                        return rb;
                    }());
                    function sb(t, e, n) {
                        var e_820, _j;
                        try {
                            for (var _q = __values(e[nb("0xb9")][nb("0xdd")]({ includeSelf: !0, parentFirst: !0 })), _z = _q.next(); !_z.done; _z = _q.next()) {
                                var i_208 = _z.value;
                                if (i_208[nb("0x44")] == i_208)
                                    return !1;
                                if (!n[nb("0xde")](i_208))
                                    return !1;
                                if (t[nb("0x36")](i_208) || t[nb("0xcc")](i_208))
                                    return !0;
                            }
                        }
                        catch (e_820_1) { e_820 = { error: e_820_1 }; }
                        finally {
                            try {
                                if (_z && !_z.done && (_j = _q.return)) _j.call(_q);
                            }
                            finally { if (e_820) throw e_820.error; }
                        }
                    }
                    function ab(t, e, n, i) { var o = t[nb("0x1c")][nb("0xdf")](function (t) { return !t[nb("0x26")].is("textProxy") && !i[nb("0x36")](t.item); }), r = t[nb("0x1d")][nb("0xdf")](function (t) { return !t.item.is("textProxy") && !i[nb("0x36")](t[nb("0x26")]); }, { direction: nb("0xe0") }); if (!t[nb("0x1c")].isEqual(o) || !t.end[nb("0xbe")](r)) {
                        var t_420 = n.createRange(o, r);
                        return n[nb("0xb")](e, { range: t_420 }), !0;
                    } return !1; }
                    function cb(t) { return function (t) {
                        var e_821, _j, _q, _z;
                        var e = 0, n = 0;
                        try {
                            for (var _0 = __values(Jx(t)), _1 = _0.next(); !_1.done; _1 = _0.next()) {
                                var i_209 = _1.value;
                                e = (e << 5) - e + i_209, e &= e, (_q = [n, e], _z = __read(_q, 2), e = _z[0], n = _z[1], _q);
                            }
                        }
                        catch (e_821_1) { e_821 = { error: e_821_1 }; }
                        finally {
                            try {
                                if (_1 && !_1.done && (_j = _0.return)) _j.call(_0);
                            }
                            finally { if (e_821) throw e_821.error; }
                        }
                        return tb(e) + tb(n);
                    }(t); }
                    function lb(t) { var e = t.start[nb("0xd2")]; return e && e.is(nb("0x2b")); }
                    function db(t, e) { return e[nb("0x51")](e[nb("0x60")](t, "before"), e[nb("0x2a")][nb("0x36")](t) ? e.createPositionAfter(t) : e.createPositionAt(t, nb("0x1d"))); }
                    var ub = ["extendTemplate", "ck-suggestion__user", "ck-annotation__user", "bindTemplate", "div", "ck-suggestion-wrapper", "ck-suggestion-wraper--active", "ck-suggestion", "ck-annotation", "ck-suggestion-", "ck-suggestion__main", "ck-annotation__main", "ck-suggestion__info", "ck-annotation__info", "span", "name", "ck-suggestion__info-name", "ck-annotation__info-name", "time", "ck-comment__info-time", "ck-annotation__info-time", "ck-suggestion__actions", "ck-annotation__actions", "render", "element", "querySelector", ".ck-annotation__content-wrapper", "set", "isActive", "createdAt", "type", "innerHTML", "acceptButton", "Accept suggestion", "ck-suggestion--accept", "discardButton", "Reject suggestion", "ck-suggestion--discard", "userView"];
                    !function (t, e) { !function (e) { for (; --e;)
                        t.push(t.shift()); }(++e); }(ub, 378);
                    var hb = function (t, e) { return ub[t -= 0]; };
                    var mb = /** @class */ (function (_super) {
                        __extends(mb, _super);
                        function mb(t, _j) {
                            var e = _j.author, n = _j.suggestionId, i = _j.formatDateTime;
                            var _this = this;
                            _this = _super.call(this, t) || this, _this[hb("0x0")](hb("0x1"), !1), _this[hb("0x0")](hb("0x2"), null), _this[hb("0x0")](hb("0x3"), ""), _this.set("content", ""), _this.on("change:content", function (t, e, n) { _this._t[hb("0x4")] = n; }), _this[hb("0x5")] = _this.bt(hb("0x6"), Yu.a, hb("0x7")), _this[hb("0x8")] = _this.bt(hb("0x9"), Gu.a, hb("0xa")), _this[hb("0xb")] = new nh(t, e), _this[hb("0xb")][hb("0xc")]({ attributes: { class: [hb("0xd"), hb("0xe")] } });
                            var o = _this[hb("0xf")];
                            _this.setTemplate({ tag: hb("0x10"), attributes: { class: [hb("0x11"), o.if(hb("0x1"), hb("0x12"))] }, children: [{ tag: "div", attributes: { class: [hb("0x13"), hb("0x14"), o.to("type", function (t) { return hb("0x15") + t; })], "data-author-id": e.id, "data-suggestion-id": n }, children: [_this[hb("0xb")], { tag: hb("0x10"), attributes: { class: [hb("0x16"), hb("0x17")] }, children: [{ tag: "div", attributes: { class: [hb("0x18"), hb("0x19")] }, children: [{ tag: hb("0x1a"), children: [{ text: _this.userView[hb("0x1b")] }], attributes: { class: [hb("0x1c"), hb("0x1d")] } }, { tag: hb("0x1e"), attributes: { datetime: o.to(hb("0x2")), class: [hb("0x1f"), hb("0x20")] }, children: [{ text: o.to("createdAt", function (t) { return i(t); }) }] }] }, { tag: hb("0x10"), attributes: { class: [hb("0x21"), hb("0x22")] }, children: [_this[hb("0x5")], _this[hb("0x8")]] }, { tag: hb("0x10"), attributes: { class: ["ck-annotation__content-wrapper"] } }] }] }] });
                            return _this;
                        }
                        mb.prototype[hb("0x23")] = function () { _super.prototype[hb("0x23")].call(this), this._t = this[hb("0x24")][hb("0x25")](hb("0x26")); };
                        mb.prototype.bt = function (t, e, n) { var i = new sd(this.locale); return i[hb("0x0")]({ label: t, icon: e, tooltip: !0 }), i[hb("0xc")]({ attributes: { class: n } }), i; };
                        return mb;
                    }(zl));
                    var gb = ["author", "formatDateTime", "render", "bind", "type", "isArray", "length", "label", "startsWith", "formatBlock", "formatInline", "format", "Replace", "Remove", "Merge", "deletion", "createdAt", "description", "<p>", "</span> ", "trim", "acceptButton", "execute", "discardButton", "isEnabled", "destroy", "stopListening", "createElement", "span", "innerText", "innerHTML", "suggestion", "isActive", "set", "view", "localeData"];
                    !function (t, e) { !function (e) { for (; --e;)
                        t.push(t.shift()); }(++e); }(gb, 463);
                    var fb = function (t, e) { return gb[t -= 0]; };
                    var pb = /** @class */ (function () {
                        function pb(t, e, n, i) {
                            this.localeData = t, this[fb("0x0")] = e, this.vt = n, this.At = i, this.set(fb("0x1"), !1), this.set("isEdit", !1), this[fb("0x2")]("description", []), this[fb("0x3")] = this.xt();
                        }
                        pb.prototype.xt = function () {
                            var _this = this;
                            var t = new mb(this[fb("0x4")].locale, { author: this[fb("0x0")][fb("0x5")], suggestionId: this[fb("0x0")].id, formatDateTime: this.localeData[fb("0x6")] });
                            return t[fb("0x7")](), t[fb("0x8")](fb("0x1")).to(this), t[fb("0x8")](fb("0x9")).to(this, "description", function (t) { return (function (t, e) { var n = Array[fb("0xa")](t) && t[fb("0xb")] ? t[0][fb("0xc")] : ""; function i(t) { return n[fb("0xd")](t); } return fb("0xe") == e || fb("0xf") == e ? fb("0x10") : i(fb("0x11")) ? "replace" : i(fb("0x12")) || i(fb("0x13")) ? fb("0x14") : i("Add") || i("Split") ? "insertion" : e; })(t[0], _this[fb("0x0")][fb("0x9")]); }), t[fb("0x8")](fb("0x15")).to(this[fb("0x0")]), t[fb("0x8")]("content").to(this, fb("0x16"), this, "isActive", function (t, e) {
                                var e_822, _j, e_823, _q;
                                var n = "";
                                try {
                                    for (var t_421 = __values(t), t_421_1 = t_421.next(); !t_421_1.done; t_421_1 = t_421.next()) {
                                        var e_825 = t_421_1.value;
                                        n += fb("0x17");
                                        try {
                                            for (var e_824 = __values(e_825), e_824_1 = e_824.next(); !e_824_1.done; e_824_1 = e_824.next()) {
                                                var t_422 = e_824_1.value;
                                                n += '<span class="ck-suggestion-type">' + t_422[fb("0xc")] + fb("0x18"), t_422.description && (n += '<span class="ck-suggestion-content">' + xb(t_422.description) + fb("0x18"));
                                            }
                                        }
                                        catch (e_823_1) { e_823 = { error: e_823_1 }; }
                                        finally {
                                            try {
                                                if (e_824_1 && !e_824_1.done && (_q = e_824.return)) _q.call(e_824);
                                            }
                                            finally { if (e_823) throw e_823.error; }
                                        }
                                        n = n[fb("0x19")](), n += "</p>";
                                    }
                                }
                                catch (e_822_1) { e_822 = { error: e_822_1 }; }
                                finally {
                                    try {
                                        if (t_421_1 && !t_421_1.done && (_j = t_421.return)) _j.call(t_421);
                                    }
                                    finally { if (e_822) throw e_822.error; }
                                }
                                return e ? n : Sg(n, { limit: 140 });
                            }), t[fb("0x1a")][fb("0x8")]("isEnabled").to(this.vt), t[fb("0x1a")].on(fb("0x1b"), function () { return _this.vt[fb("0x1b")](_this[fb("0x0")].id); }), t[fb("0x1c")][fb("0x8")](fb("0x1d")).to(this.At), t[fb("0x1c")].on(fb("0x1b"), function () { return _this.At[fb("0x1b")](_this[fb("0x0")].id); }), t;
                        };
                        pb.prototype[fb("0x1e")] = function () { this[fb("0x1f")](), this.view[fb("0x1e")](); };
                        return pb;
                    }());
                    function xb(t) { var e = document[fb("0x20")](fb("0x21")); return e[fb("0x22")] = t, e[fb("0x23")]; }
                    ci(pb, Bi);
                    var bb = /** @class */ (function () {
                        function bb(t, e) {
                            e && Li(this, e), t && this.set(t);
                        }
                        return bb;
                    }());
                    ci(bb, Bi);
                    n(149);
                    var kb = /** @class */ (function (_super) {
                        __extends(kb, _super);
                        function kb(t) {
                            var _this = _super.call(this, t) || this;
                            var e = _this.bindTemplate;
                            _this.set("icon"), _this.set("isEnabled", !0), _this.set("isOn", !1), _this.set("isToggleable", !1), _this.set("isVisible", !0), _this.set("keystroke"), _this.set("label"), _this.set("tabindex", -1), _this.set("tooltip"), _this.set("tooltipPosition", "s"), _this.set("type", "button"), _this.set("withText", !1), _this.children = _this.createCollection(), _this.actionView = _this._createActionView(), _this.arrowView = _this._createArrowView(), _this.keystrokes = new tl, _this.focusTracker = new ll, _this.setTemplate({ tag: "div", attributes: { class: ["ck", "ck-splitbutton", e.if("isVisible", "ck-hidden", function (t) { return !t; }), _this.arrowView.bindTemplate.if("isOn", "ck-splitbutton_open")] }, children: _this.children });
                            return _this;
                        }
                        kb.prototype.render = function () {
                            var _this = this;
                            _super.prototype.render.call(this), this.children.add(this.actionView), this.children.add(this.arrowView), this.focusTracker.add(this.actionView.element), this.focusTracker.add(this.arrowView.element), this.keystrokes.listenTo(this.element), this.keystrokes.set("arrowright", function (t, e) { _this.focusTracker.focusedElement === _this.actionView.element && (_this.arrowView.focus(), e()); }), this.keystrokes.set("arrowleft", function (t, e) { _this.focusTracker.focusedElement === _this.arrowView.element && (_this.actionView.focus(), e()); });
                        };
                        kb.prototype.focus = function () { this.actionView.focus(); };
                        kb.prototype._createActionView = function () { var t = new sd; return t.bind("icon", "isEnabled", "isOn", "isToggleable", "keystroke", "label", "tabindex", "tooltip", "tooltipPosition", "type", "withText").to(this), t.extendTemplate({ attributes: { class: "ck-splitbutton__action" } }), t.delegate("execute").to(this), t; };
                        kb.prototype._createArrowView = function () { var t = new sd, e = t.bindTemplate; return t.icon = cd.a, t.extendTemplate({ attributes: { class: "ck-splitbutton__arrow", "aria-haspopup": !0, "aria-expanded": e.to("isOn", function (t) { return String(t); }) } }), t.bind("isEnabled").to(this), t.delegate("execute").to(this, "open"), t; };
                        return kb;
                    }(zl));
                    var wb = n(45), _b = n.n(wb), vb = ["plugins", "get", "_suggestionControllerToThreadController", "init", "TrackChangesEditing", "listenTo", "suggestionLoaded", "refreshActiveView", "set", "change:previous", "isInContent", "head", "previous", "suggestionUnloaded", "stopListening", "cancel", "_modelToController", "suggestionChanged", "model", "markers", "hasMarker", "removeMarker", "change:activeView", "_viewToController", "has", "isActive", "getAllAdjacentSuggestions", "activeMarkers", "reduce", "getMarkerNames", "add", "trackChanges", "commands", "buttonView", "Track changes", "bind", "value", "execute", "separator", "button", "acceptAllSuggestions", "Accept all selected suggestions", "acceptSelectedSuggestions", "Discard all suggestions", "Discard all selected suggestions", "discardSelectedSuggestions", "type", "commandName", "isEnabled", "source", "filter", "acceptSuggestion", "discardSuggestion", "locale", "description", "_descriptionFactory", "getDescriptions", "commentThread", "once", "change:commentThread", "view", "push", "getMarkers", "remove", "delete", "destroy", "pendingSuggestions", "addCommentThread", "removeCommentThread", "updateComment", "removeComment", "comments.editorConfig", "isEdit", "active", "registerChild", "element", "appendChild", "annotationType", "suggestion-", "number", "length", "requires", "editor"];
                    !function (t, e) { !function (e) { for (; --e;)
                        t.push(t.shift()); }(++e); }(vb, 330);
                    var yb = function (t, e) { return vb[t -= 0]; };
                    var Cb = /** @class */ (function (_super) {
                        __extends(Cb, _super);
                        function Cb(t) {
                            var _this = this;
                            _this = _super.call(this, t) || this, _this.ht = _this[yb("0x1")][yb("0x2")][yb("0x3")](zu), _this._modelToController = new Map, _this._viewToController = new Map, _this[yb("0x4")] = new Map, _this.dt = new Map;
                            return _this;
                        }
                        Object.defineProperty(Cb, yb("0x0"), {
                            get: function () { return [zu, ib, Zd]; },
                            enumerable: true,
                            configurable: true
                        });
                        Cb.prototype[yb("0x5")] = function () {
                            var _this = this;
                            var t = this[yb("0x1")], e = t[yb("0x2")][yb("0x3")](yb("0x6"));
                            this[yb("0x7")](e, yb("0x8"), function (t, e) { var n = !1; var i = ps(function (t) { n || t ? n && t && (_this.lt(e), _this.ht[yb("0x9")](), n = !1) : (_this.gt(e), _this.ht[yb("0x9")](), n = !0); }, 10); if (_this.dt[yb("0xa")](e, i), _this[yb("0x7")](e, yb("0xb"), function (t, n, o, r) { e[yb("0xc")] && (null == o ? (_this.ut(r[yb("0xd")]), i(!1)) : (_this.ut(o[yb("0xd")]), i(!0))); }), null !== e[yb("0xe")])
                                return _this.ut(e[yb("0xd")]), void _this.ht[yb("0x9")](); i(!1); }), this[yb("0x7")](e, yb("0xf"), function (t, e, n) { _this[yb("0x10")](e, "change:previous"), _this.dt[yb("0x3")](e)[yb("0x11")](), _this.dt.delete(e); var i = n ? n[yb("0xd")] : e, o = _this[yb("0x12")][yb("0x3")](i); null !== n && _this.ut(i), null === n && o && _this.lt(e); }), this.listenTo(e, yb("0x13"), function (t, e) { _this.ut(e), _this.ht[yb("0x9")](); }), this[yb("0x7")](this[yb("0x1")][yb("0x14")][yb("0x15")], "update:suggestion", function (t, e, n, i) { null === i && _this.ht[yb("0x16")](e) && _this.ht[yb("0x17")](e); }), this[yb("0x7")](this.ht, yb("0x18"), function (t, n, i, o) { if (o && _this[yb("0x19")][yb("0x1a")](o) && (_this[yb("0x19")][yb("0x3")](o)[yb("0x1b")] = !1), i && _this[yb("0x19")][yb("0x1a")](i)) {
                                var t_423 = _this[yb("0x19")][yb("0x3")](i), n_317 = t_423.suggestion[yb("0x1c")]();
                                t_423[yb("0x1b")] = !0, e[yb("0x1d")] = n_317[yb("0x1e")](function (t, e) { return (e[yb("0xc")] && t.push.apply(t, __spread(e[yb("0x1f")]())), t); }, []);
                            }
                            else
                                e.activeMarkers = []; }), t.ui.componentFactory[yb("0x20")](yb("0x21"), function (e) {
                                var e_826, _j;
                                var n = fd(e, kb), i = t[yb("0x22")][yb("0x3")](yb("0x21"));
                                n[yb("0x23")][yb("0xa")]({ tooltip: yb("0x24"), label: yb("0x24"), icon: _b.a }), n[yb("0x23")][yb("0x25")]("isOn").to(i, yb("0x26")), n[yb("0x23")].on(yb("0x27"), function () { return i[yb("0x27")](); });
                                var o = new oo, r = [{ type: "switchbutton", model: { withText: !0, label: yb("0x24"), commandName: yb("0x21") } }, { type: yb("0x28") }, { type: yb("0x29"), model: { withText: !0, label: "Accept all suggestions", commandName: yb("0x2a") } }, { type: yb("0x29"), model: { withText: !0, label: yb("0x2b"), commandName: yb("0x2c") } }, { type: yb("0x29"), model: { withText: !0, label: yb("0x2d"), commandName: "discardAllSuggestions" } }, { type: yb("0x29"), model: { withText: !0, label: yb("0x2e"), commandName: yb("0x2f") } }];
                                try {
                                    for (var r_71 = __values(r), r_71_1 = r_71.next(); !r_71_1.done; r_71_1 = r_71.next()) {
                                        var e_827 = r_71_1.value;
                                        var n_318 = { type: e_827[yb("0x30")] };
                                        if (e_827[yb("0x14")]) {
                                            var i_210 = new bb(e_827[yb("0x14")]), o_133 = t[yb("0x22")].get(i_210[yb("0x31")]);
                                            i_210[yb("0x25")]("isOn", "isEnabled").to(o_133, yb("0x26"), yb("0x32")), n_318[yb("0x14")] = i_210;
                                        }
                                        o.add(n_318);
                                    }
                                }
                                catch (e_826_1) { e_826 = { error: e_826_1 }; }
                                finally {
                                    try {
                                        if (r_71_1 && !r_71_1.done && (_j = r_71.return)) _j.call(r_71);
                                    }
                                    finally { if (e_826) throw e_826.error; }
                                }
                                return xd(n, o), n[yb("0x25")](yb("0x32")).to(i, yb("0x32")), n.on(yb("0x27"), function (e) { return t[yb("0x27")](e[yb("0x33")][yb("0x31")]); }), n;
                            });
                        };
                        Cb.prototype.gt = function (t) {
                            var _this = this;
                            var e_828, _j;
                            var e = this[yb("0x1")], n = t[yb("0x1c")]()[yb("0x34")](function (t) { return t[yb("0xc")]; }), i = e.commands[yb("0x3")](yb("0x35")), o = e[yb("0x22")][yb("0x3")](yb("0x36")), r = { locale: e[yb("0x37")], formatDateTime: Jg(e) }, s = new pb(r, t, i, o), a = this.pt(s);
                            s[yb("0x38")] = e[yb("0x2")].get(yb("0x6"))[yb("0x39")][yb("0x3a")](n), t[yb("0x3b")] ? (this.kt(s, t[yb("0x3b")]), this.ft(a, s)) : t[yb("0x3c")](yb("0x3d"), function () { _this.kt(s, t[yb("0x3b")]), _this.ft(a, s); }), this._modelToController[yb("0xa")](t, s), this[yb("0x19")][yb("0xa")](s[yb("0x3e")], s);
                            var c = [];
                            try {
                                for (var n_319 = __values(n), n_319_1 = n_319.next(); !n_319_1.done; n_319_1 = n_319.next()) {
                                    var t_424 = n_319_1.value;
                                    c[yb("0x3f")].apply(c, __spread(t_424[yb("0x40")]()));
                                }
                            }
                            catch (e_828_1) { e_828 = { error: e_828_1 }; }
                            finally {
                                try {
                                    if (n_319_1 && !n_319_1.done && (_j = n_319.return)) _j.call(n_319);
                                }
                                finally { if (e_828) throw e_828.error; }
                            }
                            this.ht[yb("0x20")](s.view, a, c);
                        };
                        Cb.prototype.lt = function (t) { var e = this[yb("0x1")][yb("0x2")].get(yb("0x6")), n = this[yb("0x12")][yb("0x3")](t), i = this._suggestionControllerToThreadController[yb("0x3")](n); this.ht[yb("0x41")](n.view), this[yb("0x12")][yb("0x42")](t), this[yb("0x19")][yb("0x42")](n[yb("0x3e")]), i && (i[yb("0x43")](), e[yb("0x44")][yb("0x41")](i.id), this[yb("0x4")].delete(n)), n.destroy(); };
                        Cb.prototype.ut = function (t) {
                            var e_829, _j;
                            if (!this[yb("0x12")][yb("0x1a")](t))
                                return;
                            var e = this[yb("0x12")][yb("0x3")](t), n = t[yb("0x1c")](), i = this[yb("0x1")][yb("0x2")][yb("0x3")](yb("0x6"))._descriptionFactory[yb("0x3a")](n), o = [];
                            try {
                                for (var n_320 = __values(n), n_320_1 = n_320.next(); !n_320_1.done; n_320_1 = n_320.next()) {
                                    var t_425 = n_320_1.value;
                                    o.push.apply(o, __spread(t_425[yb("0x40")]()));
                                }
                            }
                            catch (e_829_1) { e_829 = { error: e_829_1 }; }
                            finally {
                                try {
                                    if (n_320_1 && !n_320_1.done && (_j = n_320.return)) _j.call(n_320);
                                }
                                finally { if (e_829) throw e_829.error; }
                            }
                            this.ht.setMarkers(e.view, o), e.description = i;
                        };
                        Cb.prototype.kt = function (t, e) { var n = this.editor, i = n.plugins[yb("0x3")](yb("0x6")), o = n[yb("0x22")], r = { addCommentThread: o[yb("0x3")](yb("0x45")), removeCommentThread: o.get(yb("0x46")), addComment: o[yb("0x3")]("addComment"), updateComment: o[yb("0x3")](yb("0x47")), removeComment: o[yb("0x3")](yb("0x48")) }, s = { locale: n.locale, formatDateTime: Jg(n) }, a = new Wg(s, e, r, n.config[yb("0x3")](yb("0x49"))); t[yb("0x25")](yb("0x4a")).to(a), a[yb("0x25")](yb("0x4b")).to(t, yb("0x1b")), a[yb("0x3e")].render(), a.on("change:isEdit", function (t, e, n) { n ? i[yb("0x44")][yb("0xa")](a.id) : i[yb("0x44")][yb("0x41")](a.id); }), t[yb("0x3e")][yb("0x4c")](a[yb("0x3e")]), t[yb("0x3e")][yb("0x4d")][yb("0x4e")](a[yb("0x3e")].element), this._suggestionControllerToThreadController[yb("0xa")](t, a); };
                        Cb.prototype.pt = function (t) { var e = new Wu(this[yb("0x37")]); return e[yb("0x25")](yb("0x4f")).to(t[yb("0x3e")], "type", function (t) { return yb("0x50") + t; }), e[yb("0x51")] = 1, t[yb("0x3e")].registerChild(e), e; };
                        Cb.prototype.ft = function (t, e) { var n = this[yb("0x4")][yb("0x3")](e); t[yb("0x25")](yb("0x4a")).to(n), t[yb("0x25")](yb("0x51")).to(n, yb("0x52"), function (t) { return t + 1; }); };
                        Cb.prototype[yb("0x43")] = function () {
                            var e_830, _j;
                            _super.prototype.destroy.call(this);
                            try {
                                for (var _q = __values(this.dt.values()), _z = _q.next(); !_z.done; _z = _q.next()) {
                                    var t_426 = _z.value;
                                    t_426[yb("0x11")]();
                                }
                            }
                            catch (e_830_1) { e_830 = { error: e_830_1 }; }
                            finally {
                                try {
                                    if (_z && !_z.done && (_j = _q.return)) _j.call(_q);
                                }
                                finally { if (e_830) throw e_830.error; }
                            }
                            this.dt.clear();
                        };
                        return Cb;
                    }(Ad));
                    var Tb = ["addSuggestionData", "getSuggestions", "isInContent", "getSuggestion", "subType", "type", "author", "createdAt", "hasComments", "data", "requires", "pluginName", "TrackChanges", "adapter", "editor", "plugins", "get", "addSuggestion"];
                    !function (t, e) { !function (e) { for (; --e;)
                        t.push(t.shift()); }(++e); }(Tb, 244);
                    var Ab = function (t, e) { return Tb[t -= 0]; };
                    function Sb(t) { return { id: t.id, type: t[Ab("0xc")] ? t[Ab("0xd")] + ":" + t[Ab("0xc")] : t[Ab("0xd")], authorId: t[Ab("0xe")].id, createdAt: t[Ab("0xf")], hasComments: t[Ab("0x10")], data: t[Ab("0x11")] }; }
                    var Pb = "alignment";
                    var Mb = /** @class */ (function (_super) {
                        __extends(Mb, _super);
                        function Mb() {
                            return _super !== null && _super.apply(this, arguments) || this;
                        }
                        Mb.prototype.refresh = function () { var t = this.editor.locale, e = Du(this.editor.model.document.selection.getSelectedBlocks()); this.isEnabled = !!e && this._canBeAligned(e), this.isEnabled && e.hasAttribute("alignment") ? this.value = e.getAttribute("alignment") : this.value = "rtl" === t.contentLanguageDirection ? "right" : "left"; };
                        Mb.prototype.execute = function (t) {
                            var _this = this;
                            if (t === void 0) { t = {}; }
                            var e = this.editor, n = e.locale, i = e.model, o = i.document, r = t.value;
                            i.change(function (t) { var e = Array.from(o.selection.getSelectedBlocks()).filter(function (t) { return _this._canBeAligned(t); }), i = e[0].getAttribute("alignment"); Nx(r, n) || i === r || !r ? function (t, e) {
                                var e_831, _j;
                                try {
                                    for (var t_427 = __values(t), t_427_1 = t_427.next(); !t_427_1.done; t_427_1 = t_427.next()) {
                                        var n_321 = t_427_1.value;
                                        e.removeAttribute(Pb, n_321);
                                    }
                                }
                                catch (e_831_1) { e_831 = { error: e_831_1 }; }
                                finally {
                                    try {
                                        if (t_427_1 && !t_427_1.done && (_j = t_427.return)) _j.call(t_427);
                                    }
                                    finally { if (e_831) throw e_831.error; }
                                }
                            }(e, t) : function (t, e, n) {
                                var e_832, _j;
                                try {
                                    for (var t_428 = __values(t), t_428_1 = t_428.next(); !t_428_1.done; t_428_1 = t_428.next()) {
                                        var i_211 = t_428_1.value;
                                        e.setAttribute(Pb, n, i_211);
                                    }
                                }
                                catch (e_832_1) { e_832 = { error: e_832_1 }; }
                                finally {
                                    try {
                                        if (t_428_1 && !t_428_1.done && (_j = t_428.return)) _j.call(t_428);
                                    }
                                    finally { if (e_832) throw e_832.error; }
                                }
                            }(e, t, r); });
                        };
                        Mb.prototype._canBeAligned = function (t) { return this.editor.model.schema.checkAttribute(t, Pb); };
                        return Mb;
                    }(Pd));
                    var Eb = /** @class */ (function (_super) {
                        __extends(Eb, _super);
                        function Eb(t) {
                            var _this = this;
                            _this = _super.call(this, t) || this, t.config.define("alignment", { options: __spread(Ex) });
                            return _this;
                        }
                        Object.defineProperty(Eb, "pluginName", {
                            get: function () { return "AlignmentEditing"; },
                            enumerable: true,
                            configurable: true
                        });
                        Eb.prototype.init = function () { var t = this.editor, e = t.locale, n = t.model.schema, i = t.config.get("alignment.options").filter(Ix); n.extend("$block", { allowAttributes: "alignment" }), t.model.schema.setAttributeProperties("alignment", { isFormatting: !0 }); var o = function (t) {
                            var e_833, _j;
                            var e = { model: { key: "alignment", values: t.slice() }, view: {} };
                            try {
                                for (var t_429 = __values(t), t_429_1 = t_429.next(); !t_429_1.done; t_429_1 = t_429.next()) {
                                    var n_322 = t_429_1.value;
                                    e.view[n_322] = { key: "style", value: { "text-align": n_322 } };
                                }
                            }
                            catch (e_833_1) { e_833 = { error: e_833_1 }; }
                            finally {
                                try {
                                    if (t_429_1 && !t_429_1.done && (_j = t_429.return)) _j.call(t_429);
                                }
                                finally { if (e_833) throw e_833.error; }
                            }
                            return e;
                        }(i.filter(function (t) { return !Nx(t, e); })); t.conversion.attributeToAttribute(o), t.commands.add("alignment", new Mb(t)); };
                        return Eb;
                    }(Ad));
                    var Ib = n(23), Nb = n.n(Ib), Rb = n(24), Ob = n.n(Rb), Db = n(46), Lb = n.n(Db), Vb = n(47), zb = n.n(Vb);
                    var jb = new Map([["left", Nb.a], ["right", Ob.a], ["center", Lb.a], ["justify", zb.a]]);
                    var Fb = /** @class */ (function (_super) {
                        __extends(Fb, _super);
                        function Fb() {
                            return _super !== null && _super.apply(this, arguments) || this;
                        }
                        Object.defineProperty(Fb.prototype, "localizedOptionTitles", {
                            get: function () { var t = this.editor.t; return { left: t("d"), right: t("e"), center: t("f"), justify: t("g") }; },
                            enumerable: true,
                            configurable: true
                        });
                        Object.defineProperty(Fb, "pluginName", {
                            get: function () { return "AlignmentUI"; },
                            enumerable: true,
                            configurable: true
                        });
                        Fb.prototype.init = function () {
                            var _this = this;
                            var t = this.editor, e = t.ui.componentFactory, n = t.t, i = t.config.get("alignment.options");
                            i.filter(Ix).forEach(function (t) { return _this._addButton(t); }), e.add("alignment", function (t) { var o = fd(t), r = i.map(function (t) { return e.create("alignment:" + t); }); pd(o, r), o.buttonView.set({ label: n("h"), tooltip: !0 }), o.toolbarView.isVertical = !0, o.toolbarView.ariaLabel = n("i"), o.extendTemplate({ attributes: { class: "ck-alignment-dropdown" } }); var s = "rtl" === t.contentLanguageDirection ? Ob.a : Nb.a; return o.buttonView.bind("icon").toMany(r, "isOn", function () {
                                var t = [];
                                for (var _j = 0; _j < arguments.length; _j++) {
                                    t[_j] = arguments[_j];
                                }
                                var e = t.findIndex(function (t) { return t; });
                                return e < 0 ? s : r[e].icon;
                            }), o.bind("isEnabled").toMany(r, "isEnabled", function () {
                                var t = [];
                                for (var _j = 0; _j < arguments.length; _j++) {
                                    t[_j] = arguments[_j];
                                }
                                return t.some(function (t) { return t; });
                            }), o; });
                        };
                        Fb.prototype._addButton = function (t) {
                            var _this = this;
                            var e = this.editor;
                            e.ui.componentFactory.add("alignment:" + t, function (n) { var i = e.commands.get("alignment"), o = new sd(n); return o.set({ label: _this.localizedOptionTitles[t], icon: jb.get(t), tooltip: !0, isToggleable: !0 }), o.bind("isEnabled").to(i), o.bind("isOn").to(i, "value", function (e) { return e === t; }), _this.listenTo(o, "execute", function () { e.execute("alignment", { value: t }), e.editing.view.focus(); }), o; });
                        };
                        return Fb;
                    }(Ad));
                    var Bb = /** @class */ (function (_super) {
                        __extends(Bb, _super);
                        function Bb() {
                            return _super !== null && _super.apply(this, arguments) || this;
                        }
                        Bb.prototype.refresh = function () { this.value = this._getValue(), this.isEnabled = this._checkEnabled(); };
                        Bb.prototype.execute = function (t) {
                            var _this = this;
                            if (t === void 0) { t = {}; }
                            var e = this.editor.model, n = e.schema, i = e.document.selection, o = Array.from(i.getSelectedBlocks()), r = void 0 === t.forceValue ? !this.value : t.forceValue;
                            e.change(function (t) { if (r) {
                                var e_834 = o.filter(function (t) { return Hb(t) || Wb(n, t); });
                                _this._applyQuote(t, e_834);
                            }
                            else
                                _this._removeQuote(t, o.filter(Hb)); });
                        };
                        Bb.prototype._getValue = function () { var t = Du(this.editor.model.document.selection.getSelectedBlocks()); return !(!t || !Hb(t)); };
                        Bb.prototype._checkEnabled = function () { if (this.value)
                            return !0; var t = this.editor.model.document.selection, e = this.editor.model.schema, n = Du(t.getSelectedBlocks()); return !!n && Wb(e, n); };
                        Bb.prototype._removeQuote = function (t, e) { Ub(t, e).reverse().forEach(function (e) { if (e.start.isAtStart && e.end.isAtEnd)
                            return void t.unwrap(e.start.parent); if (e.start.isAtStart) {
                            var n_323 = t.createPositionBefore(e.start.parent);
                            return void t.move(e, n_323);
                        } e.end.isAtEnd || t.split(e.end); var n = t.createPositionAfter(e.end.parent); t.move(e, n); }); };
                        Bb.prototype._applyQuote = function (t, e) { var n = []; Ub(t, e).reverse().forEach(function (e) { var i = Hb(e.start); i || (i = t.createElement("blockQuote"), t.wrap(e, i)), n.push(i); }), n.reverse().reduce(function (e, n) { return e.nextSibling == n ? (t.merge(t.createPositionAfter(e)), e) : n; }); };
                        return Bb;
                    }(Pd));
                    function Hb(t) { return "blockQuote" == t.parent.name ? t.parent : null; }
                    function Ub(t, e) { var n, i = 0; var o = []; for (; i < e.length;) {
                        var r_72 = e[i], s_53 = e[i + 1];
                        n || (n = t.createPositionBefore(r_72)), s_53 && r_72.nextSibling == s_53 || (o.push(t.createRange(n, t.createPositionAfter(r_72))), n = null), i++;
                    } return o; }
                    function Wb(t, e) { var n = t.checkChild(e.parent, "blockQuote"), i = t.checkChild(["$root", "blockQuote"], e); return n && i; }
                    var qb = /** @class */ (function (_super) {
                        __extends(qb, _super);
                        function qb() {
                            return _super !== null && _super.apply(this, arguments) || this;
                        }
                        Object.defineProperty(qb, "pluginName", {
                            get: function () { return "BlockQuoteEditing"; },
                            enumerable: true,
                            configurable: true
                        });
                        qb.prototype.init = function () { var t = this.editor, e = t.model.schema; t.commands.add("blockQuote", new Bb(t)), e.register("blockQuote", { allowWhere: "$block", allowContentOf: "$root" }), e.addChildCheck(function (t, e) { if (t.endsWith("blockQuote") && "blockQuote" == e.name)
                            return !1; }), t.conversion.elementToElement({ model: "blockQuote", view: "blockquote" }), t.model.document.registerPostFixer(function (n) {
                            var e_835, _j, e_836, _q;
                            var i = t.model.document.differ.getChanges();
                            try {
                                for (var i_212 = __values(i), i_212_1 = i_212.next(); !i_212_1.done; i_212_1 = i_212.next()) {
                                    var t_430 = i_212_1.value;
                                    if ("insert" == t_430.type) {
                                        var i_213 = t_430.position.nodeAfter;
                                        if (!i_213)
                                            continue;
                                        if (i_213.is("blockQuote") && i_213.isEmpty)
                                            return n.remove(i_213), !0;
                                        if (i_213.is("blockQuote") && !e.checkChild(t_430.position, i_213))
                                            return n.unwrap(i_213), !0;
                                        if (i_213.is("element")) {
                                            var t_431 = n.createRangeIn(i_213);
                                            try {
                                                for (var _z = __values(t_431.getItems()), _0 = _z.next(); !_0.done; _0 = _z.next()) {
                                                    var i_214 = _0.value;
                                                    if (i_214.is("blockQuote") && !e.checkChild(n.createPositionBefore(i_214), i_214))
                                                        return n.unwrap(i_214), !0;
                                                }
                                            }
                                            catch (e_836_1) { e_836 = { error: e_836_1 }; }
                                            finally {
                                                try {
                                                    if (_0 && !_0.done && (_q = _z.return)) _q.call(_z);
                                                }
                                                finally { if (e_836) throw e_836.error; }
                                            }
                                        }
                                    }
                                    else if ("remove" == t_430.type) {
                                        var e_837 = t_430.position.parent;
                                        if (e_837.is("blockQuote") && e_837.isEmpty)
                                            return n.remove(e_837), !0;
                                    }
                                }
                            }
                            catch (e_835_1) { e_835 = { error: e_835_1 }; }
                            finally {
                                try {
                                    if (i_212_1 && !i_212_1.done && (_j = i_212.return)) _j.call(i_212);
                                }
                                finally { if (e_835) throw e_835.error; }
                            }
                            return !1;
                        }); };
                        qb.prototype.afterInit = function () {
                            var _this = this;
                            var t = this.editor.commands.get("blockQuote");
                            this.listenTo(this.editor.editing.view.document, "enter", function (e, n) { var i = _this.editor.model.document, o = i.selection.getLastPosition().parent; i.selection.isCollapsed && o.isEmpty && t.value && (_this.editor.execute("blockQuote"), _this.editor.editing.view.scrollToTheSelection(), n.preventDefault(), e.stop()); });
                        };
                        return qb;
                    }(Ad));
                    var Yb = n(48), $b = n.n(Yb);
                    n(151);
                    var Gb = /** @class */ (function (_super) {
                        __extends(Gb, _super);
                        function Gb() {
                            return _super !== null && _super.apply(this, arguments) || this;
                        }
                        Gb.prototype.init = function () {
                            var _this = this;
                            var t = this.editor, e = t.t;
                            t.ui.componentFactory.add("blockQuote", function (n) { var i = t.commands.get("blockQuote"), o = new sd(n); return o.set({ label: e("j"), icon: $b.a, tooltip: !0, isToggleable: !0 }), o.bind("isOn", "isEnabled").to(i, "value", "isEnabled"), _this.listenTo(o, "execute", function () { return t.execute("blockQuote"); }), o; });
                        };
                        return Gb;
                    }(Ad));
                    var Kb = n(49), Qb = n.n(Kb);
                    var Jb = /** @class */ (function (_super) {
                        __extends(Jb, _super);
                        function Jb() {
                            return _super !== null && _super.apply(this, arguments) || this;
                        }
                        Object.defineProperty(Jb, "pluginName", {
                            get: function () { return "CKFinderUI"; },
                            enumerable: true,
                            configurable: true
                        });
                        Jb.prototype.init = function () { var t = this.editor, e = t.ui.componentFactory, n = t.t; e.add("ckfinder", function (e) { var i = t.commands.get("ckfinder"), o = new sd(e); return o.set({ label: n("o"), icon: Qb.a, tooltip: !0 }), o.bind("isEnabled").to(i), o.on("execute", function () { t.execute("ckfinder"), t.editing.view.focus(); }), o; }); };
                        return Jb;
                    }(Ad));
                    var Zb = /** @class */ (function (_super) {
                        __extends(Zb, _super);
                        function Zb() {
                            return _super !== null && _super.apply(this, arguments) || this;
                        }
                        Zb.prototype.observe = function (t) {
                            var _this = this;
                            this.listenTo(t, "load", function (t, e) { "IMG" == e.target.tagName && _this._fireEvents(e); }, { useCapture: !0 });
                        };
                        Zb.prototype._fireEvents = function (t) { this.isEnabled && (this.document.fire("layoutChanged"), this.document.fire("imageLoaded", t)); };
                        return Zb;
                    }(mr));
                    function Xb(t) { return function (n) { n.on("attribute:" + t + ":image", e); }; function e(t, e, n) { if (!n.consumable.consume(e.item, t.name))
                        return; var i = n.writer, o = n.mapper.toViewElement(e.item).getChild(0); null !== e.attributeNewValue ? i.setAttribute(e.attributeKey, e.attributeNewValue, o) : i.removeAttribute(e.attributeKey, o); } }
                    var tk = /** @class */ (function () {
                        function tk() {
                            this._stack = [];
                        }
                        tk.prototype.add = function (t, e) { var n = this._stack, i = n[0]; this._insertDescriptor(t); var o = n[0]; i === o || ek(i, o) || this.fire("change:top", { oldDescriptor: i, newDescriptor: o, writer: e }); };
                        tk.prototype.remove = function (t, e) { var n = this._stack, i = n[0]; this._removeDescriptor(t); var o = n[0]; i === o || ek(i, o) || this.fire("change:top", { oldDescriptor: i, newDescriptor: o, writer: e }); };
                        tk.prototype._insertDescriptor = function (t) { var e = this._stack, n = e.findIndex(function (e) { return e.id === t.id; }); if (ek(t, e[n]))
                            return; n > -1 && e.splice(n, 1); var i = 0; for (; e[i] && nk(e[i], t);)
                            i++; e.splice(i, 0, t); };
                        tk.prototype._removeDescriptor = function (t) { var e = this._stack, n = e.findIndex(function (e) { return e.id === t; }); n > -1 && e.splice(n, 1); };
                        return tk;
                    }());
                    function ek(t, e) { return t && e && t.priority == e.priority && ik(t.classes) == ik(e.classes); }
                    function nk(t, e) { return t.priority > e.priority || !(t.priority < e.priority) && ik(t.classes) > ik(e.classes); }
                    function ik(t) { return Array.isArray(t) ? t.sort().join(",") : t; }
                    ci(tk, ei);
                    var ok = n(50), rk = n.n(ok);
                    var sk = "ck-widget", ak = "ck-widget_selected";
                    function ck(t) { return !!t.is("element") && !!t.getCustomProperty("widget"); }
                    function lk(t, e, n) {
                        if (n === void 0) { n = {}; }
                        return go.isEdge || e.setAttribute("contenteditable", "false", t), e.addClass(sk, t), e.setCustomProperty("widget", !0, t), t.getFillerOffset = mk, n.label && function (t, e, n) { n.setCustomProperty("widgetLabel", e, t); }(t, n.label, e), n.hasSelectionHandle && function (t, e) { var n = e.createUIElement("div", { class: "ck ck-widget__selection-handle" }, function (t) { var e = this.toDomElement(t), n = new od; return n.set("content", rk.a), n.render(), e.appendChild(n.element), e; }); e.insert(e.createPositionAt(t, 0), n), e.addClass(["ck-widget_with-selection-handle"], t); }(t, e), function (t, e, n, i) { var o = new tk; o.on("change:top", function (e, o) { o.oldDescriptor && i(t, o.oldDescriptor, o.writer), o.newDescriptor && n(t, o.newDescriptor, o.writer); }), e.setCustomProperty("addHighlight", function (t, e, n) { return o.add(e, n); }, t), e.setCustomProperty("removeHighlight", function (t, e, n) { return o.remove(e, n); }, t); }(t, e, function (t, e, n) { return n.addClass(i(e.classes), t); }, function (t, e, n) { return n.removeClass(i(e.classes), t); }), t;
                        function i(t) { return Array.isArray(t) ? t : [t]; }
                    }
                    function dk(t) { var e = t.getCustomProperty("widgetLabel"); return e ? "function" == typeof e ? e() : e : ""; }
                    function uk(t, e) { return e.addClass(["ck-editor__editable", "ck-editor__nested-editable"], t), go.isEdge || (e.setAttribute("contenteditable", t.isReadOnly ? "false" : "true", t), t.on("change:isReadOnly", function (n, i, o) { e.setAttribute("contenteditable", o ? "false" : "true", t); })), t.on("change:isFocused", function (n, i, o) { o ? e.addClass("ck-editor__nested-editable_focused", t) : e.removeClass("ck-editor__nested-editable_focused", t); }), t; }
                    function hk(t, e) { var n = t.getSelectedElement(); if (n && e.schema.isBlock(n))
                        return e.createPositionAfter(n); var i = t.getSelectedBlocks().next().value; if (i) {
                        if (i.isEmpty)
                            return e.createPositionAt(i, 0);
                        var n_324 = e.createPositionAfter(i);
                        return t.focus.isTouching(n_324) ? n_324 : e.createPositionBefore(i);
                    } return t.focus; }
                    function mk() { return null; }
                    function gk(t) { var e = t.getSelectedElement(); return e && function (t) { return !!t.getCustomProperty("image") && ck(t); }(e) ? e : null; }
                    function fk(t) { return !!t && t.is("image"); }
                    function pk(t, e, n) {
                        if (n === void 0) { n = {}; }
                        var i = t.createElement("image", n), o = hk(e.document.selection, e);
                        e.insertContent(i, o), i.parent && t.setSelection(i, "on");
                    }
                    function xk(t) { var e = t.schema, n = t.document.selection; return function (t, e, n) { var i = function (t, e) { var n = hk(t, e).parent; if (n.isEmpty && !n.is("$root"))
                        return n.parent; return n; }(t, n); return e.checkChild(i, "image"); }(n, e, t) && !function (t, e) { var n = t.getSelectedElement(); return n && e.isObject(n); }(n, e) && function (t) { return __spread(t.focus.getAncestors()).every(function (t) { return !t.is("image"); }); }(n); }
                    var bk = /** @class */ (function (_super) {
                        __extends(bk, _super);
                        function bk() {
                            return _super !== null && _super.apply(this, arguments) || this;
                        }
                        bk.prototype.refresh = function () { this.isEnabled = xk(this.editor.model); };
                        bk.prototype.execute = function (t) { var e = this.editor.model; e.change(function (n) {
                            var e_838, _j;
                            var i = Array.isArray(t.source) ? t.source : [t.source];
                            try {
                                for (var i_215 = __values(i), i_215_1 = i_215.next(); !i_215_1.done; i_215_1 = i_215.next()) {
                                    var t_432 = i_215_1.value;
                                    pk(n, e, { src: t_432 });
                                }
                            }
                            catch (e_838_1) { e_838 = { error: e_838_1 }; }
                            finally {
                                try {
                                    if (i_215_1 && !i_215_1.done && (_j = i_215.return)) _j.call(i_215);
                                }
                                finally { if (e_838) throw e_838.error; }
                            }
                        }); };
                        return bk;
                    }(Pd));
                    var kk = /** @class */ (function (_super) {
                        __extends(kk, _super);
                        function kk() {
                            return _super !== null && _super.apply(this, arguments) || this;
                        }
                        Object.defineProperty(kk, "pluginName", {
                            get: function () { return "ImageEditing"; },
                            enumerable: true,
                            configurable: true
                        });
                        kk.prototype.init = function () { var t = this.editor, e = t.model.schema, n = t.t, i = t.conversion; t.editing.view.addObserver(Zb), e.register("image", { isObject: !0, isBlock: !0, allowWhere: "$block", allowAttributes: ["alt", "src", "srcset"] }), i.for("dataDowncast").elementToElement({ model: "image", view: function (t, e) { return wk(e); } }), i.for("editingDowncast").elementToElement({ model: "image", view: function (t, e) { return (function (t, e, n) { return e.setCustomProperty("image", !0, t), lk(t, e, { label: function () { var e = t.getChild(0).getAttribute("alt"); return e ? e + " " + n : n; } }); })(wk(e), e, n("y")); } }), i.for("downcast").add(Xb("src")).add(Xb("alt")).add(function () { return function (e) { e.on("attribute:srcset:image", t); }; function t(t, e, n) { if (!n.consumable.consume(e.item, t.name))
                            return; var i = n.writer, o = n.mapper.toViewElement(e.item).getChild(0); if (null === e.attributeNewValue) {
                            var t_433 = e.attributeOldValue;
                            t_433.data && (i.removeAttribute("srcset", o), i.removeAttribute("sizes", o), t_433.width && i.removeAttribute("width", o));
                        }
                        else {
                            var t_434 = e.attributeNewValue;
                            t_434.data && (i.setAttribute("srcset", t_434.data, o), i.setAttribute("sizes", "100vw", o), t_434.width && i.setAttribute("width", t_434.width, o));
                        } } }()), i.for("upcast").elementToElement({ view: { name: "img", attributes: { src: !0 } }, model: function (t, e) { return e.createElement("image", { src: t.getAttribute("src") }); } }).attributeToAttribute({ view: { name: "img", key: "alt" }, model: "alt" }).attributeToAttribute({ view: { name: "img", key: "srcset" }, model: { key: "srcset", value: function (t) { var e = { data: t.getAttribute("srcset") }; return t.hasAttribute("width") && (e.width = t.getAttribute("width")), e; } } }).add(function () { return function (e) { e.on("element:figure", t); }; function t(t, e, n) { if (!n.consumable.test(e.viewItem, { name: !0, classes: "image" }))
                            return; var i = Array.from(e.viewItem.getChildren()).find(function (t) { return t.is("img"); }); if (!i || !i.hasAttribute("src") || !n.consumable.test(i, { name: !0 }))
                            return; var o = n.convertItem(i, e.modelCursor), r = Du(o.modelRange.getItems()); r && (n.convertChildren(e.viewItem, n.writer.createPositionAt(r, 0)), e.modelRange = o.modelRange, e.modelCursor = o.modelCursor); } }()), t.commands.add("imageInsert", new bk(t)); };
                        return kk;
                    }(Ad));
                    function wk(t) { var e = t.createEmptyElement("img"), n = t.createContainerElement("figure", { class: "image" }); return t.insert(t.createPositionAt(n, 0), e), n; }
                    var _k = /** @class */ (function (_super) {
                        __extends(_k, _super);
                        function _k(t) {
                            var _this = this;
                            _this = _super.call(this, t) || this, _this.manualDecorators = new oo;
                            return _this;
                        }
                        _k.prototype.restoreManualDecoratorStates = function () {
                            var e_839, _j;
                            try {
                                for (var _q = __values(this.manualDecorators), _z = _q.next(); !_z.done; _z = _q.next()) {
                                    var t_435 = _z.value;
                                    t_435.value = this._getDecoratorStateFromModel(t_435.id);
                                }
                            }
                            catch (e_839_1) { e_839 = { error: e_839_1 }; }
                            finally {
                                try {
                                    if (_z && !_z.done && (_j = _q.return)) _j.call(_q);
                                }
                                finally { if (e_839) throw e_839.error; }
                            }
                        };
                        _k.prototype.refresh = function () {
                            var e_840, _j;
                            var t = this.editor.model, e = t.document;
                            this.value = e.selection.getAttribute("linkHref");
                            try {
                                for (var _q = __values(this.manualDecorators), _z = _q.next(); !_z.done; _z = _q.next()) {
                                    var t_436 = _z.value;
                                    t_436.value = this._getDecoratorStateFromModel(t_436.id);
                                }
                            }
                            catch (e_840_1) { e_840 = { error: e_840_1 }; }
                            finally {
                                try {
                                    if (_z && !_z.done && (_j = _q.return)) _j.call(_q);
                                }
                                finally { if (e_840) throw e_840.error; }
                            }
                            this.isEnabled = t.schema.checkAttributeInSelection(e.selection, "linkHref");
                        };
                        _k.prototype.execute = function (t, e) {
                            if (e === void 0) { e = {}; }
                            var n = this.editor.model, i = n.document.selection, o = [], r = [];
                            for (var t_437 in e)
                                e[t_437] ? o.push(t_437) : r.push(t_437);
                            n.change(function (e) {
                                var e_841, _j;
                                if (i.isCollapsed) {
                                    var s_55 = i.getFirstPosition();
                                    if (i.hasAttribute("linkHref")) {
                                        var a_31 = Zp(s_55, i.getAttribute("linkHref"), n);
                                        e.setAttribute("linkHref", t, a_31), o.forEach(function (t) { e.setAttribute(t, !0, a_31); }), r.forEach(function (t) { e.removeAttribute(t, a_31); }), e.setSelection(a_31);
                                    }
                                    else if ("" !== t) {
                                        var r_73 = js(i.getAttributes());
                                        r_73.set("linkHref", t), o.forEach(function (t) { r_73.set(t, !0); });
                                        var a_32 = e.createText(t, r_73);
                                        n.insertContent(a_32, s_55), e.setSelection(e.createRangeOn(a_32));
                                    }
                                }
                                else {
                                    var s_56 = n.schema.getValidRanges(i.getRanges(), "linkHref");
                                    var _loop_24 = function (n_325) {
                                        e.setAttribute("linkHref", t, n_325), o.forEach(function (t) { e.setAttribute(t, !0, n_325); }), r.forEach(function (t) { e.removeAttribute(t, n_325); });
                                    };
                                    try {
                                        for (var s_54 = __values(s_56), s_54_1 = s_54.next(); !s_54_1.done; s_54_1 = s_54.next()) {
                                            var n_325 = s_54_1.value;
                                            _loop_24(n_325);
                                        }
                                    }
                                    catch (e_841_1) { e_841 = { error: e_841_1 }; }
                                    finally {
                                        try {
                                            if (s_54_1 && !s_54_1.done && (_j = s_54.return)) _j.call(s_54);
                                        }
                                        finally { if (e_841) throw e_841.error; }
                                    }
                                }
                            });
                        };
                        _k.prototype._getDecoratorStateFromModel = function (t) { return this.editor.model.document.selection.getAttribute(t) || !1; };
                        return _k;
                    }(Pd));
                    var vk = /** @class */ (function (_super) {
                        __extends(vk, _super);
                        function vk() {
                            return _super !== null && _super.apply(this, arguments) || this;
                        }
                        vk.prototype.refresh = function () { this.isEnabled = this.editor.model.document.selection.hasAttribute("linkHref"); };
                        vk.prototype.execute = function () { var t = this.editor, e = this.editor.model, n = e.document.selection, i = t.commands.get("link"); e.change(function (t) {
                            var e_842, _j, e_843, _q;
                            var o = n.isCollapsed ? [Zp(n.getFirstPosition(), n.getAttribute("linkHref"), e)] : n.getRanges();
                            try {
                                for (var o_134 = __values(o), o_134_1 = o_134.next(); !o_134_1.done; o_134_1 = o_134.next()) {
                                    var e_844 = o_134_1.value;
                                    if (t.removeAttribute("linkHref", e_844), i)
                                        try {
                                            for (var _z = __values(i.manualDecorators), _0 = _z.next(); !_0.done; _0 = _z.next()) {
                                                var n_326 = _0.value;
                                                t.removeAttribute(n_326.id, e_844);
                                            }
                                        }
                                        catch (e_843_1) { e_843 = { error: e_843_1 }; }
                                        finally {
                                            try {
                                                if (_0 && !_0.done && (_q = _z.return)) _q.call(_z);
                                            }
                                            finally { if (e_843) throw e_843.error; }
                                        }
                                }
                            }
                            catch (e_842_1) { e_842 = { error: e_842_1 }; }
                            finally {
                                try {
                                    if (o_134_1 && !o_134_1.done && (_j = o_134.return)) _j.call(o_134);
                                }
                                finally { if (e_842) throw e_842.error; }
                            }
                        }); };
                        return vk;
                    }(Pd));
                    var yk = function (t, e, n) { var i = -1, o = t.length; e < 0 && (e = -e > o ? 0 : o + e), (n = n > o ? o : n) < 0 && (n += o), o = e > n ? 0 : n - e >>> 0, e >>>= 0; for (var r = Array(o); ++i < o;)
                        r[i] = t[i + e]; return r; };
                    var Ck = function (t, e, n) { var i = t.length; return n = void 0 === n ? i : n, !e && n >= i ? t : yk(t, e, n); }, Tk = RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");
                    var Ak = function (t) { return Tk.test(t); };
                    var Sk = function (t) { return t.split(""); }, Pk = "[\\ud800-\\udfff]", Mk = "[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]", Ek = "\\ud83c[\\udffb-\\udfff]", Ik = "[^\\ud800-\\udfff]", Nk = "(?:\\ud83c[\\udde6-\\uddff]){2}", Rk = "[\\ud800-\\udbff][\\udc00-\\udfff]", Ok = "(?:" + Mk + "|" + Ek + ")" + "?", Dk = "[\\ufe0e\\ufe0f]?" + Ok + ("(?:\\u200d(?:" + [Ik, Nk, Rk].join("|") + ")[\\ufe0e\\ufe0f]?" + Ok + ")*"), Lk = "(?:" + [Ik + Mk + "?", Mk, Nk, Rk, Pk].join("|") + ")", Vk = RegExp(Ek + "(?=" + Ek + ")|" + Lk + Dk, "g");
                    var zk = function (t) { return t.match(Vk) || []; };
                    var jk = function (t) { return Ak(t) ? zk(t) : Sk(t); };
                    var Fk = function (t, e) { for (var n = -1, i = null == t ? 0 : t.length, o = Array(i); ++n < i;)
                        o[n] = e(t[n], n, t); return o; }, Bk = 1 / 0, Hk = o ? o.prototype : void 0, Uk = Hk ? Hk.toString : void 0;
                    var Wk = function t(e) { if ("string" == typeof e)
                        return e; if (qt(e))
                        return Fk(e, t) + ""; if (rs(e))
                        return Uk ? Uk.call(e) : ""; var n = e + ""; return "0" == n && 1 / e == -Bk ? "-0" : n; };
                    var qk = function (t) { return null == t ? "" : Wk(t); };
                    var Yk = function (t) { return function (e) { e = qk(e); var n = Ak(e) ? jk(e) : void 0, i = n ? n[0] : e.charAt(0), o = n ? Ck(n, 1).join("") : e.slice(1); return i[t]() + o; }; }("toUpperCase");
                    var $k = /[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205f\u3000]/g, Gk = /^(?:(?:https?|ftps?|mailto):|[^a-z]|[a-z+.-]+(?:[^a-z+.:-]|$))/i;
                    function Kk(t, e) { var n = e.createAttributeElement("a", { href: t }, { priority: 5 }); return e.setCustomProperty("link", !0, n), n; }
                    function Qk(t) { return function (t) { return t.replace($k, "").match(Gk); }(t = String(t)) ? t : "#"; }
                    var Jk = /** @class */ (function () {
                        function Jk() {
                            this._definitions = new Set;
                        }
                        Object.defineProperty(Jk.prototype, "length", {
                            get: function () { return this._definitions.size; },
                            enumerable: true,
                            configurable: true
                        });
                        Jk.prototype.add = function (t) {
                            var _this = this;
                            Array.isArray(t) ? t.forEach(function (t) { return _this._definitions.add(t); }) : this._definitions.add(t);
                        };
                        Jk.prototype.getDispatcher = function () {
                            var _this = this;
                            return function (t) { t.on("attribute:linkHref", function (t, e, n) {
                                var e_845, _j;
                                if (!n.consumable.test(e.item, "attribute:linkHref"))
                                    return;
                                var i = n.writer, o = i.document.selection;
                                try {
                                    for (var _q = __values(_this._definitions), _z = _q.next(); !_z.done; _z = _q.next()) {
                                        var t_438 = _z.value;
                                        var r_74 = i.createAttributeElement("a", t_438.attributes, { priority: 5 });
                                        i.setCustomProperty("link", !0, r_74), t_438.callback(e.attributeNewValue) ? e.item.is("selection") ? i.wrap(o.getFirstRange(), r_74) : i.wrap(n.mapper.toViewRange(e.range), r_74) : i.unwrap(n.mapper.toViewRange(e.range), r_74);
                                    }
                                }
                                catch (e_845_1) { e_845 = { error: e_845_1 }; }
                                finally {
                                    try {
                                        if (_z && !_z.done && (_j = _q.return)) _j.call(_q);
                                    }
                                    finally { if (e_845) throw e_845.error; }
                                }
                            }, { priority: "high" }); };
                        };
                        return Jk;
                    }());
                    var Zk = /** @class */ (function () {
                        function Zk(_j) {
                            var t = _j.id, e = _j.label, n = _j.attributes;
                            this.id = t, this.set("value"), this.label = e, this.attributes = n;
                        }
                        return Zk;
                    }());
                    ci(Zk, Bi);
                    var Xk = /** @class */ (function () {
                        function Xk(t, e, n) {
                            var _this = this;
                            this.model = t, this.attribute = n, this._modelSelection = t.document.selection, this._overrideUid = null, this._isNextGravityRestorationSkipped = !1, e.listenTo(this._modelSelection, "change:range", function (t, e) { _this._isNextGravityRestorationSkipped ? _this._isNextGravityRestorationSkipped = !1 : _this._isGravityOverridden && (!e.directChange && tw(_this._modelSelection.getFirstPosition(), n) || _this._restoreGravity()); });
                        }
                        Xk.prototype.handleForwardMovement = function (t, e) { var n = this.attribute; if (!(this._isGravityOverridden || t.isAtStart && this._hasSelectionAttribute))
                            return iw(t, n) && this._hasSelectionAttribute ? (this._preventCaretMovement(e), this._removeSelectionAttribute(), !0) : ew(t, n) ? (this._preventCaretMovement(e), this._overrideGravity(), !0) : nw(t, n) && this._hasSelectionAttribute ? (this._preventCaretMovement(e), this._overrideGravity(), !0) : void 0; };
                        Xk.prototype.handleBackwardMovement = function (t, e) { var n = this.attribute; return this._isGravityOverridden ? iw(t, n) && this._hasSelectionAttribute ? (this._preventCaretMovement(e), this._restoreGravity(), this._removeSelectionAttribute(), !0) : (this._preventCaretMovement(e), this._restoreGravity(), t.isAtStart && this._removeSelectionAttribute(), !0) : iw(t, n) && !this._hasSelectionAttribute ? (this._preventCaretMovement(e), this._setSelectionAttributeFromTheNodeBefore(t), !0) : t.isAtEnd && nw(t, n) ? this._hasSelectionAttribute ? void (ow(t, n) && (this._skipNextAutomaticGravityRestoration(), this._overrideGravity())) : (this._preventCaretMovement(e), this._setSelectionAttributeFromTheNodeBefore(t), !0) : t.isAtStart ? this._hasSelectionAttribute ? (this._removeSelectionAttribute(), this._preventCaretMovement(e), !0) : void 0 : void (ow(t, n) && (this._skipNextAutomaticGravityRestoration(), this._overrideGravity())); };
                        Object.defineProperty(Xk.prototype, "_isGravityOverridden", {
                            get: function () { return !!this._overrideUid; },
                            enumerable: true,
                            configurable: true
                        });
                        Object.defineProperty(Xk.prototype, "_hasSelectionAttribute", {
                            get: function () { return this._modelSelection.hasAttribute(this.attribute); },
                            enumerable: true,
                            configurable: true
                        });
                        Xk.prototype._overrideGravity = function () { this._overrideUid = this.model.change(function (t) { return t.overrideSelectionGravity(); }); };
                        Xk.prototype._restoreGravity = function () {
                            var _this = this;
                            this.model.change(function (t) { t.restoreSelectionGravity(_this._overrideUid), _this._overrideUid = null; });
                        };
                        Xk.prototype._preventCaretMovement = function (t) { t.preventDefault(); };
                        Xk.prototype._removeSelectionAttribute = function () {
                            var _this = this;
                            this.model.change(function (t) { t.removeSelectionAttribute(_this.attribute); });
                        };
                        Xk.prototype._setSelectionAttributeFromTheNodeBefore = function (t) {
                            var _this = this;
                            var e = this.attribute;
                            this.model.change(function (n) { n.setSelectionAttribute(_this.attribute, t.nodeBefore.getAttribute(e)); });
                        };
                        Xk.prototype._skipNextAutomaticGravityRestoration = function () { this._isNextGravityRestorationSkipped = !0; };
                        return Xk;
                    }());
                    function tw(t, e) { return ew(t, e) || nw(t, e); }
                    function ew(t, e) { var n = t.nodeBefore, i = t.nodeAfter, o = !!n && n.hasAttribute(e); return !!i && i.hasAttribute(e) && (!o || n.getAttribute(e) !== i.getAttribute(e)); }
                    function nw(t, e) { var n = t.nodeBefore, i = t.nodeAfter, o = !!n && n.hasAttribute(e), r = !!i && i.hasAttribute(e); return o && (!r || n.getAttribute(e) !== i.getAttribute(e)); }
                    function iw(t, e) { var n = t.nodeBefore, i = t.nodeAfter, o = !!n && n.hasAttribute(e); if (!!i && i.hasAttribute(e) && o)
                        return i.getAttribute(e) !== n.getAttribute(e); }
                    function ow(t, e) { return tw(t.getShiftedBy(-1), e); }
                    n(153);
                    var rw = "ck-link_selected", sw = "automatic", aw = "manual", cw = /^(https?:)?\/\//;
                    var lw = /** @class */ (function (_super) {
                        __extends(lw, _super);
                        function lw(t) {
                            var _this = this;
                            _this = _super.call(this, t) || this, t.config.define("link", { addTargetToExternalLinks: !1 });
                            return _this;
                        }
                        Object.defineProperty(lw, "pluginName", {
                            get: function () { return "LinkEditing"; },
                            enumerable: true,
                            configurable: true
                        });
                        lw.prototype.init = function () { var t = this.editor, e = t.locale; t.model.schema.extend("$text", { allowAttributes: "linkHref" }), t.conversion.for("dataDowncast").attributeToElement({ model: "linkHref", view: Kk }), t.conversion.for("editingDowncast").attributeToElement({ model: "linkHref", view: function (t, e) { return Kk(Qk(t), e); } }), t.conversion.for("upcast").elementToAttribute({ view: { name: "a", attributes: { href: !0 } }, model: { key: "linkHref", value: function (t) { return t.getAttribute("href"); } } }), t.commands.add("link", new _k(t)), t.commands.add("unlink", new vk(t)); var n = function (t, e) { var n = { "Open in a new tab": t("co"), Downloadable: t("cp") }; return e.forEach(function (t) { return (t.label && n[t.label] && (t.label = n[t.label]), t); }), e; }(t.t, function (t) {
                            var e_846, _j;
                            var e = [];
                            if (t)
                                try {
                                    for (var _q = __values(Object.entries(t)), _z = _q.next(); !_z.done; _z = _q.next()) {
                                        var _0 = __read(_z.value, 2), n_327 = _0[0], i_216 = _0[1];
                                        var t_439 = Object.assign({}, i_216, { id: "link" + Yk(n_327) });
                                        e.push(t_439);
                                    }
                                }
                                catch (e_846_1) { e_846 = { error: e_846_1 }; }
                                finally {
                                    try {
                                        if (_z && !_z.done && (_j = _q.return)) _j.call(_q);
                                    }
                                    finally { if (e_846) throw e_846.error; }
                                }
                            return e;
                        }(t.config.get("link.decorators"))); this._enableAutomaticDecorators(n.filter(function (t) { return t.mode === sw; })), this._enableManualDecorators(n.filter(function (t) { return t.mode === aw; })), function (_j) {
                            var t = _j.view, e = _j.model, n = _j.emitter, i = _j.attribute, o = _j.locale;
                            var r = new Xk(e, n, i), s = e.document.selection;
                            n.listenTo(t.document, "keydown", function (t, e) { if (!s.isCollapsed)
                                return; if (e.shiftKey || e.altKey || e.ctrlKey)
                                return; var n = e.keyCode == xo.arrowright, i = e.keyCode == xo.arrowleft; if (!n && !i)
                                return; var a = s.getFirstPosition(), c = o.contentLanguageDirection; var l; (l = "ltr" === c && n || "rtl" === c && i ? r.handleForwardMovement(a, e) : r.handleBackwardMovement(a, e)) && t.stop(); }, { priority: Zn.get("high") + 1 });
                        }({ view: t.editing.view, model: t.model, emitter: this, attribute: "linkHref", locale: e }), this._setupLinkHighlight(); };
                        lw.prototype._enableAutomaticDecorators = function (t) { var e = this.editor, n = new Jk; e.config.get("link.addTargetToExternalLinks") && n.add({ id: "linkIsExternal", mode: sw, callback: function (t) { return cw.test(t); }, attributes: { target: "_blank", rel: "noopener noreferrer" } }), n.add(t), n.length && e.conversion.for("downcast").add(n.getDispatcher()); };
                        lw.prototype._enableManualDecorators = function (t) { if (!t.length)
                            return; var e = this.editor, n = e.commands.get("link").manualDecorators; t.forEach(function (t) { e.model.schema.extend("$text", { allowAttributes: t.id }), n.add(new Zk(t)), e.conversion.for("downcast").attributeToElement({ model: t.id, view: function (e, i) { if (e) {
                                var e_847 = n.get(t.id).attributes, o_135 = i.createAttributeElement("a", e_847, { priority: 5 });
                                return i.setCustomProperty("link", !0, o_135), o_135;
                            } } }), e.conversion.for("upcast").elementToAttribute({ view: { name: "a", attributes: n.get(t.id).attributes }, model: { key: t.id } }); }); };
                        lw.prototype._setupLinkHighlight = function () { var t = this.editor, e = t.editing.view, n = new Set; e.document.registerPostFixer(function (e) {
                            var e_848, _j;
                            var i = t.model.document.selection;
                            var o = !1;
                            if (i.hasAttribute("linkHref")) {
                                var r_75 = Zp(i.getFirstPosition(), i.getAttribute("linkHref"), t.model), s_57 = t.editing.mapper.toViewRange(r_75);
                                try {
                                    for (var _q = __values(s_57.getItems()), _z = _q.next(); !_z.done; _z = _q.next()) {
                                        var t_440 = _z.value;
                                        t_440.is("a") && !t_440.hasClass(rw) && (e.addClass(rw, t_440), n.add(t_440), o = !0);
                                    }
                                }
                                catch (e_848_1) { e_848 = { error: e_848_1 }; }
                                finally {
                                    try {
                                        if (_z && !_z.done && (_j = _q.return)) _j.call(_q);
                                    }
                                    finally { if (e_848) throw e_848.error; }
                                }
                            }
                            return o;
                        }), t.conversion.for("editingDowncast").add(function (t) { function i() { e.change(function (t) {
                            var e_849, _j;
                            try {
                                for (var _q = __values(n.values()), _z = _q.next(); !_z.done; _z = _q.next()) {
                                    var e_850 = _z.value;
                                    t.removeClass(rw, e_850), n.delete(e_850);
                                }
                            }
                            catch (e_849_1) { e_849 = { error: e_849_1 }; }
                            finally {
                                try {
                                    if (_z && !_z.done && (_j = _q.return)) _j.call(_q);
                                }
                                finally { if (e_849) throw e_849.error; }
                            }
                        }); } t.on("insert", i, { priority: "highest" }), t.on("remove", i, { priority: "highest" }), t.on("attribute", i, { priority: "highest" }), t.on("selection", i, { priority: "highest" }); }); };
                        return lw;
                    }(Ad));
                    var dw = /** @class */ (function (_super) {
                        __extends(dw, _super);
                        function dw() {
                            return _super !== null && _super.apply(this, arguments) || this;
                        }
                        Object.defineProperty(dw, "pluginName", {
                            get: function () { return "Notification"; },
                            enumerable: true,
                            configurable: true
                        });
                        dw.prototype.init = function () { this.on("show:warning", function (t, e) { window.alert(e.message); }, { priority: "lowest" }); };
                        dw.prototype.showSuccess = function (t, e) {
                            if (e === void 0) { e = {}; }
                            this._showNotification({ message: t, type: "success", namespace: e.namespace, title: e.title });
                        };
                        dw.prototype.showInfo = function (t, e) {
                            if (e === void 0) { e = {}; }
                            this._showNotification({ message: t, type: "info", namespace: e.namespace, title: e.title });
                        };
                        dw.prototype.showWarning = function (t, e) {
                            if (e === void 0) { e = {}; }
                            this._showNotification({ message: t, type: "warning", namespace: e.namespace, title: e.title });
                        };
                        dw.prototype._showNotification = function (t) { var e = "show:" + t.type + (t.namespace ? ":" + t.namespace : ""); this.fire(e, { message: t.message, type: t.type, title: t.title || "" }); };
                        return dw;
                    }(Ad));
                    var uw = /** @class */ (function (_super) {
                        __extends(uw, _super);
                        function uw(t) {
                            var _this = this;
                            _this = _super.call(this, t) || this, _this.stopListening(_this.editor.model.document, "change"), _this.listenTo(_this.editor.model.document, "change", function () { return _this.refresh(); }, { priority: "low" });
                            return _this;
                        }
                        uw.prototype.refresh = function () { var t = this.editor.commands.get("imageInsert"), e = this.editor.commands.get("link"); this.isEnabled = t.isEnabled || e.isEnabled; };
                        uw.prototype.execute = function () { var t = this.editor, e = this.editor.config.get("ckfinder.openerMethod") || "modal"; if ("popup" != e && "modal" != e)
                            throw new Gn.b('ckfinder-unknown-openerMethod: The openerMethod config option must by "popup" or "modal".', t); var n = this.editor.config.get("ckfinder.options") || {}; n.chooseFiles = !0; var i = n.onInit; n.language || (n.language = t.locale.uiLanguage), n.onInit = (function (e) { i && i(e), e.on("files:choose", function (n) {
                            var e_851, _j, e_852, _q;
                            var i = n.data.files.toArray(), o = i.filter(function (t) { return !t.isImage(); }), r = i.filter(function (t) { return t.isImage(); });
                            try {
                                for (var o_136 = __values(o), o_136_1 = o_136.next(); !o_136_1.done; o_136_1 = o_136.next()) {
                                    var e_853 = o_136_1.value;
                                    t.execute("link", e_853.getUrl());
                                }
                            }
                            catch (e_851_1) { e_851 = { error: e_851_1 }; }
                            finally {
                                try {
                                    if (o_136_1 && !o_136_1.done && (_j = o_136.return)) _j.call(o_136);
                                }
                                finally { if (e_851) throw e_851.error; }
                            }
                            var s = [];
                            try {
                                for (var r_76 = __values(r), r_76_1 = r_76.next(); !r_76_1.done; r_76_1 = r_76.next()) {
                                    var t_441 = r_76_1.value;
                                    var n_328 = t_441.getUrl();
                                    s.push(n_328 || e.request("file:getProxyUrl", { file: t_441 }));
                                }
                            }
                            catch (e_852_1) { e_852 = { error: e_852_1 }; }
                            finally {
                                try {
                                    if (r_76_1 && !r_76_1.done && (_q = r_76.return)) _q.call(r_76);
                                }
                                finally { if (e_852) throw e_852.error; }
                            }
                            s.length && hw(t, s);
                        }), e.on("file:choose:resizedImage", function (e) { var n = e.data.resizedUrl; if (n)
                            hw(t, [n]);
                        else {
                            var e_854 = t.plugins.get("Notification"), n_329 = t.locale.t;
                            e_854.showWarning(n_329("br"), { title: n_329("bs"), namespace: "ckfinder" });
                        } }); }), window.CKFinder[e](n); };
                        return uw;
                    }(Pd));
                    function hw(t, e) { if (t.commands.get("imageInsert").isEnabled)
                        t.execute("imageInsert", { source: e });
                    else {
                        var e_855 = t.plugins.get("Notification"), n_330 = t.locale.t;
                        e_855.showWarning(n_330("bt"), { title: n_330("bu"), namespace: "ckfinder" });
                    } }
                    var mw = /** @class */ (function (_super) {
                        __extends(mw, _super);
                        function mw() {
                            return _super !== null && _super.apply(this, arguments) || this;
                        }
                        Object.defineProperty(mw, "pluginName", {
                            get: function () { return "CKFinderEditing"; },
                            enumerable: true,
                            configurable: true
                        });
                        Object.defineProperty(mw, "requires", {
                            get: function () { return [dw, kk, lw]; },
                            enumerable: true,
                            configurable: true
                        });
                        mw.prototype.init = function () { var t = this.editor; t.commands.add("ckfinder", new uw(t)); };
                        return mw;
                    }(Ad));
                    var gw = /** @class */ (function () {
                        function gw() {
                            var _this = this;
                            var t = new window.FileReader;
                            this._reader = t, this._data = void 0, this.set("loaded", 0), t.onprogress = (function (t) { _this.loaded = t.loaded; });
                        }
                        Object.defineProperty(gw.prototype, "error", {
                            get: function () { return this._reader.error; },
                            enumerable: true,
                            configurable: true
                        });
                        Object.defineProperty(gw.prototype, "data", {
                            get: function () { return this._data; },
                            enumerable: true,
                            configurable: true
                        });
                        gw.prototype.read = function (t) {
                            var _this = this;
                            var e = this._reader;
                            return this.total = t.size, new Promise(function (n, i) { e.onload = (function () { var t = e.result; _this._data = t, n(t); }), e.onerror = (function () { i("error"); }), e.onabort = (function () { i("aborted"); }), _this._reader.readAsDataURL(t); });
                        };
                        gw.prototype.abort = function () { this._reader.abort(); };
                        return gw;
                    }());
                    ci(gw, Bi);
                    var fw = /** @class */ (function (_super) {
                        __extends(fw, _super);
                        function fw() {
                            return _super !== null && _super.apply(this, arguments) || this;
                        }
                        Object.defineProperty(fw, "pluginName", {
                            get: function () { return "FileRepository"; },
                            enumerable: true,
                            configurable: true
                        });
                        Object.defineProperty(fw, "requires", {
                            get: function () { return [Sd]; },
                            enumerable: true,
                            configurable: true
                        });
                        fw.prototype.init = function () {
                            var _this = this;
                            this.loaders = new oo, this.loaders.on("add", function () { return _this._updatePendingAction(); }), this.loaders.on("remove", function () { return _this._updatePendingAction(); }), this._loadersMap = new Map, this._pendingAction = null, this.set("uploaded", 0), this.set("uploadTotal", null), this.bind("uploadedPercent").to(this, "uploaded", this, "uploadTotal", function (t, e) { return e ? t / e * 100 : 0; });
                        };
                        fw.prototype.getLoader = function (t) { return this._loadersMap.get(t) || null; };
                        fw.prototype.createLoader = function (t) {
                            var _this = this;
                            if (!this.createUploadAdapter)
                                return console.warn(Object(Gn.a)("filerepository-no-upload-adapter: Upload adapter is not defined.")), null;
                            var e = new pw(Promise.resolve(t), this.createUploadAdapter);
                            return this.loaders.add(e), this._loadersMap.set(t, e), t instanceof Promise && e.file.then(function (t) { _this._loadersMap.set(t, e); }).catch(function () { }), e.on("change:uploaded", function () {
                                var e_856, _j;
                                var t = 0;
                                try {
                                    for (var _q = __values(_this.loaders), _z = _q.next(); !_z.done; _z = _q.next()) {
                                        var e_857 = _z.value;
                                        t += e_857.uploaded;
                                    }
                                }
                                catch (e_856_1) { e_856 = { error: e_856_1 }; }
                                finally {
                                    try {
                                        if (_z && !_z.done && (_j = _q.return)) _j.call(_q);
                                    }
                                    finally { if (e_856) throw e_856.error; }
                                }
                                _this.uploaded = t;
                            }), e.on("change:uploadTotal", function () {
                                var e_858, _j;
                                var t = 0;
                                try {
                                    for (var _q = __values(_this.loaders), _z = _q.next(); !_z.done; _z = _q.next()) {
                                        var e_859 = _z.value;
                                        e_859.uploadTotal && (t += e_859.uploadTotal);
                                    }
                                }
                                catch (e_858_1) { e_858 = { error: e_858_1 }; }
                                finally {
                                    try {
                                        if (_z && !_z.done && (_j = _q.return)) _j.call(_q);
                                    }
                                    finally { if (e_858) throw e_858.error; }
                                }
                                _this.uploadTotal = t;
                            }), e;
                        };
                        fw.prototype.destroyLoader = function (t) {
                            var _this = this;
                            var e = t instanceof pw ? t : this.getLoader(t);
                            e._destroy(), this.loaders.remove(e), this._loadersMap.forEach(function (t, n) { t === e && _this._loadersMap.delete(n); });
                        };
                        fw.prototype._updatePendingAction = function () { var t = this.editor.plugins.get(Sd); if (this.loaders.length) {
                            if (!this._pendingAction) {
                                var e_860 = this.editor.t, n_331 = function (t) { return e_860("bw") + " " + parseInt(t) + "%."; };
                                this._pendingAction = t.add(n_331(this.uploadedPercent)), this._pendingAction.bind("message").to(this, "uploadedPercent", n_331);
                            }
                        }
                        else
                            t.remove(this._pendingAction), this._pendingAction = null; };
                        return fw;
                    }(Ad));
                    ci(fw, Bi);
                    var pw = /** @class */ (function () {
                        function pw(t, e) {
                            this.id = Jn(), this._filePromiseWrapper = this._createFilePromiseWrapper(t), this._adapter = e(this), this._reader = new gw, this.set("status", "idle"), this.set("uploaded", 0), this.set("uploadTotal", null), this.bind("uploadedPercent").to(this, "uploaded", this, "uploadTotal", function (t, e) { return e ? t / e * 100 : 0; }), this.set("uploadResponse", null);
                        }
                        Object.defineProperty(pw.prototype, "file", {
                            get: function () {
                                var _this = this;
                                return this._filePromiseWrapper ? this._filePromiseWrapper.promise.then(function (t) { return _this._filePromiseWrapper ? t : null; }) : Promise.resolve(null);
                            },
                            enumerable: true,
                            configurable: true
                        });
                        Object.defineProperty(pw.prototype, "data", {
                            get: function () { return this._reader.data; },
                            enumerable: true,
                            configurable: true
                        });
                        pw.prototype.read = function () {
                            var _this = this;
                            if ("idle" != this.status)
                                throw new Gn.b("filerepository-read-wrong-status: You cannot call read if the status is different than idle.", this);
                            return this.status = "reading", this.file.then(function (t) { return _this._reader.read(t); }).then(function (t) { if ("reading" !== _this.status)
                                throw _this.status; return _this.status = "idle", t; }).catch(function (t) { if ("aborted" === t)
                                throw _this.status = "aborted", "aborted"; throw _this.status = "error", _this._reader.error ? _this._reader.error : t; });
                        };
                        pw.prototype.upload = function () {
                            var _this = this;
                            if ("idle" != this.status)
                                throw new Gn.b("filerepository-upload-wrong-status: You cannot call upload if the status is different than idle.", this);
                            return this.status = "uploading", this.file.then(function () { return _this._adapter.upload(); }).then(function (t) { return (_this.uploadResponse = t, _this.status = "idle", t); }).catch(function (t) { if ("aborted" === _this.status)
                                throw "aborted"; throw _this.status = "error", t; });
                        };
                        pw.prototype.abort = function () { var t = this.status; this.status = "aborted", this._filePromiseWrapper.isFulfilled ? "reading" == t ? this._reader.abort() : "uploading" == t && this._adapter.abort && this._adapter.abort() : (this._filePromiseWrapper.promise.catch(function () { }), this._filePromiseWrapper.rejecter("aborted")), this._destroy(); };
                        pw.prototype._destroy = function () { this._filePromiseWrapper = void 0, this._reader = void 0, this._adapter = void 0, this.uploadResponse = void 0; };
                        pw.prototype._createFilePromiseWrapper = function (t) { var e = {}; return e.promise = new Promise(function (n, i) { e.rejecter = i, e.isFulfilled = !1, t.then(function (t) { e.isFulfilled = !0, n(t); }).catch(function (t) { e.isFulfilled = !0, i(t); }); }), e; };
                        return pw;
                    }());
                    ci(pw, Bi);
                    var xw = "ckCsrfToken", bw = 40, kw = "abcdefghijklmnopqrstuvwxyz0123456789";
                    function ww() { var t = function (t) {
                        var e_861, _j;
                        t = t.toLowerCase();
                        var e = document.cookie.split(";");
                        try {
                            for (var e_862 = __values(e), e_862_1 = e_862.next(); !e_862_1.done; e_862_1 = e_862.next()) {
                                var n_332 = e_862_1.value;
                                var e_863 = n_332.split("="), i_217 = decodeURIComponent(e_863[0].trim().toLowerCase());
                                if (i_217 === t)
                                    return decodeURIComponent(e_863[1]);
                            }
                        }
                        catch (e_861_1) { e_861 = { error: e_861_1 }; }
                        finally {
                            try {
                                if (e_862_1 && !e_862_1.done && (_j = e_862.return)) _j.call(e_862);
                            }
                            finally { if (e_861) throw e_861.error; }
                        }
                        return null;
                    }(xw); return t && t.length == bw || (t = function (t) { var e = ""; var n = new Uint8Array(t); window.crypto.getRandomValues(n); for (var t_442 = 0; t_442 < n.length; t_442++) {
                        var i_218 = kw.charAt(n[t_442] % kw.length);
                        e += Math.random() > .5 ? i_218.toUpperCase() : i_218;
                    } return e; }(bw), function (t, e) { document.cookie = encodeURIComponent(t) + "=" + encodeURIComponent(e) + ";path=/"; }(xw, t)), t; }
                    var _w = /** @class */ (function (_super) {
                        __extends(_w, _super);
                        function _w() {
                            return _super !== null && _super.apply(this, arguments) || this;
                        }
                        Object.defineProperty(_w, "requires", {
                            get: function () { return [fw]; },
                            enumerable: true,
                            configurable: true
                        });
                        Object.defineProperty(_w, "pluginName", {
                            get: function () { return "CKFinderUploadAdapter"; },
                            enumerable: true,
                            configurable: true
                        });
                        _w.prototype.init = function () {
                            var _this = this;
                            var t = this.editor.config.get("ckfinder.uploadUrl");
                            t && (this.editor.plugins.get(fw).createUploadAdapter = (function (e) { return new vw(e, t, _this.editor.t); }));
                        };
                        return _w;
                    }(Ad));
                    var vw = /** @class */ (function () {
                        function vw(t, e, n) {
                            this.loader = t, this.url = e, this.t = n;
                        }
                        vw.prototype.upload = function () {
                            var _this = this;
                            return this.loader.file.then(function (t) { return new Promise(function (e, n) { _this._initRequest(), _this._initListeners(e, n, t), _this._sendRequest(t); }); });
                        };
                        vw.prototype.abort = function () { this.xhr && this.xhr.abort(); };
                        vw.prototype._initRequest = function () { var t = this.xhr = new XMLHttpRequest; t.open("POST", this.url, !0), t.responseType = "json"; };
                        vw.prototype._initListeners = function (t, e, n) { var i = this.xhr, o = this.loader, r = (0, this.t)("c") + (" " + n.name + "."); i.addEventListener("error", function () { return e(r); }), i.addEventListener("abort", function () { return e(); }), i.addEventListener("load", function () { var n = i.response; if (!n || !n.uploaded)
                            return e(n && n.error && n.error.message ? n.error.message : r); t({ default: n.url }); }), i.upload && i.upload.addEventListener("progress", function (t) { t.lengthComputable && (o.uploadTotal = t.total, o.uploaded = t.loaded); }); };
                        vw.prototype._sendRequest = function (t) { var e = new FormData; e.append("upload", t), e.append("ckCsrfToken", ww()), this.xhr.send(e); };
                        return vw;
                    }());
                    var yw = /^data:(\S*?);base64,/;
                    var Cw = /** @class */ (function () {
                        function Cw(t, e, n) {
                            if (!t)
                                throw new Gn.b("fileuploader-missing-file: File must be provided as the first argument", null);
                            if (!e)
                                throw new Gn.b("fileuploader-missing-token: Token must be provided as the second argument.", null);
                            if (!n)
                                throw new Gn.b("fileuploader-missing-api-address: Api address must be provided as the third argument.", null);
                            this.file = function (t) { if ("string" != typeof t)
                                return !1; var e = t.match(yw); return !(!e || !e.length); }(t) ? function (t, e) {
                                if (e === void 0) { e = 512; }
                                try {
                                    var n_333 = t.match(yw)[1], i_219 = atob(t.replace(yw, "")), o_137 = [];
                                    for (var t_443 = 0; t_443 < i_219.length; t_443 += e) {
                                        var n_334 = i_219.slice(t_443, t_443 + e), r_77 = new Array(n_334.length);
                                        for (var t_444 = 0; t_444 < n_334.length; t_444++)
                                            r_77[t_444] = n_334.charCodeAt(t_444);
                                        o_137.push(new Uint8Array(r_77));
                                    }
                                    return new Blob(o_137, { type: n_333 });
                                }
                                catch (t) {
                                    throw new Gn.b("fileuploader-decoding-image-data-error: Problem with decoding Base64 image data.", null);
                                }
                            }(t) : t, this._token = e, this._apiAddress = n;
                        }
                        Cw.prototype.onProgress = function (t) { return this.on("progress", function (e, n) { return t(n); }), this; };
                        Cw.prototype.onError = function (t) { return this.once("error", function (e, n) { return t(n); }), this; };
                        Cw.prototype.abort = function () { this.xhr.abort(); };
                        Cw.prototype.send = function () { return this._prepareRequest(), this._attachXHRListeners(), this._sendRequest(); };
                        Cw.prototype._prepareRequest = function () { var t = new XMLHttpRequest; t.open("POST", this._apiAddress), t.setRequestHeader("Authorization", this._token.value), t.responseType = "json", this.xhr = t; };
                        Cw.prototype._attachXHRListeners = function () {
                            var _this = this;
                            var t = this, e = this.xhr;
                            function n(e) { return function () { return t.fire("error", e); }; }
                            e.addEventListener("error", n("Network Error")), e.addEventListener("abort", n("Abort")), e.upload && e.upload.addEventListener("progress", function (t) { t.lengthComputable && _this.fire("progress", { total: t.total, uploaded: t.loaded }); }), e.addEventListener("load", function () { var t = e.status, n = e.response; if (t < 200 || t > 299)
                                return _this.fire("error", n.message || n.error); });
                        };
                        Cw.prototype._sendRequest = function () {
                            var _this = this;
                            var t = new FormData, e = this.xhr;
                            return t.append("file", this.file), new Promise(function (n, i) { e.addEventListener("load", function () { var t = e.status, o = e.response; return t < 200 || t > 299 ? o.message ? i(new Gn.b("fileuploader-uploading-data-failed: Uploading file failed.", _this, { message: o.message })) : i(o.error) : n(o); }), e.addEventListener("error", function () { return i(new Error("Network Error")); }), e.addEventListener("abort", function () { return i(new Error("Abort")); }), e.send(t); });
                        };
                        return Cw;
                    }());
                    ci(Cw, ei);
                    var Tw = { refreshInterval: 36e5, autoRefresh: !0 };
                    var Aw = /** @class */ (function () {
                        function Aw(t, e) {
                            if (e === void 0) { e = Tw; }
                            if (!t)
                                throw new Gn.b("token-missing-token-url: A `tokenUrl` must be provided as the first constructor argument.", this);
                            this.set("value", e.initValue), this._refresh = "function" == typeof t ? t : function () { return (function (t) { return new Promise(function (e, n) { var i = new XMLHttpRequest; i.open("GET", t), i.addEventListener("load", function () { var t = i.status, o = i.response; return t < 200 || t > 299 ? n(new Gn.b("token-cannot-download-new-token: Cannot download new token from the provided url.", null)) : e(o); }), i.addEventListener("error", function () { return n(new Error("Network Error")); }), i.addEventListener("abort", function () { return n(new Error("Abort")); }), i.send(); }); })(t); }, this._options = Object.assign({}, Tw, e);
                        }
                        Aw.prototype.init = function () {
                            var _this = this;
                            return new Promise(function (t, e) { _this._options.autoRefresh && _this._startRefreshing(), _this.value ? t(_this) : _this._refreshToken().then(t).catch(e); });
                        };
                        Aw.prototype._refreshToken = function () {
                            var _this = this;
                            return this._refresh().then(function (t) { return _this.set("value", t); }).then(function () { return _this; });
                        };
                        Aw.prototype.destroy = function () { this._stopRefreshing(); };
                        Aw.prototype._startRefreshing = function () {
                            var _this = this;
                            this._refreshInterval = setInterval(function () { return _this._refreshToken(); }, this._options.refreshInterval);
                        };
                        Aw.prototype._stopRefreshing = function () { clearInterval(this._refreshInterval); };
                        Aw.create = function (t, e) {
                            if (e === void 0) { e = Tw; }
                            return new Aw(t, e).init();
                        };
                        return Aw;
                    }());
                    ci(Aw, Bi);
                    var Sw = Aw;
                    var Pw = /** @class */ (function (_super) {
                        __extends(Pw, _super);
                        function Pw() {
                            return _super !== null && _super.apply(this, arguments) || this;
                        }
                        Object.defineProperty(Pw, "pluginName", {
                            get: function () { return "CloudServices"; },
                            enumerable: true,
                            configurable: true
                        });
                        Pw.prototype.init = function () { var t = this.editor.config.get("cloudServices") || {}; for (var e_864 in t)
                            this[e_864] = t[e_864]; if (this.tokenUrl)
                            return this.token = new Pw.Token(this.tokenUrl), this.token.init(); this.token = null; };
                        return Pw;
                    }(Ad));
                    Pw.Token = Sw;
                    var Mw = /** @class */ (function (_super) {
                        __extends(Mw, _super);
                        function Mw() {
                            return _super !== null && _super.apply(this, arguments) || this;
                        }
                        Object.defineProperty(Mw, "requires", {
                            get: function () { return [fw, Pw]; },
                            enumerable: true,
                            configurable: true
                        });
                        Mw.prototype.init = function () {
                            var _this = this;
                            var t = this.editor, e = t.plugins.get(Pw), n = e.token, i = e.uploadUrl;
                            n && (this._uploadGateway = new Mw._UploadGateway(n, i), t.plugins.get(fw).createUploadAdapter = (function (t) { return new Ew(_this._uploadGateway, t); }));
                        };
                        return Mw;
                    }(Ad));
                    var Ew = /** @class */ (function () {
                        function Ew(t, e) {
                            this.uploadGateway = t, this.loader = e;
                        }
                        Ew.prototype.upload = function () {
                            var _this = this;
                            return this.loader.file.then(function (t) { return (_this.fileUploader = _this.uploadGateway.upload(t), _this.fileUploader.on("progress", function (t, e) { _this.loader.uploadTotal = e.total, _this.loader.uploaded = e.uploaded; }), _this.fileUploader.send()); });
                        };
                        Ew.prototype.abort = function () { this.fileUploader.abort(); };
                        return Ew;
                    }());
                    Mw._UploadGateway = /** @class */ (function () {
                        function _UploadGateway(t, e) {
                            if (!t)
                                throw new Gn.b("uploadgateway-missing-token: Token must be provided.", null);
                            if (!e)
                                throw new Gn.b("uploadgateway-missing-api-address: Api address must be provided.", null);
                            this._token = t, this._apiAddress = e;
                        }
                        _UploadGateway.prototype.upload = function (t) { return new Cw(t, this._token, this._apiAddress); };
                        return _UploadGateway;
                    }());
                    n(155);
                    var Iw = ko("Ctrl+A");
                    var Nw = /** @class */ (function (_super) {
                        __extends(Nw, _super);
                        function Nw() {
                            return _super !== null && _super.apply(this, arguments) || this;
                        }
                        Object.defineProperty(Nw, "pluginName", {
                            get: function () { return "Widget"; },
                            enumerable: true,
                            configurable: true
                        });
                        Nw.prototype.init = function () {
                            var _this = this;
                            var t = this.editor.editing.view, e = t.document;
                            this._previouslySelected = new Set, this.editor.editing.downcastDispatcher.on("selection", function (t, e, n) {
                                var e_865, _j, e_866, _q;
                                _this._clearPreviouslySelectedWidgets(n.writer);
                                var i = n.writer, o = i.document.selection, r = o.getSelectedElement();
                                var s = null;
                                try {
                                    for (var _z = __values(o.getRanges()), _0 = _z.next(); !_0.done; _0 = _z.next()) {
                                        var t_446 = _0.value;
                                        try {
                                            for (var t_445 = __values(t_446), t_445_1 = t_445.next(); !t_445_1.done; t_445_1 = t_445.next()) {
                                                var e_867 = t_445_1.value;
                                                var t_447 = e_867.item;
                                                ck(t_447) && !Rw(t_447, s) && (i.addClass(ak, t_447), _this._previouslySelected.add(t_447), s = t_447, t_447 == r && i.setSelection(o.getRanges(), { fake: !0, label: dk(r) }));
                                            }
                                        }
                                        catch (e_866_1) { e_866 = { error: e_866_1 }; }
                                        finally {
                                            try {
                                                if (t_445_1 && !t_445_1.done && (_q = t_445.return)) _q.call(t_445);
                                            }
                                            finally { if (e_866) throw e_866.error; }
                                        }
                                    }
                                }
                                catch (e_865_1) { e_865 = { error: e_865_1 }; }
                                finally {
                                    try {
                                        if (_0 && !_0.done && (_j = _z.return)) _j.call(_z);
                                    }
                                    finally { if (e_865) throw e_865.error; }
                                }
                            }, { priority: "low" }), t.addObserver(Iu), this.listenTo(e, "mousedown", function () {
                                var t = [];
                                for (var _j = 0; _j < arguments.length; _j++) {
                                    t[_j] = arguments[_j];
                                }
                                return _this._onMousedown.apply(_this, __spread(t));
                            }), this.listenTo(e, "keydown", function () {
                                var t = [];
                                for (var _j = 0; _j < arguments.length; _j++) {
                                    t[_j] = arguments[_j];
                                }
                                return _this._onKeydown.apply(_this, __spread(t));
                            }, { priority: "high" }), this.listenTo(e, "delete", function (t, e) { _this._handleDelete("forward" == e.direction) && (e.preventDefault(), t.stop()); }, { priority: "high" });
                        };
                        Nw.prototype._onMousedown = function (t, e) { var n = this.editor, i = n.editing.view, o = i.document; var r = e.target; if (function (t) { for (; t;) {
                            if (t.is("editableElement") && !t.is("rootElement"))
                                return !0;
                            if (ck(t))
                                return !1;
                            t = t.parent;
                        } return !1; }(r)) {
                            if (go.isSafari && e.domEvent.detail >= 3) {
                                var t_448 = n.editing.mapper.toModelElement(r);
                                this.editor.model.change(function (n) { e.preventDefault(), n.setSelection(t_448, "in"); });
                            }
                            return;
                        } if (!ck(r) && !(r = r.findAncestor(ck)))
                            return; e.preventDefault(), o.isFocused || i.focus(); var s = n.editing.mapper.toModelElement(r); this._setSelectionOverElement(s); };
                        Nw.prototype._onKeydown = function (t, e) { var n = e.keyCode, i = "ltr" === this.editor.locale.contentLanguageDirection, o = n == xo.arrowdown || n == xo[i ? "arrowright" : "arrowleft"]; var r = !1; !function (t) { return t == xo.arrowright || t == xo.arrowleft || t == xo.arrowup || t == xo.arrowdown; }(n) ? !function (t) { return bo(t) == Iw; }(e) ? n === xo.enter && (r = this._handleEnterKey(e.shiftKey)) : r = this._selectAllNestedEditableContent() || this._selectAllContent() : r = this._handleArrowKeys(o), r && (e.preventDefault(), t.stop()); };
                        Nw.prototype._handleDelete = function (t) {
                            var _this = this;
                            if (this.editor.isReadOnly)
                                return;
                            var e = this.editor.model.document.selection;
                            if (!e.isCollapsed)
                                return;
                            var n = this._getObjectElementNextToSelection(t);
                            return n ? (this.editor.model.change(function (t) { var i = e.anchor.parent; for (; i.isEmpty;) {
                                var e_868 = i;
                                i = e_868.parent, t.remove(e_868);
                            } _this._setSelectionOverElement(n); }), !0) : void 0;
                        };
                        Nw.prototype._handleArrowKeys = function (t) { var e = this.editor.model, n = e.schema, i = e.document.selection, o = i.getSelectedElement(); if (o && n.isObject(o)) {
                            var o_138 = t ? i.getLastPosition() : i.getFirstPosition(), r_78 = n.getNearestSelectionRange(o_138, t ? "forward" : "backward");
                            return r_78 && e.change(function (t) { t.setSelection(r_78); }), !0;
                        } if (!i.isCollapsed)
                            return; var r = this._getObjectElementNextToSelection(t); return r && n.isObject(r) ? (this._setSelectionOverElement(r), !0) : void 0; };
                        Nw.prototype._handleEnterKey = function (t) { var e = this.editor.model, n = e.document.selection.getSelectedElement(); if (function (t, e) { return t && e.isObject(t) && !e.isInline(t); }(n, e.schema))
                            return e.change(function (i) { var o = i.createPositionAt(n, t ? "before" : "after"); var r = i.createElement("paragraph"); if (e.schema.isBlock(n.parent)) {
                                var t_449 = e.schema.findAllowedParent(o, r);
                                o = i.split(o, t_449).position;
                            } i.insert(r, o), i.setSelection(r, "in"); }), !0; };
                        Nw.prototype._selectAllNestedEditableContent = function () { var t = this.editor.model, e = t.document.selection, n = t.schema.getLimitElement(e); return e.getFirstRange().root != n && (t.change(function (t) { t.setSelection(t.createRangeIn(n)); }), !0); };
                        Nw.prototype._selectAllContent = function () { var t = this.editor.model, e = this.editor.editing, n = e.view.document.selection.getSelectedElement(); if (n && ck(n)) {
                            var i_220 = e.mapper.toModelElement(n.parent);
                            return t.change(function (t) { t.setSelection(t.createRangeIn(i_220)); }), !0;
                        } return !1; };
                        Nw.prototype._setSelectionOverElement = function (t) { this.editor.model.change(function (e) { e.setSelection(e.createRangeOn(t)); }); };
                        Nw.prototype._getObjectElementNextToSelection = function (t) { var e = this.editor.model, n = e.schema, i = e.document.selection, o = e.createSelection(i); e.modifySelection(o, { direction: t ? "forward" : "backward" }); var r = t ? o.focus.nodeBefore : o.focus.nodeAfter; return r && n.isObject(r) ? r : null; };
                        Nw.prototype._clearPreviouslySelectedWidgets = function (t) {
                            var e_869, _j;
                            try {
                                for (var _q = __values(this._previouslySelected), _z = _q.next(); !_z.done; _z = _q.next()) {
                                    var e_870 = _z.value;
                                    t.removeClass(ak, e_870);
                                }
                            }
                            catch (e_869_1) { e_869 = { error: e_869_1 }; }
                            finally {
                                try {
                                    if (_z && !_z.done && (_j = _q.return)) _j.call(_q);
                                }
                                finally { if (e_869) throw e_869.error; }
                            }
                            this._previouslySelected.clear();
                        };
                        return Nw;
                    }(Ad));
                    function Rw(t, e) { return !!e && Array.from(t.getAncestors()).includes(e); }
                    var Ow = /** @class */ (function (_super) {
                        __extends(Ow, _super);
                        function Ow() {
                            return _super !== null && _super.apply(this, arguments) || this;
                        }
                        Ow.prototype.refresh = function () { var t = this.editor.model.document.selection.getSelectedElement(); this.isEnabled = fk(t), fk(t) && t.hasAttribute("alt") ? this.value = t.getAttribute("alt") : this.value = !1; };
                        Ow.prototype.execute = function (t) { var e = this.editor.model, n = e.document.selection.getSelectedElement(); e.change(function (e) { e.setAttribute("alt", t.newValue, n); }); };
                        return Ow;
                    }(Pd));
                    var Dw = /** @class */ (function (_super) {
                        __extends(Dw, _super);
                        function Dw() {
                            return _super !== null && _super.apply(this, arguments) || this;
                        }
                        Object.defineProperty(Dw, "pluginName", {
                            get: function () { return "ImageTextAlternativeEditing"; },
                            enumerable: true,
                            configurable: true
                        });
                        Dw.prototype.init = function () { this.editor.commands.add("imageTextAlternative", new Ow(this.editor)); };
                        return Dw;
                    }(Ad));
                    n(157);
                    var Lw = /** @class */ (function (_super) {
                        __extends(Lw, _super);
                        function Lw(t, e) {
                            var _this = _super.call(this, t) || this;
                            var n = "ck-input-" + Jn(), i = "ck-status-" + Jn();
                            _this.set("label"), _this.set("value"), _this.set("isReadOnly", !1), _this.set("errorText", null), _this.set("infoText", null), _this.labelView = _this._createLabelView(n), _this.inputView = _this._createInputView(e, n, i), _this.statusView = _this._createStatusView(i), _this.bind("_statusText").to(_this, "errorText", _this, "infoText", function (t, e) { return t || e; });
                            var o = _this.bindTemplate;
                            _this.setTemplate({ tag: "div", attributes: { class: ["ck", "ck-labeled-input", o.if("isReadOnly", "ck-disabled")] }, children: [_this.labelView, _this.inputView, _this.statusView] });
                            return _this;
                        }
                        Lw.prototype._createLabelView = function (t) { var e = new Fl(this.locale); return e.for = t, e.bind("text").to(this, "label"), e; };
                        Lw.prototype._createInputView = function (t, e, n) {
                            var _this = this;
                            var i = new t(this.locale, n);
                            return i.id = e, i.ariaDescribedById = n, i.bind("value").to(this), i.bind("isReadOnly").to(this), i.bind("hasError").to(this, "errorText", function (t) { return !!t; }), i.on("input", function () { _this.errorText = null; }), i;
                        };
                        Lw.prototype._createStatusView = function (t) { var e = new zl(this.locale), n = this.bindTemplate; return e.setTemplate({ tag: "div", attributes: { class: ["ck", "ck-labeled-input__status", n.if("errorText", "ck-labeled-input__status_error"), n.if("_statusText", "ck-hidden", function (t) { return !t; })], id: t, role: n.if("errorText", "alert") }, children: [{ text: n.to("_statusText") }] }), e; };
                        Lw.prototype.select = function () { this.inputView.select(); };
                        Lw.prototype.focus = function () { this.inputView.focus(); };
                        return Lw;
                    }(zl));
                    n(159);
                    var Vw = /** @class */ (function (_super) {
                        __extends(Vw, _super);
                        function Vw(t) {
                            var _this = this;
                            _this = _super.call(this, t) || this, _this.set("value"), _this.set("id"), _this.set("placeholder"), _this.set("isReadOnly", !1), _this.set("hasError", !1), _this.set("ariaDescribedById");
                            var e = _this.bindTemplate;
                            _this.setTemplate({ tag: "input", attributes: { type: "text", class: ["ck", "ck-input", "ck-input-text", e.if("hasError", "ck-error")], id: e.to("id"), placeholder: e.to("placeholder"), readonly: e.to("isReadOnly"), "aria-invalid": e.if("hasError", !0), "aria-describedby": e.to("ariaDescribedById") }, on: { input: e.to("input") } });
                            return _this;
                        }
                        Vw.prototype.render = function () {
                            var _this = this;
                            _super.prototype.render.call(this);
                            var t = function (t) { _this.element.value = t || 0 === t ? t : ""; };
                            t(this.value), this.on("change:value", function (e, n, i) { t(i); });
                        };
                        Vw.prototype.select = function () { this.element.select(); };
                        Vw.prototype.focus = function () { this.element.focus(); };
                        return Vw;
                    }(zl));
                    function zw(_j) {
                        var t = _j.view;
                        t.listenTo(t.element, "submit", function (e, n) { n.preventDefault(), t.fire("submit"); }, { useCapture: !0 });
                    }
                    n(161);
                    var jw = /** @class */ (function (_super) {
                        __extends(jw, _super);
                        function jw(t) {
                            var _this = _super.call(this, t) || this;
                            var e = _this.locale.t;
                            _this.focusTracker = new ll, _this.keystrokes = new tl, _this.labeledInput = _this._createLabeledInputView(), _this.saveButtonView = _this._createButton(e("ck"), Yu.a, "ck-button-save"), _this.saveButtonView.type = "submit", _this.cancelButtonView = _this._createButton(e("cl"), Gu.a, "ck-button-cancel", "cancel"), _this._focusables = new bl, _this._focusCycler = new $l({ focusables: _this._focusables, focusTracker: _this.focusTracker, keystrokeHandler: _this.keystrokes, actions: { focusPrevious: "shift + tab", focusNext: "tab" } }), _this.setTemplate({ tag: "form", attributes: { class: ["ck", "ck-text-alternative-form"], tabindex: "-1" }, children: [_this.labeledInput, _this.saveButtonView, _this.cancelButtonView] });
                            return _this;
                        }
                        jw.prototype.render = function () {
                            var _this = this;
                            _super.prototype.render.call(this), this.keystrokes.listenTo(this.element), zw({ view: this }), [this.labeledInput, this.saveButtonView, this.cancelButtonView].forEach(function (t) { _this._focusables.add(t), _this.focusTracker.add(t.element); });
                        };
                        jw.prototype._createButton = function (t, e, n, i) { var o = new sd(this.locale); return o.set({ label: t, icon: e, tooltip: !0 }), o.extendTemplate({ attributes: { class: n } }), i && o.delegate("execute").to(this, i), o; };
                        jw.prototype._createLabeledInputView = function () { var t = this.locale.t, e = new Lw(this.locale, Vw); return e.label = t("cn"), e.inputView.placeholder = t("cn"), e; };
                        return jw;
                    }(zl));
                    var Fw = n(51), Bw = n.n(Fw);
                    function Hw(t) { var e = t.editing.view, n = ku.defaultPositions; return { target: e.domConverter.viewToDom(e.document.selection.getSelectedElement()), positions: [n.northArrowSouth, n.northArrowSouthWest, n.northArrowSouthEast, n.southArrowNorth, n.southArrowNorthWest, n.southArrowNorthEast] }; }
                    var Uw = /** @class */ (function (_super) {
                        __extends(Uw, _super);
                        function Uw() {
                            return _super !== null && _super.apply(this, arguments) || this;
                        }
                        Object.defineProperty(Uw, "requires", {
                            get: function () { return [Pu]; },
                            enumerable: true,
                            configurable: true
                        });
                        Object.defineProperty(Uw, "pluginName", {
                            get: function () { return "ImageTextAlternativeUI"; },
                            enumerable: true,
                            configurable: true
                        });
                        Uw.prototype.init = function () { this._createButton(), this._createForm(); };
                        Uw.prototype.destroy = function () { _super.prototype.destroy.call(this), this._form.destroy(); };
                        Uw.prototype._createButton = function () {
                            var _this = this;
                            var t = this.editor, e = t.t;
                            t.ui.componentFactory.add("imageTextAlternative", function (n) { var i = t.commands.get("imageTextAlternative"), o = new sd(n); return o.set({ label: e("bv"), icon: Bw.a, tooltip: !0 }), o.bind("isEnabled").to(i, "isEnabled"), _this.listenTo(o, "execute", function () { return _this._showForm(); }), o; });
                        };
                        Uw.prototype._createForm = function () {
                            var _this = this;
                            var t = this.editor, e = t.editing.view.document;
                            this._balloon = this.editor.plugins.get("ContextualBalloon"), this._form = new jw(t.locale), this._form.render(), this.listenTo(this._form, "submit", function () { t.execute("imageTextAlternative", { newValue: _this._form.labeledInput.inputView.element.value }), _this._hideForm(!0); }), this.listenTo(this._form, "cancel", function () { _this._hideForm(!0); }), this._form.keystrokes.set("Esc", function (t, e) { _this._hideForm(!0), e(); }), this.listenTo(t.ui, "update", function () { gk(e.selection) ? _this._isVisible && function (t) { var e = t.plugins.get("ContextualBalloon"); if (gk(t.editing.view.document.selection)) {
                                var n_335 = Hw(t);
                                e.updatePosition(n_335);
                            } }(t) : _this._hideForm(!0); }), gd({ emitter: this._form, activator: function () { return _this._isVisible; }, contextElements: [this._balloon.view.element], callback: function () { return _this._hideForm(); } });
                        };
                        Uw.prototype._showForm = function () { if (this._isVisible)
                            return; var t = this.editor, e = t.commands.get("imageTextAlternative"), n = this._form.labeledInput; this._isInBalloon || this._balloon.add({ view: this._form, position: Hw(t) }), n.value = n.inputView.element.value = e.value || "", this._form.labeledInput.select(); };
                        Uw.prototype._hideForm = function (t) { this._isInBalloon && (this._form.focusTracker.isFocused && this._form.saveButtonView.focus(), this._balloon.remove(this._form), t && this.editor.editing.view.focus()); };
                        Object.defineProperty(Uw.prototype, "_isVisible", {
                            get: function () { return this._balloon.visibleView === this._form; },
                            enumerable: true,
                            configurable: true
                        });
                        Object.defineProperty(Uw.prototype, "_isInBalloon", {
                            get: function () { return this._balloon.hasView(this._form); },
                            enumerable: true,
                            configurable: true
                        });
                        return Uw;
                    }(Ad));
                    var Ww = /** @class */ (function (_super) {
                        __extends(Ww, _super);
                        function Ww() {
                            return _super !== null && _super.apply(this, arguments) || this;
                        }
                        Object.defineProperty(Ww, "requires", {
                            get: function () { return [Dw, Uw]; },
                            enumerable: true,
                            configurable: true
                        });
                        Object.defineProperty(Ww, "pluginName", {
                            get: function () { return "ImageTextAlternative"; },
                            enumerable: true,
                            configurable: true
                        });
                        return Ww;
                    }(Ad));
                    n(163);
                    var qw = /** @class */ (function (_super) {
                        __extends(qw, _super);
                        function qw() {
                            return _super !== null && _super.apply(this, arguments) || this;
                        }
                        Object.defineProperty(qw, "requires", {
                            get: function () { return [kk, Nw, Ww]; },
                            enumerable: true,
                            configurable: true
                        });
                        Object.defineProperty(qw, "pluginName", {
                            get: function () { return "Image"; },
                            enumerable: true,
                            configurable: true
                        });
                        return qw;
                    }(Ad));
                    var Yw = /** @class */ (function (_super) {
                        __extends(Yw, _super);
                        function Yw(t) {
                            var _this = this;
                            _this = _super.call(this, t) || this, _this.buttonView = new sd(t), _this._fileInputView = new $w(t), _this._fileInputView.bind("acceptedType").to(_this), _this._fileInputView.bind("allowMultipleFiles").to(_this), _this._fileInputView.delegate("done").to(_this), _this.setTemplate({ tag: "span", attributes: { class: "ck-file-dialog-button" }, children: [_this.buttonView, _this._fileInputView] }), _this.buttonView.on("execute", function () { _this._fileInputView.open(); });
                            return _this;
                        }
                        Yw.prototype.focus = function () { this.buttonView.focus(); };
                        return Yw;
                    }(zl));
                    var $w = /** @class */ (function (_super) {
                        __extends($w, _super);
                        function $w(t) {
                            var _this = this;
                            _this = _super.call(this, t) || this, _this.set("acceptedType"), _this.set("allowMultipleFiles", !1);
                            var e = _this.bindTemplate;
                            _this.setTemplate({ tag: "input", attributes: { class: ["ck-hidden"], type: "file", tabindex: "-1", accept: e.to("acceptedType"), multiple: e.to("allowMultipleFiles") }, on: { change: e.to(function () { _this.element && _this.element.files && _this.element.files.length && _this.fire("done", _this.element.files), _this.element.value = ""; }) } });
                            return _this;
                        }
                        $w.prototype.open = function () { this.element.click(); };
                        return $w;
                    }(zl));
                    var Gw = n(52), Kw = n.n(Gw);
                    function Qw(t) { var e = t.map(function (t) { return t.replace("+", "\\+"); }); return new RegExp("^image\\/(" + e.join("|") + ")$"); }
                    function Jw(t) { return new Promise(function (e, n) { var i = t.getAttribute("src"); fetch(i).then(function (t) { return t.blob(); }).then(function (t) { var o = function (t, e) { return t.type ? t.type : e.match(/data:(image\/\w+);base64/) ? e.match(/data:(image\/\w+);base64/)[1].toLowerCase() : "image/jpeg"; }(t, i), r = function (t, e, n) { try {
                        return new File([t], e, { type: n });
                    }
                    catch (t) {
                        return null;
                    } }(t, "image." + o.replace("image/", ""), o); r ? e(r) : n(); }).catch(n); }); }
                    var Zw = /** @class */ (function (_super) {
                        __extends(Zw, _super);
                        function Zw() {
                            return _super !== null && _super.apply(this, arguments) || this;
                        }
                        Zw.prototype.init = function () { var t = this.editor, e = t.t; t.ui.componentFactory.add("imageUpload", function (n) { var i = new Yw(n), o = t.commands.get("imageUpload"), r = t.config.get("image.upload.types"), s = Qw(r); return i.set({ acceptedType: r.map(function (t) { return "image/" + t; }).join(","), allowMultipleFiles: !0 }), i.buttonView.set({ label: e("ae"), icon: Kw.a, tooltip: !0 }), i.buttonView.bind("isEnabled").to(o), i.on("done", function (e, n) { var i = Array.from(n).filter(function (t) { return s.test(t.type); }); i.length && t.execute("imageUpload", { file: i }); }), i; }); };
                        return Zw;
                    }(Ad));
                    var Xw = n(53), t_ = n.n(Xw);
                    n(165), n(167), n(169);
                    var e_ = /** @class */ (function (_super) {
                        __extends(e_, _super);
                        function e_(t) {
                            var _this = this;
                            _this = _super.call(this, t) || this, _this.placeholder = "data:image/svg+xml;utf8," + encodeURIComponent(t_.a);
                            return _this;
                        }
                        e_.prototype.init = function () {
                            var _this = this;
                            this.editor.editing.downcastDispatcher.on("attribute:uploadStatus:image", function () {
                                var t = [];
                                for (var _j = 0; _j < arguments.length; _j++) {
                                    t[_j] = arguments[_j];
                                }
                                return _this.uploadStatusChange.apply(_this, __spread(t));
                            });
                        };
                        e_.prototype.uploadStatusChange = function (t, e, n) { var i = this.editor, o = e.item, r = o.getAttribute("uploadId"); if (!n.consumable.consume(e.item, t.name))
                            return; var s = i.plugins.get(fw), a = r ? e.attributeNewValue : null, c = this.placeholder, l = i.editing.mapper.toViewElement(o), d = n.writer; if ("reading" == a)
                            return n_(l, d), void i_(c, l, d); if ("uploading" == a) {
                            var t_450 = s.loaders.get(r);
                            return n_(l, d), void (t_450 ? (o_(l, d), function (t, e, n, i) { var o = function (t) { var e = t.createUIElement("div", { class: "ck-progress-bar" }); return t.setCustomProperty("progressBar", !0, e), e; }(e); e.insert(e.createPositionAt(t, "end"), o), n.on("change:uploadedPercent", function (t, e, n) { i.change(function (t) { t.setStyle("width", n + "%", o); }); }); }(l, d, t_450, i.editing.view), function (t, e, n) { if (n.data) {
                                var i_221 = t.getChild(0);
                                e.setAttribute("src", n.data, i_221);
                            } }(l, d, t_450)) : i_(c, l, d));
                        } "complete" == a && s.loaders.get(r) && !go.isEdge && function (t, e, n) { var i = e.createUIElement("div", { class: "ck-image-upload-complete-icon" }); e.insert(e.createPositionAt(t, "end"), i), setTimeout(function () { n.change(function (t) { return t.remove(t.createRangeOn(i)); }); }, 3e3); }(l, d, i.editing.view), function (t, e) { s_(t, e, "progressBar"); }(l, d), o_(l, d), function (t, e) { e.removeClass("ck-appear", t); }(l, d); };
                        return e_;
                    }(Ad));
                    function n_(t, e) { t.hasClass("ck-appear") || e.addClass("ck-appear", t); }
                    function i_(t, e, n) { e.hasClass("ck-image-upload-placeholder") || n.addClass("ck-image-upload-placeholder", e); var i = e.getChild(0); i.getAttribute("src") !== t && n.setAttribute("src", t, i), r_(e, "placeholder") || n.insert(n.createPositionAfter(i), function (t) { var e = t.createUIElement("div", { class: "ck-upload-placeholder-loader" }); return t.setCustomProperty("placeholder", !0, e), e; }(n)); }
                    function o_(t, e) { t.hasClass("ck-image-upload-placeholder") && e.removeClass("ck-image-upload-placeholder", t), s_(t, e, "placeholder"); }
                    function r_(t, e) {
                        var e_871, _j;
                        try {
                            for (var _q = __values(t.getChildren()), _z = _q.next(); !_z.done; _z = _q.next()) {
                                var n_336 = _z.value;
                                if (n_336.getCustomProperty(e))
                                    return n_336;
                            }
                        }
                        catch (e_871_1) { e_871 = { error: e_871_1 }; }
                        finally {
                            try {
                                if (_z && !_z.done && (_j = _q.return)) _j.call(_q);
                            }
                            finally { if (e_871) throw e_871.error; }
                        }
                    }
                    function s_(t, e, n) { var i = r_(t, n); i && e.remove(e.createRangeOn(i)); }
                    var a_ = /** @class */ (function () {
                        function a_() {
                        }
                        a_.prototype.createDocumentFragment = function (t) { return new To(t); };
                        a_.prototype.createElement = function (t, e, n) { return new ki(t, e, n); };
                        a_.prototype.createText = function (t) { return new mi(t); };
                        a_.prototype.clone = function (t, e) {
                            if (e === void 0) { e = !1; }
                            return t._clone(e);
                        };
                        a_.prototype.appendChild = function (t, e) { return e._appendChild(t); };
                        a_.prototype.insertChild = function (t, e, n) { return n._insertChild(t, e); };
                        a_.prototype.removeChildren = function (t, e, n) { return n._removeChildren(t, e); };
                        a_.prototype.remove = function (t) { var e = t.parent; return e ? this.removeChildren(e.getChildIndex(t), 1, e) : []; };
                        a_.prototype.replace = function (t, e) { var n = t.parent; if (n) {
                            var i_222 = n.getChildIndex(t);
                            return this.removeChildren(i_222, 1, n), this.insertChild(i_222, e, n), !0;
                        } return !1; };
                        a_.prototype.unwrapElement = function (t) { var e = t.parent; if (e) {
                            var n_337 = e.getChildIndex(t);
                            this.remove(t), this.insertChild(n_337, t.getChildren(), e);
                        } };
                        a_.prototype.rename = function (t, e) { var n = new ki(t, e.getAttributes(), e.getChildren()); return this.replace(e, n) ? n : null; };
                        a_.prototype.setAttribute = function (t, e, n) { n._setAttribute(t, e); };
                        a_.prototype.removeAttribute = function (t, e) { e._removeAttribute(t); };
                        a_.prototype.addClass = function (t, e) { e._addClass(t); };
                        a_.prototype.removeClass = function (t, e) { e._removeClass(t); };
                        a_.prototype.setStyle = function (t, e, n) { T(t) && void 0 === n && (n = e), n._setStyle(t, e); };
                        a_.prototype.removeStyle = function (t, e) { e._removeStyle(t); };
                        a_.prototype.setCustomProperty = function (t, e, n) { n._setCustomProperty(t, e); };
                        a_.prototype.removeCustomProperty = function (t, e) { return e._removeCustomProperty(t); };
                        a_.prototype.createPositionAt = function (t, e) { return Zi._createAt(t, e); };
                        a_.prototype.createPositionAfter = function (t) { return Zi._createAfter(t); };
                        a_.prototype.createPositionBefore = function (t) { return Zi._createBefore(t); };
                        a_.prototype.createRange = function (t, e) { return new Xi(t, e); };
                        a_.prototype.createRangeOn = function (t) { return Xi._createOn(t); };
                        a_.prototype.createRangeIn = function (t) { return Xi._createIn(t); };
                        a_.prototype.createSelection = function (t, e, n) { return new no(t, e, n); };
                        return a_;
                    }());
                    var c_ = /** @class */ (function (_super) {
                        __extends(c_, _super);
                        function c_() {
                            return _super !== null && _super.apply(this, arguments) || this;
                        }
                        c_.prototype.refresh = function () { this.isEnabled = xk(this.editor.model); };
                        c_.prototype.execute = function (t) { var e = this.editor, n = e.model, i = e.plugins.get(fw); n.change(function (e) {
                            var e_872, _j;
                            var o = Array.isArray(t.file) ? t.file : [t.file];
                            try {
                                for (var o_139 = __values(o), o_139_1 = o_139.next(); !o_139_1.done; o_139_1 = o_139.next()) {
                                    var t_451 = o_139_1.value;
                                    l_(e, n, i, t_451);
                                }
                            }
                            catch (e_872_1) { e_872 = { error: e_872_1 }; }
                            finally {
                                try {
                                    if (o_139_1 && !o_139_1.done && (_j = o_139.return)) _j.call(o_139);
                                }
                                finally { if (e_872) throw e_872.error; }
                            }
                        }); };
                        return c_;
                    }(Pd));
                    function l_(t, e, n, i) { var o = n.createLoader(i); o && pk(t, e, { uploadId: o.id }); }
                    var d_ = /** @class */ (function (_super) {
                        __extends(d_, _super);
                        function d_(t) {
                            var _this = this;
                            _this = _super.call(this, t) || this, t.config.define("image", { upload: { types: ["jpeg", "png", "gif", "bmp", "webp", "tiff"] } });
                            return _this;
                        }
                        Object.defineProperty(d_, "requires", {
                            get: function () { return [fw, dw, vh]; },
                            enumerable: true,
                            configurable: true
                        });
                        Object.defineProperty(d_, "pluginName", {
                            get: function () { return "ImageUploadEditing"; },
                            enumerable: true,
                            configurable: true
                        });
                        d_.prototype.init = function () {
                            var _this = this;
                            var t = this.editor, e = t.model.document, n = t.model.schema, i = t.conversion, o = t.plugins.get(fw), r = Qw(t.config.get("image.upload.types"));
                            n.extend("image", { allowAttributes: ["uploadId", "uploadStatus"] }), t.commands.add("imageUpload", new c_(t)), i.for("upcast").attributeToAttribute({ view: { name: "img", key: "uploadId" }, model: "uploadId" }), this.listenTo(t.editing.view.document, "clipboardInput", function (e, n) { if (function (t) { return Array.from(t.types).includes("text/html") && "" !== t.getData("text/html"); }(n.dataTransfer))
                                return; var i = Array.from(n.dataTransfer.files).filter(function (t) { return !!t && r.test(t.type); }), o = n.targetRanges.map(function (e) { return t.editing.mapper.toModelRange(e); }); t.model.change(function (n) { n.setSelection(o), i.length && (e.stop(), t.model.enqueueChange("default", function () { t.execute("imageUpload", { file: i }); })); }); }), this.listenTo(t.plugins.get(vh), "inputTransformation", function (e, n) {
                                var e_873, _j;
                                var i = Array.from(t.editing.view.createRangeIn(n.content)).filter(function (t) { return (function (t) { return !(!t.is("element", "img") || !t.getAttribute("src")) && (t.getAttribute("src").match(/^data:image\/\w+;base64,/g) || t.getAttribute("src").match(/^blob:/g)); })(t.item) && !t.item.getAttribute("uploadProcessed"); }).map(function (t) { return ({ promise: Jw(t.item), imageElement: t.item }); });
                                if (!i.length)
                                    return;
                                var r = new a_;
                                try {
                                    for (var i_223 = __values(i), i_223_1 = i_223.next(); !i_223_1.done; i_223_1 = i_223.next()) {
                                        var t_452 = i_223_1.value;
                                        r.setAttribute("uploadProcessed", !0, t_452.imageElement);
                                        var e_874 = o.createLoader(t_452.promise);
                                        e_874 && (r.setAttribute("src", "", t_452.imageElement), r.setAttribute("uploadId", e_874.id, t_452.imageElement));
                                    }
                                }
                                catch (e_873_1) { e_873 = { error: e_873_1 }; }
                                finally {
                                    try {
                                        if (i_223_1 && !i_223_1.done && (_j = i_223.return)) _j.call(i_223);
                                    }
                                    finally { if (e_873) throw e_873.error; }
                                }
                            }), t.editing.view.document.on("dragover", function (t, e) { e.preventDefault(); }), e.on("change", function () {
                                var e_875, _j, e_876, _q;
                                var n = e.differ.getChanges({ includeChangesInGraveyard: !0 });
                                try {
                                    for (var n_338 = __values(n), n_338_1 = n_338.next(); !n_338_1.done; n_338_1 = n_338.next()) {
                                        var e_877 = n_338_1.value;
                                        if ("insert" == e_877.type && "$text" != e_877.name) {
                                            var n_339 = e_877.position.nodeAfter, i_224 = "$graveyard" == e_877.position.root.rootName;
                                            try {
                                                for (var _z = __values(u_(t, n_339)), _0 = _z.next(); !_0.done; _0 = _z.next()) {
                                                    var e_878 = _0.value;
                                                    var t_453 = e_878.getAttribute("uploadId");
                                                    if (!t_453)
                                                        continue;
                                                    var n_340 = o.loaders.get(t_453);
                                                    n_340 && (i_224 ? n_340.abort() : "idle" == n_340.status && _this._readAndUpload(n_340, e_878));
                                                }
                                            }
                                            catch (e_876_1) { e_876 = { error: e_876_1 }; }
                                            finally {
                                                try {
                                                    if (_0 && !_0.done && (_q = _z.return)) _q.call(_z);
                                                }
                                                finally { if (e_876) throw e_876.error; }
                                            }
                                        }
                                    }
                                }
                                catch (e_875_1) { e_875 = { error: e_875_1 }; }
                                finally {
                                    try {
                                        if (n_338_1 && !n_338_1.done && (_j = n_338.return)) _j.call(n_338);
                                    }
                                    finally { if (e_875) throw e_875.error; }
                                }
                            });
                        };
                        d_.prototype._readAndUpload = function (t, e) {
                            var _this = this;
                            var n = this.editor, i = n.model, o = n.locale.t, r = n.plugins.get(fw), s = n.plugins.get(dw);
                            return i.enqueueChange("transparent", function (t) { t.setAttribute("uploadStatus", "reading", e); }), t.read().then(function () { var o = t.upload(); if (go.isSafari) {
                                var t_454 = n.editing.mapper.toViewElement(e).getChild(0);
                                n.editing.view.once("render", function () { if (!t_454.parent)
                                    return; var e = n.editing.view.domConverter.mapViewToDom(t_454.parent); if (!e)
                                    return; var i = e.style.display; e.style.display = "none", e._ckHack = e.offsetHeight, e.style.display = i; });
                            } return i.enqueueChange("transparent", function (t) { t.setAttribute("uploadStatus", "uploading", e); }), o; }).then(function (t) { i.enqueueChange("transparent", function (n) { n.setAttributes({ uploadStatus: "complete", src: t.default }, e), _this._parseAndSetSrcsetAttributeOnImage(t, e, n); }), a(); }).catch(function (n) { if ("error" !== t.status && "aborted" !== t.status)
                                throw n; "error" == t.status && n && s.showWarning(n, { title: o("ar"), namespace: "upload" }), a(), i.enqueueChange("transparent", function (t) { t.remove(e); }); });
                            function a() { i.enqueueChange("transparent", function (t) { t.removeAttribute("uploadId", e), t.removeAttribute("uploadStatus", e); }), r.destroyLoader(t); }
                        };
                        d_.prototype._parseAndSetSrcsetAttributeOnImage = function (t, e, n) { var i = 0; var o = Object.keys(t).filter(function (t) { var e = parseInt(t, 10); if (!isNaN(e))
                            return i = Math.max(i, e), !0; }).map(function (e) { return t[e] + " " + e + "w"; }).join(", "); "" != o && n.setAttribute("srcset", { data: o, width: i }, e); };
                        return d_;
                    }(Ad));
                    function u_(t, e) { return Array.from(t.model.createRangeOn(e)).filter(function (t) { return t.item.is("image"); }).map(function (t) { return t.item; }); }
                    var h_ = /** @class */ (function (_super) {
                        __extends(h_, _super);
                        function h_() {
                            return _super !== null && _super.apply(this, arguments) || this;
                        }
                        Object.defineProperty(h_, "pluginName", {
                            get: function () { return "ImageUpload"; },
                            enumerable: true,
                            configurable: true
                        });
                        Object.defineProperty(h_, "requires", {
                            get: function () { return [d_, Zw, e_]; },
                            enumerable: true,
                            configurable: true
                        });
                        return h_;
                    }(Ad));
                    var m_ = /** @class */ (function (_super) {
                        __extends(m_, _super);
                        function m_(t, e) {
                            var _this = this;
                            _this = _super.call(this, t) || this, _this.attributeKey = e;
                            return _this;
                        }
                        m_.prototype.refresh = function () { var t = this.editor.model, e = t.document; this.value = e.selection.getAttribute(this.attributeKey), this.isEnabled = t.schema.checkAttributeInSelection(e.selection, this.attributeKey); };
                        m_.prototype.execute = function (t) {
                            var _this = this;
                            if (t === void 0) { t = {}; }
                            var e = this.editor.model, n = e.document.selection, i = t.value;
                            e.change(function (t) {
                                var e_879, _j;
                                if (n.isCollapsed)
                                    i ? t.setSelectionAttribute(_this.attributeKey, i) : t.removeSelectionAttribute(_this.attributeKey);
                                else {
                                    var o_141 = e.schema.getValidRanges(n.getRanges(), _this.attributeKey);
                                    try {
                                        for (var o_140 = __values(o_141), o_140_1 = o_140.next(); !o_140_1.done; o_140_1 = o_140.next()) {
                                            var e_880 = o_140_1.value;
                                            i ? t.setAttribute(_this.attributeKey, i, e_880) : t.removeAttribute(_this.attributeKey, e_880);
                                        }
                                    }
                                    catch (e_879_1) { e_879 = { error: e_879_1 }; }
                                    finally {
                                        try {
                                            if (o_140_1 && !o_140_1.done && (_j = o_140.return)) _j.call(o_140);
                                        }
                                        finally { if (e_879) throw e_879.error; }
                                    }
                                }
                            });
                        };
                        return m_;
                    }(Pd));
                    var g_ = /** @class */ (function (_super) {
                        __extends(g_, _super);
                        function g_(t) {
                            return _super.call(this, t, kx) || this;
                        }
                        return g_;
                    }(m_));
                    function f_(t) { return t.map(p_).filter(function (t) { return !!t; }); }
                    function p_(t) { return "object" == typeof t ? t : "default" === t ? { title: "Default", model: void 0 } : "string" == typeof t ? function (t) { var e = t.replace(/"|'/g, "").split(","), n = e[0], i = e.map(x_).join(", "); return { title: n, model: n, view: { name: "span", styles: { "font-family": i }, priority: 7 } }; }(t) : void 0; }
                    function x_(t) { return (t = t.trim()).indexOf(" ") > 0 && (t = "'" + t + "'"), t; }
                    var b_ = /** @class */ (function (_super) {
                        __extends(b_, _super);
                        function b_(t) {
                            var _this = this;
                            _this = _super.call(this, t) || this, t.config.define(kx, { options: ["default", "Arial, Helvetica, sans-serif", "Courier New, Courier, monospace", "Georgia, serif", "Lucida Sans Unicode, Lucida Grande, sans-serif", "Tahoma, Geneva, sans-serif", "Times New Roman, Times, serif", "Trebuchet MS, Helvetica, sans-serif", "Verdana, Geneva, sans-serif"] });
                            return _this;
                        }
                        Object.defineProperty(b_, "pluginName", {
                            get: function () { return "FontFamilyEditing"; },
                            enumerable: true,
                            configurable: true
                        });
                        b_.prototype.init = function () { var t = this.editor; t.model.schema.extend("$text", { allowAttributes: kx }), t.model.schema.setAttributeProperties(kx, { isFormatting: !0, copyOnEnter: !0 }); var e = f_(t.config.get("fontFamily.options")).filter(function (t) { return t.model; }), n = wx(kx, e); t.conversion.attributeToElement(n), t.commands.add(kx, new g_(t)); };
                        return b_;
                    }(Ad));
                    var k_ = n(54), w_ = n.n(k_);
                    var __ = /** @class */ (function (_super) {
                        __extends(__, _super);
                        function __() {
                            return _super !== null && _super.apply(this, arguments) || this;
                        }
                        __.prototype.init = function () {
                            var _this = this;
                            var t = this.editor, e = t.t, n = this._getLocalizedOptions(), i = t.commands.get(kx);
                            t.ui.componentFactory.add(kx, function (o) { var r = fd(o); return xd(r, function (t, e) {
                                var e_881, _j;
                                var n = new oo;
                                var _loop_25 = function (i_225) {
                                    var t_456 = { type: "button", model: new bb({ commandName: kx, commandParam: i_225.model, label: i_225.title, withText: !0 }) };
                                    t_456.model.bind("isOn").to(e, "value", function (t) { return t === i_225.model; }), i_225.view && i_225.view.styles && t_456.model.set("labelStyle", "font-family: " + i_225.view.styles["font-family"]), n.add(t_456);
                                };
                                try {
                                    for (var t_455 = __values(t), t_455_1 = t_455.next(); !t_455_1.done; t_455_1 = t_455.next()) {
                                        var i_225 = t_455_1.value;
                                        _loop_25(i_225);
                                    }
                                }
                                catch (e_881_1) { e_881 = { error: e_881_1 }; }
                                finally {
                                    try {
                                        if (t_455_1 && !t_455_1.done && (_j = t_455.return)) _j.call(t_455);
                                    }
                                    finally { if (e_881) throw e_881.error; }
                                }
                                return n;
                            }(n, i)), r.buttonView.set({ label: e("p"), icon: w_.a, tooltip: !0 }), r.extendTemplate({ attributes: { class: "ck-font-family-dropdown" } }), r.bind("isEnabled").to(i), _this.listenTo(r, "execute", function (e) { t.execute(e.source.commandName, { value: e.source.commandParam }), t.editing.view.focus(); }), r; });
                        };
                        __.prototype._getLocalizedOptions = function () { var t = this.editor, e = t.t; return f_(t.config.get(kx).options).map(function (t) { return ("Default" === t.title && (t.title = e("q")), t); }); };
                        return __;
                    }(Ad));
                    var v_ = /** @class */ (function (_super) {
                        __extends(v_, _super);
                        function v_(t) {
                            return _super.call(this, t, bx) || this;
                        }
                        return v_;
                    }(m_));
                    function y_(t) { return t.map(T_).filter(function (t) { return !!t; }); }
                    var C_ = { tiny: { title: "Tiny", model: "tiny", view: { name: "span", classes: "text-tiny", priority: 7 } }, small: { title: "Small", model: "small", view: { name: "span", classes: "text-small", priority: 7 } }, big: { title: "Big", model: "big", view: { name: "span", classes: "text-big", priority: 7 } }, huge: { title: "Huge", model: "huge", view: { name: "span", classes: "text-huge", priority: 7 } } };
                    function T_(t) { if ("object" == typeof t)
                        return t; if (C_[t])
                        return C_[t]; if ("default" === t)
                        return { model: void 0, title: "Default" }; var e = parseFloat(t); return isNaN(e) ? void 0 : function (t) { return { title: String(t), model: t, view: { name: "span", styles: { "font-size": t + "px" }, priority: 7 } }; }(e); }
                    var A_ = /** @class */ (function (_super) {
                        __extends(A_, _super);
                        function A_(t) {
                            var _this = this;
                            _this = _super.call(this, t) || this, t.config.define(bx, { options: ["tiny", "small", "default", "big", "huge"] });
                            var e = y_(_this.editor.config.get("fontSize.options")).filter(function (t) { return t.model; }), n = wx(bx, e);
                            t.conversion.attributeToElement(n), t.commands.add(bx, new v_(t));
                            return _this;
                        }
                        Object.defineProperty(A_, "pluginName", {
                            get: function () { return "FontSizeEditing"; },
                            enumerable: true,
                            configurable: true
                        });
                        A_.prototype.init = function () { var t = this.editor; t.model.schema.extend("$text", { allowAttributes: bx }), t.model.schema.setAttributeProperties(bx, { isFormatting: !0, copyOnEnter: !0 }); };
                        return A_;
                    }(Ad));
                    var S_ = n(55), P_ = n.n(S_);
                    n(171);
                    var M_ = /** @class */ (function (_super) {
                        __extends(M_, _super);
                        function M_() {
                            return _super !== null && _super.apply(this, arguments) || this;
                        }
                        M_.prototype.init = function () {
                            var _this = this;
                            var t = this.editor, e = t.t, n = this._getLocalizedOptions(), i = t.commands.get(bx);
                            t.ui.componentFactory.add(bx, function (o) { var r = fd(o); return xd(r, function (t, e) {
                                var e_882, _j;
                                var n = new oo;
                                var _loop_26 = function (i_226) {
                                    var t_458 = { type: "button", model: new bb({ commandName: bx, commandParam: i_226.model, label: i_226.title, class: "ck-fontsize-option", withText: !0 }) };
                                    i_226.view && i_226.view.styles && t_458.model.set("labelStyle", "font-size:" + i_226.view.styles["font-size"]), i_226.view && i_226.view.classes && t_458.model.set("class", t_458.model.class + " " + i_226.view.classes), t_458.model.bind("isOn").to(e, "value", function (t) { return t === i_226.model; }), n.add(t_458);
                                };
                                try {
                                    for (var t_457 = __values(t), t_457_1 = t_457.next(); !t_457_1.done; t_457_1 = t_457.next()) {
                                        var i_226 = t_457_1.value;
                                        _loop_26(i_226);
                                    }
                                }
                                catch (e_882_1) { e_882 = { error: e_882_1 }; }
                                finally {
                                    try {
                                        if (t_457_1 && !t_457_1.done && (_j = t_457.return)) _j.call(t_457);
                                    }
                                    finally { if (e_882) throw e_882.error; }
                                }
                                return n;
                            }(n, i)), r.buttonView.set({ label: e("r"), icon: P_.a, tooltip: !0 }), r.extendTemplate({ attributes: { class: ["ck-font-size-dropdown"] } }), r.bind("isEnabled").to(i), _this.listenTo(r, "execute", function (e) { t.execute(e.source.commandName, { value: e.source.commandParam }), t.editing.view.focus(); }), r; });
                        };
                        M_.prototype._getLocalizedOptions = function () { var t = this.editor, e = t.t, n = { Default: e("q"), Tiny: e("s"), Small: e("t"), Big: e("u"), Huge: e("v") }; return y_(t.config.get(bx).options).map(function (t) { var e = n[t.title]; return e && e != t.title && (t = Object.assign({}, t, { title: e })), t; }); };
                        return M_;
                    }(Ad));
                    var E_ = /** @class */ (function (_super) {
                        __extends(E_, _super);
                        function E_(t, e) {
                            var _this = this;
                            _this = _super.call(this, t) || this, _this.modelElements = e;
                            return _this;
                        }
                        E_.prototype.refresh = function () {
                            var _this = this;
                            var t = Du(this.editor.model.document.selection.getSelectedBlocks());
                            this.value = !!t && this.modelElements.includes(t.name) && t.name, this.isEnabled = !!t && this.modelElements.some(function (e) { return I_(t, e, _this.editor.model.schema); });
                        };
                        E_.prototype.execute = function (t) { var e = this.editor.model, n = e.document, i = t.value; e.change(function (t) {
                            var e_883, _j;
                            var o = Array.from(n.selection.getSelectedBlocks()).filter(function (t) { return I_(t, i, e.schema); });
                            try {
                                for (var o_142 = __values(o), o_142_1 = o_142.next(); !o_142_1.done; o_142_1 = o_142.next()) {
                                    var e_884 = o_142_1.value;
                                    e_884.is(i) || t.rename(e_884, i);
                                }
                            }
                            catch (e_883_1) { e_883 = { error: e_883_1 }; }
                            finally {
                                try {
                                    if (o_142_1 && !o_142_1.done && (_j = o_142.return)) _j.call(o_142);
                                }
                                finally { if (e_883) throw e_883.error; }
                            }
                        }); };
                        return E_;
                    }(Pd));
                    function I_(t, e, n) { return n.checkChild(t.parent, e) && !n.isObject(t); }
                    var N_ = "paragraph";
                    var R_ = /** @class */ (function (_super) {
                        __extends(R_, _super);
                        function R_(t) {
                            var _this = this;
                            _this = _super.call(this, t) || this, t.config.define("heading", { options: [{ model: "paragraph", title: "Paragraph", class: "ck-heading_paragraph" }, { model: "heading1", view: "h2", title: "Heading 1", class: "ck-heading_heading1" }, { model: "heading2", view: "h3", title: "Heading 2", class: "ck-heading_heading2" }, { model: "heading3", view: "h4", title: "Heading 3", class: "ck-heading_heading3" }] });
                            return _this;
                        }
                        Object.defineProperty(R_, "pluginName", {
                            get: function () { return "HeadingEditing"; },
                            enumerable: true,
                            configurable: true
                        });
                        Object.defineProperty(R_, "requires", {
                            get: function () { return [bm]; },
                            enumerable: true,
                            configurable: true
                        });
                        R_.prototype.init = function () {
                            var e_885, _j;
                            var t = this.editor, e = t.config.get("heading.options"), n = [];
                            try {
                                for (var e_886 = __values(e), e_886_1 = e_886.next(); !e_886_1.done; e_886_1 = e_886.next()) {
                                    var i_227 = e_886_1.value;
                                    i_227.model !== N_ && (t.model.schema.register(i_227.model, { inheritAllFrom: "$block" }), t.conversion.elementToElement(i_227), n.push(i_227.model));
                                }
                            }
                            catch (e_885_1) { e_885 = { error: e_885_1 }; }
                            finally {
                                try {
                                    if (e_886_1 && !e_886_1.done && (_j = e_886.return)) _j.call(e_886);
                                }
                                finally { if (e_885) throw e_885.error; }
                            }
                            this._addDefaultH1Conversion(t), t.commands.add("heading", new E_(t, n));
                        };
                        R_.prototype.afterInit = function () { var t = this.editor, e = t.commands.get("enter"), n = t.config.get("heading.options"); e && this.listenTo(e, "afterExecute", function (e, i) { var o = t.model.document.selection.getFirstPosition().parent; n.some(function (t) { return o.is(t.model); }) && !o.is(N_) && 0 === o.childCount && i.writer.rename(o, N_); }); };
                        R_.prototype._addDefaultH1Conversion = function (t) { t.conversion.for("upcast").elementToElement({ model: "heading1", view: "h1", converterPriority: Zn.get("low") + 1 }); };
                        return R_;
                    }(Ad));
                    n(30);
                    var O_ = /** @class */ (function (_super) {
                        __extends(O_, _super);
                        function O_() {
                            return _super !== null && _super.apply(this, arguments) || this;
                        }
                        O_.prototype.init = function () {
                            var _this = this;
                            var t = this.editor, e = t.t, n = function (t) { var e = t.t, n = { Paragraph: e("cu"), "Heading 1": e("cv"), "Heading 2": e("cw"), "Heading 3": e("cx"), "Heading 4": e("cy"), "Heading 5": e("cz"), "Heading 6": e("da") }; return t.config.get("heading.options").map(function (t) { var e = n[t.title]; return e && e != t.title && (t.title = e), t; }); }(t), i = e("w"), o = e("x");
                            t.ui.componentFactory.add("heading", function (e) {
                                var e_887, _j;
                                var r = {}, s = new oo, a = t.commands.get("heading"), c = t.commands.get("paragraph"), l = [a];
                                var _loop_27 = function (t_459) {
                                    var e_888 = { type: "button", model: new bb({ label: t_459.title, class: t_459.class, withText: !0 }) };
                                    "paragraph" === t_459.model ? (e_888.model.bind("isOn").to(c, "value"), e_888.model.set("commandName", "paragraph"), l.push(c)) : (e_888.model.bind("isOn").to(a, "value", function (e) { return e === t_459.model; }), e_888.model.set({ commandName: "heading", commandValue: t_459.model })), s.add(e_888), r[t_459.model] = t_459.title;
                                };
                                try {
                                    for (var n_341 = __values(n), n_341_1 = n_341.next(); !n_341_1.done; n_341_1 = n_341.next()) {
                                        var t_459 = n_341_1.value;
                                        _loop_27(t_459);
                                    }
                                }
                                catch (e_887_1) { e_887 = { error: e_887_1 }; }
                                finally {
                                    try {
                                        if (n_341_1 && !n_341_1.done && (_j = n_341.return)) _j.call(n_341);
                                    }
                                    finally { if (e_887) throw e_887.error; }
                                }
                                var d = fd(e);
                                return xd(d, s), d.buttonView.set({ isOn: !1, withText: !0, tooltip: o }), d.extendTemplate({ attributes: { class: ["ck-heading-dropdown"] } }), d.bind("isEnabled").toMany(l, "isEnabled", function () {
                                    var t = [];
                                    for (var _j = 0; _j < arguments.length; _j++) {
                                        t[_j] = arguments[_j];
                                    }
                                    return t.some(function (t) { return t; });
                                }), d.buttonView.bind("label").to(a, "value", c, "value", function (t, e) { var n = t || e && "paragraph"; return r[n] ? r[n] : i; }), _this.listenTo(d, "execute", function (e) { t.execute(e.source.commandName, e.source.commandValue ? { value: e.source.commandValue } : void 0), t.editing.view.focus(); }), d;
                            });
                        };
                        return O_;
                    }(Ad));
                    var D_ = /** @class */ (function (_super) {
                        __extends(D_, _super);
                        function D_() {
                            return _super !== null && _super.apply(this, arguments) || this;
                        }
                        D_.prototype.refresh = function () { var t = this.editor.model, e = t.document; this.value = e.selection.getAttribute("highlight"), this.isEnabled = t.schema.checkAttributeInSelection(e.selection, "highlight"); };
                        D_.prototype.execute = function (t) {
                            var _this = this;
                            if (t === void 0) { t = {}; }
                            var e = this.editor.model, n = e.document.selection, i = t.value;
                            e.change(function (t) {
                                var e_889, _j;
                                var o = e.schema.getValidRanges(n.getRanges(), "highlight");
                                if (n.isCollapsed) {
                                    var e_890 = n.getFirstPosition();
                                    if (n.hasAttribute("highlight")) {
                                        var n_342 = function (t) { return t.item.hasAttribute("highlight") && t.item.getAttribute("highlight") === _this.value; }, o_144 = e_890.getLastMatchingPosition(n_342, { direction: "backward" }), r_79 = e_890.getLastMatchingPosition(n_342), s_58 = t.createRange(o_144, r_79);
                                        i && _this.value !== i ? (t.setAttribute("highlight", i, s_58), t.setSelectionAttribute("highlight", i)) : (t.removeAttribute("highlight", s_58), t.removeSelectionAttribute("highlight"));
                                    }
                                    else
                                        i && t.setSelectionAttribute("highlight", i);
                                }
                                else
                                    try {
                                        for (var o_143 = __values(o), o_143_1 = o_143.next(); !o_143_1.done; o_143_1 = o_143.next()) {
                                            var e_891 = o_143_1.value;
                                            i ? t.setAttribute("highlight", i, e_891) : t.removeAttribute("highlight", e_891);
                                        }
                                    }
                                    catch (e_889_1) { e_889 = { error: e_889_1 }; }
                                    finally {
                                        try {
                                            if (o_143_1 && !o_143_1.done && (_j = o_143.return)) _j.call(o_143);
                                        }
                                        finally { if (e_889) throw e_889.error; }
                                    }
                            });
                        };
                        return D_;
                    }(Pd));
                    var L_ = /** @class */ (function (_super) {
                        __extends(L_, _super);
                        function L_(t) {
                            var _this = this;
                            _this = _super.call(this, t) || this, t.config.define("highlight", { options: [{ model: "yellowMarker", class: "marker-yellow", title: "Yellow marker", color: "var(--ck-highlight-marker-yellow)", type: "marker" }, { model: "greenMarker", class: "marker-green", title: "Green marker", color: "var(--ck-highlight-marker-green)", type: "marker" }, { model: "pinkMarker", class: "marker-pink", title: "Pink marker", color: "var(--ck-highlight-marker-pink)", type: "marker" }, { model: "blueMarker", class: "marker-blue", title: "Blue marker", color: "var(--ck-highlight-marker-blue)", type: "marker" }, { model: "redPen", class: "pen-red", title: "Red pen", color: "var(--ck-highlight-pen-red)", type: "pen" }, { model: "greenPen", class: "pen-green", title: "Green pen", color: "var(--ck-highlight-pen-green)", type: "pen" }] });
                            return _this;
                        }
                        Object.defineProperty(L_, "pluginName", {
                            get: function () { return "HighlightEditing"; },
                            enumerable: true,
                            configurable: true
                        });
                        L_.prototype.init = function () { var t = this.editor; t.model.schema.extend("$text", { allowAttributes: "highlight" }); var e = t.config.get("highlight.options"); t.conversion.attributeToElement(function (t) {
                            var e_892, _j;
                            var e = { model: { key: "highlight", values: [] }, view: {} };
                            try {
                                for (var t_460 = __values(t), t_460_1 = t_460.next(); !t_460_1.done; t_460_1 = t_460.next()) {
                                    var n_343 = t_460_1.value;
                                    e.model.values.push(n_343.model), e.view[n_343.model] = { name: "mark", classes: n_343.class };
                                }
                            }
                            catch (e_892_1) { e_892 = { error: e_892_1 }; }
                            finally {
                                try {
                                    if (t_460_1 && !t_460_1.done && (_j = t_460.return)) _j.call(t_460);
                                }
                                finally { if (e_892) throw e_892.error; }
                            }
                            return e;
                        }(e)), t.commands.add("highlight", new D_(t)); };
                        return L_;
                    }(Ad));
                    var V_ = n(56), z_ = n.n(V_), j_ = n(57), F_ = n.n(j_);
                    n(174);
                    var B_ = /** @class */ (function (_super) {
                        __extends(B_, _super);
                        function B_() {
                            return _super !== null && _super.apply(this, arguments) || this;
                        }
                        Object.defineProperty(B_.prototype, "localizedOptionTitles", {
                            get: function () { var t = this.editor.t; return { "Yellow marker": t("ah"), "Green marker": t("ai"), "Pink marker": t("aj"), "Blue marker": t("ak"), "Red pen": t("al"), "Green pen": t("am") }; },
                            enumerable: true,
                            configurable: true
                        });
                        Object.defineProperty(B_, "pluginName", {
                            get: function () { return "HighlightUI"; },
                            enumerable: true,
                            configurable: true
                        });
                        B_.prototype.init = function () {
                            var e_893, _j;
                            var t = this.editor.config.get("highlight.options");
                            try {
                                for (var t_461 = __values(t), t_461_1 = t_461.next(); !t_461_1.done; t_461_1 = t_461.next()) {
                                    var e_894 = t_461_1.value;
                                    this._addHighlighterButton(e_894);
                                }
                            }
                            catch (e_893_1) { e_893 = { error: e_893_1 }; }
                            finally {
                                try {
                                    if (t_461_1 && !t_461_1.done && (_j = t_461.return)) _j.call(t_461);
                                }
                                finally { if (e_893) throw e_893.error; }
                            }
                            this._addRemoveHighlightButton(), this._addDropdown(t);
                        };
                        B_.prototype._addRemoveHighlightButton = function () { var t = this.editor.t; this._addButton("removeHighlight", t("an"), xx.a); };
                        B_.prototype._addHighlighterButton = function (t) { var e = this.editor.commands.get("highlight"); this._addButton("highlight:" + t.model, t.title, H_(t.type), t.model, function (n) { n.bind("isEnabled").to(e, "isEnabled"), n.bind("isOn").to(e, "value", function (e) { return e === t.model; }), n.iconView.fillColor = t.color, n.isToggleable = !0; }); };
                        B_.prototype._addButton = function (t, e, n, i, o) {
                            var _this = this;
                            if (o === void 0) { o = (function () { }); }
                            var r = this.editor;
                            r.ui.componentFactory.add(t, function (t) { var s = new sd(t), a = _this.localizedOptionTitles[e] ? _this.localizedOptionTitles[e] : e; return s.set({ label: a, icon: n, tooltip: !0 }), s.on("execute", function () { r.execute("highlight", { value: i }), r.editing.view.focus(); }), o(s), s; });
                        };
                        B_.prototype._addDropdown = function (t) {
                            var _this = this;
                            var e = this.editor, n = e.t, i = e.ui.componentFactory, o = t[0], r = t.reduce(function (t, e) { return (t[e.model] = e, t); }, {});
                            i.add("highlight", function (s) { var a = e.commands.get("highlight"), c = fd(s, kb), l = c.buttonView; l.set({ tooltip: n("ao"), lastExecuted: o.model, commandValue: o.model, isToggleable: !0 }), l.bind("icon").to(a, "value", function (t) { return H_(u(t, "type")); }), l.bind("color").to(a, "value", function (t) { return u(t, "color"); }), l.bind("commandValue").to(a, "value", function (t) { return u(t, "model"); }), l.bind("isOn").to(a, "value", function (t) { return !!t; }), l.delegate("execute").to(c); var d = t.map(function (t) { var e = i.create("highlight:" + t.model); return _this.listenTo(e, "execute", function () { return c.buttonView.set({ lastExecuted: t.model }); }), e; }); function u(t, e) { var n = t && t !== l.lastExecuted ? t : l.lastExecuted; return r[n][e]; } return c.bind("isEnabled").toMany(d, "isEnabled", function () {
                                var t = [];
                                for (var _j = 0; _j < arguments.length; _j++) {
                                    t[_j] = arguments[_j];
                                }
                                return t.some(function (t) { return t; });
                            }), d.push(new Kl), d.push(i.create("removeHighlight")), pd(c, d), function (t) { t.buttonView.actionView.iconView.bind("fillColor").to(t.buttonView, "color"); }(c), c.toolbarView.ariaLabel = n("ap"), l.on("execute", function () { e.execute("highlight", { value: l.commandValue }), e.editing.view.focus(); }), c; });
                        };
                        return B_;
                    }(Ad));
                    function H_(t) { return "marker" === t ? z_.a : F_.a; }
                    function U_(t) {
                        var e_895, _j;
                        try {
                            for (var _q = __values(t.getChildren()), _z = _q.next(); !_z.done; _z = _q.next()) {
                                var e_896 = _z.value;
                                if (e_896 && e_896.is("caption"))
                                    return e_896;
                            }
                        }
                        catch (e_895_1) { e_895 = { error: e_895_1 }; }
                        finally {
                            try {
                                if (_z && !_z.done && (_j = _q.return)) _j.call(_q);
                            }
                            finally { if (e_895) throw e_895.error; }
                        }
                        return null;
                    }
                    function W_(t) { var e = t.parent; return "figcaption" == t.name && e && "figure" == e.name && e.hasClass("image") ? { name: !0 } : null; }
                    var q_ = /** @class */ (function (_super) {
                        __extends(q_, _super);
                        function q_() {
                            return _super !== null && _super.apply(this, arguments) || this;
                        }
                        Object.defineProperty(q_, "pluginName", {
                            get: function () { return "ImageCaptionEditing"; },
                            enumerable: true,
                            configurable: true
                        });
                        q_.prototype.init = function () {
                            var _this = this;
                            var t = this.editor, e = t.editing.view, n = t.model.schema, i = t.data, o = t.editing, r = t.t;
                            n.register("caption", { allowIn: "image", allowContentOf: "$block", isLimit: !0 }), t.model.document.registerPostFixer(function (t) { return _this._insertMissingModelCaptionElement(t); }), t.conversion.for("upcast").elementToElement({ view: W_, model: "caption" });
                            i.downcastDispatcher.on("insert:caption", Y_(function (t) { return t.createContainerElement("figcaption"); }, !1));
                            var s = function (t, e) { return function (n) { var i = n.createEditableElement("figcaption"); return n.setCustomProperty("imageCaption", !0, i), hl({ view: t, element: i, text: e }), uk(i, n); }; }(e, r("aq"));
                            o.downcastDispatcher.on("insert:caption", Y_(s)), o.downcastDispatcher.on("insert", this._fixCaptionVisibility(function (t) { return t.item; }), { priority: "high" }), o.downcastDispatcher.on("remove", this._fixCaptionVisibility(function (t) { return t.position.parent; }), { priority: "high" }), e.document.registerPostFixer(function (t) { return _this._updateCaptionVisibility(t); });
                        };
                        q_.prototype._updateCaptionVisibility = function (t) { var e = this.editor.editing.mapper, n = this._lastSelectedCaption; var i; var o = this.editor.model.document.selection, r = o.getSelectedElement(); if (r && r.is("image")) {
                            var t_462 = U_(r);
                            i = e.toViewElement(t_462);
                        } var s = $_(o.getFirstPosition().parent); if (s && (i = e.toViewElement(s)), i)
                            return n ? n === i ? K_(i, t) : (G_(n, t), this._lastSelectedCaption = i, K_(i, t)) : (this._lastSelectedCaption = i, K_(i, t)); if (n) {
                            var e_897 = G_(n, t);
                            return this._lastSelectedCaption = null, e_897;
                        } return !1; };
                        q_.prototype._fixCaptionVisibility = function (t) {
                            var _this = this;
                            return function (e, n, i) { var o = $_(t(n)), r = _this.editor.editing.mapper, s = i.writer; if (o) {
                                var t_463 = r.toViewElement(o);
                                t_463 && (o.childCount ? s.removeClass("ck-hidden", t_463) : s.addClass("ck-hidden", t_463));
                            } };
                        };
                        q_.prototype._insertMissingModelCaptionElement = function (t) {
                            var e_898, _j, e_899, _q, e_900, _z;
                            var e = this.editor.model, n = e.document.differ.getChanges(), i = [];
                            try {
                                for (var n_344 = __values(n), n_344_1 = n_344.next(); !n_344_1.done; n_344_1 = n_344.next()) {
                                    var t_464 = n_344_1.value;
                                    if ("insert" == t_464.type && "$text" != t_464.name) {
                                        var n_345 = t_464.position.nodeAfter;
                                        if (n_345.is("image") && !U_(n_345) && i.push(n_345), !n_345.is("image") && n_345.childCount)
                                            try {
                                                for (var _0 = __values(e.createRangeIn(n_345).getItems()), _1 = _0.next(); !_1.done; _1 = _0.next()) {
                                                    var t_465 = _1.value;
                                                    t_465.is("image") && !U_(t_465) && i.push(t_465);
                                                }
                                            }
                                            catch (e_899_1) { e_899 = { error: e_899_1 }; }
                                            finally {
                                                try {
                                                    if (_1 && !_1.done && (_q = _0.return)) _q.call(_0);
                                                }
                                                finally { if (e_899) throw e_899.error; }
                                            }
                                    }
                                }
                            }
                            catch (e_898_1) { e_898 = { error: e_898_1 }; }
                            finally {
                                try {
                                    if (n_344_1 && !n_344_1.done && (_j = n_344.return)) _j.call(n_344);
                                }
                                finally { if (e_898) throw e_898.error; }
                            }
                            try {
                                for (var i_228 = __values(i), i_228_1 = i_228.next(); !i_228_1.done; i_228_1 = i_228.next()) {
                                    var e_901 = i_228_1.value;
                                    t.appendElement("caption", e_901);
                                }
                            }
                            catch (e_900_1) { e_900 = { error: e_900_1 }; }
                            finally {
                                try {
                                    if (i_228_1 && !i_228_1.done && (_z = i_228.return)) _z.call(i_228);
                                }
                                finally { if (e_900) throw e_900.error; }
                            }
                            return !!i.length;
                        };
                        return q_;
                    }(Ad));
                    function Y_(t, e) {
                        if (e === void 0) { e = !0; }
                        return function (n, i, o) { var r = i.item; if ((r.childCount || e) && fk(r.parent)) {
                            if (!o.consumable.consume(i.item, "insert"))
                                return;
                            var e_902 = o.mapper.toViewElement(i.range.start.parent), n_346 = t(o.writer), s_59 = o.writer;
                            r.childCount || s_59.addClass("ck-hidden", n_346), function (t, e, n, i) { var o = i.writer.createPositionAt(n, "end"); i.writer.insert(o, t), i.mapper.bindElements(e, t); }(n_346, i.item, e_902, o);
                        } };
                    }
                    function $_(t) { var e = t.getAncestors({ includeSelf: !0 }).find(function (t) { return "caption" == t.name; }); return e && e.parent && "image" == e.parent.name ? e : null; }
                    function G_(t, e) { return !t.childCount && !t.hasClass("ck-hidden") && (e.addClass("ck-hidden", t), !0); }
                    function K_(t, e) { return !!t.hasClass("ck-hidden") && (e.removeClass("ck-hidden", t), !0); }
                    n(176);
                    var Q_ = /** @class */ (function () {
                        function Q_(t) {
                            this.set("activeHandlePosition", null), this.set("proposedWidthPercents", null), this.set("proposedWidth", null), this.set("proposedHeight", null), this.set("proposedHandleHostWidth", null), this.set("proposedHandleHostHeight", null), this._options = t, this._referenceCoordinates = null;
                        }
                        Q_.prototype.begin = function (t, e, n) { var i = new Ts(e); this.activeHandlePosition = function (t) {
                            var e_903, _j;
                            var e = ["top-left", "top-right", "bottom-right", "bottom-left"];
                            try {
                                for (var e_904 = __values(e), e_904_1 = e_904.next(); !e_904_1.done; e_904_1 = e_904.next()) {
                                    var n_347 = e_904_1.value;
                                    if (t.classList.contains(J_(n_347)))
                                        return n_347;
                                }
                            }
                            catch (e_903_1) { e_903 = { error: e_903_1 }; }
                            finally {
                                try {
                                    if (e_904_1 && !e_904_1.done && (_j = e_904.return)) _j.call(e_904);
                                }
                                finally { if (e_903) throw e_903.error; }
                            }
                        }(t), this._referenceCoordinates = function (t, e) { var n = new Ts(t), i = e.split("-"), o = { x: "right" == i[1] ? n.right : n.left, y: "bottom" == i[0] ? n.bottom : n.top }; return o.x += t.ownerDocument.defaultView.scrollX, o.y += t.ownerDocument.defaultView.scrollY, o; }(e, function (t) { var e = t.split("-"), n = { top: "bottom", bottom: "top", left: "right", right: "left" }; return n[e[0]] + "-" + n[e[1]]; }(this.activeHandlePosition)), this.originalWidth = i.width, this.originalHeight = i.height, this.aspectRatio = i.width / i.height; var o = n.style.width; o && o.match(/^\d+\.?\d*%$/) ? this.originalWidthPercents = parseFloat(o) : this.originalWidthPercents = function (t, e) { var n = t.parentElement, i = parseFloat(n.ownerDocument.defaultView.getComputedStyle(n).width); return e.width / i * 100; }(n, i); };
                        Q_.prototype.update = function (t) { this.proposedWidth = t.width, this.proposedHeight = t.height, this.proposedWidthPercents = t.widthPercents, this.proposedHandleHostWidth = t.handleHostWidth, this.proposedHandleHostHeight = t.handleHostHeight; };
                        return Q_;
                    }());
                    function J_(t) { return "ck-widget__resizer__handle-" + t; }
                    ci(Q_, Bi);
                    var Z_ = /** @class */ (function () {
                        function Z_(t) {
                            this._options = t, this._domResizerWrapper = null, this.set("isEnabled", !0), this.decorate("begin"), this.decorate("cancel"), this.decorate("commit"), this.decorate("updateSize");
                        }
                        Z_.prototype.attach = function () { var t = this, e = this._options.viewElement, n = this._options.downcastWriter, i = n.createUIElement("div", { class: "ck ck-reset_all ck-widget__resizer" }, function (e) { var n = this.toDomElement(e); return t._appendHandles(n), t._appendSizeUI(n), t._domResizerWrapper = n, t.on("change:isEnabled", function (t, e, i) { n.style.display = i ? "" : "none"; }), n.style.display = t.isEnabled ? "" : "none", n; }); n.insert(n.createPositionAt(e, "end"), i), n.addClass("ck-widget_with-resizer", e); };
                        Z_.prototype.begin = function (t) { this.state = new Q_(this._options), this._sizeUI.bindToState(this._options, this.state), this.state.begin(t, this._getHandleHost(), this._getResizeHost()); };
                        Z_.prototype.updateSize = function (t) { var e = this._getHandleHost(), n = this._getResizeHost(), i = this._options.unit, o = this._proposeNewSize(t); n.style.width = ("%" === i ? o.widthPercents : o.width) + this._options.unit; var r = new Ts(e); o.handleHostWidth = Math.round(r.width), o.handleHostHeight = Math.round(r.height); var s = new Ts(e); o.width = Math.round(s.width), o.height = Math.round(s.height), this.redraw(r), this.state.update(o); };
                        Z_.prototype.commit = function () { var t = ("%" === this._options.unit ? this.state.proposedWidthPercents : this.state.proposedWidth) + this._options.unit; this._options.onCommit(t), this._cleanup(); };
                        Z_.prototype.cancel = function () { this._cleanup(); };
                        Z_.prototype.destroy = function () { this.cancel(); };
                        Z_.prototype.redraw = function (t) { var e = this._domResizerWrapper; if (function (t) { return t && t.ownerDocument && t.ownerDocument.contains(t); }(e)) {
                            var n_348 = e.parentElement, i_229 = this._getHandleHost(), o_145 = t || new Ts(i_229);
                            e.style.width = o_145.width + "px", e.style.height = o_145.height + "px";
                            var r_80 = { left: i_229.offsetLeft, top: i_229.offsetTop, height: i_229.offsetHeight, width: i_229.offsetWidth };
                            n_348.isSameNode(i_229) || (e.style.left = r_80.left + "px", e.style.top = r_80.top + "px", e.style.height = r_80.height + "px", e.style.width = r_80.width + "px");
                        } };
                        Z_.prototype.containsHandle = function (t) { return this._domResizerWrapper.contains(t); };
                        Z_.isResizeHandle = function (t) { return t.classList.contains("ck-widget__resizer__handle"); };
                        Z_.prototype._cleanup = function () { this._sizeUI.dismiss(), this._sizeUI.isVisible = !1; };
                        Z_.prototype._proposeNewSize = function (t) { var e = this.state, n = function (t) { return { x: t.pageX, y: t.pageY }; }(t), i = !this._options.isCentered || this._options.isCentered(this), o = { x: e._referenceCoordinates.x - (n.x + e.originalWidth), y: n.y - e.originalHeight - e._referenceCoordinates.y }; i && e.activeHandlePosition.endsWith("-right") && (o.x = n.x - (e._referenceCoordinates.x + e.originalWidth)), i && (o.x *= 2); var r = { width: Math.abs(e.originalWidth + o.x), height: Math.abs(e.originalHeight + o.y) }; r.dominant = r.width / e.aspectRatio > r.height ? "width" : "height", r.max = r[r.dominant]; var s = { width: r.width, height: r.height }; return "width" == r.dominant ? s.height = s.width / e.aspectRatio : s.width = s.height * e.aspectRatio, { width: Math.round(s.width), height: Math.round(s.height), widthPercents: Math.min(Math.round(e.originalWidthPercents / e.originalWidth * s.width * 100) / 100, 100) }; };
                        Z_.prototype._getResizeHost = function () { var t = this._domResizerWrapper.parentElement; return this._options.getResizeHost(t); };
                        Z_.prototype._getHandleHost = function () { var t = this._domResizerWrapper.parentElement; return this._options.getHandleHost(t); };
                        Z_.prototype._appendHandles = function (t) {
                            var e_905, _j;
                            var e = ["top-left", "top-right", "bottom-right", "bottom-left"];
                            try {
                                for (var e_906 = __values(e), e_906_1 = e_906.next(); !e_906_1.done; e_906_1 = e_906.next()) {
                                    var n_349 = e_906_1.value;
                                    t.appendChild(new wl({ tag: "div", attributes: { class: "ck-widget__resizer__handle " + tv(n_349) } }).render());
                                }
                            }
                            catch (e_905_1) { e_905 = { error: e_905_1 }; }
                            finally {
                                try {
                                    if (e_906_1 && !e_906_1.done && (_j = e_906.return)) _j.call(e_906);
                                }
                                finally { if (e_905) throw e_905.error; }
                            }
                        };
                        Z_.prototype._appendSizeUI = function (t) { var e = new X_; e.render(), this._sizeUI = e, t.appendChild(e.element); };
                        Z_.prototype._getHandlePosition = function (t) {
                            var e_907, _j;
                            var e = ["top-left", "top-right", "bottom-right", "bottom-left"];
                            try {
                                for (var e_908 = __values(e), e_908_1 = e_908.next(); !e_908_1.done; e_908_1 = e_908.next()) {
                                    var n_350 = e_908_1.value;
                                    if (t.classList.contains(tv(n_350)))
                                        return n_350;
                                }
                            }
                            catch (e_907_1) { e_907 = { error: e_907_1 }; }
                            finally {
                                try {
                                    if (e_908_1 && !e_908_1.done && (_j = e_908.return)) _j.call(e_908);
                                }
                                finally { if (e_907) throw e_907.error; }
                            }
                        };
                        return Z_;
                    }());
                    ci(Z_, Bi);
                    var X_ = /** @class */ (function (_super) {
                        __extends(X_, _super);
                        function X_() {
                            var _this = _super.call(this) || this;
                            var t = _this.bindTemplate;
                            _this.setTemplate({ tag: "div", attributes: { class: ["ck", "ck-size-view", t.to("activeHandlePosition", function (t) { return t ? "ck-orientation-" + t : ""; })], style: { display: t.if("isVisible", "none", function (t) { return !t; }) } }, children: [{ text: t.to("label") }] });
                            return _this;
                        }
                        X_.prototype.bindToState = function (t, e) { this.bind("isVisible").to(e, "proposedWidth", e, "proposedHeight", function (t, e) { return null !== t && null !== e; }), this.bind("label").to(e, "proposedHandleHostWidth", e, "proposedHandleHostHeight", e, "proposedWidthPercents", function (e, n, i) { return "px" === t.unit ? e + "\u00D7" + n : i + "%"; }), this.bind("activeHandlePosition").to(e); };
                        X_.prototype.dismiss = function () { this.unbind(), this.isVisible = !1; };
                        return X_;
                    }(zl));
                    function tv(t) { return "ck-widget__resizer__handle-" + t; }
                    n(178);
                    var ev = /** @class */ (function (_super) {
                        __extends(ev, _super);
                        function ev() {
                            return _super !== null && _super.apply(this, arguments) || this;
                        }
                        Object.defineProperty(ev, "pluginName", {
                            get: function () { return "WidgetResize"; },
                            enumerable: true,
                            configurable: true
                        });
                        ev.prototype.init = function () {
                            var _this = this;
                            this.set("_visibleResizer", null), this.set("_activeResizer", null), this._resizers = new Map;
                            var t = er.window.document;
                            this.editor.model.schema.setAttributeProperties("width", { isFormatting: !0 }), this._observer = Object.create(dr), this._observer.listenTo(t, "mousedown", function (t, e) { if (!Z_.isResizeHandle(e.target))
                                return; var n = e.target; _this._activeResizer = _this._getResizerByHandle(n), _this._activeResizer && _this._activeResizer.begin(n); }), this._observer.listenTo(t, "mousemove", function (t, e) { _this._activeResizer && _this._activeResizer.updateSize(e); }), this._observer.listenTo(t, "mouseup", function () { _this._activeResizer && (_this._activeResizer.commit(), _this._activeResizer = null); });
                            var e = function () { _this._visibleResizer && _this._visibleResizer.redraw(); }, n = du(e, 200);
                            this.on("change:_visibleResizer", e), this.editor.ui.on("update", n), this._observer.listenTo(er.window, "resize", n);
                            var i = this.editor.editing.view.document.selection;
                            i.on("change", function () { var t = i.getSelectedElement(); _this._visibleResizer = _this._getResizerByViewElement(t) || null; });
                        };
                        ev.prototype.destroy = function () { this._observer.stopListening(); };
                        ev.prototype.attachTo = function (t) { var e = new Z_(t); return e.attach(), this._resizers.set(t.viewElement, e), e; };
                        ev.prototype._getResizerByHandle = function (t) {
                            var e_909, _j;
                            try {
                                for (var _q = __values(this._resizers.values()), _z = _q.next(); !_z.done; _z = _q.next()) {
                                    var e_910 = _z.value;
                                    if (e_910.containsHandle(t))
                                        return e_910;
                                }
                            }
                            catch (e_909_1) { e_909 = { error: e_909_1 }; }
                            finally {
                                try {
                                    if (_z && !_z.done && (_j = _q.return)) _j.call(_q);
                                }
                                finally { if (e_909) throw e_909.error; }
                            }
                        };
                        ev.prototype._getResizerByViewElement = function (t) { return this._resizers.get(t); };
                        return ev;
                    }(Ad));
                    ci(ev, Bi);
                    var nv = /** @class */ (function (_super) {
                        __extends(nv, _super);
                        function nv() {
                            return _super !== null && _super.apply(this, arguments) || this;
                        }
                        nv.prototype.refresh = function () { var t = this.editor.model.document.selection.getSelectedElement(); this.isEnabled = fk(t), t && t.hasAttribute("width") ? this.value = { width: t.getAttribute("width"), height: null } : this.value = null; };
                        nv.prototype.execute = function (t) { var e = this.editor.model, n = e.document.selection.getSelectedElement(); e.change(function (e) { e.setAttribute("width", t.width, n); }); };
                        return nv;
                    }(Pd));
                    n(180);
                    var iv = /** @class */ (function (_super) {
                        __extends(iv, _super);
                        function iv(t, e) {
                            var _this = this;
                            _this = _super.call(this, t) || this, _this.defaultStyle = !1, _this.styles = e.reduce(function (t, e) { return (t[e.name] = e, e.isDefault && (_this.defaultStyle = e.name), t); }, {});
                            return _this;
                        }
                        iv.prototype.refresh = function () { var t = this.editor.model.document.selection.getSelectedElement(); if (this.isEnabled = fk(t), t)
                            if (t.hasAttribute("imageStyle")) {
                                var e_911 = t.getAttribute("imageStyle");
                                this.value = !!this.styles[e_911] && e_911;
                            }
                            else
                                this.value = this.defaultStyle;
                        else
                            this.value = !1; };
                        iv.prototype.execute = function (t) {
                            var _this = this;
                            var e = t.value, n = this.editor.model, i = n.document.selection.getSelectedElement();
                            n.change(function (t) { _this.styles[e].isDefault ? t.removeAttribute("imageStyle", i) : t.setAttribute("imageStyle", e, i); });
                        };
                        return iv;
                    }(Pd));
                    function ov(t, e) {
                        var e_912, _j;
                        try {
                            for (var e_913 = __values(e), e_913_1 = e_913.next(); !e_913_1.done; e_913_1 = e_913.next()) {
                                var n_351 = e_913_1.value;
                                if (n_351.name === t)
                                    return n_351;
                            }
                        }
                        catch (e_912_1) { e_912 = { error: e_912_1 }; }
                        finally {
                            try {
                                if (e_913_1 && !e_913_1.done && (_j = e_913.return)) _j.call(e_913);
                            }
                            finally { if (e_912) throw e_912.error; }
                        }
                    }
                    var rv = /** @class */ (function (_super) {
                        __extends(rv, _super);
                        function rv() {
                            return _super !== null && _super.apply(this, arguments) || this;
                        }
                        Object.defineProperty(rv, "pluginName", {
                            get: function () { return "ImageStyleEditing"; },
                            enumerable: true,
                            configurable: true
                        });
                        rv.prototype.init = function () { var t = this.editor, e = t.model.schema, n = t.data, i = t.editing; t.config.define("image.styles", ["full", "side"]); var o = Mp(t.config.get("image.styles")); e.extend("image", { allowAttributes: "imageStyle" }); var r = function (t) { return function (e, n, i) { if (!i.consumable.consume(n.item, e.name))
                            return; var o = ov(n.attributeNewValue, t), r = ov(n.attributeOldValue, t), s = i.mapper.toViewElement(n.item), a = i.writer; r && a.removeClass(r.className, s), o && a.addClass(o.className, s); }; }(o); i.downcastDispatcher.on("attribute:imageStyle:image", r), n.downcastDispatcher.on("attribute:imageStyle:image", r), n.upcastDispatcher.on("element:figure", function (t) { var e = t.filter(function (t) { return !t.isDefault; }); return function (t, n, i) {
                            var e_914, _j;
                            if (!n.modelRange)
                                return;
                            var o = n.viewItem, r = Du(n.modelRange.getItems());
                            if (i.schema.checkAttribute(r, "imageStyle"))
                                try {
                                    for (var e_915 = __values(e), e_915_1 = e_915.next(); !e_915_1.done; e_915_1 = e_915.next()) {
                                        var t_466 = e_915_1.value;
                                        i.consumable.consume(o, { classes: t_466.className }) && i.writer.setAttribute("imageStyle", t_466.name, r);
                                    }
                                }
                                catch (e_914_1) { e_914 = { error: e_914_1 }; }
                                finally {
                                    try {
                                        if (e_915_1 && !e_915_1.done && (_j = e_915.return)) _j.call(e_915);
                                    }
                                    finally { if (e_914) throw e_914.error; }
                                }
                        }; }(o), { priority: "low" }), t.commands.add("imageStyle", new iv(t, o)); };
                        return rv;
                    }(Ad));
                    n(182);
                    var sv = /** @class */ (function (_super) {
                        __extends(sv, _super);
                        function sv() {
                            return _super !== null && _super.apply(this, arguments) || this;
                        }
                        Object.defineProperty(sv, "pluginName", {
                            get: function () { return "ImageStyleUI"; },
                            enumerable: true,
                            configurable: true
                        });
                        Object.defineProperty(sv.prototype, "localizedDefaultStylesTitles", {
                            get: function () { var t = this.editor.t; return { "Full size image": t("z"), "Side image": t("aa"), "Left aligned image": t("ab"), "Centered image": t("ac"), "Right aligned image": t("ad") }; },
                            enumerable: true,
                            configurable: true
                        });
                        sv.prototype.init = function () {
                            var e_916, _j;
                            var t = function (t, e) {
                                var e_917, _j;
                                try {
                                    for (var t_468 = __values(t), t_468_1 = t_468.next(); !t_468_1.done; t_468_1 = t_468.next()) {
                                        var n_352 = t_468_1.value;
                                        e[n_352.title] && (n_352.title = e[n_352.title]);
                                    }
                                }
                                catch (e_917_1) { e_917 = { error: e_917_1 }; }
                                finally {
                                    try {
                                        if (t_468_1 && !t_468_1.done && (_j = t_468.return)) _j.call(t_468);
                                    }
                                    finally { if (e_917) throw e_917.error; }
                                }
                                return t;
                            }(Mp(this.editor.config.get("image.styles")), this.localizedDefaultStylesTitles);
                            try {
                                for (var t_467 = __values(t), t_467_1 = t_467.next(); !t_467_1.done; t_467_1 = t_467.next()) {
                                    var e_918 = t_467_1.value;
                                    this._createButton(e_918);
                                }
                            }
                            catch (e_916_1) { e_916 = { error: e_916_1 }; }
                            finally {
                                try {
                                    if (t_467_1 && !t_467_1.done && (_j = t_467.return)) _j.call(t_467);
                                }
                                finally { if (e_916) throw e_916.error; }
                            }
                        };
                        sv.prototype._createButton = function (t) {
                            var _this = this;
                            var e = this.editor, n = "imageStyle:" + t.name;
                            e.ui.componentFactory.add(n, function (n) { var i = e.commands.get("imageStyle"), o = new sd(n); return o.set({ label: t.title, icon: t.icon, tooltip: !0, isToggleable: !0 }), o.bind("isEnabled").to(i, "isEnabled"), o.bind("isOn").to(i, "value", function (e) { return e === t.name; }), _this.listenTo(o, "execute", function () { return e.execute("imageStyle", { value: t.name }); }), o; });
                        };
                        return sv;
                    }(Ad));
                    var av = /** @class */ (function (_super) {
                        __extends(av, _super);
                        function av() {
                            return _super !== null && _super.apply(this, arguments) || this;
                        }
                        Object.defineProperty(av, "requires", {
                            get: function () { return [Pu]; },
                            enumerable: true,
                            configurable: true
                        });
                        Object.defineProperty(av, "pluginName", {
                            get: function () { return "WidgetToolbarRepository"; },
                            enumerable: true,
                            configurable: true
                        });
                        av.prototype.init = function () {
                            var _this = this;
                            var t = this.editor;
                            if (t.plugins.has("BalloonToolbar")) {
                                var e_919 = t.plugins.get("BalloonToolbar");
                                this.listenTo(e_919, "show", function (e) { (function (t) { var e = t.getSelectedElement(); return !(!e || !ck(e)); })(t.editing.view.document.selection) && e.stop(); }, { priority: "high" });
                            }
                            this._toolbarDefinitions = new Map, this._balloon = this.editor.plugins.get("ContextualBalloon"), this.listenTo(t.ui, "update", function () { _this._updateToolbarsVisibility(); }), this.listenTo(t.ui.focusTracker, "change:isFocused", function () { _this._updateToolbarsVisibility(); }, { priority: "low" });
                        };
                        av.prototype.destroy = function () {
                            var e_920, _j;
                            _super.prototype.destroy.call(this);
                            try {
                                for (var _q = __values(this._toolbarDefinitions.values()), _z = _q.next(); !_z.done; _z = _q.next()) {
                                    var t_469 = _z.value;
                                    t_469.view.destroy();
                                }
                            }
                            catch (e_920_1) { e_920 = { error: e_920_1 }; }
                            finally {
                                try {
                                    if (_z && !_z.done && (_j = _q.return)) _j.call(_q);
                                }
                                finally { if (e_920) throw e_920.error; }
                            }
                        };
                        av.prototype.register = function (t, _j) {
                            var e = _j.ariaLabel, n = _j.items, i = _j.getRelatedElement, _q = _j.balloonClassName, o = _q === void 0 ? "ck-toolbar-container" : _q;
                            var r = this.editor, s = r.t, a = new wd(r.locale);
                            if (a.ariaLabel = e || s("at"), this._toolbarDefinitions.has(t))
                                throw new Gn.b("widget-toolbar-duplicated: Toolbar with the given id was already added.", this, { toolbarId: t });
                            a.fillFromConfig(n, r.ui.componentFactory), this._toolbarDefinitions.set(t, { view: a, getRelatedElement: i, balloonClassName: o });
                        };
                        av.prototype._updateToolbarsVisibility = function () {
                            var e_921, _j;
                            var t = 0, e = null, n = null;
                            try {
                                for (var _q = __values(this._toolbarDefinitions.values()), _z = _q.next(); !_z.done; _z = _q.next()) {
                                    var i_230 = _z.value;
                                    var o_146 = i_230.getRelatedElement(this.editor.editing.view.document.selection);
                                    if (this.editor.ui.focusTracker.isFocused)
                                        if (o_146) {
                                            var r_81 = o_146.getAncestors().length;
                                            r_81 > t && (t = r_81, e = o_146, n = i_230);
                                        }
                                        else
                                            this._isToolbarInBalloon(i_230) && this._hideToolbar(i_230);
                                    else
                                        this._isToolbarVisible(i_230) && this._hideToolbar(i_230);
                                }
                            }
                            catch (e_921_1) { e_921 = { error: e_921_1 }; }
                            finally {
                                try {
                                    if (_z && !_z.done && (_j = _q.return)) _j.call(_q);
                                }
                                finally { if (e_921) throw e_921.error; }
                            }
                            n && this._showToolbar(n, e);
                        };
                        av.prototype._hideToolbar = function (t) { this._balloon.remove(t.view), this.stopListening(this._balloon, "change:visibleView"); };
                        av.prototype._showToolbar = function (t, e) {
                            var _this = this;
                            this._isToolbarVisible(t) ? cv(this.editor, e) : this._isToolbarInBalloon(t) || (this._balloon.add({ view: t.view, position: lv(this.editor, e), balloonClassName: t.balloonClassName }), this.listenTo(this._balloon, "change:visibleView", function () {
                                var e_922, _j;
                                try {
                                    for (var _q = __values(_this._toolbarDefinitions.values()), _z = _q.next(); !_z.done; _z = _q.next()) {
                                        var t_470 = _z.value;
                                        if (_this._isToolbarVisible(t_470)) {
                                            var e_923 = t_470.getRelatedElement(_this.editor.editing.view.document.selection);
                                            cv(_this.editor, e_923);
                                        }
                                    }
                                }
                                catch (e_922_1) { e_922 = { error: e_922_1 }; }
                                finally {
                                    try {
                                        if (_z && !_z.done && (_j = _q.return)) _j.call(_q);
                                    }
                                    finally { if (e_922) throw e_922.error; }
                                }
                            }));
                        };
                        av.prototype._isToolbarVisible = function (t) { return this._balloon.visibleView === t.view; };
                        av.prototype._isToolbarInBalloon = function (t) { return this._balloon.hasView(t.view); };
                        return av;
                    }(Ad));
                    function cv(t, e) { var n = t.plugins.get("ContextualBalloon"), i = lv(t, e); n.updatePosition(i); }
                    function lv(t, e) { var n = t.editing.view, i = ku.defaultPositions; return { target: n.domConverter.mapViewToDom(e), positions: [i.northArrowSouth, i.northArrowSouthWest, i.northArrowSouthEast, i.southArrowNorth, i.southArrowNorthWest, i.southArrowNorthEast] }; }
                    var dv = /** @class */ (function (_super) {
                        __extends(dv, _super);
                        function dv(t) {
                            var _this = this;
                            _this = _super.call(this, t) || this, _this.domEventType = "click";
                            return _this;
                        }
                        dv.prototype.onDomEvent = function (t) { this.fire(t.type, t); };
                        return dv;
                    }(es));
                    n(184);
                    var uv = /** @class */ (function (_super) {
                        __extends(uv, _super);
                        function uv(t, e) {
                            if (e === void 0) { e = []; }
                            var _this = _super.call(this, t) || this;
                            var n = t.t;
                            _this.focusTracker = new ll, _this.keystrokes = new tl, _this.urlInputView = _this._createUrlInput(), _this.saveButtonView = _this._createButton(n("ck"), Yu.a, "ck-button-save"), _this.saveButtonView.type = "submit", _this.cancelButtonView = _this._createButton(n("cl"), Gu.a, "ck-button-cancel", "cancel"), _this._manualDecoratorSwitches = _this._createManualDecoratorSwitches(e), _this.children = _this._createFormChildren(e), _this._focusables = new bl, _this._focusCycler = new $l({ focusables: _this._focusables, focusTracker: _this.focusTracker, keystrokeHandler: _this.keystrokes, actions: { focusPrevious: "shift + tab", focusNext: "tab" } });
                            var i = ["ck", "ck-link-form"];
                            e.length && i.push("ck-link-form_layout-vertical"), _this.setTemplate({ tag: "form", attributes: { class: i, tabindex: "-1" }, children: _this.children });
                            return _this;
                        }
                        uv.prototype.getDecoratorSwitchesState = function () { return Array.from(this._manualDecoratorSwitches).reduce(function (t, e) { return (t[e.name] = e.isOn, t); }, {}); };
                        uv.prototype.render = function () {
                            var _this = this;
                            _super.prototype.render.call(this), zw({ view: this }), __spread([this.urlInputView], this._manualDecoratorSwitches, [this.saveButtonView, this.cancelButtonView]).forEach(function (t) { _this._focusables.add(t), _this.focusTracker.add(t.element); }), this.keystrokes.listenTo(this.element);
                        };
                        uv.prototype.focus = function () { this._focusCycler.focusFirst(); };
                        uv.prototype._createUrlInput = function () { var t = this.locale.t, e = new Lw(this.locale, Vw); return e.label = t("cm"), e.inputView.placeholder = "https://example.com", e; };
                        uv.prototype._createButton = function (t, e, n, i) { var o = new sd(this.locale); return o.set({ label: t, icon: e, tooltip: !0 }), o.extendTemplate({ attributes: { class: n } }), i && o.delegate("execute").to(this, i), o; };
                        uv.prototype._createManualDecoratorSwitches = function (t) {
                            var e_924, _j;
                            var e = this.createCollection();
                            var _loop_28 = function (n_353) {
                                var t_472 = new md(this_4.locale);
                                t_472.set({ name: n_353.id, label: n_353.label, withText: !0 }), t_472.bind("isOn").to(n_353, "value"), t_472.on("execute", function () { n_353.set("value", !t_472.isOn); }), e.add(t_472);
                            };
                            var this_4 = this;
                            try {
                                for (var t_471 = __values(t), t_471_1 = t_471.next(); !t_471_1.done; t_471_1 = t_471.next()) {
                                    var n_353 = t_471_1.value;
                                    _loop_28(n_353);
                                }
                            }
                            catch (e_924_1) { e_924 = { error: e_924_1 }; }
                            finally {
                                try {
                                    if (t_471_1 && !t_471_1.done && (_j = t_471.return)) _j.call(t_471);
                                }
                                finally { if (e_924) throw e_924.error; }
                            }
                            return e;
                        };
                        uv.prototype._createFormChildren = function (t) { var e = this.createCollection(); if (e.add(this.urlInputView), t.length) {
                            var t_473 = new zl;
                            t_473.setTemplate({ tag: "ul", children: this._manualDecoratorSwitches.map(function (t) { return ({ tag: "li", children: [t], attributes: { class: ["ck", "ck-list__item"] } }); }), attributes: { class: ["ck", "ck-reset", "ck-list"] } }), e.add(t_473);
                        } return e.add(this.saveButtonView), e.add(this.cancelButtonView), e; };
                        return uv;
                    }(zl));
                    var hv = n(58), mv = n.n(hv);
                    n(186);
                    var gv = /** @class */ (function (_super) {
                        __extends(gv, _super);
                        function gv(t) {
                            var _this = _super.call(this, t) || this;
                            var e = t.t;
                            _this.focusTracker = new ll, _this.keystrokes = new tl, _this.previewButtonView = _this._createPreviewButton(), _this.unlinkButtonView = _this._createButton(e("cg"), mv.a, "unlink"), _this.editButtonView = _this._createButton(e("ch"), oh.a, "edit"), _this.set("href"), _this._focusables = new bl, _this._focusCycler = new $l({ focusables: _this._focusables, focusTracker: _this.focusTracker, keystrokeHandler: _this.keystrokes, actions: { focusPrevious: "shift + tab", focusNext: "tab" } }), _this.setTemplate({ tag: "div", attributes: { class: ["ck", "ck-link-actions"], tabindex: "-1" }, children: [_this.previewButtonView, _this.editButtonView, _this.unlinkButtonView] });
                            return _this;
                        }
                        gv.prototype.render = function () {
                            var _this = this;
                            _super.prototype.render.call(this), [this.previewButtonView, this.editButtonView, this.unlinkButtonView].forEach(function (t) { _this._focusables.add(t), _this.focusTracker.add(t.element); }), this.keystrokes.listenTo(this.element);
                        };
                        gv.prototype.focus = function () { this._focusCycler.focusFirst(); };
                        gv.prototype._createButton = function (t, e, n) { var i = new sd(this.locale); return i.set({ label: t, icon: e, tooltip: !0 }), i.delegate("execute").to(this, n), i; };
                        gv.prototype._createPreviewButton = function () { var t = new sd(this.locale), e = this.bindTemplate, n = this.t; return t.set({ withText: !0, tooltip: n("ci") }), t.extendTemplate({ attributes: { class: ["ck", "ck-link-actions__preview"], href: e.to("href", function (t) { return t && Qk(t); }), target: "_blank", rel: "noopener noreferrer" } }), t.bind("label").to(this, "href", function (t) { return t || n("cj"); }), t.bind("isEnabled").to(this, "href", function (t) { return !!t; }), t.template.tag = "a", t.template.eventListeners = {}, t; };
                        return gv;
                    }(zl));
                    var fv = n(59), pv = n.n(fv);
                    var xv = "Ctrl+K";
                    var bv = /** @class */ (function (_super) {
                        __extends(bv, _super);
                        function bv() {
                            return _super !== null && _super.apply(this, arguments) || this;
                        }
                        Object.defineProperty(bv, "requires", {
                            get: function () { return [Pu]; },
                            enumerable: true,
                            configurable: true
                        });
                        Object.defineProperty(bv, "pluginName", {
                            get: function () { return "LinkUI"; },
                            enumerable: true,
                            configurable: true
                        });
                        bv.prototype.init = function () { var t = this.editor; t.editing.view.addObserver(dv), this.actionsView = this._createActionsView(), this.formView = this._createFormView(), this._balloon = t.plugins.get(Pu), this._createToolbarLinkButton(), this._enableUserBalloonInteractions(); };
                        bv.prototype.destroy = function () { _super.prototype.destroy.call(this), this.formView.destroy(); };
                        bv.prototype._createActionsView = function () {
                            var _this = this;
                            var t = this.editor, e = new gv(t.locale), n = t.commands.get("link"), i = t.commands.get("unlink");
                            return e.bind("href").to(n, "value"), e.editButtonView.bind("isEnabled").to(n), e.unlinkButtonView.bind("isEnabled").to(i), this.listenTo(e, "edit", function () { _this._addFormView(); }), this.listenTo(e, "unlink", function () { t.execute("unlink"), _this._hideUI(); }), e.keystrokes.set("Esc", function (t, e) { _this._hideUI(), e(); }), e.keystrokes.set(xv, function (t, e) { _this._addFormView(), e(); }), e;
                        };
                        bv.prototype._createFormView = function () {
                            var _this = this;
                            var t = this.editor, e = t.commands.get("link"), n = new uv(t.locale, e.manualDecorators);
                            return n.urlInputView.bind("value").to(e, "value"), n.urlInputView.bind("isReadOnly").to(e, "isEnabled", function (t) { return !t; }), n.saveButtonView.bind("isEnabled").to(e), this.listenTo(n, "submit", function () { t.execute("link", n.urlInputView.inputView.element.value, n.getDecoratorSwitchesState()), _this._closeFormView(); }), this.listenTo(n, "cancel", function () { _this._closeFormView(); }), n.keystrokes.set("Esc", function (t, e) { _this._closeFormView(), e(); }), n;
                        };
                        bv.prototype._createToolbarLinkButton = function () {
                            var _this = this;
                            var t = this.editor, e = t.commands.get("link"), n = t.t;
                            t.keystrokes.set(xv, function (t, n) { n(), e.isEnabled && _this._showUI(!0); }), t.ui.componentFactory.add("link", function (t) { var i = new sd(t); return i.isEnabled = !0, i.label = n("bq"), i.icon = pv.a, i.keystroke = xv, i.tooltip = !0, i.isToggleable = !0, i.bind("isEnabled").to(e, "isEnabled"), i.bind("isOn").to(e, "value", function (t) { return !!t; }), _this.listenTo(i, "execute", function () { return _this._showUI(!0); }), i; });
                        };
                        bv.prototype._enableUserBalloonInteractions = function () {
                            var _this = this;
                            var t = this.editor.editing.view.document;
                            this.listenTo(t, "click", function () { _this._getSelectedLinkElement() && _this._showUI(); }), this.editor.keystrokes.set("Tab", function (t, e) { _this._areActionsVisible && !_this.actionsView.focusTracker.isFocused && (_this.actionsView.focus(), e()); }, { priority: "high" }), this.editor.keystrokes.set("Esc", function (t, e) { _this._isUIVisible && (_this._hideUI(), e()); }), gd({ emitter: this.formView, activator: function () { return _this._isUIInPanel; }, contextElements: [this._balloon.view.element], callback: function () { return _this._hideUI(); } });
                        };
                        bv.prototype._addActionsView = function () { this._areActionsInPanel || this._balloon.add({ view: this.actionsView, position: this._getBalloonPositionData() }); };
                        bv.prototype._addFormView = function () { if (this._isFormInPanel)
                            return; var t = this.editor.commands.get("link"); this._balloon.add({ view: this.formView, position: this._getBalloonPositionData() }), this._balloon.visibleView === this.formView && this.formView.urlInputView.select(), this.formView.urlInputView.inputView.element.value = t.value || ""; };
                        bv.prototype._closeFormView = function () { var t = this.editor.commands.get("link"); t.restoreManualDecoratorStates(), void 0 !== t.value ? this._removeFormView() : this._hideUI(); };
                        bv.prototype._removeFormView = function () { this._isFormInPanel && (this.formView.saveButtonView.focus(), this._balloon.remove(this.formView), this.editor.editing.view.focus()); };
                        bv.prototype._showUI = function (t) {
                            if (t === void 0) { t = !1; }
                            this.editor.commands.get("link").isEnabled && (this._getSelectedLinkElement() ? (this._areActionsVisible ? this._addFormView() : this._addActionsView(), t && this._balloon.showStack("main")) : (this._addActionsView(), t && this._balloon.showStack("main"), this._addFormView()), this._startUpdatingUI());
                        };
                        bv.prototype._hideUI = function () { if (!this._isUIInPanel)
                            return; var t = this.editor; this.stopListening(t.ui, "update"), this.stopListening(this._balloon, "change:visibleView"), t.editing.view.focus(), this._removeFormView(), this._balloon.remove(this.actionsView); };
                        bv.prototype._startUpdatingUI = function () {
                            var _this = this;
                            var t = this.editor, e = t.editing.view.document;
                            var n = this._getSelectedLinkElement(), i = r();
                            var o = function () { var t = _this._getSelectedLinkElement(), e = r(); n && !t || !n && e !== i ? _this._hideUI() : _this._isUIVisible && _this._balloon.updatePosition(_this._getBalloonPositionData()), n = t, i = e; };
                            function r() { return e.selection.focus.getAncestors().reverse().find(function (t) { return t.is("element"); }); }
                            this.listenTo(t.ui, "update", o), this.listenTo(this._balloon, "change:visibleView", o);
                        };
                        Object.defineProperty(bv.prototype, "_isFormInPanel", {
                            get: function () { return this._balloon.hasView(this.formView); },
                            enumerable: true,
                            configurable: true
                        });
                        Object.defineProperty(bv.prototype, "_areActionsInPanel", {
                            get: function () { return this._balloon.hasView(this.actionsView); },
                            enumerable: true,
                            configurable: true
                        });
                        Object.defineProperty(bv.prototype, "_areActionsVisible", {
                            get: function () { return this._balloon.visibleView === this.actionsView; },
                            enumerable: true,
                            configurable: true
                        });
                        Object.defineProperty(bv.prototype, "_isUIInPanel", {
                            get: function () { return this._isFormInPanel || this._areActionsInPanel; },
                            enumerable: true,
                            configurable: true
                        });
                        Object.defineProperty(bv.prototype, "_isUIVisible", {
                            get: function () { return this._balloon.visibleView == this.formView || this._areActionsVisible; },
                            enumerable: true,
                            configurable: true
                        });
                        bv.prototype._getBalloonPositionData = function () { var t = this.editor.editing.view, e = t.document, n = this._getSelectedLinkElement(); return { target: n ? t.domConverter.mapViewToDom(n) : t.domConverter.viewRangeToDom(e.selection.getFirstRange()) }; };
                        bv.prototype._getSelectedLinkElement = function () { var t = this.editor.editing.view, e = t.document.selection; if (e.isCollapsed)
                            return kv(e.getFirstPosition()); {
                            var n_354 = e.getFirstRange().getTrimmed(), i_231 = kv(n_354.start), o_147 = kv(n_354.end);
                            return i_231 && i_231 == o_147 && t.createRangeIn(i_231).getTrimmed().isEqual(n_354) ? i_231 : null;
                        } };
                        return bv;
                    }(Ad));
                    function kv(t) { return t.getAncestors().find(function (t) { return (function (t) { return t.is("attributeElement") && !!t.getCustomProperty("link"); })(t); }); }
                    function wv(t, e) { return function (t) { t.on("attribute:url:media", n); }; function n(n, i, o) { if (!o.consumable.consume(i.item, n.name))
                        return; var r = i.attributeNewValue, s = o.writer, a = o.mapper.toViewElement(i.item); s.remove(s.createRangeIn(a)); var c = t.getMediaViewElement(s, r, e); s.insert(s.createPositionAt(a, 0), c); } }
                    function _v(t, e, n, i) { var o = t.createContainerElement("figure", { class: "media" }); return o.getFillerOffset = Cv, t.insert(t.createPositionAt(o, 0), e.getMediaViewElement(t, n, i)), o; }
                    function vv(t) { var e = t.getSelectedElement(); return e && e.is("media") ? e : null; }
                    function yv(t, e, n) { t.change(function (i) { var o = i.createElement("media", { url: e }); t.insertContent(o, n), i.setSelection(o, "on"); }); }
                    function Cv() { return null; }
                    var Tv = /** @class */ (function (_super) {
                        __extends(Tv, _super);
                        function Tv() {
                            return _super !== null && _super.apply(this, arguments) || this;
                        }
                        Tv.prototype.refresh = function () { var t = this.editor.model, e = t.document.selection, n = t.schema, i = e.getFirstPosition(), o = vv(e); var r = i.parent; r != r.root && (r = r.parent), this.value = o ? o.getAttribute("url") : null, this.isEnabled = n.checkChild(r, "media"); };
                        Tv.prototype.execute = function (t) { var e = this.editor.model, n = e.document.selection, i = vv(n); if (i)
                            e.change(function (e) { e.setAttribute("url", t, i); });
                        else {
                            var i_232 = hk(n, e);
                            yv(e, t, i_232);
                        } };
                        return Tv;
                    }(Pd));
                    var Av = n(60), Sv = n.n(Av);
                    var Pv = "0 0 64 42";
                    var Mv = /** @class */ (function () {
                        function Mv(t, e) {
                            var n = e.providers, i = e.extraProviders || [], o = new Set(e.removeProviders), r = n.concat(i).filter(function (t) { var e = t.name; return e ? !o.has(e) : (console.warn(Object(Gn.a)("media-embed-no-provider-name: The configured media provider has no name and cannot be used."), { provider: t }), !1); });
                            this.locale = t, this.providerDefinitions = r;
                        }
                        Mv.prototype.hasMedia = function (t) { return !!this._getMedia(t); };
                        Mv.prototype.getMediaViewElement = function (t, e, n) { return this._getMedia(e).getViewElement(t, n); };
                        Mv.prototype._getMedia = function (t) {
                            var e_925, _j, e_926, _q;
                            if (!t)
                                return new Ev(this.locale);
                            t = t.trim();
                            try {
                                for (var _z = __values(this.providerDefinitions), _0 = _z.next(); !_0.done; _0 = _z.next()) {
                                    var e_927 = _0.value;
                                    var n_355 = e_927.html;
                                    var i_234 = e_927.url;
                                    Array.isArray(i_234) || (i_234 = [i_234]);
                                    try {
                                        for (var i_233 = __values(i_234), i_233_1 = i_233.next(); !i_233_1.done; i_233_1 = i_233.next()) {
                                            var e_928 = i_233_1.value;
                                            var i_235 = this._getUrlMatches(t, e_928);
                                            if (i_235)
                                                return new Ev(this.locale, t, i_235, n_355);
                                        }
                                    }
                                    catch (e_926_1) { e_926 = { error: e_926_1 }; }
                                    finally {
                                        try {
                                            if (i_233_1 && !i_233_1.done && (_q = i_233.return)) _q.call(i_233);
                                        }
                                        finally { if (e_926) throw e_926.error; }
                                    }
                                }
                            }
                            catch (e_925_1) { e_925 = { error: e_925_1 }; }
                            finally {
                                try {
                                    if (_0 && !_0.done && (_j = _z.return)) _j.call(_z);
                                }
                                finally { if (e_925) throw e_925.error; }
                            }
                            return null;
                        };
                        Mv.prototype._getUrlMatches = function (t, e) { var n = t.match(e); if (n)
                            return n; var i = t.replace(/^https?:\/\//, ""); return (n = i.match(e)) ? n : (n = (i = i.replace(/^www\./, "")).match(e)) || null; };
                        return Mv;
                    }());
                    var Ev = /** @class */ (function () {
                        function Ev(t, e, n, i) {
                            this.url = this._getValidUrl(e), this._t = t.t, this._match = n, this._previewRenderer = i;
                        }
                        Ev.prototype.getViewElement = function (t, e) { var n = {}; if (e.renderForEditingView || e.renderMediaPreview && this.url && this._previewRenderer) {
                            this.url && (n["data-oembed-url"] = this.url), e.renderForEditingView && (n.class = "ck-media__wrapper");
                            var i_236 = this._getPreviewHtml(e);
                            return t.createUIElement("div", n, function (t) { var e = this.toDomElement(t); return e.innerHTML = i_236, e; });
                        } return this.url && (n.url = this.url), t.createEmptyElement("oembed", n); };
                        Ev.prototype._getPreviewHtml = function (t) { return this._previewRenderer ? this._previewRenderer(this._match) : this.url && t.renderForEditingView ? this._getPlaceholderHtml() : ""; };
                        Ev.prototype._getPlaceholderHtml = function () { var t = new rd, e = new od; return t.text = this._t("Open media in new tab"), e.content = Sv.a, e.viewBox = Pv, new wl({ tag: "div", attributes: { class: "ck ck-reset_all ck-media__placeholder" }, children: [{ tag: "div", attributes: { class: "ck-media__placeholder__icon" }, children: [e] }, { tag: "a", attributes: { class: "ck-media__placeholder__url", target: "_blank", rel: "noopener noreferrer", href: this.url }, children: [{ tag: "span", attributes: { class: "ck-media__placeholder__url__text" }, children: [this.url] }, t] }] }).render().outerHTML; };
                        Ev.prototype._getValidUrl = function (t) { return t ? t.match(/^https?/) ? t : "https://" + t : null; };
                        return Ev;
                    }());
                    n(188);
                    var Iv = /** @class */ (function (_super) {
                        __extends(Iv, _super);
                        function Iv(t) {
                            var _this = this;
                            _this = _super.call(this, t) || this, t.config.define("mediaEmbed", { providers: [{ name: "dailymotion", url: /^dailymotion\.com\/video\/(\w+)/, html: function (t) { return '<div style="position: relative; padding-bottom: 100%; height: 0; ">' + ("<iframe src=\"https://www.dailymotion.com/embed/video/" + t[1] + "\" ") + 'style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" frameborder="0" width="480" height="270" allowfullscreen allow="autoplay"></iframe></div>'; } }, { name: "spotify", url: [/^open\.spotify\.com\/(artist\/\w+)/, /^open\.spotify\.com\/(album\/\w+)/, /^open\.spotify\.com\/(track\/\w+)/], html: function (t) { return '<div style="position: relative; padding-bottom: 100%; height: 0; padding-bottom: 126%;">' + ("<iframe src=\"https://open.spotify.com/embed/" + t[1] + "\" ") + 'style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" frameborder="0" allowtransparency="true" allow="encrypted-media"></iframe></div>'; } }, { name: "youtube", url: [/^(?:m\.)?youtube\.com\/watch\?v=([\w-]+)/, /^(?:m\.)?youtube\.com\/v\/([\w-]+)/, /^youtube\.com\/embed\/([\w-]+)/, /^youtu\.be\/([\w-]+)/], html: function (t) { return '<div style="position: relative; padding-bottom: 100%; height: 0; padding-bottom: 56.2493%;">' + ("<iframe src=\"https://www.youtube.com/embed/" + t[1] + "\" ") + 'style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div>'; } }, { name: "vimeo", url: [/^vimeo\.com\/(\d+)/, /^vimeo\.com\/[^/]+\/[^/]+\/video\/(\d+)/, /^vimeo\.com\/album\/[^/]+\/video\/(\d+)/, /^vimeo\.com\/channels\/[^/]+\/(\d+)/, /^vimeo\.com\/groups\/[^/]+\/videos\/(\d+)/, /^vimeo\.com\/ondemand\/[^/]+\/(\d+)/, /^player\.vimeo\.com\/video\/(\d+)/], html: function (t) { return '<div style="position: relative; padding-bottom: 100%; height: 0; padding-bottom: 56.2493%;">' + ("<iframe src=\"https://player.vimeo.com/video/" + t[1] + "\" ") + 'style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe></div>'; } }, { name: "instagram", url: /^instagram\.com\/p\/(\w+)/ }, { name: "twitter", url: /^twitter\.com/ }, { name: "googleMaps", url: /^google\.com\/maps/ }, { name: "flickr", url: /^flickr\.com/ }, { name: "facebook", url: /^facebook\.com/ }] }), _this.registry = new Mv(t.locale, t.config.get("mediaEmbed"));
                            return _this;
                        }
                        Object.defineProperty(Iv, "pluginName", {
                            get: function () { return "MediaEmbedEditing"; },
                            enumerable: true,
                            configurable: true
                        });
                        Iv.prototype.init = function () { var t = this.editor, e = t.model.schema, n = t.t, i = t.conversion, o = t.config.get("mediaEmbed.previewsInData"), r = this.registry; t.commands.add("mediaEmbed", new Tv(t)), e.register("media", { isObject: !0, isBlock: !0, allowWhere: "$block", allowAttributes: ["url"] }), i.for("dataDowncast").elementToElement({ model: "media", view: function (t, e) { var n = t.getAttribute("url"); return _v(e, r, n, { renderMediaPreview: n && o }); } }), i.for("dataDowncast").add(wv(r, { renderMediaPreview: o })), i.for("editingDowncast").elementToElement({ model: "media", view: function (t, e) { var i = t.getAttribute("url"); return function (t, e, n) { return e.setCustomProperty("media", !0, t), lk(t, e, { label: n }); }(_v(e, r, i, { renderForEditingView: !0 }), e, n("as")); } }), i.for("editingDowncast").add(wv(r, { renderForEditingView: !0 })), i.for("upcast").elementToElement({ view: { name: "oembed", attributes: { url: !0 } }, model: function (t, e) { var n = t.getAttribute("url"); if (r.hasMedia(n))
                                return e.createElement("media", { url: n }); } }).elementToElement({ view: { name: "div", attributes: { "data-oembed-url": !0 } }, model: function (t, e) { var n = t.getAttribute("data-oembed-url"); if (r.hasMedia(n))
                                return e.createElement("media", { url: n }); } }); };
                        return Iv;
                    }(Ad));
                    var Nv = /^(?:http(s)?:\/\/)?[\w.-]+(?:\.[\w.-]+)+[\w\-._~:/?#[\]@!$&'()*+,;=]+$/;
                    var Rv = /** @class */ (function (_super) {
                        __extends(Rv, _super);
                        function Rv(t) {
                            var _this = this;
                            _this = _super.call(this, t) || this, _this._timeoutId = null, _this._positionToInsert = null;
                            return _this;
                        }
                        Object.defineProperty(Rv, "requires", {
                            get: function () { return [vh, gm]; },
                            enumerable: true,
                            configurable: true
                        });
                        Object.defineProperty(Rv, "pluginName", {
                            get: function () { return "AutoMediaEmbed"; },
                            enumerable: true,
                            configurable: true
                        });
                        Rv.prototype.init = function () {
                            var _this = this;
                            var t = this.editor, e = t.model.document;
                            this.listenTo(t.plugins.get(vh), "inputTransformation", function () { var t = e.selection.getFirstRange(), n = zc.fromPosition(t.start); n.stickiness = "toPrevious"; var i = zc.fromPosition(t.end); i.stickiness = "toNext", e.once("change:data", function () { _this._embedMediaBetweenPositions(n, i), n.detach(), i.detach(); }, { priority: "high" }); }), t.commands.get("undo").on("execute", function () { _this._timeoutId && (er.window.clearTimeout(_this._timeoutId), _this._positionToInsert.detach(), _this._timeoutId = null, _this._positionToInsert = null); }, { priority: "high" });
                        };
                        Rv.prototype._embedMediaBetweenPositions = function (t, e) {
                            var _this = this;
                            var e_929, _j;
                            var n = this.editor, i = n.plugins.get(Iv).registry, o = new sa(t, e), r = o.getWalker({ ignoreElementEnd: !0 });
                            var s = "";
                            try {
                                for (var r_82 = __values(r), r_82_1 = r_82.next(); !r_82_1.done; r_82_1 = r_82.next()) {
                                    var t_474 = r_82_1.value;
                                    t_474.item.is("textProxy") && (s += t_474.item.data);
                                }
                            }
                            catch (e_929_1) { e_929 = { error: e_929_1 }; }
                            finally {
                                try {
                                    if (r_82_1 && !r_82_1.done && (_j = r_82.return)) _j.call(r_82);
                                }
                                finally { if (e_929) throw e_929.error; }
                            }
                            if (!(s = s.trim()).match(Nv))
                                return;
                            if (!i.hasMedia(s))
                                return;
                            n.commands.get("mediaEmbed").isEnabled && (this._positionToInsert = zc.fromPosition(t), this._timeoutId = er.window.setTimeout(function () { n.model.change(function (t) { var e; _this._timeoutId = null, t.remove(o), "$graveyard" !== _this._positionToInsert.root.rootName && (e = _this._positionToInsert), yv(n.model, s, e), _this._positionToInsert.detach(), _this._positionToInsert = null; }); }, 100));
                        };
                        return Rv;
                    }(Ad));
                    n(190);
                    var Ov = /** @class */ (function (_super) {
                        __extends(Ov, _super);
                        function Ov(t, e) {
                            var _this = _super.call(this, e) || this;
                            var n = e.t;
                            _this.focusTracker = new ll, _this.keystrokes = new tl, _this.urlInputView = _this._createUrlInput(), _this.saveButtonView = _this._createButton(n("ck"), Yu.a, "ck-button-save"), _this.saveButtonView.type = "submit", _this.cancelButtonView = _this._createButton(n("cl"), Gu.a, "ck-button-cancel", "cancel"), _this._focusables = new bl, _this._focusCycler = new $l({ focusables: _this._focusables, focusTracker: _this.focusTracker, keystrokeHandler: _this.keystrokes, actions: { focusPrevious: "shift + tab", focusNext: "tab" } }), _this._validators = t, _this.setTemplate({ tag: "form", attributes: { class: ["ck", "ck-media-form"], tabindex: "-1" }, children: [_this.urlInputView, _this.saveButtonView, _this.cancelButtonView] });
                            return _this;
                        }
                        Ov.prototype.render = function () {
                            var _this = this;
                            _super.prototype.render.call(this), zw({ view: this }), [this.urlInputView, this.saveButtonView, this.cancelButtonView].forEach(function (t) { _this._focusables.add(t), _this.focusTracker.add(t.element); }), this.keystrokes.listenTo(this.element);
                            var t = function (t) { return t.stopPropagation(); };
                            this.keystrokes.set("arrowright", t), this.keystrokes.set("arrowleft", t), this.keystrokes.set("arrowup", t), this.keystrokes.set("arrowdown", t), this.listenTo(this.urlInputView.element, "selectstart", function (t, e) { e.stopPropagation(); }, { priority: "high" });
                        };
                        Ov.prototype.focus = function () { this._focusCycler.focusFirst(); };
                        Object.defineProperty(Ov.prototype, "url", {
                            get: function () { return this.urlInputView.inputView.element.value.trim(); },
                            set: function (t) { this.urlInputView.inputView.element.value = t.trim(); },
                            enumerable: true,
                            configurable: true
                        });
                        Ov.prototype.isValid = function () {
                            var e_930, _j;
                            this.resetFormStatus();
                            try {
                                for (var _q = __values(this._validators), _z = _q.next(); !_z.done; _z = _q.next()) {
                                    var t_475 = _z.value;
                                    var e_931 = t_475(this);
                                    if (e_931)
                                        return this.urlInputView.errorText = e_931, !1;
                                }
                            }
                            catch (e_930_1) { e_930 = { error: e_930_1 }; }
                            finally {
                                try {
                                    if (_z && !_z.done && (_j = _q.return)) _j.call(_q);
                                }
                                finally { if (e_930) throw e_930.error; }
                            }
                            return !0;
                        };
                        Ov.prototype.resetFormStatus = function () { this.urlInputView.errorText = null, this.urlInputView.infoText = this._urlInputViewInfoDefault; };
                        Ov.prototype._createUrlInput = function () {
                            var _this = this;
                            var t = this.locale.t, e = new Lw(this.locale, Vw), n = e.inputView;
                            return this._urlInputViewInfoDefault = t("cr"), this._urlInputViewInfoTip = t("cs"), e.label = t("ct"), e.infoText = this._urlInputViewInfoDefault, n.placeholder = "https://example.com", n.on("input", function () { e.infoText = n.element.value ? _this._urlInputViewInfoTip : _this._urlInputViewInfoDefault; }), e;
                        };
                        Ov.prototype._createButton = function (t, e, n, i) { var o = new sd(this.locale); return o.set({ label: t, icon: e, tooltip: !0 }), o.extendTemplate({ attributes: { class: n } }), i && o.delegate("execute").to(this, i), o; };
                        return Ov;
                    }(zl));
                    var Dv = n(61), Lv = n.n(Dv);
                    var Vv = /** @class */ (function (_super) {
                        __extends(Vv, _super);
                        function Vv() {
                            return _super !== null && _super.apply(this, arguments) || this;
                        }
                        Object.defineProperty(Vv, "requires", {
                            get: function () { return [Iv]; },
                            enumerable: true,
                            configurable: true
                        });
                        Object.defineProperty(Vv, "pluginName", {
                            get: function () { return "MediaEmbedUI"; },
                            enumerable: true,
                            configurable: true
                        });
                        Vv.prototype.init = function () {
                            var _this = this;
                            var t = this.editor, e = t.commands.get("mediaEmbed"), n = t.plugins.get(Iv).registry;
                            this.form = new Ov(function (t, e) { return [function (e) { if (!e.url.length)
                                    return t("av"); }, function (n) { if (!e.hasMedia(n.url))
                                    return t("aw"); }]; }(t.t, n), t.locale), t.ui.componentFactory.add("mediaEmbed", function (n) { var i = fd(n); return _this._setUpDropdown(i, _this.form, e, t), _this._setUpForm(_this.form, i, e), i; });
                        };
                        Vv.prototype._setUpDropdown = function (t, e, n) { var i = this.editor, o = i.t, r = t.buttonView; function s() { i.editing.view.focus(), t.isOpen = !1; } t.bind("isEnabled").to(n), t.panelView.children.add(e), r.set({ label: o("au"), icon: Lv.a, tooltip: !0 }), r.on("open", function () { e.url = n.value || "", e.urlInputView.select(), e.focus(); }, { priority: "low" }), t.on("submit", function () { e.isValid() && (i.execute("mediaEmbed", e.url), s()); }), t.on("change:isOpen", function () { return e.resetFormStatus(); }), t.on("cancel", function () { return s(); }); };
                        Vv.prototype._setUpForm = function (t, e, n) { t.delegate("submit", "cancel").to(e), t.urlInputView.bind("value").to(n, "value"), t.urlInputView.bind("isReadOnly").to(n, "isEnabled", function (t) { return !t; }), t.saveButtonView.bind("isEnabled").to(n); };
                        return Vv;
                    }(Ad));
                    n(192);
                    function zv(t, e) { if (!t.childCount)
                        return; var n = new a_, i = function (t, e) {
                        var e_932, _j;
                        var n = e.createRangeIn(t), i = new xi({ name: /^p|h\d+$/, styles: { "mso-list": /.*/ } }), o = [];
                        try {
                            for (var n_356 = __values(n), n_356_1 = n_356.next(); !n_356_1.done; n_356_1 = n_356.next()) {
                                var t_476 = n_356_1.value;
                                if ("elementStart" === t_476.type && i.match(t_476.item)) {
                                    var e_933 = jv(t_476.item);
                                    o.push({ element: t_476.item, id: e_933.id, order: e_933.order, indent: e_933.indent });
                                }
                            }
                        }
                        catch (e_932_1) { e_932 = { error: e_932_1 }; }
                        finally {
                            try {
                                if (n_356_1 && !n_356_1.done && (_j = n_356.return)) _j.call(n_356);
                            }
                            finally { if (e_932) throw e_932.error; }
                        }
                        return o;
                    }(t, n); if (!i.length)
                        return; var o = null; i.forEach(function (t, r) { if (!o || function (t, e) { if (t.id !== e.id)
                        return !0; var n = e.element.previousSibling; if (!n)
                        return !0; return !function (t) { return t.is("ol") || t.is("ul"); }(n); }(i[r - 1], t)) {
                        var i_237 = function (t, e) { var n = /mso-level-number-format:([^;]*);/gi, i = new RegExp("@list l" + t.id + ":level" + t.indent + "\\s*({[^}]*)", "gi").exec(e); var o = "decimal"; if (i && i[1]) {
                            var t_477 = n.exec(i[1]);
                            t_477 && t_477[1] && (o = t_477[1].trim());
                        } return { type: "bullet" !== o && "image" !== o ? "ol" : "ul", style: o }; }(t, e);
                        o = function (t, e, n) { var i = new ki(t.type), o = e.parent.getChildIndex(e); return n.insertChild(o, i, e.parent), i; }(i_237, t.element, n);
                    } var s = function (t, e) { return function (t, e) {
                        var e_934, _j;
                        var n = new xi({ name: "span", styles: { "mso-list": "Ignore" } }), i = e.createRangeIn(t);
                        try {
                            for (var i_238 = __values(i), i_238_1 = i_238.next(); !i_238_1.done; i_238_1 = i_238.next()) {
                                var t_478 = i_238_1.value;
                                "elementStart" === t_478.type && n.match(t_478.item) && e.remove(t_478.item);
                            }
                        }
                        catch (e_934_1) { e_934 = { error: e_934_1 }; }
                        finally {
                            try {
                                if (i_238_1 && !i_238_1.done && (_j = i_238.return)) _j.call(i_238);
                            }
                            finally { if (e_934) throw e_934.error; }
                        }
                    }(t, e), e.rename("li", t); }(t.element, n); n.appendChild(s, o); }); }
                    function jv(t) { var e = {}, n = t.getStyle("mso-list"); if (n) {
                        var t_479 = n.match(/(^|\s+)l(\d+)/i), i_239 = n.match(/\s*lfo(\d+)/i), o_148 = n.match(/\s*level(\d+)/i);
                        t_479 && i_239 && o_148 && (e.id = t_479[2], e.order = i_239[1], e.indent = o_148[1]);
                    } return e; }
                    var Fv = /id=("|')docs-internal-guid-[-0-9a-f]+("|')/i;
                    var Bv = /** @class */ (function () {
                        function Bv() {
                        }
                        Bv.prototype.isActive = function (t) { return Fv.test(t); };
                        Bv.prototype.execute = function (t) { var e = new a_; !function (t, e) {
                            var e_935, _j;
                            try {
                                for (var _q = __values(t.getChildren()), _z = _q.next(); !_z.done; _z = _q.next()) {
                                    var n_357 = _z.value;
                                    if (n_357.is("b") && "normal" === n_357.getStyle("font-weight")) {
                                        var i_240 = t.getChildIndex(n_357);
                                        e.remove(n_357), e.insertChild(i_240, n_357.getChildren(), t);
                                    }
                                }
                            }
                            catch (e_935_1) { e_935 = { error: e_935_1 }; }
                            finally {
                                try {
                                    if (_z && !_z.done && (_j = _q.return)) _j.call(_q);
                                }
                                finally { if (e_935) throw e_935.error; }
                            }
                        }(t.content, e), function (t, e) {
                            var e_936, _j;
                            try {
                                for (var _q = __values(e.createRangeIn(t)), _z = _q.next(); !_z.done; _z = _q.next()) {
                                    var n_358 = _z.value;
                                    var t_480 = n_358.item;
                                    if (t_480.is("li")) {
                                        var n_359 = t_480.getChild(0);
                                        n_359.is("p") && e.unwrapElement(n_359);
                                    }
                                }
                            }
                            catch (e_936_1) { e_936 = { error: e_936_1 }; }
                            finally {
                                try {
                                    if (_z && !_z.done && (_j = _q.return)) _j.call(_q);
                                }
                                finally { if (e_936) throw e_936.error; }
                            }
                        }(t.content, e); };
                        return Bv;
                    }());
                    function Hv(t) { return t.replace(/<span(?: class="Apple-converted-space"|)>(\s+)<\/span>/g, function (t, e) { return 1 === e.length ? " " : Array(e.length + 1).join("  ").substr(0, e.length); }); }
                    function Uv(t) { var e = new DOMParser, n = function (t) { return Hv(Hv(t)).replace(/(<span\s+style=['"]mso-spacerun:yes['"]>[\s]*?)[\r\n]+(\s*<\/span>)/g, "$1$2").replace(/<span\s+style=['"]mso-spacerun:yes['"]><\/span>/g, "").replace(/ <\//g, " </").replace(/ <o:p><\/o:p>/g, " <o:p></o:p>").replace(/<o:p>(&nbsp;|\u00A0)<\/o:p>/g, "").replace(/>(\s*[\r\n]\s*)</g, "><"); }(function (t) { var e = t.match(/<\/body>(.*?)(<\/html>|$)/); e && e[1] && (t = t.slice(0, e.index) + t.slice(e.index).replace(e[1], "")); return t; }(t = t.replace(/<!--\[if gte vml 1]>/g, ""))), i = e.parseFromString(n, "text/html"); !function (t) { t.querySelectorAll("span[style*=spacerun]").forEach(function (t) { var e = t.childNodes && t.childNodes[0] && t.childNodes[0].data && t.childNodes[0].data.length || 0; t.innerHTML = Array(e + 1).join("  ").substr(0, e); }); }(i); var o = i.body.innerHTML, r = function (t) { var e = new rr({ blockFillerMode: "nbsp" }), n = t.createDocumentFragment(), i = t.body.childNodes; for (; i.length > 0;)
                        n.appendChild(i[0]); return e.domToView(n); }(i), s = function (t) {
                        var e_937, _j;
                        var e = [], n = [], i = Array.from(t.getElementsByTagName("style"));
                        try {
                            for (var i_241 = __values(i), i_241_1 = i_241.next(); !i_241_1.done; i_241_1 = i_241.next()) {
                                var t_481 = i_241_1.value;
                                t_481.sheet && t_481.sheet.cssRules && t_481.sheet.cssRules.length && (e.push(t_481.sheet), n.push(t_481.innerHTML));
                            }
                        }
                        catch (e_937_1) { e_937 = { error: e_937_1 }; }
                        finally {
                            try {
                                if (i_241_1 && !i_241_1.done && (_j = i_241.return)) _j.call(i_241);
                            }
                            finally { if (e_937) throw e_937.error; }
                        }
                        return { styles: e, stylesString: n.join(" ") };
                    }(i); return { body: r, bodyString: o, styles: s.styles, stylesString: s.stylesString }; }
                    function Wv(t, e) { if (!t.childCount)
                        return; var n = new a_; !function (t, e, n) {
                        var e_938, _j, e_939, _q;
                        var i = n.createRangeIn(e), o = new xi({ name: "img" }), r = [];
                        try {
                            for (var i_242 = __values(i), i_242_1 = i_242.next(); !i_242_1.done; i_242_1 = i_242.next()) {
                                var e_940 = i_242_1.value;
                                if (o.match(e_940.item)) {
                                    var n_360 = e_940.item, i_243 = n_360.getAttribute("v:shapes") ? n_360.getAttribute("v:shapes").split(" ") : [];
                                    i_243.length && i_243.every(function (e) { return t.indexOf(e) > -1; }) ? r.push(n_360) : n_360.getAttribute("src") || r.push(n_360);
                                }
                            }
                        }
                        catch (e_938_1) { e_938 = { error: e_938_1 }; }
                        finally {
                            try {
                                if (i_242_1 && !i_242_1.done && (_j = i_242.return)) _j.call(i_242);
                            }
                            finally { if (e_938) throw e_938.error; }
                        }
                        try {
                            for (var r_83 = __values(r), r_83_1 = r_83.next(); !r_83_1.done; r_83_1 = r_83.next()) {
                                var t_482 = r_83_1.value;
                                n.remove(t_482);
                            }
                        }
                        catch (e_939_1) { e_939 = { error: e_939_1 }; }
                        finally {
                            try {
                                if (r_83_1 && !r_83_1.done && (_q = r_83.return)) _q.call(r_83);
                            }
                            finally { if (e_939) throw e_939.error; }
                        }
                    }(function (t, e) {
                        var e_941, _j;
                        var n = e.createRangeIn(t), i = new xi({ name: /v:(.+)/ }), o = [];
                        try {
                            for (var n_361 = __values(n), n_361_1 = n_361.next(); !n_361_1.done; n_361_1 = n_361.next()) {
                                var t_483 = n_361_1.value;
                                var e_942 = t_483.item, n_362 = e_942.previousSibling && e_942.previousSibling.name || null;
                                i.match(e_942) && e_942.getAttribute("o:gfxdata") && "v:shapetype" !== n_362 && o.push(t_483.item.getAttribute("id"));
                            }
                        }
                        catch (e_941_1) { e_941 = { error: e_941_1 }; }
                        finally {
                            try {
                                if (n_361_1 && !n_361_1.done && (_j = n_361.return)) _j.call(n_361);
                            }
                            finally { if (e_941) throw e_941.error; }
                        }
                        return o;
                    }(t, n), t, n), function (t, e) {
                        var e_943, _j, e_944, _q;
                        var n = e.createRangeIn(t), i = new xi({ name: /v:(.+)/ }), o = [];
                        try {
                            for (var n_363 = __values(n), n_363_1 = n_363.next(); !n_363_1.done; n_363_1 = n_363.next()) {
                                var t_484 = n_363_1.value;
                                i.match(t_484.item) && o.push(t_484.item);
                            }
                        }
                        catch (e_943_1) { e_943 = { error: e_943_1 }; }
                        finally {
                            try {
                                if (n_363_1 && !n_363_1.done && (_j = n_363.return)) _j.call(n_363);
                            }
                            finally { if (e_943) throw e_943.error; }
                        }
                        try {
                            for (var o_149 = __values(o), o_149_1 = o_149.next(); !o_149_1.done; o_149_1 = o_149.next()) {
                                var t_485 = o_149_1.value;
                                e.remove(t_485);
                            }
                        }
                        catch (e_944_1) { e_944 = { error: e_944_1 }; }
                        finally {
                            try {
                                if (o_149_1 && !o_149_1.done && (_q = o_149.return)) _q.call(o_149);
                            }
                            finally { if (e_944) throw e_944.error; }
                        }
                    }(t, n); var i = function (t, e) {
                        var e_945, _j;
                        var n = e.createRangeIn(t), i = new xi({ name: "img" }), o = [];
                        try {
                            for (var n_364 = __values(n), n_364_1 = n_364.next(); !n_364_1.done; n_364_1 = n_364.next()) {
                                var t_486 = n_364_1.value;
                                i.match(t_486.item) && t_486.item.getAttribute("src").startsWith("file://") && o.push(t_486.item);
                            }
                        }
                        catch (e_945_1) { e_945 = { error: e_945_1 }; }
                        finally {
                            try {
                                if (n_364_1 && !n_364_1.done && (_j = n_364.return)) _j.call(n_364);
                            }
                            finally { if (e_945) throw e_945.error; }
                        }
                        return o;
                    }(t, n); i.length && function (t, e, n) { if (t.length === e.length)
                        for (var i_244 = 0; i_244 < t.length; i_244++) {
                            var o_150 = "data:" + e[i_244].type + ";base64," + qv(e[i_244].hex);
                            n.setAttribute("src", o_150, t[i_244]);
                        } }(i, function (t) {
                        var e_946, _j;
                        if (!t)
                            return [];
                        var e = /{\\pict[\s\S]+?\\bliptag-?\d+(\\blipupi-?\d+)?({\\\*\\blipuid\s?[\da-fA-F]+)?[\s}]*?/, n = new RegExp("(?:(" + e.source + "))([\\da-fA-F\\s]+)\\}", "g"), i = t.match(n), o = [];
                        if (i)
                            try {
                                for (var i_245 = __values(i), i_245_1 = i_245.next(); !i_245_1.done; i_245_1 = i_245.next()) {
                                    var t_487 = i_245_1.value;
                                    var n_365 = !1;
                                    t_487.includes("\\pngblip") ? n_365 = "image/png" : t_487.includes("\\jpegblip") && (n_365 = "image/jpeg"), n_365 && o.push({ hex: t_487.replace(e, "").replace(/[^\da-fA-F]/g, ""), type: n_365 });
                                }
                            }
                            catch (e_946_1) { e_946 = { error: e_946_1 }; }
                            finally {
                                try {
                                    if (i_245_1 && !i_245_1.done && (_j = i_245.return)) _j.call(i_245);
                                }
                                finally { if (e_946) throw e_946.error; }
                            }
                        return o;
                    }(e), n); }
                    function qv(t) { return btoa(t.match(/\w{2}/g).map(function (t) { return String.fromCharCode(parseInt(t, 16)); }).join("")); }
                    var Yv = /<meta\s*name="?generator"?\s*content="?microsoft\s*word\s*\d+"?\/?>/i, $v = /xmlns:o="urn:schemas-microsoft-com/i;
                    var Gv = /** @class */ (function () {
                        function Gv() {
                        }
                        Gv.prototype.isActive = function (t) { return Yv.test(t) || $v.test(t); };
                        Gv.prototype.execute = function (t) { var _j = Uv(t.dataTransfer.getData("text/html")), e = _j.body, n = _j.stylesString; zv(e, n), Wv(e, t.dataTransfer.getData("text/rtf")), t.content = e; };
                        return Gv;
                    }());
                    var Kv = n(62), Qv = n.n(Kv);
                    var Jv = "removeFormat";
                    var Zv = /** @class */ (function (_super) {
                        __extends(Zv, _super);
                        function Zv() {
                            return _super !== null && _super.apply(this, arguments) || this;
                        }
                        Object.defineProperty(Zv, "pluginName", {
                            get: function () { return "RemoveFormatUI"; },
                            enumerable: true,
                            configurable: true
                        });
                        Zv.prototype.init = function () {
                            var _this = this;
                            var t = this.editor, e = t.t;
                            t.ui.componentFactory.add(Jv, function (n) { var i = t.commands.get(Jv), o = new sd(n); return o.set({ label: e("bp"), icon: Qv.a, tooltip: !0 }), o.bind("isOn", "isEnabled").to(i, "value", "isEnabled"), _this.listenTo(o, "execute", function () { return t.execute(Jv); }), o; });
                        };
                        return Zv;
                    }(Ad));
                    var Xv = /** @class */ (function (_super) {
                        __extends(Xv, _super);
                        function Xv() {
                            return _super !== null && _super.apply(this, arguments) || this;
                        }
                        Xv.prototype.refresh = function () { var t = this.editor.model; this.isEnabled = !!Du(this._getFormattingItems(t.document.selection, t.schema)); };
                        Xv.prototype.execute = function () {
                            var _this = this;
                            var t = this.editor.model, e = t.schema;
                            t.change(function (n) {
                                var e_947, _j, e_948, _q, e_949, _z;
                                try {
                                    for (var _0 = __values(_this._getFormattingItems(t.document.selection, e)), _1 = _0.next(); !_1.done; _1 = _0.next()) {
                                        var i_246 = _1.value;
                                        if (i_246.is("selection"))
                                            try {
                                                for (var _2 = __values(_this._getFormattingAttributes(i_246, e)), _3 = _2.next(); !_3.done; _3 = _2.next()) {
                                                    var t_488 = _3.value;
                                                    n.removeSelectionAttribute(t_488);
                                                }
                                            }
                                            catch (e_948_1) { e_948 = { error: e_948_1 }; }
                                            finally {
                                                try {
                                                    if (_3 && !_3.done && (_q = _2.return)) _q.call(_2);
                                                }
                                                finally { if (e_948) throw e_948.error; }
                                            }
                                        else {
                                            var t_489 = n.createRangeOn(i_246);
                                            try {
                                                for (var _4 = __values(_this._getFormattingAttributes(i_246, e)), _5 = _4.next(); !_5.done; _5 = _4.next()) {
                                                    var o_151 = _5.value;
                                                    n.removeAttribute(o_151, t_489);
                                                }
                                            }
                                            catch (e_949_1) { e_949 = { error: e_949_1 }; }
                                            finally {
                                                try {
                                                    if (_5 && !_5.done && (_z = _4.return)) _z.call(_4);
                                                }
                                                finally { if (e_949) throw e_949.error; }
                                            }
                                        }
                                    }
                                }
                                catch (e_947_1) { e_947 = { error: e_947_1 }; }
                                finally {
                                    try {
                                        if (_1 && !_1.done && (_j = _0.return)) _j.call(_0);
                                    }
                                    finally { if (e_947) throw e_947.error; }
                                }
                            });
                        };
                        Xv.prototype._getFormattingItems = function (t, e) {
                            var e_950, _j, e_951, _q, n, _z, _0, e_952, _1, _2, t_490, _3, e_951_1, e_950_1, _4;
                            var _this = this;
                            return __generator(this, function (_5) {
                                switch (_5.label) {
                                    case 0:
                                        n = function (t) { return !!Du(_this._getFormattingAttributes(t, e)); };
                                        _5.label = 1;
                                    case 1:
                                        _5.trys.push([1, 13, 14, 15]);
                                        _z = __values(t.getRanges()), _0 = _z.next();
                                        _5.label = 2;
                                    case 2:
                                        if (!!_0.done) return [3 /*break*/, 12];
                                        e_952 = _0.value;
                                        _5.label = 3;
                                    case 3:
                                        _5.trys.push([3, 9, 10, 11]);
                                        _1 = __values(e_952.getItems()), _2 = _1.next();
                                        _5.label = 4;
                                    case 4:
                                        if (!!_2.done) return [3 /*break*/, 8];
                                        t_490 = _2.value;
                                        _3 = n(t_490);
                                        if (!_3) return [3 /*break*/, 6];
                                        return [4 /*yield*/, t_490];
                                    case 5:
                                        _3 = (_5.sent());
                                        _5.label = 6;
                                    case 6:
                                        _3;
                                        _5.label = 7;
                                    case 7:
                                        _2 = _1.next();
                                        return [3 /*break*/, 4];
                                    case 8: return [3 /*break*/, 11];
                                    case 9:
                                        e_951_1 = _5.sent();
                                        e_951 = { error: e_951_1 };
                                        return [3 /*break*/, 11];
                                    case 10:
                                        try {
                                            if (_2 && !_2.done && (_q = _1.return)) _q.call(_1);
                                        }
                                        finally { if (e_951) throw e_951.error; }
                                        return [7 /*endfinally*/];
                                    case 11:
                                        _0 = _z.next();
                                        return [3 /*break*/, 2];
                                    case 12: return [3 /*break*/, 15];
                                    case 13:
                                        e_950_1 = _5.sent();
                                        e_950 = { error: e_950_1 };
                                        return [3 /*break*/, 15];
                                    case 14:
                                        try {
                                            if (_0 && !_0.done && (_j = _z.return)) _j.call(_z);
                                        }
                                        finally { if (e_950) throw e_950.error; }
                                        return [7 /*endfinally*/];
                                    case 15:
                                        _4 = n(t);
                                        if (!_4) return [3 /*break*/, 17];
                                        return [4 /*yield*/, t];
                                    case 16:
                                        _4 = (_5.sent());
                                        _5.label = 17;
                                    case 17:
                                        _4;
                                        return [2 /*return*/];
                                }
                            });
                        };
                        Xv.prototype._getFormattingAttributes = function (t, e) {
                            var e_953, _j, _q, _z, _0, n_366, t_491, _1, e_953_1;
                            return __generator(this, function (_2) {
                                switch (_2.label) {
                                    case 0:
                                        _2.trys.push([0, 6, 7, 8]);
                                        _q = __values(t.getAttributes()), _z = _q.next();
                                        _2.label = 1;
                                    case 1:
                                        if (!!_z.done) return [3 /*break*/, 5];
                                        _0 = __read(_z.value, 1), n_366 = _0[0];
                                        t_491 = e.getAttributeProperties(n_366);
                                        _1 = t_491 && t_491.isFormatting;
                                        if (!_1) return [3 /*break*/, 3];
                                        return [4 /*yield*/, n_366];
                                    case 2:
                                        _1 = (_2.sent());
                                        _2.label = 3;
                                    case 3:
                                        _1;
                                        _2.label = 4;
                                    case 4:
                                        _z = _q.next();
                                        return [3 /*break*/, 1];
                                    case 5: return [3 /*break*/, 8];
                                    case 6:
                                        e_953_1 = _2.sent();
                                        e_953 = { error: e_953_1 };
                                        return [3 /*break*/, 8];
                                    case 7:
                                        try {
                                            if (_z && !_z.done && (_j = _q.return)) _j.call(_q);
                                        }
                                        finally { if (e_953) throw e_953.error; }
                                        return [7 /*endfinally*/];
                                    case 8: return [2 /*return*/];
                                }
                            });
                        };
                        return Xv;
                    }(Pd));
                    var ty = /** @class */ (function (_super) {
                        __extends(ty, _super);
                        function ty() {
                            return _super !== null && _super.apply(this, arguments) || this;
                        }
                        Object.defineProperty(ty, "pluginName", {
                            get: function () { return "RemoveFormatEditing"; },
                            enumerable: true,
                            configurable: true
                        });
                        ty.prototype.init = function () { var t = this.editor; t.commands.add("removeFormat", new Xv(t)); };
                        return ty;
                    }(Ad));
                    var ey = "strikethrough";
                    var ny = /** @class */ (function (_super) {
                        __extends(ny, _super);
                        function ny() {
                            return _super !== null && _super.apply(this, arguments) || this;
                        }
                        Object.defineProperty(ny, "pluginName", {
                            get: function () { return "StrikethroughEditing"; },
                            enumerable: true,
                            configurable: true
                        });
                        ny.prototype.init = function () { var t = this.editor; t.model.schema.extend("$text", { allowAttributes: ey }), t.model.schema.setAttributeProperties(ey, { isFormatting: !0, copyOnEnter: !0 }), t.conversion.attributeToElement({ model: ey, view: "s", upcastAlso: ["del", "strike", { styles: { "text-decoration": "line-through" } }] }), t.commands.add(ey, new _m(t, ey)), t.keystrokes.set("CTRL+SHIFT+X", "strikethrough"); };
                        return ny;
                    }(Ad));
                    var iy = n(63), oy = n.n(iy);
                    var ry = "strikethrough";
                    var sy = /** @class */ (function (_super) {
                        __extends(sy, _super);
                        function sy() {
                            return _super !== null && _super.apply(this, arguments) || this;
                        }
                        sy.prototype.init = function () {
                            var _this = this;
                            var t = this.editor, e = t.t;
                            t.ui.componentFactory.add(ry, function (n) { var i = t.commands.get(ry), o = new sd(n); return o.set({ label: e("m"), icon: oy.a, keystroke: "CTRL+SHIFT+X", tooltip: !0, isToggleable: !0 }), o.bind("isOn", "isEnabled").to(i, "value", "isEnabled"), _this.listenTo(o, "execute", function () { return t.execute(ry); }), o; });
                        };
                        return sy;
                    }(Ad));
                    function ay(t, e) { var n = e.parent; for (; n;) {
                        if (n.name === t)
                            return n;
                        n = n.parent;
                    } }
                    function cy(t, e, n, i, o) {
                        if (o === void 0) { o = 1; }
                        e > o ? i.setAttribute(t, e, n) : i.removeAttribute(t, n);
                    }
                    function ly(t, e, n) {
                        if (n === void 0) { n = {}; }
                        var i = t.createElement("tableCell", n);
                        t.insertElement("paragraph", i), t.insert(i, e);
                    }
                    function dy() { return function (t) { t.on("element:table", function (t, e, n) { var i = e.viewItem; if (!n.consumable.test(i, { name: !0 }))
                        return; var _j = function (t) {
                        var e_954, _j, e_955, _q;
                        var e = { headingRows: 0, headingColumns: 0 }, n = [], i = [];
                        var o;
                        try {
                            for (var _z = __values(Array.from(t.getChildren())), _0 = _z.next(); !_0.done; _0 = _z.next()) {
                                var r_84 = _0.value;
                                if ("tbody" === r_84.name || "thead" === r_84.name || "tfoot" === r_84.name) {
                                    "thead" !== r_84.name || o || (o = r_84);
                                    var t_493 = Array.from(r_84.getChildren()).filter(function (t) { return t.is("element", "tr"); });
                                    try {
                                        for (var t_492 = __values(t_493), t_492_1 = t_492.next(); !t_492_1.done; t_492_1 = t_492.next()) {
                                            var r_85 = t_492_1.value;
                                            if ("thead" === r_85.parent.name && r_85.parent === o)
                                                e.headingRows++, n.push(r_85);
                                            else {
                                                i.push(r_85);
                                                var t_494 = hy(r_85);
                                                t_494 > e.headingColumns && (e.headingColumns = t_494);
                                            }
                                        }
                                    }
                                    catch (e_955_1) { e_955 = { error: e_955_1 }; }
                                    finally {
                                        try {
                                            if (t_492_1 && !t_492_1.done && (_q = t_492.return)) _q.call(t_492);
                                        }
                                        finally { if (e_955) throw e_955.error; }
                                    }
                                }
                            }
                        }
                        catch (e_954_1) { e_954 = { error: e_954_1 }; }
                        finally {
                            try {
                                if (_0 && !_0.done && (_j = _z.return)) _j.call(_z);
                            }
                            finally { if (e_954) throw e_954.error; }
                        }
                        return e.rows = __spread(n, i), e;
                    }(i), o = _j.rows, r = _j.headingRows, s = _j.headingColumns, a = {}; s && (a.headingColumns = s), r && (a.headingRows = r); var c = n.writer.createElement("table", a), l = n.splitToAllowedParent(c, e.modelCursor); if (l) {
                        if (n.writer.insert(c, l.position), n.consumable.consume(i, { name: !0 }), o.length)
                            o.forEach(function (t) { return n.convertItem(t, n.writer.createPositionAt(c, "end")); });
                        else {
                            var t_495 = n.writer.createElement("tableRow");
                            n.writer.insert(t_495, n.writer.createPositionAt(c, "end")), ly(n.writer, n.writer.createPositionAt(t_495, "end"));
                        }
                        e.modelRange = n.writer.createRange(n.writer.createPositionBefore(c), n.writer.createPositionAfter(c)), l.cursorParent ? e.modelCursor = n.writer.createPositionAt(l.cursorParent, 0) : e.modelCursor = e.modelRange.end;
                    } }); }; }
                    function uy(t) { return function (e) { e.on("element:" + t, function (t, e, n) { var i = e.viewItem; if (!n.consumable.test(i, { name: !0 }))
                        return; var o = n.writer.createElement("tableCell"), r = n.splitToAllowedParent(o, e.modelCursor); if (!r)
                        return; n.writer.insert(o, r.position), n.consumable.consume(i, { name: !0 }); var s = n.writer.createPositionAt(o, 0); n.convertChildren(i, s), o.childCount || n.writer.insertElement("paragraph", s), e.modelRange = n.writer.createRange(n.writer.createPositionBefore(o), n.writer.createPositionAfter(o)), e.modelCursor = e.modelRange.end; }); }; }
                    function hy(t) { var e = 0, n = 0; var i = Array.from(t.getChildren()).filter(function (t) { return "th" === t.name || "td" === t.name; }); for (; n < i.length && "th" === i[n].name;) {
                        var t_496 = i[n];
                        e += parseInt(t_496.getAttribute("colspan") || 1), n++;
                    } return e; }
                    function my(t) { return !!t.getCustomProperty("table") && ck(t); }
                    function gy(t) { var e = t.getSelectedElement(); return e && my(e) ? e : null; }
                    function fy(t) { var e = ay("table", t.getFirstPosition()); return e && my(e.parent) ? e.parent : null; }
                    function py(t) {
                        if (t === void 0) { t = {}; }
                        return function (e) { return e.on("insert:table", function (e, n, i) {
                            var e_956, _j;
                            var o = n.item;
                            if (!i.consumable.consume(o, "insert"))
                                return;
                            i.consumable.consume(o, "attribute:headingRows:table"), i.consumable.consume(o, "attribute:headingColumns:table");
                            var r = t && t.asWidget, s = i.writer.createContainerElement("figure", { class: "table" }), a = i.writer.createContainerElement("table");
                            var c;
                            i.writer.insert(i.writer.createPositionAt(s, 0), a), r && (c = function (t, e) { return e.setCustomProperty("table", !0, t), lk(t, e, { hasSelectionHandle: !0 }); }(s, i.writer));
                            var l = new Op(o), d = { headingRows: o.getAttribute("headingRows") || 0, headingColumns: o.getAttribute("headingColumns") || 0 }, u = new Map;
                            try {
                                for (var l_10 = __values(l), l_10_1 = l_10.next(); !l_10_1.done; l_10_1 = l_10.next()) {
                                    var e_957 = l_10_1.value;
                                    var n_367 = e_957.row, r_86 = e_957.cell, s_60 = Sy(Ay(n_367, d), a, i), c_21 = o.getChild(n_367), l_11 = u.get(n_367) || Cy(c_21, n_367, s_60, i);
                                    u.set(n_367, l_11), i.consumable.consume(r_86, "insert"), yy(e_957, d, i.writer.createPositionAt(l_11, "end"), i, t);
                                }
                            }
                            catch (e_956_1) { e_956 = { error: e_956_1 }; }
                            finally {
                                try {
                                    if (l_10_1 && !l_10_1.done && (_j = l_10.return)) _j.call(l_10);
                                }
                                finally { if (e_956) throw e_956.error; }
                            }
                            var h = i.mapper.toViewPosition(n.range.start);
                            i.mapper.bindElements(o, r ? c : s), i.writer.insert(h, r ? c : s);
                        }); };
                    }
                    function xy(t) {
                        if (t === void 0) { t = {}; }
                        return function (e) { return e.on("insert:tableRow", function (e, n, i) {
                            var e_958, _j;
                            var o = n.item;
                            if (!i.consumable.consume(o, "insert"))
                                return;
                            var r = o.parent, s = Iy(i.mapper.toViewElement(r)), a = r.getChildIndex(o), c = new Op(r, { startRow: a, endRow: a }), l = { headingRows: r.getAttribute("headingRows") || 0, headingColumns: r.getAttribute("headingColumns") || 0 }, d = new Map;
                            try {
                                for (var c_22 = __values(c), c_22_1 = c_22.next(); !c_22_1.done; c_22_1 = c_22.next()) {
                                    var e_959 = c_22_1.value;
                                    var n_368 = Sy(Ay(a, l), s, i), r_87 = d.get(a) || Cy(o, a, n_368, i);
                                    d.set(a, r_87), i.consumable.consume(e_959.cell, "insert"), yy(e_959, l, i.writer.createPositionAt(r_87, "end"), i, t);
                                }
                            }
                            catch (e_958_1) { e_958 = { error: e_958_1 }; }
                            finally {
                                try {
                                    if (c_22_1 && !c_22_1.done && (_j = c_22.return)) _j.call(c_22);
                                }
                                finally { if (e_958) throw e_958.error; }
                            }
                        }); };
                    }
                    function by(t) {
                        if (t === void 0) { t = {}; }
                        return function (e) { return e.on("insert:tableCell", function (e, n, i) {
                            var e_960, _j;
                            var o = n.item;
                            if (!i.consumable.consume(o, "insert"))
                                return;
                            var r = o.parent, s = r.parent, a = s.getChildIndex(r), c = new Op(s, { startRow: a, endRow: a }), l = { headingRows: s.getAttribute("headingRows") || 0, headingColumns: s.getAttribute("headingColumns") || 0 };
                            try {
                                for (var c_23 = __values(c), c_23_1 = c_23.next(); !c_23_1.done; c_23_1 = c_23.next()) {
                                    var e_961 = c_23_1.value;
                                    if (e_961.cell === o) {
                                        var n_369 = i.mapper.toViewElement(r);
                                        return void yy(e_961, l, i.writer.createPositionAt(n_369, r.getChildIndex(o)), i, t);
                                    }
                                }
                            }
                            catch (e_960_1) { e_960 = { error: e_960_1 }; }
                            finally {
                                try {
                                    if (c_23_1 && !c_23_1.done && (_j = c_23.return)) _j.call(c_23);
                                }
                                finally { if (e_960) throw e_960.error; }
                            }
                        }); };
                    }
                    function ky(t) {
                        if (t === void 0) { t = {}; }
                        var e = !!t.asWidget;
                        return function (t) { return t.on("attribute:headingRows:table", function (t, n, i) {
                            var e_962, _j, e_963, _q, e_964, _z;
                            var o = n.item;
                            if (!i.consumable.consume(n.item, t.name))
                                return;
                            var r = Iy(i.mapper.toViewElement(o)), s = n.attributeOldValue, a = n.attributeNewValue;
                            if (a > s) {
                                var t_499 = Array.from(o.getChildren()).filter(function (_j) {
                                    var t = _j.index;
                                    return c(t, s - 1, a);
                                });
                                Ey(t_499, Sy("thead", r, i), i, "end");
                                try {
                                    for (var t_497 = __values(t_499), t_497_1 = t_497.next(); !t_497_1.done; t_497_1 = t_497.next()) {
                                        var n_370 = t_497_1.value;
                                        try {
                                            for (var _0 = __values(n_370.getChildren()), _1 = _0.next(); !_1.done; _1 = _0.next()) {
                                                var t_500 = _1.value;
                                                _y(t_500, "th", i, e);
                                            }
                                        }
                                        catch (e_963_1) { e_963 = { error: e_963_1 }; }
                                        finally {
                                            try {
                                                if (_1 && !_1.done && (_q = _0.return)) _q.call(_0);
                                            }
                                            finally { if (e_963) throw e_963.error; }
                                        }
                                    }
                                }
                                catch (e_962_1) { e_962 = { error: e_962_1 }; }
                                finally {
                                    try {
                                        if (t_497_1 && !t_497_1.done && (_j = t_497.return)) _j.call(t_497);
                                    }
                                    finally { if (e_962) throw e_962.error; }
                                }
                                My("tbody", r, i);
                            }
                            else {
                                Ey(Array.from(o.getChildren()).filter(function (_j) {
                                    var t = _j.index;
                                    return c(t, a - 1, s);
                                }).reverse(), Sy("tbody", r, i), i, 0);
                                var t_501 = new Op(o, { startRow: a ? a - 1 : a, endRow: s - 1 }), n_371 = { headingRows: o.getAttribute("headingRows") || 0, headingColumns: o.getAttribute("headingColumns") || 0 };
                                try {
                                    for (var t_498 = __values(t_501), t_498_1 = t_498.next(); !t_498_1.done; t_498_1 = t_498.next()) {
                                        var o_152 = t_498_1.value;
                                        vy(o_152, n_371, i, e);
                                    }
                                }
                                catch (e_964_1) { e_964 = { error: e_964_1 }; }
                                finally {
                                    try {
                                        if (t_498_1 && !t_498_1.done && (_z = t_498.return)) _z.call(t_498);
                                    }
                                    finally { if (e_964) throw e_964.error; }
                                }
                                My("thead", r, i);
                            }
                            function c(t, e, n) { return t > e && t < n; }
                        }); };
                    }
                    function wy(t) {
                        if (t === void 0) { t = {}; }
                        var e = !!t.asWidget;
                        return function (t) { return t.on("attribute:headingColumns:table", function (t, n, i) {
                            var e_965, _j;
                            var o = n.item;
                            if (!i.consumable.consume(n.item, t.name))
                                return;
                            var r = { headingRows: o.getAttribute("headingRows") || 0, headingColumns: o.getAttribute("headingColumns") || 0 }, s = n.attributeOldValue, a = n.attributeNewValue, c = (s > a ? s : a) - 1;
                            try {
                                for (var _q = __values(new Op(o)), _z = _q.next(); !_z.done; _z = _q.next()) {
                                    var t_502 = _z.value;
                                    t_502.column > c || vy(t_502, r, i, e);
                                }
                            }
                            catch (e_965_1) { e_965 = { error: e_965_1 }; }
                            finally {
                                try {
                                    if (_z && !_z.done && (_j = _q.return)) _j.call(_q);
                                }
                                finally { if (e_965) throw e_965.error; }
                            }
                        }); };
                    }
                    function _y(t, e, n, i) { var o = n.writer, r = n.mapper.toViewElement(t); if (!r)
                        return; var s; if (i) {
                        s = uk(o.createEditableElement(e, r.getAttributes()), o), o.insert(o.createPositionAfter(r), s), o.move(o.createRangeIn(r), o.createPositionAt(s, 0)), o.remove(o.createRangeOn(r));
                    }
                    else
                        s = o.rename(e, r); n.mapper.unbindViewElement(r), n.mapper.bindElements(t, s); }
                    function vy(t, e, n, i) { var o = t.cell, r = Ty(t, e), s = n.mapper.toViewElement(o); s && s.name !== r && _y(o, r, n, i); }
                    function yy(t, e, n, i, o) { var r = o && o.asWidget, s = Ty(t, e), a = r ? uk(i.writer.createEditableElement(s), i.writer) : i.writer.createContainerElement(s), c = t.cell, l = c.getChild(0), d = 1 === c.childCount && "paragraph" === l.name; if (i.writer.insert(n, a), d && !function (t) { return !!__spread(t.getAttributeKeys()).length; }(l)) {
                        var t_503 = c.getChild(0), e_966 = i.writer.createPositionAt(a, "end");
                        if (i.consumable.consume(t_503, "insert"), o.asWidget) {
                            var n_372 = i.writer.createContainerElement("span");
                            i.mapper.bindElements(t_503, n_372), i.writer.insert(e_966, n_372), i.mapper.bindElements(c, a);
                        }
                        else
                            i.mapper.bindElements(c, a), i.mapper.bindElements(t_503, a);
                    }
                    else
                        i.mapper.bindElements(c, a); }
                    function Cy(t, e, n, i) { i.consumable.consume(t, "insert"); var o = i.writer.createContainerElement("tr"); i.mapper.bindElements(t, o); var r = t.parent.getAttribute("headingRows") || 0, s = r > 0 && e >= r ? e - r : e, a = i.writer.createPositionAt(n, s); return i.writer.insert(a, o), o; }
                    function Ty(t, e) { var n = t.row, i = t.column, o = e.headingColumns, r = e.headingRows; return r && r > n ? "th" : o && o > i ? "th" : "td"; }
                    function Ay(t, e) { return t < e.headingRows ? "thead" : "tbody"; }
                    function Sy(t, e, n) { var i = Py(t, e); return i || function (t, e, n) { var i = n.writer.createContainerElement(t), o = n.writer.createPositionAt(e, "tbody" == t ? "end" : 0); return n.writer.insert(o, i), i; }(t, e, n); }
                    function Py(t, e) {
                        var e_967, _j;
                        try {
                            for (var _q = __values(e.getChildren()), _z = _q.next(); !_z.done; _z = _q.next()) {
                                var n_373 = _z.value;
                                if (n_373.name == t)
                                    return n_373;
                            }
                        }
                        catch (e_967_1) { e_967 = { error: e_967_1 }; }
                        finally {
                            try {
                                if (_z && !_z.done && (_j = _q.return)) _j.call(_q);
                            }
                            finally { if (e_967) throw e_967.error; }
                        }
                    }
                    function My(t, e, n) { var i = Py(t, e); i && 0 === i.childCount && n.writer.remove(n.writer.createRangeOn(i)); }
                    function Ey(t, e, n, i) {
                        var e_968, _j;
                        try {
                            for (var t_504 = __values(t), t_504_1 = t_504.next(); !t_504_1.done; t_504_1 = t_504.next()) {
                                var o_153 = t_504_1.value;
                                var t_505 = n.mapper.toViewElement(o_153);
                                t_505 && n.writer.move(n.writer.createRangeOn(t_505), n.writer.createPositionAt(e, i));
                            }
                        }
                        catch (e_968_1) { e_968 = { error: e_968_1 }; }
                        finally {
                            try {
                                if (t_504_1 && !t_504_1.done && (_j = t_504.return)) _j.call(t_504);
                            }
                            finally { if (e_968) throw e_968.error; }
                        }
                    }
                    function Iy(t) {
                        var e_969, _j;
                        try {
                            for (var _q = __values(t.getChildren()), _z = _q.next(); !_z.done; _z = _q.next()) {
                                var e_970 = _z.value;
                                if ("table" === e_970.name)
                                    return e_970;
                            }
                        }
                        catch (e_969_1) { e_969 = { error: e_969_1 }; }
                        finally {
                            try {
                                if (_z && !_z.done && (_j = _q.return)) _j.call(_q);
                            }
                            finally { if (e_969) throw e_969.error; }
                        }
                    }
                    var Ny = /** @class */ (function (_super) {
                        __extends(Ny, _super);
                        function Ny() {
                            return _super !== null && _super.apply(this, arguments) || this;
                        }
                        Ny.prototype.refresh = function () { var t = this.editor.model, e = t.document.selection, n = t.schema, i = function (t) { var e = t.parent; return e === e.root ? e : e.parent; }(e.getFirstPosition()); this.isEnabled = n.checkChild(i, "table"); };
                        Ny.prototype.execute = function (t) {
                            if (t === void 0) { t = {}; }
                            var e = this.editor.model, n = e.document.selection, i = this.editor.plugins.get("TableUtils"), o = parseInt(t.rows) || 2, r = parseInt(t.columns) || 2, s = hk(n, e);
                            e.change(function (t) { var n = i.createTable(t, o, r); e.insertContent(n, s), t.setSelection(t.createPositionAt(n.getNodeByPath([0, 0, 0]), 0)); });
                        };
                        return Ny;
                    }(Pd));
                    var Ry = /** @class */ (function (_super) {
                        __extends(Ry, _super);
                        function Ry(t, e) {
                            if (e === void 0) { e = {}; }
                            var _this = this;
                            _this = _super.call(this, t) || this, _this.order = e.order || "below";
                            return _this;
                        }
                        Ry.prototype.refresh = function () { var t = ay("table", this.editor.model.document.selection.getFirstPosition()); this.isEnabled = !!t; };
                        Ry.prototype.execute = function () { var t = this.editor, e = t.model.document.selection, n = t.plugins.get("TableUtils"), i = ay("tableCell", e.getFirstPosition()).parent, o = i.parent, r = o.getChildIndex(i), s = "below" === this.order ? r + 1 : r; n.insertRows(o, { rows: 1, at: s }); };
                        return Ry;
                    }(Pd));
                    var Oy = /** @class */ (function (_super) {
                        __extends(Oy, _super);
                        function Oy(t, e) {
                            if (e === void 0) { e = {}; }
                            var _this = this;
                            _this = _super.call(this, t) || this, _this.order = e.order || "right";
                            return _this;
                        }
                        Oy.prototype.refresh = function () { var t = ay("table", this.editor.model.document.selection.getFirstPosition()); this.isEnabled = !!t; };
                        Oy.prototype.execute = function () { var t = this.editor, e = t.model.document.selection, n = t.plugins.get("TableUtils"), i = ay("tableCell", e.getFirstPosition()), o = i.parent.parent, r = n.getCellLocation(i).column, s = "right" === this.order ? r + 1 : r; n.insertColumns(o, { columns: 1, at: s }); };
                        return Oy;
                    }(Pd));
                    var Dy = /** @class */ (function (_super) {
                        __extends(Dy, _super);
                        function Dy(t, e) {
                            if (e === void 0) { e = {}; }
                            var _this = this;
                            _this = _super.call(this, t) || this, _this.direction = e.direction || "horizontally";
                            return _this;
                        }
                        Dy.prototype.refresh = function () { var t = ay("tableCell", this.editor.model.document.selection.getFirstPosition()); this.isEnabled = !!t; };
                        Dy.prototype.execute = function () { var t = ay("tableCell", this.editor.model.document.selection.getFirstPosition()), e = "horizontally" === this.direction, n = this.editor.plugins.get("TableUtils"); e ? n.splitCellHorizontally(t, 2) : n.splitCellVertically(t, 2); };
                        return Dy;
                    }(Pd));
                    var Ly = /** @class */ (function (_super) {
                        __extends(Ly, _super);
                        function Ly(t, e) {
                            var _this = this;
                            _this = _super.call(this, t) || this, _this.direction = e.direction, _this.isHorizontal = "right" == _this.direction || "left" == _this.direction;
                            return _this;
                        }
                        Ly.prototype.refresh = function () { var t = this._getMergeableCell(); this.value = t, this.isEnabled = !!t; };
                        Ly.prototype.execute = function () {
                            var _this = this;
                            var t = this.editor.model, e = ay("tableCell", t.document.selection.getFirstPosition()), n = this.value, i = this.direction;
                            t.change(function (t) { var o = "right" == i || "down" == i, r = o ? e : n, s = o ? n : e, a = s.parent; !function (t, e, n) { Vy(t) || (Vy(e) && n.remove(n.createRangeIn(e)), n.move(n.createRangeIn(t), n.createPositionAt(e, "end"))); n.remove(t); }(s, r, t); var c = _this.isHorizontal ? "colspan" : "rowspan", l = parseInt(e.getAttribute(c) || 1), d = parseInt(n.getAttribute(c) || 1); t.setAttribute(c, l + d, r), t.setSelection(t.createRangeIn(r)), a.childCount || function (t, e) {
                                var e_971, _j;
                                var n = t.parent, i = n.getChildIndex(t);
                                try {
                                    for (var _q = __values(new Op(n, { endRow: i })), _z = _q.next(); !_z.done; _z = _q.next()) {
                                        var _0 = _z.value, t_506 = _0.cell, o_154 = _0.row, r_88 = _0.rowspan;
                                        var n_374 = o_154 + r_88 - 1 >= i;
                                        n_374 && cy("rowspan", r_88 - 1, t_506, e);
                                    }
                                }
                                catch (e_971_1) { e_971 = { error: e_971_1 }; }
                                finally {
                                    try {
                                        if (_z && !_z.done && (_j = _q.return)) _j.call(_q);
                                    }
                                    finally { if (e_971) throw e_971.error; }
                                }
                                e.remove(t);
                            }(a, t); });
                        };
                        Ly.prototype._getMergeableCell = function () { var t = ay("tableCell", this.editor.model.document.selection.getFirstPosition()); if (!t)
                            return; var e = this.editor.plugins.get("TableUtils"), n = this.isHorizontal ? function (t, e, n) { var i = t.parent.parent, o = "right" == e ? t.nextSibling : t.previousSibling, r = i.getAttribute("headingColumns") || 0; if (!o)
                            return; var s = "right" == e ? t : o, a = "right" == e ? o : t, c = n.getCellLocation(s).column, l = n.getCellLocation(a).column, d = parseInt(s.getAttribute("colspan") || 1), u = parseInt(a.getAttribute("colspan") || 1); if (r && ("right" == e && l + u > r || "left" == e && c + d > r - 1))
                            return; return c + d === l ? o : void 0; }(t, this.direction, e) : function (t, e) { var n = t.parent, i = n.parent, o = i.getChildIndex(n); if ("down" == e && o === i.childCount - 1 || "up" == e && 0 === o)
                            return; var r = parseInt(t.getAttribute("rowspan") || 1), s = i.getAttribute("headingRows") || 0; if (s && ("down" == e && o + r === s || "up" == e && o === s))
                            return; var a = parseInt(t.getAttribute("rowspan") || 1), c = "down" == e ? o + a : o, l = __spread(new Op(i, { endRow: c })), d = l.find(function (e) { return e.cell === t; }).column, u = l.find(function (_j) {
                            var t = _j.row, n = _j.rowspan, i = _j.column;
                            return i === d && ("down" == e ? t === c : c === t + n);
                        }); return u && u.cell; }(t, this.direction); if (!n)
                            return; var i = this.isHorizontal ? "rowspan" : "colspan", o = parseInt(t.getAttribute(i) || 1); return parseInt(n.getAttribute(i) || 1) === o ? n : void 0; };
                        return Ly;
                    }(Pd));
                    function Vy(t) { return 1 == t.childCount && t.getChild(0).is("paragraph") && t.getChild(0).isEmpty; }
                    var zy = /** @class */ (function (_super) {
                        __extends(zy, _super);
                        function zy() {
                            return _super !== null && _super.apply(this, arguments) || this;
                        }
                        zy.prototype.refresh = function () { var t = ay("tableCell", this.editor.model.document.selection.getFirstPosition()); this.isEnabled = !!t && t.parent.parent.childCount > 1; };
                        zy.prototype.execute = function () { var t = this.editor.model, e = ay("tableCell", t.document.selection.getFirstPosition()).parent, n = e.parent, i = n.getChildIndex(e), o = n.getAttribute("headingRows") || 0; t.change(function (t) {
                            var e_972, _j;
                            o && i <= o && cy("headingRows", o - 1, n, t, 0);
                            var r = __spread(new Op(n, { endRow: i })), s = new Map;
                            r.filter(function (_j) {
                                var t = _j.row, e = _j.rowspan;
                                return t === i && e > 1;
                            }).forEach(function (_j) {
                                var t = _j.column, e = _j.cell, n = _j.rowspan;
                                return s.set(t, { cell: e, rowspanToSet: n - 1 });
                            }), r.filter(function (_j) {
                                var t = _j.row, e = _j.rowspan;
                                return t <= i - 1 && t + e > i;
                            }).forEach(function (_j) {
                                var e = _j.cell, n = _j.rowspan;
                                return cy("rowspan", n - 1, e, t);
                            });
                            var a = i + 1, c = new Op(n, { includeSpanned: !0, startRow: a, endRow: a });
                            var l;
                            try {
                                for (var _q = __values(__spread(c)), _z = _q.next(); !_z.done; _z = _q.next()) {
                                    var _0 = _z.value, e_973 = _0.row, i_247 = _0.column, o_155 = _0.cell;
                                    if (s.has(i_247)) {
                                        var _1 = s.get(i_247), o_156 = _1.cell, r_89 = _1.rowspanToSet, a_33 = l ? t.createPositionAfter(l) : t.createPositionAt(n.getChild(e_973), 0);
                                        t.move(t.createRangeOn(o_156), a_33), cy("rowspan", r_89, o_156, t), l = o_156;
                                    }
                                    else
                                        l = o_155;
                                }
                            }
                            catch (e_972_1) { e_972 = { error: e_972_1 }; }
                            finally {
                                try {
                                    if (_z && !_z.done && (_j = _q.return)) _j.call(_q);
                                }
                                finally { if (e_972) throw e_972.error; }
                            }
                            t.remove(e);
                        }); };
                        return zy;
                    }(Pd));
                    var jy = /** @class */ (function (_super) {
                        __extends(jy, _super);
                        function jy() {
                            return _super !== null && _super.apply(this, arguments) || this;
                        }
                        jy.prototype.refresh = function () { var t = this.editor, e = t.model.document.selection, n = t.plugins.get("TableUtils"), i = ay("tableCell", e.getFirstPosition()); this.isEnabled = !!i && n.getColumns(i.parent.parent) > 1; };
                        jy.prototype.execute = function () { var t = this.editor.model, e = ay("tableCell", t.document.selection.getFirstPosition()), n = e.parent, i = n.parent, o = i.getAttribute("headingColumns") || 0, r = i.getChildIndex(n), s = __spread(new Op(i)), a = s.find(function (t) { return t.cell === e; }).column; t.change(function (t) {
                            var e_974, _j;
                            o && r <= o && t.setAttribute("headingColumns", o - 1, i);
                            try {
                                for (var s_61 = __values(s), s_61_1 = s_61.next(); !s_61_1.done; s_61_1 = s_61.next()) {
                                    var _q = s_61_1.value, e_975 = _q.cell, n_375 = _q.column, i_248 = _q.colspan;
                                    n_375 <= a && i_248 > 1 && n_375 + i_248 > a ? cy("colspan", i_248 - 1, e_975, t) : n_375 === a && t.remove(e_975);
                                }
                            }
                            catch (e_974_1) { e_974 = { error: e_974_1 }; }
                            finally {
                                try {
                                    if (s_61_1 && !s_61_1.done && (_j = s_61.return)) _j.call(s_61);
                                }
                                finally { if (e_974) throw e_974.error; }
                            }
                        }); };
                        return jy;
                    }(Pd));
                    var Fy = /** @class */ (function (_super) {
                        __extends(Fy, _super);
                        function Fy() {
                            return _super !== null && _super.apply(this, arguments) || this;
                        }
                        Fy.prototype.refresh = function () { var t = ay("tableCell", this.editor.model.document.selection.getFirstPosition()), e = !!t; this.isEnabled = e, this.value = e && this._isInHeading(t, t.parent.parent); };
                        Fy.prototype.execute = function (t) {
                            if (t === void 0) { t = {}; }
                            var e = this.editor.model, n = ay("tableCell", e.document.selection.getFirstPosition()).parent, i = n.parent, o = i.getAttribute("headingRows") || 0, r = n.index;
                            if (t.forceValue === this.value)
                                return;
                            var s = this.value ? r : r + 1;
                            e.change(function (t) {
                                var e_976, _j;
                                if (s) {
                                    var e_978 = function (t, e, n) {
                                        var e_979, _j;
                                        var i = [], o = new Op(t, { startRow: e > n ? n : 0, endRow: e - 1 });
                                        try {
                                            for (var o_157 = __values(o), o_157_1 = o_157.next(); !o_157_1.done; o_157_1 = o_157.next()) {
                                                var _q = o_157_1.value, t_507 = _q.row, n_376 = _q.rowspan, r_90 = _q.cell;
                                                n_376 > 1 && t_507 + n_376 > e && i.push(r_90);
                                            }
                                        }
                                        catch (e_979_1) { e_979 = { error: e_979_1 }; }
                                        finally {
                                            try {
                                                if (o_157_1 && !o_157_1.done && (_j = o_157.return)) _j.call(o_157);
                                            }
                                            finally { if (e_979) throw e_979.error; }
                                        }
                                        return i;
                                    }(i, s, o);
                                    try {
                                        for (var e_977 = __values(e_978), e_977_1 = e_977.next(); !e_977_1.done; e_977_1 = e_977.next()) {
                                            var n_377 = e_977_1.value;
                                            By(n_377, s, t);
                                        }
                                    }
                                    catch (e_976_1) { e_976 = { error: e_976_1 }; }
                                    finally {
                                        try {
                                            if (e_977_1 && !e_977_1.done && (_j = e_977.return)) _j.call(e_977);
                                        }
                                        finally { if (e_976) throw e_976.error; }
                                    }
                                }
                                cy("headingRows", s, i, t, 0);
                            });
                        };
                        Fy.prototype._isInHeading = function (t, e) { var n = parseInt(e.getAttribute("headingRows") || 0); return !!n && t.parent.index < n; };
                        return Fy;
                    }(Pd));
                    function By(t, e, n) {
                        var e_980, _j;
                        var i = t.parent, o = i.parent, r = e - i.index, s = {}, a = parseInt(t.getAttribute("rowspan")) - r;
                        a > 1 && (s.rowspan = a);
                        var c = parseInt(t.getAttribute("colspan") || 1);
                        c > 1 && (s.colspan = c);
                        var l = o.getChildIndex(i), d = l + r, u = __spread(new Op(o, { startRow: l, endRow: d, includeSpanned: !0 }));
                        var h;
                        try {
                            for (var u_7 = __values(u), u_7_1 = u_7.next(); !u_7_1.done; u_7_1 = u_7.next()) {
                                var _q = u_7_1.value, e_981 = _q.row, i_249 = _q.column, r_91 = _q.cell, a_34 = _q.cellIndex;
                                if (r_91 === t && void 0 === h && (h = i_249), void 0 !== h && h === i_249 && e_981 === d) {
                                    var t_508 = o.getChild(e_981);
                                    ly(n, n.createPositionAt(t_508, a_34), s);
                                }
                            }
                        }
                        catch (e_980_1) { e_980 = { error: e_980_1 }; }
                        finally {
                            try {
                                if (u_7_1 && !u_7_1.done && (_j = u_7.return)) _j.call(u_7);
                            }
                            finally { if (e_980) throw e_980.error; }
                        }
                        cy("rowspan", r, t, n);
                    }
                    var Hy = /** @class */ (function (_super) {
                        __extends(Hy, _super);
                        function Hy() {
                            return _super !== null && _super.apply(this, arguments) || this;
                        }
                        Hy.prototype.refresh = function () { var t = ay("tableCell", this.editor.model.document.selection.getFirstPosition()), e = !!t; this.isEnabled = e, this.value = e && this._isInHeading(t, t.parent.parent); };
                        Hy.prototype.execute = function (t) {
                            if (t === void 0) { t = {}; }
                            var e = this.editor.model, n = e.document.selection, i = this.editor.plugins.get("TableUtils"), o = ay("tableCell", n.getFirstPosition()), r = o.parent.parent, s = i.getCellLocation(o).column;
                            if (t.forceValue === this.value)
                                return;
                            var a = this.value ? s : s + 1;
                            e.change(function (t) { cy("headingColumns", a, r, t, 0); });
                        };
                        Hy.prototype._isInHeading = function (t, e) { var n = parseInt(e.getAttribute("headingColumns") || 0), i = this.editor.plugins.get("TableUtils"), o = i.getCellLocation(t).column; return !!n && o < n; };
                        return Hy;
                    }(Pd));
                    var Uy = /** @class */ (function (_super) {
                        __extends(Uy, _super);
                        function Uy() {
                            return _super !== null && _super.apply(this, arguments) || this;
                        }
                        Object.defineProperty(Uy, "pluginName", {
                            get: function () { return "TableUtils"; },
                            enumerable: true,
                            configurable: true
                        });
                        Uy.prototype.getCellLocation = function (t) {
                            var e_982, _j;
                            var e = t.parent, n = e.parent, i = n.getChildIndex(e), o = new Op(n, { startRow: i, endRow: i });
                            try {
                                for (var o_158 = __values(o), o_158_1 = o_158.next(); !o_158_1.done; o_158_1 = o_158.next()) {
                                    var _q = o_158_1.value, e_983 = _q.cell, n_378 = _q.row, i_250 = _q.column;
                                    if (e_983 === t)
                                        return { row: n_378, column: i_250 };
                                }
                            }
                            catch (e_982_1) { e_982 = { error: e_982_1 }; }
                            finally {
                                try {
                                    if (o_158_1 && !o_158_1.done && (_j = o_158.return)) _j.call(o_158);
                                }
                                finally { if (e_982) throw e_982.error; }
                            }
                        };
                        Uy.prototype.createTable = function (t, e, n) { var i = t.createElement("table"); return Wy(t, i, 0, e, n), i; };
                        Uy.prototype.insertRows = function (t, e) {
                            var _this = this;
                            if (e === void 0) { e = {}; }
                            var n = this.editor.model, i = e.at || 0, o = e.rows || 1;
                            n.change(function (e) {
                                var e_984, _j;
                                var n = t.getAttribute("headingRows") || 0;
                                if (n > i && e.setAttribute("headingRows", n + o, t), 0 === i || i === t.childCount)
                                    return void Wy(e, t, i, o, _this.getColumns(t));
                                var r = new Op(t, { endRow: i });
                                var s = 0;
                                try {
                                    for (var r_92 = __values(r), r_92_1 = r_92.next(); !r_92_1.done; r_92_1 = r_92.next()) {
                                        var _q = r_92_1.value, t_509 = _q.row, n_379 = _q.rowspan, a_35 = _q.colspan, c_24 = _q.cell;
                                        t_509 < i && t_509 + n_379 > i && e.setAttribute("rowspan", n_379 + o, c_24), t_509 === i && (s += a_35);
                                    }
                                }
                                catch (e_984_1) { e_984 = { error: e_984_1 }; }
                                finally {
                                    try {
                                        if (r_92_1 && !r_92_1.done && (_j = r_92.return)) _j.call(r_92);
                                    }
                                    finally { if (e_984) throw e_984.error; }
                                }
                                Wy(e, t, i, o, s);
                            });
                        };
                        Uy.prototype.insertColumns = function (t, e) {
                            var _this = this;
                            if (e === void 0) { e = {}; }
                            var n = this.editor.model, i = e.at || 0, o = e.columns || 1;
                            n.change(function (e) {
                                var e_985, _j, e_986, _q;
                                var n = t.getAttribute("headingColumns");
                                i < n && e.setAttribute("headingColumns", n + o, t);
                                var r = _this.getColumns(t);
                                if (0 === i || r === i) {
                                    try {
                                        for (var _z = __values(t.getChildren()), _0 = _z.next(); !_0.done; _0 = _z.next()) {
                                            var n_380 = _0.value;
                                            qy(o, e, e.createPositionAt(n_380, i ? "end" : 0));
                                        }
                                    }
                                    catch (e_985_1) { e_985 = { error: e_985_1 }; }
                                    finally {
                                        try {
                                            if (_0 && !_0.done && (_j = _z.return)) _j.call(_z);
                                        }
                                        finally { if (e_985) throw e_985.error; }
                                    }
                                    return;
                                }
                                var s = new Op(t, { column: i, includeSpanned: !0 });
                                try {
                                    for (var s_62 = __values(s), s_62_1 = s_62.next(); !s_62_1.done; s_62_1 = s_62.next()) {
                                        var _1 = s_62_1.value, n_381 = _1.row, r_93 = _1.cell, a_36 = _1.cellIndex;
                                        var c_25 = parseInt(r_93.getAttribute("rowspan") || 1), l_12 = parseInt(r_93.getAttribute("colspan") || 1);
                                        if (r_93.index !== i && l_12 > 1) {
                                            if (e.setAttribute("colspan", l_12 + o, r_93), s.skipRow(n_381), c_25 > 1)
                                                for (var t_510 = n_381 + 1; t_510 < n_381 + c_25; t_510++)
                                                    s.skipRow(t_510);
                                        }
                                        else {
                                            var i_251 = e.createPositionAt(t.getChild(n_381), a_36);
                                            qy(o, e, i_251);
                                        }
                                    }
                                }
                                catch (e_986_1) { e_986 = { error: e_986_1 }; }
                                finally {
                                    try {
                                        if (s_62_1 && !s_62_1.done && (_q = s_62.return)) _q.call(s_62);
                                    }
                                    finally { if (e_986) throw e_986.error; }
                                }
                            });
                        };
                        Uy.prototype.splitCellVertically = function (t, e) {
                            if (e === void 0) { e = 2; }
                            var n = this.editor.model, i = t.parent.parent, o = parseInt(t.getAttribute("rowspan") || 1), r = parseInt(t.getAttribute("colspan") || 1);
                            n.change(function (n) {
                                var e_987, _j;
                                if (r > 1) {
                                    var _q = Yy(r, e), i_252 = _q.newCellsSpan, s_63 = _q.updatedSpan;
                                    cy("colspan", s_63, t, n);
                                    var a_37 = {};
                                    i_252 > 1 && (a_37.colspan = i_252), o > 1 && (a_37.rowspan = o), qy(r > e ? e - 1 : r - 1, n, n.createPositionAfter(t), a_37);
                                }
                                if (r < e) {
                                    var s_64 = e - r, a_38 = __spread(new Op(i)), c_26 = a_38.find(function (_j) {
                                        var e = _j.cell;
                                        return e === t;
                                    }).column, l_14 = a_38.filter(function (_j) {
                                        var e = _j.cell, n = _j.colspan, i = _j.column;
                                        return e !== t && i === c_26 || i < c_26 && i + n > c_26;
                                    });
                                    try {
                                        for (var l_13 = __values(l_14), l_13_1 = l_13.next(); !l_13_1.done; l_13_1 = l_13.next()) {
                                            var _z = l_13_1.value, t_511 = _z.cell, e_988 = _z.colspan;
                                            n.setAttribute("colspan", e_988 + s_64, t_511);
                                        }
                                    }
                                    catch (e_987_1) { e_987 = { error: e_987_1 }; }
                                    finally {
                                        try {
                                            if (l_13_1 && !l_13_1.done && (_j = l_13.return)) _j.call(l_13);
                                        }
                                        finally { if (e_987) throw e_987.error; }
                                    }
                                    var d_8 = {};
                                    o > 1 && (d_8.rowspan = o), qy(s_64, n, n.createPositionAfter(t), d_8);
                                    var u_8 = i.getAttribute("headingColumns") || 0;
                                    u_8 > c_26 && cy("headingColumns", u_8 + s_64, i, n);
                                }
                            });
                        };
                        Uy.prototype.splitCellHorizontally = function (t, e) {
                            if (e === void 0) { e = 2; }
                            var n = this.editor.model, i = t.parent, o = i.parent, r = o.getChildIndex(i), s = parseInt(t.getAttribute("rowspan") || 1), a = parseInt(t.getAttribute("colspan") || 1);
                            n.change(function (n) {
                                var e_989, _j, e_990, _q;
                                if (s > 1) {
                                    var i_254 = __spread(new Op(o, { startRow: r, endRow: r + s - 1, includeSpanned: !0 })), _z = Yy(s, e), c_28 = _z.newCellsSpan, l_15 = _z.updatedSpan;
                                    cy("rowspan", l_15, t, n);
                                    var d_9 = i_254.find(function (_j) {
                                        var e = _j.cell;
                                        return e === t;
                                    }).column, u_9 = {};
                                    c_28 > 1 && (u_9.rowspan = c_28), a > 1 && (u_9.colspan = a);
                                    try {
                                        for (var i_253 = __values(i_254), i_253_1 = i_253.next(); !i_253_1.done; i_253_1 = i_253.next()) {
                                            var _0 = i_253_1.value, t_512 = _0.column, e_991 = _0.row, s_65 = _0.cellIndex;
                                            if (e_991 >= r + l_15 && t_512 === d_9 && (e_991 + r + l_15) % c_28 == 0) {
                                                qy(1, n, n.createPositionAt(o.getChild(e_991), s_65), u_9);
                                            }
                                        }
                                    }
                                    catch (e_989_1) { e_989 = { error: e_989_1 }; }
                                    finally {
                                        try {
                                            if (i_253_1 && !i_253_1.done && (_j = i_253.return)) _j.call(i_253);
                                        }
                                        finally { if (e_989) throw e_989.error; }
                                    }
                                }
                                if (s < e) {
                                    var i_255 = e - s, c_29 = __spread(new Op(o, { startRow: 0, endRow: r }));
                                    try {
                                        for (var c_27 = __values(c_29), c_27_1 = c_27.next(); !c_27_1.done; c_27_1 = c_27.next()) {
                                            var _1 = c_27_1.value, e_992 = _1.cell, o_159 = _1.rowspan, s_66 = _1.row;
                                            if (e_992 !== t && s_66 + o_159 > r) {
                                                var t_513 = o_159 + i_255;
                                                n.setAttribute("rowspan", t_513, e_992);
                                            }
                                        }
                                    }
                                    catch (e_990_1) { e_990 = { error: e_990_1 }; }
                                    finally {
                                        try {
                                            if (c_27_1 && !c_27_1.done && (_q = c_27.return)) _q.call(c_27);
                                        }
                                        finally { if (e_990) throw e_990.error; }
                                    }
                                    var l_16 = {};
                                    a > 1 && (l_16.colspan = a), Wy(n, o, r + 1, i_255, 1, l_16);
                                    var d_10 = o.getAttribute("headingRows") || 0;
                                    d_10 > r && cy("headingRows", d_10 + i_255, o, n);
                                }
                            });
                        };
                        Uy.prototype.getColumns = function (t) { return __spread(t.getChild(0).getChildren()).reduce(function (t, e) { return t + parseInt(e.getAttribute("colspan") || 1); }, 0); };
                        return Uy;
                    }(Ad));
                    function Wy(t, e, n, i, o, r) {
                        if (r === void 0) { r = {}; }
                        for (var s_67 = 0; s_67 < i; s_67++) {
                            var i_256 = t.createElement("tableRow");
                            t.insert(i_256, e, n), qy(o, t, t.createPositionAt(i_256, "end"), r);
                        }
                    }
                    function qy(t, e, n, i) {
                        if (i === void 0) { i = {}; }
                        for (var o_160 = 0; o_160 < t; o_160++)
                            ly(e, n, i);
                    }
                    function Yy(t, e) { if (t < e)
                        return { newCellsSpan: 1, updatedSpan: 1 }; var n = Math.floor(t / e); return { newCellsSpan: n, updatedSpan: t - n * e + n }; }
                    function $y(t) { t.document.registerPostFixer(function (e) { return (function (t, e) {
                        var e_993, _j;
                        var n = e.document.differ.getChanges();
                        var i = !1;
                        var o = new Set;
                        try {
                            for (var n_382 = __values(n), n_382_1 = n_382.next(); !n_382_1.done; n_382_1 = n_382.next()) {
                                var e_994 = n_382_1.value;
                                var n_383 = void 0;
                                "table" == e_994.name && "insert" == e_994.type && (n_383 = e_994.position.nodeAfter), "tableRow" != e_994.name && "tableCell" != e_994.name || (n_383 = ay("table", e_994.position)), Qy(e_994) && (n_383 = ay("table", e_994.range.start)), n_383 && !o.has(n_383) && (i = Gy(n_383, t) || i, i = Ky(n_383, t) || i, o.add(n_383));
                            }
                        }
                        catch (e_993_1) { e_993 = { error: e_993_1 }; }
                        finally {
                            try {
                                if (n_382_1 && !n_382_1.done && (_j = n_382.return)) _j.call(n_382);
                            }
                            finally { if (e_993) throw e_993.error; }
                        }
                        return i;
                    })(e, t); }); }
                    function Gy(t, e) {
                        var e_995, _j;
                        var n = !1;
                        var i = function (t) {
                            var e_996, _j;
                            var e = parseInt(t.getAttribute("headingRows") || 0), n = t.childCount, i = [];
                            try {
                                for (var _q = __values(new Op(t)), _z = _q.next(); !_z.done; _z = _q.next()) {
                                    var _0 = _z.value, o_161 = _0.row, r_94 = _0.rowspan, s_68 = _0.cell;
                                    if (r_94 < 2)
                                        continue;
                                    var t_514 = o_161 < e, a_39 = t_514 ? e : n;
                                    if (o_161 + r_94 > a_39) {
                                        var t_515 = a_39 - o_161;
                                        i.push({ cell: s_68, rowspan: t_515 });
                                    }
                                }
                            }
                            catch (e_996_1) { e_996 = { error: e_996_1 }; }
                            finally {
                                try {
                                    if (_z && !_z.done && (_j = _q.return)) _j.call(_q);
                                }
                                finally { if (e_996) throw e_996.error; }
                            }
                            return i;
                        }(t);
                        if (i.length) {
                            n = !0;
                            try {
                                for (var i_257 = __values(i), i_257_1 = i_257.next(); !i_257_1.done; i_257_1 = i_257.next()) {
                                    var t_516 = i_257_1.value;
                                    cy("rowspan", t_516.rowspan, t_516.cell, e, 1);
                                }
                            }
                            catch (e_995_1) { e_995 = { error: e_995_1 }; }
                            finally {
                                try {
                                    if (i_257_1 && !i_257_1.done && (_j = i_257.return)) _j.call(i_257);
                                }
                                finally { if (e_995) throw e_995.error; }
                            }
                        }
                        return n;
                    }
                    function Ky(t, e) {
                        var e_997, _j;
                        var n = !1;
                        var i = function (t) {
                            var e_998, _j;
                            var e = {};
                            try {
                                for (var _q = __values(new Op(t, { includeSpanned: !0 })), _z = _q.next(); !_z.done; _z = _q.next()) {
                                    var n_384 = _z.value.row;
                                    e[n_384] || (e[n_384] = 0), e[n_384] += 1;
                                }
                            }
                            catch (e_998_1) { e_998 = { error: e_998_1 }; }
                            finally {
                                try {
                                    if (_z && !_z.done && (_j = _q.return)) _j.call(_q);
                                }
                                finally { if (e_998) throw e_998.error; }
                            }
                            return e;
                        }(t), o = i[0];
                        if (!Object.values(i).every(function (t) { return t === o; })) {
                            var o_162 = Object.values(i).reduce(function (t, e) { return e > t ? e : t; }, 0);
                            try {
                                for (var _q = __values(Object.entries(i)), _z = _q.next(); !_z.done; _z = _q.next()) {
                                    var _0 = __read(_z.value, 2), r_95 = _0[0], s_69 = _0[1];
                                    var i_258 = o_162 - s_69;
                                    if (i_258) {
                                        for (var n_385 = 0; n_385 < i_258; n_385++)
                                            ly(e, e.createPositionAt(t.getChild(r_95), "end"));
                                        n = !0;
                                    }
                                }
                            }
                            catch (e_997_1) { e_997 = { error: e_997_1 }; }
                            finally {
                                try {
                                    if (_z && !_z.done && (_j = _q.return)) _j.call(_q);
                                }
                                finally { if (e_997) throw e_997.error; }
                            }
                        }
                        return n;
                    }
                    function Qy(t) { var e = "attribute" === t.type, n = t.attributeKey; return e && ("headingRows" === n || "colspan" === n || "rowspan" === n); }
                    function Jy(t) { t.document.registerPostFixer(function (e) { return (function (t, e) {
                        var e_999, _j;
                        var n = e.document.differ.getChanges();
                        var i = !1;
                        try {
                            for (var n_386 = __values(n), n_386_1 = n_386.next(); !n_386_1.done; n_386_1 = n_386.next()) {
                                var e_1000 = n_386_1.value;
                                "insert" == e_1000.type && "table" == e_1000.name && (i = Zy(e_1000.position.nodeAfter, t) || i), "insert" == e_1000.type && "tableRow" == e_1000.name && (i = Xy(e_1000.position.nodeAfter, t) || i), "insert" == e_1000.type && "tableCell" == e_1000.name && (i = tC(e_1000.position.nodeAfter, t) || i), eC(e_1000) && (i = tC(e_1000.position.parent, t) || i);
                            }
                        }
                        catch (e_999_1) { e_999 = { error: e_999_1 }; }
                        finally {
                            try {
                                if (n_386_1 && !n_386_1.done && (_j = n_386.return)) _j.call(n_386);
                            }
                            finally { if (e_999) throw e_999.error; }
                        }
                        return i;
                    })(e, t); }); }
                    function Zy(t, e) {
                        var e_1001, _j;
                        var n = !1;
                        try {
                            for (var _q = __values(t.getChildren()), _z = _q.next(); !_z.done; _z = _q.next()) {
                                var i_259 = _z.value;
                                n = Xy(i_259, e) || n;
                            }
                        }
                        catch (e_1001_1) { e_1001 = { error: e_1001_1 }; }
                        finally {
                            try {
                                if (_z && !_z.done && (_j = _q.return)) _j.call(_q);
                            }
                            finally { if (e_1001) throw e_1001.error; }
                        }
                        return n;
                    }
                    function Xy(t, e) {
                        var e_1002, _j;
                        var n = !1;
                        try {
                            for (var _q = __values(t.getChildren()), _z = _q.next(); !_z.done; _z = _q.next()) {
                                var i_260 = _z.value;
                                n = tC(i_260, e) || n;
                            }
                        }
                        catch (e_1002_1) { e_1002 = { error: e_1002_1 }; }
                        finally {
                            try {
                                if (_z && !_z.done && (_j = _q.return)) _j.call(_q);
                            }
                            finally { if (e_1002) throw e_1002.error; }
                        }
                        return n;
                    }
                    function tC(t, e) {
                        var e_1003, _j;
                        if (0 == t.childCount)
                            return e.insertElement("paragraph", t), !0;
                        var n = Array.from(t.getChildren()).filter(function (t) { return t.is("text"); });
                        try {
                            for (var n_387 = __values(n), n_387_1 = n_387.next(); !n_387_1.done; n_387_1 = n_387.next()) {
                                var t_517 = n_387_1.value;
                                e.wrap(e.createRangeOn(t_517), "paragraph");
                            }
                        }
                        catch (e_1003_1) { e_1003 = { error: e_1003_1 }; }
                        finally {
                            try {
                                if (n_387_1 && !n_387_1.done && (_j = n_387.return)) _j.call(n_387);
                            }
                            finally { if (e_1003) throw e_1003.error; }
                        }
                        return !!n.length;
                    }
                    function eC(t) { return !(!t.position || !t.position.parent.is("tableCell")) && ("insert" == t.type && "$text" == t.name || "remove" == t.type); }
                    function nC(t) { t.document.registerPostFixer(function () { return (function (t) {
                        var e_1004, _j, e_1005, _q;
                        var e = t.document.differ, n = new Set;
                        try {
                            for (var _z = __values(e.getChanges()), _0 = _z.next(); !_0.done; _0 = _z.next()) {
                                var t_518 = _0.value;
                                var e_1006 = "insert" == t_518.type || "remove" == t_518.type ? t_518.position.parent : t_518.range.start.parent;
                                e_1006.is("tableCell") && iC(e_1006, t_518.type) && n.add(e_1006);
                            }
                        }
                        catch (e_1004_1) { e_1004 = { error: e_1004_1 }; }
                        finally {
                            try {
                                if (_0 && !_0.done && (_j = _z.return)) _j.call(_z);
                            }
                            finally { if (e_1004) throw e_1004.error; }
                        }
                        if (n.size) {
                            try {
                                for (var _1 = __values(n.values()), _2 = _1.next(); !_2.done; _2 = _1.next()) {
                                    var t_519 = _2.value;
                                    e.refreshItem(t_519);
                                }
                            }
                            catch (e_1005_1) { e_1005 = { error: e_1005_1 }; }
                            finally {
                                try {
                                    if (_2 && !_2.done && (_q = _1.return)) _q.call(_1);
                                }
                                finally { if (e_1005) throw e_1005.error; }
                            }
                            return !0;
                        }
                        return !1;
                    })(t); }); }
                    function iC(t, e) { if (!Array.from(t.getChildren()).some(function (t) { return t.is("paragraph"); }))
                        return !1; if ("attribute" == e) {
                        var e_1007 = Array.from(t.getChild(0).getAttributeKeys()).length;
                        return 1 === t.childCount && e_1007 < 2;
                    } return t.childCount <= ("insert" == e ? 2 : 1); }
                    n(194);
                    var oC = /** @class */ (function (_super) {
                        __extends(oC, _super);
                        function oC() {
                            return _super !== null && _super.apply(this, arguments) || this;
                        }
                        Object.defineProperty(oC, "pluginName", {
                            get: function () { return "TableEditing"; },
                            enumerable: true,
                            configurable: true
                        });
                        oC.prototype.init = function () {
                            var _this = this;
                            var t = this.editor, e = t.model, n = e.schema, i = t.conversion;
                            n.register("table", { allowWhere: "$block", allowAttributes: ["headingRows", "headingColumns"], isLimit: !0, isObject: !0, isBlock: !0 }), n.register("tableRow", { allowIn: "table", isLimit: !0 }), n.register("tableCell", { allowIn: "tableRow", allowAttributes: ["colspan", "rowspan"], isLimit: !0 }), n.extend("$block", { allowIn: "tableCell" }), n.addChildCheck(function (t, e) { if ("table" == e.name && Array.from(t.getNames()).includes("table"))
                                return !1; }), i.for("upcast").add(dy()), i.for("editingDowncast").add(py({ asWidget: !0 })), i.for("dataDowncast").add(py()), i.for("upcast").elementToElement({ model: "tableRow", view: "tr" }), i.for("editingDowncast").add(xy({ asWidget: !0 })), i.for("dataDowncast").add(xy()), i.for("downcast").add(function (t) { return t.on("remove:tableRow", function (t, e, n) {
                                var e_1008, _j;
                                t.stop();
                                var i = n.writer, o = n.mapper, r = o.toViewPosition(e.position).getLastMatchingPosition(function (t) { return !t.item.is("tr"); }).nodeAfter, s = r.parent, a = i.createRangeOn(r), c = i.remove(a);
                                try {
                                    for (var _q = __values(i.createRangeIn(c).getItems()), _z = _q.next(); !_z.done; _z = _q.next()) {
                                        var t_520 = _z.value;
                                        o.unbindViewElement(t_520);
                                    }
                                }
                                catch (e_1008_1) { e_1008 = { error: e_1008_1 }; }
                                finally {
                                    try {
                                        if (_z && !_z.done && (_j = _q.return)) _j.call(_q);
                                    }
                                    finally { if (e_1008) throw e_1008.error; }
                                }
                                s.childCount || i.remove(i.createRangeOn(s));
                            }, { priority: "higher" }); }), i.for("upcast").add(uy("td")), i.for("upcast").add(uy("th")), i.for("editingDowncast").add(by({ asWidget: !0 })), i.for("dataDowncast").add(by()), i.attributeToAttribute({ model: "colspan", view: "colspan" }), i.attributeToAttribute({ model: "rowspan", view: "rowspan" }), i.for("editingDowncast").add(wy({ asWidget: !0 })), i.for("dataDowncast").add(wy()), i.for("editingDowncast").add(ky({ asWidget: !0 })), i.for("dataDowncast").add(ky()), t.commands.add("insertTable", new Ny(t)), t.commands.add("insertTableRowAbove", new Ry(t, { order: "above" })), t.commands.add("insertTableRowBelow", new Ry(t, { order: "below" })), t.commands.add("insertTableColumnLeft", new Oy(t, { order: "left" })), t.commands.add("insertTableColumnRight", new Oy(t, { order: "right" })), t.commands.add("removeTableRow", new zy(t)), t.commands.add("removeTableColumn", new jy(t)), t.commands.add("splitTableCellVertically", new Dy(t, { direction: "vertically" })), t.commands.add("splitTableCellHorizontally", new Dy(t, { direction: "horizontally" })), t.commands.add("mergeTableCellRight", new Ly(t, { direction: "right" })), t.commands.add("mergeTableCellLeft", new Ly(t, { direction: "left" })), t.commands.add("mergeTableCellDown", new Ly(t, { direction: "down" })), t.commands.add("mergeTableCellUp", new Ly(t, { direction: "up" })), t.commands.add("setTableColumnHeader", new Hy(t)), t.commands.add("setTableRowHeader", new Fy(t)), $y(e), nC(e), Jy(e), this.editor.keystrokes.set("Tab", function () {
                                var t = [];
                                for (var _j = 0; _j < arguments.length; _j++) {
                                    t[_j] = arguments[_j];
                                }
                                return _this._handleTabOnSelectedTable.apply(_this, __spread(t));
                            }, { priority: "low" }), this.editor.keystrokes.set("Tab", this._getTabHandler(!0), { priority: "low" }), this.editor.keystrokes.set("Shift+Tab", this._getTabHandler(!1), { priority: "low" });
                        };
                        Object.defineProperty(oC, "requires", {
                            get: function () { return [Uy]; },
                            enumerable: true,
                            configurable: true
                        });
                        oC.prototype._handleTabOnSelectedTable = function (t, e) { var n = this.editor, i = n.model.document.selection; if (!i.isCollapsed && 1 === i.rangeCount && i.getFirstRange().isFlat) {
                            var t_521 = i.getSelectedElement();
                            if (!t_521 || !t_521.is("table"))
                                return;
                            e(), n.model.change(function (e) { e.setSelection(e.createRangeIn(t_521.getChild(0).getChild(0))); });
                        } };
                        oC.prototype._getTabHandler = function (t) { var e = this.editor; return function (n, i) { var o = ay("tableCell", e.model.document.selection.getFirstPosition()); if (!o)
                            return; i(); var r = o.parent, s = r.parent, a = s.getChildIndex(r), c = r.getChildIndex(o), l = 0 === c; if (!t && l && 0 === a)
                            return; var d = c === r.childCount - 1, u = a === s.childCount - 1; if (t && u && d && (e.execute("insertTableRowBelow"), a === s.childCount - 1))
                            return; var h; if (t && d) {
                            var t_522 = s.getChild(a + 1);
                            h = t_522.getChild(0);
                        }
                        else if (!t && l) {
                            var t_523 = s.getChild(a - 1);
                            h = t_523.getChild(t_523.childCount - 1);
                        }
                        else
                            h = r.getChild(c + (t ? 1 : -1)); e.model.change(function (t) { t.setSelection(t.createRangeIn(h)); }); }; };
                        return oC;
                    }(Ad));
                    n(196);
                    var rC = /** @class */ (function (_super) {
                        __extends(rC, _super);
                        function rC(t) {
                            var _this = _super.call(this, t) || this;
                            var e = _this.bindTemplate;
                            _this.items = _this.createCollection(), _this.set("rows", 0), _this.set("columns", 0), _this.bind("label").to(_this, "columns", _this, "rows", function (t, e) { return e + " \u00D7 " + t; }), _this.setTemplate({ tag: "div", attributes: { class: ["ck"] }, children: [{ tag: "div", attributes: { class: ["ck-insert-table-dropdown__grid"] }, children: _this.items }, { tag: "div", attributes: { class: ["ck-insert-table-dropdown__label"] }, children: [{ text: e.to("label") }] }], on: { mousedown: e.to(function (t) { t.preventDefault(); }), click: e.to(function () { _this.fire("execute"); }) } });
                            var _loop_29 = function (t_524) {
                                var e_1009 = new sC;
                                e_1009.on("over", function () { var e = Math.floor(t_524 / 10), n = t_524 % 10; _this.set("rows", e + 1), _this.set("columns", n + 1); }), this_5.items.add(e_1009);
                            };
                            var this_5 = this;
                            for (var t_524 = 0; t_524 < 100; t_524++) {
                                _loop_29(t_524);
                            }
                            _this.on("change:columns", function () { _this._highlightGridBoxes(); }), _this.on("change:rows", function () { _this._highlightGridBoxes(); });
                            return _this;
                        }
                        rC.prototype.focus = function () { };
                        rC.prototype.focusLast = function () { };
                        rC.prototype._highlightGridBoxes = function () { var t = this.rows, e = this.columns; this.items.map(function (n, i) { var o = Math.floor(i / 10) < t && i % 10 < e; n.set("isOn", o); }); };
                        return rC;
                    }(zl));
                    var sC = /** @class */ (function (_super) {
                        __extends(sC, _super);
                        function sC(t) {
                            var _this = _super.call(this, t) || this;
                            var e = _this.bindTemplate;
                            _this.set("isOn", !1), _this.setTemplate({ tag: "div", attributes: { class: ["ck-insert-table-dropdown-grid-box", e.if("isOn", "ck-on")] }, on: { mouseover: e.to("over") } });
                            return _this;
                        }
                        return sC;
                    }(zl));
                    var aC = n(64), cC = n.n(aC), lC = n(65), dC = n.n(lC), uC = n(66), hC = n.n(uC), mC = n(67), gC = n.n(mC);
                    var fC = /** @class */ (function (_super) {
                        __extends(fC, _super);
                        function fC() {
                            return _super !== null && _super.apply(this, arguments) || this;
                        }
                        fC.prototype.init = function () {
                            var _this = this;
                            var t = this.editor, e = this.editor.t, n = "ltr" === t.locale.contentLanguageDirection;
                            t.ui.componentFactory.add("insertTable", function (n) { var i = t.commands.get("insertTable"), o = fd(n); o.bind("isEnabled").to(i), o.buttonView.set({ icon: cC.a, label: e("ax"), tooltip: !0 }); var r = new rC(n); return o.panelView.children.add(r), r.delegate("execute").to(o), o.buttonView.on("open", function () { r.rows = 0, r.columns = 0; }), o.on("execute", function () { t.execute("insertTable", { rows: r.rows, columns: r.columns }), t.editing.view.focus(); }), o; }), t.ui.componentFactory.add("tableColumn", function (t) { var i = [{ type: "switchbutton", model: { commandName: "setTableColumnHeader", label: e("ay"), bindIsOn: !0 } }, { type: "separator" }, { type: "button", model: { commandName: n ? "insertTableColumnLeft" : "insertTableColumnRight", label: e("az") } }, { type: "button", model: { commandName: n ? "insertTableColumnRight" : "insertTableColumnLeft", label: e("ba") } }, { type: "button", model: { commandName: "removeTableColumn", label: e("bb") } }]; return _this._prepareDropdown(e("bc"), dC.a, i, t); }), t.ui.componentFactory.add("tableRow", function (t) { var n = [{ type: "switchbutton", model: { commandName: "setTableRowHeader", label: e("bd"), bindIsOn: !0 } }, { type: "separator" }, { type: "button", model: { commandName: "insertTableRowBelow", label: e("be") } }, { type: "button", model: { commandName: "insertTableRowAbove", label: e("bf") } }, { type: "button", model: { commandName: "removeTableRow", label: e("bg") } }]; return _this._prepareDropdown(e("bh"), hC.a, n, t); }), t.ui.componentFactory.add("mergeTableCells", function (t) { var i = [{ type: "button", model: { commandName: "mergeTableCellUp", label: e("bi") } }, { type: "button", model: { commandName: n ? "mergeTableCellRight" : "mergeTableCellLeft", label: e("bj") } }, { type: "button", model: { commandName: "mergeTableCellDown", label: e("bk") } }, { type: "button", model: { commandName: n ? "mergeTableCellLeft" : "mergeTableCellRight", label: e("bl") } }, { type: "separator" }, { type: "button", model: { commandName: "splitTableCellVertically", label: e("bm") } }, { type: "button", model: { commandName: "splitTableCellHorizontally", label: e("bn") } }]; return _this._prepareDropdown(e("bo"), gC.a, i, t); });
                        };
                        fC.prototype._prepareDropdown = function (t, e, n, i) {
                            var e_1010, _j;
                            var o = this.editor, r = fd(i), s = [], a = new oo;
                            try {
                                for (var n_388 = __values(n), n_388_1 = n_388.next(); !n_388_1.done; n_388_1 = n_388.next()) {
                                    var t_525 = n_388_1.value;
                                    pC(t_525, o, s, a);
                                }
                            }
                            catch (e_1010_1) { e_1010 = { error: e_1010_1 }; }
                            finally {
                                try {
                                    if (n_388_1 && !n_388_1.done && (_j = n_388.return)) _j.call(n_388);
                                }
                                finally { if (e_1010) throw e_1010.error; }
                            }
                            return xd(r, a), r.buttonView.set({ label: t, icon: e, tooltip: !0 }), r.bind("isEnabled").toMany(s, "isEnabled", function () {
                                var t = [];
                                for (var _j = 0; _j < arguments.length; _j++) {
                                    t[_j] = arguments[_j];
                                }
                                return t.some(function (t) { return t; });
                            }), this.listenTo(r, "execute", function (t) { o.execute(t.source.commandName), o.editing.view.focus(); }), r;
                        };
                        return fC;
                    }(Ad));
                    function pC(t, e, n, i) { var o = t.model = new bb(t.model), _j = t.model, r = _j.commandName, s = _j.bindIsOn; if ("separator" !== t.type) {
                        var t_526 = e.commands.get(r);
                        n.push(t_526), o.set({ commandName: r }), o.bind("isEnabled").to(t_526), s && o.bind("isOn").to(t_526, "value");
                    } o.set({ withText: !0 }), i.add(t); }
                    n(198);
                    var xC = "underline";
                    var bC = /** @class */ (function (_super) {
                        __extends(bC, _super);
                        function bC() {
                            return _super !== null && _super.apply(this, arguments) || this;
                        }
                        Object.defineProperty(bC, "pluginName", {
                            get: function () { return "UnderlineEditing"; },
                            enumerable: true,
                            configurable: true
                        });
                        bC.prototype.init = function () { var t = this.editor; t.model.schema.extend("$text", { allowAttributes: xC }), t.model.schema.setAttributeProperties(xC, { isFormatting: !0, copyOnEnter: !0 }), t.conversion.attributeToElement({ model: xC, view: "u", upcastAlso: { styles: { "text-decoration": "underline" } } }), t.commands.add(xC, new _m(t, xC)), t.keystrokes.set("CTRL+U", "underline"); };
                        return bC;
                    }(Ad));
                    var kC = n(68), wC = n.n(kC);
                    var _C = "underline";
                    var vC = /** @class */ (function (_super) {
                        __extends(vC, _super);
                        function vC() {
                            return _super !== null && _super.apply(this, arguments) || this;
                        }
                        vC.prototype.init = function () {
                            var _this = this;
                            var t = this.editor, e = t.t;
                            t.ui.componentFactory.add(_C, function (n) { var i = t.commands.get(_C), o = new sd(n); return o.set({ label: e("n"), icon: wC.a, keystroke: "CTRL+U", tooltip: !0, isToggleable: !0 }), o.bind("isOn", "isEnabled").to(i, "value", "isEnabled"), _this.listenTo(o, "execute", function () { return t.execute(_C); }), o; });
                        };
                        return vC;
                    }(Ad));
                    n.d(e, "default", function () { return yC; });
                    var yC = /** @class */ (function (_super) {
                        __extends(yC, _super);
                        function yC() {
                            return _super !== null && _super.apply(this, arguments) || this;
                        }
                        return yC;
                    }(Td));
                    yC.builtinPlugins = [/** @class */ (function (_super) {
                            __extends(class_2, _super);
                            function class_2() {
                                return _super !== null && _super.apply(this, arguments) || this;
                            }
                            Object.defineProperty(class_2, "requires", {
                                get: function () { return [Eb, Fb]; },
                                enumerable: true,
                                configurable: true
                            });
                            Object.defineProperty(class_2, "pluginName", {
                                get: function () { return "Alignment"; },
                                enumerable: true,
                                configurable: true
                            });
                            return class_2;
                        }(Ad)), xg, /** @class */ (function (_super) {
                            __extends(class_3, _super);
                            function class_3() {
                                return _super !== null && _super.apply(this, arguments) || this;
                            }
                            Object.defineProperty(class_3, "requires", {
                                get: function () { return [qb, Gb]; },
                                enumerable: true,
                                configurable: true
                            });
                            Object.defineProperty(class_3, "pluginName", {
                                get: function () { return "BlockQuote"; },
                                enumerable: true,
                                configurable: true
                            });
                            return class_3;
                        }(Ad)), Pm, /** @class */ (function (_super) {
                            __extends(class_4, _super);
                            function class_4() {
                                return _super !== null && _super.apply(this, arguments) || this;
                            }
                            Object.defineProperty(class_4, "pluginName", {
                                get: function () { return "CKFinder"; },
                                enumerable: true,
                                configurable: true
                            });
                            Object.defineProperty(class_4, "requires", {
                                get: function () { return [mw, Jb, _w]; },
                                enumerable: true,
                                configurable: true
                            });
                            return class_4;
                        }(Ad)), /** @class */ (function (_super) {
                            __extends(class_5, _super);
                            function class_5() {
                                return _super !== null && _super.apply(this, arguments) || this;
                            }
                            Object.defineProperty(class_5, "requires", {
                                get: function () { return [Mw, qw, h_]; },
                                enumerable: true,
                                configurable: true
                            });
                            Object.defineProperty(class_5, "pluginName", {
                                get: function () { return "EasyImage"; },
                                enumerable: true,
                                configurable: true
                            });
                            return class_5;
                        }(Ad)), fm, /** @class */ (function (_super) {
                            __extends(class_6, _super);
                            function class_6() {
                                return _super !== null && _super.apply(this, arguments) || this;
                            }
                            Object.defineProperty(class_6, "requires", {
                                get: function () { return [b_, __]; },
                                enumerable: true,
                                configurable: true
                            });
                            Object.defineProperty(class_6, "pluginName", {
                                get: function () { return "FontFamily"; },
                                enumerable: true,
                                configurable: true
                            });
                            return class_6;
                        }(Ad)), /** @class */ (function (_super) {
                            __extends(class_7, _super);
                            function class_7() {
                                return _super !== null && _super.apply(this, arguments) || this;
                            }
                            Object.defineProperty(class_7, "requires", {
                                get: function () { return [A_, M_]; },
                                enumerable: true,
                                configurable: true
                            });
                            Object.defineProperty(class_7, "pluginName", {
                                get: function () { return "FontSize"; },
                                enumerable: true,
                                configurable: true
                            });
                            return class_7;
                        }(Ad)), /** @class */ (function (_super) {
                            __extends(class_8, _super);
                            function class_8() {
                                return _super !== null && _super.apply(this, arguments) || this;
                            }
                            Object.defineProperty(class_8, "requires", {
                                get: function () { return [R_, O_]; },
                                enumerable: true,
                                configurable: true
                            });
                            Object.defineProperty(class_8, "pluginName", {
                                get: function () { return "Heading"; },
                                enumerable: true,
                                configurable: true
                            });
                            return class_8;
                        }(Ad)), /** @class */ (function (_super) {
                            __extends(class_9, _super);
                            function class_9() {
                                return _super !== null && _super.apply(this, arguments) || this;
                            }
                            Object.defineProperty(class_9, "requires", {
                                get: function () { return [L_, B_]; },
                                enumerable: true,
                                configurable: true
                            });
                            Object.defineProperty(class_9, "pluginName", {
                                get: function () { return "Highlight"; },
                                enumerable: true,
                                configurable: true
                            });
                            return class_9;
                        }(Ad)), qw, /** @class */ (function (_super) {
                            __extends(class_10, _super);
                            function class_10() {
                                return _super !== null && _super.apply(this, arguments) || this;
                            }
                            Object.defineProperty(class_10, "requires", {
                                get: function () { return [q_]; },
                                enumerable: true,
                                configurable: true
                            });
                            Object.defineProperty(class_10, "pluginName", {
                                get: function () { return "ImageCaption"; },
                                enumerable: true,
                                configurable: true
                            });
                            return class_10;
                        }(Ad)), /** @class */ (function (_super) {
                            __extends(class_11, _super);
                            function class_11() {
                                return _super !== null && _super.apply(this, arguments) || this;
                            }
                            Object.defineProperty(class_11, "requires", {
                                get: function () { return [ev]; },
                                enumerable: true,
                                configurable: true
                            });
                            Object.defineProperty(class_11, "pluginName", {
                                get: function () { return "ImageResize"; },
                                enumerable: true,
                                configurable: true
                            });
                            class_11.prototype.init = function () { var t = this.editor, e = new nv(t); this._registerSchema(), this._registerConverters(), t.commands.add("imageResize", e), t.editing.downcastDispatcher.on("insert:image", function (n, i, o) { var r = o.mapper.toViewElement(i.item), s = t.plugins.get(ev).attachTo({ unit: t.config.get("image.resizeUnit") || "%", modelElement: i.item, viewElement: r, downcastWriter: o.writer, getHandleHost: function (t) { return t.querySelector("img"); }, getResizeHost: function (t) { return t; }, isCentered: function () { var t = i.item.getAttribute("imageStyle"); return !t || "full" == t || "alignCenter" == t; }, onCommit: function (e) { t.execute("imageResize", { width: e }); } }); s.on("updateSize", function () { r.hasClass("image_resized") || t.editing.view.change(function (t) { t.addClass("image_resized", r); }); }), s.bind("isEnabled").to(e); }, { priority: "low" }); };
                            class_11.prototype._registerSchema = function () { this.editor.model.schema.extend("image", { allowAttributes: "width" }); };
                            class_11.prototype._registerConverters = function () { var t = this.editor; t.conversion.for("downcast").add(function (t) { return t.on("attribute:width:image", function (t, e, n) { if (!n.consumable.consume(e.item, t.name))
                                return; var i = n.writer, o = n.mapper.toViewElement(e.item); null !== e.attributeNewValue ? (i.setStyle("width", e.attributeNewValue, o), i.addClass("image_resized", o)) : (i.removeStyle("width", o), i.removeClass("image_resized", o)); }); }), t.conversion.for("upcast").attributeToAttribute({ view: { name: "figure", styles: { width: /.+/ } }, model: { key: "width", value: function (t) { return t.getStyle("width"); } } }); };
                            return class_11;
                        }(Ad)), /** @class */ (function (_super) {
                            __extends(class_12, _super);
                            function class_12() {
                                return _super !== null && _super.apply(this, arguments) || this;
                            }
                            Object.defineProperty(class_12, "requires", {
                                get: function () { return [rv, sv]; },
                                enumerable: true,
                                configurable: true
                            });
                            Object.defineProperty(class_12, "pluginName", {
                                get: function () { return "ImageStyle"; },
                                enumerable: true,
                                configurable: true
                            });
                            return class_12;
                        }(Ad)), /** @class */ (function (_super) {
                            __extends(class_13, _super);
                            function class_13() {
                                return _super !== null && _super.apply(this, arguments) || this;
                            }
                            Object.defineProperty(class_13, "requires", {
                                get: function () { return [av]; },
                                enumerable: true,
                                configurable: true
                            });
                            Object.defineProperty(class_13, "pluginName", {
                                get: function () { return "ImageToolbar"; },
                                enumerable: true,
                                configurable: true
                            });
                            class_13.prototype.afterInit = function () { var t = this.editor, e = t.t; t.plugins.get(av).register("image", { ariaLabel: e("a"), items: t.config.get("image.toolbar") || [], getRelatedElement: gk }); };
                            return class_13;
                        }(Ad)), h_, Dm, /** @class */ (function (_super) {
                            __extends(class_14, _super);
                            function class_14() {
                                return _super !== null && _super.apply(this, arguments) || this;
                            }
                            Object.defineProperty(class_14, "requires", {
                                get: function () { return [lw, bv]; },
                                enumerable: true,
                                configurable: true
                            });
                            Object.defineProperty(class_14, "pluginName", {
                                get: function () { return "Link"; },
                                enumerable: true,
                                configurable: true
                            });
                            return class_14;
                        }(Ad)), mg, /** @class */ (function (_super) {
                            __extends(class_15, _super);
                            function class_15() {
                                return _super !== null && _super.apply(this, arguments) || this;
                            }
                            Object.defineProperty(class_15, "requires", {
                                get: function () { return [Iv, Vv, Rv, Nw]; },
                                enumerable: true,
                                configurable: true
                            });
                            Object.defineProperty(class_15, "pluginName", {
                                get: function () { return "MediaEmbed"; },
                                enumerable: true,
                                configurable: true
                            });
                            return class_15;
                        }(Ad)), bm, /** @class */ (function (_super) {
                            __extends(class_16, _super);
                            function class_16() {
                                return _super !== null && _super.apply(this, arguments) || this;
                            }
                            Object.defineProperty(class_16, "pluginName", {
                                get: function () { return "PasteFromOffice"; },
                                enumerable: true,
                                configurable: true
                            });
                            Object.defineProperty(class_16, "requires", {
                                get: function () { return [vh]; },
                                enumerable: true,
                                configurable: true
                            });
                            class_16.prototype.init = function () { var t = this.editor, e = []; e.push(new Gv), e.push(new Bv), t.plugins.get("Clipboard").on("inputTransformation", function (t, n) { if (n.isTransformedWithPasteFromOffice)
                                return; var i = n.dataTransfer.getData("text/html"), o = e.find(function (t) { return t.isActive(i); }); o && (o.execute(n), n.isTransformedWithPasteFromOffice = !0); }, { priority: "high" }); };
                            return class_16;
                        }(Ad)), /** @class */ (function (_super) {
                            __extends(class_17, _super);
                            function class_17() {
                                return _super !== null && _super.apply(this, arguments) || this;
                            }
                            Object.defineProperty(class_17, "requires", {
                                get: function () { return [ty, Zv]; },
                                enumerable: true,
                                configurable: true
                            });
                            Object.defineProperty(class_17, "pluginName", {
                                get: function () { return "RemoveFormat"; },
                                enumerable: true,
                                configurable: true
                            });
                            return class_17;
                        }(Ad)), /** @class */ (function (_super) {
                            __extends(class_18, _super);
                            function class_18() {
                                return _super !== null && _super.apply(this, arguments) || this;
                            }
                            Object.defineProperty(class_18, "requires", {
                                get: function () { return [ny, sy]; },
                                enumerable: true,
                                configurable: true
                            });
                            Object.defineProperty(class_18, "pluginName", {
                                get: function () { return "Strikethrough"; },
                                enumerable: true,
                                configurable: true
                            });
                            return class_18;
                        }(Ad)), /** @class */ (function (_super) {
                            __extends(class_19, _super);
                            function class_19() {
                                return _super !== null && _super.apply(this, arguments) || this;
                            }
                            Object.defineProperty(class_19, "requires", {
                                get: function () { return [oC, fC, Nw]; },
                                enumerable: true,
                                configurable: true
                            });
                            Object.defineProperty(class_19, "pluginName", {
                                get: function () { return "Table"; },
                                enumerable: true,
                                configurable: true
                            });
                            return class_19;
                        }(Ad)), /** @class */ (function (_super) {
                            __extends(class_20, _super);
                            function class_20() {
                                return _super !== null && _super.apply(this, arguments) || this;
                            }
                            Object.defineProperty(class_20, "requires", {
                                get: function () { return [av]; },
                                enumerable: true,
                                configurable: true
                            });
                            Object.defineProperty(class_20, "pluginName", {
                                get: function () { return "TableToolbar"; },
                                enumerable: true,
                                configurable: true
                            });
                            class_20.prototype.afterInit = function () { var t = this.editor, e = t.t, n = t.plugins.get(av), i = t.config.get("table.contentToolbar"), o = t.config.get("table.tableToolbar"); i && n.register("tableContent", { ariaLabel: e("b"), items: i, getRelatedElement: fy }), o && n.register("table", { ariaLabel: e("b"), items: o, getRelatedElement: gy }); };
                            return class_20;
                        }(Ad)), /** @class */ (function (_super) {
                            __extends(class_21, _super);
                            function class_21() {
                                return _super !== null && _super.apply(this, arguments) || this;
                            }
                            Object.defineProperty(class_21, "requires", {
                                get: function () { return [bC, vC]; },
                                enumerable: true,
                                configurable: true
                            });
                            Object.defineProperty(class_21, "pluginName", {
                                get: function () { return "Underline"; },
                                enumerable: true,
                                configurable: true
                            });
                            return class_21;
                        }(Ad)), _w, Cf, /** @class */ (function (_super) {
                            __extends(class_22, _super);
                            function class_22() {
                                return _super !== null && _super.apply(this, arguments) || this;
                            }
                            Object.defineProperty(class_22, Ab("0x0"), {
                                get: function () { return [ib, Cb, Cf, bf, _f]; },
                                enumerable: true,
                                configurable: true
                            });
                            Object.defineProperty(class_22, Ab("0x1"), {
                                get: function () { return Ab("0x2"); },
                                enumerable: true,
                                configurable: true
                            });
                            Object.defineProperty(class_22.prototype, Ab("0x3"), {
                                set: function (t) { this[Ab("0x4")][Ab("0x5")].get(ib)[Ab("0x3")] = t; },
                                enumerable: true,
                                configurable: true
                            });
                            Object.defineProperty(class_22.prototype, Ab("0x3"), {
                                get: function () { return this.editor.plugins[Ab("0x6")](ib)[Ab("0x3")]; },
                                enumerable: true,
                                configurable: true
                            });
                            class_22.prototype[Ab("0x7")] = function (t) { return this[Ab("0x4")][Ab("0x5")][Ab("0x6")](ib)[Ab("0x8")](t); };
                            class_22.prototype[Ab("0x9")] = function () {
                                var e_1011, _j, _q, _z, t_527, _0, e_1011_1;
                                return __generator(this, function (_1) {
                                    switch (_1.label) {
                                        case 0:
                                            _1.trys.push([0, 6, 7, 8]);
                                            _q = __values(this.editor[Ab("0x5")][Ab("0x6")](ib)[Ab("0x9")]()), _z = _q.next();
                                            _1.label = 1;
                                        case 1:
                                            if (!!_z.done) return [3 /*break*/, 5];
                                            t_527 = _z.value;
                                            _0 = t_527[Ab("0xa")];
                                            if (!_0) return [3 /*break*/, 3];
                                            return [4 /*yield*/, Sb(t_527)];
                                        case 2:
                                            _0 = (_1.sent());
                                            _1.label = 3;
                                        case 3:
                                            _0;
                                            _1.label = 4;
                                        case 4:
                                            _z = _q.next();
                                            return [3 /*break*/, 1];
                                        case 5: return [3 /*break*/, 8];
                                        case 6:
                                            e_1011_1 = _1.sent();
                                            e_1011 = { error: e_1011_1 };
                                            return [3 /*break*/, 8];
                                        case 7:
                                            try {
                                                if (_z && !_z.done && (_j = _q.return)) _j.call(_q);
                                            }
                                            finally { if (e_1011) throw e_1011.error; }
                                            return [7 /*endfinally*/];
                                        case 8: return [2 /*return*/];
                                    }
                                });
                            };
                            class_22.prototype[Ab("0xb")] = function (t) { return Sb(this.editor[Ab("0x5")][Ab("0x6")](ib)[Ab("0xb")](t)); };
                            return class_22;
                        }(Ad))], yC.defaultConfig = { cloudServices: { tokenUrl: "https://33333.cke-cs.com/token/dev/ijrDsqFix838Gh3wGO3F77FSW94BwcLXprJ4APSp3XQ26xsUHTi0jcb1hoBt", uploadUrl: "https://33333.cke-cs.com/easyimage/upload/" }, toolbar: ["heading", "|", "fontsize", "fontfamily", "|", "bold", "italic", "underline", "strikethrough", "removeFormat", "highlight", "|", "numberedList", "bulletedList", "|", "link", "blockquote", "imageUpload", "insertTable", "mediaEmbed", "|", "trackChanges", "|", "comment", "|", "undo", "redo"], image: { toolbar: ["imageStyle:full", "imageStyle:side", "|", "imageTextAlternative", "|", "comment"] }, table: { contentToolbar: ["tableColumn", "tableRow", "mergeTableCells"], tableToolbar: ["comment"] }, mediaEmbed: { toolbar: ["comment"] } };
                }]).default; });
            /***/ 
        }),
        /***/ 0: 
        /*!***************************!*\
          !*** multi ./src/main.ts ***!
          \***************************/
        /*! no static exports found */
        /***/ (function (module, exports, __webpack_require__) {
            module.exports = __webpack_require__(/*! /private/tmp/release-collaboration-samples/track-changes-for-angular/src/main.ts */ "./src/main.ts");
            /***/ 
        })
    }, [[0, "runtime", "vendor"]]]);
