var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (this && this.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [op[0] & 2, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};
var __read = (this && this.__read) || function (o, n) {
    var m = typeof Symbol === "function" && o[Symbol.iterator];
    if (!m) return o;
    var i = m.call(o), r, ar = [], e;
    try {
        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);
    }
    catch (error) { e = { error: error }; }
    finally {
        try {
            if (r && !r.done && (m = i["return"])) m.call(i);
        }
        finally { if (e) throw e.error; }
    }
    return ar;
};
var __spread = (this && this.__spread) || function () {
    for (var ar = [], i = 0; i < arguments.length; i++) ar = ar.concat(__read(arguments[i]));
    return ar;
};
var __values = (this && this.__values) || function (o) {
    var m = typeof Symbol === "function" && o[Symbol.iterator], i = 0;
    if (m) return m.call(o);
    return {
        next: function () {
            if (o && i >= o.length) o = void 0;
            return { value: o && o[i++], done: !o };
        }
    };
};
(window["webpackJsonp"] = window["webpackJsonp"] || []).push([["main"], {
        /***/ "./node_modules/raw-loader/index.js!./src/app/app.component.html": 
        /*!**************************************************************!*\
          !*** ./node_modules/raw-loader!./src/app/app.component.html ***!
          \**************************************************************/
        /*! no static exports found */
        /***/ (function (module, exports) {
            module.exports = "<div *ngIf=\"!configurationSet\">\n\t<div id=\"overlay\" [class.warning]=\"isWarning\">\n\t\t<form class=\"body\" #form=\"ngForm\" (ngSubmit)=\"handleSubmit()\">\n\t\t\t<h2>Connect CKEditor Cloud Services</h2>\n\t\t\t<p>\n\t\t\t\tIf you do not have Cloud Services URLs yet,&nbsp;\n\t\t\t\t<a href=\"https://ckeditor.com/docs/cs/latest/guides/collaboration/quick-start.html\" target=\"_blank\"\n\t\t\t\t\trel=\"noopener noreferrer\">\n\t\t\t\t\tsee the documentation\n\t\t\t\t</a>.\n\t\t\t</p>\n\t\t\t<div>\n\t\t\t\t<label for=\"upload-url\">Upload URL</label>\n\t\t\t\t<input id=\"upload-url\" name=\"upload-url\" [(ngModel)]=\"config.uploadUrl\" />\n\t\t\t</div>\n\t\t\t<div>\n\t\t\t\t<label for=\"web-socket-url\">WebSocket URL</label>\n\t\t\t\t<input id=\"web-socket-url\" name=\"web-socket-url\" [(ngModel)]=\"config.webSocketUrl\" />\n\t\t\t</div>\n\t\t\t<div>\n\t\t\t\t<label for=\"token-url\">Token URL</label>\n\t\t\t\t<input id=\"token-url\" name=\"token-url\" [(ngModel)]=\"config.tokenUrl\" (input)=\"handleTokenUrlChange()\" required />\n\t\t\t</div>\n\n\t\t\t<div id=\"additional\" [class.visible]=\"isCloudServicesTokenEndpoint()\">\n\t\t\t\t<p>Use one of the following users to define the user data.</p>\n\t\t\t\t<div id=\"user-container\">\n\t\t\t\t\t<div *ngFor=\"let data of users\" (click)=\"selectUser( data )\" class=\"{{ selectedUser == data.id ? 'active' : '' }}\">\n\t\t\t\t\t\t<img src=\"{{ data.avatar }}\" *ngIf=\"data.avatar\" />\n\t\t\t\t\t\t<span class=\"pseudo-avatar\"\n\t\t\t\t\t\t\t*ngIf=\"!data.avatar && data.name\">{{ getUserInitials( data.name ) }}</span>\n\t\t\t\t\t\t<span class=\"pseudo-avatar anonymous\" *ngIf=\"!data.avatar && !data.name\"></span>\n\t\t\t\t\t\t<span>{{ data.name || '(anonymous)' }}</span>\n\t\t\t\t\t\t<span class=\"role\">{{ data.role }}</span>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<div>\n\t\t\t\t<label for=\"document-id\">Document ID</label>\n\t\t\t\t<input id=\"document-id\" name=\"document-id\" [(ngModel)]=\"documentId\" required />\n\t\t\t</div>\n\n\t\t\t<button id=\"start\" [disabled]=\"!form.valid\">Start</button>\n\t\t</form>\n\t</div>\n</div>\n\n<app-editor *ngIf=\"configurationSet\" [configuration]=\"config\" [documentId]=\"documentId\" (ready)=\"onEditorReady($event)\"></app-editor>\n";
            /***/ 
        }),
        /***/ "./node_modules/raw-loader/index.js!./src/app/editor/editor.component.html": 
        /*!************************************************************************!*\
          !*** ./node_modules/raw-loader!./src/app/editor/editor.component.html ***!
          \************************************************************************/
        /*! no static exports found */
        /***/ (function (module, exports) {
            module.exports = "<header>\n\t<div class=\"centered\">\n\t\t<h1>\n\t\t\t<a href=\"https://ckeditor.com/ckeditor-5/\" target=\"_blank\" rel=\"noopener noreferrer\">\n\t\t\t\t<img src=\"https://c.cksource.com/a/1/logos/ckeditor5.svg\" alt=\"CKEditor 5 logo\" /> CKEditor 5\n\t\t\t</a>\n\t\t</h1>\n\n\t\t<nav>\n\t\t\t<ul>\n\t\t\t\t<li>\n\t\t\t\t\t<a href=\"https://ckeditor.com/collaboration/\" target=\"_blank\" rel=\"noopener noreferrer\">Website</a>\n\t\t\t\t</li>\n\t\t\t\t<li>\n\t\t\t\t\t<a href=\"https://ckeditor.com/docs/ckeditor5/latest/features/collaboration/real-time-collaboration/real-time-collaboration.html\"\n\t\t\t\t\t\ttarget=\"_blank\" rel=\"noopener noreferrer\">Documentation</a>\n\t\t\t\t</li>\n\t\t\t</ul>\n\t\t</nav>\n\t</div>\n</header>\n\n<main>\n\t<div class=\"message\">\n\t\t<div class=\"centered\">\n\t\t\t<h1>CKEditor5 real-time collaboration sample for Angular</h1>\n\t\t\t<p>\n\t\t\t\tOpen this sample in another browser tab to start real-time collaborative editing.\n\t\t\t</p>\n\t\t</div>\n\t</div>\n\t<div class=\"centered\">\n\t\t<div class=\"row row-presence\">\n\t\t\t<div #presenceList class='presence'></div>\n\t\t</div>\n\t\t<div class='row row-editor'>\n\t\t\t<ckeditor [editor]=\"Editor\" (ready)=\"onReady($event)\" [config]=\"editorConfig\" [data]=\"data\"></ckeditor>\n\t\t\t<div #sidebar class='sidebar'></div>\n\t\t</div>\n\t</div>\n</main>\n\n<footer>\n\t<div class=\"centered\">\n\t\t<p>\n\t\t\t<a href=\"https://ckeditor.com/ckeditor-5/\" target=\"_blank\" rel=\"noopener noreferrer\">CKEditor 5</a> – Rich text editor of tomorrow, available today\n\t\t</p>\n\t\t<p>\n\t\t\tCopyright © 2003-2019, <a href=\"https://cksource.com/\" target=\"_blank\" rel=\"noopener noreferrer\">CKSource</a> – Frederico Knabben. All rights reserved.\n\t\t</p>\n\t</div>\n</footer>\n";
            /***/ 
        }),
        /***/ "./node_modules/tslib/tslib.es6.js": 
        /*!*****************************************!*\
          !*** ./node_modules/tslib/tslib.es6.js ***!
          \*****************************************/
        /*! exports provided: __extends, __assign, __rest, __decorate, __param, __metadata, __awaiter, __generator, __exportStar, __values, __read, __spread, __spreadArrays, __await, __asyncGenerator, __asyncDelegator, __asyncValues, __makeTemplateObject, __importStar, __importDefault */
        /***/ (function (module, __webpack_exports__, __webpack_require__) {
            "use strict";
            __webpack_require__.r(__webpack_exports__);
            /* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "__extends", function () { return __extends; });
            /* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "__assign", function () { return __assign; });
            /* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "__rest", function () { return __rest; });
            /* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "__decorate", function () { return __decorate; });
            /* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "__param", function () { return __param; });
            /* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "__metadata", function () { return __metadata; });
            /* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "__awaiter", function () { return __awaiter; });
            /* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "__generator", function () { return __generator; });
            /* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "__exportStar", function () { return __exportStar; });
            /* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "__values", function () { return __values; });
            /* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "__read", function () { return __read; });
            /* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "__spread", function () { return __spread; });
            /* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "__spreadArrays", function () { return __spreadArrays; });
            /* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "__await", function () { return __await; });
            /* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "__asyncGenerator", function () { return __asyncGenerator; });
            /* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "__asyncDelegator", function () { return __asyncDelegator; });
            /* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "__asyncValues", function () { return __asyncValues; });
            /* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "__makeTemplateObject", function () { return __makeTemplateObject; });
            /* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "__importStar", function () { return __importStar; });
            /* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "__importDefault", function () { return __importDefault; });
            /*! *****************************************************************************
            Copyright (c) Microsoft Corporation. All rights reserved.
            Licensed under the Apache License, Version 2.0 (the "License"); you may not use
            this file except in compliance with the License. You may obtain a copy of the
            License at http://www.apache.org/licenses/LICENSE-2.0
            
            THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
            KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
            WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
            MERCHANTABLITY OR NON-INFRINGEMENT.
            
            See the Apache Version 2.0 License for specific language governing permissions
            and limitations under the License.
            ***************************************************************************** */
            /* global Reflect, Promise */
            var extendStatics = function (d, b) {
                extendStatics = Object.setPrototypeOf ||
                    ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
                    function (d, b) { for (var p in b)
                        if (b.hasOwnProperty(p))
                            d[p] = b[p]; };
                return extendStatics(d, b);
            };
            function __extends(d, b) {
                extendStatics(d, b);
                function __() { this.constructor = d; }
                d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
            }
            var __assign = function () {
                __assign = Object.assign || function __assign(t) {
                    for (var s, i = 1, n = arguments.length; i < n; i++) {
                        s = arguments[i];
                        for (var p in s)
                            if (Object.prototype.hasOwnProperty.call(s, p))
                                t[p] = s[p];
                    }
                    return t;
                };
                return __assign.apply(this, arguments);
            };
            function __rest(s, e) {
                var t = {};
                for (var p in s)
                    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)
                        t[p] = s[p];
                if (s != null && typeof Object.getOwnPropertySymbols === "function")
                    for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {
                        if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))
                            t[p[i]] = s[p[i]];
                    }
                return t;
            }
            function __decorate(decorators, target, key, desc) {
                var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
                if (typeof Reflect === "object" && typeof Reflect.decorate === "function")
                    r = Reflect.decorate(decorators, target, key, desc);
                else
                    for (var i = decorators.length - 1; i >= 0; i--)
                        if (d = decorators[i])
                            r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
                return c > 3 && r && Object.defineProperty(target, key, r), r;
            }
            function __param(paramIndex, decorator) {
                return function (target, key) { decorator(target, key, paramIndex); };
            }
            function __metadata(metadataKey, metadataValue) {
                if (typeof Reflect === "object" && typeof Reflect.metadata === "function")
                    return Reflect.metadata(metadataKey, metadataValue);
            }
            function __awaiter(thisArg, _arguments, P, generator) {
                return new (P || (P = Promise))(function (resolve, reject) {
                    function fulfilled(value) { try {
                        step(generator.next(value));
                    }
                    catch (e) {
                        reject(e);
                    } }
                    function rejected(value) { try {
                        step(generator["throw"](value));
                    }
                    catch (e) {
                        reject(e);
                    } }
                    function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }
                    step((generator = generator.apply(thisArg, _arguments || [])).next());
                });
            }
            function __generator(thisArg, body) {
                var _ = { label: 0, sent: function () { if (t[0] & 1)
                        throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
                return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function () { return this; }), g;
                function verb(n) { return function (v) { return step([n, v]); }; }
                function step(op) {
                    if (f)
                        throw new TypeError("Generator is already executing.");
                    while (_)
                        try {
                            if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done)
                                return t;
                            if (y = 0, t)
                                op = [op[0] & 2, t.value];
                            switch (op[0]) {
                                case 0:
                                case 1:
                                    t = op;
                                    break;
                                case 4:
                                    _.label++;
                                    return { value: op[1], done: false };
                                case 5:
                                    _.label++;
                                    y = op[1];
                                    op = [0];
                                    continue;
                                case 7:
                                    op = _.ops.pop();
                                    _.trys.pop();
                                    continue;
                                default:
                                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) {
                                        _ = 0;
                                        continue;
                                    }
                                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) {
                                        _.label = op[1];
                                        break;
                                    }
                                    if (op[0] === 6 && _.label < t[1]) {
                                        _.label = t[1];
                                        t = op;
                                        break;
                                    }
                                    if (t && _.label < t[2]) {
                                        _.label = t[2];
                                        _.ops.push(op);
                                        break;
                                    }
                                    if (t[2])
                                        _.ops.pop();
                                    _.trys.pop();
                                    continue;
                            }
                            op = body.call(thisArg, _);
                        }
                        catch (e) {
                            op = [6, e];
                            y = 0;
                        }
                        finally {
                            f = t = 0;
                        }
                    if (op[0] & 5)
                        throw op[1];
                    return { value: op[0] ? op[1] : void 0, done: true };
                }
            }
            function __exportStar(m, exports) {
                for (var p in m)
                    if (!exports.hasOwnProperty(p))
                        exports[p] = m[p];
            }
            function __values(o) {
                var m = typeof Symbol === "function" && o[Symbol.iterator], i = 0;
                if (m)
                    return m.call(o);
                return {
                    next: function () {
                        if (o && i >= o.length)
                            o = void 0;
                        return { value: o && o[i++], done: !o };
                    }
                };
            }
            function __read(o, n) {
                var m = typeof Symbol === "function" && o[Symbol.iterator];
                if (!m)
                    return o;
                var i = m.call(o), r, ar = [], e;
                try {
                    while ((n === void 0 || n-- > 0) && !(r = i.next()).done)
                        ar.push(r.value);
                }
                catch (error) {
                    e = { error: error };
                }
                finally {
                    try {
                        if (r && !r.done && (m = i["return"]))
                            m.call(i);
                    }
                    finally {
                        if (e)
                            throw e.error;
                    }
                }
                return ar;
            }
            function __spread() {
                for (var ar = [], i = 0; i < arguments.length; i++)
                    ar = ar.concat(__read(arguments[i]));
                return ar;
            }
            function __spreadArrays() {
                for (var s = 0, i = 0, il = arguments.length; i < il; i++)
                    s += arguments[i].length;
                for (var r = Array(s), k = 0, i = 0; i < il; i++)
                    for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)
                        r[k] = a[j];
                return r;
            }
            ;
            function __await(v) {
                return this instanceof __await ? (this.v = v, this) : new __await(v);
            }
            function __asyncGenerator(thisArg, _arguments, generator) {
                if (!Symbol.asyncIterator)
                    throw new TypeError("Symbol.asyncIterator is not defined.");
                var g = generator.apply(thisArg, _arguments || []), i, q = [];
                return i = {}, verb("next"), verb("throw"), verb("return"), i[Symbol.asyncIterator] = function () { return this; }, i;
                function verb(n) { if (g[n])
                    i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }
                function resume(n, v) { try {
                    step(g[n](v));
                }
                catch (e) {
                    settle(q[0][3], e);
                } }
                function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }
                function fulfill(value) { resume("next", value); }
                function reject(value) { resume("throw", value); }
                function settle(f, v) { if (f(v), q.shift(), q.length)
                    resume(q[0][0], q[0][1]); }
            }
            function __asyncDelegator(o) {
                var i, p;
                return i = {}, verb("next"), verb("throw", function (e) { throw e; }), verb("return"), i[Symbol.iterator] = function () { return this; }, i;
                function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === "return" } : f ? f(v) : v; } : f; }
            }
            function __asyncValues(o) {
                if (!Symbol.asyncIterator)
                    throw new TypeError("Symbol.asyncIterator is not defined.");
                var m = o[Symbol.asyncIterator], i;
                return m ? m.call(o) : (o = typeof __values === "function" ? __values(o) : o[Symbol.iterator](), i = {}, verb("next"), verb("throw"), verb("return"), i[Symbol.asyncIterator] = function () { return this; }, i);
                function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }
                function settle(resolve, reject, d, v) { Promise.resolve(v).then(function (v) { resolve({ value: v, done: d }); }, reject); }
            }
            function __makeTemplateObject(cooked, raw) {
                if (Object.defineProperty) {
                    Object.defineProperty(cooked, "raw", { value: raw });
                }
                else {
                    cooked.raw = raw;
                }
                return cooked;
            }
            ;
            function __importStar(mod) {
                if (mod && mod.__esModule)
                    return mod;
                var result = {};
                if (mod != null)
                    for (var k in mod)
                        if (Object.hasOwnProperty.call(mod, k))
                            result[k] = mod[k];
                result.default = mod;
                return result;
            }
            function __importDefault(mod) {
                return (mod && mod.__esModule) ? mod : { default: mod };
            }
            /***/ 
        }),
        /***/ "./src/$$_lazy_route_resource lazy recursive": 
        /*!**********************************************************!*\
          !*** ./src/$$_lazy_route_resource lazy namespace object ***!
          \**********************************************************/
        /*! no static exports found */
        /***/ (function (module, exports) {
            function webpackEmptyAsyncContext(req) {
                // Here Promise.resolve().then() is used instead of new Promise() to prevent
                // uncaught exception popping up in devtools
                return Promise.resolve().then(function () {
                    var e = new Error("Cannot find module '" + req + "'");
                    e.code = 'MODULE_NOT_FOUND';
                    throw e;
                });
            }
            webpackEmptyAsyncContext.keys = function () { return []; };
            webpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;
            module.exports = webpackEmptyAsyncContext;
            webpackEmptyAsyncContext.id = "./src/$$_lazy_route_resource lazy recursive";
            /***/ 
        }),
        /***/ "./src/app/app.component.css": 
        /*!***********************************!*\
          !*** ./src/app/app.component.css ***!
          \***********************************/
        /*! no static exports found */
        /***/ (function (module, exports) {
            module.exports = "/**\n * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.\n * This file is licensed under the terms of the MIT License (see LICENSE.md).\n */\n\n* {\n\tbox-sizing: border-box;\n}\n\nbody, html {\n\tmargin: 0;\n}\n\n#overlay {\n\tfont-family: Helvetica;\n\twidth: 100%;\n\theight: 100%;\n\tposition: fixed;\n\ttop: 0;\n\tbottom: 0;\n\tleft: 0;\n\tbackground: #333;\n\tdisplay: flex;\n\tflex-direction: column;\n\talign-items: center;\n\tpadding: 4vh 4vw;\n\toverflow: auto;\n}\n\n#overlay.hidden {\n\tdisplay: none;\n}\n\n#overlay .body {\n\tfont-size: 14px;\n\twidth: 100%;\n\tmax-width: 800px;\n\tbackground: white;\n\tpadding: 40px;\n\tborder-radius: 3px;\n\tbox-shadow: 0 0 15px 5px #000\n}\n\n#overlay h2 {\n\tmargin-top: 0;\n\ttext-align: center;\n}\n\n#overlay p {\n\ttext-align: center;\n\tmargin-bottom: 1.5em;\n\twidth: 100%;\n}\n\n#overlay a {\n\tcolor: hsl(219, 100%, 50%);\n\ttext-decoration: none;\n}\n\n#overlay a:hover {\n\ttext-decoration: underline;\n}\n\n#overlay .body>div {\n\tdisplay: flex;\n\talign-items: center;\n\tmargin: 15px 0;\n}\n\n#overlay .body>div label {\n\twidth: 180px;\n\tfont-weight: bold;\n}\n\n#overlay .body>div input {\n\twidth: 100%;\n\tpadding: 8px;\n\tfont-size: 1em;\n\tborder: 1px solid gray;\n\ttransition: border 0.2s\n}\n\n#overlay .body>div input.ng-invalid.ng-touched {\n\tborder: 1px solid #ff0000;\n\toutline-color: #ff0000;\n}\n\nbutton#start {\n\tdisplay: block;\n\twidth: 100%;\n\tmax-width: 300px;\n\tmargin: 20px auto 0;\n\tpadding: 15px;\n\tbackground: hsl(104, 44%, 48%);\n\tcolor: white;\n\tfont-weight: bold;\n\tborder: 0;\n\tborder-radius: 3px;\n\tfont-size: 1em;\n\tcursor: pointer;\n\ttransition: 250ms ease background;\n}\n\nbutton#start:hover {\n\tbackground: hsl(104, 44%, 41%);\n}\n\nbutton#start:disabled {\n\tbackground: lightgray;\n\tcursor: auto;\n}\n\n#overlay #additional {\n\tdisplay: none;\n\tflex-wrap: wrap;\n}\n\n#overlay #additional.visible {\n\tdisplay: flex;\n}\n\n#overlay.warning #additional > p {\n\tcolor: red;\n}\n\n#overlay.warning #user-container {\n\tborder-color: red;\n}\n\n#overlay #user-container {\n\twidth: 100%;\n\tborder: 1px solid hsl(0, 0%, 85%);\n}\n\n#overlay #user-container div {\n\tdisplay: flex;\n\tcursor: pointer;\n\talign-items: center;\n\theight: 48px;\n\tpadding: 10px;\n\tbackground: hsl(0, 0%, 97%);\n\ttransition: 250ms ease background;\n}\n\n#overlay #user-container div:nth-child(odd) {\n\tbackground: #fff;\n}\n\n#overlay #user-container div:hover {\n\tbackground: hsl(0, 0%, 92%);\n}\n\n#overlay #user-container div.active {\n\tbackground: hsl(133, 50%, 84%);\n}\n\n#overlay #user-container img, #overlay #user-container .pseudo-avatar {\n\twidth: 32px;\n\theight: 32px;\n\tborder-radius: 50%;\n\tborder: 2px solid var(--ck-user-avatar-background);\n\tmargin-right: 10px;\n\tbackground: var(--ck-user-avatar-color);\n}\n\n#overlay #user-container .pseudo-avatar {\n\tfont-size: 0.9em;\n\ttext-align: center;\n\tline-height: 30px;\n\tbackground: var(--ck-user-avatar-background);\n\tcolor: var(--ck-user-avatar-color);\n}\n\n#overlay #user-container .pseudo-avatar.anonymous {\n\tbackground-image: url(data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20viewBox%3D%220%200%2020%2020%22%3E%0A%20%20%3Cpath%20fill%3D%22%23FFF%22%20fill-rule%3D%22nonzero%22%20d%3D%22M9.8%2020H2c0-5.7%205-5.7%206-7l.2-.8c-1.6-.8-2.7-2.7-2.7-5%200-2.8%202-5.2%204.3-5.2S14%204.4%2014%207.3c0%202.2-1%204-2.6%205l.2.6c1.2%201.3%206%201.4%206%207H9.8z%22%2F%3E%0A%3C%2Fsvg%3E)\n}\n\n.role {\n\tfont-size: 11px;\n\tborder: 1px solid #3570aa;\n\tborder-radius: 4px;\n\tcolor: #3570aa;\n\tpadding: 2px 5px;\n\tmargin-left: 10px;\n\tfont-weight: bold;\n\tmargin-top: 2px;\n}\n";
            /***/ 
        }),
        /***/ "./src/app/app.component.ts": 
        /*!**********************************!*\
          !*** ./src/app/app.component.ts ***!
          \**********************************/
        /*! exports provided: AppComponent */
        /***/ (function (module, __webpack_exports__, __webpack_require__) {
            "use strict";
            __webpack_require__.r(__webpack_exports__);
            /* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AppComponent", function () { return AppComponent; });
            /* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
            /* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
            /* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/forms */ "./node_modules/@angular/forms/fesm2015/forms.js");
            var LOCAL_STORAGE_KEY = 'CKEDITOR_CS_CONFIG';
            var AppComponent = /** @class */ (function () {
                function AppComponent() {
                    this.configurationSet = false;
                    this.users = getUsers();
                    this.documentId = handleDocIdInUrl();
                    this.config = getStoredConfig();
                    this.isWarning = false;
                }
                AppComponent.prototype.handleSubmit = function () {
                    if (!this.form || !this.form.valid) {
                        return;
                    }
                    if (this.isCloudServicesTokenEndpoint() && !this.config.tokenUrl.includes('?')) {
                        this.isWarning = true;
                        return;
                    }
                    storeConfig({
                        tokenUrl: getRawTokenUrl(this.config.tokenUrl),
                        uploadUrl: this.config.uploadUrl,
                        webSocketUrl: this.config.webSocketUrl
                    });
                    updateDocIdInUrl(this.documentId);
                    this.configurationSet = true;
                };
                AppComponent.prototype.handleTokenUrlChange = function () {
                    this.isWarning = false;
                    this.selectedUser = undefined;
                };
                AppComponent.prototype.selectUser = function (user) {
                    this.selectedUser = user.id;
                    this.isWarning = false;
                    var keys = Object.keys(user);
                    this.config.tokenUrl = getRawTokenUrl(this.config.tokenUrl) + "?" + keys
                        .filter(function (key) { return user[key]; })
                        .map(function (key) {
                        if (key === 'role') {
                            return key + "=" + user[key];
                        }
                        return "user." + key + "=" + user[key];
                    })
                        .join('&');
                };
                AppComponent.prototype.isCloudServicesTokenEndpoint = function () {
                    return isCloudServicesTokenEndpoint(this.config.tokenUrl);
                };
                AppComponent.prototype.getUserInitials = function (name) {
                    return name.split(' ', 2).map(function (part) { return part.charAt(0); }).join('').toUpperCase();
                };
                AppComponent.prototype.onEditorReady = function (editor) {
                    console.log('Editor is ready to use!', editor);
                };
                return AppComponent;
            }());
            tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
                Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["ViewChild"])('form', { static: false }),
                tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", _angular_forms__WEBPACK_IMPORTED_MODULE_2__["NgForm"])
            ], AppComponent.prototype, "form", void 0);
            AppComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
                Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Component"])({
                    selector: 'app-root',
                    template: tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"](__webpack_require__(/*! raw-loader!./app.component.html */ "./node_modules/raw-loader/index.js!./src/app/app.component.html")).default,
                    styles: [tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"](__webpack_require__(/*! ./app.component.css */ "./src/app/app.component.css")).default]
                })
            ], AppComponent);
            function getUsers() {
                return [
                    {
                        id: 'e1',
                        name: 'Tom Rowling',
                        avatar: 'https://randomuser.me/api/portraits/men/30.jpg',
                        role: 'writer'
                    },
                    {
                        id: 'e2',
                        name: 'Wei Hong',
                        avatar: 'https://randomuser.me/api/portraits/women/51.jpg',
                        role: 'writer'
                    },
                    {
                        id: 'e3',
                        name: 'Rani Patel',
                        role: 'writer'
                    },
                    {
                        id: 'e4',
                        name: 'Henrik Jensen',
                        role: 'commentator'
                    },
                    {
                        id: randomString(),
                        role: 'writer'
                    },
                    {
                        id: randomString(),
                        role: 'reader'
                    }
                ];
            }
            function handleDocIdInUrl() {
                var id = getDocIdFromUrl();
                if (!id) {
                    id = randomString();
                    updateDocIdInUrl(id);
                }
                return id;
            }
            function getDocIdFromUrl() {
                var docIdMatch = location.search.match(/docId=(.+)$/);
                return docIdMatch ? decodeURIComponent(docIdMatch[1]) : null;
            }
            function randomString() {
                return Math.floor(Math.random() * Math.pow(2, 52)).toString(32);
            }
            function storeConfig(csConfig) {
                localStorage.setItem(LOCAL_STORAGE_KEY, JSON.stringify(csConfig));
            }
            function updateDocIdInUrl(id) {
                window.history.replaceState({}, document.title, generateUrlWithDocId(id));
            }
            function generateUrlWithDocId(id) {
                return window.location.href.split('?')[0] + "?docId=" + id;
            }
            function getRawTokenUrl(url) {
                if (isCloudServicesTokenEndpoint(url)) {
                    return url.split('?')[0];
                }
                return url;
            }
            function isCloudServicesTokenEndpoint(tokenUrl) {
                return /cke-cs[\w-]*\.com\/token\/dev/.test(tokenUrl);
            }
            function getStoredConfig() {
                var config = JSON.parse(localStorage.getItem(LOCAL_STORAGE_KEY) || '{}');
                return {
                    tokenUrl: config.tokenUrl || '',
                    uploadUrl: config.uploadUrl || '',
                    webSocketUrl: config.webSocketUrl || ''
                };
            }
            /***/ 
        }),
        /***/ "./src/app/app.module.ts": 
        /*!*******************************!*\
          !*** ./src/app/app.module.ts ***!
          \*******************************/
        /*! exports provided: AppModule */
        /***/ (function (module, __webpack_exports__, __webpack_require__) {
            "use strict";
            __webpack_require__.r(__webpack_exports__);
            /* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AppModule", function () { return AppModule; });
            /* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
            /* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
            /* harmony import */ var _angular_platform_browser__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/platform-browser */ "./node_modules/@angular/platform-browser/fesm2015/platform-browser.js");
            /* harmony import */ var _editor_editor_module__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./editor/editor.module */ "./src/app/editor/editor.module.ts");
            /* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @angular/forms */ "./node_modules/@angular/forms/fesm2015/forms.js");
            /* harmony import */ var _app_component__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./app.component */ "./src/app/app.component.ts");
            var AppModule = /** @class */ (function () {
                function AppModule() {
                }
                return AppModule;
            }());
            AppModule = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
                Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["NgModule"])({
                    declarations: [
                        _app_component__WEBPACK_IMPORTED_MODULE_5__["AppComponent"],
                    ],
                    imports: [
                        _angular_platform_browser__WEBPACK_IMPORTED_MODULE_2__["BrowserModule"],
                        _editor_editor_module__WEBPACK_IMPORTED_MODULE_3__["EditorModule"],
                        _angular_forms__WEBPACK_IMPORTED_MODULE_4__["FormsModule"]
                    ],
                    providers: [],
                    bootstrap: [_app_component__WEBPACK_IMPORTED_MODULE_5__["AppComponent"]]
                })
            ], AppModule);
            /***/ 
        }),
        /***/ "./src/app/editor/editor.component.css": 
        /*!*********************************************!*\
          !*** ./src/app/editor/editor.component.css ***!
          \*********************************************/
        /*! no static exports found */
        /***/ (function (module, exports) {
            module.exports = "";
            /***/ 
        }),
        /***/ "./src/app/editor/editor.component.ts": 
        /*!********************************************!*\
          !*** ./src/app/editor/editor.component.ts ***!
          \********************************************/
        /*! exports provided: EditorComponent */
        /***/ (function (module, __webpack_exports__, __webpack_require__) {
            "use strict";
            __webpack_require__.r(__webpack_exports__);
            /* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "EditorComponent", function () { return EditorComponent; });
            /* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
            /* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
            /* harmony import */ var _vendor_ckeditor5_build_classic_editor_with_real_time_collaboration_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../vendor/ckeditor5/build/classic-editor-with-real-time-collaboration.js */ "./vendor/ckeditor5/build/classic-editor-with-real-time-collaboration.js");
            /* harmony import */ var _vendor_ckeditor5_build_classic_editor_with_real_time_collaboration_js__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/ __webpack_require__.n(_vendor_ckeditor5_build_classic_editor_with_real_time_collaboration_js__WEBPACK_IMPORTED_MODULE_2__);
            var EditorComponent = /** @class */ (function () {
                function EditorComponent() {
                    this.ready = new _angular_core__WEBPACK_IMPORTED_MODULE_1__["EventEmitter"]();
                    this.Editor = _vendor_ckeditor5_build_classic_editor_with_real_time_collaboration_js__WEBPACK_IMPORTED_MODULE_2__;
                    this.data = this.getInitialData();
                    // Note that Angular refs can be used once the view is initialized so we need to create
                    // these containers and use in the above editor configuration to workaround this problem.
                    this.sidebar = document.createElement('div');
                    this.presenceList = document.createElement('div');
                    this.boundRefreshDisplayMode = this.refreshDisplayMode.bind(this);
                    this.boundCheckPendingActions = this.checkPendingActions.bind(this);
                }
                Object.defineProperty(EditorComponent.prototype, "editorConfig", {
                    get: function () {
                        return {
                            cloudServices: Object.assign({}, this.configuration, { documentId: this.documentId }),
                            sidebar: {
                                container: this.sidebar,
                            },
                            presenceList: {
                                container: this.presenceList,
                            }
                        };
                    },
                    enumerable: true,
                    configurable: true
                });
                EditorComponent.prototype.ngAfterViewInit = function () {
                    if (!this.sidebarContainer || !this.presenceListContainer) {
                        throw new Error('Div containers for sidebar or presence list were not found');
                    }
                    this.sidebarContainer.nativeElement.appendChild(this.sidebar);
                    this.presenceListContainer.nativeElement.appendChild(this.presenceList);
                };
                EditorComponent.prototype.ngOnDestroy = function () {
                    window.removeEventListener('resize', this.boundRefreshDisplayMode);
                    window.removeEventListener('beforeunload', this.boundCheckPendingActions);
                };
                EditorComponent.prototype.onReady = function (editor) {
                    this.editor = editor;
                    this.ready.emit(editor);
                    // Prevent closing the tab when any action is pending.
                    window.addEventListener('beforeunload', this.boundCheckPendingActions);
                    // Switch between inline and sidebar annotations according to the window size.
                    window.addEventListener('resize', this.boundRefreshDisplayMode);
                    this.refreshDisplayMode();
                };
                EditorComponent.prototype.checkPendingActions = function (domEvt) {
                    if (this.editor.plugins.get('PendingActions').hasAny) {
                        domEvt.preventDefault();
                        domEvt.returnValue = true;
                    }
                };
                EditorComponent.prototype.refreshDisplayMode = function () {
                    var annotations = this.editor.plugins.get('Annotations');
                    var sidebarElement = this.sidebarContainer.nativeElement;
                    if (window.innerWidth < 1070) {
                        sidebarElement.classList.remove('narrow');
                        sidebarElement.classList.add('hidden');
                        annotations.switchTo('inline');
                    }
                    else if (window.innerWidth < 1300) {
                        sidebarElement.classList.remove('hidden');
                        sidebarElement.classList.add('narrow');
                        annotations.switchTo('narrowSidebar');
                    }
                    else {
                        sidebarElement.classList.remove('hidden', 'narrow');
                        annotations.switchTo('wideSidebar');
                    }
                };
                EditorComponent.prototype.getInitialData = function () {
                    return "\n\t<h2>Bilingual Personality Disorder</h2>\n\n\t<figure class=\"image image-style-side\">\n\t\t<img src=\"https://c.cksource.com/a/1/img/docs/sample-image-bilingual-personality-disorder.jpg\">\n\t\t<figcaption>\n\t\t\tOne language, one person.\n\t\t</figcaption>\n\t</figure>\n\n\t<p>\n\t\tThis may be the first time you hear about this made-up disorder but it actually isn\u2019t so far from the truth. Even the studies\n\t\tthat were conducted almost half a century show that <strong>the language you speak has more effects on you than you realise</strong>.\n\t</p>\n\t<p>\n\t\tOne of the very first experiments conducted on this topic dates back to 1964.\n\t\t<a href=\"https://www.researchgate.net/publication/9440038_Language_and_TAT_content_in_bilinguals\">In the experiment</a>\n\t\tdesigned by linguist Ervin-Tripp who is an expert in psycholinguistic and sociolinguistic studies, adults who are bilingual\n\t\tin English in French were showed series of pictures and were asked to create 3-minute stories. In the end participants emphasized\n\t\tdrastically different dynamics for stories in English and French.\n\t</p>\n\t<p>\n\t\tAnother ground-breaking experiment which included bilingual Japanese women married to American men in San Francisco were asked\n\t\tto complete sentences. The goal of the experiment was to investigate whether or not human feelings and thoughts are expressed\n\t\tdifferently in <strong>different language mindsets</strong>.\n\t</p>\n\t<p>Here is a sample from the the experiment:</p>\n\n\t<table>\n\t\t<thead>\n\t\t\t<tr>\n\t\t\t\t<th></th>\n\t\t\t\t<th>English</th>\n\t\t\t\t<th>Japanese</th>\n\t\t\t</tr>\n\t\t</thead>\n\t\t<tbody>\n\t\t\t<tr>\n\t\t\t\t<td>Real friends should</td>\n\t\t\t\t<td>Be very frank</td>\n\t\t\t\t<td>Help each other</td>\n\t\t\t</tr>\n\t\t\t<tr>\n\t\t\t\t<td>I will probably become</td>\n\t\t\t\t<td>A teacher</td>\n\t\t\t\t<td>A housewife</td>\n\t\t\t</tr>\n\t\t\t<tr>\n\t\t\t\t<td>When there is a conflict with family</td>\n\t\t\t\t<td>I do what I want</td>\n\t\t\t\t<td>It's a time of great unhappiness</td>\n\t\t\t</tr>\n\t\t</tbody>\n\t</table>\n\n\t<p>\n\t\tMore recent <a href=\"https://books.google.pl/books?id=1LMhWGHGkRUC\">studies</a> show, the language a person speaks affects\n\t\ttheir cognition, behaviour, emotions and hence <strong>their personality</strong>. This shouldn\u2019t come as a surprise\n\t\t<a href=\"https://en.wikipedia.org/wiki/Lateralization_of_brain_function\">since wealready know</a> that different regions\n\t\tof the brain become more active depending on the person\u2019s activity at hand. Since structure, information and especially\n\t\t<strong>the culture</strong> of languages varies substantially and the language a person speaks is an essential element of daily life.\n\t</p>\n";
                };
                return EditorComponent;
            }());
            tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
                Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Input"])(),
                tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", Object)
            ], EditorComponent.prototype, "configuration", void 0);
            tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
                Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Input"])(),
                tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", String)
            ], EditorComponent.prototype, "documentId", void 0);
            tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
                Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Output"])(),
                tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", Object)
            ], EditorComponent.prototype, "ready", void 0);
            tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
                Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["ViewChild"])('sidebar', { static: true }),
                tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", _angular_core__WEBPACK_IMPORTED_MODULE_1__["ElementRef"])
            ], EditorComponent.prototype, "sidebarContainer", void 0);
            tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
                Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["ViewChild"])('presenceList', { static: true }),
                tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", _angular_core__WEBPACK_IMPORTED_MODULE_1__["ElementRef"])
            ], EditorComponent.prototype, "presenceListContainer", void 0);
            EditorComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
                Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Component"])({
                    selector: 'app-editor',
                    template: tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"](__webpack_require__(/*! raw-loader!./editor.component.html */ "./node_modules/raw-loader/index.js!./src/app/editor/editor.component.html")).default,
                    styles: [tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"](__webpack_require__(/*! ./editor.component.css */ "./src/app/editor/editor.component.css")).default]
                })
            ], EditorComponent);
            /***/ 
        }),
        /***/ "./src/app/editor/editor.module.ts": 
        /*!*****************************************!*\
          !*** ./src/app/editor/editor.module.ts ***!
          \*****************************************/
        /*! exports provided: EditorModule */
        /***/ (function (module, __webpack_exports__, __webpack_require__) {
            "use strict";
            __webpack_require__.r(__webpack_exports__);
            /* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "EditorModule", function () { return EditorModule; });
            /* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
            /* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
            /* harmony import */ var _ckeditor_ckeditor5_angular__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @ckeditor/ckeditor5-angular */ "./node_modules/@ckeditor/ckeditor5-angular/fesm2015/ckeditor-ckeditor5-angular.js");
            /* harmony import */ var _editor_component__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./editor.component */ "./src/app/editor/editor.component.ts");
            var EditorModule = /** @class */ (function () {
                function EditorModule() {
                }
                return EditorModule;
            }());
            EditorModule = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
                Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["NgModule"])({
                    declarations: [
                        _editor_component__WEBPACK_IMPORTED_MODULE_3__["EditorComponent"]
                    ],
                    imports: [
                        _ckeditor_ckeditor5_angular__WEBPACK_IMPORTED_MODULE_2__["CKEditorModule"],
                    ],
                    providers: [],
                    bootstrap: [_editor_component__WEBPACK_IMPORTED_MODULE_3__["EditorComponent"]],
                    exports: [
                        _editor_component__WEBPACK_IMPORTED_MODULE_3__["EditorComponent"]
                    ]
                })
            ], EditorModule);
            /***/ 
        }),
        /***/ "./src/environments/environment.ts": 
        /*!*****************************************!*\
          !*** ./src/environments/environment.ts ***!
          \*****************************************/
        /*! exports provided: environment */
        /***/ (function (module, __webpack_exports__, __webpack_require__) {
            "use strict";
            __webpack_require__.r(__webpack_exports__);
            /* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "environment", function () { return environment; });
            /* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
            // This file can be replaced during build by using the `fileReplacements` array.
            // `ng build --prod` replaces `environment.ts` with `environment.prod.ts`.
            // The list of file replacements can be found in `angular.json`.
            var environment = {
                production: false
            };
            /*
             * For easier debugging in development mode, you can import the following file
             * to ignore zone related error stack frames such as `zone.run`, `zoneDelegate.invokeTask`.
             *
             * This import should be commented out in production mode because it will have a negative impact
             * on performance if an error is thrown.
             */
            // import 'zone.js/dist/zone-error';  // Included with Angular CLI.
            /***/ 
        }),
        /***/ "./src/main.ts": 
        /*!*********************!*\
          !*** ./src/main.ts ***!
          \*********************/
        /*! no exports provided */
        /***/ (function (module, __webpack_exports__, __webpack_require__) {
            "use strict";
            __webpack_require__.r(__webpack_exports__);
            /* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
            /* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
            /* harmony import */ var _angular_platform_browser_dynamic__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/platform-browser-dynamic */ "./node_modules/@angular/platform-browser-dynamic/fesm2015/platform-browser-dynamic.js");
            /* harmony import */ var _app_app_module__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./app/app.module */ "./src/app/app.module.ts");
            /* harmony import */ var _environments_environment__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./environments/environment */ "./src/environments/environment.ts");
            if (_environments_environment__WEBPACK_IMPORTED_MODULE_4__["environment"].production) {
                Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["enableProdMode"])();
            }
            Object(_angular_platform_browser_dynamic__WEBPACK_IMPORTED_MODULE_2__["platformBrowserDynamic"])().bootstrapModule(_app_app_module__WEBPACK_IMPORTED_MODULE_3__["AppModule"])
                .catch(function (err) { return console.error(err); });
            /***/ 
        }),
        /***/ "./vendor/ckeditor5/build/classic-editor-with-real-time-collaboration.js": 
        /*!*******************************************************************************!*\
          !*** ./vendor/ckeditor5/build/classic-editor-with-real-time-collaboration.js ***!
          \*******************************************************************************/
        /*! no static exports found */
        /***/ (function (module, exports, __webpack_require__) {
            /*!
             * CKEditor 5 with collaboration features is licensed only under a commercial license and is protected by copyright law.
             * For more details about available licensing options please contact us at https://ckeditor.com/contact/.
             */
            !function (t) { t.en = Object.assign(t.en || {}, { a: "Cannot upload file:", b: "Image toolbar", c: "Table toolbar", d: "Bold", e: "Italic", f: "Strikethrough", g: "Underline", h: "Block quote", i: "Insert image or file", j: "Choose heading", k: "Heading", l: "image widget", m: "Full size image", n: "Side image", o: "Left aligned image", p: "Centered image", q: "Right aligned image", r: "Insert image", s: "Numbered List", t: "Bulleted List", u: "Insert table", v: "Header column", w: "Insert column left", x: "Insert column right", y: "Delete column", z: "Column", aa: "Header row", ab: "Insert row below", ac: "Insert row above", ad: "Delete row", ae: "Row", af: "Merge cell up", ag: "Merge cell right", ah: "Merge cell down", ai: "Merge cell left", aj: "Split cell vertically", ak: "Split cell horizontally", al: "Merge cells", am: "Align left", an: "Align right", ao: "Align center", ap: "Justify", aq: "Text alignment", ar: "Text alignment toolbar", as: "Font Size", at: "Default", au: "Tiny", av: "Small", aw: "Big", ax: "Huge", ay: "Font Family", az: "Remove Format", ba: "Enter image caption", bb: "Upload failed", bc: "media widget", bd: "Yellow marker", be: "Green marker", bf: "Pink marker", bg: "Blue marker", bh: "Red pen", bi: "Green pen", bj: "Remove highlight", bk: "Highlight", bl: "Text highlight toolbar", bm: "Widget toolbar", bn: "Upload in progress", bo: "Insert media", bp: "The URL must not be empty.", bq: "This media URL is not supported.", br: "Link", bs: "Could not obtain resized image URL.", bt: "Selecting resized image failed", bu: "Could not insert image at the current position.", bv: "Inserting image failed", bw: "Change image text alternative", bx: "Black", by: "Dim grey", bz: "Grey", ca: "Light grey", cb: "White", cc: "Red", cd: "Orange", ce: "Yellow", cf: "Light green", cg: "Green", ch: "Aquamarine", ci: "Turquoise", cj: "Light blue", ck: "Blue", cl: "Purple", cm: "Dropdown toolbar", cn: "Rich Text Editor", co: "Unlink", cp: "Edit link", cq: "Open link in new tab", cr: "This link has no URL", cs: "Open in a new tab", ct: "Downloadable", cu: "Save", cv: "Cancel", cw: "Link URL", cx: "Text alternative", cy: "%0 of %1", cz: "Previous", da: "Next", db: "Editor toolbar", dc: "Show more items", dd: "Undo", de: "Redo", df: "Rich Text Editor, %0", dg: "Paste the media URL in the input.", dh: "Tip: Paste the URL into the content to embed faster.", di: "Media URL", dj: "Paragraph", dk: "Heading 1", dl: "Heading 2", dm: "Heading 3", dn: "Heading 4", do: "Heading 5", dp: "Heading 6" }); }(window.CKEDITOR_TRANSLATIONS || (window.CKEDITOR_TRANSLATIONS = {})), function (t, e) { true ? module.exports = e() : undefined; }(window, function () {
                return function (t) { var e = {}; function n(i) { if (e[i])
                    return e[i].exports; var o = e[i] = { i: i, l: !1, exports: {} }; return t[i].call(o.exports, o, o.exports, n), o.l = !0, o.exports; } return n.m = t, n.c = e, n.d = function (t, e, i) { n.o(t, e) || Object.defineProperty(t, e, { enumerable: !0, get: i }); }, n.r = function (t) { "undefined" != typeof Symbol && Symbol.toStringTag && Object.defineProperty(t, Symbol.toStringTag, { value: "Module" }), Object.defineProperty(t, "__esModule", { value: !0 }); }, n.t = function (t, e) { if (1 & e && (t = n(t)), 8 & e)
                    return t; if (4 & e && "object" == typeof t && t && t.__esModule)
                    return t; var i = Object.create(null); if (n.r(i), Object.defineProperty(i, "default", { enumerable: !0, value: t }), 2 & e && "string" != typeof t)
                    for (var o in t)
                        n.d(i, o, function (e) { return t[e]; }.bind(null, o)); return i; }, n.n = function (t) { var e = t && t.__esModule ? function () { return t.default; } : function () { return t; }; return n.d(e, "a", e), e; }, n.o = function (t, e) { return Object.prototype.hasOwnProperty.call(t, e); }, n.p = "", n(n.s = 305); }([function (t, e, n) {
                        "use strict";
                        n.d(e, "b", function () { return o; }), n.d(e, "a", function () { return r; });
                        var i = "https://ckeditor.com/docs/ckeditor5/latest/framework/guides/support/error-codes.html";
                        var o = /** @class */ (function (_super) {
                            __extends(o, _super);
                            function o(t, e, n) {
                                var _this = this;
                                t = r(t), n && (t += " " + JSON.stringify(n)), _this = _super.call(this, t) || this, _this.name = "CKEditorError", _this.context = e, _this.data = n;
                                return _this;
                            }
                            o.prototype.is = function (t) { return "CKEditorError" === t; };
                            o.rethrowUnexpectedError = function (t, e) { if (t.is && t.is("CKEditorError"))
                                throw t; var n = new o(t.message, e); throw n.stack = t.stack, n; };
                            return o;
                        }(Error));
                        function r(t) { var e = t.match(/^([^:]+):/); return e ? t + (" Read more: " + i + "#error-" + e[1] + "\n") : t; }
                    }, function (t, e, n) {
                        "use strict";
                        var i = {}, o = function () { var t; return function () { return void 0 === t && (t = Boolean(window && document && document.all && !window.atob)), t; }; }(), r = function () { var t = {}; return function (e) { if (void 0 === t[e]) {
                            var n = document.querySelector(e);
                            if (window.HTMLIFrameElement && n instanceof window.HTMLIFrameElement)
                                try {
                                    n = n.contentDocument.head;
                                }
                                catch (t) {
                                    n = null;
                                }
                            t[e] = n;
                        } return t[e]; }; }();
                        function s(t, e) { for (var n = [], i = {}, o = 0; o < t.length; o++) {
                            var r = t[o], s = e.base ? r[0] + e.base : r[0], a = { css: r[1], media: r[2], sourceMap: r[3] };
                            i[s] ? i[s].parts.push(a) : n.push(i[s] = { id: s, parts: [a] });
                        } return n; }
                        function a(t, e) { for (var n = 0; n < t.length; n++) {
                            var o = t[n], r = i[o.id], s = 0;
                            if (r) {
                                for (r.refs++; s < r.parts.length; s++)
                                    r.parts[s](o.parts[s]);
                                for (; s < o.parts.length; s++)
                                    r.parts.push(f(o.parts[s], e));
                            }
                            else {
                                for (var a = []; s < o.parts.length; s++)
                                    a.push(f(o.parts[s], e));
                                i[o.id] = { id: o.id, refs: 1, parts: a };
                            }
                        } }
                        function c(t) { var e = document.createElement("style"); if (void 0 === t.attributes.nonce) {
                            var i = n.nc;
                            i && (t.attributes.nonce = i);
                        } if (Object.keys(t.attributes).forEach(function (n) { e.setAttribute(n, t.attributes[n]); }), "function" == typeof t.insert)
                            t.insert(e);
                        else {
                            var o = r(t.insert || "head");
                            if (!o)
                                throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");
                            o.appendChild(e);
                        } return e; }
                        var l = function () { var t = []; return function (e, n) { return t[e] = n, t.filter(Boolean).join("\n"); }; }();
                        function d(t, e, n, i) { var o = n ? "" : i.css; if (t.styleSheet)
                            t.styleSheet.cssText = l(e, o);
                        else {
                            var r = document.createTextNode(o), s = t.childNodes;
                            s[e] && t.removeChild(s[e]), s.length ? t.insertBefore(r, s[e]) : t.appendChild(r);
                        } }
                        var u = null, h = 0;
                        function f(t, e) { var n, i, o; if (e.singleton) {
                            var r = h++;
                            n = u || (u = c(e)), i = d.bind(null, n, r, !1), o = d.bind(null, n, r, !0);
                        }
                        else
                            n = c(e), i = function (t, e, n) { var i = n.css, o = n.media, r = n.sourceMap; if (o && t.setAttribute("media", o), r && btoa && (i += "\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(r)))), " */")), t.styleSheet)
                                t.styleSheet.cssText = i;
                            else {
                                for (; t.firstChild;)
                                    t.removeChild(t.firstChild);
                                t.appendChild(document.createTextNode(i));
                            } }.bind(null, n, e), o = function () { !function (t) { if (null === t.parentNode)
                                return !1; t.parentNode.removeChild(t); }(n); }; return i(t), function (e) { if (e) {
                            if (e.css === t.css && e.media === t.media && e.sourceMap === t.sourceMap)
                                return;
                            i(t = e);
                        }
                        else
                            o(); }; }
                        t.exports = function (t, e) { (e = e || {}).attributes = "object" == typeof e.attributes ? e.attributes : {}, e.singleton || "boolean" == typeof e.singleton || (e.singleton = o()); var n = s(t, e); return a(n, e), function (t) { for (var o = [], r = 0; r < n.length; r++) {
                            var c = n[r], l = i[c.id];
                            l && (l.refs--, o.push(l));
                        } t && a(s(t, e), e); for (var d = 0; d < o.length; d++) {
                            var u = o[d];
                            if (0 === u.refs) {
                                for (var h = 0; h < u.parts.length; h++)
                                    u.parts[h]();
                                delete i[u.id];
                            }
                        } }; };
                    }, function (t, e, n) {
                        "use strict";
                        (function (t, i) { n.d(e, "a", function () { return r; }); var o = !(void 0 === t || !t.versions || !t.versions.node);
                            var r = /** @class */ (function () {
                                function r() {
                                }
                                Object.defineProperty(r, "TYPES", {
                                    get: function () { return { BUFFER: 1, STRING: 2, NUMBER: 3, OBJECT: 4 }; },
                                    enumerable: true,
                                    configurable: true
                                });
                                r.getPacketType = function () {
                                    var t = [];
                                    for (var _j = 0; _j < arguments.length; _j++) {
                                        t[_j] = arguments[_j];
                                    }
                                    var e = 0;
                                    for (var n_1 = 0; n_1 < t.length; n_1++) {
                                        var i_1 = t[n_1];
                                        e += ("number" == typeof i_1 ? i_1 : String(i_1).toUpperCase()) * Math.pow(10, t.length - n_1 - 1);
                                    }
                                    return e;
                                };
                                r.getTypeName = function (t) { if (r.isBuffer(t))
                                    return r.TYPES.BUFFER; var e = typeof t; return "string" === e ? r.TYPES.STRING : "number" === e ? r.TYPES.NUMBER : r.TYPES.OBJECT; };
                                r.isBuffer = function (t) { return o && i.isBuffer(t) || t instanceof ArrayBuffer || t instanceof Uint8Array || function (t) { return "function" == typeof ArrayBuffer.isView ? ArrayBuffer.isView(t) : t.buffer instanceof ArrayBuffer; }(t); };
                                return r;
                            }());  }).call(this, n(33), n(21).Buffer);
                    }, , function (t, e, n) {
                        "use strict";
                        var i = n(26), o = "object" == typeof self && self && self.Object === Object && self, r = i.a || o || Function("return this")();
                        e.a = r;
                    }, function (t, e, n) {
                        "use strict";
                        var i, o, r = t.exports = n(9), s = n(66);
                        r.codegen = n(255), r.fetch = n(256), r.path = n(257), r.fs = r.inquire("fs"), r.toArray = function (t) { if (t) {
                            for (var e = Object.keys(t), n = new Array(e.length), i = 0; i < e.length;)
                                n[i] = t[e[i++]];
                            return n;
                        } return []; }, r.toObject = function (t) { for (var e = {}, n = 0; n < t.length;) {
                            var i = t[n++], o = t[n++];
                            void 0 !== o && (e[i] = o);
                        } return e; };
                        var a = /\\/g, c = /"/g;
                        r.isReserved = function (t) { return /^(?:do|if|in|for|let|new|try|var|case|else|enum|eval|false|null|this|true|void|with|break|catch|class|const|super|throw|while|yield|delete|export|import|public|return|static|switch|typeof|default|extends|finally|package|private|continue|debugger|function|arguments|interface|protected|implements|instanceof)$/.test(t); }, r.safeProp = function (t) { return !/^[$\w_]+$/.test(t) || r.isReserved(t) ? '["' + t.replace(a, "\\\\").replace(c, '\\"') + '"]' : "." + t; }, r.ucFirst = function (t) { return t.charAt(0).toUpperCase() + t.substring(1); };
                        var l = /_([a-z])/g;
                        r.camelCase = function (t) { return t.substring(0, 1) + t.substring(1).replace(l, function (t, e) { return e.toUpperCase(); }); }, r.compareFieldsById = function (t, e) { return t.id - e.id; }, r.decorateType = function (t, e) { if (t.$type)
                            return e && t.$type.name !== e && (r.decorateRoot.remove(t.$type), t.$type.name = e, r.decorateRoot.add(t.$type)), t.$type; i || (i = n(68)); var o = new i(e || t.name); return r.decorateRoot.add(o), o.ctor = t, Object.defineProperty(t, "$type", { value: o, enumerable: !1 }), Object.defineProperty(t.prototype, "$type", { value: o, enumerable: !1 }), o; };
                        var d = 0;
                        r.decorateEnum = function (t) { if (t.$type)
                            return t.$type; o || (o = n(10)); var e = new o("Enum" + d++, t); return r.decorateRoot.add(e), Object.defineProperty(t, "$type", { value: e, enumerable: !1 }), e; }, Object.defineProperty(r, "decorateRoot", { get: function () { return s.decorated || (s.decorated = new (n(76))); } });
                    }, function (t, e) { t.exports = '<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M6.972 16.615a.997.997 0 0 1-.744-.292l-4.596-4.596a1 1 0 1 1 1.414-1.414l3.926 3.926 9.937-9.937a1 1 0 0 1 1.414 1.415L7.717 16.323a.997.997 0 0 1-.745.292z"/></svg>'; }, function (t, e) { t.exports = '<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M11.591 10.177l4.243 4.242a1 1 0 0 1-1.415 1.415l-4.242-4.243-4.243 4.243a1 1 0 0 1-1.414-1.415l4.243-4.242L4.52 5.934A1 1 0 0 1 5.934 4.52l4.243 4.243 4.242-4.243a1 1 0 1 1 1.415 1.414l-4.243 4.243z"/></svg>'; }, function (t, e, n) { (function (i) { e.log = function () {
                        var t = [];
                        for (var _j = 0; _j < arguments.length; _j++) {
                            t[_j] = arguments[_j];
                        }
                        return "object" == typeof console && console.log && console.log.apply(console, __spread(t));
                    }, e.formatArgs = function (e) { if (e[0] = (this.useColors ? "%c" : "") + this.namespace + (this.useColors ? " %c" : " ") + e[0] + (this.useColors ? "%c " : " ") + "+" + t.exports.humanize(this.diff), !this.useColors)
                        return; var n = "color: " + this.color; e.splice(1, 0, n, "color: inherit"); var i = 0, o = 0; e[0].replace(/%[a-zA-Z%]/g, function (t) { "%%" !== t && "%c" === t && (o = ++i); }), e.splice(o, 0, n); }, e.save = function (t) { try {
                        t ? e.storage.setItem("debug", t) : e.storage.removeItem("debug");
                    }
                    catch (t) { } }, e.load = function () { var t; try {
                        t = e.storage.getItem("debug");
                    }
                    catch (t) { } !t && void 0 !== i && "env" in i && (t = i.env.DEBUG); return t; }, e.useColors = function () { if ("undefined" != typeof window && window.process && ("renderer" === window.process.type || window.process.__nwjs))
                        return !0; if ("undefined" != typeof navigator && navigator.userAgent && navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))
                        return !1; return "undefined" != typeof document && document.documentElement && document.documentElement.style && document.documentElement.style.WebkitAppearance || "undefined" != typeof window && window.console && (window.console.firebug || window.console.exception && window.console.table) || "undefined" != typeof navigator && navigator.userAgent && navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/) && parseInt(RegExp.$1, 10) >= 31 || "undefined" != typeof navigator && navigator.userAgent && navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/); }, e.storage = function () { try {
                        return localStorage;
                    }
                    catch (t) { } }(), e.colors = ["#0000CC", "#0000FF", "#0033CC", "#0033FF", "#0066CC", "#0066FF", "#0099CC", "#0099FF", "#00CC00", "#00CC33", "#00CC66", "#00CC99", "#00CCCC", "#00CCFF", "#3300CC", "#3300FF", "#3333CC", "#3333FF", "#3366CC", "#3366FF", "#3399CC", "#3399FF", "#33CC00", "#33CC33", "#33CC66", "#33CC99", "#33CCCC", "#33CCFF", "#6600CC", "#6600FF", "#6633CC", "#6633FF", "#66CC00", "#66CC33", "#9900CC", "#9900FF", "#9933CC", "#9933FF", "#99CC00", "#99CC33", "#CC0000", "#CC0033", "#CC0066", "#CC0099", "#CC00CC", "#CC00FF", "#CC3300", "#CC3333", "#CC3366", "#CC3399", "#CC33CC", "#CC33FF", "#CC6600", "#CC6633", "#CC9900", "#CC9933", "#CCCC00", "#CCCC33", "#FF0000", "#FF0033", "#FF0066", "#FF0099", "#FF00CC", "#FF00FF", "#FF3300", "#FF3333", "#FF3366", "#FF3399", "#FF33CC", "#FF33FF", "#FF6600", "#FF6633", "#FF9900", "#FF9933", "#FFCC00", "#FFCC33"], t.exports = n(218)(e); var o = t.exports.formatters; o.j = function (t) { try {
                        return JSON.stringify(t);
                    }
                    catch (t) {
                        return "[UnexpectedJSONParseError]: " + t.message;
                    } }; }).call(this, n(33)); }, function (t, e, n) {
                        "use strict";
                        (function (t) { var i = e; function o(t, e, n) { for (var i = Object.keys(e), o = 0; o < i.length; ++o)
                            void 0 !== t[i[o]] && n || (t[i[o]] = e[i[o]]); return t; } function r(t) { function e(t, n) { if (!(this instanceof e))
                            return new e(t, n); Object.defineProperty(this, "message", { get: function () { return t; } }), Error.captureStackTrace ? Error.captureStackTrace(this, e) : Object.defineProperty(this, "stack", { value: (new Error).stack || "" }), n && o(this, n); } return (e.prototype = Object.create(Error.prototype)).constructor = e, Object.defineProperty(e.prototype, "name", { get: function () { return t; } }), e.prototype.toString = function () { return this.name + ": " + this.message; }, e; } i.asPromise = n(63), i.base64 = n(246), i.EventEmitter = n(247), i.float = n(248), i.inquire = n(64), i.utf8 = n(249), i.pool = n(250), i.LongBits = n(251), i.global = "undefined" != typeof window && window || void 0 !== t && t || "undefined" != typeof self && self || this, i.emptyArray = Object.freeze ? Object.freeze([]) : [], i.emptyObject = Object.freeze ? Object.freeze({}) : {}, i.isNode = Boolean(i.global.process && i.global.process.versions && i.global.process.versions.node), i.isInteger = Number.isInteger || function (t) { return "number" == typeof t && isFinite(t) && Math.floor(t) === t; }, i.isString = function (t) { return "string" == typeof t || t instanceof String; }, i.isObject = function (t) { return t && "object" == typeof t; }, i.isset = i.isSet = function (t, e) { var n = t[e]; return !(null == n || !t.hasOwnProperty(e)) && ("object" != typeof n || (Array.isArray(n) ? n.length : Object.keys(n).length) > 0); }, i.Buffer = function () { try {
                            var t = i.inquire("buffer").Buffer;
                            return t.prototype.utf8Write ? t : null;
                        }
                        catch (t) {
                            return null;
                        } }(), i._Buffer_from = null, i._Buffer_allocUnsafe = null, i.newBuffer = function (t) { return "number" == typeof t ? i.Buffer ? i._Buffer_allocUnsafe(t) : new i.Array(t) : i.Buffer ? i._Buffer_from(t) : "undefined" == typeof Uint8Array ? t : new Uint8Array(t); }, i.Array = "undefined" != typeof Uint8Array ? Uint8Array : Array, i.Long = i.global.dcodeIO && i.global.dcodeIO.Long || i.global.Long || i.inquire("long"), i.key2Re = /^true|false|0|1$/, i.key32Re = /^-?(?:0|[1-9][0-9]*)$/, i.key64Re = /^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/, i.longToHash = function (t) { return t ? i.LongBits.from(t).toHash() : i.LongBits.zeroHash; }, i.longFromHash = function (t, e) { var n = i.LongBits.fromHash(t); return i.Long ? i.Long.fromBits(n.lo, n.hi, e) : n.toNumber(Boolean(e)); }, i.merge = o, i.lcFirst = function (t) { return t.charAt(0).toLowerCase() + t.substring(1); }, i.newError = r, i.ProtocolError = r("ProtocolError"), i.oneOfGetter = function (t) { for (var e = {}, n = 0; n < t.length; ++n)
                            e[t[n]] = 1; return function () { for (var t = Object.keys(this), n = t.length - 1; n > -1; --n)
                            if (1 === e[t[n]] && void 0 !== this[t[n]] && null !== this[t[n]])
                                return t[n]; }; }, i.oneOfSetter = function (t) { return function (e) { for (var n = 0; n < t.length; ++n)
                            t[n] !== e && delete this[t[n]]; }; }, i.toJSONOptions = { longs: String, enums: String, bytes: String, json: !0 }, i._configure = function () { var t = i.Buffer; t ? (i._Buffer_from = t.from !== Uint8Array.from && t.from || function (e, n) { return new t(e, n); }, i._Buffer_allocUnsafe = t.allocUnsafe || function (e) { return new t(e); }) : i._Buffer_from = i._Buffer_allocUnsafe = null; }; }).call(this, n(15));
                    }, function (t, e, n) {
                        "use strict";
                        t.exports = s;
                        var i = n(17);
                        ((s.prototype = Object.create(i.prototype)).constructor = s).className = "Enum";
                        var o = n(22), r = n(5);
                        function s(t, e, n, o, r) { if (i.call(this, t, n), e && "object" != typeof e)
                            throw TypeError("values must be an object"); if (this.valuesById = {}, this.values = Object.create(this.valuesById), this.comment = o, this.comments = r || {}, this.reserved = void 0, e)
                            for (var s = Object.keys(e), a = 0; a < s.length; ++a)
                                "number" == typeof e[s[a]] && (this.valuesById[this.values[s[a]] = e[s[a]]] = s[a]); }
                        s.fromJSON = function (t, e) { var n = new s(t, e.values, e.options, e.comment, e.comments); return n.reserved = e.reserved, n; }, s.prototype.toJSON = function (t) { var e = !!t && Boolean(t.keepComments); return r.toObject(["options", this.options, "values", this.values, "reserved", this.reserved && this.reserved.length ? this.reserved : void 0, "comment", e ? this.comment : void 0, "comments", e ? this.comments : void 0]); }, s.prototype.add = function (t, e, n) { if (!r.isString(t))
                            throw TypeError("name must be a string"); if (!r.isInteger(e))
                            throw TypeError("id must be an integer"); if (void 0 !== this.values[t])
                            throw Error("duplicate name '" + t + "' in " + this); if (this.isReservedId(e))
                            throw Error("id " + e + " is reserved in " + this); if (this.isReservedName(t))
                            throw Error("name '" + t + "' is reserved in " + this); if (void 0 !== this.valuesById[e]) {
                            if (!this.options || !this.options.allow_alias)
                                throw Error("duplicate id " + e + " in " + this);
                            this.values[t] = e;
                        }
                        else
                            this.valuesById[this.values[t] = e] = t; return this.comments[t] = n || null, this; }, s.prototype.remove = function (t) { if (!r.isString(t))
                            throw TypeError("name must be a string"); var e = this.values[t]; if (null == e)
                            throw Error("name '" + t + "' does not exist in " + this); return delete this.valuesById[e], delete this.values[t], delete this.comments[t], this; }, s.prototype.isReservedId = function (t) { return o.isReservedId(this.reserved, t); }, s.prototype.isReservedName = function (t) { return o.isReservedName(this.reserved, t); };
                    }, function (t, e, n) {
                        "use strict";
                        (function (t) { var i = n(26), o = true && exports && !exports.nodeType && exports, r = o && "object" == typeof t && t && !t.nodeType && t, s = r && r.exports === o && i.a.process, a = function () { try {
                            var t = r && r.require && r.require("util").types;
                            return t || s && s.binding && s.binding("util");
                        }
                        catch (t) { } }(); e.a = a; }).call(this, n(32)(t));
                    }, function (t, e, n) { function i(t) { if (t)
                        return function (t) { for (var e in i.prototype)
                            t[e] = i.prototype[e]; return t; }(t); } t.exports = i, i.prototype.on = i.prototype.addEventListener = function (t, e) { return this._callbacks = this._callbacks || {}, (this._callbacks["$" + t] = this._callbacks["$" + t] || []).push(e), this; }, i.prototype.once = function (t, e) { function n() { this.off(t, n), e.apply(this, arguments); } return n.fn = e, this.on(t, n), this; }, i.prototype.off = i.prototype.removeListener = i.prototype.removeAllListeners = i.prototype.removeEventListener = function (t, e) { if (this._callbacks = this._callbacks || {}, 0 == arguments.length)
                        return this._callbacks = {}, this; var n, i = this._callbacks["$" + t]; if (!i)
                        return this; if (1 == arguments.length)
                        return delete this._callbacks["$" + t], this; for (var o = 0; o < i.length; o++)
                        if ((n = i[o]) === e || n.fn === e) {
                            i.splice(o, 1);
                            break;
                        } return this; }, i.prototype.emit = function (t) { this._callbacks = this._callbacks || {}; var e = [].slice.call(arguments, 1), n = this._callbacks["$" + t]; if (n)
                        for (var i = 0, o = (n = n.slice(0)).length; i < o; ++i)
                            n[i].apply(this, e); return this; }, i.prototype.listeners = function (t) { return this._callbacks = this._callbacks || {}, this._callbacks["$" + t] || []; }, i.prototype.hasListeners = function (t) { return !!this.listeners(t).length; }; }, function (t, e, n) { var i = n(272), o = n(80), r = 36e5, s = 6e4, a = 2, c = /[T ]/, l = /:/, d = /^(\d{2})$/, u = [/^([+-]\d{2})$/, /^([+-]\d{3})$/, /^([+-]\d{4})$/], h = /^(\d{4})/, f = [/^([+-]\d{4})/, /^([+-]\d{5})/, /^([+-]\d{6})/], p = /^-(\d{2})$/, m = /^-?(\d{3})$/, g = /^-?(\d{2})-?(\d{2})$/, x = /^-?W(\d{2})$/, b = /^-?W(\d{2})-?(\d{1})$/, k = /^(\d{2}([.,]\d*)?)$/, w = /^(\d{2}):?(\d{2}([.,]\d*)?)$/, v = /^(\d{2}):?(\d{2}):?(\d{2}([.,]\d*)?)$/, y = /([Z+-].*)$/, _ = /^(Z)$/, C = /^([+-])(\d{2})$/, T = /^([+-])(\d{2}):?(\d{2})$/; function A(t, e, n) { e = e || 0, n = n || 0; var i = new Date(0); i.setUTCFullYear(t, 0, 4); var o = 7 * e + n + 1 - (i.getUTCDay() || 7); return i.setUTCDate(i.getUTCDate() + o), i; } t.exports = function (t, e) { if (o(t))
                        return new Date(t.getTime()); if ("string" != typeof t)
                        return new Date(t); var n = (e || {}).additionalDigits; n = null == n ? a : Number(n); var S = function (t) { var e, n = {}, i = t.split(c); if (l.test(i[0]) ? (n.date = null, e = i[0]) : (n.date = i[0], e = i[1]), e) {
                        var o = y.exec(e);
                        o ? (n.time = e.replace(o[1], ""), n.timezone = o[1]) : n.time = e;
                    } return n; }(t), E = function (t, e) { var n, i = u[e], o = f[e]; if (n = h.exec(t) || o.exec(t)) {
                        var r = n[1];
                        return { year: parseInt(r, 10), restDateString: t.slice(r.length) };
                    } if (n = d.exec(t) || i.exec(t)) {
                        var s = n[1];
                        return { year: 100 * parseInt(s, 10), restDateString: t.slice(s.length) };
                    } return { year: null }; }(S.date, n), P = E.year, I = function (t, e) { if (null === e)
                        return null; var n, i, o, r; if (0 === t.length)
                        return (i = new Date(0)).setUTCFullYear(e), i; if (n = p.exec(t))
                        return i = new Date(0), o = parseInt(n[1], 10) - 1, i.setUTCFullYear(e, o), i; if (n = m.exec(t)) {
                        i = new Date(0);
                        var s = parseInt(n[1], 10);
                        return i.setUTCFullYear(e, 0, s), i;
                    } if (n = g.exec(t)) {
                        i = new Date(0), o = parseInt(n[1], 10) - 1;
                        var a = parseInt(n[2], 10);
                        return i.setUTCFullYear(e, o, a), i;
                    } if (n = x.exec(t))
                        return r = parseInt(n[1], 10) - 1, A(e, r); if (n = b.exec(t)) {
                        r = parseInt(n[1], 10) - 1;
                        var c = parseInt(n[2], 10) - 1;
                        return A(e, r, c);
                    } return null; }(E.restDateString, P); if (I) {
                        var N, M = I.getTime(), O = 0;
                        if (S.time && (O = function (t) { var e, n, i; if (e = k.exec(t))
                            return (n = parseFloat(e[1].replace(",", "."))) % 24 * r; if (e = w.exec(t))
                            return n = parseInt(e[1], 10), i = parseFloat(e[2].replace(",", ".")), n % 24 * r + i * s; if (e = v.exec(t)) {
                            n = parseInt(e[1], 10), i = parseInt(e[2], 10);
                            var o = parseFloat(e[3].replace(",", "."));
                            return n % 24 * r + i * s + 1e3 * o;
                        } return null; }(S.time)), S.timezone)
                            N = function (t) { var e, n; return (e = _.exec(t)) ? 0 : (e = C.exec(t)) ? (n = 60 * parseInt(e[2], 10), "+" === e[1] ? -n : n) : (e = T.exec(t)) ? (n = 60 * parseInt(e[2], 10) + parseInt(e[3], 10), "+" === e[1] ? -n : n) : 0; }(S.timezone) * s;
                        else {
                            var R = M + O, D = new Date(R);
                            N = i(D);
                            var j = new Date(R);
                            j.setDate(D.getDate() + 1);
                            var B = i(j) - i(D);
                            B > 0 && (N += B);
                        }
                        return new Date(M + O + N);
                    } return new Date(t); }; }, function (t, e, n) {
                        "use strict";
                        (function (t) { var i = n(4), o = n(84), r = true && exports && !exports.nodeType && exports, s = r && "object" == typeof t && t && !t.nodeType && t, a = s && s.exports === r ? i.a.Buffer : void 0, c = (a ? a.isBuffer : void 0) || o.a; e.a = c; }).call(this, n(32)(t));
                    }, function (t, e) { var n; n = function () { return this; }(); try {
                        n = n || new Function("return this")();
                    }
                    catch (t) {
                        "object" == typeof window && (n = window);
                    } t.exports = n; }, function (t, e, n) { var i, o = n(231), r = n(57), s = n(232), a = n(233), c = n(234); "undefined" != typeof ArrayBuffer && (i = n(235)); var l = "undefined" != typeof navigator && /Android/i.test(navigator.userAgent), d = "undefined" != typeof navigator && /PhantomJS/i.test(navigator.userAgent), u = l || d; e.protocol = 3; var h = e.packets = { open: 0, close: 1, ping: 2, pong: 3, message: 4, upgrade: 5, noop: 6 }, f = o(h), p = { type: "error", data: "parser error" }, m = n(236); function g(t, e, n) { for (var i = new Array(t.length), o = a(t.length, n), r = function (t, n, o) { e(n, function (e, n) { i[t] = n, o(e, i); }); }, s = 0; s < t.length; s++)
                        r(s, t[s], o); } e.encodePacket = function (t, n, i, o) { "function" == typeof n && (o = n, n = !1), "function" == typeof i && (o = i, i = null); var r = void 0 === t.data ? void 0 : t.data.buffer || t.data; if ("undefined" != typeof ArrayBuffer && r instanceof ArrayBuffer)
                        return function (t, n, i) { if (!n)
                            return e.encodeBase64Packet(t, i); var o = t.data, r = new Uint8Array(o), s = new Uint8Array(1 + o.byteLength); s[0] = h[t.type]; for (var a = 0; a < r.length; a++)
                            s[a + 1] = r[a]; return i(s.buffer); }(t, n, o); if (void 0 !== m && r instanceof m)
                        return function (t, n, i) { if (!n)
                            return e.encodeBase64Packet(t, i); if (u)
                            return function (t, n, i) { if (!n)
                                return e.encodeBase64Packet(t, i); var o = new FileReader; return o.onload = function () { e.encodePacket({ type: t.type, data: o.result }, n, !0, i); }, o.readAsArrayBuffer(t.data); }(t, n, i); var o = new Uint8Array(1); o[0] = h[t.type]; var r = new m([o.buffer, t.data]); return i(r); }(t, n, o); if (r && r.base64)
                        return function (t, n) { var i = "b" + e.packets[t.type] + t.data.data; return n(i); }(t, o); var s = h[t.type]; return void 0 !== t.data && (s += i ? c.encode(String(t.data), { strict: !1 }) : String(t.data)), o("" + s); }, e.encodeBase64Packet = function (t, n) { var i, o = "b" + e.packets[t.type]; if (void 0 !== m && t.data instanceof m) {
                        var r = new FileReader;
                        return r.onload = function () { var t = r.result.split(",")[1]; n(o + t); }, r.readAsDataURL(t.data);
                    } try {
                        i = String.fromCharCode.apply(null, new Uint8Array(t.data));
                    }
                    catch (e) {
                        for (var s = new Uint8Array(t.data), a = new Array(s.length), c = 0; c < s.length; c++)
                            a[c] = s[c];
                        i = String.fromCharCode.apply(null, a);
                    } return o += btoa(i), n(o); }, e.decodePacket = function (t, n, i) { if (void 0 === t)
                        return p; if ("string" == typeof t) {
                        if ("b" === t.charAt(0))
                            return e.decodeBase64Packet(t.substr(1), n);
                        if (i && !1 === (t = function (t) { try {
                            t = c.decode(t, { strict: !1 });
                        }
                        catch (t) {
                            return !1;
                        } return t; }(t)))
                            return p;
                        var o = t.charAt(0);
                        return Number(o) == o && f[o] ? t.length > 1 ? { type: f[o], data: t.substring(1) } : { type: f[o] } : p;
                    } o = new Uint8Array(t)[0]; var r = s(t, 1); return m && "blob" === n && (r = new m([r])), { type: f[o], data: r }; }, e.decodeBase64Packet = function (t, e) { var n = f[t.charAt(0)]; if (!i)
                        return { type: n, data: { base64: !0, data: t.substr(1) } }; var o = i.decode(t.substr(1)); return "blob" === e && m && (o = new m([o])), { type: n, data: o }; }, e.encodePayload = function (t, n, i) { "function" == typeof n && (i = n, n = null); var o = r(t); if (n && o)
                        return m && !u ? e.encodePayloadAsBlob(t, i) : e.encodePayloadAsArrayBuffer(t, i); if (!t.length)
                        return i("0:"); g(t, function (t, i) { e.encodePacket(t, !!o && n, !1, function (t) { i(null, function (t) { return t.length + ":" + t; }(t)); }); }, function (t, e) { return i(e.join("")); }); }, e.decodePayload = function (t, n, i) { if ("string" != typeof t)
                        return e.decodePayloadAsBinary(t, n, i); var o; if ("function" == typeof n && (i = n, n = null), "" === t)
                        return i(p, 0, 1); for (var r, s, a = "", c = 0, l = t.length; c < l; c++) {
                        var d = t.charAt(c);
                        if (":" === d) {
                            if ("" === a || a != (r = Number(a)))
                                return i(p, 0, 1);
                            if (a != (s = t.substr(c + 1, r)).length)
                                return i(p, 0, 1);
                            if (s.length) {
                                if (o = e.decodePacket(s, n, !1), p.type === o.type && p.data === o.data)
                                    return i(p, 0, 1);
                                if (!1 === i(o, c + r, l))
                                    return;
                            }
                            c += r, a = "";
                        }
                        else
                            a += d;
                    } return "" !== a ? i(p, 0, 1) : void 0; }, e.encodePayloadAsArrayBuffer = function (t, n) { if (!t.length)
                        return n(new ArrayBuffer(0)); g(t, function (t, n) { e.encodePacket(t, !0, !0, function (t) { return n(null, t); }); }, function (t, e) { var i = e.reduce(function (t, e) { var n; return t + (n = "string" == typeof e ? e.length : e.byteLength).toString().length + n + 2; }, 0), o = new Uint8Array(i), r = 0; return e.forEach(function (t) { var e = "string" == typeof t, n = t; if (e) {
                        for (var i = new Uint8Array(t.length), s = 0; s < t.length; s++)
                            i[s] = t.charCodeAt(s);
                        n = i.buffer;
                    } o[r++] = e ? 0 : 1; var a = n.byteLength.toString(); for (s = 0; s < a.length; s++)
                        o[r++] = parseInt(a[s]); o[r++] = 255; for (i = new Uint8Array(n), s = 0; s < i.length; s++)
                        o[r++] = i[s]; }), n(o.buffer); }); }, e.encodePayloadAsBlob = function (t, n) { g(t, function (t, n) { e.encodePacket(t, !0, !0, function (t) { var e = new Uint8Array(1); if (e[0] = 1, "string" == typeof t) {
                        for (var i = new Uint8Array(t.length), o = 0; o < t.length; o++)
                            i[o] = t.charCodeAt(o);
                        t = i.buffer, e[0] = 0;
                    } var r = (t instanceof ArrayBuffer ? t.byteLength : t.size).toString(), s = new Uint8Array(r.length + 1); for (o = 0; o < r.length; o++)
                        s[o] = parseInt(r[o]); if (s[r.length] = 255, m) {
                        var a = new m([e.buffer, s.buffer, t]);
                        n(null, a);
                    } }); }, function (t, e) { return n(new m(e)); }); }, e.decodePayloadAsBinary = function (t, n, i) { "function" == typeof n && (i = n, n = null); for (var o = t, r = []; o.byteLength > 0;) {
                        for (var a = new Uint8Array(o), c = 0 === a[0], l = "", d = 1; 255 !== a[d]; d++) {
                            if (l.length > 310)
                                return i(p, 0, 1);
                            l += a[d];
                        }
                        o = s(o, 2 + l.length), l = parseInt(l);
                        var u = s(o, 0, l);
                        if (c)
                            try {
                                u = String.fromCharCode.apply(null, new Uint8Array(u));
                            }
                            catch (t) {
                                var h = new Uint8Array(u);
                                u = "";
                                for (d = 0; d < h.length; d++)
                                    u += String.fromCharCode(h[d]);
                            }
                        r.push(u), o = s(o, l);
                    } var f = r.length; r.forEach(function (t, o) { i(e.decodePacket(t, n, !0), o, f); }); }; }, function (t, e, n) {
                        "use strict";
                        t.exports = r, r.className = "ReflectionObject";
                        var i, o = n(5);
                        function r(t, e) { if (!o.isString(t))
                            throw TypeError("name must be a string"); if (e && !o.isObject(e))
                            throw TypeError("options must be an object"); this.options = e, this.name = t, this.parent = null, this.resolved = !1, this.comment = null, this.filename = null; }
                        Object.defineProperties(r.prototype, { root: { get: function () { for (var t = this; null !== t.parent;)
                                    t = t.parent; return t; } }, fullName: { get: function () { for (var t = [this.name], e = this.parent; e;)
                                    t.unshift(e.name), e = e.parent; return t.join("."); } } }), r.prototype.toJSON = function () { throw Error(); }, r.prototype.onAdd = function (t) { this.parent && this.parent !== t && this.parent.remove(this), this.parent = t, this.resolved = !1; var e = t.root; e instanceof i && e._handleAdd(this); }, r.prototype.onRemove = function (t) { var e = t.root; e instanceof i && e._handleRemove(this), this.parent = null, this.resolved = !1; }, r.prototype.resolve = function () { return this.resolved ? this : (this.root instanceof i && (this.resolved = !0), this); }, r.prototype.getOption = function (t) { if (this.options)
                            return this.options[t]; }, r.prototype.setOption = function (t, e, n) { return n && this.options && void 0 !== this.options[t] || ((this.options || (this.options = {}))[t] = e), this; }, r.prototype.setOptions = function (t, e) { if (t)
                            for (var n = Object.keys(t), i = 0; i < n.length; ++i)
                                this.setOption(n[i], t[n[i]], e); return this; }, r.prototype.toString = function () { var t = this.constructor.className, e = this.fullName; return e.length ? t + " " + e : t; }, r._configure = function (t) { i = t; };
                    }, function (t, e, n) {
                        "use strict";
                        t.exports = l;
                        var i = n(17);
                        ((l.prototype = Object.create(i.prototype)).constructor = l).className = "Field";
                        var o, r = n(10), s = n(23), a = n(5), c = /^required|optional|repeated$/;
                        function l(t, e, n, o, r, l, d) { if (a.isObject(o) ? (d = r, l = o, o = r = void 0) : a.isObject(r) && (d = l, l = r, r = void 0), i.call(this, t, l), !a.isInteger(e) || e < 0)
                            throw TypeError("id must be a non-negative integer"); if (!a.isString(n))
                            throw TypeError("type must be a string"); if (void 0 !== o && !c.test(o = o.toString().toLowerCase()))
                            throw TypeError("rule must be a string rule"); if (void 0 !== r && !a.isString(r))
                            throw TypeError("extend must be a string"); this.rule = o && "optional" !== o ? o : void 0, this.type = n, this.id = e, this.extend = r || void 0, this.required = "required" === o, this.optional = !this.required, this.repeated = "repeated" === o, this.map = !1, this.message = null, this.partOf = null, this.typeDefault = null, this.defaultValue = null, this.long = !!a.Long && void 0 !== s.long[n], this.bytes = "bytes" === n, this.resolvedType = null, this.extensionField = null, this.declaringField = null, this._packed = null, this.comment = d; }
                        l.fromJSON = function (t, e) { return new l(t, e.id, e.type, e.rule, e.extend, e.options, e.comment); }, Object.defineProperty(l.prototype, "packed", { get: function () { return null === this._packed && (this._packed = !1 !== this.getOption("packed")), this._packed; } }), l.prototype.setOption = function (t, e, n) { return "packed" === t && (this._packed = null), i.prototype.setOption.call(this, t, e, n); }, l.prototype.toJSON = function (t) { var e = !!t && Boolean(t.keepComments); return a.toObject(["rule", "optional" !== this.rule && this.rule || void 0, "type", this.type, "id", this.id, "extend", this.extend, "options", this.options, "comment", e ? this.comment : void 0]); }, l.prototype.resolve = function () { if (this.resolved)
                            return this; if (void 0 === (this.typeDefault = s.defaults[this.type]) && (this.resolvedType = (this.declaringField ? this.declaringField.parent : this.parent).lookupTypeOrEnum(this.type), this.resolvedType instanceof o ? this.typeDefault = null : this.typeDefault = this.resolvedType.values[Object.keys(this.resolvedType.values)[0]]), this.options && null != this.options.default && (this.typeDefault = this.options.default, this.resolvedType instanceof r && "string" == typeof this.typeDefault && (this.typeDefault = this.resolvedType.values[this.typeDefault])), this.options && (!0 !== this.options.packed && (void 0 === this.options.packed || !this.resolvedType || this.resolvedType instanceof r) || delete this.options.packed, Object.keys(this.options).length || (this.options = void 0)), this.long)
                            this.typeDefault = a.Long.fromNumber(this.typeDefault, "u" === this.type.charAt(0)), Object.freeze && Object.freeze(this.typeDefault);
                        else if (this.bytes && "string" == typeof this.typeDefault) {
                            var t;
                            a.base64.test(this.typeDefault) ? a.base64.decode(this.typeDefault, t = a.newBuffer(a.base64.length(this.typeDefault)), 0) : a.utf8.write(this.typeDefault, t = a.newBuffer(a.utf8.length(this.typeDefault)), 0), this.typeDefault = t;
                        } return this.map ? this.defaultValue = a.emptyObject : this.repeated ? this.defaultValue = a.emptyArray : this.defaultValue = this.typeDefault, this.parent instanceof o && (this.parent.ctor.prototype[this.name] = this.defaultValue), i.prototype.resolve.call(this); }, l.d = function (t, e, n, i) { return "function" == typeof e ? e = a.decorateType(e).name : e && "object" == typeof e && (e = a.decorateEnum(e).name), function (o, r) { a.decorateType(o.constructor).add(new l(r, t, e, n, { default: i })); }; }, l._configure = function (t) { o = t; };
                    }, function (t, e, n) {
                        "use strict";
                        (function (t) { var e = n(0); var i = "object" == typeof window ? window : t; if (i.CKEDITOR_VERSION)
                            throw new e.b("ckeditor-duplicated-modules: Some CKEditor 5 modules are duplicated.", null); i.CKEDITOR_VERSION = "16.0.0"; }).call(this, n(15));
                    }, function (t, e) { var n = {}.toString; t.exports = Array.isArray || function (t) { return "[object Array]" == n.call(t); }; }, function (t, e, n) {
                        "use strict";
                        (function (t) {
                            /*!
                             * The buffer module from node.js, for the browser.
                             *
                             * @author   Feross Aboukhadijeh <http://feross.org>
                             * @license  MIT
                             */
                            var i = n(224), o = n(225), r = n(226);
                            function s() { return c.TYPED_ARRAY_SUPPORT ? 2147483647 : 1073741823; }
                            function a(t, e) { if (s() < e)
                                throw new RangeError("Invalid typed array length"); return c.TYPED_ARRAY_SUPPORT ? (t = new Uint8Array(e)).__proto__ = c.prototype : (null === t && (t = new c(e)), t.length = e), t; }
                            function c(t, e, n) { if (!(c.TYPED_ARRAY_SUPPORT || this instanceof c))
                                return new c(t, e, n); if ("number" == typeof t) {
                                if ("string" == typeof e)
                                    throw new Error("If encoding is specified then the first argument must be a string");
                                return u(this, t);
                            } return l(this, t, e, n); }
                            function l(t, e, n, i) { if ("number" == typeof e)
                                throw new TypeError('"value" argument must not be a number'); return "undefined" != typeof ArrayBuffer && e instanceof ArrayBuffer ? function (t, e, n, i) { if (e.byteLength, n < 0 || e.byteLength < n)
                                throw new RangeError("'offset' is out of bounds"); if (e.byteLength < n + (i || 0))
                                throw new RangeError("'length' is out of bounds"); e = void 0 === n && void 0 === i ? new Uint8Array(e) : void 0 === i ? new Uint8Array(e, n) : new Uint8Array(e, n, i); c.TYPED_ARRAY_SUPPORT ? (t = e).__proto__ = c.prototype : t = h(t, e); return t; }(t, e, n, i) : "string" == typeof e ? function (t, e, n) { "string" == typeof n && "" !== n || (n = "utf8"); if (!c.isEncoding(n))
                                throw new TypeError('"encoding" must be a valid string encoding'); var i = 0 | p(e, n), o = (t = a(t, i)).write(e, n); o !== i && (t = t.slice(0, o)); return t; }(t, e, n) : function (t, e) { if (c.isBuffer(e)) {
                                var n = 0 | f(e.length);
                                return 0 === (t = a(t, n)).length ? t : (e.copy(t, 0, 0, n), t);
                            } if (e) {
                                if ("undefined" != typeof ArrayBuffer && e.buffer instanceof ArrayBuffer || "length" in e)
                                    return "number" != typeof e.length || function (t) { return t != t; }(e.length) ? a(t, 0) : h(t, e);
                                if ("Buffer" === e.type && r(e.data))
                                    return h(t, e.data);
                            } throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object."); }(t, e); }
                            function d(t) { if ("number" != typeof t)
                                throw new TypeError('"size" argument must be a number'); if (t < 0)
                                throw new RangeError('"size" argument must not be negative'); }
                            function u(t, e) { if (d(e), t = a(t, e < 0 ? 0 : 0 | f(e)), !c.TYPED_ARRAY_SUPPORT)
                                for (var n = 0; n < e; ++n)
                                    t[n] = 0; return t; }
                            function h(t, e) { var n = e.length < 0 ? 0 : 0 | f(e.length); t = a(t, n); for (var i = 0; i < n; i += 1)
                                t[i] = 255 & e[i]; return t; }
                            function f(t) { if (t >= s())
                                throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x" + s().toString(16) + " bytes"); return 0 | t; }
                            function p(t, e) { if (c.isBuffer(t))
                                return t.length; if ("undefined" != typeof ArrayBuffer && "function" == typeof ArrayBuffer.isView && (ArrayBuffer.isView(t) || t instanceof ArrayBuffer))
                                return t.byteLength; "string" != typeof t && (t = "" + t); var n = t.length; if (0 === n)
                                return 0; for (var i = !1;;)
                                switch (e) {
                                    case "ascii":
                                    case "latin1":
                                    case "binary": return n;
                                    case "utf8":
                                    case "utf-8":
                                    case void 0: return F(t).length;
                                    case "ucs2":
                                    case "ucs-2":
                                    case "utf16le":
                                    case "utf-16le": return 2 * n;
                                    case "hex": return n >>> 1;
                                    case "base64": return z(t).length;
                                    default:
                                        if (i)
                                            return F(t).length;
                                        e = ("" + e).toLowerCase(), i = !0;
                                } }
                            function m(t, e, n) { var i = t[e]; t[e] = t[n], t[n] = i; }
                            function g(t, e, n, i, o) { if (0 === t.length)
                                return -1; if ("string" == typeof n ? (i = n, n = 0) : n > 2147483647 ? n = 2147483647 : n < -2147483648 && (n = -2147483648), n = +n, isNaN(n) && (n = o ? 0 : t.length - 1), n < 0 && (n = t.length + n), n >= t.length) {
                                if (o)
                                    return -1;
                                n = t.length - 1;
                            }
                            else if (n < 0) {
                                if (!o)
                                    return -1;
                                n = 0;
                            } if ("string" == typeof e && (e = c.from(e, i)), c.isBuffer(e))
                                return 0 === e.length ? -1 : x(t, e, n, i, o); if ("number" == typeof e)
                                return e &= 255, c.TYPED_ARRAY_SUPPORT && "function" == typeof Uint8Array.prototype.indexOf ? o ? Uint8Array.prototype.indexOf.call(t, e, n) : Uint8Array.prototype.lastIndexOf.call(t, e, n) : x(t, [e], n, i, o); throw new TypeError("val must be string, number or Buffer"); }
                            function x(t, e, n, i, o) { var r, s = 1, a = t.length, c = e.length; if (void 0 !== i && ("ucs2" === (i = String(i).toLowerCase()) || "ucs-2" === i || "utf16le" === i || "utf-16le" === i)) {
                                if (t.length < 2 || e.length < 2)
                                    return -1;
                                s = 2, a /= 2, c /= 2, n /= 2;
                            } function l(t, e) { return 1 === s ? t[e] : t.readUInt16BE(e * s); } if (o) {
                                var d = -1;
                                for (r = n; r < a; r++)
                                    if (l(t, r) === l(e, -1 === d ? 0 : r - d)) {
                                        if (-1 === d && (d = r), r - d + 1 === c)
                                            return d * s;
                                    }
                                    else
                                        -1 !== d && (r -= r - d), d = -1;
                            }
                            else
                                for (n + c > a && (n = a - c), r = n; r >= 0; r--) {
                                    for (var u = !0, h = 0; h < c; h++)
                                        if (l(t, r + h) !== l(e, h)) {
                                            u = !1;
                                            break;
                                        }
                                    if (u)
                                        return r;
                                } return -1; }
                            function b(t, e, n, i) { n = Number(n) || 0; var o = t.length - n; i ? (i = Number(i)) > o && (i = o) : i = o; var r = e.length; if (r % 2 != 0)
                                throw new TypeError("Invalid hex string"); i > r / 2 && (i = r / 2); for (var s = 0; s < i; ++s) {
                                var a = parseInt(e.substr(2 * s, 2), 16);
                                if (isNaN(a))
                                    return s;
                                t[n + s] = a;
                            } return s; }
                            function k(t, e, n, i) { return U(F(e, t.length - n), t, n, i); }
                            function w(t, e, n, i) { return U(function (t) { for (var e = [], n = 0; n < t.length; ++n)
                                e.push(255 & t.charCodeAt(n)); return e; }(e), t, n, i); }
                            function v(t, e, n, i) { return w(t, e, n, i); }
                            function y(t, e, n, i) { return U(z(e), t, n, i); }
                            function _(t, e, n, i) { return U(function (t, e) { for (var n, i, o, r = [], s = 0; s < t.length && !((e -= 2) < 0); ++s)
                                n = t.charCodeAt(s), i = n >> 8, o = n % 256, r.push(o), r.push(i); return r; }(e, t.length - n), t, n, i); }
                            function C(t, e, n) { return 0 === e && n === t.length ? i.fromByteArray(t) : i.fromByteArray(t.slice(e, n)); }
                            function T(t, e, n) { n = Math.min(t.length, n); for (var i = [], o = e; o < n;) {
                                var r, s, a, c, l = t[o], d = null, u = l > 239 ? 4 : l > 223 ? 3 : l > 191 ? 2 : 1;
                                if (o + u <= n)
                                    switch (u) {
                                        case 1:
                                            l < 128 && (d = l);
                                            break;
                                        case 2:
                                            128 == (192 & (r = t[o + 1])) && (c = (31 & l) << 6 | 63 & r) > 127 && (d = c);
                                            break;
                                        case 3:
                                            r = t[o + 1], s = t[o + 2], 128 == (192 & r) && 128 == (192 & s) && (c = (15 & l) << 12 | (63 & r) << 6 | 63 & s) > 2047 && (c < 55296 || c > 57343) && (d = c);
                                            break;
                                        case 4: r = t[o + 1], s = t[o + 2], a = t[o + 3], 128 == (192 & r) && 128 == (192 & s) && 128 == (192 & a) && (c = (15 & l) << 18 | (63 & r) << 12 | (63 & s) << 6 | 63 & a) > 65535 && c < 1114112 && (d = c);
                                    }
                                null === d ? (d = 65533, u = 1) : d > 65535 && (d -= 65536, i.push(d >>> 10 & 1023 | 55296), d = 56320 | 1023 & d), i.push(d), o += u;
                            } return function (t) { var e = t.length; if (e <= A)
                                return String.fromCharCode.apply(String, t); var n = "", i = 0; for (; i < e;)
                                n += String.fromCharCode.apply(String, t.slice(i, i += A)); return n; }(i); }
                            e.Buffer = c, e.SlowBuffer = function (t) { +t != t && (t = 0); return c.alloc(+t); }, e.INSPECT_MAX_BYTES = 50, c.TYPED_ARRAY_SUPPORT = void 0 !== t.TYPED_ARRAY_SUPPORT ? t.TYPED_ARRAY_SUPPORT : function () { try {
                                var t = new Uint8Array(1);
                                return t.__proto__ = { __proto__: Uint8Array.prototype, foo: function () { return 42; } }, 42 === t.foo() && "function" == typeof t.subarray && 0 === t.subarray(1, 1).byteLength;
                            }
                            catch (t) {
                                return !1;
                            } }(), e.kMaxLength = s(), c.poolSize = 8192, c._augment = function (t) { return t.__proto__ = c.prototype, t; }, c.from = function (t, e, n) { return l(null, t, e, n); }, c.TYPED_ARRAY_SUPPORT && (c.prototype.__proto__ = Uint8Array.prototype, c.__proto__ = Uint8Array, "undefined" != typeof Symbol && Symbol.species && c[Symbol.species] === c && Object.defineProperty(c, Symbol.species, { value: null, configurable: !0 })), c.alloc = function (t, e, n) { return function (t, e, n, i) { return d(e), e <= 0 ? a(t, e) : void 0 !== n ? "string" == typeof i ? a(t, e).fill(n, i) : a(t, e).fill(n) : a(t, e); }(null, t, e, n); }, c.allocUnsafe = function (t) { return u(null, t); }, c.allocUnsafeSlow = function (t) { return u(null, t); }, c.isBuffer = function (t) { return !(null == t || !t._isBuffer); }, c.compare = function (t, e) { if (!c.isBuffer(t) || !c.isBuffer(e))
                                throw new TypeError("Arguments must be Buffers"); if (t === e)
                                return 0; for (var n = t.length, i = e.length, o = 0, r = Math.min(n, i); o < r; ++o)
                                if (t[o] !== e[o]) {
                                    n = t[o], i = e[o];
                                    break;
                                } return n < i ? -1 : i < n ? 1 : 0; }, c.isEncoding = function (t) { switch (String(t).toLowerCase()) {
                                case "hex":
                                case "utf8":
                                case "utf-8":
                                case "ascii":
                                case "latin1":
                                case "binary":
                                case "base64":
                                case "ucs2":
                                case "ucs-2":
                                case "utf16le":
                                case "utf-16le": return !0;
                                default: return !1;
                            } }, c.concat = function (t, e) { if (!r(t))
                                throw new TypeError('"list" argument must be an Array of Buffers'); if (0 === t.length)
                                return c.alloc(0); var n; if (void 0 === e)
                                for (e = 0, n = 0; n < t.length; ++n)
                                    e += t[n].length; var i = c.allocUnsafe(e), o = 0; for (n = 0; n < t.length; ++n) {
                                var s = t[n];
                                if (!c.isBuffer(s))
                                    throw new TypeError('"list" argument must be an Array of Buffers');
                                s.copy(i, o), o += s.length;
                            } return i; }, c.byteLength = p, c.prototype._isBuffer = !0, c.prototype.swap16 = function () { var t = this.length; if (t % 2 != 0)
                                throw new RangeError("Buffer size must be a multiple of 16-bits"); for (var e = 0; e < t; e += 2)
                                m(this, e, e + 1); return this; }, c.prototype.swap32 = function () { var t = this.length; if (t % 4 != 0)
                                throw new RangeError("Buffer size must be a multiple of 32-bits"); for (var e = 0; e < t; e += 4)
                                m(this, e, e + 3), m(this, e + 1, e + 2); return this; }, c.prototype.swap64 = function () { var t = this.length; if (t % 8 != 0)
                                throw new RangeError("Buffer size must be a multiple of 64-bits"); for (var e = 0; e < t; e += 8)
                                m(this, e, e + 7), m(this, e + 1, e + 6), m(this, e + 2, e + 5), m(this, e + 3, e + 4); return this; }, c.prototype.toString = function () { var t = 0 | this.length; return 0 === t ? "" : 0 === arguments.length ? T(this, 0, t) : function (t, e, n) { var i = !1; if ((void 0 === e || e < 0) && (e = 0), e > this.length)
                                return ""; if ((void 0 === n || n > this.length) && (n = this.length), n <= 0)
                                return ""; if ((n >>>= 0) <= (e >>>= 0))
                                return ""; for (t || (t = "utf8");;)
                                switch (t) {
                                    case "hex": return P(this, e, n);
                                    case "utf8":
                                    case "utf-8": return T(this, e, n);
                                    case "ascii": return S(this, e, n);
                                    case "latin1":
                                    case "binary": return E(this, e, n);
                                    case "base64": return C(this, e, n);
                                    case "ucs2":
                                    case "ucs-2":
                                    case "utf16le":
                                    case "utf-16le": return I(this, e, n);
                                    default:
                                        if (i)
                                            throw new TypeError("Unknown encoding: " + t);
                                        t = (t + "").toLowerCase(), i = !0;
                                } }.apply(this, arguments); }, c.prototype.equals = function (t) { if (!c.isBuffer(t))
                                throw new TypeError("Argument must be a Buffer"); return this === t || 0 === c.compare(this, t); }, c.prototype.inspect = function () { var t = "", n = e.INSPECT_MAX_BYTES; return this.length > 0 && (t = this.toString("hex", 0, n).match(/.{2}/g).join(" "), this.length > n && (t += " ... ")), "<Buffer " + t + ">"; }, c.prototype.compare = function (t, e, n, i, o) { if (!c.isBuffer(t))
                                throw new TypeError("Argument must be a Buffer"); if (void 0 === e && (e = 0), void 0 === n && (n = t ? t.length : 0), void 0 === i && (i = 0), void 0 === o && (o = this.length), e < 0 || n > t.length || i < 0 || o > this.length)
                                throw new RangeError("out of range index"); if (i >= o && e >= n)
                                return 0; if (i >= o)
                                return -1; if (e >= n)
                                return 1; if (e >>>= 0, n >>>= 0, i >>>= 0, o >>>= 0, this === t)
                                return 0; for (var r = o - i, s = n - e, a = Math.min(r, s), l = this.slice(i, o), d = t.slice(e, n), u = 0; u < a; ++u)
                                if (l[u] !== d[u]) {
                                    r = l[u], s = d[u];
                                    break;
                                } return r < s ? -1 : s < r ? 1 : 0; }, c.prototype.includes = function (t, e, n) { return -1 !== this.indexOf(t, e, n); }, c.prototype.indexOf = function (t, e, n) { return g(this, t, e, n, !0); }, c.prototype.lastIndexOf = function (t, e, n) { return g(this, t, e, n, !1); }, c.prototype.write = function (t, e, n, i) { if (void 0 === e)
                                i = "utf8", n = this.length, e = 0;
                            else if (void 0 === n && "string" == typeof e)
                                i = e, n = this.length, e = 0;
                            else {
                                if (!isFinite(e))
                                    throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");
                                e |= 0, isFinite(n) ? (n |= 0, void 0 === i && (i = "utf8")) : (i = n, n = void 0);
                            } var o = this.length - e; if ((void 0 === n || n > o) && (n = o), t.length > 0 && (n < 0 || e < 0) || e > this.length)
                                throw new RangeError("Attempt to write outside buffer bounds"); i || (i = "utf8"); for (var r = !1;;)
                                switch (i) {
                                    case "hex": return b(this, t, e, n);
                                    case "utf8":
                                    case "utf-8": return k(this, t, e, n);
                                    case "ascii": return w(this, t, e, n);
                                    case "latin1":
                                    case "binary": return v(this, t, e, n);
                                    case "base64": return y(this, t, e, n);
                                    case "ucs2":
                                    case "ucs-2":
                                    case "utf16le":
                                    case "utf-16le": return _(this, t, e, n);
                                    default:
                                        if (r)
                                            throw new TypeError("Unknown encoding: " + i);
                                        i = ("" + i).toLowerCase(), r = !0;
                                } }, c.prototype.toJSON = function () { return { type: "Buffer", data: Array.prototype.slice.call(this._arr || this, 0) }; };
                            var A = 4096;
                            function S(t, e, n) { var i = ""; n = Math.min(t.length, n); for (var o = e; o < n; ++o)
                                i += String.fromCharCode(127 & t[o]); return i; }
                            function E(t, e, n) { var i = ""; n = Math.min(t.length, n); for (var o = e; o < n; ++o)
                                i += String.fromCharCode(t[o]); return i; }
                            function P(t, e, n) { var i = t.length; (!e || e < 0) && (e = 0), (!n || n < 0 || n > i) && (n = i); for (var o = "", r = e; r < n; ++r)
                                o += V(t[r]); return o; }
                            function I(t, e, n) { for (var i = t.slice(e, n), o = "", r = 0; r < i.length; r += 2)
                                o += String.fromCharCode(i[r] + 256 * i[r + 1]); return o; }
                            function N(t, e, n) { if (t % 1 != 0 || t < 0)
                                throw new RangeError("offset is not uint"); if (t + e > n)
                                throw new RangeError("Trying to access beyond buffer length"); }
                            function M(t, e, n, i, o, r) { if (!c.isBuffer(t))
                                throw new TypeError('"buffer" argument must be a Buffer instance'); if (e > o || e < r)
                                throw new RangeError('"value" argument is out of bounds'); if (n + i > t.length)
                                throw new RangeError("Index out of range"); }
                            function O(t, e, n, i) { e < 0 && (e = 65535 + e + 1); for (var o = 0, r = Math.min(t.length - n, 2); o < r; ++o)
                                t[n + o] = (e & 255 << 8 * (i ? o : 1 - o)) >>> 8 * (i ? o : 1 - o); }
                            function R(t, e, n, i) { e < 0 && (e = 4294967295 + e + 1); for (var o = 0, r = Math.min(t.length - n, 4); o < r; ++o)
                                t[n + o] = e >>> 8 * (i ? o : 3 - o) & 255; }
                            function D(t, e, n, i, o, r) { if (n + i > t.length)
                                throw new RangeError("Index out of range"); if (n < 0)
                                throw new RangeError("Index out of range"); }
                            function j(t, e, n, i, r) { return r || D(t, 0, n, 4), o.write(t, e, n, i, 23, 4), n + 4; }
                            function B(t, e, n, i, r) { return r || D(t, 0, n, 8), o.write(t, e, n, i, 52, 8), n + 8; }
                            c.prototype.slice = function (t, e) { var n, i = this.length; if (t = ~~t, e = void 0 === e ? i : ~~e, t < 0 ? (t += i) < 0 && (t = 0) : t > i && (t = i), e < 0 ? (e += i) < 0 && (e = 0) : e > i && (e = i), e < t && (e = t), c.TYPED_ARRAY_SUPPORT)
                                (n = this.subarray(t, e)).__proto__ = c.prototype;
                            else {
                                var o = e - t;
                                n = new c(o, void 0);
                                for (var r = 0; r < o; ++r)
                                    n[r] = this[r + t];
                            } return n; }, c.prototype.readUIntLE = function (t, e, n) { t |= 0, e |= 0, n || N(t, e, this.length); for (var i = this[t], o = 1, r = 0; ++r < e && (o *= 256);)
                                i += this[t + r] * o; return i; }, c.prototype.readUIntBE = function (t, e, n) { t |= 0, e |= 0, n || N(t, e, this.length); for (var i = this[t + --e], o = 1; e > 0 && (o *= 256);)
                                i += this[t + --e] * o; return i; }, c.prototype.readUInt8 = function (t, e) { return e || N(t, 1, this.length), this[t]; }, c.prototype.readUInt16LE = function (t, e) { return e || N(t, 2, this.length), this[t] | this[t + 1] << 8; }, c.prototype.readUInt16BE = function (t, e) { return e || N(t, 2, this.length), this[t] << 8 | this[t + 1]; }, c.prototype.readUInt32LE = function (t, e) { return e || N(t, 4, this.length), (this[t] | this[t + 1] << 8 | this[t + 2] << 16) + 16777216 * this[t + 3]; }, c.prototype.readUInt32BE = function (t, e) { return e || N(t, 4, this.length), 16777216 * this[t] + (this[t + 1] << 16 | this[t + 2] << 8 | this[t + 3]); }, c.prototype.readIntLE = function (t, e, n) { t |= 0, e |= 0, n || N(t, e, this.length); for (var i = this[t], o = 1, r = 0; ++r < e && (o *= 256);)
                                i += this[t + r] * o; return i >= (o *= 128) && (i -= Math.pow(2, 8 * e)), i; }, c.prototype.readIntBE = function (t, e, n) { t |= 0, e |= 0, n || N(t, e, this.length); for (var i = e, o = 1, r = this[t + --i]; i > 0 && (o *= 256);)
                                r += this[t + --i] * o; return r >= (o *= 128) && (r -= Math.pow(2, 8 * e)), r; }, c.prototype.readInt8 = function (t, e) { return e || N(t, 1, this.length), 128 & this[t] ? -1 * (255 - this[t] + 1) : this[t]; }, c.prototype.readInt16LE = function (t, e) { e || N(t, 2, this.length); var n = this[t] | this[t + 1] << 8; return 32768 & n ? 4294901760 | n : n; }, c.prototype.readInt16BE = function (t, e) { e || N(t, 2, this.length); var n = this[t + 1] | this[t] << 8; return 32768 & n ? 4294901760 | n : n; }, c.prototype.readInt32LE = function (t, e) { return e || N(t, 4, this.length), this[t] | this[t + 1] << 8 | this[t + 2] << 16 | this[t + 3] << 24; }, c.prototype.readInt32BE = function (t, e) { return e || N(t, 4, this.length), this[t] << 24 | this[t + 1] << 16 | this[t + 2] << 8 | this[t + 3]; }, c.prototype.readFloatLE = function (t, e) { return e || N(t, 4, this.length), o.read(this, t, !0, 23, 4); }, c.prototype.readFloatBE = function (t, e) { return e || N(t, 4, this.length), o.read(this, t, !1, 23, 4); }, c.prototype.readDoubleLE = function (t, e) { return e || N(t, 8, this.length), o.read(this, t, !0, 52, 8); }, c.prototype.readDoubleBE = function (t, e) { return e || N(t, 8, this.length), o.read(this, t, !1, 52, 8); }, c.prototype.writeUIntLE = function (t, e, n, i) { (t = +t, e |= 0, n |= 0, i) || M(this, t, e, n, Math.pow(2, 8 * n) - 1, 0); var o = 1, r = 0; for (this[e] = 255 & t; ++r < n && (o *= 256);)
                                this[e + r] = t / o & 255; return e + n; }, c.prototype.writeUIntBE = function (t, e, n, i) { (t = +t, e |= 0, n |= 0, i) || M(this, t, e, n, Math.pow(2, 8 * n) - 1, 0); var o = n - 1, r = 1; for (this[e + o] = 255 & t; --o >= 0 && (r *= 256);)
                                this[e + o] = t / r & 255; return e + n; }, c.prototype.writeUInt8 = function (t, e, n) { return t = +t, e |= 0, n || M(this, t, e, 1, 255, 0), c.TYPED_ARRAY_SUPPORT || (t = Math.floor(t)), this[e] = 255 & t, e + 1; }, c.prototype.writeUInt16LE = function (t, e, n) { return t = +t, e |= 0, n || M(this, t, e, 2, 65535, 0), c.TYPED_ARRAY_SUPPORT ? (this[e] = 255 & t, this[e + 1] = t >>> 8) : O(this, t, e, !0), e + 2; }, c.prototype.writeUInt16BE = function (t, e, n) { return t = +t, e |= 0, n || M(this, t, e, 2, 65535, 0), c.TYPED_ARRAY_SUPPORT ? (this[e] = t >>> 8, this[e + 1] = 255 & t) : O(this, t, e, !1), e + 2; }, c.prototype.writeUInt32LE = function (t, e, n) { return t = +t, e |= 0, n || M(this, t, e, 4, 4294967295, 0), c.TYPED_ARRAY_SUPPORT ? (this[e + 3] = t >>> 24, this[e + 2] = t >>> 16, this[e + 1] = t >>> 8, this[e] = 255 & t) : R(this, t, e, !0), e + 4; }, c.prototype.writeUInt32BE = function (t, e, n) { return t = +t, e |= 0, n || M(this, t, e, 4, 4294967295, 0), c.TYPED_ARRAY_SUPPORT ? (this[e] = t >>> 24, this[e + 1] = t >>> 16, this[e + 2] = t >>> 8, this[e + 3] = 255 & t) : R(this, t, e, !1), e + 4; }, c.prototype.writeIntLE = function (t, e, n, i) { if (t = +t, e |= 0, !i) {
                                var o = Math.pow(2, 8 * n - 1);
                                M(this, t, e, n, o - 1, -o);
                            } var r = 0, s = 1, a = 0; for (this[e] = 255 & t; ++r < n && (s *= 256);)
                                t < 0 && 0 === a && 0 !== this[e + r - 1] && (a = 1), this[e + r] = (t / s >> 0) - a & 255; return e + n; }, c.prototype.writeIntBE = function (t, e, n, i) { if (t = +t, e |= 0, !i) {
                                var o = Math.pow(2, 8 * n - 1);
                                M(this, t, e, n, o - 1, -o);
                            } var r = n - 1, s = 1, a = 0; for (this[e + r] = 255 & t; --r >= 0 && (s *= 256);)
                                t < 0 && 0 === a && 0 !== this[e + r + 1] && (a = 1), this[e + r] = (t / s >> 0) - a & 255; return e + n; }, c.prototype.writeInt8 = function (t, e, n) { return t = +t, e |= 0, n || M(this, t, e, 1, 127, -128), c.TYPED_ARRAY_SUPPORT || (t = Math.floor(t)), t < 0 && (t = 255 + t + 1), this[e] = 255 & t, e + 1; }, c.prototype.writeInt16LE = function (t, e, n) { return t = +t, e |= 0, n || M(this, t, e, 2, 32767, -32768), c.TYPED_ARRAY_SUPPORT ? (this[e] = 255 & t, this[e + 1] = t >>> 8) : O(this, t, e, !0), e + 2; }, c.prototype.writeInt16BE = function (t, e, n) { return t = +t, e |= 0, n || M(this, t, e, 2, 32767, -32768), c.TYPED_ARRAY_SUPPORT ? (this[e] = t >>> 8, this[e + 1] = 255 & t) : O(this, t, e, !1), e + 2; }, c.prototype.writeInt32LE = function (t, e, n) { return t = +t, e |= 0, n || M(this, t, e, 4, 2147483647, -2147483648), c.TYPED_ARRAY_SUPPORT ? (this[e] = 255 & t, this[e + 1] = t >>> 8, this[e + 2] = t >>> 16, this[e + 3] = t >>> 24) : R(this, t, e, !0), e + 4; }, c.prototype.writeInt32BE = function (t, e, n) { return t = +t, e |= 0, n || M(this, t, e, 4, 2147483647, -2147483648), t < 0 && (t = 4294967295 + t + 1), c.TYPED_ARRAY_SUPPORT ? (this[e] = t >>> 24, this[e + 1] = t >>> 16, this[e + 2] = t >>> 8, this[e + 3] = 255 & t) : R(this, t, e, !1), e + 4; }, c.prototype.writeFloatLE = function (t, e, n) { return j(this, t, e, !0, n); }, c.prototype.writeFloatBE = function (t, e, n) { return j(this, t, e, !1, n); }, c.prototype.writeDoubleLE = function (t, e, n) { return B(this, t, e, !0, n); }, c.prototype.writeDoubleBE = function (t, e, n) { return B(this, t, e, !1, n); }, c.prototype.copy = function (t, e, n, i) { if (n || (n = 0), i || 0 === i || (i = this.length), e >= t.length && (e = t.length), e || (e = 0), i > 0 && i < n && (i = n), i === n)
                                return 0; if (0 === t.length || 0 === this.length)
                                return 0; if (e < 0)
                                throw new RangeError("targetStart out of bounds"); if (n < 0 || n >= this.length)
                                throw new RangeError("sourceStart out of bounds"); if (i < 0)
                                throw new RangeError("sourceEnd out of bounds"); i > this.length && (i = this.length), t.length - e < i - n && (i = t.length - e + n); var o, r = i - n; if (this === t && n < e && e < i)
                                for (o = r - 1; o >= 0; --o)
                                    t[o + e] = this[o + n];
                            else if (r < 1e3 || !c.TYPED_ARRAY_SUPPORT)
                                for (o = 0; o < r; ++o)
                                    t[o + e] = this[o + n];
                            else
                                Uint8Array.prototype.set.call(t, this.subarray(n, n + r), e); return r; }, c.prototype.fill = function (t, e, n, i) { if ("string" == typeof t) {
                                if ("string" == typeof e ? (i = e, e = 0, n = this.length) : "string" == typeof n && (i = n, n = this.length), 1 === t.length) {
                                    var o = t.charCodeAt(0);
                                    o < 256 && (t = o);
                                }
                                if (void 0 !== i && "string" != typeof i)
                                    throw new TypeError("encoding must be a string");
                                if ("string" == typeof i && !c.isEncoding(i))
                                    throw new TypeError("Unknown encoding: " + i);
                            }
                            else
                                "number" == typeof t && (t &= 255); if (e < 0 || this.length < e || this.length < n)
                                throw new RangeError("Out of range index"); if (n <= e)
                                return this; var r; if (e >>>= 0, n = void 0 === n ? this.length : n >>> 0, t || (t = 0), "number" == typeof t)
                                for (r = e; r < n; ++r)
                                    this[r] = t;
                            else {
                                var s = c.isBuffer(t) ? t : F(new c(t, i).toString()), a = s.length;
                                for (r = 0; r < n - e; ++r)
                                    this[r + e] = s[r % a];
                            } return this; };
                            var L = /[^+\/0-9A-Za-z-_]/g;
                            function V(t) { return t < 16 ? "0" + t.toString(16) : t.toString(16); }
                            function F(t, e) { var n; e = e || 1 / 0; for (var i = t.length, o = null, r = [], s = 0; s < i; ++s) {
                                if ((n = t.charCodeAt(s)) > 55295 && n < 57344) {
                                    if (!o) {
                                        if (n > 56319) {
                                            (e -= 3) > -1 && r.push(239, 191, 189);
                                            continue;
                                        }
                                        if (s + 1 === i) {
                                            (e -= 3) > -1 && r.push(239, 191, 189);
                                            continue;
                                        }
                                        o = n;
                                        continue;
                                    }
                                    if (n < 56320) {
                                        (e -= 3) > -1 && r.push(239, 191, 189), o = n;
                                        continue;
                                    }
                                    n = 65536 + (o - 55296 << 10 | n - 56320);
                                }
                                else
                                    o && (e -= 3) > -1 && r.push(239, 191, 189);
                                if (o = null, n < 128) {
                                    if ((e -= 1) < 0)
                                        break;
                                    r.push(n);
                                }
                                else if (n < 2048) {
                                    if ((e -= 2) < 0)
                                        break;
                                    r.push(n >> 6 | 192, 63 & n | 128);
                                }
                                else if (n < 65536) {
                                    if ((e -= 3) < 0)
                                        break;
                                    r.push(n >> 12 | 224, n >> 6 & 63 | 128, 63 & n | 128);
                                }
                                else {
                                    if (!(n < 1114112))
                                        throw new Error("Invalid code point");
                                    if ((e -= 4) < 0)
                                        break;
                                    r.push(n >> 18 | 240, n >> 12 & 63 | 128, n >> 6 & 63 | 128, 63 & n | 128);
                                }
                            } return r; }
                            function z(t) { return i.toByteArray(function (t) { if ((t = function (t) { return t.trim ? t.trim() : t.replace(/^\s+|\s+$/g, ""); }(t).replace(L, "")).length < 2)
                                return ""; for (; t.length % 4 != 0;)
                                t += "="; return t; }(t)); }
                            function U(t, e, n, i) { for (var o = 0; o < i && !(o + n >= e.length || o >= t.length); ++o)
                                e[o + n] = t[o]; return o; }
                        }).call(this, n(15));
                    }, function (t, e, n) {
                        "use strict";
                        t.exports = d;
                        var i = n(17);
                        ((d.prototype = Object.create(i.prototype)).constructor = d).className = "Namespace";
                        var o, r, s, a = n(18), c = n(5);
                        function l(t, e) { if (t && t.length) {
                            for (var n = {}, i = 0; i < t.length; ++i)
                                n[t[i].name] = t[i].toJSON(e);
                            return n;
                        } }
                        function d(t, e) { i.call(this, t, e), this.nested = void 0, this._nestedArray = null; }
                        function u(t) { return t._nestedArray = null, t; }
                        d.fromJSON = function (t, e) { return new d(t, e.options).addJSON(e.nested); }, d.arrayToJSON = l, d.isReservedId = function (t, e) { if (t)
                            for (var n = 0; n < t.length; ++n)
                                if ("string" != typeof t[n] && t[n][0] <= e && t[n][1] >= e)
                                    return !0; return !1; }, d.isReservedName = function (t, e) { if (t)
                            for (var n = 0; n < t.length; ++n)
                                if (t[n] === e)
                                    return !0; return !1; }, Object.defineProperty(d.prototype, "nestedArray", { get: function () { return this._nestedArray || (this._nestedArray = c.toArray(this.nested)); } }), d.prototype.toJSON = function (t) { return c.toObject(["options", this.options, "nested", l(this.nestedArray, t)]); }, d.prototype.addJSON = function (t) { if (t)
                            for (var e, n = Object.keys(t), i = 0; i < n.length; ++i)
                                e = t[n[i]], this.add((void 0 !== e.fields ? o.fromJSON : void 0 !== e.values ? s.fromJSON : void 0 !== e.methods ? r.fromJSON : void 0 !== e.id ? a.fromJSON : d.fromJSON)(n[i], e)); return this; }, d.prototype.get = function (t) { return this.nested && this.nested[t] || null; }, d.prototype.getEnum = function (t) { if (this.nested && this.nested[t] instanceof s)
                            return this.nested[t].values; throw Error("no such enum: " + t); }, d.prototype.add = function (t) { if (!(t instanceof a && void 0 !== t.extend || t instanceof o || t instanceof s || t instanceof r || t instanceof d))
                            throw TypeError("object must be a valid nested object"); if (this.nested) {
                            var e = this.get(t.name);
                            if (e) {
                                if (!(e instanceof d && t instanceof d) || e instanceof o || e instanceof r)
                                    throw Error("duplicate name '" + t.name + "' in " + this);
                                for (var n = e.nestedArray, i = 0; i < n.length; ++i)
                                    t.add(n[i]);
                                this.remove(e), this.nested || (this.nested = {}), t.setOptions(e.options, !0);
                            }
                        }
                        else
                            this.nested = {}; return this.nested[t.name] = t, t.onAdd(this), u(this); }, d.prototype.remove = function (t) { if (!(t instanceof i))
                            throw TypeError("object must be a ReflectionObject"); if (t.parent !== this)
                            throw Error(t + " is not a member of " + this); return delete this.nested[t.name], Object.keys(this.nested).length || (this.nested = void 0), t.onRemove(this), u(this); }, d.prototype.define = function (t, e) { if (c.isString(t))
                            t = t.split(".");
                        else if (!Array.isArray(t))
                            throw TypeError("illegal path"); if (t && t.length && "" === t[0])
                            throw Error("path must be relative"); for (var n = this; t.length > 0;) {
                            var i = t.shift();
                            if (n.nested && n.nested[i]) {
                                if (!((n = n.nested[i]) instanceof d))
                                    throw Error("path conflicts with non-namespace objects");
                            }
                            else
                                n.add(n = new d(i));
                        } return e && n.addJSON(e), n; }, d.prototype.resolveAll = function () { for (var t = this.nestedArray, e = 0; e < t.length;)
                            t[e] instanceof d ? t[e++].resolveAll() : t[e++].resolve(); return this.resolve(); }, d.prototype.lookup = function (t, e, n) { if ("boolean" == typeof e ? (n = e, e = void 0) : e && !Array.isArray(e) && (e = [e]), c.isString(t) && t.length) {
                            if ("." === t)
                                return this.root;
                            t = t.split(".");
                        }
                        else if (!t.length)
                            return this; if ("" === t[0])
                            return this.root.lookup(t.slice(1), e); var i = this.get(t[0]); if (i) {
                            if (1 === t.length) {
                                if (!e || e.indexOf(i.constructor) > -1)
                                    return i;
                            }
                            else if (i instanceof d && (i = i.lookup(t.slice(1), e, !0)))
                                return i;
                        }
                        else
                            for (var o = 0; o < this.nestedArray.length; ++o)
                                if (this._nestedArray[o] instanceof d && (i = this._nestedArray[o].lookup(t, e, !0)))
                                    return i; return null === this.parent || n ? null : this.parent.lookup(t, e); }, d.prototype.lookupType = function (t) { var e = this.lookup(t, [o]); if (!e)
                            throw Error("no such type: " + t); return e; }, d.prototype.lookupEnum = function (t) { var e = this.lookup(t, [s]); if (!e)
                            throw Error("no such Enum '" + t + "' in " + this); return e; }, d.prototype.lookupTypeOrEnum = function (t) { var e = this.lookup(t, [o, s]); if (!e)
                            throw Error("no such Type or Enum '" + t + "' in " + this); return e; }, d.prototype.lookupService = function (t) { var e = this.lookup(t, [r]); if (!e)
                            throw Error("no such Service '" + t + "' in " + this); return e; }, d._configure = function (t, e, n) { o = t, r = e, s = n; };
                    }, function (t, e, n) {
                        "use strict";
                        var i = e, o = n(5), r = ["double", "float", "int32", "uint32", "sint32", "fixed32", "sfixed32", "int64", "uint64", "sint64", "fixed64", "sfixed64", "bool", "string", "bytes"];
                        function s(t, e) { var n = 0, i = {}; for (e |= 0; n < t.length;)
                            i[r[n + e]] = t[n++]; return i; }
                        i.basic = s([1, 5, 0, 0, 0, 5, 5, 0, 0, 0, 1, 1, 0, 2, 2]), i.defaults = s([0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, !1, "", o.emptyArray, null]), i.long = s([0, 0, 0, 1, 1], 7), i.mapKey = s([0, 0, 0, 5, 5, 0, 0, 0, 1, 1, 0, 2], 2), i.packed = s([1, 5, 0, 0, 0, 5, 5, 0, 0, 0, 1, 1, 0]);
                    }, function (t, e) { e.encode = function (t) { var e = ""; for (var n in t)
                        t.hasOwnProperty(n) && (e.length && (e += "&"), e += encodeURIComponent(n) + "=" + encodeURIComponent(t[n])); return e; }, e.decode = function (t) { for (var e = {}, n = t.split("&"), i = 0, o = n.length; i < o; i++) {
                        var r = n[i].split("=");
                        e[decodeURIComponent(r[0])] = decodeURIComponent(r[1]);
                    } return e; }; }, function (t, e) { t.exports = function (t, e) { var n = function () { }; n.prototype = e.prototype, t.prototype = new n, t.prototype.constructor = t; }; }, function (t, e, n) {
                        "use strict";
                        (function (t) { var n = "object" == typeof t && t && t.Object === Object && t; e.a = n; }).call(this, n(15));
                    }, function (t, e) { t.exports = '<svg viewBox="0 0 10 10" xmlns="http://www.w3.org/2000/svg"><path d="M.941 4.523a.75.75 0 1 1 1.06-1.06l3.006 3.005 3.005-3.005a.75.75 0 1 1 1.06 1.06l-3.549 3.55a.75.75 0 0 1-1.168-.136L.941 4.523z"/></svg>'; }, function (t, e) { t.exports = '<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M7.3 17.37l-.061.088a1.518 1.518 0 0 1-.934.535l-4.178.663-.806-4.153a1.495 1.495 0 0 1 .187-1.058l.056-.086L8.77 2.639c.958-1.351 2.803-1.076 4.296-.03 1.497 1.047 2.387 2.693 1.433 4.055L7.3 17.37zM9.14 4.728l-5.545 8.346 3.277 2.294 5.544-8.346L9.14 4.728zM6.07 16.512l-3.276-2.295.53 2.73 2.746-.435zM9.994 3.506L13.271 5.8c.316-.452-.16-1.333-1.065-1.966-.905-.634-1.895-.78-2.212-.328zM8 18.5L9.375 17H19v1.5H8z"/></svg>'; }, function (t, e) { t.exports = '<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M8.636 9.531l-2.758 3.94a.5.5 0 0 0 .122.696l3.224 2.284h1.314l2.636-3.736L8.636 9.53zm.288 8.451L5.14 15.396a2 2 0 0 1-.491-2.786l6.673-9.53a2 2 0 0 1 2.785-.49l3.742 2.62a2 2 0 0 1 .491 2.785l-7.269 10.053-2.147-.066z"/><path d="M4 18h5.523v-1H4zm-2 0h1v-1H2z"/></svg>'; }, function (t, e, n) {
                        "use strict";
                        t.exports = n(244);
                    }, function (t, e) { t.exports = '<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 4.5V3h16v1.5zm0 3V6h5.674v1.5zm0 3V9h5.674v1.5zm0 3V12h5.674v1.5zm8.5-6V12h6V7.5h-6zM9.682 6h7.636c.377 0 .682.407.682.91v5.68c0 .503-.305.91-.682.91H9.682c-.377 0-.682-.407-.682-.91V6.91c0-.503.305-.91.682-.91zM2 16.5V15h16v1.5z"/></svg>'; }, function (t, e) { t.exports = function (t) { if (!t.webpackPolyfill) {
                        var e = Object.create(t);
                        e.children || (e.children = []), Object.defineProperty(e, "loaded", { enumerable: !0, get: function () { return e.l; } }), Object.defineProperty(e, "id", { enumerable: !0, get: function () { return e.i; } }), Object.defineProperty(e, "exports", { enumerable: !0 }), e.webpackPolyfill = 1;
                    } return e; }; }, function (t, e) { var n, i, o = t.exports = {}; function r() { throw new Error("setTimeout has not been defined"); } function s() { throw new Error("clearTimeout has not been defined"); } function a(t) { if (n === setTimeout)
                        return setTimeout(t, 0); if ((n === r || !n) && setTimeout)
                        return n = setTimeout, setTimeout(t, 0); try {
                        return n(t, 0);
                    }
                    catch (e) {
                        try {
                            return n.call(null, t, 0);
                        }
                        catch (e) {
                            return n.call(this, t, 0);
                        }
                    } } !function () { try {
                        n = "function" == typeof setTimeout ? setTimeout : r;
                    }
                    catch (t) {
                        n = r;
                    } try {
                        i = "function" == typeof clearTimeout ? clearTimeout : s;
                    }
                    catch (t) {
                        i = s;
                    } }(); var c, l = [], d = !1, u = -1; function h() { d && c && (d = !1, c.length ? l = c.concat(l) : u = -1, l.length && f()); } function f() { if (!d) {
                        var t = a(h);
                        d = !0;
                        for (var e = l.length; e;) {
                            for (c = l, l = []; ++u < e;)
                                c && c[u].run();
                            u = -1, e = l.length;
                        }
                        c = null, d = !1, function (t) { if (i === clearTimeout)
                            return clearTimeout(t); if ((i === s || !i) && clearTimeout)
                            return i = clearTimeout, clearTimeout(t); try {
                            i(t);
                        }
                        catch (e) {
                            try {
                                return i.call(null, t);
                            }
                            catch (e) {
                                return i.call(this, t);
                            }
                        } }(t);
                    } } function p(t, e) { this.fun = t, this.array = e; } function m() { } o.nextTick = function (t) { var e = new Array(arguments.length - 1); if (arguments.length > 1)
                        for (var n = 1; n < arguments.length; n++)
                            e[n - 1] = arguments[n]; l.push(new p(t, e)), 1 !== l.length || d || a(f); }, p.prototype.run = function () { this.fun.apply(null, this.array); }, o.title = "browser", o.browser = !0, o.env = {}, o.argv = [], o.version = "", o.versions = {}, o.on = m, o.addListener = m, o.once = m, o.off = m, o.removeListener = m, o.removeAllListeners = m, o.emit = m, o.prependListener = m, o.prependOnceListener = m, o.listeners = function (t) { return []; }, o.binding = function (t) { throw new Error("process.binding is not supported"); }, o.cwd = function () { return "/"; }, o.chdir = function (t) { throw new Error("process.chdir is not supported"); }, o.umask = function () { return 0; }; }, function (t, e, n) { var i = n(220)("socket.io-parser"), o = n(12), r = n(223), s = n(20), a = n(53); function c() { } e.protocol = 4, e.types = ["CONNECT", "DISCONNECT", "EVENT", "ACK", "ERROR", "BINARY_EVENT", "BINARY_ACK"], e.CONNECT = 0, e.DISCONNECT = 1, e.EVENT = 2, e.ACK = 3, e.ERROR = 4, e.BINARY_EVENT = 5, e.BINARY_ACK = 6, e.Encoder = c, e.Decoder = u; var l = e.ERROR + '"encode error"'; function d(t) { var n = "" + t.type; if (e.BINARY_EVENT !== t.type && e.BINARY_ACK !== t.type || (n += t.attachments + "-"), t.nsp && "/" !== t.nsp && (n += t.nsp + ","), null != t.id && (n += t.id), null != t.data) {
                        var o = function (t) { try {
                            return JSON.stringify(t);
                        }
                        catch (t) {
                            return !1;
                        } }(t.data);
                        if (!1 === o)
                            return l;
                        n += o;
                    } return i("encoded %j as %s", t, n), n; } function u() { this.reconstructor = null; } function h(t) { this.reconPack = t, this.buffers = []; } function f(t) { return { type: e.ERROR, data: "parser error: " + t }; } c.prototype.encode = function (t, n) { (i("encoding packet %j", t), e.BINARY_EVENT === t.type || e.BINARY_ACK === t.type) ? function (t, e) { r.removeBlobs(t, function (t) { var n = r.deconstructPacket(t), i = d(n.packet), o = n.buffers; o.unshift(i), e(o); }); }(t, n) : n([d(t)]); }, o(u.prototype), u.prototype.add = function (t) { var n; if ("string" == typeof t)
                        n = function (t) { var n = 0, o = { type: Number(t.charAt(0)) }; if (null == e.types[o.type])
                            return f("unknown packet type " + o.type); if (e.BINARY_EVENT === o.type || e.BINARY_ACK === o.type) {
                            for (var r = ""; "-" !== t.charAt(++n) && (r += t.charAt(n), n != t.length);)
                                ;
                            if (r != Number(r) || "-" !== t.charAt(n))
                                throw new Error("Illegal attachments");
                            o.attachments = Number(r);
                        } if ("/" === t.charAt(n + 1))
                            for (o.nsp = ""; ++n;) {
                                var a = t.charAt(n);
                                if ("," === a)
                                    break;
                                if (o.nsp += a, n === t.length)
                                    break;
                            }
                        else
                            o.nsp = "/"; var c = t.charAt(n + 1); if ("" !== c && Number(c) == c) {
                            for (o.id = ""; ++n;) {
                                var a = t.charAt(n);
                                if (null == a || Number(a) != a) {
                                    --n;
                                    break;
                                }
                                if (o.id += t.charAt(n), n === t.length)
                                    break;
                            }
                            o.id = Number(o.id);
                        } if (t.charAt(++n)) {
                            var l = function (t) { try {
                                return JSON.parse(t);
                            }
                            catch (t) {
                                return !1;
                            } }(t.substr(n)), d = !1 !== l && (o.type === e.ERROR || s(l));
                            if (!d)
                                return f("invalid payload");
                            o.data = l;
                        } return i("decoded %s as %j", t, o), o; }(t), e.BINARY_EVENT === n.type || e.BINARY_ACK === n.type ? (this.reconstructor = new h(n), 0 === this.reconstructor.reconPack.attachments && this.emit("decoded", n)) : this.emit("decoded", n);
                    else {
                        if (!a(t) && !t.base64)
                            throw new Error("Unknown type: " + t);
                        if (!this.reconstructor)
                            throw new Error("got binary data when not reconstructing a packet");
                        (n = this.reconstructor.takeBinaryData(t)) && (this.reconstructor = null, this.emit("decoded", n));
                    } }, u.prototype.destroy = function () { this.reconstructor && this.reconstructor.finishedReconstruction(); }, h.prototype.takeBinaryData = function (t) { if (this.buffers.push(t), this.buffers.length === this.reconPack.attachments) {
                        var e = r.reconstructPacket(this.reconPack, this.buffers);
                        return this.finishedReconstruction(), e;
                    } return null; }, h.prototype.finishedReconstruction = function () { this.reconPack = null, this.buffers = []; }; }, function (t, e, n) { var i = n(229); t.exports = function (t) { var e = t.xdomain, n = t.xscheme, o = t.enablesXDR; try {
                        if ("undefined" != typeof XMLHttpRequest && (!e || i))
                            return new XMLHttpRequest;
                    }
                    catch (t) { } try {
                        if ("undefined" != typeof XDomainRequest && !n && o)
                            return new XDomainRequest;
                    }
                    catch (t) { } if (!e)
                        try {
                            return new (self[["Active"].concat("Object").join("X")])("Microsoft.XMLHTTP");
                        }
                        catch (t) { } }; }, function (t, e, n) { var i = n(16), o = n(12); function r(t) { this.path = t.path, this.hostname = t.hostname, this.port = t.port, this.secure = t.secure, this.query = t.query, this.timestampParam = t.timestampParam, this.timestampRequests = t.timestampRequests, this.readyState = "", this.agent = t.agent || !1, this.socket = t.socket, this.enablesXDR = t.enablesXDR, this.withCredentials = t.withCredentials, this.pfx = t.pfx, this.key = t.key, this.passphrase = t.passphrase, this.cert = t.cert, this.ca = t.ca, this.ciphers = t.ciphers, this.rejectUnauthorized = t.rejectUnauthorized, this.forceNode = t.forceNode, this.isReactNative = t.isReactNative, this.extraHeaders = t.extraHeaders, this.localAddress = t.localAddress; } t.exports = r, o(r.prototype), r.prototype.onError = function (t, e) { var n = new Error(t); return n.type = "TransportError", n.description = e, this.emit("error", n), this; }, r.prototype.open = function () { return "closed" !== this.readyState && "" !== this.readyState || (this.readyState = "opening", this.doOpen()), this; }, r.prototype.close = function () { return "opening" !== this.readyState && "open" !== this.readyState || (this.doClose(), this.onClose()), this; }, r.prototype.send = function (t) { if ("open" !== this.readyState)
                        throw new Error("Transport not open"); this.write(t); }, r.prototype.onOpen = function () { this.readyState = "open", this.writable = !0, this.emit("open"); }, r.prototype.onData = function (t) { var e = i.decodePacket(t, this.socket.binaryType); this.onPacket(e); }, r.prototype.onPacket = function (t) { this.emit("packet", t); }, r.prototype.onClose = function () { this.readyState = "closed", this.emit("close"); }; }, function (t, e, n) {
                        "use strict";
                        t.exports = d;
                        var i, o = n(9), r = o.LongBits, s = o.base64, a = o.utf8;
                        function c(t, e, n) { this.fn = t, this.len = e, this.next = void 0, this.val = n; }
                        function l() { }
                        function d() { this.len = 0, this.head = new c(l, 0, 0), this.tail = this.head, this.states = null; }
                        function u(t, e, n) { e[n] = 255 & t; }
                        function h(t, e) { this.len = t, this.next = void 0, this.val = e; }
                        function f(t, e, n) { for (; t.hi;)
                            e[n++] = 127 & t.lo | 128, t.lo = (t.lo >>> 7 | t.hi << 25) >>> 0, t.hi >>>= 7; for (; t.lo > 127;)
                            e[n++] = 127 & t.lo | 128, t.lo = t.lo >>> 7; e[n++] = t.lo; }
                        function p(t, e, n) { e[n] = 255 & t, e[n + 1] = t >>> 8 & 255, e[n + 2] = t >>> 16 & 255, e[n + 3] = t >>> 24; }
                        d.create = o.Buffer ? function () { return (d.create = function () { return new i; })(); } : function () { return new d; }, d.alloc = function (t) { return new o.Array(t); }, o.Array !== Array && (d.alloc = o.pool(d.alloc, o.Array.prototype.subarray)), d.prototype._push = function (t, e, n) { return this.tail = this.tail.next = new c(t, e, n), this.len += e, this; }, h.prototype = Object.create(c.prototype), h.prototype.fn = function (t, e, n) { for (; t > 127;)
                            e[n++] = 127 & t | 128, t >>>= 7; e[n] = t; }, d.prototype.uint32 = function (t) { return this.len += (this.tail = this.tail.next = new h((t >>>= 0) < 128 ? 1 : t < 16384 ? 2 : t < 2097152 ? 3 : t < 268435456 ? 4 : 5, t)).len, this; }, d.prototype.int32 = function (t) { return t < 0 ? this._push(f, 10, r.fromNumber(t)) : this.uint32(t); }, d.prototype.sint32 = function (t) { return this.uint32((t << 1 ^ t >> 31) >>> 0); }, d.prototype.uint64 = function (t) { var e = r.from(t); return this._push(f, e.length(), e); }, d.prototype.int64 = d.prototype.uint64, d.prototype.sint64 = function (t) { var e = r.from(t).zzEncode(); return this._push(f, e.length(), e); }, d.prototype.bool = function (t) { return this._push(u, 1, t ? 1 : 0); }, d.prototype.fixed32 = function (t) { return this._push(p, 4, t >>> 0); }, d.prototype.sfixed32 = d.prototype.fixed32, d.prototype.fixed64 = function (t) { var e = r.from(t); return this._push(p, 4, e.lo)._push(p, 4, e.hi); }, d.prototype.sfixed64 = d.prototype.fixed64, d.prototype.float = function (t) { return this._push(o.float.writeFloatLE, 4, t); }, d.prototype.double = function (t) { return this._push(o.float.writeDoubleLE, 8, t); };
                        var m = o.Array.prototype.set ? function (t, e, n) { e.set(t, n); } : function (t, e, n) { for (var i = 0; i < t.length; ++i)
                            e[n + i] = t[i]; };
                        d.prototype.bytes = function (t) { var e = t.length >>> 0; if (!e)
                            return this._push(u, 1, 0); if (o.isString(t)) {
                            var n = d.alloc(e = s.length(t));
                            s.decode(t, n, 0), t = n;
                        } return this.uint32(e)._push(m, e, t); }, d.prototype.string = function (t) { var e = a.length(t); return e ? this.uint32(e)._push(a.write, e, t) : this._push(u, 1, 0); }, d.prototype.fork = function () { return this.states = new function (t) { this.head = t.head, this.tail = t.tail, this.len = t.len, this.next = t.states; }(this), this.head = this.tail = new c(l, 0, 0), this.len = 0, this; }, d.prototype.reset = function () { return this.states ? (this.head = this.states.head, this.tail = this.states.tail, this.len = this.states.len, this.states = this.states.next) : (this.head = this.tail = new c(l, 0, 0), this.len = 0), this; }, d.prototype.ldelim = function () { var t = this.head, e = this.tail, n = this.len; return this.reset().uint32(n), n && (this.tail.next = t.next, this.tail = e, this.len += n), this; }, d.prototype.finish = function () { for (var t = this.head.next, e = this.constructor.alloc(this.len), n = 0; t;)
                            t.fn(t.val, e, n), n += t.len, t = t.next; return e; }, d._configure = function (t) { i = t; };
                    }, function (t, e, n) {
                        "use strict";
                        t.exports = c;
                        var i, o = n(9), r = o.LongBits, s = o.utf8;
                        function a(t, e) { return RangeError("index out of range: " + t.pos + " + " + (e || 1) + " > " + t.len); }
                        function c(t) { this.buf = t, this.pos = 0, this.len = t.length; }
                        var l = "undefined" != typeof Uint8Array ? function (t) { if (t instanceof Uint8Array || Array.isArray(t))
                            return new c(t); throw Error("illegal buffer"); } : function (t) { if (Array.isArray(t))
                            return new c(t); throw Error("illegal buffer"); };
                        function d() { var t = new r(0, 0), e = 0; if (!(this.len - this.pos > 4)) {
                            for (; e < 3; ++e) {
                                if (this.pos >= this.len)
                                    throw a(this);
                                if (t.lo = (t.lo | (127 & this.buf[this.pos]) << 7 * e) >>> 0, this.buf[this.pos++] < 128)
                                    return t;
                            }
                            return t.lo = (t.lo | (127 & this.buf[this.pos++]) << 7 * e) >>> 0, t;
                        } for (; e < 4; ++e)
                            if (t.lo = (t.lo | (127 & this.buf[this.pos]) << 7 * e) >>> 0, this.buf[this.pos++] < 128)
                                return t; if (t.lo = (t.lo | (127 & this.buf[this.pos]) << 28) >>> 0, t.hi = (t.hi | (127 & this.buf[this.pos]) >> 4) >>> 0, this.buf[this.pos++] < 128)
                            return t; if (e = 0, this.len - this.pos > 4) {
                            for (; e < 5; ++e)
                                if (t.hi = (t.hi | (127 & this.buf[this.pos]) << 7 * e + 3) >>> 0, this.buf[this.pos++] < 128)
                                    return t;
                        }
                        else
                            for (; e < 5; ++e) {
                                if (this.pos >= this.len)
                                    throw a(this);
                                if (t.hi = (t.hi | (127 & this.buf[this.pos]) << 7 * e + 3) >>> 0, this.buf[this.pos++] < 128)
                                    return t;
                            } throw Error("invalid varint encoding"); }
                        function u(t, e) { return (t[e - 4] | t[e - 3] << 8 | t[e - 2] << 16 | t[e - 1] << 24) >>> 0; }
                        function h() { if (this.pos + 8 > this.len)
                            throw a(this, 8); return new r(u(this.buf, this.pos += 4), u(this.buf, this.pos += 4)); }
                        c.create = o.Buffer ? function (t) { return (c.create = function (t) { return o.Buffer.isBuffer(t) ? new i(t) : l(t); })(t); } : l, c.prototype._slice = o.Array.prototype.subarray || o.Array.prototype.slice, c.prototype.uint32 = function () { var t = 4294967295; return function () { if (t = (127 & this.buf[this.pos]) >>> 0, this.buf[this.pos++] < 128)
                            return t; if (t = (t | (127 & this.buf[this.pos]) << 7) >>> 0, this.buf[this.pos++] < 128)
                            return t; if (t = (t | (127 & this.buf[this.pos]) << 14) >>> 0, this.buf[this.pos++] < 128)
                            return t; if (t = (t | (127 & this.buf[this.pos]) << 21) >>> 0, this.buf[this.pos++] < 128)
                            return t; if (t = (t | (15 & this.buf[this.pos]) << 28) >>> 0, this.buf[this.pos++] < 128)
                            return t; if ((this.pos += 5) > this.len)
                            throw this.pos = this.len, a(this, 10); return t; }; }(), c.prototype.int32 = function () { return 0 | this.uint32(); }, c.prototype.sint32 = function () { var t = this.uint32(); return t >>> 1 ^ -(1 & t) | 0; }, c.prototype.bool = function () { return 0 !== this.uint32(); }, c.prototype.fixed32 = function () { if (this.pos + 4 > this.len)
                            throw a(this, 4); return u(this.buf, this.pos += 4); }, c.prototype.sfixed32 = function () { if (this.pos + 4 > this.len)
                            throw a(this, 4); return 0 | u(this.buf, this.pos += 4); }, c.prototype.float = function () { if (this.pos + 4 > this.len)
                            throw a(this, 4); var t = o.float.readFloatLE(this.buf, this.pos); return this.pos += 4, t; }, c.prototype.double = function () { if (this.pos + 8 > this.len)
                            throw a(this, 4); var t = o.float.readDoubleLE(this.buf, this.pos); return this.pos += 8, t; }, c.prototype.bytes = function () { var t = this.uint32(), e = this.pos, n = this.pos + t; if (n > this.len)
                            throw a(this, t); return this.pos += t, Array.isArray(this.buf) ? this.buf.slice(e, n) : e === n ? new this.buf.constructor(0) : this._slice.call(this.buf, e, n); }, c.prototype.string = function () { var t = this.bytes(); return s.read(t, 0, t.length); }, c.prototype.skip = function (t) { if ("number" == typeof t) {
                            if (this.pos + t > this.len)
                                throw a(this, t);
                            this.pos += t;
                        }
                        else
                            do {
                                if (this.pos >= this.len)
                                    throw a(this);
                            } while (128 & this.buf[this.pos++]); return this; }, c.prototype.skipType = function (t) { switch (t) {
                            case 0:
                                this.skip();
                                break;
                            case 1:
                                this.skip(8);
                                break;
                            case 2:
                                this.skip(this.uint32());
                                break;
                            case 3:
                                for (; 4 != (t = 7 & this.uint32());)
                                    this.skipType(t);
                                break;
                            case 5:
                                this.skip(4);
                                break;
                            default: throw Error("invalid wire type " + t + " at offset " + this.pos);
                        } return this; }, c._configure = function (t) { i = t; var e = o.Long ? "toLong" : "toNumber"; o.merge(c.prototype, { int64: function () { return d.call(this)[e](!1); }, uint64: function () { return d.call(this)[e](!0); }, sint64: function () { return d.call(this).zzDecode()[e](!1); }, fixed64: function () { return h.call(this)[e](!0); }, sfixed64: function () { return h.call(this)[e](!1); } }); };
                    }, function (t, e, n) {
                        "use strict";
                        t.exports = s;
                        var i = n(17);
                        ((s.prototype = Object.create(i.prototype)).constructor = s).className = "OneOf";
                        var o = n(18), r = n(5);
                        function s(t, e, n, o) { if (Array.isArray(e) || (n = e, e = void 0), i.call(this, t, n), void 0 !== e && !Array.isArray(e))
                            throw TypeError("fieldNames must be an Array"); this.oneof = e || [], this.fieldsArray = [], this.comment = o; }
                        function a(t) { if (t.parent)
                            for (var e = 0; e < t.fieldsArray.length; ++e)
                                t.fieldsArray[e].parent || t.parent.add(t.fieldsArray[e]); }
                        s.fromJSON = function (t, e) { return new s(t, e.oneof, e.options, e.comment); }, s.prototype.toJSON = function (t) { var e = !!t && Boolean(t.keepComments); return r.toObject(["options", this.options, "oneof", this.oneof, "comment", e ? this.comment : void 0]); }, s.prototype.add = function (t) { if (!(t instanceof o))
                            throw TypeError("field must be a Field"); return t.parent && t.parent !== this.parent && t.parent.remove(t), this.oneof.push(t.name), this.fieldsArray.push(t), t.partOf = this, a(this), this; }, s.prototype.remove = function (t) { if (!(t instanceof o))
                            throw TypeError("field must be a Field"); var e = this.fieldsArray.indexOf(t); if (e < 0)
                            throw Error(t + " is not a member of " + this); return this.fieldsArray.splice(e, 1), (e = this.oneof.indexOf(t.name)) > -1 && this.oneof.splice(e, 1), t.partOf = null, this; }, s.prototype.onAdd = function (t) { i.prototype.onAdd.call(this, t); for (var e = 0; e < this.oneof.length; ++e) {
                            var n = t.get(this.oneof[e]);
                            n && !n.partOf && (n.partOf = this, this.fieldsArray.push(n));
                        } a(this); }, s.prototype.onRemove = function (t) { for (var e, n = 0; n < this.fieldsArray.length; ++n)
                            (e = this.fieldsArray[n]).parent && e.parent.remove(e); i.prototype.onRemove.call(this, t); }, s.d = function () { for (var t = new Array(arguments.length), e = 0; e < arguments.length;)
                            t[e] = arguments[e++]; return function (e, n) { r.decorateType(e.constructor).add(new s(n, t)), Object.defineProperty(e, n, { get: r.oneOfGetter(t), set: r.oneOfSetter(t) }); }; };
                    }, function (t, e, n) {
                        "use strict";
                        t.exports = o;
                        var i = n(9);
                        function o(t) { if (t)
                            for (var e = Object.keys(t), n = 0; n < e.length; ++n)
                                this[e[n]] = t[e[n]]; }
                        o.create = function (t) { return this.$type.create(t); }, o.encode = function (t, e) { return this.$type.encode(t, e); }, o.encodeDelimited = function (t, e) { return this.$type.encodeDelimited(t, e); }, o.decode = function (t) { return this.$type.decode(t); }, o.decodeDelimited = function (t) { return this.$type.decodeDelimited(t); }, o.verify = function (t) { return this.$type.verify(t); }, o.fromObject = function (t) { return this.$type.fromObject(t); }, o.toObject = function (t, e) { return this.$type.toObject(t, e); }, o.prototype.toJSON = function () { return this.$type.toObject(this, i.toJSONOptions); };
                    }, function (t, e, n) { var i = n(276); t.exports = function (t) { return i(t, { weekStartsOn: 1 }); }; }, function (t, e, n) { var i = n(274), o = 6e4, r = 864e5; t.exports = function (t, e) { var n = i(t), s = i(e), a = n.getTime() - n.getTimezoneOffset() * o, c = s.getTime() - s.getTimezoneOffset() * o; return Math.round((a - c) / r); }; }, function (t, e) { t.exports = '<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M5.042 9.367l2.189 1.837a.75.75 0 0 1-.965 1.149l-3.788-3.18a.747.747 0 0 1-.21-.284.75.75 0 0 1 .17-.945L6.23 4.762a.75.75 0 1 1 .964 1.15L4.863 7.866h8.917A.75.75 0 0 1 14 7.9a4 4 0 1 1-1.477 7.718l.344-1.489a2.5 2.5 0 1 0 1.094-4.73l.008-.032H5.042z"/></svg>'; }, function (t, e) { t.exports = '<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M14.958 9.367l-2.189 1.837a.75.75 0 0 0 .965 1.149l3.788-3.18a.747.747 0 0 0 .21-.284.75.75 0 0 0-.17-.945L13.77 4.762a.75.75 0 1 0-.964 1.15l2.331 1.955H6.22A.75.75 0 0 0 6 7.9a4 4 0 1 0 1.477 7.718l-.344-1.489A2.5 2.5 0 1 1 6.039 9.4l-.008-.032h8.927z"/></svg>'; }, function (t, e) { t.exports = '<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 4.5V3h16v1.5zm2.5 3V12h11V7.5h-11zM4.061 6H15.94c.586 0 1.061.407 1.061.91v5.68c0 .503-.475.91-1.061.91H4.06c-.585 0-1.06-.407-1.06-.91V6.91C3 6.406 3.475 6 4.061 6zM2 16.5V15h16v1.5z"/></svg>'; }, function (t, e) { t.exports = '<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg" clip-rule="evenodd" stroke-linejoin="round" stroke-miterlimit="1.414"><path d="M18 4.5V3H2v1.5h16zm0 3V6h-5.674v1.5H18zm0 3V9h-5.674v1.5H18zm0 3V12h-5.674v1.5H18zm-8.5-6V12h-6V7.5h6zm.818-1.5H2.682C2.305 6 2 6.407 2 6.91v5.68c0 .503.305.91.682.91h7.636c.377 0 .682-.407.682-.91V6.91c0-.503-.305-.91-.682-.91zM18 16.5V15H2v1.5h16z"/></svg>'; }, function (t, e) { t.exports = '<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 4.5V3h16v1.5zm4.5 3V12h7V7.5h-7zM5.758 6h8.484c.419 0 .758.407.758.91v5.681c0 .502-.34.909-.758.909H5.758c-.419 0-.758-.407-.758-.91V6.91c0-.503.34-.91.758-.91zM2 16.5V15h16v1.5z"/></svg>'; }, function (t, e) { t.exports = '<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 8c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 4c0 .414.336.75.75.75h9.929a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0-8c0 .414.336.75.75.75h9.929a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75z"/></svg>'; }, function (t, e) { t.exports = '<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M18 3.75a.75.75 0 0 1-.75.75H2.75a.75.75 0 1 1 0-1.5h14.5a.75.75 0 0 1 .75.75zm0 8a.75.75 0 0 1-.75.75H2.75a.75.75 0 1 1 0-1.5h14.5a.75.75 0 0 1 .75.75zm0 4a.75.75 0 0 1-.75.75H7.321a.75.75 0 1 1 0-1.5h9.929a.75.75 0 0 1 .75.75zm0-8a.75.75 0 0 1-.75.75H7.321a.75.75 0 1 1 0-1.5h9.929a.75.75 0 0 1 .75.75z"/></svg>'; }, function (t, e, n) { var i = n(8)("socket.io-parser"), o = n(12), r = n(258), s = n(20), a = n(77); function c() { } e.protocol = 4, e.types = ["CONNECT", "DISCONNECT", "EVENT", "ACK", "ERROR", "BINARY_EVENT", "BINARY_ACK"], e.CONNECT = 0, e.DISCONNECT = 1, e.EVENT = 2, e.ACK = 3, e.ERROR = 4, e.BINARY_EVENT = 5, e.BINARY_ACK = 6, e.Encoder = c, e.Decoder = u; var l = e.ERROR + '"encode error"'; function d(t) { var n = "" + t.type; if (e.BINARY_EVENT !== t.type && e.BINARY_ACK !== t.type || (n += t.attachments + "-"), t.nsp && "/" !== t.nsp && (n += t.nsp + ","), null != t.id && (n += t.id), null != t.data) {
                        var o = function (t) { try {
                            return JSON.stringify(t);
                        }
                        catch (t) {
                            return !1;
                        } }(t.data);
                        if (!1 === o)
                            return l;
                        n += o;
                    } return i("encoded %j as %s", t, n), n; } function u() { this.reconstructor = null; } function h(t) { this.reconPack = t, this.buffers = []; } function f(t) { return { type: e.ERROR, data: "parser error: " + t }; } c.prototype.encode = function (t, n) { (i("encoding packet %j", t), e.BINARY_EVENT === t.type || e.BINARY_ACK === t.type) ? function (t, e) { r.removeBlobs(t, function (t) { var n = r.deconstructPacket(t), i = d(n.packet), o = n.buffers; o.unshift(i), e(o); }); }(t, n) : n([d(t)]); }, o(u.prototype), u.prototype.add = function (t) { var n; if ("string" == typeof t)
                        n = function (t) { var n = 0, o = { type: Number(t.charAt(0)) }; if (null == e.types[o.type])
                            return f("unknown packet type " + o.type); if (e.BINARY_EVENT === o.type || e.BINARY_ACK === o.type) {
                            for (var r = ""; "-" !== t.charAt(++n) && (r += t.charAt(n), n != t.length);)
                                ;
                            if (r != Number(r) || "-" !== t.charAt(n))
                                throw new Error("Illegal attachments");
                            o.attachments = Number(r);
                        } if ("/" === t.charAt(n + 1))
                            for (o.nsp = ""; ++n;) {
                                var a = t.charAt(n);
                                if ("," === a)
                                    break;
                                if (o.nsp += a, n === t.length)
                                    break;
                            }
                        else
                            o.nsp = "/"; var c = t.charAt(n + 1); if ("" !== c && Number(c) == c) {
                            for (o.id = ""; ++n;) {
                                var a = t.charAt(n);
                                if (null == a || Number(a) != a) {
                                    --n;
                                    break;
                                }
                                if (o.id += t.charAt(n), n === t.length)
                                    break;
                            }
                            o.id = Number(o.id);
                        } if (t.charAt(++n)) {
                            var l = function (t) { try {
                                return JSON.parse(t);
                            }
                            catch (t) {
                                return !1;
                            } }(t.substr(n)), d = !1 !== l && (o.type === e.ERROR || s(l));
                            if (!d)
                                return f("invalid payload");
                            o.data = l;
                        } return i("decoded %s as %j", t, o), o; }(t), e.BINARY_EVENT === n.type || e.BINARY_ACK === n.type ? (this.reconstructor = new h(n), 0 === this.reconstructor.reconPack.attachments && this.emit("decoded", n)) : this.emit("decoded", n);
                    else {
                        if (!a(t) && !t.base64)
                            throw new Error("Unknown type: " + t);
                        if (!this.reconstructor)
                            throw new Error("got binary data when not reconstructing a packet");
                        (n = this.reconstructor.takeBinaryData(t)) && (this.reconstructor = null, this.emit("decoded", n));
                    } }, u.prototype.destroy = function () { this.reconstructor && this.reconstructor.finishedReconstruction(); }, h.prototype.takeBinaryData = function (t) { if (this.buffers.push(t), this.buffers.length === this.reconPack.attachments) {
                        var e = r.reconstructPacket(this.reconPack, this.buffers);
                        return this.finishedReconstruction(), e;
                    } return null; }, h.prototype.finishedReconstruction = function () { this.reconPack = null, this.buffers = []; }; }, function (t, e, n) { var i = n(182); "string" == typeof i && (i = [[t.i, i, ""]]); var o = { injectType: "singletonStyleTag", insert: "head", singleton: !0 }; n(1)(i, o); i.locals && (t.exports = i.locals); }, function (t, e) { var n = /^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/, i = ["source", "protocol", "authority", "userInfo", "user", "password", "host", "port", "relative", "path", "directory", "file", "query", "anchor"]; t.exports = function (t) { var e = t, o = t.indexOf("["), r = t.indexOf("]"); -1 != o && -1 != r && (t = t.substring(0, o) + t.substring(o, r).replace(/:/g, ";") + t.substring(r, t.length)); for (var s = n.exec(t || ""), a = {}, c = 14; c--;)
                        a[i[c]] = s[c] || ""; return -1 != o && -1 != r && (a.source = e, a.host = a.host.substring(1, a.host.length - 1).replace(/;/g, ":"), a.authority = a.authority.replace("[", "").replace("]", "").replace(/;/g, ":"), a.ipv6uri = !0), a; }; }, function (t, e, n) { (function (e) { t.exports = function (t) { return n && e.isBuffer(t) || i && (t instanceof ArrayBuffer || o(t)); }; var n = "function" == typeof e && "function" == typeof e.isBuffer, i = "function" == typeof ArrayBuffer, o = function (t) { return "function" == typeof ArrayBuffer.isView ? ArrayBuffer.isView(t) : t.buffer instanceof ArrayBuffer; }; }).call(this, n(21).Buffer); }, function (t, e, n) { var i = n(227), o = n(60), r = n(12), s = n(34), a = n(61), c = n(62), l = n(8)("socket.io-client:manager"), d = n(59), u = n(241), h = Object.prototype.hasOwnProperty; function f(t, e) { if (!(this instanceof f))
                        return new f(t, e); t && "object" == typeof t && (e = t, t = void 0), (e = e || {}).path = e.path || "/socket.io", this.nsps = {}, this.subs = [], this.opts = e, this.reconnection(!1 !== e.reconnection), this.reconnectionAttempts(e.reconnectionAttempts || 1 / 0), this.reconnectionDelay(e.reconnectionDelay || 1e3), this.reconnectionDelayMax(e.reconnectionDelayMax || 5e3), this.randomizationFactor(e.randomizationFactor || .5), this.backoff = new u({ min: this.reconnectionDelay(), max: this.reconnectionDelayMax(), jitter: this.randomizationFactor() }), this.timeout(null == e.timeout ? 2e4 : e.timeout), this.readyState = "closed", this.uri = t, this.connecting = [], this.lastPing = null, this.encoding = !1, this.packetBuffer = []; var n = e.parser || s; this.encoder = new n.Encoder, this.decoder = new n.Decoder, this.autoConnect = !1 !== e.autoConnect, this.autoConnect && this.open(); } t.exports = f, f.prototype.emitAll = function () { for (var t in this.emit.apply(this, arguments), this.nsps)
                        h.call(this.nsps, t) && this.nsps[t].emit.apply(this.nsps[t], arguments); }, f.prototype.updateSocketIds = function () { for (var t in this.nsps)
                        h.call(this.nsps, t) && (this.nsps[t].id = this.generateId(t)); }, f.prototype.generateId = function (t) { return ("/" === t ? "" : t + "#") + this.engine.id; }, r(f.prototype), f.prototype.reconnection = function (t) { return arguments.length ? (this._reconnection = !!t, this) : this._reconnection; }, f.prototype.reconnectionAttempts = function (t) { return arguments.length ? (this._reconnectionAttempts = t, this) : this._reconnectionAttempts; }, f.prototype.reconnectionDelay = function (t) { return arguments.length ? (this._reconnectionDelay = t, this.backoff && this.backoff.setMin(t), this) : this._reconnectionDelay; }, f.prototype.randomizationFactor = function (t) { return arguments.length ? (this._randomizationFactor = t, this.backoff && this.backoff.setJitter(t), this) : this._randomizationFactor; }, f.prototype.reconnectionDelayMax = function (t) { return arguments.length ? (this._reconnectionDelayMax = t, this.backoff && this.backoff.setMax(t), this) : this._reconnectionDelayMax; }, f.prototype.timeout = function (t) { return arguments.length ? (this._timeout = t, this) : this._timeout; }, f.prototype.maybeReconnectOnOpen = function () { !this.reconnecting && this._reconnection && 0 === this.backoff.attempts && this.reconnect(); }, f.prototype.open = f.prototype.connect = function (t, e) { if (l("readyState %s", this.readyState), ~this.readyState.indexOf("open"))
                        return this; l("opening %s", this.uri), this.engine = i(this.uri, this.opts); var n = this.engine, o = this; this.readyState = "opening", this.skipReconnect = !1; var r = a(n, "open", function () { o.onopen(), t && t(); }), s = a(n, "error", function (e) { if (l("connect_error"), o.cleanup(), o.readyState = "closed", o.emitAll("connect_error", e), t) {
                        var n = new Error("Connection error");
                        n.data = e, t(n);
                    }
                    else
                        o.maybeReconnectOnOpen(); }); if (!1 !== this._timeout) {
                        var c = this._timeout;
                        l("connect attempt will timeout after %d", c);
                        var d = setTimeout(function () { l("connect attempt timed out after %d", c), r.destroy(), n.close(), n.emit("error", "timeout"), o.emitAll("connect_timeout", c); }, c);
                        this.subs.push({ destroy: function () { clearTimeout(d); } });
                    } return this.subs.push(r), this.subs.push(s), this; }, f.prototype.onopen = function () { l("open"), this.cleanup(), this.readyState = "open", this.emit("open"); var t = this.engine; this.subs.push(a(t, "data", c(this, "ondata"))), this.subs.push(a(t, "ping", c(this, "onping"))), this.subs.push(a(t, "pong", c(this, "onpong"))), this.subs.push(a(t, "error", c(this, "onerror"))), this.subs.push(a(t, "close", c(this, "onclose"))), this.subs.push(a(this.decoder, "decoded", c(this, "ondecoded"))); }, f.prototype.onping = function () { this.lastPing = new Date, this.emitAll("ping"); }, f.prototype.onpong = function () { this.emitAll("pong", new Date - this.lastPing); }, f.prototype.ondata = function (t) { this.decoder.add(t); }, f.prototype.ondecoded = function (t) { this.emit("packet", t); }, f.prototype.onerror = function (t) { l("error", t), this.emitAll("error", t); }, f.prototype.socket = function (t, e) { var n = this.nsps[t]; if (!n) {
                        n = new o(this, t, e), this.nsps[t] = n;
                        var i = this;
                        n.on("connecting", r), n.on("connect", function () { n.id = i.generateId(t); }), this.autoConnect && r();
                    } function r() { ~d(i.connecting, n) || i.connecting.push(n); } return n; }, f.prototype.destroy = function (t) { var e = d(this.connecting, t); ~e && this.connecting.splice(e, 1), this.connecting.length || this.close(); }, f.prototype.packet = function (t) { l("writing packet %j", t); var e = this; t.query && 0 === t.type && (t.nsp += "?" + t.query), e.encoding ? e.packetBuffer.push(t) : (e.encoding = !0, this.encoder.encode(t, function (n) { for (var i = 0; i < n.length; i++)
                        e.engine.write(n[i], t.options); e.encoding = !1, e.processPacketQueue(); })); }, f.prototype.processPacketQueue = function () { if (this.packetBuffer.length > 0 && !this.encoding) {
                        var t = this.packetBuffer.shift();
                        this.packet(t);
                    } }, f.prototype.cleanup = function () { l("cleanup"); for (var t = this.subs.length, e = 0; e < t; e++) {
                        this.subs.shift().destroy();
                    } this.packetBuffer = [], this.encoding = !1, this.lastPing = null, this.decoder.destroy(); }, f.prototype.close = f.prototype.disconnect = function () { l("disconnect"), this.skipReconnect = !0, this.reconnecting = !1, "opening" === this.readyState && this.cleanup(), this.backoff.reset(), this.readyState = "closed", this.engine && this.engine.close(); }, f.prototype.onclose = function (t) { l("onclose"), this.cleanup(), this.backoff.reset(), this.readyState = "closed", this.emit("close", t), this._reconnection && !this.skipReconnect && this.reconnect(); }, f.prototype.reconnect = function () { if (this.reconnecting || this.skipReconnect)
                        return this; var t = this; if (this.backoff.attempts >= this._reconnectionAttempts)
                        l("reconnect failed"), this.backoff.reset(), this.emitAll("reconnect_failed"), this.reconnecting = !1;
                    else {
                        var e = this.backoff.duration();
                        l("will wait %dms before reconnect attempt", e), this.reconnecting = !0;
                        var n = setTimeout(function () { t.skipReconnect || (l("attempting reconnect"), t.emitAll("reconnect_attempt", t.backoff.attempts), t.emitAll("reconnecting", t.backoff.attempts), t.skipReconnect || t.open(function (e) { e ? (l("reconnect attempt error"), t.reconnecting = !1, t.reconnect(), t.emitAll("reconnect_error", e.data)) : (l("reconnect success"), t.onreconnect()); })); }, e);
                        this.subs.push({ destroy: function () { clearTimeout(n); } });
                    } }, f.prototype.onreconnect = function () { var t = this.backoff.attempts; this.reconnecting = !1, this.backoff.reset(), this.updateSocketIds(), this.emitAll("reconnect", t); }; }, function (t, e, n) { var i = n(35), o = n(230), r = n(237), s = n(238); e.polling = function (t) { var e = !1, n = !1, s = !1 !== t.jsonp; if ("undefined" != typeof location) {
                        var a = "https:" === location.protocol, c = location.port;
                        c || (c = a ? 443 : 80), e = t.hostname !== location.hostname || c !== t.port, n = t.secure !== a;
                    } if (t.xdomain = e, t.xscheme = n, "open" in new i(t) && !t.forceJSONP)
                        return new o(t); if (!s)
                        throw new Error("JSONP disabled"); return new r(t); }, e.websocket = s; }, function (t, e, n) { var i = n(36), o = n(24), r = n(16), s = n(25), a = n(58), c = n(8)("engine.io-client:polling"); t.exports = d; var l = null != new (n(35))({ xdomain: !1 }).responseType; function d(t) { var e = t && t.forceBase64; l && !e || (this.supportsBinary = !1), i.call(this, t); } s(d, i), d.prototype.name = "polling", d.prototype.doOpen = function () { this.poll(); }, d.prototype.pause = function (t) { var e = this; function n() { c("paused"), e.readyState = "paused", t(); } if (this.readyState = "pausing", this.polling || !this.writable) {
                        var i = 0;
                        this.polling && (c("we are currently polling - waiting to pause"), i++, this.once("pollComplete", function () { c("pre-pause polling complete"), --i || n(); })), this.writable || (c("we are currently writing - waiting to pause"), i++, this.once("drain", function () { c("pre-pause writing complete"), --i || n(); }));
                    }
                    else
                        n(); }, d.prototype.poll = function () { c("polling"), this.polling = !0, this.doPoll(), this.emit("poll"); }, d.prototype.onData = function (t) { var e = this; c("polling got data %s", t); r.decodePayload(t, this.socket.binaryType, function (t, n, i) { if ("opening" === e.readyState && e.onOpen(), "close" === t.type)
                        return e.onClose(), !1; e.onPacket(t); }), "closed" !== this.readyState && (this.polling = !1, this.emit("pollComplete"), "open" === this.readyState ? this.poll() : c('ignoring poll - transport state "%s"', this.readyState)); }, d.prototype.doClose = function () { var t = this; function e() { c("writing close packet"), t.write([{ type: "close" }]); } "open" === this.readyState ? (c("transport open - closing"), e()) : (c("transport not open - deferring close"), this.once("open", e)); }, d.prototype.write = function (t) { var e = this; this.writable = !1; var n = function () { e.writable = !0, e.emit("drain"); }; r.encodePayload(t, this.supportsBinary, function (t) { e.doWrite(t, n); }); }, d.prototype.uri = function () { var t = this.query || {}, e = this.secure ? "https" : "http", n = ""; return !1 !== this.timestampRequests && (t[this.timestampParam] = a()), this.supportsBinary || t.sid || (t.b64 = 1), t = o.encode(t), this.port && ("https" === e && 443 !== Number(this.port) || "http" === e && 80 !== Number(this.port)) && (n = ":" + this.port), t.length && (t = "?" + t), e + "://" + (-1 !== this.hostname.indexOf(":") ? "[" + this.hostname + "]" : this.hostname) + n + this.path + t; }; }, function (t, e, n) { (function (e) { var i = n(20), o = Object.prototype.toString, r = "function" == typeof Blob || "undefined" != typeof Blob && "[object BlobConstructor]" === o.call(Blob), s = "function" == typeof File || "undefined" != typeof File && "[object FileConstructor]" === o.call(File); t.exports = function t(n) { if (!n || "object" != typeof n)
                        return !1; if (i(n)) {
                        for (var o = 0, a = n.length; o < a; o++)
                            if (t(n[o]))
                                return !0;
                        return !1;
                    } if ("function" == typeof e && e.isBuffer && e.isBuffer(n) || "function" == typeof ArrayBuffer && n instanceof ArrayBuffer || r && n instanceof Blob || s && n instanceof File)
                        return !0; if (n.toJSON && "function" == typeof n.toJSON && 1 === arguments.length)
                        return t(n.toJSON(), !0); for (var c in n)
                        if (Object.prototype.hasOwnProperty.call(n, c) && t(n[c]))
                            return !0; return !1; }; }).call(this, n(21).Buffer); }, function (t, e, n) {
                        "use strict";
                        var i, o = "0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""), r = 64, s = {}, a = 0, c = 0;
                        function l(t) { var e = ""; do {
                            e = o[t % r] + e, t = Math.floor(t / r);
                        } while (t > 0); return e; }
                        function d() { var t = l(+new Date); return t !== i ? (a = 0, i = t) : t + "." + l(a++); }
                        for (; c < r; c++)
                            s[o[c]] = c;
                        d.encode = l, d.decode = function (t) { var e = 0; for (c = 0; c < t.length; c++)
                            e = e * r + s[t.charAt(c)]; return e; }, t.exports = d;
                    }, function (t, e) { var n = [].indexOf; t.exports = function (t, e) { if (n)
                        return t.indexOf(e); for (var i = 0; i < t.length; ++i)
                        if (t[i] === e)
                            return i; return -1; }; }, function (t, e, n) { var i = n(34), o = n(12), r = n(240), s = n(61), a = n(62), c = n(8)("socket.io-client:socket"), l = n(24), d = n(57); t.exports = f; var u = { connect: 1, connect_error: 1, connect_timeout: 1, connecting: 1, disconnect: 1, error: 1, reconnect: 1, reconnect_attempt: 1, reconnect_failed: 1, reconnect_error: 1, reconnecting: 1, ping: 1, pong: 1 }, h = o.prototype.emit; function f(t, e, n) { this.io = t, this.nsp = e, this.json = this, this.ids = 0, this.acks = {}, this.receiveBuffer = [], this.sendBuffer = [], this.connected = !1, this.disconnected = !0, this.flags = {}, n && n.query && (this.query = n.query), this.io.autoConnect && this.open(); } o(f.prototype), f.prototype.subEvents = function () { if (!this.subs) {
                        var t = this.io;
                        this.subs = [s(t, "open", a(this, "onopen")), s(t, "packet", a(this, "onpacket")), s(t, "close", a(this, "onclose"))];
                    } }, f.prototype.open = f.prototype.connect = function () { return this.connected ? this : (this.subEvents(), this.io.open(), "open" === this.io.readyState && this.onopen(), this.emit("connecting"), this); }, f.prototype.send = function () { var t = r(arguments); return t.unshift("message"), this.emit.apply(this, t), this; }, f.prototype.emit = function (t) { if (u.hasOwnProperty(t))
                        return h.apply(this, arguments), this; var e = r(arguments), n = { type: (void 0 !== this.flags.binary ? this.flags.binary : d(e)) ? i.BINARY_EVENT : i.EVENT, data: e, options: {} }; return n.options.compress = !this.flags || !1 !== this.flags.compress, "function" == typeof e[e.length - 1] && (c("emitting packet with ack id %d", this.ids), this.acks[this.ids] = e.pop(), n.id = this.ids++), this.connected ? this.packet(n) : this.sendBuffer.push(n), this.flags = {}, this; }, f.prototype.packet = function (t) { t.nsp = this.nsp, this.io.packet(t); }, f.prototype.onopen = function () { if (c("transport is open - connecting"), "/" !== this.nsp)
                        if (this.query) {
                            var t = "object" == typeof this.query ? l.encode(this.query) : this.query;
                            c("sending connect packet with query %s", t), this.packet({ type: i.CONNECT, query: t });
                        }
                        else
                            this.packet({ type: i.CONNECT }); }, f.prototype.onclose = function (t) { c("close (%s)", t), this.connected = !1, this.disconnected = !0, delete this.id, this.emit("disconnect", t); }, f.prototype.onpacket = function (t) { var e = t.nsp === this.nsp, n = t.type === i.ERROR && "/" === t.nsp; if (e || n)
                        switch (t.type) {
                            case i.CONNECT:
                                this.onconnect();
                                break;
                            case i.EVENT:
                            case i.BINARY_EVENT:
                                this.onevent(t);
                                break;
                            case i.ACK:
                            case i.BINARY_ACK:
                                this.onack(t);
                                break;
                            case i.DISCONNECT:
                                this.ondisconnect();
                                break;
                            case i.ERROR: this.emit("error", t.data);
                        } }, f.prototype.onevent = function (t) { var e = t.data || []; c("emitting event %j", e), null != t.id && (c("attaching ack callback to event"), e.push(this.ack(t.id))), this.connected ? h.apply(this, e) : this.receiveBuffer.push(e); }, f.prototype.ack = function (t) { var e = this, n = !1; return function () { if (!n) {
                        n = !0;
                        var o = r(arguments);
                        c("sending ack %j", o), e.packet({ type: d(o) ? i.BINARY_ACK : i.ACK, id: t, data: o });
                    } }; }, f.prototype.onack = function (t) { var e = this.acks[t.id]; "function" == typeof e ? (c("calling ack %s with %j", t.id, t.data), e.apply(this, t.data), delete this.acks[t.id]) : c("bad ack %s", t.id); }, f.prototype.onconnect = function () { this.connected = !0, this.disconnected = !1, this.emit("connect"), this.emitBuffered(); }, f.prototype.emitBuffered = function () { var t; for (t = 0; t < this.receiveBuffer.length; t++)
                        h.apply(this, this.receiveBuffer[t]); for (this.receiveBuffer = [], t = 0; t < this.sendBuffer.length; t++)
                        this.packet(this.sendBuffer[t]); this.sendBuffer = []; }, f.prototype.ondisconnect = function () { c("server disconnect (%s)", this.nsp), this.destroy(), this.onclose("io server disconnect"); }, f.prototype.destroy = function () { if (this.subs) {
                        for (var t = 0; t < this.subs.length; t++)
                            this.subs[t].destroy();
                        this.subs = null;
                    } this.io.destroy(this); }, f.prototype.close = f.prototype.disconnect = function () { return this.connected && (c("performing disconnect (%s)", this.nsp), this.packet({ type: i.DISCONNECT })), this.destroy(), this.connected && this.onclose("io client disconnect"), this; }, f.prototype.compress = function (t) { return this.flags.compress = t, this; }, f.prototype.binary = function (t) { return this.flags.binary = t, this; }; }, function (t, e) { t.exports = function (t, e, n) { return t.on(e, n), { destroy: function () { t.removeListener(e, n); } }; }; }, function (t, e) { var n = [].slice; t.exports = function (t, e) { if ("string" == typeof e && (e = t[e]), "function" != typeof e)
                        throw new Error("bind() requires a function"); var i = n.call(arguments, 2); return function () { return e.apply(t, i.concat(n.call(arguments))); }; }; }, function (t, e, n) {
                        "use strict";
                        t.exports = function (t, e) { var n = new Array(arguments.length - 1), i = 0, o = 2, r = !0; for (; o < arguments.length;)
                            n[i++] = arguments[o++]; return new Promise(function (o, s) { n[i] = function (t) { if (r)
                            if (r = !1, t)
                                s(t);
                            else {
                                for (var e = new Array(arguments.length - 1), n = 0; n < e.length;)
                                    e[n++] = arguments[n];
                                o.apply(null, e);
                            } }; try {
                            t.apply(e || null, n);
                        }
                        catch (t) {
                            r && (r = !1, s(t));
                        } }); };
                    }, function (module, exports, __webpack_require__) {
                        "use strict";
                        function inquire(moduleName) { try {
                            var mod = eval("quire".replace(/^/, "re"))(moduleName);
                            if (mod && (mod.length || Object.keys(mod).length))
                                return mod;
                        }
                        catch (t) { } return null; }
                        module.exports = inquire;
                    }, function (t, e, n) {
                        "use strict";
                        e.Service = n(254);
                    }, function (t, e, n) {
                        "use strict";
                        t.exports = {};
                    }, function (t, e, n) {
                        "use strict";
                        t.exports = function (t) { for (var e, n = r.codegen(["m", "w"], t.name + "$encode")("if(!w)")("w=Writer.create()"), a = t.fieldsArray.slice().sort(r.compareFieldsById), c = 0; c < a.length; ++c) {
                            var l = a[c].resolve(), d = t._fieldsArray.indexOf(l), u = l.resolvedType instanceof i ? "int32" : l.type, h = o.basic[u];
                            e = "m" + r.safeProp(l.name), l.map ? (n("if(%s!=null&&m.hasOwnProperty(%j)){", e, l.name)("for(var ks=Object.keys(%s),i=0;i<ks.length;++i){", e)("w.uint32(%i).fork().uint32(%i).%s(ks[i])", (l.id << 3 | 2) >>> 0, 8 | o.mapKey[l.keyType], l.keyType), void 0 === h ? n("types[%i].encode(%s[ks[i]],w.uint32(18).fork()).ldelim().ldelim()", d, e) : n(".uint32(%i).%s(%s[ks[i]]).ldelim()", 16 | h, u, e), n("}")("}")) : l.repeated ? (n("if(%s!=null&&%s.length){", e, e), l.packed && void 0 !== o.packed[u] ? n("w.uint32(%i).fork()", (l.id << 3 | 2) >>> 0)("for(var i=0;i<%s.length;++i)", e)("w.%s(%s[i])", u, e)("w.ldelim()") : (n("for(var i=0;i<%s.length;++i)", e), void 0 === h ? s(n, l, d, e + "[i]") : n("w.uint32(%i).%s(%s[i])", (l.id << 3 | h) >>> 0, u, e)), n("}")) : (l.optional && n("if(%s!=null&&m.hasOwnProperty(%j))", e, l.name), void 0 === h ? s(n, l, d, e) : n("w.uint32(%i).%s(%s)", (l.id << 3 | h) >>> 0, u, e));
                        } return n("return w"); };
                        var i = n(10), o = n(23), r = n(5);
                        function s(t, e, n, i) { return e.resolvedType.group ? t("types[%i].encode(%s,w.uint32(%i)).uint32(%i)", n, i, (e.id << 3 | 3) >>> 0, (e.id << 3 | 4) >>> 0) : t("types[%i].encode(%s,w.uint32(%i).fork()).ldelim()", n, i, (e.id << 3 | 2) >>> 0); }
                    }, function (t, e, n) {
                        "use strict";
                        t.exports = b;
                        var i = n(22);
                        ((b.prototype = Object.create(i.prototype)).constructor = b).className = "Type";
                        var o = n(10), r = n(39), s = n(18), a = n(69), c = n(70), l = n(40), d = n(38), u = n(37), h = n(5), f = n(67), p = n(72), m = n(73), g = n(74), x = n(75);
                        function b(t, e) { i.call(this, t, e), this.fields = {}, this.oneofs = void 0, this.extensions = void 0, this.reserved = void 0, this.group = void 0, this._fieldsById = null, this._fieldsArray = null, this._oneofsArray = null, this._ctor = null; }
                        function k(t) { return t._fieldsById = t._fieldsArray = t._oneofsArray = null, delete t.encode, delete t.decode, delete t.verify, t; }
                        Object.defineProperties(b.prototype, { fieldsById: { get: function () { if (this._fieldsById)
                                    return this._fieldsById; this._fieldsById = {}; for (var t = Object.keys(this.fields), e = 0; e < t.length; ++e) {
                                    var n = this.fields[t[e]], i = n.id;
                                    if (this._fieldsById[i])
                                        throw Error("duplicate id " + i + " in " + this);
                                    this._fieldsById[i] = n;
                                } return this._fieldsById; } }, fieldsArray: { get: function () { return this._fieldsArray || (this._fieldsArray = h.toArray(this.fields)); } }, oneofsArray: { get: function () { return this._oneofsArray || (this._oneofsArray = h.toArray(this.oneofs)); } }, ctor: { get: function () { return this._ctor || (this.ctor = b.generateConstructor(this)()); }, set: function (t) { var e = t.prototype; e instanceof l || ((t.prototype = new l).constructor = t, h.merge(t.prototype, e)), t.$type = t.prototype.$type = this, h.merge(t, l, !0), this._ctor = t; for (var n = 0; n < this.fieldsArray.length; ++n)
                                    this._fieldsArray[n].resolve(); var i = {}; for (n = 0; n < this.oneofsArray.length; ++n)
                                    i[this._oneofsArray[n].resolve().name] = { get: h.oneOfGetter(this._oneofsArray[n].oneof), set: h.oneOfSetter(this._oneofsArray[n].oneof) }; n && Object.defineProperties(t.prototype, i); } } }), b.generateConstructor = function (t) { for (var e, n = h.codegen(["p"], t.name), i = 0; i < t.fieldsArray.length; ++i)
                            (e = t._fieldsArray[i]).map ? n("this%s={}", h.safeProp(e.name)) : e.repeated && n("this%s=[]", h.safeProp(e.name)); return n("if(p)for(var ks=Object.keys(p),i=0;i<ks.length;++i)if(p[ks[i]]!=null)")("this[ks[i]]=p[ks[i]]"); }, b.fromJSON = function (t, e) { var n = new b(t, e.options); n.extensions = e.extensions, n.reserved = e.reserved; for (var l = Object.keys(e.fields), d = 0; d < l.length; ++d)
                            n.add((void 0 !== e.fields[l[d]].keyType ? a.fromJSON : s.fromJSON)(l[d], e.fields[l[d]])); if (e.oneofs)
                            for (l = Object.keys(e.oneofs), d = 0; d < l.length; ++d)
                                n.add(r.fromJSON(l[d], e.oneofs[l[d]])); if (e.nested)
                            for (l = Object.keys(e.nested), d = 0; d < l.length; ++d) {
                                var u = e.nested[l[d]];
                                n.add((void 0 !== u.id ? s.fromJSON : void 0 !== u.fields ? b.fromJSON : void 0 !== u.values ? o.fromJSON : void 0 !== u.methods ? c.fromJSON : i.fromJSON)(l[d], u));
                            } return e.extensions && e.extensions.length && (n.extensions = e.extensions), e.reserved && e.reserved.length && (n.reserved = e.reserved), e.group && (n.group = !0), e.comment && (n.comment = e.comment), n; }, b.prototype.toJSON = function (t) { var e = i.prototype.toJSON.call(this, t), n = !!t && Boolean(t.keepComments); return h.toObject(["options", e && e.options || void 0, "oneofs", i.arrayToJSON(this.oneofsArray, t), "fields", i.arrayToJSON(this.fieldsArray.filter(function (t) { return !t.declaringField; }), t) || {}, "extensions", this.extensions && this.extensions.length ? this.extensions : void 0, "reserved", this.reserved && this.reserved.length ? this.reserved : void 0, "group", this.group || void 0, "nested", e && e.nested || void 0, "comment", n ? this.comment : void 0]); }, b.prototype.resolveAll = function () { for (var t = this.fieldsArray, e = 0; e < t.length;)
                            t[e++].resolve(); var n = this.oneofsArray; for (e = 0; e < n.length;)
                            n[e++].resolve(); return i.prototype.resolveAll.call(this); }, b.prototype.get = function (t) { return this.fields[t] || this.oneofs && this.oneofs[t] || this.nested && this.nested[t] || null; }, b.prototype.add = function (t) { if (this.get(t.name))
                            throw Error("duplicate name '" + t.name + "' in " + this); if (t instanceof s && void 0 === t.extend) {
                            if (this._fieldsById ? this._fieldsById[t.id] : this.fieldsById[t.id])
                                throw Error("duplicate id " + t.id + " in " + this);
                            if (this.isReservedId(t.id))
                                throw Error("id " + t.id + " is reserved in " + this);
                            if (this.isReservedName(t.name))
                                throw Error("name '" + t.name + "' is reserved in " + this);
                            return t.parent && t.parent.remove(t), this.fields[t.name] = t, t.message = this, t.onAdd(this), k(this);
                        } return t instanceof r ? (this.oneofs || (this.oneofs = {}), this.oneofs[t.name] = t, t.onAdd(this), k(this)) : i.prototype.add.call(this, t); }, b.prototype.remove = function (t) { if (t instanceof s && void 0 === t.extend) {
                            if (!this.fields || this.fields[t.name] !== t)
                                throw Error(t + " is not a member of " + this);
                            return delete this.fields[t.name], t.parent = null, t.onRemove(this), k(this);
                        } if (t instanceof r) {
                            if (!this.oneofs || this.oneofs[t.name] !== t)
                                throw Error(t + " is not a member of " + this);
                            return delete this.oneofs[t.name], t.parent = null, t.onRemove(this), k(this);
                        } return i.prototype.remove.call(this, t); }, b.prototype.isReservedId = function (t) { return i.isReservedId(this.reserved, t); }, b.prototype.isReservedName = function (t) { return i.isReservedName(this.reserved, t); }, b.prototype.create = function (t) { return new this.ctor(t); }, b.prototype.setup = function () { for (var t = this.fullName, e = [], n = 0; n < this.fieldsArray.length; ++n)
                            e.push(this._fieldsArray[n].resolve().resolvedType); this.encode = f(this)({ Writer: u, types: e, util: h }), this.decode = p(this)({ Reader: d, types: e, util: h }), this.verify = m(this)({ types: e, util: h }), this.fromObject = g.fromObject(this)({ types: e, util: h }), this.toObject = g.toObject(this)({ types: e, util: h }); var i = x[t]; if (i) {
                            var o = Object.create(this);
                            o.fromObject = this.fromObject, this.fromObject = i.fromObject.bind(o), o.toObject = this.toObject, this.toObject = i.toObject.bind(o);
                        } return this; }, b.prototype.encode = function (t, e) { return this.setup().encode(t, e); }, b.prototype.encodeDelimited = function (t, e) { return this.encode(t, e && e.len ? e.fork() : e).ldelim(); }, b.prototype.decode = function (t, e) { return this.setup().decode(t, e); }, b.prototype.decodeDelimited = function (t) { return t instanceof d || (t = d.create(t)), this.decode(t, t.uint32()); }, b.prototype.verify = function (t) { return this.setup().verify(t); }, b.prototype.fromObject = function (t) { return this.setup().fromObject(t); }, b.prototype.toObject = function (t, e) { return this.setup().toObject(t, e); }, b.d = function (t) { return function (e) { h.decorateType(e, t); }; };
                    }, function (t, e, n) {
                        "use strict";
                        t.exports = s;
                        var i = n(18);
                        ((s.prototype = Object.create(i.prototype)).constructor = s).className = "MapField";
                        var o = n(23), r = n(5);
                        function s(t, e, n, o, s, a) { if (i.call(this, t, e, o, void 0, void 0, s, a), !r.isString(n))
                            throw TypeError("keyType must be a string"); this.keyType = n, this.resolvedKeyType = null, this.map = !0; }
                        s.fromJSON = function (t, e) { return new s(t, e.id, e.keyType, e.type, e.options, e.comment); }, s.prototype.toJSON = function (t) { var e = !!t && Boolean(t.keepComments); return r.toObject(["keyType", this.keyType, "type", this.type, "id", this.id, "extend", this.extend, "options", this.options, "comment", e ? this.comment : void 0]); }, s.prototype.resolve = function () { if (this.resolved)
                            return this; if (void 0 === o.mapKey[this.keyType])
                            throw Error("invalid key type: " + this.keyType); return i.prototype.resolve.call(this); }, s.d = function (t, e, n) { return "function" == typeof n ? n = r.decorateType(n).name : n && "object" == typeof n && (n = r.decorateEnum(n).name), function (i, o) { r.decorateType(i.constructor).add(new s(o, t, e, n)); }; };
                    }, function (t, e, n) {
                        "use strict";
                        t.exports = a;
                        var i = n(22);
                        ((a.prototype = Object.create(i.prototype)).constructor = a).className = "Service";
                        var o = n(71), r = n(5), s = n(65);
                        function a(t, e) { i.call(this, t, e), this.methods = {}, this._methodsArray = null; }
                        function c(t) { return t._methodsArray = null, t; }
                        a.fromJSON = function (t, e) { var n = new a(t, e.options); if (e.methods)
                            for (var i = Object.keys(e.methods), r = 0; r < i.length; ++r)
                                n.add(o.fromJSON(i[r], e.methods[i[r]])); return e.nested && n.addJSON(e.nested), n.comment = e.comment, n; }, a.prototype.toJSON = function (t) { var e = i.prototype.toJSON.call(this, t), n = !!t && Boolean(t.keepComments); return r.toObject(["options", e && e.options || void 0, "methods", i.arrayToJSON(this.methodsArray, t) || {}, "nested", e && e.nested || void 0, "comment", n ? this.comment : void 0]); }, Object.defineProperty(a.prototype, "methodsArray", { get: function () { return this._methodsArray || (this._methodsArray = r.toArray(this.methods)); } }), a.prototype.get = function (t) { return this.methods[t] || i.prototype.get.call(this, t); }, a.prototype.resolveAll = function () { for (var t = this.methodsArray, e = 0; e < t.length; ++e)
                            t[e].resolve(); return i.prototype.resolve.call(this); }, a.prototype.add = function (t) { if (this.get(t.name))
                            throw Error("duplicate name '" + t.name + "' in " + this); return t instanceof o ? (this.methods[t.name] = t, t.parent = this, c(this)) : i.prototype.add.call(this, t); }, a.prototype.remove = function (t) { if (t instanceof o) {
                            if (this.methods[t.name] !== t)
                                throw Error(t + " is not a member of " + this);
                            return delete this.methods[t.name], t.parent = null, c(this);
                        } return i.prototype.remove.call(this, t); }, a.prototype.create = function (t, e, n) { for (var i, o = new s.Service(t, e, n), a = 0; a < this.methodsArray.length; ++a) {
                            var c = r.lcFirst((i = this._methodsArray[a]).resolve().name).replace(/[^$\w_]/g, "");
                            o[c] = r.codegen(["r", "c"], r.isReserved(c) ? c + "_" : c)("return this.rpcCall(m,q,s,r,c)")({ m: i, q: i.resolvedRequestType.ctor, s: i.resolvedResponseType.ctor });
                        } return o; };
                    }, function (t, e, n) {
                        "use strict";
                        t.exports = r;
                        var i = n(17);
                        ((r.prototype = Object.create(i.prototype)).constructor = r).className = "Method";
                        var o = n(5);
                        function r(t, e, n, r, s, a, c, l) { if (o.isObject(s) ? (c = s, s = a = void 0) : o.isObject(a) && (c = a, a = void 0), void 0 !== e && !o.isString(e))
                            throw TypeError("type must be a string"); if (!o.isString(n))
                            throw TypeError("requestType must be a string"); if (!o.isString(r))
                            throw TypeError("responseType must be a string"); i.call(this, t, c), this.type = e || "rpc", this.requestType = n, this.requestStream = !!s || void 0, this.responseType = r, this.responseStream = !!a || void 0, this.resolvedRequestType = null, this.resolvedResponseType = null, this.comment = l; }
                        r.fromJSON = function (t, e) { return new r(t, e.type, e.requestType, e.responseType, e.requestStream, e.responseStream, e.options, e.comment); }, r.prototype.toJSON = function (t) { var e = !!t && Boolean(t.keepComments); return o.toObject(["type", "rpc" !== this.type && this.type || void 0, "requestType", this.requestType, "requestStream", this.requestStream, "responseType", this.responseType, "responseStream", this.responseStream, "options", this.options, "comment", e ? this.comment : void 0]); }, r.prototype.resolve = function () { return this.resolved ? this : (this.resolvedRequestType = this.parent.lookupType(this.requestType), this.resolvedResponseType = this.parent.lookupType(this.responseType), i.prototype.resolve.call(this)); };
                    }, function (t, e, n) {
                        "use strict";
                        t.exports = function (t) { var e = r.codegen(["r", "l"], t.name + "$decode")("if(!(r instanceof Reader))")("r=Reader.create(r)")("var c=l===undefined?r.len:r.pos+l,m=new this.ctor" + (t.fieldsArray.filter(function (t) { return t.map; }).length ? ",k" : ""))("while(r.pos<c){")("var t=r.uint32()"); t.group && e("if((t&7)===4)")("break"); e("switch(t>>>3){"); for (var n = 0; n < t.fieldsArray.length; ++n) {
                            var a = t._fieldsArray[n].resolve(), c = a.resolvedType instanceof i ? "int32" : a.type, l = "m" + r.safeProp(a.name);
                            e("case %i:", a.id), a.map ? (e("r.skip().pos++")("if(%s===util.emptyObject)", l)("%s={}", l)("k=r.%s()", a.keyType)("r.pos++"), void 0 !== o.long[a.keyType] ? void 0 === o.basic[c] ? e('%s[typeof k==="object"?util.longToHash(k):k]=types[%i].decode(r,r.uint32())', l, n) : e('%s[typeof k==="object"?util.longToHash(k):k]=r.%s()', l, c) : void 0 === o.basic[c] ? e("%s[k]=types[%i].decode(r,r.uint32())", l, n) : e("%s[k]=r.%s()", l, c)) : a.repeated ? (e("if(!(%s&&%s.length))", l, l)("%s=[]", l), void 0 !== o.packed[c] && e("if((t&7)===2){")("var c2=r.uint32()+r.pos")("while(r.pos<c2)")("%s.push(r.%s())", l, c)("}else"), void 0 === o.basic[c] ? e(a.resolvedType.group ? "%s.push(types[%i].decode(r))" : "%s.push(types[%i].decode(r,r.uint32()))", l, n) : e("%s.push(r.%s())", l, c)) : void 0 === o.basic[c] ? e(a.resolvedType.group ? "%s=types[%i].decode(r)" : "%s=types[%i].decode(r,r.uint32())", l, n) : e("%s=r.%s()", l, c), e("break");
                        } for (e("default:")("r.skipType(t&7)")("break")("}")("}"), n = 0; n < t._fieldsArray.length; ++n) {
                            var d = t._fieldsArray[n];
                            d.required && e("if(!m.hasOwnProperty(%j))", d.name)("throw util.ProtocolError(%j,{instance:m})", s(d));
                        } return e("return m"); };
                        var i = n(10), o = n(23), r = n(5);
                        function s(t) { return "missing required '" + t.name + "'"; }
                    }, function (t, e, n) {
                        "use strict";
                        t.exports = function (t) { var e = o.codegen(["m"], t.name + "$verify")('if(typeof m!=="object"||m===null)')("return%j", "object expected"), n = {}; t.oneofsArray.length && e("var p={}"); for (var i = 0; i < t.fieldsArray.length; ++i) {
                            var c = t._fieldsArray[i].resolve(), l = "m" + o.safeProp(c.name);
                            if (c.optional && e("if(%s!=null&&m.hasOwnProperty(%j)){", l, c.name), c.map)
                                e("if(!util.isObject(%s))", l)("return%j", r(c, "object"))("var k=Object.keys(%s)", l)("for(var i=0;i<k.length;++i){"), a(e, c, "k[i]"), s(e, c, i, l + "[k[i]]")("}");
                            else if (c.repeated)
                                e("if(!Array.isArray(%s))", l)("return%j", r(c, "array"))("for(var i=0;i<%s.length;++i){", l), s(e, c, i, l + "[i]")("}");
                            else {
                                if (c.partOf) {
                                    var d = o.safeProp(c.partOf.name);
                                    1 === n[c.partOf.name] && e("if(p%s===1)", d)("return%j", c.partOf.name + ": multiple values"), n[c.partOf.name] = 1, e("p%s=1", d);
                                }
                                s(e, c, i, l);
                            }
                            c.optional && e("}");
                        } return e("return null"); };
                        var i = n(10), o = n(5);
                        function r(t, e) { return t.name + ": " + e + (t.repeated && "array" !== e ? "[]" : t.map && "object" !== e ? "{k:" + t.keyType + "}" : "") + " expected"; }
                        function s(t, e, n, o) { if (e.resolvedType)
                            if (e.resolvedType instanceof i) {
                                t("switch(%s){", o)("default:")("return%j", r(e, "enum value"));
                                for (var s = Object.keys(e.resolvedType.values), a = 0; a < s.length; ++a)
                                    t("case %i:", e.resolvedType.values[s[a]]);
                                t("break")("}");
                            }
                            else
                                t("{")("var e=types[%i].verify(%s);", n, o)("if(e)")("return%j+e", e.name + ".")("}");
                        else
                            switch (e.type) {
                                case "int32":
                                case "uint32":
                                case "sint32":
                                case "fixed32":
                                case "sfixed32":
                                    t("if(!util.isInteger(%s))", o)("return%j", r(e, "integer"));
                                    break;
                                case "int64":
                                case "uint64":
                                case "sint64":
                                case "fixed64":
                                case "sfixed64":
                                    t("if(!util.isInteger(%s)&&!(%s&&util.isInteger(%s.low)&&util.isInteger(%s.high)))", o, o, o, o)("return%j", r(e, "integer|Long"));
                                    break;
                                case "float":
                                case "double":
                                    t('if(typeof %s!=="number")', o)("return%j", r(e, "number"));
                                    break;
                                case "bool":
                                    t('if(typeof %s!=="boolean")', o)("return%j", r(e, "boolean"));
                                    break;
                                case "string":
                                    t("if(!util.isString(%s))", o)("return%j", r(e, "string"));
                                    break;
                                case "bytes": t('if(!(%s&&typeof %s.length==="number"||util.isString(%s)))', o, o, o)("return%j", r(e, "buffer"));
                            } return t; }
                        function a(t, e, n) { switch (e.keyType) {
                            case "int32":
                            case "uint32":
                            case "sint32":
                            case "fixed32":
                            case "sfixed32":
                                t("if(!util.key32Re.test(%s))", n)("return%j", r(e, "integer key"));
                                break;
                            case "int64":
                            case "uint64":
                            case "sint64":
                            case "fixed64":
                            case "sfixed64":
                                t("if(!util.key64Re.test(%s))", n)("return%j", r(e, "integer|Long key"));
                                break;
                            case "bool": t("if(!util.key2Re.test(%s))", n)("return%j", r(e, "boolean key"));
                        } return t; }
                    }, function (t, e, n) {
                        "use strict";
                        var i = e, o = n(10), r = n(5);
                        function s(t, e, n, i) { if (e.resolvedType)
                            if (e.resolvedType instanceof o) {
                                t("switch(d%s){", i);
                                for (var r = e.resolvedType.values, s = Object.keys(r), a = 0; a < s.length; ++a)
                                    e.repeated && r[s[a]] === e.typeDefault && t("default:"), t("case%j:", s[a])("case %i:", r[s[a]])("m%s=%j", i, r[s[a]])("break");
                                t("}");
                            }
                            else
                                t('if(typeof d%s!=="object")', i)("throw TypeError(%j)", e.fullName + ": object expected")("m%s=types[%i].fromObject(d%s)", i, n, i);
                        else {
                            var c = !1;
                            switch (e.type) {
                                case "double":
                                case "float":
                                    t("m%s=Number(d%s)", i, i);
                                    break;
                                case "uint32":
                                case "fixed32":
                                    t("m%s=d%s>>>0", i, i);
                                    break;
                                case "int32":
                                case "sint32":
                                case "sfixed32":
                                    t("m%s=d%s|0", i, i);
                                    break;
                                case "uint64": c = !0;
                                case "int64":
                                case "sint64":
                                case "fixed64":
                                case "sfixed64":
                                    t("if(util.Long)")("(m%s=util.Long.fromValue(d%s)).unsigned=%j", i, i, c)('else if(typeof d%s==="string")', i)("m%s=parseInt(d%s,10)", i, i)('else if(typeof d%s==="number")', i)("m%s=d%s", i, i)('else if(typeof d%s==="object")', i)("m%s=new util.LongBits(d%s.low>>>0,d%s.high>>>0).toNumber(%s)", i, i, i, c ? "true" : "");
                                    break;
                                case "bytes":
                                    t('if(typeof d%s==="string")', i)("util.base64.decode(d%s,m%s=util.newBuffer(util.base64.length(d%s)),0)", i, i, i)("else if(d%s.length)", i)("m%s=d%s", i, i);
                                    break;
                                case "string":
                                    t("m%s=String(d%s)", i, i);
                                    break;
                                case "bool": t("m%s=Boolean(d%s)", i, i);
                            }
                        } return t; }
                        function a(t, e, n, i) { if (e.resolvedType)
                            e.resolvedType instanceof o ? t("d%s=o.enums===String?types[%i].values[m%s]:m%s", i, n, i, i) : t("d%s=types[%i].toObject(m%s,o)", i, n, i);
                        else {
                            var r = !1;
                            switch (e.type) {
                                case "double":
                                case "float":
                                    t("d%s=o.json&&!isFinite(m%s)?String(m%s):m%s", i, i, i, i);
                                    break;
                                case "uint64": r = !0;
                                case "int64":
                                case "sint64":
                                case "fixed64":
                                case "sfixed64":
                                    t('if(typeof m%s==="number")', i)("d%s=o.longs===String?String(m%s):m%s", i, i, i)("else")("d%s=o.longs===String?util.Long.prototype.toString.call(m%s):o.longs===Number?new util.LongBits(m%s.low>>>0,m%s.high>>>0).toNumber(%s):m%s", i, i, i, i, r ? "true" : "", i);
                                    break;
                                case "bytes":
                                    t("d%s=o.bytes===String?util.base64.encode(m%s,0,m%s.length):o.bytes===Array?Array.prototype.slice.call(m%s):m%s", i, i, i, i, i);
                                    break;
                                default: t("d%s=m%s", i, i);
                            }
                        } return t; }
                        i.fromObject = function (t) { var e = t.fieldsArray, n = r.codegen(["d"], t.name + "$fromObject")("if(d instanceof this.ctor)")("return d"); if (!e.length)
                            return n("return new this.ctor"); n("var m=new this.ctor"); for (var i = 0; i < e.length; ++i) {
                            var a = e[i].resolve(), c = r.safeProp(a.name);
                            a.map ? (n("if(d%s){", c)('if(typeof d%s!=="object")', c)("throw TypeError(%j)", a.fullName + ": object expected")("m%s={}", c)("for(var ks=Object.keys(d%s),i=0;i<ks.length;++i){", c), s(n, a, i, c + "[ks[i]]")("}")("}")) : a.repeated ? (n("if(d%s){", c)("if(!Array.isArray(d%s))", c)("throw TypeError(%j)", a.fullName + ": array expected")("m%s=[]", c)("for(var i=0;i<d%s.length;++i){", c), s(n, a, i, c + "[i]")("}")("}")) : (a.resolvedType instanceof o || n("if(d%s!=null){", c), s(n, a, i, c), a.resolvedType instanceof o || n("}"));
                        } return n("return m"); }, i.toObject = function (t) { var e = t.fieldsArray.slice().sort(r.compareFieldsById); if (!e.length)
                            return r.codegen()("return {}"); for (var n = r.codegen(["m", "o"], t.name + "$toObject")("if(!o)")("o={}")("var d={}"), i = [], s = [], c = [], l = 0; l < e.length; ++l)
                            e[l].partOf || (e[l].resolve().repeated ? i : e[l].map ? s : c).push(e[l]); if (i.length) {
                            for (n("if(o.arrays||o.defaults){"), l = 0; l < i.length; ++l)
                                n("d%s=[]", r.safeProp(i[l].name));
                            n("}");
                        } if (s.length) {
                            for (n("if(o.objects||o.defaults){"), l = 0; l < s.length; ++l)
                                n("d%s={}", r.safeProp(s[l].name));
                            n("}");
                        } if (c.length) {
                            for (n("if(o.defaults){"), l = 0; l < c.length; ++l) {
                                var d = c[l], u = r.safeProp(d.name);
                                if (d.resolvedType instanceof o)
                                    n("d%s=o.enums===String?%j:%j", u, d.resolvedType.valuesById[d.typeDefault], d.typeDefault);
                                else if (d.long)
                                    n("if(util.Long){")("var n=new util.Long(%i,%i,%j)", d.typeDefault.low, d.typeDefault.high, d.typeDefault.unsigned)("d%s=o.longs===String?n.toString():o.longs===Number?n.toNumber():n", u)("}else")("d%s=o.longs===String?%j:%i", u, d.typeDefault.toString(), d.typeDefault.toNumber());
                                else if (d.bytes) {
                                    var h = "[" + Array.prototype.slice.call(d.typeDefault).join(",") + "]";
                                    n("if(o.bytes===String)d%s=%j", u, String.fromCharCode.apply(String, d.typeDefault))("else{")("d%s=%s", u, h)("if(o.bytes!==Array)d%s=util.newBuffer(d%s)", u, u)("}");
                                }
                                else
                                    n("d%s=%j", u, d.typeDefault);
                            }
                            n("}");
                        } var f = !1; for (l = 0; l < e.length; ++l) {
                            d = e[l];
                            var p = t._fieldsArray.indexOf(d);
                            u = r.safeProp(d.name);
                            d.map ? (f || (f = !0, n("var ks2")), n("if(m%s&&(ks2=Object.keys(m%s)).length){", u, u)("d%s={}", u)("for(var j=0;j<ks2.length;++j){"), a(n, d, p, u + "[ks2[j]]")("}")) : d.repeated ? (n("if(m%s&&m%s.length){", u, u)("d%s=[]", u)("for(var j=0;j<m%s.length;++j){", u), a(n, d, p, u + "[j]")("}")) : (n("if(m%s!=null&&m.hasOwnProperty(%j)){", u, d.name), a(n, d, p, u), d.partOf && n("if(o.oneofs)")("d%s=%j", r.safeProp(d.partOf.name), d.name)), n("}");
                        } return n("return d"); };
                    }, function (t, e, n) {
                        "use strict";
                        var i = e, o = n(40);
                        i[".google.protobuf.Any"] = { fromObject: function (t) { if (t && t["@type"]) {
                                var e = this.lookup(t["@type"]);
                                if (e) {
                                    var n = "." === t["@type"].charAt(0) ? t["@type"].substr(1) : t["@type"];
                                    return this.create({ type_url: "/" + n, value: e.encode(e.fromObject(t)).finish() });
                                }
                            } return this.fromObject(t); }, toObject: function (t, e) { if (e && e.json && t.type_url && t.value) {
                                var n = t.type_url.substring(t.type_url.lastIndexOf("/") + 1), i = this.lookup(n);
                                i && (t = i.decode(t.value));
                            } if (!(t instanceof this.ctor) && t instanceof o) {
                                var r = t.$type.toObject(t, e);
                                return r["@type"] = t.$type.fullName, r;
                            } return this.toObject(t, e); } };
                    }, function (t, e, n) {
                        "use strict";
                        t.exports = u;
                        var i = n(22);
                        ((u.prototype = Object.create(i.prototype)).constructor = u).className = "Root";
                        var o, r, s, a = n(18), c = n(10), l = n(39), d = n(5);
                        function u(t) { i.call(this, "", t), this.deferred = [], this.files = []; }
                        function h() { }
                        u.fromJSON = function (t, e) { return e || (e = new u), t.options && e.setOptions(t.options), e.addJSON(t.nested); }, u.prototype.resolvePath = d.path.resolve, u.prototype.load = function t(e, n, i) { "function" == typeof n && (i = n, n = void 0); var o = this; if (!i)
                            return d.asPromise(t, o, e, n); var a = i === h; function c(t, e) { if (i) {
                            var n = i;
                            if (i = null, a)
                                throw t;
                            n(t, e);
                        } } function l(t, e) { try {
                            if (d.isString(e) && "{" === e.charAt(0) && (e = JSON.parse(e)), d.isString(e)) {
                                r.filename = t;
                                var i, s = r(e, o, n), l = 0;
                                if (s.imports)
                                    for (; l < s.imports.length; ++l)
                                        (i = o.resolvePath(t, s.imports[l])) && u(i);
                                if (s.weakImports)
                                    for (l = 0; l < s.weakImports.length; ++l)
                                        (i = o.resolvePath(t, s.weakImports[l])) && u(i, !0);
                            }
                            else
                                o.setOptions(e.options).addJSON(e.nested);
                        }
                        catch (t) {
                            c(t);
                        } a || f || c(null, o); } function u(t, e) { var n = t.lastIndexOf("google/protobuf/"); if (n > -1) {
                            var r = t.substring(n);
                            r in s && (t = r);
                        } if (!(o.files.indexOf(t) > -1))
                            if (o.files.push(t), t in s)
                                a ? l(t, s[t]) : (++f, setTimeout(function () { --f, l(t, s[t]); }));
                            else if (a) {
                                var u;
                                try {
                                    u = d.fs.readFileSync(t).toString("utf8");
                                }
                                catch (t) {
                                    return void (e || c(t));
                                }
                                l(t, u);
                            }
                            else
                                ++f, d.fetch(t, function (n, r) { --f, i && (n ? e ? f || c(null, o) : c(n) : l(t, r)); }); } var f = 0; d.isString(e) && (e = [e]); for (var p, m = 0; m < e.length; ++m)
                            (p = o.resolvePath("", e[m])) && u(p); if (a)
                            return o; f || c(null, o); }, u.prototype.loadSync = function (t, e) { if (!d.isNode)
                            throw Error("not supported"); return this.load(t, e, h); }, u.prototype.resolveAll = function () { if (this.deferred.length)
                            throw Error("unresolvable extensions: " + this.deferred.map(function (t) { return "'extend " + t.extend + "' in " + t.parent.fullName; }).join(", ")); return i.prototype.resolveAll.call(this); };
                        var f = /^[A-Z]/;
                        function p(t, e) { var n = e.parent.lookup(e.extend); if (n) {
                            var i = new a(e.fullName, e.id, e.type, e.rule, void 0, e.options);
                            return i.declaringField = e, e.extensionField = i, n.add(i), !0;
                        } return !1; }
                        u.prototype._handleAdd = function (t) { if (t instanceof a)
                            void 0 === t.extend || t.extensionField || p(0, t) || this.deferred.push(t);
                        else if (t instanceof c)
                            f.test(t.name) && (t.parent[t.name] = t.values);
                        else if (!(t instanceof l)) {
                            if (t instanceof o)
                                for (var e = 0; e < this.deferred.length;)
                                    p(0, this.deferred[e]) ? this.deferred.splice(e, 1) : ++e;
                            for (var n = 0; n < t.nestedArray.length; ++n)
                                this._handleAdd(t._nestedArray[n]);
                            f.test(t.name) && (t.parent[t.name] = t);
                        } }, u.prototype._handleRemove = function (t) { if (t instanceof a) {
                            if (void 0 !== t.extend)
                                if (t.extensionField)
                                    t.extensionField.parent.remove(t.extensionField), t.extensionField = null;
                                else {
                                    var e = this.deferred.indexOf(t);
                                    e > -1 && this.deferred.splice(e, 1);
                                }
                        }
                        else if (t instanceof c)
                            f.test(t.name) && delete t.parent[t.name];
                        else if (t instanceof i) {
                            for (var n = 0; n < t.nestedArray.length; ++n)
                                this._handleRemove(t._nestedArray[n]);
                            f.test(t.name) && delete t.parent[t.name];
                        } }, u._configure = function (t, e, n) { o = t, r = e, s = n; };
                    }, function (t, e, n) { (function (e) { t.exports = function (t) { return n && e.isBuffer(t) || i && (t instanceof ArrayBuffer || o(t)); }; var n = "function" == typeof e && "function" == typeof e.isBuffer, i = "function" == typeof ArrayBuffer, o = function (t) { return "function" == typeof ArrayBuffer.isView ? ArrayBuffer.isView(t) : t.buffer instanceof ArrayBuffer; }; }).call(this, n(21).Buffer); }, function (t, e) { var n = "undefined" != typeof crypto && crypto.getRandomValues && crypto.getRandomValues.bind(crypto) || "undefined" != typeof msCrypto && "function" == typeof window.msCrypto.getRandomValues && msCrypto.getRandomValues.bind(msCrypto); if (n) {
                        var i = new Uint8Array(16);
                        t.exports = function () { return n(i), i; };
                    }
                    else {
                        var o = new Array(16);
                        t.exports = function () { for (var t, e = 0; e < 16; e++)
                            0 == (3 & e) && (t = 4294967296 * Math.random()), o[e] = t >>> ((3 & e) << 3) & 255; return o; };
                    } }, function (t, e) { for (var n = [], i = 0; i < 256; ++i)
                        n[i] = (i + 256).toString(16).substr(1); t.exports = function (t, e) { var i = e || 0, o = n; return [o[t[i++]], o[t[i++]], o[t[i++]], o[t[i++]], "-", o[t[i++]], o[t[i++]], "-", o[t[i++]], o[t[i++]], "-", o[t[i++]], o[t[i++]], "-", o[t[i++]], o[t[i++]], o[t[i++]], o[t[i++]], o[t[i++]], o[t[i++]]].join(""); }; }, function (t, e) { t.exports = function (t) { return t instanceof Date; }; }, function (t, e, n) { var i = n(13), o = n(41); t.exports = function (t) { var e = i(t), n = e.getFullYear(), r = new Date(0); r.setFullYear(n + 1, 0, 4), r.setHours(0, 0, 0, 0); var s = o(r), a = new Date(0); a.setFullYear(n, 0, 4), a.setHours(0, 0, 0, 0); var c = o(a); return e.getTime() >= s.getTime() ? n + 1 : e.getTime() >= c.getTime() ? n : n - 1; }; }, function (t, e, n) { var i = n(295); "string" == typeof i && (i = [[t.i, i, ""]]); var o = { injectType: "singletonStyleTag", insert: "head", singleton: !0 }; n(1)(i, o); i.locals && (t.exports = i.locals); }, function (t, e, n) { var i = n(296); "string" == typeof i && (i = [[t.i, i, ""]]); var o = { injectType: "singletonStyleTag", insert: "head", singleton: !0 }; n(1)(i, o); i.locals && (t.exports = i.locals); }, function (t, e, n) {
                        "use strict";
                        e.a = function () { return !1; };
                    }, function (t, e, n) {
                        "use strict";
                        (function (t) { var i = n(4), o = true && exports && !exports.nodeType && exports, r = o && "object" == typeof t && t && !t.nodeType && t, s = r && r.exports === o ? i.a.Buffer : void 0, a = s ? s.allocUnsafe : void 0; e.a = function (t, e) { if (e)
                            return t.slice(); var n = t.length, i = a ? a(n) : new t.constructor(n); return t.copy(i), i; }; }).call(this, n(32)(t));
                    }, function (t, e) { t.exports = '<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><circle cx="9.5" cy="4.5" r="1.5"/><circle cx="9.5" cy="10.5" r="1.5"/><circle cx="9.5" cy="16.5" r="1.5"/></svg>\n'; }, function (t, e) { t.exports = '<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10.187 17H5.773c-.637 0-1.092-.138-1.364-.415-.273-.277-.409-.718-.409-1.323V4.738c0-.617.14-1.062.419-1.332.279-.27.73-.406 1.354-.406h4.68c.69 0 1.288.041 1.793.124.506.083.96.242 1.36.478.341.197.644.447.906.75a3.262 3.262 0 0 1 .808 2.162c0 1.401-.722 2.426-2.167 3.075C15.05 10.175 16 11.315 16 13.01a3.756 3.756 0 0 1-2.296 3.504 6.1 6.1 0 0 1-1.517.377c-.571.073-1.238.11-2 .11zm-.217-6.217H7v4.087h3.069c1.977 0 2.965-.69 2.965-2.072 0-.707-.256-1.22-.768-1.537-.512-.319-1.277-.478-2.296-.478zM7 5.13v3.619h2.606c.729 0 1.292-.067 1.69-.2a1.6 1.6 0 0 0 .91-.765c.165-.267.247-.566.247-.897 0-.707-.26-1.176-.778-1.409-.519-.232-1.31-.348-2.375-.348H7z"/></svg>'; }, function (t, e) { t.exports = '<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M9.586 14.633l.021.004c-.036.335.095.655.393.962.082.083.173.15.274.201h1.474a.6.6 0 1 1 0 1.2H5.304a.6.6 0 0 1 0-1.2h1.15c.474-.07.809-.182 1.005-.334.157-.122.291-.32.404-.597l2.416-9.55a1.053 1.053 0 0 0-.281-.823 1.12 1.12 0 0 0-.442-.296H8.15a.6.6 0 0 1 0-1.2h6.443a.6.6 0 1 1 0 1.2h-1.195c-.376.056-.65.155-.823.296-.215.175-.423.439-.623.79l-2.366 9.347z"/></svg>'; }, function (t, e) { t.exports = '<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3 10.423a6.5 6.5 0 0 1 6.056-6.408l.038.67C6.448 5.423 5.354 7.663 5.22 10H9c.552 0 .5.432.5.986v4.511c0 .554-.448.503-1 .503h-5c-.552 0-.5-.449-.5-1.003v-4.574zm8 0a6.5 6.5 0 0 1 6.056-6.408l.038.67c-2.646.739-3.74 2.979-3.873 5.315H17c.552 0 .5.432.5.986v4.511c0 .554-.448.503-1 .503h-5c-.552 0-.5-.449-.5-1.003v-4.574z"/></svg>'; }, function (t, e) { t.exports = '<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M11.627 16.5zm5.873-.196zm0-7.001V8h-13v8.5h4.341c.191.54.457 1.044.785 1.5H2a1.5 1.5 0 0 1-1.5-1.5v-13A1.5 1.5 0 0 1 2 2h4.5a1.5 1.5 0 0 1 1.06.44L9.122 4H16a1.5 1.5 0 0 1 1.5 1.5v1A1.5 1.5 0 0 1 19 8v2.531a6.027 6.027 0 0 0-1.5-1.228zM16 6.5v-1H8.5l-2-2H2v13h1V8a1.5 1.5 0 0 1 1.5-1.5H16z"/><path d="M14.5 19.5a5 5 0 1 1 0-10 5 5 0 0 1 0 10zM15 14v-2h-1v2h-2v1h2v2h1v-2h2v-1h-2z"/></svg>'; }, function (t, e) { t.exports = '<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M4 0v1H1v3H0V.5A.5.5 0 0 1 .5 0H4zm8 0h3.5a.5.5 0 0 1 .5.5V4h-1V1h-3V0zM4 16H.5a.5.5 0 0 1-.5-.5V12h1v3h3v1zm8 0v-1h3v-3h1v3.5a.5.5 0 0 1-.5.5H12z"/><path fill-opacity=".256" d="M1 1h14v14H1z"/><g class="ck-icon__selected-indicator"><path d="M7 0h2v1H7V0zM0 7h1v2H0V7zm15 0h1v2h-1V7zm-8 8h2v1H7v-1z"/><path fill-opacity=".254" d="M1 1h14v14H1z"/></g></svg>'; }, function (t, e) { t.exports = '<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M11.463 5.187a.888.888 0 1 1 1.254 1.255L9.16 10l3.557 3.557a.888.888 0 1 1-1.254 1.255L7.26 10.61a.888.888 0 0 1 .16-1.382l4.043-4.042z" /></svg>\n'; }, function (t, e) { t.exports = '<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M8.537 14.813a.888.888 0 1 1-1.254-1.255L10.84 10 7.283 6.442a.888.888 0 1 1 1.254-1.255L12.74 9.39a.888.888 0 0 1-.16 1.382l-4.043 4.042z"/></svg>\n'; }, function (t, e) { t.exports = '<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M5.085 6.22L2.943 4.078a.75.75 0 1 1 1.06-1.06l2.592 2.59A11.094 11.094 0 0 1 10 5.068c4.738 0 8.578 3.101 8.578 5.083 0 1.197-1.401 2.803-3.555 3.887l1.714 1.713a.75.75 0 0 1-.09 1.138.488.488 0 0 1-.15.084.75.75 0 0 1-.821-.16L6.17 7.304c-.258.11-.51.233-.757.365l6.239 6.24-.006.005.78.78c-.388.094-.78.166-1.174.215l-1.11-1.11h.011L4.55 8.197a7.2 7.2 0 0 0-.665.514l-.112.098 4.897 4.897-.005.006 1.276 1.276a10.164 10.164 0 0 1-1.477-.117l-.479-.479-.009.009-4.863-4.863-.022.031a2.563 2.563 0 0 0-.124.2c-.043.077-.08.158-.108.241a.534.534 0 0 0-.028.133.29.29 0 0 0 .008.072.927.927 0 0 0 .082.226c.067.133.145.26.234.379l3.242 3.365.025.01.59.623c-3.265-.918-5.59-3.155-5.59-4.668 0-1.194 1.448-2.838 3.663-3.93zm7.07.531a4.632 4.632 0 0 1 1.108 5.992l.345.344.046-.018a9.313 9.313 0 0 0 2-1.112c.256-.187.5-.392.727-.613.137-.134.27-.277.392-.431.072-.091.141-.185.203-.286.057-.093.107-.19.148-.292a.72.72 0 0 0 .036-.12.29.29 0 0 0 .008-.072.492.492 0 0 0-.028-.133.999.999 0 0 0-.036-.096 2.165 2.165 0 0 0-.071-.145 2.917 2.917 0 0 0-.125-.2 3.592 3.592 0 0 0-.263-.335 5.444 5.444 0 0 0-.53-.523 7.955 7.955 0 0 0-1.054-.768 9.766 9.766 0 0 0-1.879-.891c-.337-.118-.68-.219-1.027-.301zm-2.85.21l-.069.002a.508.508 0 0 0-.254.097.496.496 0 0 0-.104.679.498.498 0 0 0 .326.199l.045.005c.091.003.181.003.272.012a2.45 2.45 0 0 1 2.017 1.513c.024.061.043.125.069.185a.494.494 0 0 0 .45.287h.008a.496.496 0 0 0 .35-.158.482.482 0 0 0 .13-.335.638.638 0 0 0-.048-.219 3.379 3.379 0 0 0-.36-.723 3.438 3.438 0 0 0-2.791-1.543l-.028-.001h-.013z"/></svg>'; }, function (t, e) { t.exports = '<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M6.91 10.54c.26-.23.64-.21.88.03l3.36 3.14 2.23-2.06a.64.64 0 0 1 .87 0l2.52 2.97V4.5H3.2v10.12l3.71-4.08zm10.27-7.51c.6 0 1.09.47 1.09 1.05v11.84c0 .59-.49 1.06-1.09 1.06H2.79c-.6 0-1.09-.47-1.09-1.06V4.08c0-.58.49-1.05 1.1-1.05h14.38zm-5.22 5.56a1.96 1.96 0 1 1 3.4-1.96 1.96 1.96 0 0 1-3.4 1.96z"/></svg>'; }, function (t, e) { t.exports = '<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 700 250"><rect rx="4"/></svg>'; }, function (t, e) { t.exports = '<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M11.077 15l.991-1.416a.75.75 0 1 1 1.229.86l-1.148 1.64a.748.748 0 0 1-.217.206 5.251 5.251 0 0 1-8.503-5.955.741.741 0 0 1 .12-.274l1.147-1.639a.75.75 0 1 1 1.228.86L4.933 10.7l.006.003a3.75 3.75 0 0 0 6.132 4.294l.006.004zm5.494-5.335a.748.748 0 0 1-.12.274l-1.147 1.639a.75.75 0 1 1-1.228-.86l.86-1.23a3.75 3.75 0 0 0-6.144-4.301l-.86 1.229a.75.75 0 0 1-1.229-.86l1.148-1.64a.748.748 0 0 1 .217-.206 5.251 5.251 0 0 1 8.503 5.955zm-4.563-2.532a.75.75 0 0 1 .184 1.045l-3.155 4.505a.75.75 0 1 1-1.229-.86l3.155-4.506a.75.75 0 0 1 1.045-.184zm4.919 10.562l-1.414 1.414a.75.75 0 1 1-1.06-1.06l1.414-1.415-1.415-1.414a.75.75 0 0 1 1.061-1.06l1.414 1.414 1.414-1.415a.75.75 0 0 1 1.061 1.061l-1.414 1.414 1.414 1.415a.75.75 0 0 1-1.06 1.06l-1.415-1.414z"/></svg>'; }, function (t, e) { t.exports = '<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M11.077 15l.991-1.416a.75.75 0 1 1 1.229.86l-1.148 1.64a.748.748 0 0 1-.217.206 5.251 5.251 0 0 1-8.503-5.955.741.741 0 0 1 .12-.274l1.147-1.639a.75.75 0 1 1 1.228.86L4.933 10.7l.006.003a3.75 3.75 0 0 0 6.132 4.294l.006.004zm5.494-5.335a.748.748 0 0 1-.12.274l-1.147 1.639a.75.75 0 1 1-1.228-.86l.86-1.23a3.75 3.75 0 0 0-6.144-4.301l-.86 1.229a.75.75 0 0 1-1.229-.86l1.148-1.64a.748.748 0 0 1 .217-.206 5.251 5.251 0 0 1 8.503 5.955zm-4.563-2.532a.75.75 0 0 1 .184 1.045l-3.155 4.505a.75.75 0 1 1-1.229-.86l3.155-4.506a.75.75 0 0 1 1.045-.184z"/></svg>'; }, function (t, e) { t.exports = '<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M7 5.75c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zM3.5 3v5H2V3.7H1v-1h2.5V3zM.343 17.857l2.59-3.257H2.92a.6.6 0 1 0-1.04 0H.302a2 2 0 1 1 3.995 0h-.001c-.048.405-.16.734-.333.988-.175.254-.59.692-1.244 1.312H4.3v1h-4l.043-.043zM7 14.75a.75.75 0 0 1 .75-.75h9.5a.75.75 0 1 1 0 1.5h-9.5a.75.75 0 0 1-.75-.75z"/></svg>'; }, function (t, e) { t.exports = '<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M7 5.75c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zm-6 0C1 4.784 1.777 4 2.75 4c.966 0 1.75.777 1.75 1.75 0 .966-.777 1.75-1.75 1.75C1.784 7.5 1 6.723 1 5.75zm6 9c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zm-6 0c0-.966.777-1.75 1.75-1.75.966 0 1.75.777 1.75 1.75 0 .966-.777 1.75-1.75 1.75-.966 0-1.75-.777-1.75-1.75z"/></svg>'; }, function (t, e) { t.exports = '<svg viewBox="0 0 64 42" xmlns="http://www.w3.org/2000/svg"><path d="M47.426 17V3.713L63.102 0v19.389h-.001l.001.272c0 1.595-2.032 3.43-4.538 4.098-2.506.668-4.538-.083-4.538-1.678 0-1.594 2.032-3.43 4.538-4.098.914-.244 2.032-.565 2.888-.603V4.516L49.076 7.447v9.556A1.014 1.014 0 0 0 49 17h-1.574zM29.5 17h-8.343a7.073 7.073 0 1 0-4.657 4.06v3.781H3.3a2.803 2.803 0 0 1-2.8-2.804V8.63a2.803 2.803 0 0 1 2.8-2.805h4.082L8.58 2.768A1.994 1.994 0 0 1 10.435 1.5h8.985c.773 0 1.477.448 1.805 1.149l1.488 3.177H26.7c1.546 0 2.8 1.256 2.8 2.805V17zm-11.637 0H17.5a1 1 0 0 0-1 1v.05A4.244 4.244 0 1 1 17.863 17zm29.684 2c.97 0 .953-.048.953.889v20.743c0 .953.016.905-.953.905H19.453c-.97 0-.953.048-.953-.905V19.89c0-.937-.016-.889.97-.889h28.077zm-4.701 19.338V22.183H24.154v16.155h18.692zM20.6 21.375v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616V37.53H20.6zm24.233-16.155v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615V37.53h-1.615zM29.485 25.283a.4.4 0 0 1 .593-.35l9.05 4.977a.4.4 0 0 1 0 .701l-9.05 4.978a.4.4 0 0 1-.593-.35v-9.956z"/></svg>'; }, function (t, e) { t.exports = '<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M18.68 2.53c.6 0 .59-.03.59.55v12.84c0 .59.01.56-.59.56H1.29c-.6 0-.59.03-.59-.56V3.08c0-.58-.01-.55.6-.55h17.38zM15.77 14.5v-10H4.2v10h11.57zM2 4v1h1V4H2zm0 2v1h1V6H2zm0 2v1h1V8H2zm0 2v1h1v-1H2zm0 2v1h1v-1H2zm0 2v1h1v-1H2zM17 4v1h1V4h-1zm0 2v1h1V6h-1zm0 2v1h1V8h-1zm0 2v1h1v-1h-1zm0 2v1h1v-1h-1zm0 2v1h1v-1h-1zM7.5 6.677a.4.4 0 0 1 .593-.351l5.133 2.824a.4.4 0 0 1 0 .7l-5.133 2.824a.4.4 0 0 1-.593-.35V6.676z"/></svg>'; }, function (t, e) { t.exports = '<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3 6v3h4V6H3zm0 4v3h4v-3H3zm0 4v3h4v-3H3zm5 3h4v-3H8v3zm5 0h4v-3h-4v3zm4-4v-3h-4v3h4zm0-4V6h-4v3h4zm1.5 8a1.5 1.5 0 0 1-1.5 1.5H3A1.5 1.5 0 0 1 1.5 17V4c.222-.863 1.068-1.5 2-1.5h13c.932 0 1.778.637 2 1.5v13zM12 13v-3H8v3h4zm0-4V6H8v3h4z"/></svg>'; }, function (t, e) { t.exports = '<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 1h15A1.5 1.5 0 0 1 19 2.5v15a1.5 1.5 0 0 1-1.5 1.5h-15A1.5 1.5 0 0 1 1 17.5v-15A1.5 1.5 0 0 1 2.5 1zM2 2v16h16V2H2z" opacity=".6"/><path d="M18 7v1H2V7h16zm0 5v1H2v-1h16z" opacity=".6"/><path d="M14 1v18a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1V1a1 1 0 0 1 1-1h6a1 1 0 0 1 1 1zm-2 1H8v4h4V2zm0 6H8v4h4V8zm0 6H8v4h4v-4z"/></svg>'; }, function (t, e) { t.exports = '<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 1h15A1.5 1.5 0 0 1 19 2.5v15a1.5 1.5 0 0 1-1.5 1.5h-15A1.5 1.5 0 0 1 1 17.5v-15A1.5 1.5 0 0 1 2.5 1zM2 2v16h16V2H2z" opacity=".6"/><path d="M7 2h1v16H7V2zm5 0h1v16h-1V2z" opacity=".6"/><path d="M1 6h18a1 1 0 0 1 1 1v6a1 1 0 0 1-1 1H1a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1zm1 2v4h4V8H2zm6 0v4h4V8H8zm6 0v4h4V8h-4z"/></svg>'; }, function (t, e) { t.exports = '<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 1h15A1.5 1.5 0 0 1 19 2.5v15a1.5 1.5 0 0 1-1.5 1.5h-15A1.5 1.5 0 0 1 1 17.5v-15A1.5 1.5 0 0 1 2.5 1zM2 2v16h16V2H2z" opacity=".6"/><path d="M7 2h1v16H7V2zm5 0h1v7h-1V2zm6 5v1H2V7h16zM8 12v1H2v-1h6z" opacity=".6"/><path d="M7 7h12a1 1 0 0 1 1 1v11a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1V8a1 1 0 0 1 1-1zm1 2v9h10V9H8z"/></svg>'; }, function (t, e) { t.exports = '<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 8c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm2.286 4c0 .414.336.75.75.75h9.928a.75.75 0 1 0 0-1.5H5.036a.75.75 0 0 0-.75.75zm0-8c0 .414.336.75.75.75h9.928a.75.75 0 1 0 0-1.5H5.036a.75.75 0 0 0-.75.75z"/></svg>'; }, function (t, e) { t.exports = '<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 8c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 4c0 .414.336.75.75.75h9.929a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0-8c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75z"/></svg>'; }, function (t, e) { t.exports = '<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><g><path class="ck-icon__fill" d="M16.935 5.328a2 2 0 010 2.829l-7.778 7.778a2 2 0 01-2.829 0L3.5 13.107a1.999 1.999 0 112.828-2.829l.707.707a1 1 0 001.414 0l5.658-5.657a2 2 0 012.828 0z"/><path d="M14.814 6.035L8.448 12.4a1 1 0 01-1.414 0l-1.413-1.415A1 1 0 104.207 12.4l2.829 2.829a1 1 0 001.414 0l7.778-7.778a1 1 0 10-1.414-1.415z"/></g></svg>\n'; }, function (t, e) { t.exports = '<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M9.816 11.5L7.038 4.785 4.261 11.5h5.555zm.62 1.5H3.641l-1.666 4.028H.312l5.789-14h1.875l5.789 14h-1.663L10.436 13zm7.55 2.279l.779-.779.707.707-2.265 2.265-2.193-2.265.707-.707.765.765V4.825c0-.042 0-.083.002-.123l-.77.77-.707-.707L17.207 2.5l2.265 2.265-.707.707-.782-.782c.002.043.003.089.003.135v10.454z"/></svg>'; }, function (t, e) { t.exports = '<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M11.03 3h6.149a.75.75 0 1 1 0 1.5h-5.514L11.03 3zm1.27 3h4.879a.75.75 0 1 1 0 1.5h-4.244L12.3 6zm1.27 3h3.609a.75.75 0 1 1 0 1.5h-2.973L13.57 9zm-2.754 2.5L8.038 4.785 5.261 11.5h5.555zm.62 1.5H4.641l-1.666 4.028H1.312l5.789-14h1.875l5.789 14h-1.663L11.436 13z"/></svg>'; }, function (t, e) { t.exports = '<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path class="ck-icon__fill" d="M10.798 1.59L3.002 12.875l1.895 1.852 2.521 1.402 6.997-12.194z"/><path d="M2.556 16.727l.234-.348c-.297-.151-.462-.293-.498-.426-.036-.137.002-.416.115-.837.094-.25.15-.449.169-.595a4.495 4.495 0 0 0 0-.725c-.209-.621-.303-1.041-.284-1.26.02-.218.178-.506.475-.862l6.77-9.414c.539-.91 1.605-.85 3.199.18 1.594 1.032 2.188 1.928 1.784 2.686l-5.877 10.36c-.158.412-.333.673-.526.782-.193.108-.604.179-1.232.21-.362.131-.608.237-.738.318-.13.081-.305.238-.526.47-.293.265-.504.397-.632.397-.096 0-.27-.075-.524-.226l-.31.41-1.6-1.12zm-.279.415l1.575 1.103-.392.515H1.19l1.087-1.618zm8.1-13.656l-4.953 6.9L8.75 12.57l4.247-7.574c.175-.25-.188-.647-1.092-1.192-.903-.546-1.412-.652-1.528-.32zM8.244 18.5L9.59 17h9.406v1.5H8.245z"/></svg>'; }, function (t, e) { t.exports = '<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path class="ck-icon__fill" d="M10.126 2.268L2.002 13.874l1.895 1.852 2.521 1.402L14.47 5.481l-1.543-2.568-2.801-.645z"/><path d="M4.5 18.088l-2.645-1.852-.04-2.95-.006-.005.006-.008v-.025l.011.008L8.73 2.97c.165-.233.356-.417.567-.557l-1.212.308L4.604 7.9l-.83-.558 3.694-5.495 2.708-.69 1.65 1.145.046.018.85-1.216 2.16 1.512-.856 1.222c.828.967 1.144 2.141.432 3.158L7.55 17.286l.006.005-3.055.797H4.5zm-.634.166l-1.976.516-.026-1.918 2.002 1.402zM9.968 3.817l-.006-.004-6.123 9.184 3.277 2.294 6.108-9.162.005.003c.317-.452-.16-1.332-1.064-1.966-.891-.624-1.865-.776-2.197-.349zM8.245 18.5L9.59 17h9.406v1.5H8.245z"/></svg>'; }, function (t, e) { t.exports = '<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M8.69 14.915c.053.052.173.083.36.093a.366.366 0 0 1 .345.485l-.003.01a.738.738 0 0 1-.697.497h-2.67a.374.374 0 0 1-.353-.496l.013-.038a.681.681 0 0 1 .644-.458c.197-.012.325-.043.386-.093a.28.28 0 0 0 .072-.11L9.592 4.5H6.269c-.359-.017-.609.013-.75.09-.142.078-.289.265-.442.563-.192.29-.516.464-.864.464H4.17a.43.43 0 0 1-.407-.569L4.46 3h13.08l-.62 2.043a.81.81 0 0 1-.775.574h-.114a.486.486 0 0 1-.486-.486c.001-.284-.054-.464-.167-.54-.112-.076-.367-.106-.766-.091h-3.28l-2.68 10.257c-.006.074.007.127.038.158zM3 17h8a.5.5 0 1 1 0 1H3a.5.5 0 1 1 0-1zm11.299 1.17a.75.75 0 1 1-1.06-1.06l1.414-1.415-1.415-1.414a.75.75 0 0 1 1.06-1.06l1.415 1.414 1.414-1.415a.75.75 0 1 1 1.06 1.06l-1.413 1.415 1.414 1.415a.75.75 0 0 1-1.06 1.06l-1.415-1.414-1.414 1.414z"/></svg>'; }, function (t, e) { t.exports = '<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M7 16.4c-.8-.4-1.5-.9-2.2-1.5a.6.6 0 0 1-.2-.5l.3-.6h1c1 1.2 2.1 1.7 3.7 1.7 1 0 1.8-.3 2.3-.6.6-.4.6-1.2.6-1.3.2-1.2-.9-2.1-.9-2.1h2.1c.3.7.4 1.2.4 1.7v.8l-.6 1.2c-.6.8-1.1 1-1.6 1.2a6 6 0 0 1-2.4.6c-1 0-1.8-.3-2.5-.6zM6.8 9L6 8.3c-.4-.5-.5-.8-.5-1.6 0-.7.1-1.3.5-1.8.4-.6 1-1 1.6-1.3a6.3 6.3 0 0 1 4.7 0 4 4 0 0 1 1.7 1l.3.7c0 .1.2.4-.2.7-.4.2-.9.1-1 0a3 3 0 0 0-1.2-1c-.4-.2-1-.3-2-.4-.7 0-1.4.2-2 .6-.8.6-1 .8-1 1.5 0 .8.5 1 1.2 1.5.6.4 1.1.7 1.9 1H6.8z"/><path d="M3 10.5V9h14v1.5z"/></svg>'; }, function (t, e) { t.exports = '<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3 18v-1.5h14V18zM5.2 10V3.6c0-.4.4-.6.8-.6.3 0 .7.2.7.6v6.2c0 2 1.3 2.8 3.2 2.8 1.9 0 3.4-.9 3.4-2.9V3.6c0-.3.4-.5.8-.5.3 0 .7.2.7.5V10c0 2.7-2.2 4-4.9 4-2.6 0-4.7-1.2-4.7-4z"/></svg>'; }, function (t, e, n) { var i = n(217), o = n(34), r = n(54), s = n(8)("socket.io-client"); t.exports = e = c; var a = e.managers = {}; function c(t, e) { "object" == typeof t && (e = t, t = void 0), e = e || {}; var n, o = i(t), c = o.source, l = o.id, d = o.path, u = a[l] && d in a[l].nsps; return e.forceNew || e["force new connection"] || !1 === e.multiplex || u ? (s("ignoring socket cache for %s", c), n = r(c, e)) : (a[l] || (s("new io instance for %s", c), a[l] = r(c, e)), n = a[l]), o.query && !e.query && (e.query = o.query), n.socket(o.path, e); } e.protocol = o.protocol, e.connect = c, e.Manager = n(54), e.Socket = n(60); }, function (t, e, n) {
                        "use strict";
                        (function (e) { var i = n(242), o = n(243), r = /^[A-Za-z][A-Za-z0-9+-.]*:\/\//, s = /^([a-z][a-z0-9.+-]*:)?(\/\/)?([\S\s]*)/i, a = new RegExp("^[\\x09\\x0A\\x0B\\x0C\\x0D\\x20\\xA0\\u1680\\u180E\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200A\\u202F\\u205F\\u3000\\u2028\\u2029\\uFEFF]+"); function c(t) { return (t || "").toString().replace(a, ""); } var l = [["#", "hash"], ["?", "query"], function (t) { return t.replace("\\", "/"); }, ["/", "pathname"], ["@", "auth", 1], [NaN, "host", void 0, 1, 1], [/:(\d+)$/, "port", void 0, 1], [NaN, "hostname", void 0, 1, 1]], d = { hash: 1, query: 1 }; function u(t) { var n, i = ("undefined" != typeof window ? window : void 0 !== e ? e : "undefined" != typeof self ? self : {}).location || {}, o = {}, s = typeof (t = t || i); if ("blob:" === t.protocol)
                            o = new f(unescape(t.pathname), {});
                        else if ("string" === s)
                            for (n in o = new f(t, {}), d)
                                delete o[n];
                        else if ("object" === s) {
                            for (n in t)
                                n in d || (o[n] = t[n]);
                            void 0 === o.slashes && (o.slashes = r.test(t.href));
                        } return o; } function h(t) { t = c(t); var e = s.exec(t); return { protocol: e[1] ? e[1].toLowerCase() : "", slashes: !!e[2], rest: e[3] }; } function f(t, e, n) { if (t = c(t), !(this instanceof f))
                            return new f(t, e, n); var r, s, a, d, p, m, g = l.slice(), x = typeof e, b = this, k = 0; for ("object" !== x && "string" !== x && (n = e, e = null), n && "function" != typeof n && (n = o.parse), e = u(e), r = !(s = h(t || "")).protocol && !s.slashes, b.slashes = s.slashes || r && e.slashes, b.protocol = s.protocol || e.protocol || "", t = s.rest, s.slashes || (g[3] = [/(.*)/, "pathname"]); k < g.length; k++)
                            "function" != typeof (d = g[k]) ? (a = d[0], m = d[1], a != a ? b[m] = t : "string" == typeof a ? ~(p = t.indexOf(a)) && ("number" == typeof d[2] ? (b[m] = t.slice(0, p), t = t.slice(p + d[2])) : (b[m] = t.slice(p), t = t.slice(0, p))) : (p = a.exec(t)) && (b[m] = p[1], t = t.slice(0, p.index)), b[m] = b[m] || r && d[3] && e[m] || "", d[4] && (b[m] = b[m].toLowerCase())) : t = d(t); n && (b.query = n(b.query)), r && e.slashes && "/" !== b.pathname.charAt(0) && ("" !== b.pathname || "" !== e.pathname) && (b.pathname = function (t, e) { if ("" === t)
                            return e; for (var n = (e || "/").split("/").slice(0, -1).concat(t.split("/")), i = n.length, o = n[i - 1], r = !1, s = 0; i--;)
                            "." === n[i] ? n.splice(i, 1) : ".." === n[i] ? (n.splice(i, 1), s++) : s && (0 === i && (r = !0), n.splice(i, 1), s--); return r && n.unshift(""), "." !== o && ".." !== o || n.push(""), n.join("/"); }(b.pathname, e.pathname)), i(b.port, b.protocol) || (b.host = b.hostname, b.port = ""), b.username = b.password = "", b.auth && (d = b.auth.split(":"), b.username = d[0] || "", b.password = d[1] || ""), b.origin = b.protocol && b.host && "file:" !== b.protocol ? b.protocol + "//" + b.host : "null", b.href = b.toString(); } f.prototype = { set: function (t, e, n) { var r = this; switch (t) {
                                case "query":
                                    "string" == typeof e && e.length && (e = (n || o.parse)(e)), r[t] = e;
                                    break;
                                case "port":
                                    r[t] = e, i(e, r.protocol) ? e && (r.host = r.hostname + ":" + e) : (r.host = r.hostname, r[t] = "");
                                    break;
                                case "hostname":
                                    r[t] = e, r.port && (e += ":" + r.port), r.host = e;
                                    break;
                                case "host":
                                    r[t] = e, /:\d+$/.test(e) ? (e = e.split(":"), r.port = e.pop(), r.hostname = e.join(":")) : (r.hostname = e, r.port = "");
                                    break;
                                case "protocol":
                                    r.protocol = e.toLowerCase(), r.slashes = !n;
                                    break;
                                case "pathname":
                                case "hash":
                                    if (e) {
                                        var s = "pathname" === t ? "/" : "#";
                                        r[t] = e.charAt(0) !== s ? s + e : e;
                                    }
                                    else
                                        r[t] = e;
                                    break;
                                default: r[t] = e;
                            } for (var a = 0; a < l.length; a++) {
                                var c = l[a];
                                c[4] && (r[c[1]] = r[c[1]].toLowerCase());
                            } return r.origin = r.protocol && r.host && "file:" !== r.protocol ? r.protocol + "//" + r.host : "null", r.href = r.toString(), r; }, toString: function (t) { t && "function" == typeof t || (t = o.stringify); var e, n = this, i = n.protocol; i && ":" !== i.charAt(i.length - 1) && (i += ":"); var r = i + (n.slashes ? "//" : ""); return n.username && (r += n.username, n.password && (r += ":" + n.password), r += "@"), r += n.host + n.pathname, (e = "object" == typeof n.query ? t(n.query) : n.query) && (r += "?" !== e.charAt(0) ? "?" + e : e), n.hash && (r += n.hash), r; } }, f.extractProtocol = h, f.location = u, f.trimLeft = c, f.qs = o, t.exports = f; }).call(this, n(15));
                    }, function (t, e, n) { var i = n(265), o = n(266), r = o; r.v1 = i, r.v4 = o, t.exports = r; }, function (t) { t.exports = JSON.parse('{"a":"16.0.0"}'); }, function (t, e) { t.exports = '\x3c!--\n\n What you\'re currently looking at is the source code of a legally protected, proprietary software.\n CKEditor 5 Collaboration is licensed under a commercial license and protected by copyright law. Where not otherwise indicated,\n all CKEditor 5 Collaboration content is authored by CKSource engineers and consists of CKSource-owned intellectual property.\n\n Copyright (c) 2003-2019, CKSource Frederico Knabben. All rights reserved.\n\n!--\x3e\n\n<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 9.41c0 3.54 3.24 6.42 7.23 6.42 1.03 0 2.02-.19 2.95-.56 1.65.93 1.79.98 3.62 1.63.3.11.57.13.61.05.04-.08.02-.43-.08-.75-.48-1.63-.87-1.77-1.01-3.32a5.87 5.87 0 0 0 1.15-3.47C16.97 5.88 13.72 3 9.73 3S2.5 5.88 2.5 9.41zm9.64 0c0-.52.44-.95.97-.95s.96.43.96.95c0 .53-.43.95-.96.95a.96.96 0 0 1-.97-.95zm-3.37 0c0-.52.43-.95.96-.95.54 0 .97.43.97.95 0 .53-.43.95-.97.95a.96.96 0 0 1-.96-.95zm-3.38 0c0-.52.44-.95.97-.95s.96.43.96.95c0 .53-.43.95-.96.95a.96.96 0 0 1-.97-.95z"/></svg>\n'; }, function (t, e) { t.exports = '\x3c!--\n\n What you\'re currently looking at is the source code of a legally protected, proprietary software.\n CKEditor 5 Collaboration is licensed under a commercial license and protected by copyright law. Where not otherwise indicated,\n all CKEditor 5 Collaboration content is authored by CKSource engineers and consists of CKSource-owned intellectual property.\n\n Copyright (c) 2003-2019, CKSource Frederico Knabben. All rights reserved.\n\n!--\x3e\n\n<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M12 9.4a1 1 0 0 1 2 0c0 .5-.5 1-1 1a1 1 0 0 1-1-1zM8.7 9.4c0-.5.4-1 1-1 .5 0 .9.5.9 1s-.4 1-1 1a1 1 0 0 1-1-1zM6.3 8.5c.5 0 1 .4 1 1 0 .4-.5.9-1 .9a1 1 0 0 1-1-1c0-.5.4-1 1-1z"/><path d="M16 17.4c.6.2 1 .2 1.3-.2V16l-.5-1.1-.3-.7-.3-1.3c.8-1 1.2-2.3 1.2-3.6 0-3.8-3.5-6.9-7.8-6.9-4.2 0-7.7 3-7.7 7 0 3.7 3.5 6.8 7.7 6.8 1 0 2-.1 3-.5 1.4.8 1.6 1 3.4 1.6zm-3.2-2.6h-.4c-.9.4-1.8.5-2.8.5C6 15.3 3 12.7 3 9.4c0-3.2 3-5.9 6.7-5.9 3.8 0 6.8 2.7 6.8 6 0 1-.4 2.2-1 3l-.2.2v.2c0 .7.2 1.2.4 1.8l.3.7a10.4 10.4 0 0 1 .4 1c-1.8-.6-2-.7-3.5-1.6z"/></svg>\n'; }, function (t, e) { t.exports = '\x3c!--\n\n What you\'re currently looking at is the source code of a legally protected, proprietary software.\n CKEditor 5 Collaboration is licensed under a commercial license and protected by copyright law. Where not otherwise indicated,\n all CKEditor 5 Collaboration content is authored by CKSource engineers and consists of CKSource-owned intellectual property.\n\n Copyright (c) 2003-2019, CKSource Frederico Knabben. All rights reserved.\n\n!--\x3e\n\n<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M5.2 7h9.2c.6 0 1 .4 1 1v9.9c0 .5-.4 1-1 1H5.2a1 1 0 0 1-1-1V8c0-.6.4-1 1-1zm1 1.5c-.3 0-.5.2-.5.5v8c0 .3.2.5.5.5h.5c.2 0 .5-.2.5-.5V9c0-.3-.3-.5-.5-.5h-.5zm3.2 0c-.2 0-.5.2-.5.5v8c0 .3.3.5.5.5h.5c.3 0 .5-.2.5-.5V9c0-.3-.2-.5-.5-.5h-.4zm3.5 0c-.2 0-.5.2-.5.5v8c0 .3.3.5.5.5h.5c.3 0 .5-.2.5-.5V9c0-.3-.2-.5-.5-.5h-.5zm-1.4-7.1H8.3L6.5 3.6H3.8c-.5 0-.7.3-.7.8s.2.7.7.7h12c.6 0 .9-.2.9-.7 0-.5-.3-.8-1-.8h-2.4l-1.8-2.2z"/></svg>\n'; }, function (t, e, n) { var i = n(271), o = n(275), r = n(81), s = n(13), a = n(278), c = n(279); var l = { M: function (t) { return t.getMonth() + 1; }, MM: function (t) { return h(t.getMonth() + 1, 2); }, Q: function (t) { return Math.ceil((t.getMonth() + 1) / 3); }, D: function (t) { return t.getDate(); }, DD: function (t) { return h(t.getDate(), 2); }, DDD: function (t) { return i(t); }, DDDD: function (t) { return h(i(t), 3); }, d: function (t) { return t.getDay(); }, E: function (t) { return t.getDay() || 7; }, W: function (t) { return o(t); }, WW: function (t) { return h(o(t), 2); }, YY: function (t) { return h(t.getFullYear(), 4).substr(2); }, YYYY: function (t) { return h(t.getFullYear(), 4); }, GG: function (t) { return String(r(t)).substr(2); }, GGGG: function (t) { return r(t); }, H: function (t) { return t.getHours(); }, HH: function (t) { return h(t.getHours(), 2); }, h: function (t) { var e = t.getHours(); return 0 === e ? 12 : e > 12 ? e % 12 : e; }, hh: function (t) { return h(l.h(t), 2); }, m: function (t) { return t.getMinutes(); }, mm: function (t) { return h(t.getMinutes(), 2); }, s: function (t) { return t.getSeconds(); }, ss: function (t) { return h(t.getSeconds(), 2); }, S: function (t) { return Math.floor(t.getMilliseconds() / 100); }, SS: function (t) { return h(Math.floor(t.getMilliseconds() / 10), 2); }, SSS: function (t) { return h(t.getMilliseconds(), 3); }, Z: function (t) { return u(t.getTimezoneOffset(), ":"); }, ZZ: function (t) { return u(t.getTimezoneOffset()); }, X: function (t) { return Math.floor(t.getTime() / 1e3); }, x: function (t) { return t.getTime(); } }; function d(t) { return t.match(/\[[\s\S]/) ? t.replace(/^\[|]$/g, "") : t.replace(/\\/g, ""); } function u(t, e) { e = e || ""; var n = t > 0 ? "-" : "+", i = Math.abs(t), o = i % 60; return n + h(Math.floor(i / 60), 2) + e + h(o, 2); } function h(t, e) { for (var n = Math.abs(t).toString(); n.length < e;)
                        n = "0" + n; return n; } t.exports = function (t, e, n) { var i = e ? String(e) : "YYYY-MM-DDTHH:mm:ss.SSSZ", o = (n || {}).locale, r = c.format.formatters, u = c.format.formattingTokensRegExp; o && o.format && o.format.formatters && (r = o.format.formatters, o.format.formattingTokensRegExp && (u = o.format.formattingTokensRegExp)); var h = s(t); return a(h) ? function (t, e, n) { var i, o, r = t.match(n), s = r.length; for (i = 0; i < s; i++)
                        o = e[r[i]] || l[r[i]], r[i] = o || d(r[i]); return function (t) { for (var e = "", n = 0; n < s; n++)
                        r[n] instanceof Function ? e += r[n](t, l) : e += r[n]; return e; }; }(i, r, u)(h) : "Invalid Date"; }; }, function (t, e) { t.exports = '\x3c!--\n\n What you\'re currently looking at is the source code of a legally protected, proprietary software.\n CKEditor 5 Collaboration is licensed under a commercial license and protected by copyright law. Where not otherwise indicated,\n all CKEditor 5 Collaboration content is authored by CKSource engineers and consists of CKSource-owned intellectual property.\n\n Copyright (c) 2003-2019, CKSource Frederico Knabben. All rights reserved.\n\n!--\x3e\n\n<svg viewBox="0 0 20 20" width="20" height="20" xmlns="http://www.w3.org/2000/svg"><g fill="#000" fill-rule="nonzero"><path d="M1 3.28C1 2.574 1.574 2 2.272 2h10.23c.703 0 1.272.573 1.272 1.28v12.768c0 .708-.574 1.281-1.271 1.281H2.272A1.276 1.276 0 0 1 1 16.049V3.28zm11.503 12.954c-.008 0-.006-12.77-.006-12.77 0-.003-10.225-.004-10.225-.004.007 0 .005 12.77.005 12.77 0 .003 10.226.004 10.226.004zm-8.31-9.58c0-.353.292-.64.636-.64h5.116c.351 0 .636.284.636.64a.641.641 0 0 1-.636.638H4.829a.636.636 0 0 1-.635-.639zm0 2.554c0-.352.292-.638.636-.638h5.116c.351 0 .636.283.636.638a.641.641 0 0 1-.636.639H4.829a.636.636 0 0 1-.635-.639zm0 2.555c0-.353.289-.639.633-.639h2.567c.35 0 .633.284.633.64a.639.639 0 0 1-.633.638H4.826a.634.634 0 0 1-.632-.639z"/><path d="M10.515 17.958l.154-.23c-.195-.099-.304-.193-.328-.28-.024-.09.001-.275.076-.552.062-.165.099-.296.111-.393.013-.159.013-.319 0-.478-.138-.41-.2-.686-.187-.83.013-.145.117-.335.313-.57l4.465-6.208c.356-.6 1.059-.56 2.11.119 1.051.68 1.443 1.271 1.177 1.771L14.53 17.14c-.105.271-.22.444-.347.516-.128.07-.399.118-.813.138a2.954 2.954 0 0 0-.487.21 2.044 2.044 0 0 0-.347.31c-.193.174-.332.262-.416.262-.064 0-.178-.05-.346-.15l-.204.27-1.056-.738h.001zm-.184.274l1.039.727-.259.34H9.614l.717-1.067z"/></g></svg>\n'; }, function (t, e, n) { var i = n(127); "string" == typeof i && (i = [[t.i, i, ""]]); var o = { injectType: "singletonStyleTag", insert: "head", singleton: !0 }; n(1)(i, o); i.locals && (t.exports = i.locals); }, function (t, e) { t.exports = ".ck.ck-placeholder:before,.ck .ck-placeholder:before{content:attr(data-placeholder);pointer-events:none}.ck.ck-read-only .ck-placeholder:before{display:none}.ck.ck-placeholder:before,.ck .ck-placeholder:before{cursor:text;color:var(--ck-color-engine-placeholder-text)}"; }, function (t, e, n) { var i = n(129); "string" == typeof i && (i = [[t.i, i, ""]]); var o = { injectType: "singletonStyleTag", insert: "head", singleton: !0 }; n(1)(i, o); i.locals && (t.exports = i.locals); }, function (t, e) { t.exports = ".ck-hidden{display:none!important}.ck.ck-reset,.ck.ck-reset_all,.ck.ck-reset_all *{box-sizing:border-box;width:auto;height:auto;position:static}:root{--ck-z-default:1;--ck-z-modal:calc(var(--ck-z-default) + 999);--ck-color-base-foreground:#fafafa;--ck-color-base-background:#fff;--ck-color-base-border:#c4c4c4;--ck-color-base-action:#61b045;--ck-color-base-focus:#6cb5f9;--ck-color-base-text:#333;--ck-color-base-active:#198cf0;--ck-color-base-active-focus:#0e7fe1;--ck-color-base-error:#db3700;--ck-color-focus-border:#1f89e5;--ck-color-focus-outer-shadow:#bcdefb;--ck-color-focus-disabled-shadow:rgba(119,186,248,0.3);--ck-color-focus-error-shadow:rgba(255,64,31,0.3);--ck-color-text:var(--ck-color-base-text);--ck-color-shadow-drop:rgba(0,0,0,0.15);--ck-color-shadow-drop-active:rgba(0,0,0,0.2);--ck-color-shadow-inner:rgba(0,0,0,0.1);--ck-color-button-default-background:transparent;--ck-color-button-default-hover-background:#e6e6e6;--ck-color-button-default-active-background:#d9d9d9;--ck-color-button-default-active-shadow:#bfbfbf;--ck-color-button-default-disabled-background:transparent;--ck-color-button-on-background:#dedede;--ck-color-button-on-hover-background:#c4c4c4;--ck-color-button-on-active-background:#bababa;--ck-color-button-on-active-shadow:#a1a1a1;--ck-color-button-on-disabled-background:#dedede;--ck-color-button-action-background:var(--ck-color-base-action);--ck-color-button-action-hover-background:#579e3d;--ck-color-button-action-active-background:#53973b;--ck-color-button-action-active-shadow:#498433;--ck-color-button-action-disabled-background:#7ec365;--ck-color-button-action-text:var(--ck-color-base-background);--ck-color-button-save:#008a00;--ck-color-button-cancel:#db3700;--ck-color-switch-button-off-background:#b0b0b0;--ck-color-switch-button-off-hover-background:#a3a3a3;--ck-color-switch-button-on-background:var(--ck-color-button-action-background);--ck-color-switch-button-on-hover-background:#579e3d;--ck-color-switch-button-inner-background:var(--ck-color-base-background);--ck-color-switch-button-inner-shadow:rgba(0,0,0,0.1);--ck-color-dropdown-panel-background:var(--ck-color-base-background);--ck-color-dropdown-panel-border:var(--ck-color-base-border);--ck-color-input-background:var(--ck-color-base-background);--ck-color-input-border:#c7c7c7;--ck-color-input-error-border:var(--ck-color-base-error);--ck-color-input-text:var(--ck-color-base-text);--ck-color-input-disabled-background:#f2f2f2;--ck-color-input-disabled-border:#c7c7c7;--ck-color-input-disabled-text:#5c5c5c;--ck-color-list-background:var(--ck-color-base-background);--ck-color-list-button-hover-background:var(--ck-color-button-default-hover-background);--ck-color-list-button-on-background:var(--ck-color-base-active);--ck-color-list-button-on-background-focus:var(--ck-color-base-active-focus);--ck-color-list-button-on-text:var(--ck-color-base-background);--ck-color-panel-background:var(--ck-color-base-background);--ck-color-panel-border:var(--ck-color-base-border);--ck-color-toolbar-background:var(--ck-color-base-foreground);--ck-color-toolbar-border:var(--ck-color-base-border);--ck-color-tooltip-background:var(--ck-color-base-text);--ck-color-tooltip-text:var(--ck-color-base-background);--ck-color-engine-placeholder-text:#707070;--ck-color-upload-bar-background:#6cb5f9;--ck-color-link-default:#0000f0;--ck-color-link-selected-background:rgba(31,177,255,0.1);--ck-disabled-opacity:.5;--ck-focus-outer-shadow-geometry:0 0 0 3px;--ck-focus-outer-shadow:var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-outer-shadow);--ck-focus-disabled-outer-shadow:var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-disabled-shadow);--ck-focus-error-outer-shadow:var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-error-shadow);--ck-focus-ring:1px solid var(--ck-color-focus-border);--ck-font-size-base:13px;--ck-line-height-base:1.84615;--ck-font-face:Helvetica,Arial,Tahoma,Verdana,Sans-Serif;--ck-font-size-tiny:0.7em;--ck-font-size-small:0.75em;--ck-font-size-normal:1em;--ck-font-size-big:1.4em;--ck-font-size-large:1.8em;--ck-ui-component-min-height:2.3em}.ck.ck-reset,.ck.ck-reset_all,.ck.ck-reset_all *{margin:0;padding:0;border:0;background:transparent;text-decoration:none;vertical-align:middle;transition:none;word-wrap:break-word}.ck.ck-reset_all,.ck.ck-reset_all *{border-collapse:collapse;font:normal normal normal var(--ck-font-size-base)/var(--ck-line-height-base) var(--ck-font-face);color:var(--ck-color-text);text-align:left;white-space:nowrap;cursor:auto;float:none}.ck.ck-reset_all .ck-rtl *{text-align:right}.ck.ck-reset_all iframe{vertical-align:inherit}.ck.ck-reset_all textarea{white-space:pre-wrap}.ck.ck-reset_all input[type=password],.ck.ck-reset_all input[type=text],.ck.ck-reset_all textarea{cursor:text}.ck.ck-reset_all input[type=password][disabled],.ck.ck-reset_all input[type=text][disabled],.ck.ck-reset_all textarea[disabled]{cursor:default}.ck.ck-reset_all fieldset{padding:10px;border:2px groove #dfdee3}.ck.ck-reset_all button::-moz-focus-inner{padding:0;border:0}.ck[dir=rtl],.ck[dir=rtl] .ck{text-align:right}:root{--ck-border-radius:2px;--ck-inner-shadow:2px 2px 3px var(--ck-color-shadow-inner) inset;--ck-drop-shadow:0 1px 2px 1px var(--ck-color-shadow-drop);--ck-drop-shadow-active:0 3px 6px 1px var(--ck-color-shadow-drop-active);--ck-spacing-unit:0.6em;--ck-spacing-large:calc(var(--ck-spacing-unit)*1.5);--ck-spacing-standard:var(--ck-spacing-unit);--ck-spacing-medium:calc(var(--ck-spacing-unit)*0.8);--ck-spacing-small:calc(var(--ck-spacing-unit)*0.5);--ck-spacing-tiny:calc(var(--ck-spacing-unit)*0.3);--ck-spacing-extra-tiny:calc(var(--ck-spacing-unit)*0.16)}"; }, function (t, e, n) { var i = n(131); "string" == typeof i && (i = [[t.i, i, ""]]); var o = { injectType: "singletonStyleTag", insert: "head", singleton: !0 }; n(1)(i, o); i.locals && (t.exports = i.locals); }, function (t, e) { t.exports = ".ck.ck-editor__editable:not(.ck-editor__nested-editable){border-radius:0}.ck-rounded-corners .ck.ck-editor__editable:not(.ck-editor__nested-editable),.ck.ck-editor__editable:not(.ck-editor__nested-editable).ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-editor__editable:not(.ck-editor__nested-editable).ck-focused{outline:none;border:var(--ck-focus-ring);box-shadow:var(--ck-inner-shadow),0 0}.ck.ck-editor__editable_inline{overflow:auto;padding:0 var(--ck-spacing-standard);border:1px solid transparent}.ck.ck-editor__editable_inline[dir=ltr]{text-align:left}.ck.ck-editor__editable_inline[dir=rtl]{text-align:right}.ck.ck-editor__editable_inline>:first-child{margin-top:var(--ck-spacing-large)}.ck.ck-editor__editable_inline>:last-child{margin-bottom:var(--ck-spacing-large)}.ck.ck-balloon-panel.ck-toolbar-container[class*=arrow_n]:after{border-bottom-color:var(--ck-color-base-foreground)}.ck.ck-balloon-panel.ck-toolbar-container[class*=arrow_s]:after{border-top-color:var(--ck-color-base-foreground)}"; }, function (t, e, n) { var i = n(133); "string" == typeof i && (i = [[t.i, i, ""]]); var o = { injectType: "singletonStyleTag", insert: "head", singleton: !0 }; n(1)(i, o); i.locals && (t.exports = i.locals); }, function (t, e) { t.exports = ".ck.ck-label{display:block}.ck.ck-voice-label{display:none}.ck.ck-label{font-weight:700}"; }, function (t, e, n) { var i = n(135); "string" == typeof i && (i = [[t.i, i, ""]]); var o = { injectType: "singletonStyleTag", insert: "head", singleton: !0 }; n(1)(i, o); i.locals && (t.exports = i.locals); }, function (t, e) { t.exports = ".ck.ck-sticky-panel .ck-sticky-panel__content_sticky{z-index:var(--ck-z-modal);position:fixed;top:0}.ck.ck-sticky-panel .ck-sticky-panel__content_sticky_bottom-limit{top:auto;position:absolute}.ck.ck-sticky-panel .ck-sticky-panel__content_sticky{box-shadow:var(--ck-drop-shadow),0 0;border-width:0 1px 1px;border-top-left-radius:0;border-top-right-radius:0}"; }, function (t, e, n) { var i = n(137); "string" == typeof i && (i = [[t.i, i, ""]]); var o = { injectType: "singletonStyleTag", insert: "head", singleton: !0 }; n(1)(i, o); i.locals && (t.exports = i.locals); }, function (t, e) { t.exports = ".ck.ck-dropdown{display:inline-block;position:relative}.ck.ck-dropdown .ck-dropdown__arrow{pointer-events:none;z-index:var(--ck-z-default)}.ck.ck-dropdown .ck-button.ck-dropdown__button{width:100%}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-on .ck-tooltip{display:none}.ck.ck-dropdown .ck-dropdown__panel{-webkit-backface-visibility:hidden;display:none;z-index:var(--ck-z-modal);position:absolute}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel-visible{display:inline-block}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_ne,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nw{bottom:100%}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_se,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_sw{top:100%;bottom:auto}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_ne,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_se{left:0}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nw,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_sw{right:0}:root{--ck-dropdown-arrow-size:calc(0.5*var(--ck-icon-size))}.ck.ck-dropdown{font-size:inherit}.ck.ck-dropdown .ck-dropdown__arrow{width:var(--ck-dropdown-arrow-size)}[dir=ltr] .ck.ck-dropdown .ck-dropdown__arrow{right:var(--ck-spacing-standard);margin-left:var(--ck-spacing-small)}[dir=rtl] .ck.ck-dropdown .ck-dropdown__arrow{left:var(--ck-spacing-standard);margin-right:var(--ck-spacing-small)}.ck.ck-dropdown.ck-disabled .ck-dropdown__arrow{opacity:var(--ck-disabled-opacity)}[dir=ltr] .ck.ck-dropdown .ck-button.ck-dropdown__button:not(.ck-button_with-text){padding-left:var(--ck-spacing-small)}[dir=rtl] .ck.ck-dropdown .ck-button.ck-dropdown__button:not(.ck-button_with-text){padding-right:var(--ck-spacing-small)}.ck.ck-dropdown .ck-button.ck-dropdown__button .ck-button__label{width:7em;overflow:hidden;text-overflow:ellipsis}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-disabled .ck-button__label{opacity:var(--ck-disabled-opacity)}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-on{border-bottom-left-radius:0;border-bottom-right-radius:0}.ck.ck-dropdown__panel{box-shadow:var(--ck-drop-shadow),0 0;border-radius:0}.ck-rounded-corners .ck.ck-dropdown__panel,.ck.ck-dropdown__panel.ck-rounded-corners{border-radius:var(--ck-border-radius);border-top-left-radius:0}.ck.ck-dropdown__panel{background:var(--ck-color-dropdown-panel-background);border:1px solid var(--ck-color-dropdown-panel-border);bottom:0;min-width:100%}"; }, function (t, e, n) { var i = n(139); "string" == typeof i && (i = [[t.i, i, ""]]); var o = { injectType: "singletonStyleTag", insert: "head", singleton: !0 }; n(1)(i, o); i.locals && (t.exports = i.locals); }, function (t, e) { t.exports = ".ck.ck-icon{vertical-align:middle}:root{--ck-icon-size:calc(var(--ck-line-height-base)*var(--ck-font-size-normal))}.ck.ck-icon{width:var(--ck-icon-size);height:var(--ck-icon-size);font-size:.8333350694em;will-change:transform}.ck.ck-icon,.ck.ck-icon *{color:inherit;cursor:inherit}.ck.ck-icon :not([fill]){fill:currentColor}"; }, function (t, e, n) { var i = n(141); "string" == typeof i && (i = [[t.i, i, ""]]); var o = { injectType: "singletonStyleTag", insert: "head", singleton: !0 }; n(1)(i, o); i.locals && (t.exports = i.locals); }, function (t, e) { t.exports = '.ck.ck-tooltip,.ck.ck-tooltip .ck-tooltip__text:after{position:absolute;pointer-events:none;-webkit-backface-visibility:hidden}.ck.ck-tooltip{visibility:hidden;opacity:0;display:none;z-index:var(--ck-z-modal)}.ck.ck-tooltip .ck-tooltip__text{display:inline-block}.ck.ck-tooltip .ck-tooltip__text:after{content:"";width:0;height:0}:root{--ck-tooltip-arrow-size:5px}.ck.ck-tooltip{left:50%;top:0;transition:opacity .2s ease-in-out .2s}.ck.ck-tooltip .ck-tooltip__text{border-radius:0}.ck-rounded-corners .ck.ck-tooltip .ck-tooltip__text,.ck.ck-tooltip .ck-tooltip__text.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-tooltip .ck-tooltip__text{font-size:.9em;line-height:1.5;color:var(--ck-color-tooltip-text);padding:var(--ck-spacing-small) var(--ck-spacing-medium);background:var(--ck-color-tooltip-background);position:relative;left:-50%}.ck.ck-tooltip .ck-tooltip__text:after{transition:opacity .2s ease-in-out .2s;border-style:solid;left:50%}.ck.ck-tooltip.ck-tooltip_s{bottom:calc(-1*var(--ck-tooltip-arrow-size));transform:translateY(100%)}.ck.ck-tooltip.ck-tooltip_s .ck-tooltip__text:after{top:calc(-1*var(--ck-tooltip-arrow-size));transform:translateX(-50%);border-left-color:transparent;border-bottom-color:var(--ck-color-tooltip-background);border-right-color:transparent;border-top-color:transparent;border-left-width:var(--ck-tooltip-arrow-size);border-bottom-width:var(--ck-tooltip-arrow-size);border-right-width:var(--ck-tooltip-arrow-size);border-top-width:0}.ck.ck-tooltip.ck-tooltip_n{top:calc(-1*var(--ck-tooltip-arrow-size));transform:translateY(-100%)}.ck.ck-tooltip.ck-tooltip_n .ck-tooltip__text:after{bottom:calc(-1*var(--ck-tooltip-arrow-size));transform:translateX(-50%);border-left-color:transparent;border-bottom-color:transparent;border-right-color:transparent;border-top-color:var(--ck-color-tooltip-background);border-left-width:var(--ck-tooltip-arrow-size);border-bottom-width:0;border-right-width:var(--ck-tooltip-arrow-size);border-top-width:var(--ck-tooltip-arrow-size)}'; }, function (t, e, n) { var i = n(143); "string" == typeof i && (i = [[t.i, i, ""]]); var o = { injectType: "singletonStyleTag", insert: "head", singleton: !0 }; n(1)(i, o); i.locals && (t.exports = i.locals); }, function (t, e) { t.exports = ".ck.ck-button,a.ck.ck-button{-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none}.ck.ck-button .ck-tooltip,a.ck.ck-button .ck-tooltip{display:block}@media (hover:none){.ck.ck-button .ck-tooltip,a.ck.ck-button .ck-tooltip{display:none}}.ck.ck-button,a.ck.ck-button{position:relative;display:inline-flex;align-items:center;justify-content:left}.ck.ck-button .ck-button__label,a.ck.ck-button .ck-button__label{display:none}.ck.ck-button.ck-button_with-text .ck-button__label,a.ck.ck-button.ck-button_with-text .ck-button__label{display:inline-block}.ck.ck-button:not(.ck-button_with-text),a.ck.ck-button:not(.ck-button_with-text){justify-content:center}.ck.ck-button:hover .ck-tooltip,a.ck.ck-button:hover .ck-tooltip{visibility:visible;opacity:1}.ck.ck-button:focus:not(:hover) .ck-tooltip,a.ck.ck-button:focus:not(:hover) .ck-tooltip{display:none}.ck.ck-button,a.ck.ck-button{background:var(--ck-color-button-default-background)}.ck.ck-button:not(.ck-disabled):hover,a.ck.ck-button:not(.ck-disabled):hover{background:var(--ck-color-button-default-hover-background)}.ck.ck-button:not(.ck-disabled):active,a.ck.ck-button:not(.ck-disabled):active{background:var(--ck-color-button-default-active-background);box-shadow:inset 0 2px 2px var(--ck-color-button-default-active-shadow)}.ck.ck-button.ck-disabled,a.ck.ck-button.ck-disabled{background:var(--ck-color-button-default-disabled-background)}.ck.ck-button,a.ck.ck-button{border-radius:0}.ck-rounded-corners .ck.ck-button,.ck-rounded-corners a.ck.ck-button,.ck.ck-button.ck-rounded-corners,a.ck.ck-button.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-button,a.ck.ck-button{white-space:nowrap;cursor:default;vertical-align:middle;padding:var(--ck-spacing-tiny);text-align:center;min-width:var(--ck-ui-component-min-height);min-height:var(--ck-ui-component-min-height);line-height:1;font-size:inherit;border:1px solid transparent;transition:box-shadow .2s ease-in-out,border .2s ease-in-out;-webkit-appearance:none}.ck.ck-button:active,.ck.ck-button:focus,a.ck.ck-button:active,a.ck.ck-button:focus{outline:none;border:var(--ck-focus-ring);box-shadow:var(--ck-focus-outer-shadow),0 0}.ck.ck-button .ck-button__icon use,.ck.ck-button .ck-button__icon use *,a.ck.ck-button .ck-button__icon use,a.ck.ck-button .ck-button__icon use *{color:inherit}.ck.ck-button .ck-button__label,a.ck.ck-button .ck-button__label{font-size:inherit;font-weight:inherit;color:inherit;cursor:inherit;vertical-align:middle}[dir=ltr] .ck.ck-button .ck-button__label,[dir=ltr] a.ck.ck-button .ck-button__label{text-align:left}[dir=rtl] .ck.ck-button .ck-button__label,[dir=rtl] a.ck.ck-button .ck-button__label{text-align:right}.ck.ck-button .ck-button__keystroke,a.ck.ck-button .ck-button__keystroke{color:inherit}[dir=ltr] .ck.ck-button .ck-button__keystroke,[dir=ltr] a.ck.ck-button .ck-button__keystroke{margin-left:var(--ck-spacing-large)}[dir=rtl] .ck.ck-button .ck-button__keystroke,[dir=rtl] a.ck.ck-button .ck-button__keystroke{margin-right:var(--ck-spacing-large)}.ck.ck-button .ck-button__keystroke,a.ck.ck-button .ck-button__keystroke{font-weight:700;opacity:.7}.ck.ck-button.ck-disabled:active,.ck.ck-button.ck-disabled:focus,a.ck.ck-button.ck-disabled:active,a.ck.ck-button.ck-disabled:focus{box-shadow:var(--ck-focus-disabled-outer-shadow),0 0}.ck.ck-button.ck-disabled .ck-button__icon,a.ck.ck-button.ck-disabled .ck-button__icon{opacity:var(--ck-disabled-opacity)}.ck.ck-button.ck-disabled .ck-button__label,a.ck.ck-button.ck-disabled .ck-button__label{opacity:var(--ck-disabled-opacity)}.ck.ck-button.ck-disabled .ck-button__keystroke,a.ck.ck-button.ck-disabled .ck-button__keystroke{opacity:.3}.ck.ck-button.ck-button_with-text,a.ck.ck-button.ck-button_with-text{padding:var(--ck-spacing-tiny) var(--ck-spacing-standard)}[dir=ltr] .ck.ck-button.ck-button_with-text .ck-button__icon,[dir=ltr] a.ck.ck-button.ck-button_with-text .ck-button__icon{margin-left:calc(-1*var(--ck-spacing-small));margin-right:var(--ck-spacing-small)}[dir=rtl] .ck.ck-button.ck-button_with-text .ck-button__icon,[dir=rtl] a.ck.ck-button.ck-button_with-text .ck-button__icon{margin-right:calc(-1*var(--ck-spacing-small));margin-left:var(--ck-spacing-small)}.ck.ck-button.ck-button_with-keystroke .ck-button__label,a.ck.ck-button.ck-button_with-keystroke .ck-button__label{flex-grow:1}.ck.ck-button.ck-on,a.ck.ck-button.ck-on{background:var(--ck-color-button-on-background)}.ck.ck-button.ck-on:not(.ck-disabled):hover,a.ck.ck-button.ck-on:not(.ck-disabled):hover{background:var(--ck-color-button-on-hover-background)}.ck.ck-button.ck-on:not(.ck-disabled):active,a.ck.ck-button.ck-on:not(.ck-disabled):active{background:var(--ck-color-button-on-active-background);box-shadow:inset 0 2px 2px var(--ck-color-button-on-active-shadow)}.ck.ck-button.ck-on.ck-disabled,a.ck.ck-button.ck-on.ck-disabled{background:var(--ck-color-button-on-disabled-background)}.ck.ck-button.ck-button-save,a.ck.ck-button.ck-button-save{color:var(--ck-color-button-save)}.ck.ck-button.ck-button-cancel,a.ck.ck-button.ck-button-cancel{color:var(--ck-color-button-cancel)}.ck.ck-button-action,a.ck.ck-button-action{background:var(--ck-color-button-action-background)}.ck.ck-button-action:not(.ck-disabled):hover,a.ck.ck-button-action:not(.ck-disabled):hover{background:var(--ck-color-button-action-hover-background)}.ck.ck-button-action:not(.ck-disabled):active,a.ck.ck-button-action:not(.ck-disabled):active{background:var(--ck-color-button-action-active-background);box-shadow:inset 0 2px 2px var(--ck-color-button-action-active-shadow)}.ck.ck-button-action.ck-disabled,a.ck.ck-button-action.ck-disabled{background:var(--ck-color-button-action-disabled-background)}.ck.ck-button-action,a.ck.ck-button-action{color:var(--ck-color-button-action-text)}.ck.ck-button-bold,a.ck.ck-button-bold{font-weight:700}"; }, function (t, e, n) { var i = n(145); "string" == typeof i && (i = [[t.i, i, ""]]); var o = { injectType: "singletonStyleTag", insert: "head", singleton: !0 }; n(1)(i, o); i.locals && (t.exports = i.locals); }, function (t, e) { t.exports = ".ck.ck-list{-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none;display:flex;flex-direction:column}.ck.ck-list .ck-list__item,.ck.ck-list .ck-list__separator{display:block}.ck.ck-list .ck-list__item>:focus{position:relative;z-index:var(--ck-z-default)}.ck.ck-list{border-radius:0}.ck-rounded-corners .ck.ck-list,.ck.ck-list.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-list{list-style-type:none;background:var(--ck-color-list-background)}.ck.ck-list__item{cursor:default;min-width:12em}.ck.ck-list__item .ck-button{min-height:unset;width:100%;text-align:left;border-radius:0;padding:calc(0.2*var(--ck-line-height-base)*var(--ck-font-size-base)) calc(0.4*var(--ck-line-height-base)*var(--ck-font-size-base))}.ck.ck-list__item .ck-button .ck-button__label{line-height:calc(1.2*var(--ck-line-height-base)*var(--ck-font-size-base))}.ck.ck-list__item .ck-button:active{box-shadow:none}.ck.ck-list__item .ck-button.ck-on{background:var(--ck-color-list-button-on-background);color:var(--ck-color-list-button-on-text)}.ck.ck-list__item .ck-button.ck-on:active{box-shadow:none}.ck.ck-list__item .ck-button.ck-on:hover:not(.ck-disabled){background:var(--ck-color-list-button-on-background-focus)}.ck.ck-list__item .ck-button.ck-on:focus:not(.ck-disabled){border-color:var(--ck-color-base-background)}.ck.ck-list__item .ck-button:hover:not(.ck-disabled){background:var(--ck-color-list-button-hover-background)}.ck.ck-list__item .ck-switchbutton.ck-on{background:var(--ck-color-list-background);color:inherit}.ck.ck-list__item .ck-switchbutton.ck-on:hover:not(.ck-disabled){background:var(--ck-color-list-button-hover-background);color:inherit}.ck.ck-list__separator{height:1px;width:100%;background:var(--ck-color-base-border)}"; }, function (t, e, n) { var i = n(147); "string" == typeof i && (i = [[t.i, i, ""]]); var o = { injectType: "singletonStyleTag", insert: "head", singleton: !0 }; n(1)(i, o); i.locals && (t.exports = i.locals); }, function (t, e) { t.exports = ".ck.ck-button.ck-switchbutton .ck-button__toggle,.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner{display:block}:root{--ck-switch-button-toggle-width:2.6153846154em;--ck-switch-button-toggle-inner-size:1.0769230769em;--ck-switch-button-toggle-spacing:1px;--ck-switch-button-translation:1.3846153847em}[dir=ltr] .ck.ck-button.ck-switchbutton .ck-button__label{margin-right:calc(2*var(--ck-spacing-large))}[dir=rtl] .ck.ck-button.ck-switchbutton .ck-button__label{margin-left:calc(2*var(--ck-spacing-large))}.ck.ck-button.ck-switchbutton .ck-button__toggle{border-radius:0}.ck-rounded-corners .ck.ck-button.ck-switchbutton .ck-button__toggle,.ck.ck-button.ck-switchbutton .ck-button__toggle.ck-rounded-corners{border-radius:var(--ck-border-radius)}[dir=ltr] .ck.ck-button.ck-switchbutton .ck-button__toggle{margin-left:auto}[dir=rtl] .ck.ck-button.ck-switchbutton .ck-button__toggle{margin-right:auto}.ck.ck-button.ck-switchbutton .ck-button__toggle{transition:background .4s ease;width:var(--ck-switch-button-toggle-width);background:var(--ck-color-switch-button-off-background)}.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner{border-radius:0}.ck-rounded-corners .ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner,.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner.ck-rounded-corners{border-radius:var(--ck-border-radius);border-radius:calc(0.5*var(--ck-border-radius))}.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner{margin:var(--ck-switch-button-toggle-spacing);width:var(--ck-switch-button-toggle-inner-size);height:var(--ck-switch-button-toggle-inner-size);background:var(--ck-color-switch-button-inner-background);transition:all .3s ease}.ck.ck-button.ck-switchbutton .ck-button__toggle:hover{background:var(--ck-color-switch-button-off-hover-background)}.ck.ck-button.ck-switchbutton .ck-button__toggle:hover .ck-button__toggle__inner{box-shadow:0 0 0 5px var(--ck-color-switch-button-inner-shadow)}.ck.ck-button.ck-switchbutton.ck-disabled .ck-button__toggle{opacity:var(--ck-disabled-opacity)}.ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle{background:var(--ck-color-switch-button-on-background)}.ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle:hover{background:var(--ck-color-switch-button-on-hover-background)}[dir=ltr] .ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle .ck-button__toggle__inner{transform:translateX(var(--ck-switch-button-translation))}[dir=rtl] .ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle .ck-button__toggle__inner{transform:translateX(calc(-1*var(--ck-switch-button-translation)))}"; }, function (t, e, n) { var i = n(149); "string" == typeof i && (i = [[t.i, i, ""]]); var o = { injectType: "singletonStyleTag", insert: "head", singleton: !0 }; n(1)(i, o); i.locals && (t.exports = i.locals); }, function (t, e) { t.exports = ".ck.ck-toolbar-dropdown .ck.ck-toolbar .ck.ck-toolbar__items{flex-wrap:nowrap}.ck.ck-toolbar-dropdown .ck-dropdown__panel .ck-button:focus{z-index:calc(var(--ck-z-default) + 1)}.ck.ck-toolbar-dropdown .ck-toolbar{border:0}"; }, function (t, e, n) { var i = n(151); "string" == typeof i && (i = [[t.i, i, ""]]); var o = { injectType: "singletonStyleTag", insert: "head", singleton: !0 }; n(1)(i, o); i.locals && (t.exports = i.locals); }, function (t, e) { t.exports = ".ck.ck-dropdown .ck-dropdown__panel .ck-list{border-radius:0}.ck-rounded-corners .ck.ck-dropdown .ck-dropdown__panel .ck-list,.ck.ck-dropdown .ck-dropdown__panel .ck-list.ck-rounded-corners{border-radius:var(--ck-border-radius);border-top-left-radius:0}.ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:first-child .ck-button{border-radius:0}.ck-rounded-corners .ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:first-child .ck-button,.ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:first-child .ck-button.ck-rounded-corners{border-radius:var(--ck-border-radius);border-top-left-radius:0;border-bottom-left-radius:0;border-bottom-right-radius:0}.ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:last-child .ck-button{border-radius:0}.ck-rounded-corners .ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:last-child .ck-button,.ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:last-child .ck-button.ck-rounded-corners{border-radius:var(--ck-border-radius);border-top-left-radius:0;border-top-right-radius:0}"; }, function (t, e, n) { var i = n(153); "string" == typeof i && (i = [[t.i, i, ""]]); var o = { injectType: "singletonStyleTag", insert: "head", singleton: !0 }; n(1)(i, o); i.locals && (t.exports = i.locals); }, function (t, e) { t.exports = ".ck.ck-toolbar{-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none;display:flex;flex-flow:row nowrap;align-items:center}.ck.ck-toolbar>.ck-toolbar__items{display:flex;flex-flow:row wrap;align-items:center;flex-grow:1}.ck.ck-toolbar .ck.ck-toolbar__separator{display:inline-block}.ck.ck-toolbar .ck.ck-toolbar__separator:first-child,.ck.ck-toolbar .ck.ck-toolbar__separator:last-child{display:none}.ck.ck-toolbar.ck-toolbar_grouping>.ck-toolbar__items{flex-wrap:nowrap}.ck.ck-toolbar.ck-toolbar_vertical>.ck-toolbar__items{flex-direction:column}.ck.ck-toolbar.ck-toolbar_floating>.ck-toolbar__items{flex-wrap:nowrap}.ck.ck-toolbar>.ck.ck-toolbar__grouped-dropdown>.ck-dropdown__button .ck-dropdown__arrow{display:none}.ck.ck-toolbar{border-radius:0}.ck-rounded-corners .ck.ck-toolbar,.ck.ck-toolbar.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-toolbar{background:var(--ck-color-toolbar-background);padding:0 var(--ck-spacing-small);border:1px solid var(--ck-color-toolbar-border)}.ck.ck-toolbar>.ck-toolbar__items>*{margin-top:var(--ck-spacing-small);margin-bottom:var(--ck-spacing-small);margin-right:var(--ck-spacing-small)}.ck.ck-toolbar.ck-toolbar_vertical{padding:0}.ck.ck-toolbar.ck-toolbar_vertical>.ck-toolbar__items>.ck{width:100%;margin:0;border-radius:0;border:0}.ck.ck-toolbar>.ck-toolbar__items>*,.ck.ck-toolbar>.ck.ck-toolbar__grouped-dropdown{margin-top:var(--ck-spacing-small);margin-bottom:var(--ck-spacing-small)}.ck.ck-toolbar>.ck.ck-toolbar__grouped-dropdown>.ck.ck-button.ck-dropdown__button{padding-left:var(--ck-spacing-tiny)}.ck.ck-toolbar .ck.ck-toolbar__separator{align-self:stretch;width:1px;min-width:1px;margin-top:0;margin-bottom:0;background:var(--ck-color-toolbar-border)}.ck-toolbar-container .ck.ck-toolbar{border:0}.ck.ck-toolbar[dir=rtl]>.ck.ck-toolbar__grouped-dropdown,[dir=rtl] .ck.ck-toolbar>.ck.ck-toolbar__grouped-dropdown{padding-right:var(--ck-spacing-small)}.ck.ck-toolbar[dir=rtl]>.ck.ck-toolbar__items>*,[dir=rtl] .ck.ck-toolbar>.ck.ck-toolbar__items>*{margin-left:var(--ck-spacing-small);margin-right:0}.ck.ck-toolbar[dir=rtl]>.ck.ck-toolbar__items>:last-child,[dir=rtl] .ck.ck-toolbar>.ck.ck-toolbar__items>:last-child{margin-left:0}.ck.ck-toolbar[dir=rtl].ck-toolbar_grouping>.ck-toolbar__items,[dir=rtl] .ck.ck-toolbar.ck-toolbar_grouping>.ck-toolbar__items{margin-left:var(--ck-spacing-small)}.ck.ck-toolbar[dir=ltr]>.ck.ck-toolbar__grouped-dropdown,[dir=ltr] .ck.ck-toolbar>.ck.ck-toolbar__grouped-dropdown{padding-left:var(--ck-spacing-small)}.ck.ck-toolbar[dir=ltr]>.ck.ck-toolbar__items>:last-child,[dir=ltr] .ck.ck-toolbar>.ck.ck-toolbar__items>:last-child{margin-right:0}.ck.ck-toolbar[dir=ltr].ck-toolbar_grouping>.ck-toolbar__items,[dir=ltr] .ck.ck-toolbar.ck-toolbar_grouping>.ck-toolbar__items{margin-right:var(--ck-spacing-small)}"; }, function (t, e, n) { var i = n(155); "string" == typeof i && (i = [[t.i, i, ""]]); var o = { injectType: "singletonStyleTag", insert: "head", singleton: !0 }; n(1)(i, o); i.locals && (t.exports = i.locals); }, function (t, e) { t.exports = ".ck.ck-editor{position:relative}.ck.ck-editor .ck-editor__top .ck-sticky-panel .ck-toolbar{z-index:var(--ck-z-modal)}.ck.ck-editor__top .ck-sticky-panel .ck-toolbar{border-radius:0}.ck-rounded-corners .ck.ck-editor__top .ck-sticky-panel .ck-toolbar,.ck.ck-editor__top .ck-sticky-panel .ck-toolbar.ck-rounded-corners{border-radius:var(--ck-border-radius);border-bottom-left-radius:0;border-bottom-right-radius:0}.ck.ck-editor__top .ck-sticky-panel .ck-toolbar{border-bottom-width:0}.ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content_sticky .ck-toolbar{border-bottom-width:1px;border-radius:0}.ck-rounded-corners .ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content_sticky .ck-toolbar,.ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content_sticky .ck-toolbar.ck-rounded-corners{border-radius:var(--ck-border-radius);border-radius:0}.ck.ck-editor__main>.ck-editor__editable{background:var(--ck-color-base-background);border-radius:0}.ck-rounded-corners .ck.ck-editor__main>.ck-editor__editable,.ck.ck-editor__main>.ck-editor__editable.ck-rounded-corners{border-radius:var(--ck-border-radius);border-top-left-radius:0;border-top-right-radius:0}.ck.ck-editor__main>.ck-editor__editable:not(.ck-focused){border-color:var(--ck-color-base-border)}"; }, function (t, e, n) { var i = n(157); "string" == typeof i && (i = [[t.i, i, ""]]); var o = { injectType: "singletonStyleTag", insert: "head", singleton: !0 }; n(1)(i, o); i.locals && (t.exports = i.locals); }, function (t, e) { t.exports = ".ck-content blockquote{overflow:hidden;padding-right:1.5em;padding-left:1.5em;margin-left:0;margin-right:0;font-style:italic;border-left:5px solid #ccc}.ck-content[dir=rtl] blockquote{border-left:0;border-right:5px solid #ccc}"; }, function (t, e, n) { var i = n(159); "string" == typeof i && (i = [[t.i, i, ""]]); var o = { injectType: "singletonStyleTag", insert: "head", singleton: !0 }; n(1)(i, o); i.locals && (t.exports = i.locals); }, function (t, e) { t.exports = ".ck .ck-link_selected{background:var(--ck-color-link-selected-background)}"; }, function (t, e, n) { var i = n(161); "string" == typeof i && (i = [[t.i, i, ""]]); var o = { injectType: "singletonStyleTag", insert: "head", singleton: !0 }; n(1)(i, o); i.locals && (t.exports = i.locals); }, function (t, e) { t.exports = ":root{--ck-color-resizer:var(--ck-color-focus-border);--ck-resizer-size:10px;--ck-resizer-border-width:1px;--ck-resizer-border-radius:2px;--ck-resizer-offset:calc(var(--ck-resizer-size)/-2 - 2px);--ck-resizer-tooltip-offset:10px;--ck-color-resizer-tooltip-background:#262626;--ck-color-resizer-tooltip-text:#f2f2f2}.ck .ck-widget.ck-widget_with-selection-handle{position:relative}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle{position:absolute}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle .ck-icon{display:block}.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected .ck-widget__selection-handle,.ck .ck-widget.ck-widget_with-selection-handle:hover .ck-widget__selection-handle{visibility:visible}.ck .ck-size-view{background:var(--ck-color-resizer-tooltip-background);color:var(--ck-color-resizer-tooltip-text);border:1px solid var(--ck-color-resizer-tooltip-text);border-radius:var(--ck-resizer-border-radius);font-size:var(--ck-font-size-tiny);display:block;padding:var(--ck-spacing-small)}.ck .ck-size-view.ck-orientation-bottom-left,.ck .ck-size-view.ck-orientation-bottom-right,.ck .ck-size-view.ck-orientation-top-left,.ck .ck-size-view.ck-orientation-top-right{position:absolute}.ck .ck-size-view.ck-orientation-top-left{top:var(--ck-resizer-tooltip-offset);left:var(--ck-resizer-tooltip-offset)}.ck .ck-size-view.ck-orientation-top-right{top:var(--ck-resizer-tooltip-offset);right:var(--ck-resizer-tooltip-offset)}.ck .ck-size-view.ck-orientation-bottom-right{bottom:var(--ck-resizer-tooltip-offset);right:var(--ck-resizer-tooltip-offset)}.ck .ck-size-view.ck-orientation-bottom-left{bottom:var(--ck-resizer-tooltip-offset);left:var(--ck-resizer-tooltip-offset)}:root{--ck-widget-outline-thickness:3px;--ck-widget-handler-icon-size:16px;--ck-widget-handler-animation-duration:200ms;--ck-widget-handler-animation-curve:ease;--ck-color-widget-blurred-border:#dedede;--ck-color-widget-hover-border:#ffc83d;--ck-color-widget-editable-focus-background:var(--ck-color-base-background);--ck-color-widget-drag-handler-icon-color:var(--ck-color-base-background)}.ck .ck-widget{outline-width:var(--ck-widget-outline-thickness);outline-style:solid;outline-color:transparent;transition:outline-color var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve)}.ck .ck-widget.ck-widget_selected,.ck .ck-widget.ck-widget_selected:hover{outline:var(--ck-widget-outline-thickness) solid var(--ck-color-focus-border)}.ck .ck-widget:hover{outline-color:var(--ck-color-widget-hover-border)}.ck .ck-editor__nested-editable{border:1px solid transparent}.ck .ck-editor__nested-editable.ck-editor__nested-editable_focused,.ck .ck-editor__nested-editable:focus{outline:none;border:var(--ck-focus-ring);box-shadow:var(--ck-inner-shadow),0 0;background-color:var(--ck-color-widget-editable-focus-background)}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle{padding:4px;box-sizing:border-box;background-color:transparent;opacity:0;transition:background-color var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),visibility var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),opacity var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve);border-radius:var(--ck-border-radius) var(--ck-border-radius) 0 0;transform:translateY(-100%);left:calc(0px - var(--ck-widget-outline-thickness))}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle .ck-icon{width:var(--ck-widget-handler-icon-size);height:var(--ck-widget-handler-icon-size);color:var(--ck-color-widget-drag-handler-icon-color)}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle .ck-icon .ck-icon__selected-indicator{opacity:0;transition:opacity .3s var(--ck-widget-handler-animation-curve)}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle:hover .ck-icon .ck-icon__selected-indicator{opacity:1}.ck .ck-widget.ck-widget_with-selection-handle:hover .ck-widget__selection-handle{opacity:1;background-color:var(--ck-color-widget-hover-border)}.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected .ck-widget__selection-handle,.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected:hover .ck-widget__selection-handle{opacity:1;background-color:var(--ck-color-focus-border)}.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected .ck-widget__selection-handle .ck-icon .ck-icon__selected-indicator,.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected:hover .ck-widget__selection-handle .ck-icon .ck-icon__selected-indicator{opacity:1}.ck-editor__editable>.ck-widget.ck-widget_with-selection-handle:first-child,.ck-editor__editable blockquote>.ck-widget.ck-widget_with-selection-handle:first-child{margin-top:calc(1em + var(--ck-widget-handler-icon-size))}.ck[dir=rtl] .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle{left:auto;right:calc(0px - var(--ck-widget-outline-thickness))}.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected,.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected:hover{outline-color:var(--ck-color-widget-blurred-border)}.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected.ck-widget_with-selection-handle .ck-widget__selection-handle,.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected.ck-widget_with-selection-handle .ck-widget__selection-handle:hover,.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected:hover.ck-widget_with-selection-handle .ck-widget__selection-handle,.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected:hover.ck-widget_with-selection-handle .ck-widget__selection-handle:hover{background:var(--ck-color-widget-blurred-border)}.ck-editor__editable.ck-read-only .ck-widget{--ck-widget-outline-thickness:0}"; }, function (t, e, n) { var i = n(163); "string" == typeof i && (i = [[t.i, i, ""]]); var o = { injectType: "singletonStyleTag", insert: "head", singleton: !0 }; n(1)(i, o); i.locals && (t.exports = i.locals); }, function (t, e) { t.exports = ".ck.ck-labeled-input .ck-labeled-input__status{font-size:var(--ck-font-size-small);margin-top:var(--ck-spacing-small);white-space:normal}.ck.ck-labeled-input .ck-labeled-input__status_error{color:var(--ck-color-base-error)}"; }, function (t, e, n) { var i = n(165); "string" == typeof i && (i = [[t.i, i, ""]]); var o = { injectType: "singletonStyleTag", insert: "head", singleton: !0 }; n(1)(i, o); i.locals && (t.exports = i.locals); }, function (t, e) { t.exports = ":root{--ck-input-text-width:18em}.ck.ck-input-text{border-radius:0}.ck-rounded-corners .ck.ck-input-text,.ck.ck-input-text.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-input-text{box-shadow:var(--ck-inner-shadow),0 0;background:var(--ck-color-input-background);border:1px solid var(--ck-color-input-border);padding:var(--ck-spacing-extra-tiny) var(--ck-spacing-medium);min-width:var(--ck-input-text-width);min-height:var(--ck-ui-component-min-height);transition:box-shadow .2s ease-in-out,border .2s ease-in-out}.ck.ck-input-text:focus{outline:none;border:var(--ck-focus-ring);box-shadow:var(--ck-focus-outer-shadow),var(--ck-inner-shadow)}.ck.ck-input-text[readonly]{border:1px solid var(--ck-color-input-disabled-border);background:var(--ck-color-input-disabled-background);color:var(--ck-color-input-disabled-text)}.ck.ck-input-text[readonly]:focus{box-shadow:var(--ck-focus-disabled-outer-shadow),var(--ck-inner-shadow)}.ck.ck-input-text.ck-error{border-color:var(--ck-color-input-error-border);animation:ck-text-input-shake .3s ease both}.ck.ck-input-text.ck-error:focus{box-shadow:var(--ck-focus-error-outer-shadow),var(--ck-inner-shadow)}@keyframes ck-text-input-shake{20%{transform:translateX(-2px)}40%{transform:translateX(2px)}60%{transform:translateX(-1px)}80%{transform:translateX(1px)}}"; }, function (t, e, n) { var i = n(167); "string" == typeof i && (i = [[t.i, i, ""]]); var o = { injectType: "singletonStyleTag", insert: "head", singleton: !0 }; n(1)(i, o); i.locals && (t.exports = i.locals); }, function (t, e) { t.exports = ".ck.ck-text-alternative-form{display:flex;flex-direction:row;flex-wrap:nowrap}.ck.ck-text-alternative-form .ck-labeled-input{display:inline-block}.ck.ck-text-alternative-form .ck-label{display:none}@media screen and (max-width:600px){.ck.ck-text-alternative-form{flex-wrap:wrap}.ck.ck-text-alternative-form .ck-labeled-input{flex-basis:100%}.ck.ck-text-alternative-form .ck-button{flex-basis:50%}}.ck.ck-text-alternative-form{padding:var(--ck-spacing-standard)}.ck.ck-text-alternative-form:focus{outline:none}[dir=ltr] .ck.ck-text-alternative-form>:not(:first-child),[dir=rtl] .ck.ck-text-alternative-form>:not(:last-child){margin-left:var(--ck-spacing-standard)}@media screen and (max-width:600px){.ck.ck-text-alternative-form{padding:0;width:calc(0.8*var(--ck-input-text-width))}.ck.ck-text-alternative-form .ck-labeled-input{margin:var(--ck-spacing-standard) var(--ck-spacing-standard) 0}.ck.ck-text-alternative-form .ck-labeled-input .ck-input-text{min-width:0;width:100%}.ck.ck-text-alternative-form .ck-button{padding:var(--ck-spacing-standard);margin-top:var(--ck-spacing-standard);border-radius:0;border:0;border-top:1px solid var(--ck-color-base-border)}[dir=ltr] .ck.ck-text-alternative-form .ck-button{margin-left:0}[dir=ltr] .ck.ck-text-alternative-form .ck-button:first-of-type{border-right:1px solid var(--ck-color-base-border)}[dir=rtl] .ck.ck-text-alternative-form .ck-button{margin-left:0}[dir=rtl] .ck.ck-text-alternative-form .ck-button:last-of-type{border-right:1px solid var(--ck-color-base-border)}}"; }, function (t, e, n) { var i = n(169); "string" == typeof i && (i = [[t.i, i, ""]]); var o = { injectType: "singletonStyleTag", insert: "head", singleton: !0 }; n(1)(i, o); i.locals && (t.exports = i.locals); }, function (t, e) { t.exports = ':root{--ck-balloon-panel-arrow-z-index:calc(var(--ck-z-default) - 3)}.ck.ck-balloon-panel{display:none;position:absolute;z-index:var(--ck-z-modal)}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:after,.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:before{content:"";position:absolute}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:before{z-index:var(--ck-balloon-panel-arrow-z-index)}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:after{z-index:calc(var(--ck-balloon-panel-arrow-z-index) + 1)}.ck.ck-balloon-panel[class*=arrow_n]:before{z-index:var(--ck-balloon-panel-arrow-z-index)}.ck.ck-balloon-panel[class*=arrow_n]:after{z-index:calc(var(--ck-balloon-panel-arrow-z-index) + 1)}.ck.ck-balloon-panel[class*=arrow_s]:before{z-index:var(--ck-balloon-panel-arrow-z-index)}.ck.ck-balloon-panel[class*=arrow_s]:after{z-index:calc(var(--ck-balloon-panel-arrow-z-index) + 1)}.ck.ck-balloon-panel.ck-balloon-panel_visible{display:block}:root{--ck-balloon-arrow-offset:2px;--ck-balloon-arrow-height:10px;--ck-balloon-arrow-half-width:8px}.ck.ck-balloon-panel{border-radius:0}.ck-rounded-corners .ck.ck-balloon-panel,.ck.ck-balloon-panel.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-balloon-panel{box-shadow:var(--ck-drop-shadow),0 0;min-height:15px;background:var(--ck-color-panel-background);border:1px solid var(--ck-color-panel-border)}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:after,.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:before{width:0;height:0;border-style:solid}.ck.ck-balloon-panel[class*=arrow_n]:after,.ck.ck-balloon-panel[class*=arrow_n]:before{border-left-width:var(--ck-balloon-arrow-half-width);border-bottom-width:var(--ck-balloon-arrow-height);border-right-width:var(--ck-balloon-arrow-half-width);border-top-width:0}.ck.ck-balloon-panel[class*=arrow_n]:before{border-bottom-color:var(--ck-color-panel-border)}.ck.ck-balloon-panel[class*=arrow_n]:after,.ck.ck-balloon-panel[class*=arrow_n]:before{border-left-color:transparent;border-right-color:transparent;border-top-color:transparent}.ck.ck-balloon-panel[class*=arrow_n]:after{border-bottom-color:var(--ck-color-panel-background);margin-top:var(--ck-balloon-arrow-offset)}.ck.ck-balloon-panel[class*=arrow_s]:after,.ck.ck-balloon-panel[class*=arrow_s]:before{border-left-width:var(--ck-balloon-arrow-half-width);border-bottom-width:0;border-right-width:var(--ck-balloon-arrow-half-width);border-top-width:var(--ck-balloon-arrow-height)}.ck.ck-balloon-panel[class*=arrow_s]:before{border-top-color:var(--ck-color-panel-border)}.ck.ck-balloon-panel[class*=arrow_s]:after,.ck.ck-balloon-panel[class*=arrow_s]:before{border-left-color:transparent;border-bottom-color:transparent;border-right-color:transparent}.ck.ck-balloon-panel[class*=arrow_s]:after{border-top-color:var(--ck-color-panel-background);margin-bottom:var(--ck-balloon-arrow-offset)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_n:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_n:before{left:50%;margin-left:calc(-1*var(--ck-balloon-arrow-half-width));top:calc(-1*var(--ck-balloon-arrow-height))}.ck.ck-balloon-panel.ck-balloon-panel_arrow_nw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_nw:before{left:calc(2*var(--ck-balloon-arrow-half-width));top:calc(-1*var(--ck-balloon-arrow-height))}.ck.ck-balloon-panel.ck-balloon-panel_arrow_ne:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_ne:before{right:calc(2*var(--ck-balloon-arrow-half-width));top:calc(-1*var(--ck-balloon-arrow-height))}.ck.ck-balloon-panel.ck-balloon-panel_arrow_s:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_s:before{left:50%;margin-left:calc(-1*var(--ck-balloon-arrow-half-width));bottom:calc(-1*var(--ck-balloon-arrow-height))}.ck.ck-balloon-panel.ck-balloon-panel_arrow_sw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_sw:before{left:calc(2*var(--ck-balloon-arrow-half-width));bottom:calc(-1*var(--ck-balloon-arrow-height))}.ck.ck-balloon-panel.ck-balloon-panel_arrow_se:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_se:before{right:calc(2*var(--ck-balloon-arrow-half-width));bottom:calc(-1*var(--ck-balloon-arrow-height))}'; }, function (t, e, n) { var i = n(171); "string" == typeof i && (i = [[t.i, i, ""]]); var o = { injectType: "singletonStyleTag", insert: "head", singleton: !0 }; n(1)(i, o); i.locals && (t.exports = i.locals); }, function (t, e) { t.exports = ".ck .ck-balloon-rotator__navigation{display:flex;align-items:center;justify-content:center}.ck .ck-balloon-rotator__content .ck-toolbar{justify-content:center}.ck .ck-balloon-rotator__navigation{background:var(--ck-color-toolbar-background);border-bottom:1px solid var(--ck-color-toolbar-border);padding:0 var(--ck-spacing-small)}.ck .ck-balloon-rotator__navigation>*{margin-right:var(--ck-spacing-small);margin-top:var(--ck-spacing-small);margin-bottom:var(--ck-spacing-small)}.ck .ck-balloon-rotator__navigation .ck-balloon-rotator__counter{margin-right:var(--ck-spacing-standard);margin-left:var(--ck-spacing-small)}.ck .ck-balloon-rotator__content .ck.ck-annotation-wrapper{box-shadow:none}"; }, function (t, e, n) { var i = n(173); "string" == typeof i && (i = [[t.i, i, ""]]); var o = { injectType: "singletonStyleTag", insert: "head", singleton: !0 }; n(1)(i, o); i.locals && (t.exports = i.locals); }, function (t, e) { t.exports = ".ck .ck-fake-panel{position:absolute;z-index:calc(var(--ck-z-modal) - 1)}.ck .ck-fake-panel div{position:absolute}.ck .ck-fake-panel div:first-child{z-index:2}.ck .ck-fake-panel div:nth-child(2){z-index:1}:root{--ck-balloon-fake-panel-offset-horizontal:6px;--ck-balloon-fake-panel-offset-vertical:6px}.ck .ck-fake-panel div{box-shadow:var(--ck-drop-shadow),0 0;min-height:15px;background:var(--ck-color-panel-background);border:1px solid var(--ck-color-panel-border);border-radius:var(--ck-border-radius);width:100%;height:100%}.ck .ck-fake-panel div:first-child{margin-left:var(--ck-balloon-fake-panel-offset-horizontal);margin-top:var(--ck-balloon-fake-panel-offset-vertical)}.ck .ck-fake-panel div:nth-child(2){margin-left:calc(var(--ck-balloon-fake-panel-offset-horizontal)*2);margin-top:calc(var(--ck-balloon-fake-panel-offset-vertical)*2)}.ck .ck-fake-panel div:nth-child(3){margin-left:calc(var(--ck-balloon-fake-panel-offset-horizontal)*3);margin-top:calc(var(--ck-balloon-fake-panel-offset-vertical)*3)}.ck .ck-balloon-panel_arrow_s+.ck-fake-panel,.ck .ck-balloon-panel_arrow_se+.ck-fake-panel,.ck .ck-balloon-panel_arrow_sw+.ck-fake-panel{--ck-balloon-fake-panel-offset-vertical:-6px}"; }, function (t, e, n) { var i = n(175); "string" == typeof i && (i = [[t.i, i, ""]]); var o = { injectType: "singletonStyleTag", insert: "head", singleton: !0 }; n(1)(i, o); i.locals && (t.exports = i.locals); }, function (t, e) { t.exports = ".ck-content .image{display:table;clear:both;text-align:center;margin:1em auto}.ck-content .image>img{display:block;margin:0 auto;max-width:100%;min-width:50px}"; }, function (t, e, n) { var i = n(177); "string" == typeof i && (i = [[t.i, i, ""]]); var o = { injectType: "singletonStyleTag", insert: "head", singleton: !0 }; n(1)(i, o); i.locals && (t.exports = i.locals); }, function (t, e) { t.exports = ".ck.ck-editor__editable .image{position:relative}.ck.ck-editor__editable .image .ck-progress-bar{position:absolute;top:0;left:0}.ck.ck-editor__editable .image.ck-appear{animation:fadeIn .7s}.ck.ck-editor__editable .image .ck-progress-bar{height:2px;width:0;background:var(--ck-color-upload-bar-background);transition:width .1s}@keyframes fadeIn{0%{opacity:0}to{opacity:1}}"; }, function (t, e, n) { var i = n(179); "string" == typeof i && (i = [[t.i, i, ""]]); var o = { injectType: "singletonStyleTag", insert: "head", singleton: !0 }; n(1)(i, o); i.locals && (t.exports = i.locals); }, function (t, e) { t.exports = '.ck-image-upload-complete-icon{display:block;position:absolute;top:10px;right:10px;border-radius:50%}.ck-image-upload-complete-icon:after{content:"";position:absolute}:root{--ck-color-image-upload-icon:#fff;--ck-color-image-upload-icon-background:#008a00;--ck-image-upload-icon-size:20px;--ck-image-upload-icon-width:2px}.ck-image-upload-complete-icon{width:var(--ck-image-upload-icon-size);height:var(--ck-image-upload-icon-size);opacity:0;background:var(--ck-color-image-upload-icon-background);animation-name:ck-upload-complete-icon-show,ck-upload-complete-icon-hide;animation-fill-mode:forwards,forwards;animation-duration:.5s,.5s;font-size:var(--ck-image-upload-icon-size);animation-delay:0ms,3s}.ck-image-upload-complete-icon:after{left:25%;top:50%;opacity:0;height:0;width:0;transform:scaleX(-1) rotate(135deg);transform-origin:left top;border-top:var(--ck-image-upload-icon-width) solid var(--ck-color-image-upload-icon);border-right:var(--ck-image-upload-icon-width) solid var(--ck-color-image-upload-icon);animation-name:ck-upload-complete-icon-check;animation-duration:.5s;animation-delay:.5s;animation-fill-mode:forwards;box-sizing:border-box}@keyframes ck-upload-complete-icon-show{0%{opacity:0}to{opacity:1}}@keyframes ck-upload-complete-icon-hide{0%{opacity:1}to{opacity:0}}@keyframes ck-upload-complete-icon-check{0%{opacity:1;width:0;height:0}33%{width:.3em;height:0}to{opacity:1;width:.3em;height:.45em}}'; }, function (t, e, n) { var i = n(181); "string" == typeof i && (i = [[t.i, i, ""]]); var o = { injectType: "singletonStyleTag", insert: "head", singleton: !0 }; n(1)(i, o); i.locals && (t.exports = i.locals); }, function (t, e) { t.exports = '.ck .ck-upload-placeholder-loader{position:absolute;display:flex;align-items:center;justify-content:center;top:0;left:0}.ck .ck-upload-placeholder-loader:before{content:"";position:relative}:root{--ck-color-upload-placeholder-loader:#b3b3b3;--ck-upload-placeholder-loader-size:32px}.ck .ck-image-upload-placeholder{width:100%;margin:0}.ck .ck-upload-placeholder-loader{width:100%;height:100%}.ck .ck-upload-placeholder-loader:before{width:var(--ck-upload-placeholder-loader-size);height:var(--ck-upload-placeholder-loader-size);border-radius:50%;border-top:3px solid var(--ck-color-upload-placeholder-loader);border-right:2px solid transparent;animation:ck-upload-placeholder-loader 1s linear infinite}@keyframes ck-upload-placeholder-loader{to{transform:rotate(1turn)}}'; }, function (t, e) { t.exports = ".ck.ck-heading_heading1{font-size:20px}.ck.ck-heading_heading2{font-size:17px}.ck.ck-heading_heading3{font-size:14px}.ck[class*=ck-heading_heading]{font-weight:700}.ck.ck-dropdown.ck-heading-dropdown .ck-dropdown__button .ck-button__label{width:8em}.ck.ck-dropdown.ck-heading-dropdown .ck-dropdown__panel .ck-list__item{min-width:18em}"; }, function (t, e, n) { var i = n(184); "string" == typeof i && (i = [[t.i, i, ""]]); var o = { injectType: "singletonStyleTag", insert: "head", singleton: !0 }; n(1)(i, o); i.locals && (t.exports = i.locals); }, function (t, e) { t.exports = ".ck-content .image>figcaption{display:table-caption;caption-side:bottom;word-break:break-word;color:#333;background-color:#f7f7f7;padding:.6em;font-size:.75em;outline-offset:-1px}"; }, function (t, e, n) { var i = n(186); "string" == typeof i && (i = [[t.i, i, ""]]); var o = { injectType: "singletonStyleTag", insert: "head", singleton: !0 }; n(1)(i, o); i.locals && (t.exports = i.locals); }, function (t, e) { t.exports = ".ck .ck-widget_with-resizer{position:relative}.ck .ck-widget__resizer{display:none;position:absolute;pointer-events:none;left:0;top:0;outline:1px solid var(--ck-color-resizer)}.ck-focused .ck-widget_with-resizer.ck-widget_selected>.ck-widget__resizer{display:block}.ck .ck-widget__resizer__handle{position:absolute;pointer-events:all;width:var(--ck-resizer-size);height:var(--ck-resizer-size);background:var(--ck-color-focus-border);border:var(--ck-resizer-border-width) solid #fff;border-radius:var(--ck-resizer-border-radius)}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-top-left{top:var(--ck-resizer-offset);left:var(--ck-resizer-offset);cursor:nwse-resize}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-top-right{top:var(--ck-resizer-offset);right:var(--ck-resizer-offset);cursor:nesw-resize}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-bottom-right{bottom:var(--ck-resizer-offset);right:var(--ck-resizer-offset);cursor:nwse-resize}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-bottom-left{bottom:var(--ck-resizer-offset);left:var(--ck-resizer-offset);cursor:nesw-resize}"; }, function (t, e, n) { var i = n(188); "string" == typeof i && (i = [[t.i, i, ""]]); var o = { injectType: "singletonStyleTag", insert: "head", singleton: !0 }; n(1)(i, o); i.locals && (t.exports = i.locals); }, function (t, e) { t.exports = ".ck-content .image.image_resized{max-width:100%;display:block;box-sizing:border-box}.ck-content .image.image_resized img{width:100%}.ck-content .image.image_resized>figcaption{display:block}"; }, function (t, e, n) { var i = n(190); "string" == typeof i && (i = [[t.i, i, ""]]); var o = { injectType: "singletonStyleTag", insert: "head", singleton: !0 }; n(1)(i, o); i.locals && (t.exports = i.locals); }, function (t, e) { t.exports = ":root{--ck-image-style-spacing:1.5em}.ck-content .image-style-align-center,.ck-content .image-style-align-left,.ck-content .image-style-align-right,.ck-content .image-style-side{max-width:50%}.ck-content .image-style-side{float:right;margin-left:var(--ck-image-style-spacing)}.ck-content .image-style-align-left{float:left;margin-right:var(--ck-image-style-spacing)}.ck-content .image-style-align-center{margin-left:auto;margin-right:auto}.ck-content .image-style-align-right{float:right;margin-left:var(--ck-image-style-spacing)}"; }, function (t, e, n) { var i = n(192); "string" == typeof i && (i = [[t.i, i, ""]]); var o = { injectType: "singletonStyleTag", insert: "head", singleton: !0 }; n(1)(i, o); i.locals && (t.exports = i.locals); }, function (t, e) { t.exports = ".ck.ck-link-form{display:flex}.ck.ck-link-form .ck-label{display:none}@media screen and (max-width:600px){.ck.ck-link-form{flex-wrap:wrap}.ck.ck-link-form .ck-labeled-input{flex-basis:100%}.ck.ck-link-form .ck-button{flex-basis:50%}}.ck.ck-link-form_layout-vertical{display:block}.ck.ck-link-form{padding:var(--ck-spacing-standard)}.ck.ck-link-form:focus{outline:none}[dir=ltr] .ck.ck-link-form>:not(:first-child),[dir=rtl] .ck.ck-link-form>:not(:last-child){margin-left:var(--ck-spacing-standard)}@media screen and (max-width:600px){.ck.ck-link-form{padding:0;width:calc(0.8*var(--ck-input-text-width))}.ck.ck-link-form .ck-labeled-input{margin:var(--ck-spacing-standard) var(--ck-spacing-standard) 0}.ck.ck-link-form .ck-labeled-input .ck-input-text{min-width:0;width:100%}.ck.ck-link-form .ck-button{padding:var(--ck-spacing-standard);margin-top:var(--ck-spacing-standard);border-radius:0;border:0;border-top:1px solid var(--ck-color-base-border)}[dir=ltr] .ck.ck-link-form .ck-button{margin-left:0}[dir=ltr] .ck.ck-link-form .ck-button:first-of-type{border-right:1px solid var(--ck-color-base-border)}[dir=rtl] .ck.ck-link-form .ck-button{margin-left:0}[dir=rtl] .ck.ck-link-form .ck-button:last-of-type{border-right:1px solid var(--ck-color-base-border)}}.ck.ck-link-form_layout-vertical{padding:0;min-width:var(--ck-input-text-width)}.ck.ck-link-form_layout-vertical .ck-labeled-input{margin:var(--ck-spacing-standard) var(--ck-spacing-standard) var(--ck-spacing-small)}.ck.ck-link-form_layout-vertical .ck-labeled-input .ck-input-text{min-width:0;width:100%}.ck.ck-link-form_layout-vertical .ck-button{padding:var(--ck-spacing-standard);margin:0;border-radius:0;border:0;border-top:1px solid var(--ck-color-base-border);width:50%}[dir=ltr] .ck.ck-link-form_layout-vertical .ck-button{margin-left:0}[dir=ltr] .ck.ck-link-form_layout-vertical .ck-button:first-of-type{border-right:1px solid var(--ck-color-base-border)}[dir=rtl] .ck.ck-link-form_layout-vertical .ck-button{margin-left:0}[dir=rtl] .ck.ck-link-form_layout-vertical .ck-button:last-of-type{border-right:1px solid var(--ck-color-base-border)}.ck.ck-link-form_layout-vertical .ck.ck-list{margin-left:0}.ck.ck-link-form_layout-vertical .ck.ck-list .ck-button.ck-switchbutton{border:0;width:100%}.ck.ck-link-form_layout-vertical .ck.ck-list .ck-button.ck-switchbutton:hover{background:none}"; }, function (t, e, n) { var i = n(194); "string" == typeof i && (i = [[t.i, i, ""]]); var o = { injectType: "singletonStyleTag", insert: "head", singleton: !0 }; n(1)(i, o); i.locals && (t.exports = i.locals); }, function (t, e) { t.exports = ".ck.ck-link-actions{display:flex;flex-direction:row;flex-wrap:nowrap}.ck.ck-link-actions .ck-link-actions__preview{display:inline-block}.ck.ck-link-actions .ck-link-actions__preview .ck-button__label{overflow:hidden}@media screen and (max-width:600px){.ck.ck-link-actions{flex-wrap:wrap}.ck.ck-link-actions .ck-link-actions__preview{flex-basis:100%}.ck.ck-link-actions .ck-button:not(.ck-link-actions__preview){flex-basis:50%}}.ck.ck-link-actions{padding:var(--ck-spacing-standard)}.ck.ck-link-actions .ck-button.ck-link-actions__preview{padding-left:0;padding-right:0}.ck.ck-link-actions .ck-button.ck-link-actions__preview .ck-button__label{padding:0 var(--ck-spacing-medium);color:var(--ck-color-link-default);text-overflow:ellipsis;cursor:pointer;max-width:var(--ck-input-text-width);min-width:3em;text-align:center}.ck.ck-link-actions .ck-button.ck-link-actions__preview .ck-button__label:hover{text-decoration:underline}.ck.ck-link-actions .ck-button.ck-link-actions__preview,.ck.ck-link-actions .ck-button.ck-link-actions__preview:active,.ck.ck-link-actions .ck-button.ck-link-actions__preview:focus,.ck.ck-link-actions .ck-button.ck-link-actions__preview:hover{background:none}.ck.ck-link-actions .ck-button.ck-link-actions__preview:active{box-shadow:none}.ck.ck-link-actions .ck-button.ck-link-actions__preview:focus .ck-button__label{text-decoration:underline}.ck.ck-link-actions:focus{outline:none}[dir=ltr] .ck.ck-link-actions .ck-button:not(:first-child),[dir=rtl] .ck.ck-link-actions .ck-button:not(:last-child){margin-left:var(--ck-spacing-standard)}@media screen and (max-width:600px){.ck.ck-link-actions{padding:0;width:calc(0.8*var(--ck-input-text-width))}.ck.ck-link-actions .ck-button.ck-link-actions__preview{margin:var(--ck-spacing-standard) var(--ck-spacing-standard) 0}.ck.ck-link-actions .ck-button.ck-link-actions__preview .ck-button__label{min-width:0;max-width:100%}.ck.ck-link-actions .ck-button:not(.ck-link-actions__preview){padding:var(--ck-spacing-standard);margin-top:var(--ck-spacing-standard);border-radius:0;border:0;border-top:1px solid var(--ck-color-base-border)}[dir=ltr] .ck.ck-link-actions .ck-button:not(.ck-link-actions__preview){margin-left:0}[dir=ltr] .ck.ck-link-actions .ck-button:not(.ck-link-actions__preview):first-of-type{border-right:1px solid var(--ck-color-base-border)}[dir=rtl] .ck.ck-link-actions .ck-button:not(.ck-link-actions__preview){margin-left:0}[dir=rtl] .ck.ck-link-actions .ck-button:not(.ck-link-actions__preview):last-of-type{border-right:1px solid var(--ck-color-base-border)}}"; }, function (t, e, n) { var i = n(196); "string" == typeof i && (i = [[t.i, i, ""]]); var o = { injectType: "singletonStyleTag", insert: "head", singleton: !0 }; n(1)(i, o); i.locals && (t.exports = i.locals); }, function (t, e) { t.exports = '.ck-media__wrapper .ck-media__placeholder{display:flex;flex-direction:column;align-items:center}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url .ck-tooltip{display:block}@media (hover:none){.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url .ck-tooltip{display:none}}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url{max-width:100%;position:relative}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url:hover .ck-tooltip{visibility:visible;opacity:1}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url .ck-media__placeholder__url__text{overflow:hidden;display:block}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="google.com/maps"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck-media__placeholder__icon *{display:none}.ck-editor__editable:not(.ck-read-only) .ck-media__wrapper>:not(.ck-media__placeholder),.ck-editor__editable:not(.ck-read-only) .ck-widget:not(.ck-widget_selected) .ck-media__placeholder{pointer-events:none}:root{--ck-media-embed-placeholder-icon-size:3em;--ck-color-media-embed-placeholder-url-text:#757575;--ck-color-media-embed-placeholder-url-text-hover:var(--ck-color-base-text)}.ck-media__wrapper{margin:0 auto}.ck-media__wrapper .ck-media__placeholder{padding:calc(3*var(--ck-spacing-standard));background:var(--ck-color-base-foreground)}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__icon{min-width:var(--ck-media-embed-placeholder-icon-size);height:var(--ck-media-embed-placeholder-icon-size);margin-bottom:var(--ck-spacing-large);background-position:50%;background-size:cover}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__icon .ck-icon{width:100%;height:100%}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url__text{color:var(--ck-color-media-embed-placeholder-url-text);white-space:nowrap;text-align:center;font-style:italic;text-overflow:ellipsis}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url__text:hover{color:var(--ck-color-media-embed-placeholder-url-text-hover);cursor:pointer;text-decoration:underline}.ck-media__wrapper[data-oembed-url*="open.spotify.com"]{max-width:300px;max-height:380px}.ck-media__wrapper[data-oembed-url*="google.com/maps"] .ck-media__placeholder__icon{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNTAuMzc4IiBoZWlnaHQ9IjI1NC4xNjciIHZpZXdCb3g9IjAgMCA2Ni4yNDYgNjcuMjQ4Ij48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMTcyLjUzMSAtMjE4LjQ1NSkgc2NhbGUoLjk4MDEyKSI+PHJlY3Qgcnk9IjUuMjM4IiByeD0iNS4yMzgiIHk9IjIzMS4zOTkiIHg9IjE3Ni4wMzEiIGhlaWdodD0iNjAuMDk5IiB3aWR0aD0iNjAuMDk5IiBmaWxsPSIjMzRhNjY4IiBwYWludC1vcmRlcj0ibWFya2VycyBzdHJva2UgZmlsbCIvPjxwYXRoIGQ9Ik0yMDYuNDc3IDI2MC45bC0yOC45ODcgMjguOTg3YTUuMjE4IDUuMjE4IDAgMDAzLjc4IDEuNjFoNDkuNjIxYzEuNjk0IDAgMy4xOS0uNzk4IDQuMTQ2LTIuMDM3eiIgZmlsbD0iIzVjODhjNSIvPjxwYXRoIGQ9Ik0yMjYuNzQyIDIyMi45ODhjLTkuMjY2IDAtMTYuNzc3IDcuMTctMTYuNzc3IDE2LjAxNC4wMDcgMi43NjIuNjYzIDUuNDc0IDIuMDkzIDcuODc1LjQzLjcwMy44MyAxLjQwOCAxLjE5IDIuMTA3LjMzMy41MDIuNjUgMS4wMDUuOTUgMS41MDguMzQzLjQ3Ny42NzMuOTU3Ljk4OCAxLjQ0IDEuMzEgMS43NjkgMi41IDMuNTAyIDMuNjM3IDUuMTY4Ljc5MyAxLjI3NSAxLjY4MyAyLjY0IDIuNDY2IDMuOTkgMi4zNjMgNC4wOTQgNC4wMDcgOC4wOTIgNC42IDEzLjkxNHYuMDEyYy4xODIuNDEyLjUxNi42NjYuODc5LjY2Ny40MDMtLjAwMS43NjgtLjMxNC45My0uNzk5LjYwMy01Ljc1NiAyLjIzOC05LjcyOSA0LjU4NS0xMy43OTQuNzgyLTEuMzUgMS42NzMtMi43MTUgMi40NjUtMy45OSAxLjEzNy0xLjY2NiAyLjMyOC0zLjQgMy42MzgtNS4xNjkuMzE1LS40ODIuNjQ1LS45NjIuOTg4LTEuNDM5LjMtLjUwMy42MTctMS4wMDYuOTUtMS41MDguMzU5LS43Ljc2LTEuNDA0IDEuMTktMi4xMDcgMS40MjYtMi40MDIgMi01LjExNCAyLjAwNC03Ljg3NSAwLTguODQ0LTcuNTExLTE2LjAxNC0xNi43NzYtMTYuMDE0eiIgZmlsbD0iI2RkNGIzZSIgcGFpbnQtb3JkZXI9Im1hcmtlcnMgc3Ryb2tlIGZpbGwiLz48ZWxsaXBzZSByeT0iNS41NjQiIHJ4PSI1LjgyOCIgY3k9IjIzOS4wMDIiIGN4PSIyMjYuNzQyIiBmaWxsPSIjODAyZDI3IiBwYWludC1vcmRlcj0ibWFya2VycyBzdHJva2UgZmlsbCIvPjxwYXRoIGQ9Ik0xOTAuMzAxIDIzNy4yODNjLTQuNjcgMC04LjQ1NyAzLjg1My04LjQ1NyA4LjYwNnMzLjc4NiA4LjYwNyA4LjQ1NyA4LjYwN2MzLjA0MyAwIDQuODA2LS45NTggNi4zMzctMi41MTYgMS41My0xLjU1NyAyLjA4Ny0zLjkxMyAyLjA4Ny02LjI5IDAtLjM2Mi0uMDIzLS43MjItLjA2NC0xLjA3OWgtOC4yNTd2My4wNDNoNC44NWMtLjE5Ny43NTktLjUzMSAxLjQ1LTEuMDU4IDEuOTg2LS45NDIuOTU4LTIuMDI4IDEuNTQ4LTMuOTAxIDEuNTQ4LTIuODc2IDAtNS4yMDgtMi4zNzItNS4yMDgtNS4yOTkgMC0yLjkyNiAyLjMzMi01LjI5OSA1LjIwOC01LjI5OSAxLjM5OSAwIDIuNjE4LjQwNyAzLjU4NCAxLjI5M2wyLjM4MS0yLjM4YzAtLjAwMi0uMDAzLS4wMDQtLjAwNC0uMDA1LTEuNTg4LTEuNTI0LTMuNjItMi4yMTUtNS45NTUtMi4yMTV6bTQuNDMgNS42NmwuMDAzLjAwNnYtLjAwM3oiIGZpbGw9IiNmZmYiIHBhaW50LW9yZGVyPSJtYXJrZXJzIHN0cm9rZSBmaWxsIi8+PHBhdGggZD0iTTIxNS4xODQgMjUxLjkyOWwtNy45OCA3Ljk3OSAyOC40NzcgMjguNDc1YTUuMjMzIDUuMjMzIDAgMDAuNDQ5LTIuMTIzdi0zMS4xNjVjLS40NjkuNjc1LS45MzQgMS4zNDktMS4zODIgMi4wMDUtLjc5MiAxLjI3NS0xLjY4MiAyLjY0LTIuNDY1IDMuOTktMi4zNDcgNC4wNjUtMy45ODIgOC4wMzgtNC41ODUgMTMuNzk0LS4xNjIuNDg1LS41MjcuNzk4LS45My43OTktLjM2My0uMDAxLS42OTctLjI1NS0uODc5LS42Njd2LS4wMTJjLS41OTMtNS44MjItMi4yMzctOS44Mi00LjYtMTMuOTE0LS43ODMtMS4zNS0xLjY3My0yLjcxNS0yLjQ2Ni0zLjk5LTEuMTM3LTEuNjY2LTIuMzI3LTMuNC0zLjYzNy01LjE2OWwtLjAwMi0uMDAzeiIgZmlsbD0iI2MzYzNjMyIvPjxwYXRoIGQ9Ik0yMTIuOTgzIDI0OC40OTVsLTM2Ljk1MiAzNi45NTN2LjgxMmE1LjIyNyA1LjIyNyAwIDAwNS4yMzggNS4yMzhoMS4wMTVsMzUuNjY2LTM1LjY2NmExMzYuMjc1IDEzNi4yNzUgMCAwMC0yLjc2NC0zLjkgMzcuNTc1IDM3LjU3NSAwIDAwLS45ODktMS40NCAzNS4xMjcgMzUuMTI3IDAgMDAtLjk1LTEuNTA4Yy0uMDgzLS4xNjItLjE3Ni0uMzI2LS4yNjQtLjQ4OXoiIGZpbGw9IiNmZGRjNGYiIHBhaW50LW9yZGVyPSJtYXJrZXJzIHN0cm9rZSBmaWxsIi8+PHBhdGggZD0iTTIxMS45OTggMjYxLjA4M2wtNi4xNTIgNi4xNTEgMjQuMjY0IDI0LjI2NGguNzgxYTUuMjI3IDUuMjI3IDAgMDA1LjIzOS01LjIzOHYtMS4wNDV6IiBmaWxsPSIjZmZmIiBwYWludC1vcmRlcj0ibWFya2VycyBzdHJva2UgZmlsbCIvPjwvZz48L3N2Zz4=)}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder{background:#4268b3}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder .ck-media__placeholder__icon{background-image:url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTAyNCIgaGVpZ2h0PSIxMDI0IiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPjxwYXRoIGQ9Ik05NjcuNDg0IDBINTYuNTE3QzI1LjMwNCAwIDAgMjUuMzA0IDAgNTYuNTE3djkxMC45NjZDMCA5OTguNjk0IDI1LjI5NyAxMDI0IDU2LjUyMiAxMDI0SDU0N1Y2MjhINDE0VjQ3M2gxMzNWMzU5LjAyOWMwLTEzMi4yNjIgODAuNzczLTIwNC4yODIgMTk4Ljc1Ni0yMDQuMjgyIDU2LjUxMyAwIDEwNS4wODYgNC4yMDggMTE5LjI0NCA2LjA4OVYyOTlsLTgxLjYxNi4wMzdjLTYzLjk5MyAwLTc2LjM4NCAzMC40OTItNzYuMzg0IDc1LjIzNlY0NzNoMTUzLjQ4N2wtMTkuOTg2IDE1NUg3MDd2Mzk2aDI2MC40ODRjMzEuMjEzIDAgNTYuNTE2LTI1LjMwMyA1Ni41MTYtNTYuNTE2VjU2LjUxNUMxMDI0IDI1LjMwMyA5OTguNjk3IDAgOTY3LjQ4NCAwIiBmaWxsPSIjRkZGRkZFIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiLz48L3N2Zz4=)}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder .ck-media__placeholder__url__text{color:#cdf}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder .ck-media__placeholder__url__text:hover{color:#fff}.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder{background:linear-gradient(-135deg,#1400c8,#b900b4,#f50000)}.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder .ck-media__placeholder__icon{background-image:url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNTA0IiBoZWlnaHQ9IjUwNCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+PGRlZnM+PHBhdGggaWQ9ImEiIGQ9Ik0wIC4xNTloNTAzLjg0MVY1MDMuOTRIMHoiLz48L2RlZnM+PGcgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj48bWFzayBpZD0iYiIgZmlsbD0iI2ZmZiI+PHVzZSB4bGluazpocmVmPSIjYSIvPjwvbWFzaz48cGF0aCBkPSJNMjUxLjkyMS4xNTljLTY4LjQxOCAwLTc2Ljk5Ny4yOS0xMDMuODY3IDEuNTE2LTI2LjgxNCAxLjIyMy00NS4xMjcgNS40ODItNjEuMTUxIDExLjcxLTE2LjU2NiA2LjQzNy0zMC42MTUgMTUuMDUxLTQ0LjYyMSAyOS4wNTYtMTQuMDA1IDE0LjAwNi0yMi42MTkgMjguMDU1LTI5LjA1NiA0NC42MjEtNi4yMjggMTYuMDI0LTEwLjQ4NyAzNC4zMzctMTEuNzEgNjEuMTUxQy4yOSAxNzUuMDgzIDAgMTgzLjY2MiAwIDI1Mi4wOGMwIDY4LjQxNy4yOSA3Ni45OTYgMS41MTYgMTAzLjg2NiAxLjIyMyAyNi44MTQgNS40ODIgNDUuMTI3IDExLjcxIDYxLjE1MSA2LjQzNyAxNi41NjYgMTUuMDUxIDMwLjYxNSAyOS4wNTYgNDQuNjIxIDE0LjAwNiAxNC4wMDUgMjguMDU1IDIyLjYxOSA0NC42MjEgMjkuMDU3IDE2LjAyNCA2LjIyNyAzNC4zMzcgMTAuNDg2IDYxLjE1MSAxMS43MDkgMjYuODcgMS4yMjYgMzUuNDQ5IDEuNTE2IDEwMy44NjcgMS41MTYgNjguNDE3IDAgNzYuOTk2LS4yOSAxMDMuODY2LTEuNTE2IDI2LjgxNC0xLjIyMyA0NS4xMjctNS40ODIgNjEuMTUxLTExLjcwOSAxNi41NjYtNi40MzggMzAuNjE1LTE1LjA1MiA0NC42MjEtMjkuMDU3IDE0LjAwNS0xNC4wMDYgMjIuNjE5LTI4LjA1NSAyOS4wNTctNDQuNjIxIDYuMjI3LTE2LjAyNCAxMC40ODYtMzQuMzM3IDExLjcwOS02MS4xNTEgMS4yMjYtMjYuODcgMS41MTYtMzUuNDQ5IDEuNTE2LTEwMy44NjYgMC02OC40MTgtLjI5LTc2Ljk5Ny0xLjUxNi0xMDMuODY3LTEuMjIzLTI2LjgxNC01LjQ4Mi00NS4xMjctMTEuNzA5LTYxLjE1MS02LjQzOC0xNi41NjYtMTUuMDUyLTMwLjYxNS0yOS4wNTctNDQuNjIxLTE0LjAwNi0xNC4wMDUtMjguMDU1LTIyLjYxOS00NC42MjEtMjkuMDU2LTE2LjAyNC02LjIyOC0zNC4zMzctMTAuNDg3LTYxLjE1MS0xMS43MUMzMjguOTE3LjQ0OSAzMjAuMzM4LjE1OSAyNTEuOTIxLjE1OXptMCA0NS4zOTFjNjcuMjY1IDAgNzUuMjMzLjI1NyAxMDEuNzk3IDEuNDY5IDI0LjU2MiAxLjEyIDM3LjkwMSA1LjIyNCA0Ni43NzggOC42NzQgMTEuNzU5IDQuNTcgMjAuMTUxIDEwLjAyOSAyOC45NjYgMTguODQ1IDguODE2IDguODE1IDE0LjI3NSAxNy4yMDcgMTguODQ1IDI4Ljk2NiAzLjQ1IDguODc3IDcuNTU0IDIyLjIxNiA4LjY3NCA0Ni43NzggMS4yMTIgMjYuNTY0IDEuNDY5IDM0LjUzMiAxLjQ2OSAxMDEuNzk4IDAgNjcuMjY1LS4yNTcgNzUuMjMzLTEuNDY5IDEwMS43OTctMS4xMiAyNC41NjItNS4yMjQgMzcuOTAxLTguNjc0IDQ2Ljc3OC00LjU3IDExLjc1OS0xMC4wMjkgMjAuMTUxLTE4Ljg0NSAyOC45NjYtOC44MTUgOC44MTYtMTcuMjA3IDE0LjI3NS0yOC45NjYgMTguODQ1LTguODc3IDMuNDUtMjIuMjE2IDcuNTU0LTQ2Ljc3OCA4LjY3NC0yNi41NiAxLjIxMi0zNC41MjcgMS40NjktMTAxLjc5NyAxLjQ2OS02Ny4yNzEgMC03NS4yMzctLjI1Ny0xMDEuNzk4LTEuNDY5LTI0LjU2Mi0xLjEyLTM3LjkwMS01LjIyNC00Ni43NzgtOC42NzQtMTEuNzU5LTQuNTctMjAuMTUxLTEwLjAyOS0yOC45NjYtMTguODQ1LTguODE1LTguODE1LTE0LjI3NS0xNy4yMDctMTguODQ1LTI4Ljk2Ni0zLjQ1LTguODc3LTcuNTU0LTIyLjIxNi04LjY3NC00Ni43NzgtMS4yMTItMjYuNTY0LTEuNDY5LTM0LjUzMi0xLjQ2OS0xMDEuNzk3IDAtNjcuMjY2LjI1Ny03NS4yMzQgMS40NjktMTAxLjc5OCAxLjEyLTI0LjU2MiA1LjIyNC0zNy45MDEgOC42NzQtNDYuNzc4IDQuNTctMTEuNzU5IDEwLjAyOS0yMC4xNTEgMTguODQ1LTI4Ljk2NiA4LjgxNS04LjgxNiAxNy4yMDctMTQuMjc1IDI4Ljk2Ni0xOC44NDUgOC44NzctMy40NSAyMi4yMTYtNy41NTQgNDYuNzc4LTguNjc0IDI2LjU2NC0xLjIxMiAzNC41MzItMS40NjkgMTAxLjc5OC0xLjQ2OXoiIGZpbGw9IiNGRkYiIG1hc2s9InVybCgjYikiLz48cGF0aCBkPSJNMjUxLjkyMSAzMzYuMDUzYy00Ni4zNzggMC04My45NzQtMzcuNTk2LTgzLjk3NC04My45NzMgMC00Ni4zNzggMzcuNTk2LTgzLjk3NCA4My45NzQtODMuOTc0IDQ2LjM3NyAwIDgzLjk3MyAzNy41OTYgODMuOTczIDgzLjk3NCAwIDQ2LjM3Ny0zNy41OTYgODMuOTczLTgzLjk3MyA4My45NzN6bTAtMjEzLjMzOGMtNzEuNDQ3IDAtMTI5LjM2NSA1Ny45MTgtMTI5LjM2NSAxMjkuMzY1IDAgNzEuNDQ2IDU3LjkxOCAxMjkuMzY0IDEyOS4zNjUgMTI5LjM2NCA3MS40NDYgMCAxMjkuMzY0LTU3LjkxOCAxMjkuMzY0LTEyOS4zNjQgMC03MS40NDctNTcuOTE4LTEyOS4zNjUtMTI5LjM2NC0xMjkuMzY1ek00MTYuNjI3IDExNy42MDRjMCAxNi42OTYtMTMuNTM1IDMwLjIzLTMwLjIzMSAzMC4yMy0xNi42OTUgMC0zMC4yMy0xMy41MzQtMzAuMjMtMzAuMjMgMC0xNi42OTYgMTMuNTM1LTMwLjIzMSAzMC4yMy0zMC4yMzEgMTYuNjk2IDAgMzAuMjMxIDEzLjUzNSAzMC4yMzEgMzAuMjMxIiBmaWxsPSIjRkZGIi8+PC9nPjwvc3ZnPg==)}.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder .ck-media__placeholder__url__text{color:#ffe0fe}.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder .ck-media__placeholder__url__text:hover{color:#fff}.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder{background:linear-gradient(90deg,#71c6f4,#0d70a5)}.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder .ck-media__placeholder__icon{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA0MDAgNDAwIj48cGF0aCBkPSJNNDAwIDIwMGMwIDExMC41LTg5LjUgMjAwLTIwMCAyMDBTMCAzMTAuNSAwIDIwMCA4OS41IDAgMjAwIDBzMjAwIDg5LjUgMjAwIDIwMHpNMTYzLjQgMzA1LjVjODguNyAwIDEzNy4yLTczLjUgMTM3LjItMTM3LjIgMC0yLjEgMC00LjItLjEtNi4yIDkuNC02LjggMTcuNi0xNS4zIDI0LjEtMjUtOC42IDMuOC0xNy45IDYuNC0yNy43IDcuNiAxMC02IDE3LjYtMTUuNCAyMS4yLTI2LjctOS4zIDUuNS0xOS42IDkuNS0zMC42IDExLjctOC44LTkuNC0yMS4zLTE1LjItMzUuMi0xNS4yLTI2LjYgMC00OC4yIDIxLjYtNDguMiA0OC4yIDAgMy44LjQgNy41IDEuMyAxMS00MC4xLTItNzUuNi0yMS4yLTk5LjQtNTAuNC00LjEgNy4xLTYuNSAxNS40LTYuNSAyNC4yIDAgMTYuNyA4LjUgMzEuNSAyMS41IDQwLjEtNy45LS4yLTE1LjMtMi40LTIxLjgtNnYuNmMwIDIzLjQgMTYuNiA0Mi44IDM4LjcgNDcuMy00IDEuMS04LjMgMS43LTEyLjcgMS43LTMuMSAwLTYuMS0uMy05LjEtLjkgNi4xIDE5LjIgMjMuOSAzMy4xIDQ1IDMzLjUtMTYuNSAxMi45LTM3LjMgMjAuNi01OS45IDIwLjYtMy45IDAtNy43LS4yLTExLjUtLjcgMjEuMSAxMy44IDQ2LjUgMjEuOCA3My43IDIxLjgiIGZpbGw9IiNmZmYiLz48L3N2Zz4=)}.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder .ck-media__placeholder__url__text{color:#b8e6ff}.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder .ck-media__placeholder__url__text:hover{color:#fff}'; }, function (t, e, n) { var i = n(198); "string" == typeof i && (i = [[t.i, i, ""]]); var o = { injectType: "singletonStyleTag", insert: "head", singleton: !0 }; n(1)(i, o); i.locals && (t.exports = i.locals); }, function (t, e) { t.exports = ".ck.ck-media-form{display:flex;align-items:flex-start;flex-direction:row;flex-wrap:nowrap}.ck.ck-media-form .ck-labeled-input{display:inline-block}.ck.ck-media-form .ck-label{display:none}@media screen and (max-width:600px){.ck.ck-media-form{flex-wrap:wrap}.ck.ck-media-form .ck-labeled-input{flex-basis:100%}.ck.ck-media-form .ck-button{flex-basis:50%}}.ck.ck-media-form{padding:var(--ck-spacing-standard)}.ck.ck-media-form:focus{outline:none}[dir=ltr] .ck.ck-media-form>:not(:first-child),[dir=rtl] .ck.ck-media-form>:not(:last-child){margin-left:var(--ck-spacing-standard)}@media screen and (max-width:600px){.ck.ck-media-form{padding:0;width:calc(0.8*var(--ck-input-text-width))}.ck.ck-media-form .ck-labeled-input{margin:var(--ck-spacing-standard) var(--ck-spacing-standard) 0}.ck.ck-media-form .ck-labeled-input .ck-input-text{min-width:0;width:100%}.ck.ck-media-form .ck-labeled-input .ck-labeled-input__error{white-space:normal}.ck.ck-media-form .ck-button{padding:var(--ck-spacing-standard);margin-top:var(--ck-spacing-standard);border-radius:0;border:0;border-top:1px solid var(--ck-color-base-border)}[dir=ltr] .ck.ck-media-form .ck-button{margin-left:0}[dir=ltr] .ck.ck-media-form .ck-button:first-of-type{border-right:1px solid var(--ck-color-base-border)}[dir=rtl] .ck.ck-media-form .ck-button{margin-left:0}[dir=rtl] .ck.ck-media-form .ck-button:last-of-type{border-right:1px solid var(--ck-color-base-border)}}"; }, function (t, e, n) { var i = n(200); "string" == typeof i && (i = [[t.i, i, ""]]); var o = { injectType: "singletonStyleTag", insert: "head", singleton: !0 }; n(1)(i, o); i.locals && (t.exports = i.locals); }, function (t, e) { t.exports = ".ck-content .media{clear:both;margin:1em 0;display:block;min-width:15em}"; }, function (t, e, n) { var i = n(202); "string" == typeof i && (i = [[t.i, i, ""]]); var o = { injectType: "singletonStyleTag", insert: "head", singleton: !0 }; n(1)(i, o); i.locals && (t.exports = i.locals); }, function (t, e) { t.exports = ":root{--ck-color-table-focused-cell-background:#f5fafe}.ck-widget.table td.ck-editor__nested-editable.ck-editor__nested-editable_focused,.ck-widget.table th.ck-editor__nested-editable.ck-editor__nested-editable_focused{background:var(--ck-color-table-focused-cell-background);border-style:none;outline:1px solid var(--ck-color-focus-border);outline-offset:-1px}"; }, function (t, e, n) { var i = n(204); "string" == typeof i && (i = [[t.i, i, ""]]); var o = { injectType: "singletonStyleTag", insert: "head", singleton: !0 }; n(1)(i, o); i.locals && (t.exports = i.locals); }, function (t, e) { t.exports = ".ck .ck-insert-table-dropdown__grid{display:flex;flex-direction:row;flex-wrap:wrap}:root{--ck-insert-table-dropdown-padding:10px;--ck-insert-table-dropdown-box-height:11px;--ck-insert-table-dropdown-box-width:12px;--ck-insert-table-dropdown-box-margin:1px}.ck .ck-insert-table-dropdown__grid{width:calc(var(--ck-insert-table-dropdown-box-width)*10 + var(--ck-insert-table-dropdown-box-margin)*20 + var(--ck-insert-table-dropdown-padding)*2);padding:var(--ck-insert-table-dropdown-padding) var(--ck-insert-table-dropdown-padding) 0}.ck .ck-insert-table-dropdown__label{text-align:center}.ck .ck-insert-table-dropdown-grid-box{width:var(--ck-insert-table-dropdown-box-width);height:var(--ck-insert-table-dropdown-box-height);margin:var(--ck-insert-table-dropdown-box-margin);border:1px solid var(--ck-color-base-border);border-radius:1px}.ck .ck-insert-table-dropdown-grid-box.ck-on{border-color:var(--ck-color-focus-border);background:var(--ck-color-focus-outer-shadow)}"; }, function (t, e, n) { var i = n(206); "string" == typeof i && (i = [[t.i, i, ""]]); var o = { injectType: "singletonStyleTag", insert: "head", singleton: !0 }; n(1)(i, o); i.locals && (t.exports = i.locals); }, function (t, e) { t.exports = ".ck-content .table{margin:1em auto;display:table}.ck-content .table table{border-collapse:collapse;border-spacing:0;border:1px double #b3b3b3}.ck-content .table table td,.ck-content .table table th{min-width:2em;padding:.4em;border-color:#d9d9d9}.ck-content .table table th{font-weight:700;background:#fafafa}"; }, function (t, e, n) { var i = n(208); "string" == typeof i && (i = [[t.i, i, ""]]); var o = { injectType: "singletonStyleTag", insert: "head", singleton: !0 }; n(1)(i, o); i.locals && (t.exports = i.locals); }, function (t, e) { t.exports = ".ck.ck-color-grid{display:grid}:root{--ck-color-grid-tile-size:24px;--ck-color-color-grid-check-icon:#000}.ck.ck-color-grid{grid-gap:5px;padding:8px}.ck.ck-color-grid__tile{width:var(--ck-color-grid-tile-size);height:var(--ck-color-grid-tile-size);min-width:var(--ck-color-grid-tile-size);min-height:var(--ck-color-grid-tile-size);padding:0;transition:box-shadow .2s ease;border:0}.ck.ck-color-grid__tile.ck-disabled{cursor:unset;transition:unset}.ck.ck-color-grid__tile.ck-color-table__color-tile_bordered{box-shadow:0 0 0 1px var(--ck-color-base-border)}.ck.ck-color-grid__tile .ck.ck-icon{display:none;color:var(--ck-color-color-grid-check-icon)}.ck.ck-color-grid__tile.ck-on{box-shadow:inset 0 0 0 1px var(--ck-color-base-background),0 0 0 2px var(--ck-color-base-text)}.ck.ck-color-grid__tile.ck-on .ck.ck-icon{display:block}.ck.ck-color-grid__tile.ck-on,.ck.ck-color-grid__tile:focus:not(.ck-disabled),.ck.ck-color-grid__tile:hover:not(.ck-disabled){border:0}.ck.ck-color-grid__tile:focus:not(.ck-disabled),.ck.ck-color-grid__tile:hover:not(.ck-disabled){box-shadow:inset 0 0 0 1px var(--ck-color-base-background),0 0 0 2px var(--ck-color-focus-border)}.ck.ck-color-grid__label{padding:0 var(--ck-spacing-standard)}"; }, function (t, e, n) { var i = n(210); "string" == typeof i && (i = [[t.i, i, ""]]); var o = { injectType: "singletonStyleTag", insert: "head", singleton: !0 }; n(1)(i, o); i.locals && (t.exports = i.locals); }, function (t, e) { t.exports = ".ck .ck-button.ck-color-table__remove-color{display:flex;align-items:center;width:100%}label.ck.ck-color-grid__label{font-weight:unset}.ck .ck-button.ck-color-table__remove-color{padding:calc(var(--ck-spacing-standard)/2) var(--ck-spacing-standard);border-bottom-left-radius:0;border-bottom-right-radius:0}.ck .ck-button.ck-color-table__remove-color:not(:focus){border-bottom:1px solid var(--ck-color-base-border)}[dir=ltr] .ck .ck-button.ck-color-table__remove-color .ck.ck-icon{margin-right:var(--ck-spacing-standard)}[dir=rtl] .ck .ck-button.ck-color-table__remove-color .ck.ck-icon{margin-left:var(--ck-spacing-standard)}"; }, function (t, e, n) { var i = n(212); "string" == typeof i && (i = [[t.i, i, ""]]); var o = { injectType: "singletonStyleTag", insert: "head", singleton: !0 }; n(1)(i, o); i.locals && (t.exports = i.locals); }, function (t, e) { t.exports = ".text-tiny{font-size:.7em}.text-small{font-size:.85em}.text-big{font-size:1.4em}.text-huge{font-size:1.8em}"; }, function (t, e, n) { var i = n(214); "string" == typeof i && (i = [[t.i, i, ""]]); var o = { injectType: "singletonStyleTag", insert: "head", singleton: !0 }; n(1)(i, o); i.locals && (t.exports = i.locals); }, function (t, e) { t.exports = ".ck.ck-splitbutton{font-size:inherit}.ck.ck-splitbutton .ck-splitbutton__action:focus{z-index:calc(var(--ck-z-default) + 1)}.ck.ck-splitbutton.ck-splitbutton_open>.ck-button .ck-tooltip{display:none}:root{--ck-color-split-button-hover-background:#ebebeb;--ck-color-split-button-hover-border:#b3b3b3}[dir=ltr] .ck.ck-splitbutton>.ck-splitbutton__action{border-top-right-radius:unset;border-bottom-right-radius:unset}[dir=rtl] .ck.ck-splitbutton>.ck-splitbutton__action{border-top-left-radius:unset;border-bottom-left-radius:unset}.ck.ck-splitbutton>.ck-splitbutton__arrow{min-width:unset}[dir=ltr] .ck.ck-splitbutton>.ck-splitbutton__arrow{border-radius:0}.ck-rounded-corners [dir=ltr] .ck.ck-splitbutton>.ck-splitbutton__arrow,[dir=ltr] .ck.ck-splitbutton>.ck-splitbutton__arrow.ck-rounded-corners{border-radius:var(--ck-border-radius);border-top-left-radius:unset;border-bottom-left-radius:unset}[dir=rtl] .ck.ck-splitbutton>.ck-splitbutton__arrow{border-top-right-radius:unset;border-bottom-right-radius:unset}.ck.ck-splitbutton>.ck-splitbutton__arrow svg{width:var(--ck-dropdown-arrow-size)}.ck.ck-splitbutton.ck-splitbutton_open>.ck-button:not(.ck-on):not(.ck-disabled):not(:hover),.ck.ck-splitbutton:hover>.ck-button:not(.ck-on):not(.ck-disabled):not(:hover){background:var(--ck-color-split-button-hover-background)}[dir=ltr] .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled),[dir=ltr] .ck.ck-splitbutton:hover>.ck-splitbutton__arrow:not(.ck-disabled){border-left-color:var(--ck-color-split-button-hover-border)}[dir=rtl] .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled),[dir=rtl] .ck.ck-splitbutton:hover>.ck-splitbutton__arrow:not(.ck-disabled){border-right-color:var(--ck-color-split-button-hover-border)}.ck.ck-splitbutton.ck-splitbutton_open{border-radius:0}.ck-rounded-corners .ck.ck-splitbutton.ck-splitbutton_open,.ck.ck-splitbutton.ck-splitbutton_open.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck-rounded-corners .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__action,.ck.ck-splitbutton.ck-splitbutton_open.ck-rounded-corners>.ck-splitbutton__action{border-bottom-left-radius:0}.ck-rounded-corners .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow,.ck.ck-splitbutton.ck-splitbutton_open.ck-rounded-corners>.ck-splitbutton__arrow{border-bottom-right-radius:0}"; }, function (t, e, n) { var i = n(216); "string" == typeof i && (i = [[t.i, i, ""]]); var o = { injectType: "singletonStyleTag", insert: "head", singleton: !0 }; n(1)(i, o); i.locals && (t.exports = i.locals); }, function (t, e) { t.exports = ":root{--ck-highlight-marker-yellow:#fdfd77;--ck-highlight-marker-green:#63f963;--ck-highlight-marker-pink:#fc7999;--ck-highlight-marker-blue:#72cdfd;--ck-highlight-pen-red:#e91313;--ck-highlight-pen-green:#180}.ck-content .marker-yellow{background-color:var(--ck-highlight-marker-yellow)}.ck-content .marker-green{background-color:var(--ck-highlight-marker-green)}.ck-content .marker-pink{background-color:var(--ck-highlight-marker-pink)}.ck-content .marker-blue{background-color:var(--ck-highlight-marker-blue)}.ck-content .pen-red{color:var(--ck-highlight-pen-red);background-color:transparent}.ck-content .pen-green{color:var(--ck-highlight-pen-green);background-color:transparent}"; }, function (t, e, n) { var i = n(52), o = n(8)("socket.io-client:url"); t.exports = function (t, e) { var n = t; e = e || "undefined" != typeof location && location, null == t && (t = e.protocol + "//" + e.host); "string" == typeof t && ("/" === t.charAt(0) && (t = "/" === t.charAt(1) ? e.protocol + t : e.host + t), /^(https?|wss?):\/\//.test(t) || (o("protocol-less url %s", t), t = void 0 !== e ? e.protocol + "//" + t : "https://" + t), o("parse %s", t), n = i(t)); n.port || (/^(http|ws)$/.test(n.protocol) ? n.port = "80" : /^(http|ws)s$/.test(n.protocol) && (n.port = "443")); n.path = n.path || "/"; var r = -1 !== n.host.indexOf(":") ? "[" + n.host + "]" : n.host; return n.id = n.protocol + "://" + r + ":" + n.port, n.href = n.protocol + "://" + r + (e && e.port === n.port ? "" : ":" + n.port), n; }; }, function (t, e, n) { t.exports = function (t) { function e(t) { var e = 0; for (var n_2 = 0; n_2 < t.length; n_2++)
                        e = (e << 5) - e + t.charCodeAt(n_2), e |= 0; return i.colors[Math.abs(e) % i.colors.length]; } function i(t) { var n; function s() {
                        var t = [];
                        for (var _j = 0; _j < arguments.length; _j++) {
                            t[_j] = arguments[_j];
                        }
                        if (!s.enabled)
                            return;
                        var e = s, o = Number(new Date), r = o - (n || o);
                        e.diff = r, e.prev = n, e.curr = o, n = o, t[0] = i.coerce(t[0]), "string" != typeof t[0] && t.unshift("%O");
                        var a = 0;
                        t[0] = t[0].replace(/%([a-zA-Z%])/g, function (n, o) { if ("%%" === n)
                            return n; a++; var r = i.formatters[o]; if ("function" == typeof r) {
                            var i_2 = t[a];
                            n = r.call(e, i_2), t.splice(a, 1), a--;
                        } return n; }), i.formatArgs.call(e, t), (e.log || i.log).apply(e, t);
                    } return s.namespace = t, s.enabled = i.enabled(t), s.useColors = i.useColors(), s.color = e(t), s.destroy = o, s.extend = r, "function" == typeof i.init && i.init(s), i.instances.push(s), s; } function o() { var t = i.instances.indexOf(this); return -1 !== t && (i.instances.splice(t, 1), !0); } function r(t, e) { var n = i(this.namespace + (void 0 === e ? ":" : e) + t); return n.log = this.log, n; } function s(t) { return t.toString().substring(2, t.toString().length - 2).replace(/\.\*\?$/, "*"); } return i.debug = i, i.default = i, i.coerce = function (t) { return t instanceof Error ? t.stack || t.message : t; }, i.disable = function () { var t = __spread(i.names.map(s), i.skips.map(s).map(function (t) { return "-" + t; })).join(","); return i.enable(""), t; }, i.enable = function (t) { var e; i.save(t), i.names = [], i.skips = []; var n = ("string" == typeof t ? t : "").split(/[\s,]+/), o = n.length; for (e = 0; e < o; e++)
                        n[e] && ("-" === (t = n[e].replace(/\*/g, ".*?"))[0] ? i.skips.push(new RegExp("^" + t.substr(1) + "$")) : i.names.push(new RegExp("^" + t + "$"))); for (e = 0; e < i.instances.length; e++) {
                        var t_1 = i.instances[e];
                        t_1.enabled = i.enabled(t_1.namespace);
                    } }, i.enabled = function (t) { if ("*" === t[t.length - 1])
                        return !0; var e, n; for (e = 0, n = i.skips.length; e < n; e++)
                        if (i.skips[e].test(t))
                            return !1; for (e = 0, n = i.names.length; e < n; e++)
                        if (i.names[e].test(t))
                            return !0; return !1; }, i.humanize = n(219), Object.keys(t).forEach(function (e) { i[e] = t[e]; }), i.instances = [], i.names = [], i.skips = [], i.formatters = {}, i.selectColor = e, i.enable(i.load()), i; }; }, function (t, e) { var n = 1e3, i = 60 * n, o = 60 * i, r = 24 * o, s = 7 * r, a = 365.25 * r; function c(t, e, n, i) { var o = e >= 1.5 * n; return Math.round(t / n) + " " + i + (o ? "s" : ""); } t.exports = function (t, e) { e = e || {}; var l = typeof t; if ("string" === l && t.length > 0)
                        return function (t) { if ((t = String(t)).length > 100)
                            return; var e = /^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(t); if (!e)
                            return; var c = parseFloat(e[1]); switch ((e[2] || "ms").toLowerCase()) {
                            case "years":
                            case "year":
                            case "yrs":
                            case "yr":
                            case "y": return c * a;
                            case "weeks":
                            case "week":
                            case "w": return c * s;
                            case "days":
                            case "day":
                            case "d": return c * r;
                            case "hours":
                            case "hour":
                            case "hrs":
                            case "hr":
                            case "h": return c * o;
                            case "minutes":
                            case "minute":
                            case "mins":
                            case "min":
                            case "m": return c * i;
                            case "seconds":
                            case "second":
                            case "secs":
                            case "sec":
                            case "s": return c * n;
                            case "milliseconds":
                            case "millisecond":
                            case "msecs":
                            case "msec":
                            case "ms": return c;
                            default: return;
                        } }(t); if ("number" === l && isFinite(t))
                        return e.long ? function (t) { var e = Math.abs(t); if (e >= r)
                            return c(t, e, r, "day"); if (e >= o)
                            return c(t, e, o, "hour"); if (e >= i)
                            return c(t, e, i, "minute"); if (e >= n)
                            return c(t, e, n, "second"); return t + " ms"; }(t) : function (t) { var e = Math.abs(t); if (e >= r)
                            return Math.round(t / r) + "d"; if (e >= o)
                            return Math.round(t / o) + "h"; if (e >= i)
                            return Math.round(t / i) + "m"; if (e >= n)
                            return Math.round(t / n) + "s"; return t + "ms"; }(t); throw new Error("val is not a non-empty string or a valid number. val=" + JSON.stringify(t)); }; }, function (t, e, n) { (function (i) { function o() { var t; try {
                        t = e.storage.debug;
                    }
                    catch (t) { } return !t && void 0 !== i && "env" in i && (t = i.env.DEBUG), t; } (e = t.exports = n(221)).log = function () { return "object" == typeof console && console.log && Function.prototype.apply.call(console.log, console, arguments); }, e.formatArgs = function (t) { var n = this.useColors; if (t[0] = (n ? "%c" : "") + this.namespace + (n ? " %c" : " ") + t[0] + (n ? "%c " : " ") + "+" + e.humanize(this.diff), !n)
                        return; var i = "color: " + this.color; t.splice(1, 0, i, "color: inherit"); var o = 0, r = 0; t[0].replace(/%[a-zA-Z%]/g, function (t) { "%%" !== t && "%c" === t && (r = ++o); }), t.splice(r, 0, i); }, e.save = function (t) { try {
                        null == t ? e.storage.removeItem("debug") : e.storage.debug = t;
                    }
                    catch (t) { } }, e.load = o, e.useColors = function () { if ("undefined" != typeof window && window.process && "renderer" === window.process.type)
                        return !0; if ("undefined" != typeof navigator && navigator.userAgent && navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))
                        return !1; return "undefined" != typeof document && document.documentElement && document.documentElement.style && document.documentElement.style.WebkitAppearance || "undefined" != typeof window && window.console && (window.console.firebug || window.console.exception && window.console.table) || "undefined" != typeof navigator && navigator.userAgent && navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/) && parseInt(RegExp.$1, 10) >= 31 || "undefined" != typeof navigator && navigator.userAgent && navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/); }, e.storage = "undefined" != typeof chrome && void 0 !== chrome.storage ? chrome.storage.local : function () { try {
                        return window.localStorage;
                    }
                    catch (t) { } }(), e.colors = ["#0000CC", "#0000FF", "#0033CC", "#0033FF", "#0066CC", "#0066FF", "#0099CC", "#0099FF", "#00CC00", "#00CC33", "#00CC66", "#00CC99", "#00CCCC", "#00CCFF", "#3300CC", "#3300FF", "#3333CC", "#3333FF", "#3366CC", "#3366FF", "#3399CC", "#3399FF", "#33CC00", "#33CC33", "#33CC66", "#33CC99", "#33CCCC", "#33CCFF", "#6600CC", "#6600FF", "#6633CC", "#6633FF", "#66CC00", "#66CC33", "#9900CC", "#9900FF", "#9933CC", "#9933FF", "#99CC00", "#99CC33", "#CC0000", "#CC0033", "#CC0066", "#CC0099", "#CC00CC", "#CC00FF", "#CC3300", "#CC3333", "#CC3366", "#CC3399", "#CC33CC", "#CC33FF", "#CC6600", "#CC6633", "#CC9900", "#CC9933", "#CCCC00", "#CCCC33", "#FF0000", "#FF0033", "#FF0066", "#FF0099", "#FF00CC", "#FF00FF", "#FF3300", "#FF3333", "#FF3366", "#FF3399", "#FF33CC", "#FF33FF", "#FF6600", "#FF6633", "#FF9900", "#FF9933", "#FFCC00", "#FFCC33"], e.formatters.j = function (t) { try {
                        return JSON.stringify(t);
                    }
                    catch (t) {
                        return "[UnexpectedJSONParseError]: " + t.message;
                    } }, e.enable(o()); }).call(this, n(33)); }, function (t, e, n) { function i(t) { var n; function i() { if (i.enabled) {
                        var t = i, o = +new Date, r = o - (n || o);
                        t.diff = r, t.prev = n, t.curr = o, n = o;
                        for (var s = new Array(arguments.length), a = 0; a < s.length; a++)
                            s[a] = arguments[a];
                        s[0] = e.coerce(s[0]), "string" != typeof s[0] && s.unshift("%O");
                        var c = 0;
                        s[0] = s[0].replace(/%([a-zA-Z%])/g, function (n, i) { if ("%%" === n)
                            return n; c++; var o = e.formatters[i]; if ("function" == typeof o) {
                            var r = s[c];
                            n = o.call(t, r), s.splice(c, 1), c--;
                        } return n; }), e.formatArgs.call(t, s), (i.log || e.log || console.log.bind(console)).apply(t, s);
                    } } return i.namespace = t, i.enabled = e.enabled(t), i.useColors = e.useColors(), i.color = function (t) { var n, i = 0; for (n in t)
                        i = (i << 5) - i + t.charCodeAt(n), i |= 0; return e.colors[Math.abs(i) % e.colors.length]; }(t), i.destroy = o, "function" == typeof e.init && e.init(i), e.instances.push(i), i; } function o() { var t = e.instances.indexOf(this); return -1 !== t && (e.instances.splice(t, 1), !0); } (e = t.exports = i.debug = i.default = i).coerce = function (t) { return t instanceof Error ? t.stack || t.message : t; }, e.disable = function () { e.enable(""); }, e.enable = function (t) { var n; e.save(t), e.names = [], e.skips = []; var i = ("string" == typeof t ? t : "").split(/[\s,]+/), o = i.length; for (n = 0; n < o; n++)
                        i[n] && ("-" === (t = i[n].replace(/\*/g, ".*?"))[0] ? e.skips.push(new RegExp("^" + t.substr(1) + "$")) : e.names.push(new RegExp("^" + t + "$"))); for (n = 0; n < e.instances.length; n++) {
                        var r = e.instances[n];
                        r.enabled = e.enabled(r.namespace);
                    } }, e.enabled = function (t) { if ("*" === t[t.length - 1])
                        return !0; var n, i; for (n = 0, i = e.skips.length; n < i; n++)
                        if (e.skips[n].test(t))
                            return !1; for (n = 0, i = e.names.length; n < i; n++)
                        if (e.names[n].test(t))
                            return !0; return !1; }, e.humanize = n(222), e.instances = [], e.names = [], e.skips = [], e.formatters = {}; }, function (t, e) { var n = 1e3, i = 60 * n, o = 60 * i, r = 24 * o, s = 365.25 * r; function a(t, e, n) { if (!(t < e))
                        return t < 1.5 * e ? Math.floor(t / e) + " " + n : Math.ceil(t / e) + " " + n + "s"; } t.exports = function (t, e) { e = e || {}; var c = typeof t; if ("string" === c && t.length > 0)
                        return function (t) { if ((t = String(t)).length > 100)
                            return; var e = /^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(t); if (!e)
                            return; var a = parseFloat(e[1]); switch ((e[2] || "ms").toLowerCase()) {
                            case "years":
                            case "year":
                            case "yrs":
                            case "yr":
                            case "y": return a * s;
                            case "days":
                            case "day":
                            case "d": return a * r;
                            case "hours":
                            case "hour":
                            case "hrs":
                            case "hr":
                            case "h": return a * o;
                            case "minutes":
                            case "minute":
                            case "mins":
                            case "min":
                            case "m": return a * i;
                            case "seconds":
                            case "second":
                            case "secs":
                            case "sec":
                            case "s": return a * n;
                            case "milliseconds":
                            case "millisecond":
                            case "msecs":
                            case "msec":
                            case "ms": return a;
                            default: return;
                        } }(t); if ("number" === c && !1 === isNaN(t))
                        return e.long ? function (t) { return a(t, r, "day") || a(t, o, "hour") || a(t, i, "minute") || a(t, n, "second") || t + " ms"; }(t) : function (t) { if (t >= r)
                            return Math.round(t / r) + "d"; if (t >= o)
                            return Math.round(t / o) + "h"; if (t >= i)
                            return Math.round(t / i) + "m"; if (t >= n)
                            return Math.round(t / n) + "s"; return t + "ms"; }(t); throw new Error("val is not a non-empty string or a valid number. val=" + JSON.stringify(t)); }; }, function (t, e, n) { var i = n(20), o = n(53), r = Object.prototype.toString, s = "function" == typeof Blob || "undefined" != typeof Blob && "[object BlobConstructor]" === r.call(Blob), a = "function" == typeof File || "undefined" != typeof File && "[object FileConstructor]" === r.call(File); e.deconstructPacket = function (t) { var e = [], n = t.data, r = t; return r.data = function t(e, n) { if (!e)
                        return e; if (o(e)) {
                        var r = { _placeholder: !0, num: n.length };
                        return n.push(e), r;
                    } if (i(e)) {
                        for (var s = new Array(e.length), a = 0; a < e.length; a++)
                            s[a] = t(e[a], n);
                        return s;
                    } if ("object" == typeof e && !(e instanceof Date)) {
                        var s = {};
                        for (var c in e)
                            s[c] = t(e[c], n);
                        return s;
                    } return e; }(n, e), r.attachments = e.length, { packet: r, buffers: e }; }, e.reconstructPacket = function (t, e) { return t.data = function t(e, n) { if (!e)
                        return e; if (e && e._placeholder)
                        return n[e.num]; if (i(e))
                        for (var o = 0; o < e.length; o++)
                            e[o] = t(e[o], n);
                    else if ("object" == typeof e)
                        for (var r in e)
                            e[r] = t(e[r], n); return e; }(t.data, e), t.attachments = void 0, t; }, e.removeBlobs = function (t, e) { var n = 0, r = t; !function t(c, l, d) { if (!c)
                        return c; if (s && c instanceof Blob || a && c instanceof File) {
                        n++;
                        var u = new FileReader;
                        u.onload = function () { d ? d[l] = this.result : r = this.result, --n || e(r); }, u.readAsArrayBuffer(c);
                    }
                    else if (i(c))
                        for (var h = 0; h < c.length; h++)
                            t(c[h], h, c);
                    else if ("object" == typeof c && !o(c))
                        for (var f in c)
                            t(c[f], f, c); }(r), n || e(r); }; }, function (t, e, n) {
                        "use strict";
                        e.byteLength = function (t) { var e = l(t), n = e[0], i = e[1]; return 3 * (n + i) / 4 - i; }, e.toByteArray = function (t) { var e, n, i = l(t), s = i[0], a = i[1], c = new r(function (t, e, n) { return 3 * (e + n) / 4 - n; }(0, s, a)), d = 0, u = a > 0 ? s - 4 : s; for (n = 0; n < u; n += 4)
                            e = o[t.charCodeAt(n)] << 18 | o[t.charCodeAt(n + 1)] << 12 | o[t.charCodeAt(n + 2)] << 6 | o[t.charCodeAt(n + 3)], c[d++] = e >> 16 & 255, c[d++] = e >> 8 & 255, c[d++] = 255 & e; 2 === a && (e = o[t.charCodeAt(n)] << 2 | o[t.charCodeAt(n + 1)] >> 4, c[d++] = 255 & e); 1 === a && (e = o[t.charCodeAt(n)] << 10 | o[t.charCodeAt(n + 1)] << 4 | o[t.charCodeAt(n + 2)] >> 2, c[d++] = e >> 8 & 255, c[d++] = 255 & e); return c; }, e.fromByteArray = function (t) { for (var e, n = t.length, o = n % 3, r = [], s = 0, a = n - o; s < a; s += 16383)
                            r.push(u(t, s, s + 16383 > a ? a : s + 16383)); 1 === o ? (e = t[n - 1], r.push(i[e >> 2] + i[e << 4 & 63] + "==")) : 2 === o && (e = (t[n - 2] << 8) + t[n - 1], r.push(i[e >> 10] + i[e >> 4 & 63] + i[e << 2 & 63] + "=")); return r.join(""); };
                        for (var i = [], o = [], r = "undefined" != typeof Uint8Array ? Uint8Array : Array, s = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/", a = 0, c = s.length; a < c; ++a)
                            i[a] = s[a], o[s.charCodeAt(a)] = a;
                        function l(t) { var e = t.length; if (e % 4 > 0)
                            throw new Error("Invalid string. Length must be a multiple of 4"); var n = t.indexOf("="); return -1 === n && (n = e), [n, n === e ? 0 : 4 - n % 4]; }
                        function d(t) { return i[t >> 18 & 63] + i[t >> 12 & 63] + i[t >> 6 & 63] + i[63 & t]; }
                        function u(t, e, n) { for (var i, o = [], r = e; r < n; r += 3)
                            i = (t[r] << 16 & 16711680) + (t[r + 1] << 8 & 65280) + (255 & t[r + 2]), o.push(d(i)); return o.join(""); }
                        o["-".charCodeAt(0)] = 62, o["_".charCodeAt(0)] = 63;
                    }, function (t, e) { e.read = function (t, e, n, i, o) { var r, s, a = 8 * o - i - 1, c = (1 << a) - 1, l = c >> 1, d = -7, u = n ? o - 1 : 0, h = n ? -1 : 1, f = t[e + u]; for (u += h, r = f & (1 << -d) - 1, f >>= -d, d += a; d > 0; r = 256 * r + t[e + u], u += h, d -= 8)
                        ; for (s = r & (1 << -d) - 1, r >>= -d, d += i; d > 0; s = 256 * s + t[e + u], u += h, d -= 8)
                        ; if (0 === r)
                        r = 1 - l;
                    else {
                        if (r === c)
                            return s ? NaN : 1 / 0 * (f ? -1 : 1);
                        s += Math.pow(2, i), r -= l;
                    } return (f ? -1 : 1) * s * Math.pow(2, r - i); }, e.write = function (t, e, n, i, o, r) { var s, a, c, l = 8 * r - o - 1, d = (1 << l) - 1, u = d >> 1, h = 23 === o ? Math.pow(2, -24) - Math.pow(2, -77) : 0, f = i ? 0 : r - 1, p = i ? 1 : -1, m = e < 0 || 0 === e && 1 / e < 0 ? 1 : 0; for (e = Math.abs(e), isNaN(e) || e === 1 / 0 ? (a = isNaN(e) ? 1 : 0, s = d) : (s = Math.floor(Math.log(e) / Math.LN2), e * (c = Math.pow(2, -s)) < 1 && (s--, c *= 2), (e += s + u >= 1 ? h / c : h * Math.pow(2, 1 - u)) * c >= 2 && (s++, c /= 2), s + u >= d ? (a = 0, s = d) : s + u >= 1 ? (a = (e * c - 1) * Math.pow(2, o), s += u) : (a = e * Math.pow(2, u - 1) * Math.pow(2, o), s = 0)); o >= 8; t[n + f] = 255 & a, f += p, a /= 256, o -= 8)
                        ; for (s = s << o | a, l += o; l > 0; t[n + f] = 255 & s, f += p, s /= 256, l -= 8)
                        ; t[n + f - p] |= 128 * m; }; }, function (t, e) { var n = {}.toString; t.exports = Array.isArray || function (t) { return "[object Array]" == n.call(t); }; }, function (t, e, n) { t.exports = n(228), t.exports.parser = n(16); }, function (t, e, n) { var i = n(55), o = n(12), r = n(8)("engine.io-client:socket"), s = n(59), a = n(16), c = n(52), l = n(24); function d(t, e) { if (!(this instanceof d))
                        return new d(t, e); e = e || {}, t && "object" == typeof t && (e = t, t = null), t ? (t = c(t), e.hostname = t.host, e.secure = "https" === t.protocol || "wss" === t.protocol, e.port = t.port, t.query && (e.query = t.query)) : e.host && (e.hostname = c(e.host).host), this.secure = null != e.secure ? e.secure : "undefined" != typeof location && "https:" === location.protocol, e.hostname && !e.port && (e.port = this.secure ? "443" : "80"), this.agent = e.agent || !1, this.hostname = e.hostname || ("undefined" != typeof location ? location.hostname : "localhost"), this.port = e.port || ("undefined" != typeof location && location.port ? location.port : this.secure ? 443 : 80), this.query = e.query || {}, "string" == typeof this.query && (this.query = l.decode(this.query)), this.upgrade = !1 !== e.upgrade, this.path = (e.path || "/engine.io").replace(/\/$/, "") + "/", this.forceJSONP = !!e.forceJSONP, this.jsonp = !1 !== e.jsonp, this.forceBase64 = !!e.forceBase64, this.enablesXDR = !!e.enablesXDR, this.withCredentials = !1 !== e.withCredentials, this.timestampParam = e.timestampParam || "t", this.timestampRequests = e.timestampRequests, this.transports = e.transports || ["polling", "websocket"], this.transportOptions = e.transportOptions || {}, this.readyState = "", this.writeBuffer = [], this.prevBufferLen = 0, this.policyPort = e.policyPort || 843, this.rememberUpgrade = e.rememberUpgrade || !1, this.binaryType = null, this.onlyBinaryUpgrades = e.onlyBinaryUpgrades, this.perMessageDeflate = !1 !== e.perMessageDeflate && (e.perMessageDeflate || {}), !0 === this.perMessageDeflate && (this.perMessageDeflate = {}), this.perMessageDeflate && null == this.perMessageDeflate.threshold && (this.perMessageDeflate.threshold = 1024), this.pfx = e.pfx || null, this.key = e.key || null, this.passphrase = e.passphrase || null, this.cert = e.cert || null, this.ca = e.ca || null, this.ciphers = e.ciphers || null, this.rejectUnauthorized = void 0 === e.rejectUnauthorized || e.rejectUnauthorized, this.forceNode = !!e.forceNode, this.isReactNative = "undefined" != typeof navigator && "string" == typeof navigator.product && "reactnative" === navigator.product.toLowerCase(), ("undefined" == typeof self || this.isReactNative) && (e.extraHeaders && Object.keys(e.extraHeaders).length > 0 && (this.extraHeaders = e.extraHeaders), e.localAddress && (this.localAddress = e.localAddress)), this.id = null, this.upgrades = null, this.pingInterval = null, this.pingTimeout = null, this.pingIntervalTimer = null, this.pingTimeoutTimer = null, this.open(); } t.exports = d, d.priorWebsocketSuccess = !1, o(d.prototype), d.protocol = a.protocol, d.Socket = d, d.Transport = n(36), d.transports = n(55), d.parser = n(16), d.prototype.createTransport = function (t) { r('creating transport "%s"', t); var e = function (t) { var e = {}; for (var n in t)
                        t.hasOwnProperty(n) && (e[n] = t[n]); return e; }(this.query); e.EIO = a.protocol, e.transport = t; var n = this.transportOptions[t] || {}; return this.id && (e.sid = this.id), new i[t]({ query: e, socket: this, agent: n.agent || this.agent, hostname: n.hostname || this.hostname, port: n.port || this.port, secure: n.secure || this.secure, path: n.path || this.path, forceJSONP: n.forceJSONP || this.forceJSONP, jsonp: n.jsonp || this.jsonp, forceBase64: n.forceBase64 || this.forceBase64, enablesXDR: n.enablesXDR || this.enablesXDR, withCredentials: n.withCredentials || this.withCredentials, timestampRequests: n.timestampRequests || this.timestampRequests, timestampParam: n.timestampParam || this.timestampParam, policyPort: n.policyPort || this.policyPort, pfx: n.pfx || this.pfx, key: n.key || this.key, passphrase: n.passphrase || this.passphrase, cert: n.cert || this.cert, ca: n.ca || this.ca, ciphers: n.ciphers || this.ciphers, rejectUnauthorized: n.rejectUnauthorized || this.rejectUnauthorized, perMessageDeflate: n.perMessageDeflate || this.perMessageDeflate, extraHeaders: n.extraHeaders || this.extraHeaders, forceNode: n.forceNode || this.forceNode, localAddress: n.localAddress || this.localAddress, requestTimeout: n.requestTimeout || this.requestTimeout, protocols: n.protocols || void 0, isReactNative: this.isReactNative }); }, d.prototype.open = function () { var t; if (this.rememberUpgrade && d.priorWebsocketSuccess && -1 !== this.transports.indexOf("websocket"))
                        t = "websocket";
                    else {
                        if (0 === this.transports.length) {
                            var e = this;
                            return void setTimeout(function () { e.emit("error", "No transports available"); }, 0);
                        }
                        t = this.transports[0];
                    } this.readyState = "opening"; try {
                        t = this.createTransport(t);
                    }
                    catch (t) {
                        return this.transports.shift(), void this.open();
                    } t.open(), this.setTransport(t); }, d.prototype.setTransport = function (t) { r("setting transport %s", t.name); var e = this; this.transport && (r("clearing existing transport %s", this.transport.name), this.transport.removeAllListeners()), this.transport = t, t.on("drain", function () { e.onDrain(); }).on("packet", function (t) { e.onPacket(t); }).on("error", function (t) { e.onError(t); }).on("close", function () { e.onClose("transport close"); }); }, d.prototype.probe = function (t) { r('probing transport "%s"', t); var e = this.createTransport(t, { probe: 1 }), n = !1, i = this; function o() { if (i.onlyBinaryUpgrades) {
                        var o = !this.supportsBinary && i.transport.supportsBinary;
                        n = n || o;
                    } n || (r('probe transport "%s" opened', t), e.send([{ type: "ping", data: "probe" }]), e.once("packet", function (o) { if (!n)
                        if ("pong" === o.type && "probe" === o.data) {
                            if (r('probe transport "%s" pong', t), i.upgrading = !0, i.emit("upgrading", e), !e)
                                return;
                            d.priorWebsocketSuccess = "websocket" === e.name, r('pausing current transport "%s"', i.transport.name), i.transport.pause(function () { n || "closed" !== i.readyState && (r("changing transport and sending upgrade packet"), h(), i.setTransport(e), e.send([{ type: "upgrade" }]), i.emit("upgrade", e), e = null, i.upgrading = !1, i.flush()); });
                        }
                        else {
                            r('probe transport "%s" failed', t);
                            var s = new Error("probe error");
                            s.transport = e.name, i.emit("upgradeError", s);
                        } })); } function s() { n || (n = !0, h(), e.close(), e = null); } function a(n) { var o = new Error("probe error: " + n); o.transport = e.name, s(), r('probe transport "%s" failed because of error: %s', t, n), i.emit("upgradeError", o); } function c() { a("transport closed"); } function l() { a("socket closed"); } function u(t) { e && t.name !== e.name && (r('"%s" works - aborting "%s"', t.name, e.name), s()); } function h() { e.removeListener("open", o), e.removeListener("error", a), e.removeListener("close", c), i.removeListener("close", l), i.removeListener("upgrading", u); } d.priorWebsocketSuccess = !1, e.once("open", o), e.once("error", a), e.once("close", c), this.once("close", l), this.once("upgrading", u), e.open(); }, d.prototype.onOpen = function () { if (r("socket open"), this.readyState = "open", d.priorWebsocketSuccess = "websocket" === this.transport.name, this.emit("open"), this.flush(), "open" === this.readyState && this.upgrade && this.transport.pause) {
                        r("starting upgrade probes");
                        for (var t = 0, e = this.upgrades.length; t < e; t++)
                            this.probe(this.upgrades[t]);
                    } }, d.prototype.onPacket = function (t) { if ("opening" === this.readyState || "open" === this.readyState || "closing" === this.readyState)
                        switch ((r('socket receive: type "%s", data "%s"', t.type, t.data), this.emit("packet", t), this.emit("heartbeat"), t.type)) {
                            case "open":
                                this.onHandshake(JSON.parse(t.data));
                                break;
                            case "pong":
                                this.setPing(), this.emit("pong");
                                break;
                            case "error":
                                var e = new Error("server error");
                                e.code = t.data, this.onError(e);
                                break;
                            case "message": this.emit("data", t.data), this.emit("message", t.data);
                        }
                    else
                        r('packet received with socket readyState "%s"', this.readyState); }, d.prototype.onHandshake = function (t) { this.emit("handshake", t), this.id = t.sid, this.transport.query.sid = t.sid, this.upgrades = this.filterUpgrades(t.upgrades), this.pingInterval = t.pingInterval, this.pingTimeout = t.pingTimeout, this.onOpen(), "closed" !== this.readyState && (this.setPing(), this.removeListener("heartbeat", this.onHeartbeat), this.on("heartbeat", this.onHeartbeat)); }, d.prototype.onHeartbeat = function (t) { clearTimeout(this.pingTimeoutTimer); var e = this; e.pingTimeoutTimer = setTimeout(function () { "closed" !== e.readyState && e.onClose("ping timeout"); }, t || e.pingInterval + e.pingTimeout); }, d.prototype.setPing = function () { var t = this; clearTimeout(t.pingIntervalTimer), t.pingIntervalTimer = setTimeout(function () { r("writing ping packet - expecting pong within %sms", t.pingTimeout), t.ping(), t.onHeartbeat(t.pingTimeout); }, t.pingInterval); }, d.prototype.ping = function () { var t = this; this.sendPacket("ping", function () { t.emit("ping"); }); }, d.prototype.onDrain = function () { this.writeBuffer.splice(0, this.prevBufferLen), this.prevBufferLen = 0, 0 === this.writeBuffer.length ? this.emit("drain") : this.flush(); }, d.prototype.flush = function () { "closed" !== this.readyState && this.transport.writable && !this.upgrading && this.writeBuffer.length && (r("flushing %d packets in socket", this.writeBuffer.length), this.transport.send(this.writeBuffer), this.prevBufferLen = this.writeBuffer.length, this.emit("flush")); }, d.prototype.write = d.prototype.send = function (t, e, n) { return this.sendPacket("message", t, e, n), this; }, d.prototype.sendPacket = function (t, e, n, i) { if ("function" == typeof e && (i = e, e = void 0), "function" == typeof n && (i = n, n = null), "closing" !== this.readyState && "closed" !== this.readyState) {
                        (n = n || {}).compress = !1 !== n.compress;
                        var o = { type: t, data: e, options: n };
                        this.emit("packetCreate", o), this.writeBuffer.push(o), i && this.once("flush", i), this.flush();
                    } }, d.prototype.close = function () { if ("opening" === this.readyState || "open" === this.readyState) {
                        this.readyState = "closing";
                        var t = this;
                        this.writeBuffer.length ? this.once("drain", function () { this.upgrading ? i() : e(); }) : this.upgrading ? i() : e();
                    } function e() { t.onClose("forced close"), r("socket closing - telling transport to close"), t.transport.close(); } function n() { t.removeListener("upgrade", n), t.removeListener("upgradeError", n), e(); } function i() { t.once("upgrade", n), t.once("upgradeError", n); } return this; }, d.prototype.onError = function (t) { r("socket error %j", t), d.priorWebsocketSuccess = !1, this.emit("error", t), this.onClose("transport error", t); }, d.prototype.onClose = function (t, e) { if ("opening" === this.readyState || "open" === this.readyState || "closing" === this.readyState) {
                        r('socket close with reason: "%s"', t);
                        clearTimeout(this.pingIntervalTimer), clearTimeout(this.pingTimeoutTimer), this.transport.removeAllListeners("close"), this.transport.close(), this.transport.removeAllListeners(), this.readyState = "closed", this.id = null, this.emit("close", t, e), this.writeBuffer = [], this.prevBufferLen = 0;
                    } }, d.prototype.filterUpgrades = function (t) { for (var e = [], n = 0, i = t.length; n < i; n++)
                        ~s(this.transports, t[n]) && e.push(t[n]); return e; }; }, function (t, e) { try {
                        t.exports = "undefined" != typeof XMLHttpRequest && "withCredentials" in new XMLHttpRequest;
                    }
                    catch (e) {
                        t.exports = !1;
                    } }, function (t, e, n) { var i = n(35), o = n(56), r = n(12), s = n(25), a = n(8)("engine.io-client:polling-xhr"); function c() { } function l(t) { if (o.call(this, t), this.requestTimeout = t.requestTimeout, this.extraHeaders = t.extraHeaders, "undefined" != typeof location) {
                        var e = "https:" === location.protocol, n = location.port;
                        n || (n = e ? 443 : 80), this.xd = "undefined" != typeof location && t.hostname !== location.hostname || n !== t.port, this.xs = t.secure !== e;
                    } } function d(t) { this.method = t.method || "GET", this.uri = t.uri, this.xd = !!t.xd, this.xs = !!t.xs, this.async = !1 !== t.async, this.data = void 0 !== t.data ? t.data : null, this.agent = t.agent, this.isBinary = t.isBinary, this.supportsBinary = t.supportsBinary, this.enablesXDR = t.enablesXDR, this.withCredentials = t.withCredentials, this.requestTimeout = t.requestTimeout, this.pfx = t.pfx, this.key = t.key, this.passphrase = t.passphrase, this.cert = t.cert, this.ca = t.ca, this.ciphers = t.ciphers, this.rejectUnauthorized = t.rejectUnauthorized, this.extraHeaders = t.extraHeaders, this.create(); } if (t.exports = l, t.exports.Request = d, s(l, o), l.prototype.supportsBinary = !0, l.prototype.request = function (t) { return (t = t || {}).uri = this.uri(), t.xd = this.xd, t.xs = this.xs, t.agent = this.agent || !1, t.supportsBinary = this.supportsBinary, t.enablesXDR = this.enablesXDR, t.withCredentials = this.withCredentials, t.pfx = this.pfx, t.key = this.key, t.passphrase = this.passphrase, t.cert = this.cert, t.ca = this.ca, t.ciphers = this.ciphers, t.rejectUnauthorized = this.rejectUnauthorized, t.requestTimeout = this.requestTimeout, t.extraHeaders = this.extraHeaders, new d(t); }, l.prototype.doWrite = function (t, e) { var n = "string" != typeof t && void 0 !== t, i = this.request({ method: "POST", data: t, isBinary: n }), o = this; i.on("success", e), i.on("error", function (t) { o.onError("xhr post error", t); }), this.sendXhr = i; }, l.prototype.doPoll = function () { a("xhr poll"); var t = this.request(), e = this; t.on("data", function (t) { e.onData(t); }), t.on("error", function (t) { e.onError("xhr poll error", t); }), this.pollXhr = t; }, r(d.prototype), d.prototype.create = function () { var t = { agent: this.agent, xdomain: this.xd, xscheme: this.xs, enablesXDR: this.enablesXDR }; t.pfx = this.pfx, t.key = this.key, t.passphrase = this.passphrase, t.cert = this.cert, t.ca = this.ca, t.ciphers = this.ciphers, t.rejectUnauthorized = this.rejectUnauthorized; var e = this.xhr = new i(t), n = this; try {
                        a("xhr open %s: %s", this.method, this.uri), e.open(this.method, this.uri, this.async);
                        try {
                            if (this.extraHeaders)
                                for (var o in e.setDisableHeaderCheck && e.setDisableHeaderCheck(!0), this.extraHeaders)
                                    this.extraHeaders.hasOwnProperty(o) && e.setRequestHeader(o, this.extraHeaders[o]);
                        }
                        catch (t) { }
                        if ("POST" === this.method)
                            try {
                                this.isBinary ? e.setRequestHeader("Content-type", "application/octet-stream") : e.setRequestHeader("Content-type", "text/plain;charset=UTF-8");
                            }
                            catch (t) { }
                        try {
                            e.setRequestHeader("Accept", "*/*");
                        }
                        catch (t) { }
                        "withCredentials" in e && (e.withCredentials = this.withCredentials), this.requestTimeout && (e.timeout = this.requestTimeout), this.hasXDR() ? (e.onload = function () { n.onLoad(); }, e.onerror = function () { n.onError(e.responseText); }) : e.onreadystatechange = function () { if (2 === e.readyState)
                            try {
                                var t = e.getResponseHeader("Content-Type");
                                (n.supportsBinary && "application/octet-stream" === t || "application/octet-stream; charset=UTF-8" === t) && (e.responseType = "arraybuffer");
                            }
                            catch (t) { } 4 === e.readyState && (200 === e.status || 1223 === e.status ? n.onLoad() : setTimeout(function () { n.onError("number" == typeof e.status ? e.status : 0); }, 0)); }, a("xhr data %s", this.data), e.send(this.data);
                    }
                    catch (t) {
                        return void setTimeout(function () { n.onError(t); }, 0);
                    } "undefined" != typeof document && (this.index = d.requestsCount++, d.requests[this.index] = this); }, d.prototype.onSuccess = function () { this.emit("success"), this.cleanup(); }, d.prototype.onData = function (t) { this.emit("data", t), this.onSuccess(); }, d.prototype.onError = function (t) { this.emit("error", t), this.cleanup(!0); }, d.prototype.cleanup = function (t) { if (void 0 !== this.xhr && null !== this.xhr) {
                        if (this.hasXDR() ? this.xhr.onload = this.xhr.onerror = c : this.xhr.onreadystatechange = c, t)
                            try {
                                this.xhr.abort();
                            }
                            catch (t) { }
                        "undefined" != typeof document && delete d.requests[this.index], this.xhr = null;
                    } }, d.prototype.onLoad = function () { var t; try {
                        var e;
                        try {
                            e = this.xhr.getResponseHeader("Content-Type");
                        }
                        catch (t) { }
                        t = ("application/octet-stream" === e || "application/octet-stream; charset=UTF-8" === e) && this.xhr.response || this.xhr.responseText;
                    }
                    catch (t) {
                        this.onError(t);
                    } null != t && this.onData(t); }, d.prototype.hasXDR = function () { return "undefined" != typeof XDomainRequest && !this.xs && this.enablesXDR; }, d.prototype.abort = function () { this.cleanup(); }, d.requestsCount = 0, d.requests = {}, "undefined" != typeof document)
                        if ("function" == typeof attachEvent)
                            attachEvent("onunload", h);
                        else if ("function" == typeof addEventListener) {
                            var u = "onpagehide" in self ? "pagehide" : "unload";
                            addEventListener(u, h, !1);
                        } function h() { for (var t in d.requests)
                        d.requests.hasOwnProperty(t) && d.requests[t].abort(); } }, function (t, e) { t.exports = Object.keys || function (t) { var e = [], n = Object.prototype.hasOwnProperty; for (var i in t)
                        n.call(t, i) && e.push(i); return e; }; }, function (t, e) { t.exports = function (t, e, n) { var i = t.byteLength; if (e = e || 0, n = n || i, t.slice)
                        return t.slice(e, n); if (e < 0 && (e += i), n < 0 && (n += i), n > i && (n = i), e >= i || e >= n || 0 === i)
                        return new ArrayBuffer(0); for (var o = new Uint8Array(t), r = new Uint8Array(n - e), s = e, a = 0; s < n; s++, a++)
                        r[a] = o[s]; return r.buffer; }; }, function (t, e) { function n() { } t.exports = function (t, e, i) { var o = !1; return i = i || n, r.count = t, 0 === t ? e() : r; function r(t, n) { if (r.count <= 0)
                        throw new Error("after called too many times"); --r.count, t ? (o = !0, e(t), e = i) : 0 !== r.count || o || e(null, n); } }; }, function (t, e) {
                        /*! https://mths.be/utf8js v2.1.2 by @mathias */
                        var n, i, o, r = String.fromCharCode;
                        function s(t) { for (var e, n, i = [], o = 0, r = t.length; o < r;)
                            (e = t.charCodeAt(o++)) >= 55296 && e <= 56319 && o < r ? 56320 == (64512 & (n = t.charCodeAt(o++))) ? i.push(((1023 & e) << 10) + (1023 & n) + 65536) : (i.push(e), o--) : i.push(e); return i; }
                        function a(t, e) { if (t >= 55296 && t <= 57343) {
                            if (e)
                                throw Error("Lone surrogate U+" + t.toString(16).toUpperCase() + " is not a scalar value");
                            return !1;
                        } return !0; }
                        function c(t, e) { return r(t >> e & 63 | 128); }
                        function l(t, e) { if (0 == (4294967168 & t))
                            return r(t); var n = ""; return 0 == (4294965248 & t) ? n = r(t >> 6 & 31 | 192) : 0 == (4294901760 & t) ? (a(t, e) || (t = 65533), n = r(t >> 12 & 15 | 224), n += c(t, 6)) : 0 == (4292870144 & t) && (n = r(t >> 18 & 7 | 240), n += c(t, 12), n += c(t, 6)), n += r(63 & t | 128); }
                        function d() { if (o >= i)
                            throw Error("Invalid byte index"); var t = 255 & n[o]; if (o++, 128 == (192 & t))
                            return 63 & t; throw Error("Invalid continuation byte"); }
                        function u(t) { var e, r; if (o > i)
                            throw Error("Invalid byte index"); if (o == i)
                            return !1; if (e = 255 & n[o], o++, 0 == (128 & e))
                            return e; if (192 == (224 & e)) {
                            if ((r = (31 & e) << 6 | d()) >= 128)
                                return r;
                            throw Error("Invalid continuation byte");
                        } if (224 == (240 & e)) {
                            if ((r = (15 & e) << 12 | d() << 6 | d()) >= 2048)
                                return a(r, t) ? r : 65533;
                            throw Error("Invalid continuation byte");
                        } if (240 == (248 & e) && (r = (7 & e) << 18 | d() << 12 | d() << 6 | d()) >= 65536 && r <= 1114111)
                            return r; throw Error("Invalid UTF-8 detected"); }
                        t.exports = { version: "2.1.2", encode: function (t, e) { for (var n = !1 !== (e = e || {}).strict, i = s(t), o = i.length, r = -1, a = ""; ++r < o;)
                                a += l(i[r], n); return a; }, decode: function (t, e) { var a = !1 !== (e = e || {}).strict; n = s(t), i = n.length, o = 0; for (var c, l = []; !1 !== (c = u(a));)
                                l.push(c); return function (t) { for (var e, n = t.length, i = -1, o = ""; ++i < n;)
                                (e = t[i]) > 65535 && (o += r((e -= 65536) >>> 10 & 1023 | 55296), e = 56320 | 1023 & e), o += r(e); return o; }(l); } };
                    }, function (t, e) { !function () {
                        "use strict";
                        for (var t = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/", n = new Uint8Array(256), i = 0; i < t.length; i++)
                            n[t.charCodeAt(i)] = i;
                        e.encode = function (e) { var n, i = new Uint8Array(e), o = i.length, r = ""; for (n = 0; n < o; n += 3)
                            r += t[i[n] >> 2], r += t[(3 & i[n]) << 4 | i[n + 1] >> 4], r += t[(15 & i[n + 1]) << 2 | i[n + 2] >> 6], r += t[63 & i[n + 2]]; return o % 3 == 2 ? r = r.substring(0, r.length - 1) + "=" : o % 3 == 1 && (r = r.substring(0, r.length - 2) + "=="), r; }, e.decode = function (t) { var e, i, o, r, s, a = .75 * t.length, c = t.length, l = 0; "=" === t[t.length - 1] && (a--, "=" === t[t.length - 2] && a--); var d = new ArrayBuffer(a), u = new Uint8Array(d); for (e = 0; e < c; e += 4)
                            i = n[t.charCodeAt(e)], o = n[t.charCodeAt(e + 1)], r = n[t.charCodeAt(e + 2)], s = n[t.charCodeAt(e + 3)], u[l++] = i << 2 | o >> 4, u[l++] = (15 & o) << 4 | r >> 2, u[l++] = (3 & r) << 6 | 63 & s; return d; };
                    }(); }, function (t, e) { var n = void 0 !== n ? n : "undefined" != typeof WebKitBlobBuilder ? WebKitBlobBuilder : "undefined" != typeof MSBlobBuilder ? MSBlobBuilder : "undefined" != typeof MozBlobBuilder && MozBlobBuilder, i = function () { try {
                        return 2 === new Blob(["hi"]).size;
                    }
                    catch (t) {
                        return !1;
                    } }(), o = i && function () { try {
                        return 2 === new Blob([new Uint8Array([1, 2])]).size;
                    }
                    catch (t) {
                        return !1;
                    } }(), r = n && n.prototype.append && n.prototype.getBlob; function s(t) { return t.map(function (t) { if (t.buffer instanceof ArrayBuffer) {
                        var e = t.buffer;
                        if (t.byteLength !== e.byteLength) {
                            var n = new Uint8Array(t.byteLength);
                            n.set(new Uint8Array(e, t.byteOffset, t.byteLength)), e = n.buffer;
                        }
                        return e;
                    } return t; }); } function a(t, e) { e = e || {}; var i = new n; return s(t).forEach(function (t) { i.append(t); }), e.type ? i.getBlob(e.type) : i.getBlob(); } function c(t, e) { return new Blob(s(t), e || {}); } "undefined" != typeof Blob && (a.prototype = Blob.prototype, c.prototype = Blob.prototype), t.exports = i ? o ? Blob : c : r ? a : void 0; }, function (t, e, n) { (function (e) { var i = n(56), o = n(25); t.exports = d; var r, s = /\n/g, a = /\\n/g; function c() { } function l() { return "undefined" != typeof self ? self : "undefined" != typeof window ? window : void 0 !== e ? e : {}; } function d(t) { if (i.call(this, t), this.query = this.query || {}, !r) {
                        var e = l();
                        r = e.___eio = e.___eio || [];
                    } this.index = r.length; var n = this; r.push(function (t) { n.onData(t); }), this.query.j = this.index, "function" == typeof addEventListener && addEventListener("beforeunload", function () { n.script && (n.script.onerror = c); }, !1); } o(d, i), d.prototype.supportsBinary = !1, d.prototype.doClose = function () { this.script && (this.script.parentNode.removeChild(this.script), this.script = null), this.form && (this.form.parentNode.removeChild(this.form), this.form = null, this.iframe = null), i.prototype.doClose.call(this); }, d.prototype.doPoll = function () { var t = this, e = document.createElement("script"); this.script && (this.script.parentNode.removeChild(this.script), this.script = null), e.async = !0, e.src = this.uri(), e.onerror = function (e) { t.onError("jsonp poll error", e); }; var n = document.getElementsByTagName("script")[0]; n ? n.parentNode.insertBefore(e, n) : (document.head || document.body).appendChild(e), this.script = e, "undefined" != typeof navigator && /gecko/i.test(navigator.userAgent) && setTimeout(function () { var t = document.createElement("iframe"); document.body.appendChild(t), document.body.removeChild(t); }, 100); }, d.prototype.doWrite = function (t, e) { var n = this; if (!this.form) {
                        var i, o = document.createElement("form"), r = document.createElement("textarea"), c = this.iframeId = "eio_iframe_" + this.index;
                        o.className = "socketio", o.style.position = "absolute", o.style.top = "-1000px", o.style.left = "-1000px", o.target = c, o.method = "POST", o.setAttribute("accept-charset", "utf-8"), r.name = "d", o.appendChild(r), document.body.appendChild(o), this.form = o, this.area = r;
                    } function l() { d(), e(); } function d() { if (n.iframe)
                        try {
                            n.form.removeChild(n.iframe);
                        }
                        catch (t) {
                            n.onError("jsonp polling iframe removal error", t);
                        } try {
                        var t = '<iframe src="javascript:0" name="' + n.iframeId + '">';
                        i = document.createElement(t);
                    }
                    catch (t) {
                        (i = document.createElement("iframe")).name = n.iframeId, i.src = "javascript:0";
                    } i.id = n.iframeId, n.form.appendChild(i), n.iframe = i; } this.form.action = this.uri(), d(), t = t.replace(a, "\\\n"), this.area.value = t.replace(s, "\\n"); try {
                        this.form.submit();
                    }
                    catch (t) { } this.iframe.attachEvent ? this.iframe.onreadystatechange = function () { "complete" === n.iframe.readyState && l(); } : this.iframe.onload = l; }; }).call(this, n(15)); }, function (t, e, n) { (function (e) { var i, o, r = n(36), s = n(16), a = n(24), c = n(25), l = n(58), d = n(8)("engine.io-client:websocket"); if ("undefined" != typeof WebSocket ? i = WebSocket : "undefined" != typeof self && (i = self.WebSocket || self.MozWebSocket), "undefined" == typeof window)
                        try {
                            o = n(239);
                        }
                        catch (t) { } var u = i || o; function h(t) { t && t.forceBase64 && (this.supportsBinary = !1), this.perMessageDeflate = t.perMessageDeflate, this.usingBrowserWebSocket = i && !t.forceNode, this.protocols = t.protocols, this.usingBrowserWebSocket || (u = o), r.call(this, t); } t.exports = h, c(h, r), h.prototype.name = "websocket", h.prototype.supportsBinary = !0, h.prototype.doOpen = function () { if (this.check()) {
                        var t = this.uri(), e = this.protocols, n = { agent: this.agent, perMessageDeflate: this.perMessageDeflate };
                        n.pfx = this.pfx, n.key = this.key, n.passphrase = this.passphrase, n.cert = this.cert, n.ca = this.ca, n.ciphers = this.ciphers, n.rejectUnauthorized = this.rejectUnauthorized, this.extraHeaders && (n.headers = this.extraHeaders), this.localAddress && (n.localAddress = this.localAddress);
                        try {
                            this.ws = this.usingBrowserWebSocket && !this.isReactNative ? e ? new u(t, e) : new u(t) : new u(t, e, n);
                        }
                        catch (t) {
                            return this.emit("error", t);
                        }
                        void 0 === this.ws.binaryType && (this.supportsBinary = !1), this.ws.supports && this.ws.supports.binary ? (this.supportsBinary = !0, this.ws.binaryType = "nodebuffer") : this.ws.binaryType = "arraybuffer", this.addEventListeners();
                    } }, h.prototype.addEventListeners = function () { var t = this; this.ws.onopen = function () { t.onOpen(); }, this.ws.onclose = function () { t.onClose(); }, this.ws.onmessage = function (e) { t.onData(e.data); }, this.ws.onerror = function (e) { t.onError("websocket error", e); }; }, h.prototype.write = function (t) { var n = this; this.writable = !1; for (var i = t.length, o = 0, r = i; o < r; o++)
                        !function (t) { s.encodePacket(t, n.supportsBinary, function (o) { if (!n.usingBrowserWebSocket) {
                            var r = {};
                            if (t.options && (r.compress = t.options.compress), n.perMessageDeflate)
                                ("string" == typeof o ? e.byteLength(o) : o.length) < n.perMessageDeflate.threshold && (r.compress = !1);
                        } try {
                            n.usingBrowserWebSocket ? n.ws.send(o) : n.ws.send(o, r);
                        }
                        catch (t) {
                            d("websocket closed before onclose event");
                        } --i || a(); }); }(t[o]); function a() { n.emit("flush"), setTimeout(function () { n.writable = !0, n.emit("drain"); }, 0); } }, h.prototype.onClose = function () { r.prototype.onClose.call(this); }, h.prototype.doClose = function () { void 0 !== this.ws && this.ws.close(); }, h.prototype.uri = function () { var t = this.query || {}, e = this.secure ? "wss" : "ws", n = ""; return this.port && ("wss" === e && 443 !== Number(this.port) || "ws" === e && 80 !== Number(this.port)) && (n = ":" + this.port), this.timestampRequests && (t[this.timestampParam] = l()), this.supportsBinary || (t.b64 = 1), (t = a.encode(t)).length && (t = "?" + t), e + "://" + (-1 !== this.hostname.indexOf(":") ? "[" + this.hostname + "]" : this.hostname) + n + this.path + t; }, h.prototype.check = function () { return !(!u || "__initialize" in u && this.name === h.prototype.name); }; }).call(this, n(21).Buffer); }, function (t, e) { }, function (t, e) { t.exports = function (t, e) { for (var n = [], i = (e = e || 0) || 0; i < t.length; i++)
                        n[i - e] = t[i]; return n; }; }, function (t, e) { function n(t) { t = t || {}, this.ms = t.min || 100, this.max = t.max || 1e4, this.factor = t.factor || 2, this.jitter = t.jitter > 0 && t.jitter <= 1 ? t.jitter : 0, this.attempts = 0; } t.exports = n, n.prototype.duration = function () { var t = this.ms * Math.pow(this.factor, this.attempts++); if (this.jitter) {
                        var e = Math.random(), n = Math.floor(e * this.jitter * t);
                        t = 0 == (1 & Math.floor(10 * e)) ? t - n : t + n;
                    } return 0 | Math.min(t, this.max); }, n.prototype.reset = function () { this.attempts = 0; }, n.prototype.setMin = function (t) { this.ms = t; }, n.prototype.setMax = function (t) { this.max = t; }, n.prototype.setJitter = function (t) { this.jitter = t; }; }, function (t, e, n) {
                        "use strict";
                        t.exports = function (t, e) { if (e = e.split(":")[0], !(t = +t))
                            return !1; switch (e) {
                            case "http":
                            case "ws": return 80 !== t;
                            case "https":
                            case "wss": return 443 !== t;
                            case "ftp": return 21 !== t;
                            case "gopher": return 70 !== t;
                            case "file": return !1;
                        } return 0 !== t; };
                    }, function (t, e, n) {
                        "use strict";
                        var i, o = Object.prototype.hasOwnProperty;
                        function r(t) { try {
                            return decodeURIComponent(t.replace(/\+/g, " "));
                        }
                        catch (t) {
                            return null;
                        } }
                        e.stringify = function (t, e) { e = e || ""; var n, r, s = []; for (r in "string" != typeof e && (e = "?"), t)
                            if (o.call(t, r)) {
                                if ((n = t[r]) || null !== n && n !== i && !isNaN(n) || (n = ""), r = encodeURIComponent(r), n = encodeURIComponent(n), null === r || null === n)
                                    continue;
                                s.push(r + "=" + n);
                            } return s.length ? e + s.join("&") : ""; }, e.parse = function (t) { for (var e, n = /([^=?&]+)=?([^&]*)/g, i = {}; e = n.exec(t);) {
                            var o = r(e[1]), s = r(e[2]);
                            null === o || null === s || o in i || (i[o] = s);
                        } return i; };
                    }, function (t, e, n) {
                        "use strict";
                        var i = t.exports = n(245);
                        i.build = "light", i.load = function (t, e, n) { return "function" == typeof e ? (n = e, e = new i.Root) : e || (e = new i.Root), e.load(t, n); }, i.loadSync = function (t, e) { return e || (e = new i.Root), e.loadSync(t); }, i.encoder = n(67), i.decoder = n(72), i.verifier = n(73), i.converter = n(74), i.ReflectionObject = n(17), i.Namespace = n(22), i.Root = n(76), i.Enum = n(10), i.Type = n(68), i.Field = n(18), i.OneOf = n(39), i.MapField = n(69), i.Service = n(70), i.Method = n(71), i.Message = n(40), i.wrappers = n(75), i.types = n(23), i.util = n(5), i.ReflectionObject._configure(i.Root), i.Namespace._configure(i.Type, i.Service, i.Enum), i.Root._configure(i.Type), i.Field._configure(i.Type);
                    }, function (t, e, n) {
                        "use strict";
                        var i = e;
                        function o() { i.Reader._configure(i.BufferReader), i.util._configure(); }
                        i.build = "minimal", i.Writer = n(37), i.BufferWriter = n(252), i.Reader = n(38), i.BufferReader = n(253), i.util = n(9), i.rpc = n(65), i.roots = n(66), i.configure = o, i.Writer._configure(i.BufferWriter), o();
                    }, function (t, e, n) {
                        "use strict";
                        var i = e;
                        i.length = function (t) { var e = t.length; if (!e)
                            return 0; for (var n = 0; --e % 4 > 1 && "=" === t.charAt(e);)
                            ++n; return Math.ceil(3 * t.length) / 4 - n; };
                        for (var o = new Array(64), r = new Array(123), s = 0; s < 64;)
                            r[o[s] = s < 26 ? s + 65 : s < 52 ? s + 71 : s < 62 ? s - 4 : s - 59 | 43] = s++;
                        i.encode = function (t, e, n) { for (var i, r = null, s = [], a = 0, c = 0; e < n;) {
                            var l = t[e++];
                            switch (c) {
                                case 0:
                                    s[a++] = o[l >> 2], i = (3 & l) << 4, c = 1;
                                    break;
                                case 1:
                                    s[a++] = o[i | l >> 4], i = (15 & l) << 2, c = 2;
                                    break;
                                case 2: s[a++] = o[i | l >> 6], s[a++] = o[63 & l], c = 0;
                            }
                            a > 8191 && ((r || (r = [])).push(String.fromCharCode.apply(String, s)), a = 0);
                        } return c && (s[a++] = o[i], s[a++] = 61, 1 === c && (s[a++] = 61)), r ? (a && r.push(String.fromCharCode.apply(String, s.slice(0, a))), r.join("")) : String.fromCharCode.apply(String, s.slice(0, a)); };
                        i.decode = function (t, e, n) { for (var i, o = n, s = 0, a = 0; a < t.length;) {
                            var c = t.charCodeAt(a++);
                            if (61 === c && s > 1)
                                break;
                            if (void 0 === (c = r[c]))
                                throw Error("invalid encoding");
                            switch (s) {
                                case 0:
                                    i = c, s = 1;
                                    break;
                                case 1:
                                    e[n++] = i << 2 | (48 & c) >> 4, i = c, s = 2;
                                    break;
                                case 2:
                                    e[n++] = (15 & i) << 4 | (60 & c) >> 2, i = c, s = 3;
                                    break;
                                case 3: e[n++] = (3 & i) << 6 | c, s = 0;
                            }
                        } if (1 === s)
                            throw Error("invalid encoding"); return n - o; }, i.test = function (t) { return /^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(t); };
                    }, function (t, e, n) {
                        "use strict";
                        function i() { this._listeners = {}; }
                        t.exports = i, i.prototype.on = function (t, e, n) { return (this._listeners[t] || (this._listeners[t] = [])).push({ fn: e, ctx: n || this }), this; }, i.prototype.off = function (t, e) { if (void 0 === t)
                            this._listeners = {};
                        else if (void 0 === e)
                            this._listeners[t] = [];
                        else
                            for (var n = this._listeners[t], i = 0; i < n.length;)
                                n[i].fn === e ? n.splice(i, 1) : ++i; return this; }, i.prototype.emit = function (t) { var e = this._listeners[t]; if (e) {
                            for (var n = [], i = 1; i < arguments.length;)
                                n.push(arguments[i++]);
                            for (i = 0; i < e.length;)
                                e[i].fn.apply(e[i++].ctx, n);
                        } return this; };
                    }, function (t, e, n) {
                        "use strict";
                        function i(t) { return "undefined" != typeof Float32Array ? function () { var e = new Float32Array([-0]), n = new Uint8Array(e.buffer), i = 128 === n[3]; function o(t, i, o) { e[0] = t, i[o] = n[0], i[o + 1] = n[1], i[o + 2] = n[2], i[o + 3] = n[3]; } function r(t, i, o) { e[0] = t, i[o] = n[3], i[o + 1] = n[2], i[o + 2] = n[1], i[o + 3] = n[0]; } function s(t, i) { return n[0] = t[i], n[1] = t[i + 1], n[2] = t[i + 2], n[3] = t[i + 3], e[0]; } function a(t, i) { return n[3] = t[i], n[2] = t[i + 1], n[1] = t[i + 2], n[0] = t[i + 3], e[0]; } t.writeFloatLE = i ? o : r, t.writeFloatBE = i ? r : o, t.readFloatLE = i ? s : a, t.readFloatBE = i ? a : s; }() : function () { function e(t, e, n, i) { var o = e < 0 ? 1 : 0; if (o && (e = -e), 0 === e)
                            t(1 / e > 0 ? 0 : 2147483648, n, i);
                        else if (isNaN(e))
                            t(2143289344, n, i);
                        else if (e > 3.4028234663852886e38)
                            t((o << 31 | 2139095040) >>> 0, n, i);
                        else if (e < 1.1754943508222875e-38)
                            t((o << 31 | Math.round(e / 1.401298464324817e-45)) >>> 0, n, i);
                        else {
                            var r = Math.floor(Math.log(e) / Math.LN2);
                            t((o << 31 | r + 127 << 23 | 8388607 & Math.round(e * Math.pow(2, -r) * 8388608)) >>> 0, n, i);
                        } } function n(t, e, n) { var i = t(e, n), o = 2 * (i >> 31) + 1, r = i >>> 23 & 255, s = 8388607 & i; return 255 === r ? s ? NaN : o * (1 / 0) : 0 === r ? 1.401298464324817e-45 * o * s : o * Math.pow(2, r - 150) * (s + 8388608); } t.writeFloatLE = e.bind(null, o), t.writeFloatBE = e.bind(null, r), t.readFloatLE = n.bind(null, s), t.readFloatBE = n.bind(null, a); }(), "undefined" != typeof Float64Array ? function () { var e = new Float64Array([-0]), n = new Uint8Array(e.buffer), i = 128 === n[7]; function o(t, i, o) { e[0] = t, i[o] = n[0], i[o + 1] = n[1], i[o + 2] = n[2], i[o + 3] = n[3], i[o + 4] = n[4], i[o + 5] = n[5], i[o + 6] = n[6], i[o + 7] = n[7]; } function r(t, i, o) { e[0] = t, i[o] = n[7], i[o + 1] = n[6], i[o + 2] = n[5], i[o + 3] = n[4], i[o + 4] = n[3], i[o + 5] = n[2], i[o + 6] = n[1], i[o + 7] = n[0]; } function s(t, i) { return n[0] = t[i], n[1] = t[i + 1], n[2] = t[i + 2], n[3] = t[i + 3], n[4] = t[i + 4], n[5] = t[i + 5], n[6] = t[i + 6], n[7] = t[i + 7], e[0]; } function a(t, i) { return n[7] = t[i], n[6] = t[i + 1], n[5] = t[i + 2], n[4] = t[i + 3], n[3] = t[i + 4], n[2] = t[i + 5], n[1] = t[i + 6], n[0] = t[i + 7], e[0]; } t.writeDoubleLE = i ? o : r, t.writeDoubleBE = i ? r : o, t.readDoubleLE = i ? s : a, t.readDoubleBE = i ? a : s; }() : function () { function e(t, e, n, i, o, r) { var s = i < 0 ? 1 : 0; if (s && (i = -i), 0 === i)
                            t(0, o, r + e), t(1 / i > 0 ? 0 : 2147483648, o, r + n);
                        else if (isNaN(i))
                            t(0, o, r + e), t(2146959360, o, r + n);
                        else if (i > 1.7976931348623157e308)
                            t(0, o, r + e), t((s << 31 | 2146435072) >>> 0, o, r + n);
                        else {
                            var a;
                            if (i < 2.2250738585072014e-308)
                                t((a = i / 5e-324) >>> 0, o, r + e), t((s << 31 | a / 4294967296) >>> 0, o, r + n);
                            else {
                                var c = Math.floor(Math.log(i) / Math.LN2);
                                1024 === c && (c = 1023), t(4503599627370496 * (a = i * Math.pow(2, -c)) >>> 0, o, r + e), t((s << 31 | c + 1023 << 20 | 1048576 * a & 1048575) >>> 0, o, r + n);
                            }
                        } } function n(t, e, n, i, o) { var r = t(i, o + e), s = t(i, o + n), a = 2 * (s >> 31) + 1, c = s >>> 20 & 2047, l = 4294967296 * (1048575 & s) + r; return 2047 === c ? l ? NaN : a * (1 / 0) : 0 === c ? 5e-324 * a * l : a * Math.pow(2, c - 1075) * (l + 4503599627370496); } t.writeDoubleLE = e.bind(null, o, 0, 4), t.writeDoubleBE = e.bind(null, r, 4, 0), t.readDoubleLE = n.bind(null, s, 0, 4), t.readDoubleBE = n.bind(null, a, 4, 0); }(), t; }
                        function o(t, e, n) { e[n] = 255 & t, e[n + 1] = t >>> 8 & 255, e[n + 2] = t >>> 16 & 255, e[n + 3] = t >>> 24; }
                        function r(t, e, n) { e[n] = t >>> 24, e[n + 1] = t >>> 16 & 255, e[n + 2] = t >>> 8 & 255, e[n + 3] = 255 & t; }
                        function s(t, e) { return (t[e] | t[e + 1] << 8 | t[e + 2] << 16 | t[e + 3] << 24) >>> 0; }
                        function a(t, e) { return (t[e] << 24 | t[e + 1] << 16 | t[e + 2] << 8 | t[e + 3]) >>> 0; }
                        t.exports = i(i);
                    }, function (t, e, n) {
                        "use strict";
                        var i = e;
                        i.length = function (t) { for (var e = 0, n = 0, i = 0; i < t.length; ++i)
                            (n = t.charCodeAt(i)) < 128 ? e += 1 : n < 2048 ? e += 2 : 55296 == (64512 & n) && 56320 == (64512 & t.charCodeAt(i + 1)) ? (++i, e += 4) : e += 3; return e; }, i.read = function (t, e, n) { if (n - e < 1)
                            return ""; for (var i, o = null, r = [], s = 0; e < n;)
                            (i = t[e++]) < 128 ? r[s++] = i : i > 191 && i < 224 ? r[s++] = (31 & i) << 6 | 63 & t[e++] : i > 239 && i < 365 ? (i = ((7 & i) << 18 | (63 & t[e++]) << 12 | (63 & t[e++]) << 6 | 63 & t[e++]) - 65536, r[s++] = 55296 + (i >> 10), r[s++] = 56320 + (1023 & i)) : r[s++] = (15 & i) << 12 | (63 & t[e++]) << 6 | 63 & t[e++], s > 8191 && ((o || (o = [])).push(String.fromCharCode.apply(String, r)), s = 0); return o ? (s && o.push(String.fromCharCode.apply(String, r.slice(0, s))), o.join("")) : String.fromCharCode.apply(String, r.slice(0, s)); }, i.write = function (t, e, n) { for (var i, o, r = n, s = 0; s < t.length; ++s)
                            (i = t.charCodeAt(s)) < 128 ? e[n++] = i : i < 2048 ? (e[n++] = i >> 6 | 192, e[n++] = 63 & i | 128) : 55296 == (64512 & i) && 56320 == (64512 & (o = t.charCodeAt(s + 1))) ? (i = 65536 + ((1023 & i) << 10) + (1023 & o), ++s, e[n++] = i >> 18 | 240, e[n++] = i >> 12 & 63 | 128, e[n++] = i >> 6 & 63 | 128, e[n++] = 63 & i | 128) : (e[n++] = i >> 12 | 224, e[n++] = i >> 6 & 63 | 128, e[n++] = 63 & i | 128); return n - r; };
                    }, function (t, e, n) {
                        "use strict";
                        t.exports = function (t, e, n) { var i = n || 8192, o = i >>> 1, r = null, s = i; return function (n) { if (n < 1 || n > o)
                            return t(n); s + n > i && (r = t(i), s = 0); var a = e.call(r, s, s += n); return 7 & s && (s = 1 + (7 | s)), a; }; };
                    }, function (t, e, n) {
                        "use strict";
                        t.exports = o;
                        var i = n(9);
                        function o(t, e) { this.lo = t >>> 0, this.hi = e >>> 0; }
                        var r = o.zero = new o(0, 0);
                        r.toNumber = function () { return 0; }, r.zzEncode = r.zzDecode = function () { return this; }, r.length = function () { return 1; };
                        var s = o.zeroHash = "\0\0\0\0\0\0\0\0";
                        o.fromNumber = function (t) { if (0 === t)
                            return r; var e = t < 0; e && (t = -t); var n = t >>> 0, i = (t - n) / 4294967296 >>> 0; return e && (i = ~i >>> 0, n = ~n >>> 0, ++n > 4294967295 && (n = 0, ++i > 4294967295 && (i = 0))), new o(n, i); }, o.from = function (t) { if ("number" == typeof t)
                            return o.fromNumber(t); if (i.isString(t)) {
                            if (!i.Long)
                                return o.fromNumber(parseInt(t, 10));
                            t = i.Long.fromString(t);
                        } return t.low || t.high ? new o(t.low >>> 0, t.high >>> 0) : r; }, o.prototype.toNumber = function (t) { if (!t && this.hi >>> 31) {
                            var e = 1 + ~this.lo >>> 0, n = ~this.hi >>> 0;
                            return e || (n = n + 1 >>> 0), -(e + 4294967296 * n);
                        } return this.lo + 4294967296 * this.hi; }, o.prototype.toLong = function (t) { return i.Long ? new i.Long(0 | this.lo, 0 | this.hi, Boolean(t)) : { low: 0 | this.lo, high: 0 | this.hi, unsigned: Boolean(t) }; };
                        var a = String.prototype.charCodeAt;
                        o.fromHash = function (t) { return t === s ? r : new o((a.call(t, 0) | a.call(t, 1) << 8 | a.call(t, 2) << 16 | a.call(t, 3) << 24) >>> 0, (a.call(t, 4) | a.call(t, 5) << 8 | a.call(t, 6) << 16 | a.call(t, 7) << 24) >>> 0); }, o.prototype.toHash = function () { return String.fromCharCode(255 & this.lo, this.lo >>> 8 & 255, this.lo >>> 16 & 255, this.lo >>> 24, 255 & this.hi, this.hi >>> 8 & 255, this.hi >>> 16 & 255, this.hi >>> 24); }, o.prototype.zzEncode = function () { var t = this.hi >> 31; return this.hi = ((this.hi << 1 | this.lo >>> 31) ^ t) >>> 0, this.lo = (this.lo << 1 ^ t) >>> 0, this; }, o.prototype.zzDecode = function () { var t = -(1 & this.lo); return this.lo = ((this.lo >>> 1 | this.hi << 31) ^ t) >>> 0, this.hi = (this.hi >>> 1 ^ t) >>> 0, this; }, o.prototype.length = function () { var t = this.lo, e = (this.lo >>> 28 | this.hi << 4) >>> 0, n = this.hi >>> 24; return 0 === n ? 0 === e ? t < 16384 ? t < 128 ? 1 : 2 : t < 2097152 ? 3 : 4 : e < 16384 ? e < 128 ? 5 : 6 : e < 2097152 ? 7 : 8 : n < 128 ? 9 : 10; };
                    }, function (t, e, n) {
                        "use strict";
                        t.exports = s;
                        var i = n(37);
                        (s.prototype = Object.create(i.prototype)).constructor = s;
                        var o = n(9), r = o.Buffer;
                        function s() { i.call(this); }
                        s.alloc = function (t) { return (s.alloc = o._Buffer_allocUnsafe)(t); };
                        var a = r && r.prototype instanceof Uint8Array && "set" === r.prototype.set.name ? function (t, e, n) { e.set(t, n); } : function (t, e, n) { if (t.copy)
                            t.copy(e, n, 0, t.length);
                        else
                            for (var i = 0; i < t.length;)
                                e[n++] = t[i++]; };
                        function c(t, e, n) { t.length < 40 ? o.utf8.write(t, e, n) : e.utf8Write(t, n); }
                        s.prototype.bytes = function (t) { o.isString(t) && (t = o._Buffer_from(t, "base64")); var e = t.length >>> 0; return this.uint32(e), e && this._push(a, e, t), this; }, s.prototype.string = function (t) { var e = r.byteLength(t); return this.uint32(e), e && this._push(c, e, t), this; };
                    }, function (t, e, n) {
                        "use strict";
                        t.exports = r;
                        var i = n(38);
                        (r.prototype = Object.create(i.prototype)).constructor = r;
                        var o = n(9);
                        function r(t) { i.call(this, t); }
                        o.Buffer && (r.prototype._slice = o.Buffer.prototype.slice), r.prototype.string = function () { var t = this.uint32(); return this.buf.utf8Slice(this.pos, this.pos = Math.min(this.pos + t, this.len)); };
                    }, function (t, e, n) {
                        "use strict";
                        t.exports = o;
                        var i = n(9);
                        function o(t, e, n) { if ("function" != typeof t)
                            throw TypeError("rpcImpl must be a function"); i.EventEmitter.call(this), this.rpcImpl = t, this.requestDelimited = Boolean(e), this.responseDelimited = Boolean(n); }
                        (o.prototype = Object.create(i.EventEmitter.prototype)).constructor = o, o.prototype.rpcCall = function t(e, n, o, r, s) { if (!r)
                            throw TypeError("request must be specified"); var a = this; if (!s)
                            return i.asPromise(t, a, e, n, o, r); if (a.rpcImpl)
                            try {
                                return a.rpcImpl(e, n[a.requestDelimited ? "encodeDelimited" : "encode"](r).finish(), function (t, n) { if (t)
                                    return a.emit("error", t, e), s(t); if (null !== n) {
                                    if (!(n instanceof o))
                                        try {
                                            n = o[a.responseDelimited ? "decodeDelimited" : "decode"](n);
                                        }
                                        catch (t) {
                                            return a.emit("error", t, e), s(t);
                                        }
                                    return a.emit("data", n, e), s(null, n);
                                } a.end(!0); });
                            }
                            catch (t) {
                                return a.emit("error", t, e), void setTimeout(function () { s(t); }, 0);
                            }
                        else
                            setTimeout(function () { s(Error("already ended")); }, 0); }, o.prototype.end = function (t) { return this.rpcImpl && (t || this.rpcImpl(null, null, null), this.rpcImpl = null, this.emit("end").off()), this; };
                    }, function (t, e, n) {
                        "use strict";
                        function i(t, e) { "string" == typeof t && (e = t, t = void 0); var n = []; function o(t) { if ("string" != typeof t) {
                            var e = r();
                            if (i.verbose && console.log("codegen: " + e), e = "return " + e, t) {
                                for (var s = Object.keys(t), a = new Array(s.length + 1), c = new Array(s.length), l = 0; l < s.length;)
                                    a[l] = s[l], c[l] = t[s[l++]];
                                return a[l] = e, Function.apply(null, a).apply(null, c);
                            }
                            return Function(e)();
                        } for (var d = new Array(arguments.length - 1), u = 0; u < d.length;)
                            d[u] = arguments[++u]; if (u = 0, t = t.replace(/%([%dfijs])/g, function (t, e) { var n = d[u++]; switch (e) {
                            case "d":
                            case "f": return String(Number(n));
                            case "i": return String(Math.floor(n));
                            case "j": return JSON.stringify(n);
                            case "s": return String(n);
                        } return "%"; }), u !== d.length)
                            throw Error("parameter count mismatch"); return n.push(t), o; } function r(i) { return "function " + (i || e || "") + "(" + (t && t.join(",") || "") + "){\n  " + n.join("\n  ") + "\n}"; } return o.toString = r, o; }
                        t.exports = i, i.verbose = !1;
                    }, function (t, e, n) {
                        "use strict";
                        t.exports = r;
                        var i = n(63), o = n(64)("fs");
                        function r(t, e, n) { return "function" == typeof e ? (n = e, e = {}) : e || (e = {}), n ? !e.xhr && o && o.readFile ? o.readFile(t, function (i, o) { return i && "undefined" != typeof XMLHttpRequest ? r.xhr(t, e, n) : i ? n(i) : n(null, e.binary ? o : o.toString("utf8")); }) : r.xhr(t, e, n) : i(r, this, t, e); }
                        r.xhr = function (t, e, n) { var i = new XMLHttpRequest; i.onreadystatechange = function () { if (4 === i.readyState) {
                            if (0 !== i.status && 200 !== i.status)
                                return n(Error("status " + i.status));
                            if (e.binary) {
                                var t = i.response;
                                if (!t) {
                                    t = [];
                                    for (var o = 0; o < i.responseText.length; ++o)
                                        t.push(255 & i.responseText.charCodeAt(o));
                                }
                                return n(null, "undefined" != typeof Uint8Array ? new Uint8Array(t) : t);
                            }
                            return n(null, i.responseText);
                        } }, e.binary && ("overrideMimeType" in i && i.overrideMimeType("text/plain; charset=x-user-defined"), i.responseType = "arraybuffer"), i.open("GET", t), i.send(); };
                    }, function (t, e, n) {
                        "use strict";
                        var i = e, o = i.isAbsolute = function (t) { return /^(?:\/|\w+:)/.test(t); }, r = i.normalize = function (t) { var e = (t = t.replace(/\\/g, "/").replace(/\/{2,}/g, "/")).split("/"), n = o(t), i = ""; n && (i = e.shift() + "/"); for (var r = 0; r < e.length;)
                            ".." === e[r] ? r > 0 && ".." !== e[r - 1] ? e.splice(--r, 2) : n ? e.splice(r, 1) : ++r : "." === e[r] ? e.splice(r, 1) : ++r; return i + e.join("/"); };
                        i.resolve = function (t, e, n) { return n || (e = r(e)), o(e) ? e : (n || (t = r(t)), (t = t.replace(/(?:\/|^)[^/]+$/, "")).length ? r(t + "/" + e) : e); };
                    }, function (t, e, n) { var i = n(20), o = n(77), r = Object.prototype.toString, s = "function" == typeof Blob || "undefined" != typeof Blob && "[object BlobConstructor]" === r.call(Blob), a = "function" == typeof File || "undefined" != typeof File && "[object FileConstructor]" === r.call(File); e.deconstructPacket = function (t) { var e = [], n = t.data, r = t; return r.data = function t(e, n) { if (!e)
                        return e; if (o(e)) {
                        var r = { _placeholder: !0, num: n.length };
                        return n.push(e), r;
                    } if (i(e)) {
                        for (var s = new Array(e.length), a = 0; a < e.length; a++)
                            s[a] = t(e[a], n);
                        return s;
                    } if ("object" == typeof e && !(e instanceof Date)) {
                        var s = {};
                        for (var c in e)
                            s[c] = t(e[c], n);
                        return s;
                    } return e; }(n, e), r.attachments = e.length, { packet: r, buffers: e }; }, e.reconstructPacket = function (t, e) { return t.data = function t(e, n) { if (!e)
                        return e; if (e && e._placeholder)
                        return n[e.num]; if (i(e))
                        for (var o = 0; o < e.length; o++)
                            e[o] = t(e[o], n);
                    else if ("object" == typeof e)
                        for (var r in e)
                            e[r] = t(e[r], n); return e; }(t.data, e), t.attachments = void 0, t; }, e.removeBlobs = function (t, e) { var n = 0, r = t; !function t(c, l, d) { if (!c)
                        return c; if (s && c instanceof Blob || a && c instanceof File) {
                        n++;
                        var u = new FileReader;
                        u.onload = function () { d ? d[l] = this.result : r = this.result, --n || e(r); }, u.readAsArrayBuffer(c);
                    }
                    else if (i(c))
                        for (var h = 0; h < c.length; h++)
                            t(c[h], h, c);
                    else if ("object" == typeof c && !o(c))
                        for (var f in c)
                            t(c[f], f, c); }(r), n || e(r); }; }, function (t, e, n) { var i = n(260); "string" == typeof i && (i = [[t.i, i, ""]]); var o = { injectType: "singletonStyleTag", insert: "head", singleton: !0 }; n(1)(i, o); i.locals && (t.exports = i.locals); }, function (t, e) { t.exports = ":root{--ck-user-colors--0:#6d78e8;--ck-user-colors--0-alpha:rgba(109,120,232,0.15);--ck-user-colors--1:#007a6c;--ck-user-colors--1-alpha:rgba(0,122,108,0.15);--ck-user-colors--2:#ba4545;--ck-user-colors--2-alpha:rgba(186,69,69,0.15);--ck-user-colors--3:#5635b1;--ck-user-colors--3-alpha:rgba(86,53,177,0.15);--ck-user-colors--4:#548a2e;--ck-user-colors--4-alpha:rgba(84,138,46,0.15);--ck-user-colors--5:#c3185d;--ck-user-colors--5-alpha:rgba(195,24,93,0.15);--ck-user-colors--6:#ea4343;--ck-user-colors--6-alpha:rgba(234,67,67,0.15);--ck-user-colors--7:#0bc3d0;--ck-user-colors--7-alpha:rgba(11,195,208,0.15);--ck-user-dot-size:6px}.ck .ck-user__color--0{color:var(--ck-user-colors--0)}.ck .ck-user__bg-color--0{background-color:var(--ck-user-colors--0)}.ck .ck-user__selection--0{background-color:var(--ck-user-colors--0-alpha)}.ck .ck-user__selection--0.ck-widget{background-color:transparent;border:3px solid var(--ck-user-colors--0)}.ck .ck-user__marker--0,.ck .ck-user__marker--0 .ck-user__marker-dot,.ck .ck-user__marker--0:after{background-color:var(--ck-user-colors--0)}.ck .ck-user__marker--0 .ck-user__marker-line{border:1px solid var(--ck-user-colors--0)}.ck .ck-user__color--1{color:var(--ck-user-colors--1)}.ck .ck-user__bg-color--1{background-color:var(--ck-user-colors--1)}.ck .ck-user__selection--1{background-color:var(--ck-user-colors--1-alpha)}.ck .ck-user__selection--1.ck-widget{background-color:transparent;border:3px solid var(--ck-user-colors--1)}.ck .ck-user__marker--1,.ck .ck-user__marker--1 .ck-user__marker-dot,.ck .ck-user__marker--1:after{background-color:var(--ck-user-colors--1)}.ck .ck-user__marker--1 .ck-user__marker-line{border:1px solid var(--ck-user-colors--1)}.ck .ck-user__color--2{color:var(--ck-user-colors--2)}.ck .ck-user__bg-color--2{background-color:var(--ck-user-colors--2)}.ck .ck-user__selection--2{background-color:var(--ck-user-colors--2-alpha)}.ck .ck-user__selection--2.ck-widget{background-color:transparent;border:3px solid var(--ck-user-colors--2)}.ck .ck-user__marker--2,.ck .ck-user__marker--2 .ck-user__marker-dot,.ck .ck-user__marker--2:after{background-color:var(--ck-user-colors--2)}.ck .ck-user__marker--2 .ck-user__marker-line{border:1px solid var(--ck-user-colors--2)}.ck .ck-user__color--3{color:var(--ck-user-colors--3)}.ck .ck-user__bg-color--3{background-color:var(--ck-user-colors--3)}.ck .ck-user__selection--3{background-color:var(--ck-user-colors--3-alpha)}.ck .ck-user__selection--3.ck-widget{background-color:transparent;border:3px solid var(--ck-user-colors--3)}.ck .ck-user__marker--3,.ck .ck-user__marker--3 .ck-user__marker-dot,.ck .ck-user__marker--3:after{background-color:var(--ck-user-colors--3)}.ck .ck-user__marker--3 .ck-user__marker-line{border:1px solid var(--ck-user-colors--3)}.ck .ck-user__color--4{color:var(--ck-user-colors--4)}.ck .ck-user__bg-color--4{background-color:var(--ck-user-colors--4)}.ck .ck-user__selection--4{background-color:var(--ck-user-colors--4-alpha)}.ck .ck-user__selection--4.ck-widget{background-color:transparent;border:3px solid var(--ck-user-colors--4)}.ck .ck-user__marker--4,.ck .ck-user__marker--4 .ck-user__marker-dot,.ck .ck-user__marker--4:after{background-color:var(--ck-user-colors--4)}.ck .ck-user__marker--4 .ck-user__marker-line{border:1px solid var(--ck-user-colors--4)}.ck .ck-user__color--5{color:var(--ck-user-colors--5)}.ck .ck-user__bg-color--5{background-color:var(--ck-user-colors--5)}.ck .ck-user__selection--5{background-color:var(--ck-user-colors--5-alpha)}.ck .ck-user__selection--5.ck-widget{background-color:transparent;border:3px solid var(--ck-user-colors--5)}.ck .ck-user__marker--5,.ck .ck-user__marker--5 .ck-user__marker-dot,.ck .ck-user__marker--5:after{background-color:var(--ck-user-colors--5)}.ck .ck-user__marker--5 .ck-user__marker-line{border:1px solid var(--ck-user-colors--5)}.ck .ck-user__color--6{color:var(--ck-user-colors--6)}.ck .ck-user__bg-color--6{background-color:var(--ck-user-colors--6)}.ck .ck-user__selection--6{background-color:var(--ck-user-colors--6-alpha)}.ck .ck-user__selection--6.ck-widget{background-color:transparent;border:3px solid var(--ck-user-colors--6)}.ck .ck-user__marker--6,.ck .ck-user__marker--6 .ck-user__marker-dot,.ck .ck-user__marker--6:after{background-color:var(--ck-user-colors--6)}.ck .ck-user__marker--6 .ck-user__marker-line{border:1px solid var(--ck-user-colors--6)}.ck .ck-user__color--7{color:var(--ck-user-colors--7)}.ck .ck-user__bg-color--7{background-color:var(--ck-user-colors--7)}.ck .ck-user__selection--7{background-color:var(--ck-user-colors--7-alpha)}.ck .ck-user__selection--7.ck-widget{background-color:transparent;border:3px solid var(--ck-user-colors--7)}.ck .ck-user__marker--7,.ck .ck-user__marker--7 .ck-user__marker-dot,.ck .ck-user__marker--7:after{background-color:var(--ck-user-colors--7)}.ck .ck-user__marker--7 .ck-user__marker-line{border:1px solid var(--ck-user-colors--7)}"; }, function (t, e, n) { var i = n(262); "string" == typeof i && (i = [[t.i, i, ""]]); var o = { injectType: "singletonStyleTag", insert: "head", singleton: !0 }; n(1)(i, o); i.locals && (t.exports = i.locals); }, function (t, e) { t.exports = ":root{--ck-color-comment-marker:#fef7a9;--ck-color-comment-marker-active:#fdf05d}.ck-comment-marker{background:var(--ck-color-comment-marker)}.ck-comment-marker.ck-widget{background-color:transparent;border:3px solid var(--ck-color-comment-marker)}.ck-comment-marker--active{background:var(--ck-color-comment-marker-active)}.ck-comment-marker--active.ck-widget{border-color:var(--ck-color-comment-marker-active)}.ck-comment-marker--active.ck-widget .ck-comment-marker{background-color:var(--ck-color-comment-marker)}.ck-comment-marker--active .ck-comment-marker{background:var(--ck-color-comment-marker-active)}"; }, function (t, e, n) { var i = n(264); "string" == typeof i && (i = [[t.i, i, ""]]); var o = { injectType: "singletonStyleTag", insert: "head", singleton: !0 }; n(1)(i, o); i.locals && (t.exports = i.locals); }, function (t, e) { t.exports = ".ck .ck-user__marker{display:inline;position:relative;cursor:default}.ck .ck-user__marker:after{content:attr(data-name);display:none;position:absolute;font-family:Georgia,sans-serif;font-size:var(--ck-font-size-base);line-height:1;font-style:normal;font-weight:400;left:0;opacity:0;top:-20px;padding:var(--ck-spacing-small);color:#fff;white-space:nowrap;transition:opacity .2s linear,transform .3s ease-in-out;z-index:99999}.ck .ck-user__marker:hover .ck-user__marker-dot{width:0}.ck .ck-user__marker:hover:after{display:block;opacity:1;animation:fadeInLeft .3s ease-in-out}.ck .ck-user__marker-line{position:absolute;bottom:0;height:100%;width:0}.ck .ck-user__marker-dot{display:block;position:absolute;left:50%;top:calc(var(--ck-user-dot-size)/2*-1);width:var(--ck-user-dot-size);height:var(--ck-user-dot-size);border-radius:50%;transform:translate(-50%,-50%);cursor:default}.ck .ck-placeholder .ck-user__marker{display:none}@keyframes fadeInLeft{0%{opacity:0;transform:translateX(-10px)}to{opacity:1;transform:translateX(0)}}"; }, function (t, e, n) { var i, o, r = n(78), s = n(79), a = 0, c = 0; t.exports = function (t, e, n) { var l = e && n || 0, d = e || [], u = (t = t || {}).node || i, h = void 0 !== t.clockseq ? t.clockseq : o; if (null == u || null == h) {
                        var f = r();
                        null == u && (u = i = [1 | f[0], f[1], f[2], f[3], f[4], f[5]]), null == h && (h = o = 16383 & (f[6] << 8 | f[7]));
                    } var p = void 0 !== t.msecs ? t.msecs : (new Date).getTime(), m = void 0 !== t.nsecs ? t.nsecs : c + 1, g = p - a + (m - c) / 1e4; if (g < 0 && void 0 === t.clockseq && (h = h + 1 & 16383), (g < 0 || p > a) && void 0 === t.nsecs && (m = 0), m >= 1e4)
                        throw new Error("uuid.v1(): Can't create more than 10M uuids/sec"); a = p, c = m, o = h; var x = (1e4 * (268435455 & (p += 122192928e5)) + m) % 4294967296; d[l++] = x >>> 24 & 255, d[l++] = x >>> 16 & 255, d[l++] = x >>> 8 & 255, d[l++] = 255 & x; var b = p / 4294967296 * 1e4 & 268435455; d[l++] = b >>> 8 & 255, d[l++] = 255 & b, d[l++] = b >>> 24 & 15 | 16, d[l++] = b >>> 16 & 255, d[l++] = h >>> 8 | 128, d[l++] = 255 & h; for (var k = 0; k < 6; ++k)
                        d[l + k] = u[k]; return e || s(d); }; }, function (t, e, n) { var i = n(78), o = n(79); t.exports = function (t, e, n) { var r = e && n || 0; "string" == typeof t && (e = "binary" === t ? new Array(16) : null, t = null); var s = (t = t || {}).random || (t.rng || i)(); if (s[6] = 15 & s[6] | 64, s[8] = 63 & s[8] | 128, e)
                        for (var a = 0; a < 16; ++a)
                            e[r + a] = s[a]; return e || o(s); }; }, function (t, e, n) { var i = n(268); "string" == typeof i && (i = [[t.i, i, ""]]); var o = { injectType: "singletonStyleTag", insert: "head", singleton: !0 }; n(1)(i, o); i.locals && (t.exports = i.locals); }, function (t, e) { t.exports = ":root{--ck-inline-annotation-container-width:300px;--ck-inline-annotation-container-max-height:400px}.ck.ck-balloon-panel .ck-annotation-wrapper{position:static;width:var(--ck-inline-annotation-container-width);max-height:var(--ck-inline-annotation-container-max-height);overflow-y:auto;overscroll-behavior-y:contain;overflow-x:hidden}.ck.ck-balloon-panel .ck-annotation{animation:none}.ck.ck-balloon-panel .ck-annotation-wrapper *{white-space:normal}.ck.ck-balloon-panel .ck-annotation-wrapper strong{font-weight:700}.ck.ck-balloon-panel .ck-annotation-wrapper i{font-style:italic}.ck.ck-balloon-panel button.ck-suggestion--accept .ck-tooltip__text,.ck.ck-balloon-panel button.ck-suggestion--discard .ck-tooltip__text{text-align:center}.ck.ck-balloon-panel button.ck-suggestion--discard .ck-tooltip{left:unset;right:0}.ck.ck-balloon-panel button.ck-suggestion--discard .ck-tooltip__text{left:unset}.ck.ck-balloon-panel button.ck-suggestion--discard .ck-tooltip__text:after{left:calc(100% - 10px)}"; }, function (t, e, n) { var i = n(270); "string" == typeof i && (i = [[t.i, i, ""]]); var o = { injectType: "singletonStyleTag", insert: "head", singleton: !0 }; n(1)(i, o); i.locals && (t.exports = i.locals); }, function (t, e) { t.exports = ":root{--ck-user-avatar-size:40px;--ck-user-avatar-background:#3670ab;--ck-user-avatar-color:#fff}.ck.ck-user{display:flex;justify-content:center;align-items:center;position:relative;border-radius:50%;overflow:hidden;background-color:var(--ck-user-avatar-background);height:var(--ck-user-avatar-size);width:var(--ck-user-avatar-size);min-width:var(--ck-user-avatar-size);min-height:var(--ck-user-avatar-size)}.ck.ck-user__name{color:var(--ck-user-avatar-color);cursor:default;-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none}.ck.ck-user__name.ck-user__name--hidden{display:none}.ck.ck-user__img{display:none;width:inherit;height:inherit;background-position:50%;background-repeat:no-repeat;background-size:cover;background-color:var(--ck-user-avatar-background);border-radius:50%;border:2px solid var(--ck-user-avatar-background)}.ck.ck-user__img.ck-user__anonymous{display:block;background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 20 20'%3E%3Cpath fill='%23FFF' d='M9.8 20H2c0-5.7 5-5.7 6-7l.2-.8c-1.6-.8-2.7-2.7-2.7-5 0-2.8 2-5.2 4.3-5.2S14 4.4 14 7.3c0 2.2-1 4-2.6 5l.2.6c1.2 1.3 6 1.4 6 7H9.8z'/%3E%3C/svg%3E\")}.ck.ck-user__img.ck-user__anonymous+.ck-user__name{display:none}.ck.ck-user__img.ck-user__avatar{display:block;background-color:#fff}.ck.ck-user__img.ck-user__img--hidden{display:none}"; }, function (t, e, n) { var i = n(13), o = n(273), r = n(42); t.exports = function (t) { var e = i(t); return r(e, o(e)) + 1; }; }, function (t, e) { t.exports = function (t) { var e = new Date(t.getTime()), n = e.getTimezoneOffset(); return e.setSeconds(0, 0), 6e4 * n + e.getTime() % 6e4; }; }, function (t, e, n) { var i = n(13); t.exports = function (t) { var e = i(t), n = new Date(0); return n.setFullYear(e.getFullYear(), 0, 1), n.setHours(0, 0, 0, 0), n; }; }, function (t, e, n) { var i = n(13); t.exports = function (t) { var e = i(t); return e.setHours(0, 0, 0, 0), e; }; }, function (t, e, n) { var i = n(13), o = n(41), r = n(277), s = 6048e5; t.exports = function (t) { var e = i(t), n = o(e).getTime() - r(e).getTime(); return Math.round(n / s) + 1; }; }, function (t, e, n) { var i = n(13); t.exports = function (t, e) { var n = e && Number(e.weekStartsOn) || 0, o = i(t), r = o.getDay(), s = (r < n ? 7 : 0) + r - n; return o.setDate(o.getDate() - s), o.setHours(0, 0, 0, 0), o; }; }, function (t, e, n) { var i = n(81), o = n(41); t.exports = function (t) { var e = i(t), n = new Date(0); return n.setFullYear(e, 0, 4), n.setHours(0, 0, 0, 0), o(n); }; }, function (t, e, n) { var i = n(80); t.exports = function (t) { if (i(t))
                        return !isNaN(t); throw new TypeError(toString.call(t) + " is not an instance of Date"); }; }, function (t, e, n) { var i = n(280), o = n(281); t.exports = { distanceInWords: i(), format: o() }; }, function (t, e) { t.exports = function () { var t = { lessThanXSeconds: { one: "less than a second", other: "less than {{count}} seconds" }, xSeconds: { one: "1 second", other: "{{count}} seconds" }, halfAMinute: "half a minute", lessThanXMinutes: { one: "less than a minute", other: "less than {{count}} minutes" }, xMinutes: { one: "1 minute", other: "{{count}} minutes" }, aboutXHours: { one: "about 1 hour", other: "about {{count}} hours" }, xHours: { one: "1 hour", other: "{{count}} hours" }, xDays: { one: "1 day", other: "{{count}} days" }, aboutXMonths: { one: "about 1 month", other: "about {{count}} months" }, xMonths: { one: "1 month", other: "{{count}} months" }, aboutXYears: { one: "about 1 year", other: "about {{count}} years" }, xYears: { one: "1 year", other: "{{count}} years" }, overXYears: { one: "over 1 year", other: "over {{count}} years" }, almostXYears: { one: "almost 1 year", other: "almost {{count}} years" } }; return { localize: function (e, n, i) { var o; return i = i || {}, o = "string" == typeof t[e] ? t[e] : 1 === n ? t[e].one : t[e].other.replace("{{count}}", n), i.addSuffix ? i.comparison > 0 ? "in " + o : o + " ago" : o; } }; }; }, function (t, e, n) { var i = n(282); t.exports = function () { var t = ["Jan", "Feb", "Mar", "Apr", "May", "Jun", "Jul", "Aug", "Sep", "Oct", "Nov", "Dec"], e = ["January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December"], n = ["Su", "Mo", "Tu", "We", "Th", "Fr", "Sa"], o = ["Sun", "Mon", "Tue", "Wed", "Thu", "Fri", "Sat"], r = ["Sunday", "Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday"], s = ["AM", "PM"], a = ["am", "pm"], c = ["a.m.", "p.m."], l = { MMM: function (e) { return t[e.getMonth()]; }, MMMM: function (t) { return e[t.getMonth()]; }, dd: function (t) { return n[t.getDay()]; }, ddd: function (t) { return o[t.getDay()]; }, dddd: function (t) { return r[t.getDay()]; }, A: function (t) { return t.getHours() / 12 >= 1 ? s[1] : s[0]; }, a: function (t) { return t.getHours() / 12 >= 1 ? a[1] : a[0]; }, aa: function (t) { return t.getHours() / 12 >= 1 ? c[1] : c[0]; } }; return ["M", "D", "DDD", "d", "Q", "W"].forEach(function (t) { l[t + "o"] = function (e, n) { return function (t) { var e = t % 100; if (e > 20 || e < 10)
                        switch (e % 10) {
                            case 1: return t + "st";
                            case 2: return t + "nd";
                            case 3: return t + "rd";
                        } return t + "th"; }(n[t](e)); }; }), { formatters: l, formattingTokensRegExp: i(l) }; }; }, function (t, e) { var n = ["M", "MM", "Q", "D", "DD", "DDD", "DDDD", "d", "E", "W", "WW", "YY", "YYYY", "GG", "GGGG", "H", "HH", "h", "hh", "m", "mm", "s", "ss", "S", "SS", "SSS", "Z", "ZZ", "X", "x"]; t.exports = function (t) { var e = []; for (var i in t)
                        t.hasOwnProperty(i) && e.push(i); var o = n.concat(e).sort().reverse(); return new RegExp("(\\[[^\\[]*\\])|(\\\\)?(" + o.join("|") + "|.)", "g"); }; }, function (t, e, n) { var i = n(284); "string" == typeof i && (i = [[t.i, i, ""]]); var o = { injectType: "singletonStyleTag", insert: "head", singleton: !0 }; n(1)(i, o); i.locals && (t.exports = i.locals); }, function (t, e) { t.exports = ":root{--ck-color-annotation-icon:grey;--ck-color-annotation-info:#757575;--ck-annotation-button-size:0.85em}.ck .ck-annotation{--ck-user-avatar-size:28px;font-size:var(--ck-font-size-base);display:flex;position:relative;animation:fadeInLeft .3s;transition:background-color .3s ease;padding:var(--ck-spacing-standard)}.ck .ck-annotation .ck-button{background-color:transparent;min-width:unset;min-height:unset;cursor:pointer;color:var(--ck-color-annotation-icon);border-radius:var(--ck-border-radius);font-size:var(--ck-annotation-button-size)}.ck .ck-annotation__main{display:flex;flex-wrap:wrap;justify-content:space-between;width:calc(100% - var(--ck-user-avatar-size));transition:all .2s ease;border-radius:var(--ck-border-radius);padding-left:var(--ck-spacing-standard)}.ck .ck-annotation__main p{margin:0;white-space:normal;font-size:var(--ck-font-size-base);line-height:1.5em}.ck .ck-annotation__user{margin-top:var(--ck-spacing-small)}.ck .ck-annotation__info{display:flex;align-items:center;color:var(--ck-color-annotation-info);min-height:2.4em}.ck .ck-annotation__info-name,.ck .ck-annotation__info-time{font-weight:700;max-width:150px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;color:var(--ck-color-annotation-info);font-size:var(--ck-font-size-small)}.ck .ck-annotation__info-time{margin-left:var(--ck-spacing-large)}.ck .ck-annotation__actions{transition:opacity .2s ease;opacity:.5}.ck .ck-annotation__content-wrapper{width:100%}@keyframes fadeInLeft{0%{transform:translate3d(-5%,0,0);opacity:0}to{transform:translateZ(0);opacity:1}}"; }, function (t, e, n) { var i = n(286); "string" == typeof i && (i = [[t.i, i, ""]]); var o = { injectType: "singletonStyleTag", insert: "head", singleton: !0 }; n(1)(i, o); i.locals && (t.exports = i.locals); }, function (t, e) { t.exports = ':root{--ck-color-comment-background:#f3f7fb;--ck-color-comment-separator:#cddeef;--ck-color-comment-remove-background:#fcc;--ck-color-comment-input-background:var(--ck-color-comment-background)}.ck .ck-comment__wrapper{font-size:var(--ck-font-size-base);position:relative;outline:0;transition:all .3s linear}.ck .ck-comment__wrapper.ck-comment--remove-confirmation{transform:translate3d(-100%,0,0)}.ck .ck-comment__wrapper:first-of-type{border-top-right-radius:var(--ck-border-radius);border-top-left-radius:var(--ck-border-radius)}.ck .ck-comment:after{content:"";display:block;position:absolute;opacity:1;top:calc(var(--ck-user-avatar-size) + var(--ck-spacing-small));left:calc(var(--ck-spacing-standard) + var(--ck-user-avatar-size)/2 - 2px);width:4px;height:100%;background-color:var(--ck-color-comment-separator)}.ck .ck-comment--remove{background-color:var(--ck-color-comment-remove-background)}.ck .ck-comment--edit{background-color:var(--ck-color-comment-input-background)}.ck .ck-comment--edit:after{opacity:0}.ck .ck-comment__main .ck-comment__input-wrapper{display:flex;flex-direction:column;position:relative;transition:all .3s linear}.ck .ck-comment__main .ck-comment__input-wrapper .ck-comment__input{padding:0}.ck .ck-comment__main .ck-comment__input-wrapper .ck-comment__input-actions{display:block}.ck .ck-comment__content{word-break:break-word}.ck .ck-comment__user{z-index:var(--ck-z-default)}.ck-comment__input-actions .ck.ck-button.ck-comment__input-actions--submit{color:var(--ck-color-button-save)}.ck-comment__input-actions .ck.ck-button.ck-comment__input-actions--cancel{color:var(--ck-color-button-cancel)}.ck .ck-comment__input p,.ck .ck-comment p{margin:0}.ck .ck-comment__input ol,.ck .ck-comment__input ul,.ck .ck-comment ol,.ck .ck-comment ul{padding-left:10px;margin-left:10px}.ck .ck-comment__input ul,.ck .ck-comment ul{list-style:disc;margin-bottom:5px;margin-top:0}.ck .ck-comment__input ul ul,.ck .ck-comment ul ul{list-style:circle}.ck .ck-comment__input ul ul ul,.ck .ck-comment ul ul ul{list-style:square}'; }, function (t, e, n) { var i = n(288); "string" == typeof i && (i = [[t.i, i, ""]]); var o = { injectType: "singletonStyleTag", insert: "head", singleton: !0 }; n(1)(i, o); i.locals && (t.exports = i.locals); }, function (t, e) { t.exports = ':root{--ck-color-thread-remove-background:var(--ck-color-comment-remove-background);--ck-color-comment-count:#5891ca}.ck .ck-thread{width:100%;color:var(--ck-color-base-text);outline:0;background-color:var(--ck-color-base-background);overflow:hidden;transition:all .3s ease;border-radius:var(--ck-border-radius)}.ck .ck-thread .ck-comment__wrapper:last-of-type .ck-comment:after{opacity:0}.ck .ck-thread__container{transition:transform .3s ease}.ck .ck-thread__comments{position:relative;z-index:var(--ck-z-default);list-style:none;margin:0;padding:0;border-radius:var(--ck-border-radius)}.ck .ck-thread__comment-count{--ck-user-avatar-size:28px;padding-left:calc(var(--ck-user-avatar-size) + var(--ck-spacing-standard)*2);color:var(--ck-color-comment-count);font-size:var(--ck-font-size-base);font-weight:700;cursor:pointer;transition:background-color .3s ease}.ck .ck-thread__comment-count:before{content:"\\25BC";margin-right:var(--ck-spacing-small)}.ck .ck-thread--active .ck-comment__options.ck-dropdown{display:block}.ck .ck-thread--active .ck-thread__input{display:block;background-color:var(--ck-color-comment-background)}.ck .ck-thread--active .ck-comment__wrapper .ck-comment--remove:after,.ck .ck-thread--active .ck-comment__wrapper:last-of-type .ck-comment:after{opacity:0}.ck .ck-thread--remove .ck-comment{background-color:var(--ck-color-comment-remove-background)}.ck .ck-thread--remove .ck-thread__input--active{background-color:var(--ck-color-base-background)}.ck .ck-thread--remove .ck-thread__comment-count,.ck .ck-thread--remove .ck-thread__input--active.ck-thread__input{background-color:var(--ck-color-comment-remove-background)}.ck .ck-thread--remove .ck-comment__wrapper .ck-comment:after{opacity:0}.ck .ck-thread--remove-confirmation .ck-thread__container{transform:translate3d(-100%,0,0)}.ck.ck-button.ck-thread__remove-confirm-submit{color:var(--ck-color-button-save)}.ck.ck-button.ck-thread__remove-confirm-cancel{color:var(--ck-color-button-cancel)}.ck .ck-thread__remove-confirm{font-size:var(--ck-font-size-base);position:absolute;display:flex;justify-content:flex-start;top:0;left:100%;width:100%;height:100%;background-color:var(--ck-color-comment-remove-background)}.ck .ck-thread__remove-confirm .ck-thread__remove-confirm-inner{display:flex;flex-direction:column;align-items:center;justify-content:center;padding-top:var(--ck-spacing-standard);height:100%;width:100%;max-height:400px}.ck .ck-thread__remove-confirm p{font-weight:700;margin:0}.ck .ck-thread__input{width:calc(100% - var(--ck-user-avatar-size));transition:background-color .2s ease-in-out;border-radius:var(--ck-border-radius)}'; }, function (t, e, n) { var i = n(290); "string" == typeof i && (i = [[t.i, i, ""]]); var o = { injectType: "singletonStyleTag", insert: "head", singleton: !0 }; n(1)(i, o); i.locals && (t.exports = i.locals); }, function (t, e) { t.exports = ".ck .ck-comment__input-container{--ck-user-avatar-size:28px;font-size:var(--ck-font-size-base);display:none;padding:var(--ck-spacing-standard);background:var(--ck-color-comment-background)}.ck .ck-comment__input-container--active{display:flex}.ck .ck-comment__input{padding:var(--ck-spacing-standard);padding-top:var(--ck-spacing-medium);color:var(--ck-color-base-text);border-width:0;resize:none;background-color:transparent;transition:color .3s ease-in-out}.ck .ck-comment__input:focus{outline:none}.ck .ck-comment__input .ck-editor__editable_inline{--ck-focus-ring:none;--ck-inner-shadow:none;padding:0;overflow:visible;border:0;background-color:transparent;word-break:break-word}.ck-comment__input-wrapper .ck.ck-editor__editable_inline :first-child{margin-top:0}.ck-comment__input-wrapper .ck.ck-editor__editable_inline :last-child{margin-bottom:0}.ck .ck-comment__input-actions{display:none;width:100%;text-align:right}.ck .ck-comment__input-actions .ck-button{background-color:transparent;min-width:unset;min-height:unset;cursor:pointer;color:var(--ck-color-annotations-icon);border-radius:var(--ck-border-radius);font-size:var(--ck-annotation-button-size)}.ck .ck-comment__input-actions .ck-button.ck-disabled{opacity:.3}.ck .ck-comment__input-actions--active,.ck .ck-comment__input-textarea{display:block}"; }, function (t, e, n) { var i = n(292); "string" == typeof i && (i = [[t.i, i, ""]]); var o = { injectType: "singletonStyleTag", insert: "head", singleton: !0 }; n(1)(i, o); i.locals && (t.exports = i.locals); }, function (t, e) { t.exports = ":root{--ck-color-annotation-wrapper-background:#fff;--ck-color-annotation-wrapper-drop-shadow:0 1px 1px 1px #e6e6e6}.ck.ck-sidebar{position:relative;transition:min-height .25s ease;outline:0}.ck-sidebar-item{position:absolute;width:100%;transition:top .3s ease,box-shadow .3s ease}.ck-sidebar-item--no-animation{transition:top 0s ease!important}.ck.ck-annotation-wrapper{outline:0;border-radius:var(--ck-border-radius);background:var(--ck-color-annotation-wrapper-background);box-shadow:var(--ck-color-annotation-wrapper-drop-shadow)}.ck.ck-annotation-wrapper:not(.ck-annotation-wrapper--active):hover{box-shadow:var(--ck-drop-shadow)}.ck.ck-annotation-wrapper--active{box-shadow:var(--ck-drop-shadow-active)}.ck.ck-annotation-wrapper--active .ck-annotation__actions,.ck.ck-annotation-wrapper:hover .ck-annotation__actions{opacity:1}.ck.ck-annotation-wrapper--active .ck-suggestion--accept,.ck.ck-annotation-wrapper:hover .ck-suggestion--accept{color:var(--ck-color-button-save)}.ck.ck-annotation-wrapper--active .ck-suggestion--discard,.ck.ck-annotation-wrapper:hover .ck-suggestion--discard{color:var(--ck-color-button-cancel)}"; }, function (t, e, n) { var i = n(294); "string" == typeof i && (i = [[t.i, i, ""]]); var o = { injectType: "singletonStyleTag", insert: "head", singleton: !0 }; n(1)(i, o); i.locals && (t.exports = i.locals); }, function (t, e) { t.exports = ":root{--ck-annotation-counter-icon-size:18px;--ck-annotation-counter-number-size:10px;--ck-color-annotation-counter-comment:#f2de02;--ck-color-annotation-counter-suggestion-insertion:#5ad86b;--ck-color-annotation-counter-suggestion-deletion:#d85a79;--ck-color-annotation-counter-suggestion-format:#5ac1d8}.ck.ck-sidebar--narrow .ck-sidebar-item{display:flex;justify-content:center}.ck.ck-sidebar--narrow .ck-annotation-counter{font-size:var(--ck-annotation-counter-icon-size);min-height:unset;padding:0;cursor:pointer;color:grey}.ck.ck-sidebar--narrow .ck-annotation-counter:focus,.ck.ck-sidebar--narrow .ck-annotation-counter:hover{background:transparent;box-shadow:none;color:#4d4d4d}.ck.ck-sidebar--narrow .ck-annotation-counter__badge{border-radius:50%;position:absolute;width:16px;height:16px;background:#333;font-weight:700;color:#fff;font-size:var(--ck-annotation-counter-number-size);font-family:var(--ck-font-face);right:0;top:0;text-shadow:-1px 0 2px #444,1px 0 2px #444;display:flex;justify-content:center;line-height:16px;z-index:1}.ck.ck-sidebar--narrow .ck-annotation-counter__badge--edit-mode{line-height:1}.ck.ck-sidebar--narrow .ck-annotation-counter__badge--suggestion-insertion,.ck.ck-sidebar--narrow .ck-annotation-counter__badge--suggestion-replace{background:var(--ck-color-annotation-counter-suggestion-insertion)}.ck.ck-sidebar--narrow .ck-annotation-counter__badge--suggestion-deletion{background:var(--ck-color-annotation-counter-suggestion-deletion)}.ck.ck-sidebar--narrow .ck-annotation-counter__badge--suggestion-format{background:var(--ck-color-annotation-counter-suggestion-format)}.ck.ck-sidebar--narrow .ck-annotation-counter__badge--comment{background:var(--ck-color-annotation-counter-comment)}"; }, function (t, e) { t.exports = ":root{--ck-color-comment-box-border:#f2de02;--ck-color-suggestion-box-deletion-border:#d85a79;--ck-color-suggestion-box-insertion-border:#5ad86b;--ck-color-suggestion-box-format-border:#5ac1d8}.ck .ck-suggestion{border-top-left-radius:var(--ck-border-radius)}.ck .ck-annotation{border-left:3px solid transparent}.ck .ck-comment,.ck .ck-comment__input-container,.ck .ck-thread__comment-count{border-left:3px solid var(--ck-color-comment-box-border)}.ck .ck-suggestion-insertion{border-left-color:var(--ck-color-suggestion-box-insertion-border)}.ck .ck-suggestion-deletion{border-left-color:var(--ck-color-suggestion-box-deletion-border)}.ck .ck-suggestion-replace{border-left-color:var(--ck-color-suggestion-box-insertion-border)}.ck .ck-suggestion-format{border-left-color:var(--ck-color-suggestion-box-format-border)}.ck .ck-suggestion-wrapper--active{outline:0;box-shadow:0 1px 2px 1px var(--ck-color-shadow-drop)}.ck .ck-suggestion-type{font-weight:700}.ck .ck-suggestion-insertion+.ck-thread .ck-comment,.ck .ck-suggestion-insertion+.ck-thread .ck-comment__input-container,.ck .ck-suggestion-insertion+.ck-thread .ck-thread__comment-count,.ck .ck-suggestion-replace+.ck-thread .ck-comment,.ck .ck-suggestion-replace+.ck-thread .ck-comment__input-container,.ck .ck-suggestion-replace+.ck-thread .ck-thread__comment-count{border-left-color:var(--ck-color-suggestion-box-insertion-border)}.ck .ck-suggestion-deletion+.ck-thread .ck-comment,.ck .ck-suggestion-deletion+.ck-thread .ck-comment__input-container,.ck .ck-suggestion-deletion+.ck-thread .ck-thread__comment-count{border-left-color:var(--ck-color-suggestion-box-deletion-border)}.ck .ck-suggestion-format+.ck-thread .ck-comment,.ck .ck-suggestion-format+.ck-thread .ck-comment__input-container,.ck .ck-suggestion-format+.ck-thread .ck-thread__comment-count{border-left-color:var(--ck-color-suggestion-box-format-border)}.ck .ck-suggestion-wrapper .ck-thread{border-top-left-radius:0}"; }, function (t, e) { t.exports = ':root{--ck-color-suggestion-marker-insertion-border:rgba(30,174,49,0.35);--ck-color-suggestion-marker-insertion-border-active:rgba(19,109,31,0.5);--ck-color-suggestion-marker-insertion-background:rgba(102,229,119,0.35);--ck-color-suggestion-marker-insertion-background-active:rgba(37,218,61,0.5);--ck-color-suggestion-marker-deletion-border:rgba(174,30,66,0.35);--ck-color-suggestion-marker-deletion-border-active:rgba(109,19,41,0.5);--ck-color-suggestion-marker-deletion-background:rgba(229,102,134,0.35);--ck-color-suggestion-marker-deletion-background-active:rgba(218,37,82,0.5);--ck-color-suggestion-marker-deletion-stroke:rgba(87,15,33,0.5);--ck-color-suggestion-marker-format-border:rgba(10,160,194,0.4);--ck-color-suggestion-marker-format-border-active:rgba(10,160,194,0.65)}.ck-suggestion-marker-insertion{border-top:3px solid var(--ck-color-suggestion-marker-insertion-border);border-bottom:3px solid var(--ck-color-suggestion-marker-insertion-border);background:var(--ck-color-suggestion-marker-insertion-background)}.ck-suggestion-marker-insertion.ck-suggestion-marker--active{border-color:var(--ck-color-suggestion-marker-insertion-border-active);background:var(--ck-color-suggestion-marker-insertion-background-active)}.ck-suggestion-marker-insertion.ck-widget{background:none;text-decoration:none;border:3px solid var(--ck-color-suggestion-marker-insertion-border)}.ck-suggestion-marker-insertion.ck-widget.ck-suggestion-marker--active{border-color:var(--ck-color-suggestion-marker-insertion-border-active)}.ck-suggestion-marker-deletion{border-top:3px solid var(--ck-color-suggestion-marker-deletion-border);border-bottom:3px solid var(--ck-color-suggestion-marker-deletion-border);text-decoration:line-through;text-decoration-color:var(--ck-color-suggestion-marker-deletion-stroke);background:var(--ck-color-suggestion-marker-deletion-background)}.ck-suggestion-marker-deletion.ck-suggestion-marker--active{border-color:var(--ck-color-suggestion-marker-deletion-border-active);background:var(--ck-color-suggestion-marker-deletion-background-active)}.ck-suggestion-marker-deletion.ck-widget{background:none;text-decoration:none;border:3px solid var(--ck-color-suggestion-marker-deletion-border)}.ck-suggestion-marker-deletion.ck-widget.ck-suggestion-marker--active{border-color:var(--ck-color-suggestion-marker-deletion-border-active)}.ck-suggestion-marker-merge:after{border-top:3px solid var(--ck-color-suggestion-marker-deletion-border);border-bottom:3px solid var(--ck-color-suggestion-marker-deletion-border);text-decoration:line-through;text-decoration-color:var(--ck-color-suggestion-marker-deletion-stroke);background:var(--ck-color-suggestion-marker-deletion-background);color:var(--ck-color-suggestion-marker-deletion-stroke);content:"¶"}.ck-suggestion-marker-merge.ck-suggestion-marker--active:after{border-color:var(--ck-color-suggestion-marker-deletion-border-active);background:var(--ck-color-suggestion-marker-deletion-background-active)}.ck-suggestion-marker-split:after{border-top:3px solid var(--ck-color-suggestion-marker-insertion-border);border-bottom:3px solid var(--ck-color-suggestion-marker-insertion-border);background:var(--ck-color-suggestion-marker-insertion-background);color:var(--ck-color-suggestion-marker-insertion-border);content:"¶"}.ck-suggestion-marker-split.ck-suggestion-marker--active:after{border-color:var(--ck-color-suggestion-marker-insertion-border-active);background:var(--ck-color-suggestion-marker-insertion-background-active)}.ck-suggestion-marker-formatInline{border-top:3px solid var(--ck-color-suggestion-marker-format-border);border-bottom:3px solid var(--ck-color-suggestion-marker-format-border)}.ck-suggestion-marker-formatInline.ck-suggestion-marker--active{border-color:var(--ck-color-suggestion-marker-format-border-active)}.ck-suggestion-marker-formatInline.ck-widget{background:none;border:3px solid var(--ck-color-suggestion-marker-format-border)}.ck-suggestion-marker-formatInline.ck-widget.ck-suggestion-marker--active{border-color:var(--ck-color-suggestion-marker-format-border-active)}.ck-suggestion-marker-formatBlock{border:0;background:none;box-shadow:-7px 0 0 0 var(--ck-color-base-background),-10px 0 0 0 var(--ck-color-suggestion-marker-format-border)}.ck-suggestion-marker-formatBlock.ck-suggestion-marker--active{box-shadow:-5px 0 0 0 var(--ck-color-base-background),-8px 0 0 0 var(--ck-color-suggestion-marker-format-border-active)}.ck-content figure.table .ck-suggestion-marker-formatBlock{box-shadow:-3px 0 0 0 var(--ck-color-suggestion-marker-format-border)}.ck-content figure.table .ck-suggestion-marker-formatBlock.ck-suggestion-marker--active{box-shadow:-3px 0 0 0 var(--ck-color-suggestion-marker-format-border-active)}.ck-content ol .ck-suggestion-marker-formatBlock,.ck-content ul .ck-suggestion-marker-formatBlock{box-shadow:-2px 0 0 0 var(--ck-color-base-background),-5px 0 0 0 var(--ck-color-suggestion-marker-format-border)}.ck-content ol .ck-suggestion-marker-formatBlock.ck-suggestion-marker--active,.ck-content ul .ck-suggestion-marker-formatBlock.ck-suggestion-marker--active{box-shadow:-2px 0 0 0 var(--ck-color-base-background),-5px 0 0 0 var(--ck-color-suggestion-marker-format-border-active)}'; }, function (t, e, n) { var i = n(298); "string" == typeof i && (i = [[t.i, i, ""]]); var o = { injectType: "singletonStyleTag", insert: "head", singleton: !0 }; n(1)(i, o); i.locals && (t.exports = i.locals); }, function (t, e) { t.exports = ":root{--ck-color-suggestion-insertion-image-background:rgba(102,229,119,0.05);--ck-color-suggestion-insertion-image-background-active:rgba(37,218,61,0.07);--ck-color-suggestion-insertion-image-caption-background:rgba(102,229,119,0.07);--ck-color-suggestion-insertion-image-caption-background-active:rgba(37,218,61,0.07);--ck-color-suggestion-deletion-image-background:rgba(229,102,134,0.05);--ck-color-suggestion-deletion-image-background-active:rgba(196,33,74,0.07);--ck-color-suggestion-deletion-image-caption-background:rgba(229,102,134,0.06);--ck-color-suggestion-deletion-image-caption-background-active:rgba(196,33,74,0.06)}.ck-suggestion-marker-deletion.ck-widget.image{background-color:var(--ck-color-suggestion-deletion-image-background)}.ck-suggestion-marker-deletion.ck-widget.image img{opacity:.6}.ck-suggestion-marker-deletion.ck-widget.image figcaption{background-color:var(--ck-color-suggestion-deletion-image-caption-background)}.ck-suggestion-marker-deletion.ck-widget.image.ck-suggestion-marker--active{background-color:var(--ck-color-suggestion-deletion-image-background-active)}.ck-suggestion-marker-deletion.ck-widget.image.ck-suggestion-marker--active figcaption{background-color:var(--ck-color-suggestion-deletion-image-caption-background-active)}.ck-suggestion-marker-insertion.ck-widget.image{background-color:var(--ck-color-suggestion-insertion-image-background)}.ck-suggestion-marker-insertion.ck-widget.image figcaption{background-color:var(--ck-color-suggestion-insertion-image-caption-background)}.ck-suggestion-marker-insertion.ck-widget.image.ck-suggestion-marker--active{background-color:var(--ck-color-suggestion-insertion-image-background-active)}.ck-suggestion-marker-insertion.ck-widget.image.ck-suggestion-marker--active figcaption{background-color:var(--ck-color-suggestion-insertion-image-caption-background-active)}"; }, function (t, e, n) { var i = n(300); "string" == typeof i && (i = [[t.i, i, ""]]); var o = { injectType: "singletonStyleTag", insert: "head", singleton: !0 }; n(1)(i, o); i.locals && (t.exports = i.locals); }, function (t, e) { t.exports = ":root{--ck-color-suggestion-insertion-td-background:rgba(102,229,119,0.07);--ck-color-suggestion-insertion-td-background-active:rgba(37,218,61,0.09);--ck-color-suggestion-insertion-th-background:rgba(102,229,119,0.12);--ck-color-suggestion-insertion-th-background-active:rgba(37,218,61,0.14);--ck-color-suggestion-deletion-td-background:rgba(229,102,134,0.09);--ck-color-suggestion-deletion-td-background-active:rgba(196,33,74,0.11);--ck-color-suggestion-deletion-th-background:rgba(229,102,134,0.14);--ck-color-suggestion-deletion-th-background-active:rgba(196,33,74,0.16);--ck-color-suggestion-format-background:rgba(10,160,194,0.09);--ck-color-suggestion-format-background-active:rgba(10,160,194,0.16)}.ck-suggestion-marker-deletion.ck-widget.table table,.ck-suggestion-marker-deletion.ck-widget.table th{border-color:var(--ck-color-suggestion-marker-deletion-border)}.ck-suggestion-marker-deletion.ck-widget.table th{background-color:var(--ck-color-suggestion-deletion-th-background)}.ck-suggestion-marker-deletion.ck-widget.table td{background-color:var(--ck-color-suggestion-deletion-td-background);border-color:var(--ck-color-suggestion-marker-deletion-border)}.ck-suggestion-marker-deletion.ck-widget.table.ck-suggestion-marker--active table{border-color:var(--ck-color-suggestion-marker-deletion-border-active)}.ck-suggestion-marker-deletion.ck-widget.table.ck-suggestion-marker--active th{background-color:var(--ck-color-suggestion-deletion-th-background-active);border-color:var(--ck-color-suggestion-marker-deletion-border-active)}.ck-suggestion-marker-deletion.ck-widget.table.ck-suggestion-marker--active td{background-color:var(--ck-color-suggestion-deletion-td-background-active);border-color:var(--ck-color-suggestion-marker-deletion-border-active)}.ck-suggestion-marker-insertion.ck-widget.table table,.ck-suggestion-marker-insertion.ck-widget.table th{border-color:var(--ck-color-suggestion-marker-insertion-border)}.ck-suggestion-marker-insertion.ck-widget.table th{background-color:var(--ck-color-suggestion-insertion-th-background)}.ck-suggestion-marker-insertion.ck-widget.table td{background-color:var(--ck-color-suggestion-insertion-td-background);border-color:var(--ck-color-suggestion-marker-insertion-border)}.ck-suggestion-marker-insertion.ck-widget.table.ck-suggestion-marker--active table{border-color:var(--ck-color-suggestion-marker-insertion-border-active)}.ck-suggestion-marker-insertion.ck-widget.table.ck-suggestion-marker--active th{background-color:var(--ck-color-suggestion-insertion-th-background-active);border-color:var(--ck-color-suggestion-marker-insertion-border-active)}.ck-suggestion-marker-insertion.ck-widget.table.ck-suggestion-marker--active td{background-color:var(--ck-color-suggestion-insertion-td-background-active);border-color:var(--ck-color-suggestion-marker-insertion-border-active)}.ck-widget.table th.ck-suggestion-marker-insertion-tableColumn,.ck-widget.table th.ck-suggestion-marker-insertion-tableRow{background-color:var(--ck-color-suggestion-insertion-th-background)}.ck-widget.table th.ck-suggestion-marker-insertion-tableColumn.ck-suggestion-marker--active,.ck-widget.table th.ck-suggestion-marker-insertion-tableRow.ck-suggestion-marker--active{background-color:var(--ck-color-suggestion-insertion-th-background-active)}.ck-widget.table th.ck-suggestion-marker-deletion-tableColumn,.ck-widget.table th.ck-suggestion-marker-deletion-tableRow{background-color:var(--ck-color-suggestion-deletion-th-background)}.ck-widget.table th.ck-suggestion-marker-deletion-tableColumn.ck-suggestion-marker--active,.ck-widget.table th.ck-suggestion-marker-deletion-tableRow.ck-suggestion-marker--active{background-color:var(--ck-color-suggestion-deletion-th-background-active)}.ck-widget.table td.ck-suggestion-marker-insertion-tableColumn,.ck-widget.table td.ck-suggestion-marker-insertion-tableRow{background-color:var(--ck-color-suggestion-insertion-td-background)}.ck-widget.table td.ck-suggestion-marker-insertion-tableColumn.ck-suggestion-marker--active,.ck-widget.table td.ck-suggestion-marker-insertion-tableRow.ck-suggestion-marker--active{background-color:var(--ck-color-suggestion-insertion-td-background-active)}.ck-widget.table td.ck-suggestion-marker-deletion-tableColumn,.ck-widget.table td.ck-suggestion-marker-deletion-tableRow{background-color:var(--ck-color-suggestion-deletion-td-background)}.ck-widget.table td.ck-suggestion-marker-deletion-tableColumn.ck-suggestion-marker--active,.ck-widget.table td.ck-suggestion-marker-deletion-tableRow.ck-suggestion-marker--active{background-color:var(--ck-color-suggestion-deletion-td-background-active)}.ck-widget.table td.ck-suggestion-marker-formatBlock-cell,.ck-widget.table th.ck-suggestion-marker-formatBlock-cell{background-color:var(--ck-color-suggestion-format-background)}.ck-widget.table td.ck-suggestion-marker-formatBlock-cell.ck-suggestion-marker--active,.ck-widget.table th.ck-suggestion-marker-formatBlock-cell.ck-suggestion-marker--active{background-color:var(--ck-color-suggestion-format-background-active)}"; }, function (t, e, n) { var i = n(302); "string" == typeof i && (i = [[t.i, i, ""]]); var o = { injectType: "singletonStyleTag", insert: "head", singleton: !0 }; n(1)(i, o); i.locals && (t.exports = i.locals); }, function (t, e) { t.exports = ":root{--ck-color-suggestion-insertion-media-background:rgba(102,229,119,0.05);--ck-color-suggestion-insertion-media-background-active:rgba(37,218,61,0.07);--ck-color-suggestion-deletion-media-background:rgba(229,102,134,0.05);--ck-color-suggestion-deletion-media-background-active:rgba(196,33,74,0.07)}.ck-suggestion-marker-deletion.ck-widget.media{background-color:var(--ck-color-suggestion-deletion-media-background)}.ck-suggestion-marker-deletion.ck-widget.media .ck-media__wrapper{opacity:.6}.ck-suggestion-marker-deletion.ck-widget.media.ck-suggestion-marker--active{background-color:var(--ck-color-suggestion-deletion-media-background-active)}.ck-suggestion-marker-insertion.ck-widget.media{background-color:var(--ck-color-suggestion-insertion-media-background)}.ck-suggestion-marker-insertion.ck-widget.media.ck-suggestion-marker--active{background-color:var(--ck-color-suggestion-insertion-image-background-active)}"; }, function (t, e, n) { var i = n(304); "string" == typeof i && (i = [[t.i, i, ""]]); var o = { injectType: "singletonStyleTag", insert: "head", singleton: !0 }; n(1)(i, o); i.locals && (t.exports = i.locals); }, function (t, e) { t.exports = '.ck.ck-tooltip,.ck.ck-tooltip .ck-tooltip__text:after{position:absolute;pointer-events:none;-webkit-backface-visibility:hidden}.ck.ck-tooltip{visibility:hidden;opacity:0;display:none;z-index:var(--ck-z-modal)}.ck.ck-tooltip .ck-tooltip__text{display:inline-block}.ck.ck-tooltip .ck-tooltip__text:after{content:"";width:0;height:0}:root{--ck-color-presence-list-dropdown-background:#fff;--ck-color-presence-list-dropdown-arrow-border:#ebebeb;--ck-presence-list-dropdown-list-max-width:250px;--ck-presence-list-dropdown-list-min-width:180px;--ck-presence-list-users-tooltip-max-width:120px;--ck-presence-list-users-tooltip-min-width:25px}.ck.ck-presence-list{display:flex;align-items:center;margin-right:var(--ck-spacing-standard);transition:margin-right .2s ease-in-out;font-size:var(--ck-font-size-base)}.ck.ck-presence-list *{box-sizing:border-box}.ck.ck-presence-list__list{display:flex;justify-content:flex-end}.ck.ck-presence-list__counter{color:var(--ck-color-base-text)}.ck.ck-presence-list__counter--hidden{display:none}.ck.ck-presence-list__list-item{font:inherit;color:inherit;border:0;padding:0;outline:none;background:none;position:relative;margin-left:var(--ck-spacing-standard)}.ck.ck-presence-list__list-item:hover .ck-tooltip{visibility:visible;opacity:1}.ck.ck-presence-list__list-item .ck.ck-tooltip{display:block}.ck.ck-presence-list__list-item .ck-tooltip__text span{display:block;max-width:var(--ck-presence-list-users-tooltip-max-width);overflow:hidden;text-align:center;text-overflow:ellipsis;white-space:nowrap}.ck.ck-presence-list__marker{position:relative;display:block;width:100%;height:3px;margin-top:3px}.ck.ck-presence-list--collapsed .ck-presence-list__list{min-width:calc(var(--ck-user-avatar-size)*1.5);margin-left:var(--ck-spacing-standard)}.ck.ck-presence-list--collapsed .ck-presence-list__list *{cursor:pointer;transition:all .4s ease-in-out}.ck.ck-presence-list--collapsed .ck.ck-presence-list__list-item{margin-left:calc(var(--ck-user-avatar-size)*-1 + 5px)}.ck.ck-presence-list--collapsed .ck.ck-presence-list__list-item .ck-tooltip{display:none}.ck.ck-presence-list--collapsed .ck.ck-presence-list__list-item:nth-last-child(5){opacity:.15}.ck.ck-presence-list--collapsed .ck.ck-presence-list__list-item:nth-last-child(4){opacity:.35}.ck.ck-presence-list--collapsed .ck.ck-presence-list__list-item:nth-last-child(3){opacity:.55}.ck.ck-presence-list--collapsed .ck.ck-presence-list__list-item:nth-last-child(2){opacity:.75}.ck.ck-presence-list__balloon{--ck-color-panel-border:var(--ck-color-presence-list-dropdown-arrow-border);--ck-color-panel-background:var(--ck-color-presence-list-dropdown-background);background-color:var(--ck-color-presence-list-dropdown-background);border:0;opacity:1;animation:fadeIn .3s ease-in-out}.ck.ck-presence-list__balloon .ck.ck-presence-list__dropdown-list-wrapper{max-height:80vh;min-width:var(--ck-presence-list-dropdown-list-min-width);max-width:var(--ck-presence-list-dropdown-list-max-width);overflow-y:auto;overflow-x:hidden;border-radius:var(--ck-border-radius)}.ck.ck-presence-list__balloon .ck.ck-presence-list__dropdown-list-item{font:inherit;color:inherit;border:0;padding:0;outline:none;background:none;display:flex;align-items:center;position:relative;padding:var(--ck-spacing-standard)}.ck.ck-presence-list__balloon .ck.ck-presence-list__dropdown-list-item:first-of-type .ck-presence-list__marker{border-top-left-radius:var(--ck-border-radius)}.ck.ck-presence-list__balloon .ck.ck-presence-list__dropdown-list-item:last-of-type .ck-presence-list__marker{border-bottom-left-radius:var(--ck-border-radius)}.ck.ck-presence-list__balloon .ck.ck-presence-list__dropdown-list .ck-user__full-name{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;color:var(--ck-color-base-text);margin-left:var(--ck-spacing-standard)}.ck.ck-presence-list__balloon .ck.ck-presence-list__dropdown-list .ck.ck-presence-list__marker{position:absolute;left:0;margin:0;height:100%;width:3px}.ck-presence-list__balloon button.ck-presence-list__dropdown-list-item *,.ck-presence-list__list button.ck-presence-list__list-item *{cursor:pointer}@keyframes fadeIn{0%{opacity:0}to{opacity:1}}'; }, function (t, e, n) {
                        "use strict";
                        n.r(e);
                        var i = {};
                        n.r(i), n.d(i, "Encoder", function () { return _w; }), n.d(i, "Decoder", function () { return Cw; });
                        var o = n(4), r = o.a.Symbol, s = Object.prototype, a = s.hasOwnProperty, c = s.toString, l = r ? r.toStringTag : void 0;
                        var d = function (t) { var e = a.call(t, l), n = t[l]; try {
                            t[l] = void 0;
                            var i = !0;
                        }
                        catch (t) { } var o = c.call(t); return i && (e ? t[l] = n : delete t[l]), o; }, u = Object.prototype.toString;
                        var h = function (t) { return u.call(t); }, f = "[object Null]", p = "[object Undefined]", m = r ? r.toStringTag : void 0;
                        var g = function (t) { return null == t ? void 0 === t ? p : f : m && m in Object(t) ? d(t) : h(t); };
                        var x = function (t, e) { return function (n) { return t(e(n)); }; }, b = x(Object.getPrototypeOf, Object);
                        var k = function (t) { return null != t && "object" == typeof t; }, w = "[object Object]", v = Function.prototype, y = Object.prototype, _ = v.toString, C = y.hasOwnProperty, T = _.call(Object);
                        var A = function (t) { if (!k(t) || g(t) != w)
                            return !1; var e = b(t); if (null === e)
                            return !0; var n = C.call(e, "constructor") && e.constructor; return "function" == typeof n && n instanceof n && _.call(n) == T; };
                        var S = function () { this.__data__ = [], this.size = 0; };
                        var E = function (t, e) { return t === e || t != t && e != e; };
                        var P = function (t, e) { for (var n = t.length; n--;)
                            if (E(t[n][0], e))
                                return n; return -1; }, I = Array.prototype.splice;
                        var N = function (t) { var e = this.__data__, n = P(e, t); return !(n < 0 || (n == e.length - 1 ? e.pop() : I.call(e, n, 1), --this.size, 0)); };
                        var M = function (t) { var e = this.__data__, n = P(e, t); return n < 0 ? void 0 : e[n][1]; };
                        var O = function (t) { return P(this.__data__, t) > -1; };
                        var R = function (t, e) { var n = this.__data__, i = P(n, t); return i < 0 ? (++this.size, n.push([t, e])) : n[i][1] = e, this; };
                        function D(t) { var e = -1, n = null == t ? 0 : t.length; for (this.clear(); ++e < n;) {
                            var i = t[e];
                            this.set(i[0], i[1]);
                        } }
                        D.prototype.clear = S, D.prototype.delete = N, D.prototype.get = M, D.prototype.has = O, D.prototype.set = R;
                        var j = D;
                        var B = function () { this.__data__ = new j, this.size = 0; };
                        var L = function (t) { var e = this.__data__, n = e.delete(t); return this.size = e.size, n; };
                        var V = function (t) { return this.__data__.get(t); };
                        var F = function (t) { return this.__data__.has(t); };
                        var z = function (t) { var e = typeof t; return null != t && ("object" == e || "function" == e); }, U = "[object AsyncFunction]", H = "[object Function]", q = "[object GeneratorFunction]", Y = "[object Proxy]";
                        var W = function (t) { if (!z(t))
                            return !1; var e = g(t); return e == H || e == q || e == U || e == Y; }, J = o.a["__core-js_shared__"], $ = function () { var t = /[^.]+$/.exec(J && J.keys && J.keys.IE_PROTO || ""); return t ? "Symbol(src)_1." + t : ""; }();
                        var G = function (t) { return !!$ && $ in t; }, K = Function.prototype.toString;
                        var Q = function (t) { if (null != t) {
                            try {
                                return K.call(t);
                            }
                            catch (t) { }
                            try {
                                return t + "";
                            }
                            catch (t) { }
                        } return ""; }, Z = /^\[object .+?Constructor\]$/, X = Function.prototype, tt = Object.prototype, et = X.toString, nt = tt.hasOwnProperty, it = RegExp("^" + et.call(nt).replace(/[\\^$.*+?()[\]{}|]/g, "\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g, "$1.*?") + "$");
                        var ot = function (t) { return !(!z(t) || G(t)) && (W(t) ? it : Z).test(Q(t)); };
                        var rt = function (t, e) { return null == t ? void 0 : t[e]; };
                        var st = function (t, e) { var n = rt(t, e); return ot(n) ? n : void 0; }, at = st(o.a, "Map"), ct = st(Object, "create");
                        var lt = function () { this.__data__ = ct ? ct(null) : {}, this.size = 0; };
                        var dt = function (t) { var e = this.has(t) && delete this.__data__[t]; return this.size -= e ? 1 : 0, e; }, ut = "__lodash_hash_undefined__", ht = Object.prototype.hasOwnProperty;
                        var ft = function (t) { var e = this.__data__; if (ct) {
                            var n = e[t];
                            return n === ut ? void 0 : n;
                        } return ht.call(e, t) ? e[t] : void 0; }, pt = Object.prototype.hasOwnProperty;
                        var mt = function (t) { var e = this.__data__; return ct ? void 0 !== e[t] : pt.call(e, t); }, gt = "__lodash_hash_undefined__";
                        var xt = function (t, e) { var n = this.__data__; return this.size += this.has(t) ? 0 : 1, n[t] = ct && void 0 === e ? gt : e, this; };
                        function bt(t) { var e = -1, n = null == t ? 0 : t.length; for (this.clear(); ++e < n;) {
                            var i = t[e];
                            this.set(i[0], i[1]);
                        } }
                        bt.prototype.clear = lt, bt.prototype.delete = dt, bt.prototype.get = ft, bt.prototype.has = mt, bt.prototype.set = xt;
                        var kt = bt;
                        var wt = function () { this.size = 0, this.__data__ = { hash: new kt, map: new (at || j), string: new kt }; };
                        var vt = function (t) { var e = typeof t; return "string" == e || "number" == e || "symbol" == e || "boolean" == e ? "__proto__" !== t : null === t; };
                        var yt = function (t, e) { var n = t.__data__; return vt(e) ? n["string" == typeof e ? "string" : "hash"] : n.map; };
                        var _t = function (t) { var e = yt(this, t).delete(t); return this.size -= e ? 1 : 0, e; };
                        var Ct = function (t) { return yt(this, t).get(t); };
                        var Tt = function (t) { return yt(this, t).has(t); };
                        var At = function (t, e) { var n = yt(this, t), i = n.size; return n.set(t, e), this.size += n.size == i ? 0 : 1, this; };
                        function St(t) { var e = -1, n = null == t ? 0 : t.length; for (this.clear(); ++e < n;) {
                            var i = t[e];
                            this.set(i[0], i[1]);
                        } }
                        St.prototype.clear = wt, St.prototype.delete = _t, St.prototype.get = Ct, St.prototype.has = Tt, St.prototype.set = At;
                        var Et = St, Pt = 200;
                        var It = function (t, e) { var n = this.__data__; if (n instanceof j) {
                            var i = n.__data__;
                            if (!at || i.length < Pt - 1)
                                return i.push([t, e]), this.size = ++n.size, this;
                            n = this.__data__ = new Et(i);
                        } return n.set(t, e), this.size = n.size, this; };
                        function Nt(t) { var e = this.__data__ = new j(t); this.size = e.size; }
                        Nt.prototype.clear = B, Nt.prototype.delete = L, Nt.prototype.get = V, Nt.prototype.has = F, Nt.prototype.set = It;
                        var Mt = Nt;
                        var Ot = function (t, e) { for (var n = -1, i = null == t ? 0 : t.length; ++n < i && !1 !== e(t[n], n, t);)
                            ; return t; }, Rt = function () { try {
                            var t = st(Object, "defineProperty");
                            return t({}, "", {}), t;
                        }
                        catch (t) { } }();
                        var Dt = function (t, e, n) { "__proto__" == e && Rt ? Rt(t, e, { configurable: !0, enumerable: !0, value: n, writable: !0 }) : t[e] = n; }, jt = Object.prototype.hasOwnProperty;
                        var Bt = function (t, e, n) { var i = t[e]; jt.call(t, e) && E(i, n) && (void 0 !== n || e in t) || Dt(t, e, n); };
                        var Lt = function (t, e, n, i) { var o = !n; n || (n = {}); for (var r = -1, s = e.length; ++r < s;) {
                            var a = e[r], c = i ? i(n[a], t[a], a, n, t) : void 0;
                            void 0 === c && (c = t[a]), o ? Dt(n, a, c) : Bt(n, a, c);
                        } return n; };
                        var Vt = function (t, e) { for (var n = -1, i = Array(t); ++n < t;)
                            i[n] = e(n); return i; }, Ft = "[object Arguments]";
                        var zt = function (t) { return k(t) && g(t) == Ft; }, Ut = Object.prototype, Ht = Ut.hasOwnProperty, qt = Ut.propertyIsEnumerable, Yt = zt(function () { return arguments; }()) ? zt : function (t) { return k(t) && Ht.call(t, "callee") && !qt.call(t, "callee"); }, Wt = Array.isArray, Jt = n(14), $t = 9007199254740991, Gt = /^(?:0|[1-9]\d*)$/;
                        var Kt = function (t, e) { var n = typeof t; return !!(e = null == e ? $t : e) && ("number" == n || "symbol" != n && Gt.test(t)) && t > -1 && t % 1 == 0 && t < e; }, Qt = 9007199254740991;
                        var Zt = function (t) { return "number" == typeof t && t > -1 && t % 1 == 0 && t <= Qt; }, Xt = {};
                        Xt["[object Float32Array]"] = Xt["[object Float64Array]"] = Xt["[object Int8Array]"] = Xt["[object Int16Array]"] = Xt["[object Int32Array]"] = Xt["[object Uint8Array]"] = Xt["[object Uint8ClampedArray]"] = Xt["[object Uint16Array]"] = Xt["[object Uint32Array]"] = !0, Xt["[object Arguments]"] = Xt["[object Array]"] = Xt["[object ArrayBuffer]"] = Xt["[object Boolean]"] = Xt["[object DataView]"] = Xt["[object Date]"] = Xt["[object Error]"] = Xt["[object Function]"] = Xt["[object Map]"] = Xt["[object Number]"] = Xt["[object Object]"] = Xt["[object RegExp]"] = Xt["[object Set]"] = Xt["[object String]"] = Xt["[object WeakMap]"] = !1;
                        var te = function (t) { return k(t) && Zt(t.length) && !!Xt[g(t)]; };
                        var ee = function (t) { return function (e) { return t(e); }; }, ne = n(11), ie = ne.a && ne.a.isTypedArray, oe = ie ? ee(ie) : te, re = Object.prototype.hasOwnProperty;
                        var se = function (t, e) { var n = Wt(t), i = !n && Yt(t), o = !n && !i && Object(Jt.a)(t), r = !n && !i && !o && oe(t), s = n || i || o || r, a = s ? Vt(t.length, String) : [], c = a.length; for (var l in t)
                            !e && !re.call(t, l) || s && ("length" == l || o && ("offset" == l || "parent" == l) || r && ("buffer" == l || "byteLength" == l || "byteOffset" == l) || Kt(l, c)) || a.push(l); return a; }, ae = Object.prototype;
                        var ce = function (t) { var e = t && t.constructor; return t === ("function" == typeof e && e.prototype || ae); }, le = x(Object.keys, Object), de = Object.prototype.hasOwnProperty;
                        var ue = function (t) { if (!ce(t))
                            return le(t); var e = []; for (var n in Object(t))
                            de.call(t, n) && "constructor" != n && e.push(n); return e; };
                        var he = function (t) { return null != t && Zt(t.length) && !W(t); };
                        var fe = function (t) { return he(t) ? se(t) : ue(t); };
                        var pe = function (t, e) { return t && Lt(e, fe(e), t); };
                        var me = function (t) { var e = []; if (null != t)
                            for (var n in Object(t))
                                e.push(n); return e; }, ge = Object.prototype.hasOwnProperty;
                        var xe = function (t) { if (!z(t))
                            return me(t); var e = ce(t), n = []; for (var i in t)
                            ("constructor" != i || !e && ge.call(t, i)) && n.push(i); return n; };
                        var be = function (t) { return he(t) ? se(t, !0) : xe(t); };
                        var ke = function (t, e) { return t && Lt(e, be(e), t); }, we = n(85);
                        var ve = function (t, e) { var n = -1, i = t.length; for (e || (e = Array(i)); ++n < i;)
                            e[n] = t[n]; return e; };
                        var ye = function (t, e) { for (var n = -1, i = null == t ? 0 : t.length, o = 0, r = []; ++n < i;) {
                            var s = t[n];
                            e(s, n, t) && (r[o++] = s);
                        } return r; };
                        var _e = function () { return []; }, Ce = Object.prototype.propertyIsEnumerable, Te = Object.getOwnPropertySymbols, Ae = Te ? function (t) { return null == t ? [] : (t = Object(t), ye(Te(t), function (e) { return Ce.call(t, e); })); } : _e;
                        var Se = function (t, e) { return Lt(t, Ae(t), e); };
                        var Ee = function (t, e) { for (var n = -1, i = e.length, o = t.length; ++n < i;)
                            t[o + n] = e[n]; return t; }, Pe = Object.getOwnPropertySymbols ? function (t) { for (var e = []; t;)
                            Ee(e, Ae(t)), t = b(t); return e; } : _e;
                        var Ie = function (t, e) { return Lt(t, Pe(t), e); };
                        var Ne = function (t, e, n) { var i = e(t); return Wt(t) ? i : Ee(i, n(t)); };
                        var Me = function (t) { return Ne(t, fe, Ae); };
                        var Oe = function (t) { return Ne(t, be, Pe); }, Re = st(o.a, "DataView"), De = st(o.a, "Promise"), je = st(o.a, "Set"), Be = st(o.a, "WeakMap"), Le = Q(Re), Ve = Q(at), Fe = Q(De), ze = Q(je), Ue = Q(Be), He = g;
                        (Re && "[object DataView]" != He(new Re(new ArrayBuffer(1))) || at && "[object Map]" != He(new at) || De && "[object Promise]" != He(De.resolve()) || je && "[object Set]" != He(new je) || Be && "[object WeakMap]" != He(new Be)) && (He = function (t) { var e = g(t), n = "[object Object]" == e ? t.constructor : void 0, i = n ? Q(n) : ""; if (i)
                            switch (i) {
                                case Le: return "[object DataView]";
                                case Ve: return "[object Map]";
                                case Fe: return "[object Promise]";
                                case ze: return "[object Set]";
                                case Ue: return "[object WeakMap]";
                            } return e; });
                        var qe = He, Ye = Object.prototype.hasOwnProperty;
                        var We = function (t) { var e = t.length, n = new t.constructor(e); return e && "string" == typeof t[0] && Ye.call(t, "index") && (n.index = t.index, n.input = t.input), n; }, Je = o.a.Uint8Array;
                        var $e = function (t) { var e = new t.constructor(t.byteLength); return new Je(e).set(new Je(t)), e; };
                        var Ge = function (t, e) { var n = e ? $e(t.buffer) : t.buffer; return new t.constructor(n, t.byteOffset, t.byteLength); }, Ke = /\w*$/;
                        var Qe = function (t) { var e = new t.constructor(t.source, Ke.exec(t)); return e.lastIndex = t.lastIndex, e; }, Ze = r ? r.prototype : void 0, Xe = Ze ? Ze.valueOf : void 0;
                        var tn = function (t) { return Xe ? Object(Xe.call(t)) : {}; };
                        var en = function (t, e) { var n = e ? $e(t.buffer) : t.buffer; return new t.constructor(n, t.byteOffset, t.length); }, nn = "[object Boolean]", on = "[object Date]", rn = "[object Map]", sn = "[object Number]", an = "[object RegExp]", cn = "[object Set]", ln = "[object String]", dn = "[object Symbol]", un = "[object ArrayBuffer]", hn = "[object DataView]", fn = "[object Float32Array]", pn = "[object Float64Array]", mn = "[object Int8Array]", gn = "[object Int16Array]", xn = "[object Int32Array]", bn = "[object Uint8Array]", kn = "[object Uint8ClampedArray]", wn = "[object Uint16Array]", vn = "[object Uint32Array]";
                        var yn = function (t, e, n) { var i = t.constructor; switch (e) {
                            case un: return $e(t);
                            case nn:
                            case on: return new i(+t);
                            case hn: return Ge(t, n);
                            case fn:
                            case pn:
                            case mn:
                            case gn:
                            case xn:
                            case bn:
                            case kn:
                            case wn:
                            case vn: return en(t, n);
                            case rn: return new i;
                            case sn:
                            case ln: return new i(t);
                            case an: return Qe(t);
                            case cn: return new i;
                            case dn: return tn(t);
                        } }, _n = Object.create, Cn = function () { function t() { } return function (e) { if (!z(e))
                            return {}; if (_n)
                            return _n(e); t.prototype = e; var n = new t; return t.prototype = void 0, n; }; }();
                        var Tn = function (t) { return "function" != typeof t.constructor || ce(t) ? {} : Cn(b(t)); }, An = "[object Map]";
                        var Sn = function (t) { return k(t) && qe(t) == An; }, En = ne.a && ne.a.isMap, Pn = En ? ee(En) : Sn, In = "[object Set]";
                        var Nn = function (t) { return k(t) && qe(t) == In; }, Mn = ne.a && ne.a.isSet, On = Mn ? ee(Mn) : Nn, Rn = 1, Dn = 2, jn = 4, Bn = "[object Arguments]", Ln = "[object Function]", Vn = "[object GeneratorFunction]", Fn = "[object Object]", zn = {};
                        zn[Bn] = zn["[object Array]"] = zn["[object ArrayBuffer]"] = zn["[object DataView]"] = zn["[object Boolean]"] = zn["[object Date]"] = zn["[object Float32Array]"] = zn["[object Float64Array]"] = zn["[object Int8Array]"] = zn["[object Int16Array]"] = zn["[object Int32Array]"] = zn["[object Map]"] = zn["[object Number]"] = zn[Fn] = zn["[object RegExp]"] = zn["[object Set]"] = zn["[object String]"] = zn["[object Symbol]"] = zn["[object Uint8Array]"] = zn["[object Uint8ClampedArray]"] = zn["[object Uint16Array]"] = zn["[object Uint32Array]"] = !0, zn["[object Error]"] = zn[Ln] = zn["[object WeakMap]"] = !1;
                        var Un = function t(e, n, i, o, r, s) { var a, c = n & Rn, l = n & Dn, d = n & jn; if (i && (a = r ? i(e, o, r, s) : i(e)), void 0 !== a)
                            return a; if (!z(e))
                            return e; var u = Wt(e); if (u) {
                            if (a = We(e), !c)
                                return ve(e, a);
                        }
                        else {
                            var h = qe(e), f = h == Ln || h == Vn;
                            if (Object(Jt.a)(e))
                                return Object(we.a)(e, c);
                            if (h == Fn || h == Bn || f && !r) {
                                if (a = l || f ? {} : Tn(e), !c)
                                    return l ? Ie(e, ke(a, e)) : Se(e, pe(a, e));
                            }
                            else {
                                if (!zn[h])
                                    return r ? e : {};
                                a = yn(e, h, c);
                            }
                        } s || (s = new Mt); var p = s.get(e); if (p)
                            return p; s.set(e, a), On(e) ? e.forEach(function (o) { a.add(t(o, n, i, o, e, s)); }) : Pn(e) && e.forEach(function (o, r) { a.set(r, t(o, n, i, r, e, s)); }); var m = d ? l ? Oe : Me : l ? keysIn : fe, g = u ? void 0 : m(e); return Ot(g || e, function (o, r) { g && (o = e[r = o]), Bt(a, r, t(o, n, i, r, e, s)); }), a; }, Hn = 1, qn = 4;
                        var Yn = function (t, e) { return Un(t, Hn | qn, e = "function" == typeof e ? e : void 0); };
                        var Wn = function (t) { return k(t) && 1 === t.nodeType && !A(t); };
                        var Jn = /** @class */ (function () {
                            function Jn(t, e) {
                                this._config = {}, e && this.define(e), t && this._setObjectToTarget(this._config, t);
                            }
                            Jn.prototype.set = function (t, e) { this._setToTarget(this._config, t, e); };
                            Jn.prototype.define = function (t, e) { this._setToTarget(this._config, t, e, !0); };
                            Jn.prototype.get = function (t) { return this._getFromSource(this._config, t); };
                            Jn.prototype._setToTarget = function (t, e, n, i) {
                                var e_1, _j;
                                if (i === void 0) { i = !1; }
                                if (A(e))
                                    return void this._setObjectToTarget(t, e, i);
                                var o = e.split(".");
                                e = o.pop();
                                try {
                                    for (var o_1 = __values(o), o_1_1 = o_1.next(); !o_1_1.done; o_1_1 = o_1.next()) {
                                        var e_2 = o_1_1.value;
                                        A(t[e_2]) || (t[e_2] = {}), t = t[e_2];
                                    }
                                }
                                catch (e_1_1) { e_1 = { error: e_1_1 }; }
                                finally {
                                    try {
                                        if (o_1_1 && !o_1_1.done && (_j = o_1.return)) _j.call(o_1);
                                    }
                                    finally { if (e_1) throw e_1.error; }
                                }
                                if (A(n))
                                    return A(t[e]) || (t[e] = {}), t = t[e], void this._setObjectToTarget(t, n, i);
                                i && void 0 !== t[e] || (t[e] = n);
                            };
                            Jn.prototype._getFromSource = function (t, e) {
                                var e_3, _j;
                                var n = e.split(".");
                                e = n.pop();
                                try {
                                    for (var n_3 = __values(n), n_3_1 = n_3.next(); !n_3_1.done; n_3_1 = n_3.next()) {
                                        var e_4 = n_3_1.value;
                                        if (!A(t[e_4])) {
                                            t = null;
                                            break;
                                        }
                                        t = t[e_4];
                                    }
                                }
                                catch (e_3_1) { e_3 = { error: e_3_1 }; }
                                finally {
                                    try {
                                        if (n_3_1 && !n_3_1.done && (_j = n_3.return)) _j.call(n_3);
                                    }
                                    finally { if (e_3) throw e_3.error; }
                                }
                                return t ? function (t) { return Yn(t, $n); }(t[e]) : void 0;
                            };
                            Jn.prototype._setObjectToTarget = function (t, e, n) {
                                var _this = this;
                                Object.keys(e).forEach(function (i) { _this._setToTarget(t, i, e[i], n); });
                            };
                            return Jn;
                        }());
                        function $n(t) { return Wn(t) ? t : void 0; }
                        var Gn = n(0);
                        var Kn = function () { return function t() { t.called = !0; }; };
                        var Qn = /** @class */ (function () {
                            function Qn(t, e) {
                                this.source = t, this.name = e, this.path = [], this.stop = Kn(), this.off = Kn();
                            }
                            return Qn;
                        }());
                        function Zn() { var t = "e"; for (var e_5 = 0; e_5 < 8; e_5++)
                            t += Math.floor(65536 * (1 + Math.random())).toString(16).substring(1); return t; }
                        var Xn = { get: function (t) { return "number" != typeof t ? this[t] || this.normal : t; }, highest: 1e5, high: 1e3, normal: 0, low: -1e3, lowest: -1e5 };
                        n(19);
                        var ti = Symbol("listeningTo"), ei = Symbol("emitterId");
                        var ni = { on: function (t, e, n) {
                                if (n === void 0) { n = {}; }
                                this.listenTo(this, t, e, n);
                            }, once: function (t, e, n) { var i = !1; this.listenTo(this, t, function (t) {
                                var n = [];
                                for (var _j = 1; _j < arguments.length; _j++) {
                                    n[_j - 1] = arguments[_j];
                                }
                                i || (i = !0, t.off(), e.call.apply(e, __spread([this, t], n)));
                            }, n); }, off: function (t, e) { this.stopListening(this, t, e); }, listenTo: function (t, e, n, i) {
                                var e_6, _j;
                                if (i === void 0) { i = {}; }
                                var o, r;
                                this[ti] || (this[ti] = {});
                                var s = this[ti];
                                oi(t) || ii(t);
                                var a = oi(t);
                                (o = s[a]) || (o = s[a] = { emitter: t, callbacks: {} }), (r = o.callbacks[e]) || (r = o.callbacks[e] = []), r.push(n), function (t, e) {
                                    var e_7, _j;
                                    var n = ri(t);
                                    if (n[e])
                                        return;
                                    var i = e, o = null;
                                    var r = [];
                                    for (; "" !== i && !n[i];)
                                        n[i] = { callbacks: [], childEvents: [] }, r.push(n[i]), o && n[i].childEvents.push(o), o = i, i = i.substr(0, i.lastIndexOf(":"));
                                    if ("" !== i) {
                                        try {
                                            for (var r_1 = __values(r), r_1_1 = r_1.next(); !r_1_1.done; r_1_1 = r_1.next()) {
                                                var t_2 = r_1_1.value;
                                                t_2.callbacks = n[i].callbacks.slice();
                                            }
                                        }
                                        catch (e_7_1) { e_7 = { error: e_7_1 }; }
                                        finally {
                                            try {
                                                if (r_1_1 && !r_1_1.done && (_j = r_1.return)) _j.call(r_1);
                                            }
                                            finally { if (e_7) throw e_7.error; }
                                        }
                                        n[i].childEvents.push(o);
                                    }
                                }(t, e);
                                var c = si(t, e), l = Xn.get(i.priority), d = { callback: n, priority: l };
                                try {
                                    for (var c_1 = __values(c), c_1_1 = c_1.next(); !c_1_1.done; c_1_1 = c_1.next()) {
                                        var t_3 = c_1_1.value;
                                        var e_8 = !1;
                                        for (var n_4 = 0; n_4 < t_3.length; n_4++)
                                            if (t_3[n_4].priority < l) {
                                                t_3.splice(n_4, 0, d), e_8 = !0;
                                                break;
                                            }
                                        e_8 || t_3.push(d);
                                    }
                                }
                                catch (e_6_1) { e_6 = { error: e_6_1 }; }
                                finally {
                                    try {
                                        if (c_1_1 && !c_1_1.done && (_j = c_1.return)) _j.call(c_1);
                                    }
                                    finally { if (e_6) throw e_6.error; }
                                }
                            }, stopListening: function (t, e, n) { var i = this[ti]; var o = t && oi(t); var r = i && o && i[o], s = r && e && r.callbacks[e]; if (!(!i || t && !r || e && !s))
                                if (n)
                                    ci(t, e, n);
                                else if (s) {
                                    for (; n = s.pop();)
                                        ci(t, e, n);
                                    delete r.callbacks[e];
                                }
                                else if (r) {
                                    for (e in r.callbacks)
                                        this.stopListening(t, e);
                                    delete i[o];
                                }
                                else {
                                    for (o in i)
                                        this.stopListening(i[o].emitter);
                                    delete this[ti];
                                } }, fire: function (t) {
                                var e = [];
                                for (var _j = 1; _j < arguments.length; _j++) {
                                    e[_j - 1] = arguments[_j];
                                }
                                try {
                                    var n_5 = t instanceof Qn ? t : new Qn(this, t), i_3 = n_5.name;
                                    var o_2 = function t(e, n) { var i; if (!e._events || !(i = e._events[n]) || !i.callbacks.length)
                                        return n.indexOf(":") > -1 ? t(e, n.substr(0, n.lastIndexOf(":"))) : null; return i.callbacks; }(this, i_3);
                                    if (n_5.path.push(this), o_2) {
                                        var t_4 = __spread([n_5], e);
                                        o_2 = Array.from(o_2);
                                        for (var e_9 = 0; e_9 < o_2.length && (o_2[e_9].callback.apply(this, t_4), n_5.off.called && (delete n_5.off.called, ci(this, i_3, o_2[e_9].callback)), !n_5.stop.called); e_9++)
                                            ;
                                    }
                                    if (this._delegations) {
                                        var t_5 = this._delegations.get(i_3), o_3 = this._delegations.get("*");
                                        t_5 && ai(t_5, n_5, e), o_3 && ai(o_3, n_5, e);
                                    }
                                    return n_5.return;
                                }
                                catch (t) {
                                    Gn.b.rethrowUnexpectedError(t, this);
                                }
                            }, delegate: function () {
                                var _this = this;
                                var t = [];
                                for (var _j = 0; _j < arguments.length; _j++) {
                                    t[_j] = arguments[_j];
                                }
                                return { to: function (e, n) { _this._delegations || (_this._delegations = new Map), t.forEach(function (t) { var i = _this._delegations.get(t); i ? i.set(e, n) : _this._delegations.set(t, new Map([[e, n]])); }); } };
                            }, stopDelegating: function (t, e) { if (this._delegations)
                                if (t)
                                    if (e) {
                                        var n_6 = this._delegations.get(t);
                                        n_6 && n_6.delete(e);
                                    }
                                    else
                                        this._delegations.delete(t);
                                else
                                    this._delegations.clear(); } };
                        function ii(t, e) { t[ei] || (t[ei] = e || Zn()); }
                        function oi(t) { return t[ei]; }
                        function ri(t) { return t._events || Object.defineProperty(t, "_events", { value: {} }), t._events; }
                        function si(t, e) { var n = ri(t)[e]; if (!n)
                            return []; var i = [n.callbacks]; for (var e_10 = 0; e_10 < n.childEvents.length; e_10++) {
                            var o_4 = si(t, n.childEvents[e_10]);
                            i = i.concat(o_4);
                        } return i; }
                        function ai(t, e, n) {
                            var e_11, _j;
                            try {
                                for (var t_6 = __values(t), t_6_1 = t_6.next(); !t_6_1.done; t_6_1 = t_6.next()) {
                                    var _q = __read(t_6_1.value, 2), i_4 = _q[0], o_5 = _q[1];
                                    o_5 ? "function" == typeof o_5 && (o_5 = o_5(e.name)) : o_5 = e.name;
                                    var t_7 = new Qn(e.source, o_5);
                                    t_7.path = __spread(e.path), i_4.fire.apply(i_4, __spread([t_7], n));
                                }
                            }
                            catch (e_11_1) { e_11 = { error: e_11_1 }; }
                            finally {
                                try {
                                    if (t_6_1 && !t_6_1.done && (_j = t_6.return)) _j.call(t_6);
                                }
                                finally { if (e_11) throw e_11.error; }
                            }
                        }
                        function ci(t, e, n) {
                            var e_12, _j;
                            var i = si(t, e);
                            try {
                                for (var i_5 = __values(i), i_5_1 = i_5.next(); !i_5_1.done; i_5_1 = i_5.next()) {
                                    var t_8 = i_5_1.value;
                                    for (var e_13 = 0; e_13 < t_8.length; e_13++)
                                        t_8[e_13].callback == n && (t_8.splice(e_13, 1), e_13--);
                                }
                            }
                            catch (e_12_1) { e_12 = { error: e_12_1 }; }
                            finally {
                                try {
                                    if (i_5_1 && !i_5_1.done && (_j = i_5.return)) _j.call(i_5);
                                }
                                finally { if (e_12) throw e_12.error; }
                            }
                        }
                        function li(t) {
                            var e = [];
                            for (var _j = 1; _j < arguments.length; _j++) {
                                e[_j - 1] = arguments[_j];
                            }
                            e.forEach(function (e) { Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e)).forEach(function (n) { if (n in t.prototype)
                                return; var i = Object.getOwnPropertyDescriptor(e, n); i.enumerable = !1, Object.defineProperty(t.prototype, n, i); }); });
                        }
                        function di(t, e) { var n = Math.min(t.length, e.length); for (var i_6 = 0; i_6 < n; i_6++)
                            if (t[i_6] != e[i_6])
                                return i_6; return t.length == e.length ? "same" : t.length < e.length ? "prefix" : "extension"; }
                        var ui = 4;
                        var hi = function (t) { return Un(t, ui); };
                        var fi = /** @class */ (function () {
                            function fi() {
                                this.parent = null;
                            }
                            Object.defineProperty(fi.prototype, "index", {
                                get: function () { var t; if (!this.parent)
                                    return null; if (-1 == (t = this.parent.getChildIndex(this)))
                                    throw new Gn.b("view-node-not-found-in-parent: The node's parent does not contain this node.", this); return t; },
                                enumerable: true,
                                configurable: true
                            });
                            Object.defineProperty(fi.prototype, "nextSibling", {
                                get: function () { var t = this.index; return null !== t && this.parent.getChild(t + 1) || null; },
                                enumerable: true,
                                configurable: true
                            });
                            Object.defineProperty(fi.prototype, "previousSibling", {
                                get: function () { var t = this.index; return null !== t && this.parent.getChild(t - 1) || null; },
                                enumerable: true,
                                configurable: true
                            });
                            Object.defineProperty(fi.prototype, "root", {
                                get: function () { var t = this; for (; t.parent;)
                                    t = t.parent; return t; },
                                enumerable: true,
                                configurable: true
                            });
                            Object.defineProperty(fi.prototype, "document", {
                                get: function () { return this.parent instanceof fi ? this.parent.document : null; },
                                enumerable: true,
                                configurable: true
                            });
                            fi.prototype.getPath = function () { var t = []; var e = this; for (; e.parent;)
                                t.unshift(e.index), e = e.parent; return t; };
                            fi.prototype.getAncestors = function (t) {
                                if (t === void 0) { t = { includeSelf: !1, parentFirst: !1 }; }
                                var e = [];
                                var n = t.includeSelf ? this : this.parent;
                                for (; n;)
                                    e[t.parentFirst ? "push" : "unshift"](n), n = n.parent;
                                return e;
                            };
                            fi.prototype.getCommonAncestor = function (t, e) {
                                if (e === void 0) { e = {}; }
                                var n = this.getAncestors(e), i = t.getAncestors(e);
                                var o = 0;
                                for (; n[o] == i[o] && n[o];)
                                    o++;
                                return 0 === o ? null : n[o - 1];
                            };
                            fi.prototype.isBefore = function (t) { if (this == t)
                                return !1; if (this.root !== t.root)
                                return !1; var e = this.getPath(), n = t.getPath(), i = di(e, n); switch (i) {
                                case "prefix": return !0;
                                case "extension": return !1;
                                default: return e[i] < n[i];
                            } };
                            fi.prototype.isAfter = function (t) { return this != t && (this.root === t.root && !this.isBefore(t)); };
                            fi.prototype._remove = function () { this.parent._removeChildren(this.index); };
                            fi.prototype._fireChange = function (t, e) { this.fire("change:" + t, e), this.parent && this.parent._fireChange(t, e); };
                            fi.prototype.toJSON = function () { var t = hi(this); return delete t.parent, t; };
                            fi.prototype.is = function (t) { return "node" == t || "view:node" == t; };
                            return fi;
                        }());
                        li(fi, ni);
                        var pi = /** @class */ (function (_super) {
                            __extends(pi, _super);
                            function pi(t) {
                                var _this = this;
                                _this = _super.call(this) || this, _this._textData = t;
                                return _this;
                            }
                            pi.prototype.is = function (t) { return "text" == t || "view:text" == t || _super.prototype.is.call(this, t); };
                            Object.defineProperty(pi.prototype, "data", {
                                get: function () { return this._textData; },
                                enumerable: true,
                                configurable: true
                            });
                            Object.defineProperty(pi.prototype, "_data", {
                                get: function () { return this.data; },
                                set: function (t) { this._fireChange("text", this), this._textData = t; },
                                enumerable: true,
                                configurable: true
                            });
                            pi.prototype.isSimilar = function (t) { return t instanceof pi && (this === t || this.data === t.data); };
                            pi.prototype._clone = function () { return new pi(this.data); };
                            return pi;
                        }(fi));
                        var mi = /** @class */ (function () {
                            function mi(t, e, n) {
                                if (this.textNode = t, e < 0 || e > t.data.length)
                                    throw new Gn.b("view-textproxy-wrong-offsetintext: Given offsetInText value is incorrect.", this);
                                if (n < 0 || e + n > t.data.length)
                                    throw new Gn.b("view-textproxy-wrong-length: Given length value is incorrect.", this);
                                this.data = t.data.substring(e, e + n), this.offsetInText = e;
                            }
                            Object.defineProperty(mi.prototype, "offsetSize", {
                                get: function () { return this.data.length; },
                                enumerable: true,
                                configurable: true
                            });
                            Object.defineProperty(mi.prototype, "isPartial", {
                                get: function () { return this.data.length !== this.textNode.data.length; },
                                enumerable: true,
                                configurable: true
                            });
                            Object.defineProperty(mi.prototype, "parent", {
                                get: function () { return this.textNode.parent; },
                                enumerable: true,
                                configurable: true
                            });
                            Object.defineProperty(mi.prototype, "root", {
                                get: function () { return this.textNode.root; },
                                enumerable: true,
                                configurable: true
                            });
                            Object.defineProperty(mi.prototype, "document", {
                                get: function () { return this.textNode.document; },
                                enumerable: true,
                                configurable: true
                            });
                            mi.prototype.is = function (t) { return "textProxy" == t || "view:textProxy" == t; };
                            mi.prototype.getAncestors = function (t) {
                                if (t === void 0) { t = { includeSelf: !1, parentFirst: !1 }; }
                                var e = [];
                                var n = t.includeSelf ? this.textNode : this.parent;
                                for (; null !== n;)
                                    e[t.parentFirst ? "push" : "unshift"](n), n = n.parent;
                                return e;
                            };
                            return mi;
                        }());
                        function gi(t) { var e = new Map; for (var n_7 in t)
                            e.set(n_7, t[n_7]); return e; }
                        function xi(t) { return !(!t || !t[Symbol.iterator]); }
                        var bi = /** @class */ (function () {
                            function bi() {
                                var t = [];
                                for (var _j = 0; _j < arguments.length; _j++) {
                                    t[_j] = arguments[_j];
                                }
                                this._patterns = [], this.add.apply(this, __spread(t));
                            }
                            bi.prototype.add = function () {
                                var e_14, _j;
                                var t = [];
                                for (var _q = 0; _q < arguments.length; _q++) {
                                    t[_q] = arguments[_q];
                                }
                                try {
                                    for (var t_9 = __values(t), t_9_1 = t_9.next(); !t_9_1.done; t_9_1 = t_9.next()) {
                                        var e_15 = t_9_1.value;
                                        ("string" == typeof e_15 || e_15 instanceof RegExp) && (e_15 = { name: e_15 }), e_15.classes && ("string" == typeof e_15.classes || e_15.classes instanceof RegExp) && (e_15.classes = [e_15.classes]), this._patterns.push(e_15);
                                    }
                                }
                                catch (e_14_1) { e_14 = { error: e_14_1 }; }
                                finally {
                                    try {
                                        if (t_9_1 && !t_9_1.done && (_j = t_9.return)) _j.call(t_9);
                                    }
                                    finally { if (e_14) throw e_14.error; }
                                }
                            };
                            bi.prototype.match = function () {
                                var e_16, _j, e_17, _q;
                                var t = [];
                                for (var _z = 0; _z < arguments.length; _z++) {
                                    t[_z] = arguments[_z];
                                }
                                try {
                                    for (var t_10 = __values(t), t_10_1 = t_10.next(); !t_10_1.done; t_10_1 = t_10.next()) {
                                        var e_18 = t_10_1.value;
                                        try {
                                            for (var _0 = __values(this._patterns), _1 = _0.next(); !_1.done; _1 = _0.next()) {
                                                var t_11 = _1.value;
                                                var n_8 = ki(e_18, t_11);
                                                if (n_8)
                                                    return { element: e_18, pattern: t_11, match: n_8 };
                                            }
                                        }
                                        catch (e_17_1) { e_17 = { error: e_17_1 }; }
                                        finally {
                                            try {
                                                if (_1 && !_1.done && (_q = _0.return)) _q.call(_0);
                                            }
                                            finally { if (e_17) throw e_17.error; }
                                        }
                                    }
                                }
                                catch (e_16_1) { e_16 = { error: e_16_1 }; }
                                finally {
                                    try {
                                        if (t_10_1 && !t_10_1.done && (_j = t_10.return)) _j.call(t_10);
                                    }
                                    finally { if (e_16) throw e_16.error; }
                                }
                                return null;
                            };
                            bi.prototype.matchAll = function () {
                                var e_19, _j, e_20, _q;
                                var t = [];
                                for (var _z = 0; _z < arguments.length; _z++) {
                                    t[_z] = arguments[_z];
                                }
                                var e = [];
                                try {
                                    for (var t_12 = __values(t), t_12_1 = t_12.next(); !t_12_1.done; t_12_1 = t_12.next()) {
                                        var n_9 = t_12_1.value;
                                        try {
                                            for (var _0 = __values(this._patterns), _1 = _0.next(); !_1.done; _1 = _0.next()) {
                                                var t_13 = _1.value;
                                                var i_7 = ki(n_9, t_13);
                                                i_7 && e.push({ element: n_9, pattern: t_13, match: i_7 });
                                            }
                                        }
                                        catch (e_20_1) { e_20 = { error: e_20_1 }; }
                                        finally {
                                            try {
                                                if (_1 && !_1.done && (_q = _0.return)) _q.call(_0);
                                            }
                                            finally { if (e_20) throw e_20.error; }
                                        }
                                    }
                                }
                                catch (e_19_1) { e_19 = { error: e_19_1 }; }
                                finally {
                                    try {
                                        if (t_12_1 && !t_12_1.done && (_j = t_12.return)) _j.call(t_12);
                                    }
                                    finally { if (e_19) throw e_19.error; }
                                }
                                return e.length > 0 ? e : null;
                            };
                            bi.prototype.getElementName = function () { if (1 !== this._patterns.length)
                                return null; var t = this._patterns[0], e = t.name; return "function" == typeof t || !e || e instanceof RegExp ? null : e; };
                            return bi;
                        }());
                        function ki(t, e) { if ("function" == typeof e)
                            return e(t); var n = {}; return e.name && (n.name = function (t, e) { if (t instanceof RegExp)
                            return t.test(e); return t === e; }(e.name, t.name), !n.name) ? null : e.attributes && (n.attributes = function (t, e) { var n = []; for (var i_8 in t) {
                            var o_6 = t[i_8];
                            if (!e.hasAttribute(i_8))
                                return null;
                            {
                                var t_14 = e.getAttribute(i_8);
                                if (!0 === o_6)
                                    n.push(i_8);
                                else if (o_6 instanceof RegExp) {
                                    if (!o_6.test(t_14))
                                        return null;
                                    n.push(i_8);
                                }
                                else {
                                    if (t_14 !== o_6)
                                        return null;
                                    n.push(i_8);
                                }
                            }
                        } return n; }(e.attributes, t), !n.attributes) ? null : !(e.classes && (n.classes = function (t, e) {
                            var e_21, _j, e_22, _q;
                            var n = [];
                            try {
                                for (var t_15 = __values(t), t_15_1 = t_15.next(); !t_15_1.done; t_15_1 = t_15.next()) {
                                    var i_9 = t_15_1.value;
                                    if (i_9 instanceof RegExp) {
                                        var t_17 = e.getClassNames();
                                        try {
                                            for (var t_16 = __values(t_17), t_16_1 = t_16.next(); !t_16_1.done; t_16_1 = t_16.next()) {
                                                var e_23 = t_16_1.value;
                                                i_9.test(e_23) && n.push(e_23);
                                            }
                                        }
                                        catch (e_22_1) { e_22 = { error: e_22_1 }; }
                                        finally {
                                            try {
                                                if (t_16_1 && !t_16_1.done && (_q = t_16.return)) _q.call(t_16);
                                            }
                                            finally { if (e_22) throw e_22.error; }
                                        }
                                        if (0 === n.length)
                                            return null;
                                    }
                                    else {
                                        if (!e.hasClass(i_9))
                                            return null;
                                        n.push(i_9);
                                    }
                                }
                            }
                            catch (e_21_1) { e_21 = { error: e_21_1 }; }
                            finally {
                                try {
                                    if (t_15_1 && !t_15_1.done && (_j = t_15.return)) _j.call(t_15);
                                }
                                finally { if (e_21) throw e_21.error; }
                            }
                            return n;
                        }(e.classes, t), !n.classes)) && (!(e.styles && (n.styles = function (t, e) { var n = []; for (var i_10 in t) {
                            var o_7 = t[i_10];
                            if (!e.hasStyle(i_10))
                                return null;
                            {
                                var t_18 = e.getStyle(i_10);
                                if (o_7 instanceof RegExp) {
                                    if (!o_7.test(t_18))
                                        return null;
                                    n.push(i_10);
                                }
                                else {
                                    if (t_18 !== o_7)
                                        return null;
                                    n.push(i_10);
                                }
                            }
                        } return n; }(e.styles, t), !n.styles)) && n); }
                        var wi = /** @class */ (function (_super) {
                            __extends(wi, _super);
                            function wi(t, e, n) {
                                var _this = this;
                                if (_this = _super.call(this) || this, _this.name = t, _this._attrs = function (t) {
                                    var e_24, _j;
                                    t = A(t) ? gi(t) : new Map(t);
                                    try {
                                        for (var t_19 = __values(t), t_19_1 = t_19.next(); !t_19_1.done; t_19_1 = t_19.next()) {
                                            var _q = __read(t_19_1.value, 2), e_25 = _q[0], n_10 = _q[1];
                                            null === n_10 ? t.delete(e_25) : "string" != typeof n_10 && t.set(e_25, String(n_10));
                                        }
                                    }
                                    catch (e_24_1) { e_24 = { error: e_24_1 }; }
                                    finally {
                                        try {
                                            if (t_19_1 && !t_19_1.done && (_j = t_19.return)) _j.call(t_19);
                                        }
                                        finally { if (e_24) throw e_24.error; }
                                    }
                                    return t;
                                }(e), _this._children = [], n && _this._insertChild(0, n), _this._classes = new Set, _this._attrs.has("class")) {
                                    var t_20 = _this._attrs.get("class");
                                    yi(_this._classes, t_20), _this._attrs.delete("class");
                                }
                                _this._styles = new Map, _this._attrs.has("style") && (vi(_this._styles, _this._attrs.get("style")), _this._attrs.delete("style")), _this._customProperties = new Map;
                                return _this;
                            }
                            Object.defineProperty(wi.prototype, "childCount", {
                                get: function () { return this._children.length; },
                                enumerable: true,
                                configurable: true
                            });
                            Object.defineProperty(wi.prototype, "isEmpty", {
                                get: function () { return 0 === this._children.length; },
                                enumerable: true,
                                configurable: true
                            });
                            wi.prototype.is = function (t, e) {
                                if (e === void 0) { e = null; }
                                var n = t.replace(/^view:/, "");
                                return e ? "element" == n && e == this.name : "element" == n || n == this.name || _super.prototype.is.call(this, t);
                            };
                            wi.prototype.getChild = function (t) { return this._children[t]; };
                            wi.prototype.getChildIndex = function (t) { return this._children.indexOf(t); };
                            wi.prototype.getChildren = function () { return this._children[Symbol.iterator](); };
                            wi.prototype.getAttributeKeys = function () { var _j, _q; return __generator(this, function (_z) {
                                switch (_z.label) {
                                    case 0:
                                        _j = this._classes.size > 0;
                                        if (!_j) return [3 /*break*/, 2];
                                        return [4 /*yield*/, "class"];
                                    case 1:
                                        _j = (_z.sent());
                                        _z.label = 2;
                                    case 2:
                                        _j;
                                        _q = this._styles.size > 0;
                                        if (!_q) return [3 /*break*/, 4];
                                        return [4 /*yield*/, "style"];
                                    case 3:
                                        _q = (_z.sent());
                                        _z.label = 4;
                                    case 4:
                                        _q;
                                        return [5 /*yield**/, __values(this._attrs.keys())];
                                    case 5:
                                        _z.sent();
                                        return [2 /*return*/];
                                }
                            }); };
                            wi.prototype.getAttributes = function () { var _j, _q; return __generator(this, function (_z) {
                                switch (_z.label) {
                                    case 0: return [5 /*yield**/, __values(this._attrs.entries())];
                                    case 1:
                                        _z.sent();
                                        _j = this._classes.size > 0;
                                        if (!_j) return [3 /*break*/, 3];
                                        return [4 /*yield*/, ["class", this.getAttribute("class")]];
                                    case 2:
                                        _j = (_z.sent());
                                        _z.label = 3;
                                    case 3:
                                        _j;
                                        _q = this._styles.size > 0;
                                        if (!_q) return [3 /*break*/, 5];
                                        return [4 /*yield*/, ["style", this.getAttribute("style")]];
                                    case 4:
                                        _q = (_z.sent());
                                        _z.label = 5;
                                    case 5:
                                        _q;
                                        return [2 /*return*/];
                                }
                            }); };
                            wi.prototype.getAttribute = function (t) {
                                var e_26, _j;
                                if ("class" == t)
                                    return this._classes.size > 0 ? __spread(this._classes).join(" ") : void 0;
                                if ("style" != t)
                                    return this._attrs.get(t);
                                if (this._styles.size > 0) {
                                    var t_21 = "";
                                    try {
                                        for (var _q = __values(this._styles), _z = _q.next(); !_z.done; _z = _q.next()) {
                                            var _0 = __read(_z.value, 2), e_27 = _0[0], n_11 = _0[1];
                                            t_21 += e_27 + ":" + n_11 + ";";
                                        }
                                    }
                                    catch (e_26_1) { e_26 = { error: e_26_1 }; }
                                    finally {
                                        try {
                                            if (_z && !_z.done && (_j = _q.return)) _j.call(_q);
                                        }
                                        finally { if (e_26) throw e_26.error; }
                                    }
                                    return t_21;
                                }
                            };
                            wi.prototype.hasAttribute = function (t) { return "class" == t ? this._classes.size > 0 : "style" == t ? this._styles.size > 0 : this._attrs.has(t); };
                            wi.prototype.isSimilar = function (t) {
                                var e_28, _j, e_29, _q, e_30, _z;
                                if (!(t instanceof wi))
                                    return !1;
                                if (this === t)
                                    return !0;
                                if (this.name != t.name)
                                    return !1;
                                if (this._attrs.size !== t._attrs.size || this._classes.size !== t._classes.size || this._styles.size !== t._styles.size)
                                    return !1;
                                try {
                                    for (var _0 = __values(this._attrs), _1 = _0.next(); !_1.done; _1 = _0.next()) {
                                        var _2 = __read(_1.value, 2), e_31 = _2[0], n_12 = _2[1];
                                        if (!t._attrs.has(e_31) || t._attrs.get(e_31) !== n_12)
                                            return !1;
                                    }
                                }
                                catch (e_28_1) { e_28 = { error: e_28_1 }; }
                                finally {
                                    try {
                                        if (_1 && !_1.done && (_j = _0.return)) _j.call(_0);
                                    }
                                    finally { if (e_28) throw e_28.error; }
                                }
                                try {
                                    for (var _3 = __values(this._classes), _4 = _3.next(); !_4.done; _4 = _3.next()) {
                                        var e_32 = _4.value;
                                        if (!t._classes.has(e_32))
                                            return !1;
                                    }
                                }
                                catch (e_29_1) { e_29 = { error: e_29_1 }; }
                                finally {
                                    try {
                                        if (_4 && !_4.done && (_q = _3.return)) _q.call(_3);
                                    }
                                    finally { if (e_29) throw e_29.error; }
                                }
                                try {
                                    for (var _5 = __values(this._styles), _6 = _5.next(); !_6.done; _6 = _5.next()) {
                                        var _7 = __read(_6.value, 2), e_33 = _7[0], n_13 = _7[1];
                                        if (!t._styles.has(e_33) || t._styles.get(e_33) !== n_13)
                                            return !1;
                                    }
                                }
                                catch (e_30_1) { e_30 = { error: e_30_1 }; }
                                finally {
                                    try {
                                        if (_6 && !_6.done && (_z = _5.return)) _z.call(_5);
                                    }
                                    finally { if (e_30) throw e_30.error; }
                                }
                                return !0;
                            };
                            wi.prototype.hasClass = function () {
                                var e_34, _j;
                                var t = [];
                                for (var _q = 0; _q < arguments.length; _q++) {
                                    t[_q] = arguments[_q];
                                }
                                try {
                                    for (var t_22 = __values(t), t_22_1 = t_22.next(); !t_22_1.done; t_22_1 = t_22.next()) {
                                        var e_35 = t_22_1.value;
                                        if (!this._classes.has(e_35))
                                            return !1;
                                    }
                                }
                                catch (e_34_1) { e_34 = { error: e_34_1 }; }
                                finally {
                                    try {
                                        if (t_22_1 && !t_22_1.done && (_j = t_22.return)) _j.call(t_22);
                                    }
                                    finally { if (e_34) throw e_34.error; }
                                }
                                return !0;
                            };
                            wi.prototype.getClassNames = function () { return this._classes.keys(); };
                            wi.prototype.getStyle = function (t) { return this._styles.get(t); };
                            wi.prototype.getStyleNames = function () { return this._styles.keys(); };
                            wi.prototype.hasStyle = function () {
                                var e_36, _j;
                                var t = [];
                                for (var _q = 0; _q < arguments.length; _q++) {
                                    t[_q] = arguments[_q];
                                }
                                try {
                                    for (var t_23 = __values(t), t_23_1 = t_23.next(); !t_23_1.done; t_23_1 = t_23.next()) {
                                        var e_37 = t_23_1.value;
                                        if (!this._styles.has(e_37))
                                            return !1;
                                    }
                                }
                                catch (e_36_1) { e_36 = { error: e_36_1 }; }
                                finally {
                                    try {
                                        if (t_23_1 && !t_23_1.done && (_j = t_23.return)) _j.call(t_23);
                                    }
                                    finally { if (e_36) throw e_36.error; }
                                }
                                return !0;
                            };
                            wi.prototype.findAncestor = function () {
                                var t = [];
                                for (var _j = 0; _j < arguments.length; _j++) {
                                    t[_j] = arguments[_j];
                                }
                                var e = new (bi.bind.apply(bi, __spread([void 0], t)))();
                                var n = this.parent;
                                for (; n;) {
                                    if (e.match(n))
                                        return n;
                                    n = n.parent;
                                }
                                return null;
                            };
                            wi.prototype.getCustomProperty = function (t) { return this._customProperties.get(t); };
                            wi.prototype.getCustomProperties = function () { return __generator(this, function (_j) {
                                switch (_j.label) {
                                    case 0: return [5 /*yield**/, __values(this._customProperties.entries())];
                                    case 1:
                                        _j.sent();
                                        return [2 /*return*/];
                                }
                            }); };
                            wi.prototype.getIdentity = function () { var t = Array.from(this._classes).sort().join(","), e = Array.from(this._styles).map(function (t) { return t[0] + ":" + t[1]; }).sort().join(";"), n = Array.from(this._attrs).map(function (t) { return t[0] + "=\"" + t[1] + "\""; }).sort().join(" "); return this.name + ("" == t ? "" : " class=\"" + t + "\"") + ("" == e ? "" : " style=\"" + e + "\"") + ("" == n ? "" : " " + n); };
                            wi.prototype._clone = function (t) {
                                var e_38, _j;
                                if (t === void 0) { t = !1; }
                                var e = [];
                                if (t)
                                    try {
                                        for (var _q = __values(this.getChildren()), _z = _q.next(); !_z.done; _z = _q.next()) {
                                            var n_14 = _z.value;
                                            e.push(n_14._clone(t));
                                        }
                                    }
                                    catch (e_38_1) { e_38 = { error: e_38_1 }; }
                                    finally {
                                        try {
                                            if (_z && !_z.done && (_j = _q.return)) _j.call(_q);
                                        }
                                        finally { if (e_38) throw e_38.error; }
                                    }
                                var n = new this.constructor(this.name, this._attrs, e);
                                return n._classes = new Set(this._classes), n._styles = new Map(this._styles), n._customProperties = new Map(this._customProperties), n.getFillerOffset = this.getFillerOffset, n;
                            };
                            wi.prototype._appendChild = function (t) { return this._insertChild(this.childCount, t); };
                            wi.prototype._insertChild = function (t, e) {
                                var e_39, _j;
                                this._fireChange("children", this);
                                var n = 0;
                                var i = function (t) { if ("string" == typeof t)
                                    return [new pi(t)]; xi(t) || (t = [t]); return Array.from(t).map(function (t) { return "string" == typeof t ? new pi(t) : t instanceof mi ? new pi(t.data) : t; }); }(e);
                                try {
                                    for (var i_11 = __values(i), i_11_1 = i_11.next(); !i_11_1.done; i_11_1 = i_11.next()) {
                                        var e_40 = i_11_1.value;
                                        null !== e_40.parent && e_40._remove(), e_40.parent = this, this._children.splice(t, 0, e_40), t++, n++;
                                    }
                                }
                                catch (e_39_1) { e_39 = { error: e_39_1 }; }
                                finally {
                                    try {
                                        if (i_11_1 && !i_11_1.done && (_j = i_11.return)) _j.call(i_11);
                                    }
                                    finally { if (e_39) throw e_39.error; }
                                }
                                return n;
                            };
                            wi.prototype._removeChildren = function (t, e) {
                                if (e === void 0) { e = 1; }
                                this._fireChange("children", this);
                                for (var n_15 = t; n_15 < t + e; n_15++)
                                    this._children[n_15].parent = null;
                                return this._children.splice(t, e);
                            };
                            wi.prototype._setAttribute = function (t, e) { e = String(e), this._fireChange("attributes", this), "class" == t ? yi(this._classes, e) : "style" == t ? vi(this._styles, e) : this._attrs.set(t, e); };
                            wi.prototype._removeAttribute = function (t) { return this._fireChange("attributes", this), "class" == t ? this._classes.size > 0 && (this._classes.clear(), !0) : "style" == t ? this._styles.size > 0 && (this._styles.clear(), !0) : this._attrs.delete(t); };
                            wi.prototype._addClass = function (t) {
                                var _this = this;
                                this._fireChange("attributes", this), (t = Array.isArray(t) ? t : [t]).forEach(function (t) { return _this._classes.add(t); });
                            };
                            wi.prototype._removeClass = function (t) {
                                var _this = this;
                                this._fireChange("attributes", this), (t = Array.isArray(t) ? t : [t]).forEach(function (t) { return _this._classes.delete(t); });
                            };
                            wi.prototype._setStyle = function (t, e) {
                                var e_41, _j;
                                if (this._fireChange("attributes", this), A(t)) {
                                    var e_43 = Object.keys(t);
                                    try {
                                        for (var e_42 = __values(e_43), e_42_1 = e_42.next(); !e_42_1.done; e_42_1 = e_42.next()) {
                                            var n_16 = e_42_1.value;
                                            this._styles.set(n_16, t[n_16]);
                                        }
                                    }
                                    catch (e_41_1) { e_41 = { error: e_41_1 }; }
                                    finally {
                                        try {
                                            if (e_42_1 && !e_42_1.done && (_j = e_42.return)) _j.call(e_42);
                                        }
                                        finally { if (e_41) throw e_41.error; }
                                    }
                                }
                                else
                                    this._styles.set(t, e);
                            };
                            wi.prototype._removeStyle = function (t) {
                                var _this = this;
                                this._fireChange("attributes", this), (t = Array.isArray(t) ? t : [t]).forEach(function (t) { return _this._styles.delete(t); });
                            };
                            wi.prototype._setCustomProperty = function (t, e) { this._customProperties.set(t, e); };
                            wi.prototype._removeCustomProperty = function (t) { return this._customProperties.delete(t); };
                            return wi;
                        }(fi));
                        function vi(t, e) { var n = null, i = 0, o = 0, r = null; if (t.clear(), "" !== e) {
                            ";" != e.charAt(e.length - 1) && (e += ";");
                            for (var s_1 = 0; s_1 < e.length; s_1++) {
                                var a_1 = e.charAt(s_1);
                                if (null === n)
                                    switch (a_1) {
                                        case ":":
                                            r || (r = e.substr(i, s_1 - i), o = s_1 + 1);
                                            break;
                                        case '"':
                                        case "'":
                                            n = a_1;
                                            break;
                                        case ";": {
                                            var n_17 = e.substr(o, s_1 - o);
                                            r && t.set(r.trim(), n_17.trim()), r = null, i = s_1 + 1;
                                            break;
                                        }
                                    }
                                else
                                    a_1 === n && (n = null);
                            }
                        } }
                        function yi(t, e) { var n = e.split(/\s+/); t.clear(), n.forEach(function (e) { return t.add(e); }); }
                        var _i = /** @class */ (function (_super) {
                            __extends(_i, _super);
                            function _i(t, e, n) {
                                var _this = this;
                                _this = _super.call(this, t, e, n) || this, _this.getFillerOffset = Ci;
                                return _this;
                            }
                            _i.prototype.is = function (t, e) {
                                if (e === void 0) { e = null; }
                                var n = t && t.replace(/^view:/, "");
                                return e ? "containerElement" == n && e == this.name || _super.prototype.is.call(this, t, e) : "containerElement" == n || _super.prototype.is.call(this, t);
                            };
                            return _i;
                        }(wi));
                        function Ci() {
                            var e_44, _j;
                            var t = __spread(this.getChildren()), e = t[this.childCount - 1];
                            if (e && e.is("element", "br"))
                                return this.childCount;
                            try {
                                for (var t_24 = __values(t), t_24_1 = t_24.next(); !t_24_1.done; t_24_1 = t_24.next()) {
                                    var e_45 = t_24_1.value;
                                    if (!e_45.is("uiElement"))
                                        return null;
                                }
                            }
                            catch (e_44_1) { e_44 = { error: e_44_1 }; }
                            finally {
                                try {
                                    if (t_24_1 && !t_24_1.done && (_j = t_24.return)) _j.call(t_24);
                                }
                                finally { if (e_44) throw e_44.error; }
                            }
                            return this.childCount;
                        }
                        var Ti = function (t) { return t; };
                        var Ai = function (t, e, n) { switch (n.length) {
                            case 0: return t.call(e);
                            case 1: return t.call(e, n[0]);
                            case 2: return t.call(e, n[0], n[1]);
                            case 3: return t.call(e, n[0], n[1], n[2]);
                        } return t.apply(e, n); }, Si = Math.max;
                        var Ei = function (t, e, n) { return e = Si(void 0 === e ? t.length - 1 : e, 0), function () { for (var i = arguments, o = -1, r = Si(i.length - e, 0), s = Array(r); ++o < r;)
                            s[o] = i[e + o]; o = -1; for (var a = Array(e + 1); ++o < e;)
                            a[o] = i[o]; return a[e] = n(s), Ai(t, this, a); }; };
                        var Pi = function (t) { return function () { return t; }; }, Ii = Rt ? function (t, e) { return Rt(t, "toString", { configurable: !0, enumerable: !1, value: Pi(e), writable: !0 }); } : Ti, Ni = 800, Mi = 16, Oi = Date.now;
                        var Ri = function (t) { var e = 0, n = 0; return function () { var i = Oi(), o = Mi - (i - n); if (n = i, o > 0) {
                            if (++e >= Ni)
                                return arguments[0];
                        }
                        else
                            e = 0; return t.apply(void 0, arguments); }; }(Ii);
                        var Di = function (t, e) { return Ri(Ei(t, e, Ti), t + ""); };
                        var ji = function (t, e, n) { if (!z(n))
                            return !1; var i = typeof e; return !!("number" == i ? he(n) && Kt(e, n.length) : "string" == i && e in n) && E(n[e], t); };
                        var Bi = function (t) { return Di(function (e, n) { var i = -1, o = n.length, r = o > 1 ? n[o - 1] : void 0, s = o > 2 ? n[2] : void 0; for (r = t.length > 3 && "function" == typeof r ? (o--, r) : void 0, s && ji(n[0], n[1], s) && (r = o < 3 ? void 0 : r, o = 1), e = Object(e); ++i < o;) {
                            var a = n[i];
                            a && t(e, a, i, r);
                        } return e; }); }(function (t, e) { Lt(e, be(e), t); });
                        var Li = Symbol("observableProperties"), Vi = Symbol("boundObservables"), Fi = Symbol("boundProperties"), zi = { set: function (t, e) {
                                var _this = this;
                                if (z(t))
                                    return void Object.keys(t).forEach(function (e) { _this.set(e, t[e]); }, this);
                                Hi(this);
                                var n = this[Li];
                                if (t in this && !n.has(t))
                                    throw new Gn.b("observable-set-cannot-override: Cannot override an existing property.", this);
                                Object.defineProperty(this, t, { enumerable: !0, configurable: !0, get: function () { return n.get(t); }, set: function (e) { var i = n.get(t); var o = this.fire("set:" + t, t, e, i); void 0 === o && (o = e), i === o && n.has(t) || (n.set(t, o), this.fire("change:" + t, t, o, i)); } }), this[t] = e;
                            }, bind: function () {
                                var _this = this;
                                var t = [];
                                for (var _j = 0; _j < arguments.length; _j++) {
                                    t[_j] = arguments[_j];
                                }
                                if (!t.length || !Wi(t))
                                    throw new Gn.b("observable-bind-wrong-properties: All properties must be strings.", this);
                                if (new Set(t).size !== t.length)
                                    throw new Gn.b("observable-bind-duplicate-properties: Properties must be unique.", this);
                                Hi(this);
                                var e = this[Fi];
                                t.forEach(function (t) { if (e.has(t))
                                    throw new Gn.b("observable-bind-rebind: Cannot bind the same property more than once.", _this); });
                                var n = new Map;
                                return t.forEach(function (t) { var i = { property: t, to: [] }; e.set(t, i), n.set(t, i); }), { to: qi, toMany: Yi, _observable: this, _bindProperties: t, _to: [], _bindings: n };
                            }, unbind: function () {
                                var _this = this;
                                var t = [];
                                for (var _j = 0; _j < arguments.length; _j++) {
                                    t[_j] = arguments[_j];
                                }
                                if (!(Li in this))
                                    return;
                                var e = this[Fi], n = this[Vi];
                                if (t.length) {
                                    if (!Wi(t))
                                        throw new Gn.b("observable-unbind-wrong-properties: Properties must be strings.", this);
                                    t.forEach(function (t) { var i = e.get(t); if (!i)
                                        return; var o, r, s, a; i.to.forEach(function (t) { o = t[0], r = t[1], s = n.get(o), (a = s[r]).delete(i), a.size || delete s[r], Object.keys(s).length || (n.delete(o), _this.stopListening(o, "change")); }), e.delete(t); });
                                }
                                else
                                    n.forEach(function (t, e) { _this.stopListening(e, "change"); }), n.clear(), e.clear();
                            }, decorate: function (t) {
                                var _this = this;
                                var e = this[t];
                                if (!e)
                                    throw new Gn.b("observablemixin-cannot-decorate-undefined: Cannot decorate an undefined method.", this, { object: this, methodName: t });
                                this.on(t, function (t, n) { t.return = e.apply(_this, n); }), this[t] = function () {
                                    var e = [];
                                    for (var _j = 0; _j < arguments.length; _j++) {
                                        e[_j] = arguments[_j];
                                    }
                                    return this.fire(t, e);
                                };
                            } };
                        Bi(zi, ni);
                        var Ui = zi;
                        function Hi(t) { Li in t || (Object.defineProperty(t, Li, { value: new Map }), Object.defineProperty(t, Vi, { value: new Map }), Object.defineProperty(t, Fi, { value: new Map })); }
                        function qi() {
                            var _this = this;
                            var t = [];
                            for (var _j = 0; _j < arguments.length; _j++) {
                                t[_j] = arguments[_j];
                            }
                            var e = function () {
                                var t = [];
                                for (var _j = 0; _j < arguments.length; _j++) {
                                    t[_j] = arguments[_j];
                                }
                                if (!t.length)
                                    throw new Gn.b("observable-bind-to-parse-error: Invalid argument syntax in `to()`.", null);
                                var e = { to: [] };
                                var n;
                                "function" == typeof t[t.length - 1] && (e.callback = t.pop());
                                return t.forEach(function (t) { if ("string" == typeof t)
                                    n.properties.push(t);
                                else {
                                    if ("object" != typeof t)
                                        throw new Gn.b("observable-bind-to-parse-error: Invalid argument syntax in `to()`.", null);
                                    n = { observable: t, properties: [] }, e.to.push(n);
                                } }), e;
                            }.apply(void 0, __spread(t)), n = Array.from(this._bindings.keys()), i = n.length;
                            if (!e.callback && e.to.length > 1)
                                throw new Gn.b("observable-bind-to-no-callback: Binding multiple observables only possible with callback.", this);
                            if (i > 1 && e.callback)
                                throw new Gn.b("observable-bind-to-extra-callback: Cannot bind multiple properties and use a callback in one binding.", this);
                            e.to.forEach(function (t) { if (t.properties.length && t.properties.length !== i)
                                throw new Gn.b("observable-bind-to-properties-length: The number of properties must match.", _this); t.properties.length || (t.properties = _this._bindProperties); }), this._to = e.to, e.callback && (this._bindings.get(n[0]).callback = e.callback), function (t, e) { e.forEach(function (e) { var n = t[Vi]; var i; n.get(e.observable) || t.listenTo(e.observable, "change", function (o, r) { (i = n.get(e.observable)[r]) && i.forEach(function (e) { Ji(t, e.property); }); }); }); }(this._observable, this._to), function (t) { var e; t._bindings.forEach(function (n, i) { t._to.forEach(function (o) { e = o.properties[n.callback ? 0 : t._bindProperties.indexOf(i)], n.to.push([o.observable, e]), function (t, e, n, i) { var o = t[Vi], r = o.get(n), s = r || {}; s[i] || (s[i] = new Set); s[i].add(e), r || o.set(n, s); }(t._observable, n, o.observable, e); }); }); }(this), this._bindProperties.forEach(function (t) { Ji(_this._observable, t); });
                        }
                        function Yi(t, e, n) { if (this._bindings.size > 1)
                            throw new Gn.b("observable-bind-to-many-not-one-binding: Cannot bind multiple properties with toMany().", this); this.to.apply(this, __spread(function (t, e) { var n = t.map(function (t) { return [t, e]; }); return Array.prototype.concat.apply([], n); }(t, e), [n])); }
                        function Wi(t) { return t.every(function (t) { return "string" == typeof t; }); }
                        function Ji(t, e) { var n = t[Fi].get(e); var i; i = n.callback ? n.callback.apply(t, n.to.map(function (t) { return t[0][t[1]]; })) : (i = n.to[0])[0][i[1]], t.hasOwnProperty(e) ? t[e] = i : t.set(e, i); }
                        var $i = Symbol("document");
                        var Gi = /** @class */ (function (_super) {
                            __extends(Gi, _super);
                            function Gi(t, e, n) {
                                var _this = this;
                                _this = _super.call(this, t, e, n) || this, _this.set("isReadOnly", !1), _this.set("isFocused", !1);
                                return _this;
                            }
                            Gi.prototype.is = function (t, e) {
                                if (e === void 0) { e = null; }
                                var n = t && t.replace(/^view:/, "");
                                return e ? "editableElement" == n && e == this.name || _super.prototype.is.call(this, t, e) : "editableElement" == n || _super.prototype.is.call(this, t);
                            };
                            Gi.prototype.destroy = function () { this.stopListening(); };
                            Object.defineProperty(Gi.prototype, "document", {
                                get: function () { return this.getCustomProperty($i); },
                                enumerable: true,
                                configurable: true
                            });
                            Object.defineProperty(Gi.prototype, "_document", {
                                set: function (t) {
                                    var _this = this;
                                    if (this.getCustomProperty($i))
                                        throw new Gn.b("view-editableelement-document-already-set: View document is already set.", this);
                                    this._setCustomProperty($i, t), this.bind("isReadOnly").to(t), this.bind("isFocused").to(t, "isFocused", function (e) { return e && t.selection.editableElement == _this; }), this.listenTo(t.selection, "change", function () { _this.isFocused = t.isFocused && t.selection.editableElement == _this; });
                                },
                                enumerable: true,
                                configurable: true
                            });
                            return Gi;
                        }(_i));
                        li(Gi, Ui);
                        var Ki = Symbol("rootName");
                        var Qi = /** @class */ (function (_super) {
                            __extends(Qi, _super);
                            function Qi(t) {
                                var _this = this;
                                _this = _super.call(this, t) || this, _this.rootName = "main";
                                return _this;
                            }
                            Qi.prototype.is = function (t, e) {
                                if (e === void 0) { e = null; }
                                var n = t.replace(/^view:/, "");
                                return e ? "rootElement" == n && e == this.name || _super.prototype.is.call(this, t, e) : "rootElement" == n || _super.prototype.is.call(this, t);
                            };
                            Object.defineProperty(Qi.prototype, "rootName", {
                                get: function () { return this.getCustomProperty(Ki); },
                                set: function (t) { this._setCustomProperty(Ki, t); },
                                enumerable: true,
                                configurable: true
                            });
                            Object.defineProperty(Qi.prototype, "_name", {
                                set: function (t) { this.name = t; },
                                enumerable: true,
                                configurable: true
                            });
                            return Qi;
                        }(Gi));
                        var Zi = /** @class */ (function () {
                            function Zi(t) {
                                if (t === void 0) { t = {}; }
                                if (!t.boundaries && !t.startPosition)
                                    throw new Gn.b("view-tree-walker-no-start-position: Neither boundaries nor starting position have been defined.", null);
                                if (t.direction && "forward" != t.direction && "backward" != t.direction)
                                    throw new Gn.b("view-tree-walker-unknown-direction: Only `backward` and `forward` direction allowed.", t.startPosition, { direction: t.direction });
                                this.boundaries = t.boundaries || null, t.startPosition ? this.position = Xi._createAt(t.startPosition) : this.position = Xi._createAt(t.boundaries["backward" == t.direction ? "end" : "start"]), this.direction = t.direction || "forward", this.singleCharacters = !!t.singleCharacters, this.shallow = !!t.shallow, this.ignoreElementEnd = !!t.ignoreElementEnd, this._boundaryStartParent = this.boundaries ? this.boundaries.start.parent : null, this._boundaryEndParent = this.boundaries ? this.boundaries.end.parent : null;
                            }
                            Zi.prototype[Symbol.iterator] = function () { return this; };
                            Zi.prototype.skip = function (t) {
                                var _j;
                                var e, n, i;
                                do {
                                    i = this.position, (_j = this.next(), e = _j.done, n = _j.value, _j);
                                } while (!e && t(n));
                                e || (this.position = i);
                            };
                            Zi.prototype.next = function () { return "forward" == this.direction ? this._next() : this._previous(); };
                            Zi.prototype._next = function () { var t = this.position.clone(); var e = this.position, n = t.parent; if (null === n.parent && t.offset === n.childCount)
                                return { done: !0 }; if (n === this._boundaryEndParent && t.offset == this.boundaries.end.offset)
                                return { done: !0 }; var i; if (n instanceof pi) {
                                if (t.isAtEnd)
                                    return this.position = Xi._createAfter(n), this._next();
                                i = n.data[t.offset];
                            }
                            else
                                i = n.getChild(t.offset); if (i instanceof wi)
                                return this.shallow ? t.offset++ : t = new Xi(i, 0), this.position = t, this._formatReturnValue("elementStart", i, e, t, 1); if (i instanceof pi) {
                                if (this.singleCharacters)
                                    return t = new Xi(i, 0), this.position = t, this._next();
                                {
                                    var n_18, o_8 = i.data.length;
                                    return i == this._boundaryEndParent ? (o_8 = this.boundaries.end.offset, n_18 = new mi(i, 0, o_8), t = Xi._createAfter(n_18)) : (n_18 = new mi(i, 0, i.data.length), t.offset++), this.position = t, this._formatReturnValue("text", n_18, e, t, o_8);
                                }
                            } if ("string" == typeof i) {
                                var i_12;
                                if (this.singleCharacters)
                                    i_12 = 1;
                                else {
                                    i_12 = (n === this._boundaryEndParent ? this.boundaries.end.offset : n.data.length) - t.offset;
                                }
                                var o_9 = new mi(n, t.offset, i_12);
                                return t.offset += i_12, this.position = t, this._formatReturnValue("text", o_9, e, t, i_12);
                            } return t = Xi._createAfter(n), this.position = t, this.ignoreElementEnd ? this._next() : this._formatReturnValue("elementEnd", n, e, t); };
                            Zi.prototype._previous = function () { var t = this.position.clone(); var e = this.position, n = t.parent; if (null === n.parent && 0 === t.offset)
                                return { done: !0 }; if (n == this._boundaryStartParent && t.offset == this.boundaries.start.offset)
                                return { done: !0 }; var i; if (n instanceof pi) {
                                if (t.isAtStart)
                                    return this.position = Xi._createBefore(n), this._previous();
                                i = n.data[t.offset - 1];
                            }
                            else
                                i = n.getChild(t.offset - 1); if (i instanceof wi)
                                return this.shallow ? (t.offset--, this.position = t, this._formatReturnValue("elementStart", i, e, t, 1)) : (t = new Xi(i, i.childCount), this.position = t, this.ignoreElementEnd ? this._previous() : this._formatReturnValue("elementEnd", i, e, t)); if (i instanceof pi) {
                                if (this.singleCharacters)
                                    return t = new Xi(i, i.data.length), this.position = t, this._previous();
                                {
                                    var n_19, o_10 = i.data.length;
                                    if (i == this._boundaryStartParent) {
                                        var e_46 = this.boundaries.start.offset;
                                        o_10 = (n_19 = new mi(i, e_46, i.data.length - e_46)).data.length, t = Xi._createBefore(n_19);
                                    }
                                    else
                                        n_19 = new mi(i, 0, i.data.length), t.offset--;
                                    return this.position = t, this._formatReturnValue("text", n_19, e, t, o_10);
                                }
                            } if ("string" == typeof i) {
                                var i_13;
                                if (this.singleCharacters)
                                    i_13 = 1;
                                else {
                                    var e_47 = n === this._boundaryStartParent ? this.boundaries.start.offset : 0;
                                    i_13 = t.offset - e_47;
                                }
                                t.offset -= i_13;
                                var o_11 = new mi(n, t.offset, i_13);
                                return this.position = t, this._formatReturnValue("text", o_11, e, t, i_13);
                            } return t = Xi._createBefore(n), this.position = t, this._formatReturnValue("elementStart", n, e, t, 1); };
                            Zi.prototype._formatReturnValue = function (t, e, n, i, o) { return e instanceof mi && (e.offsetInText + e.data.length == e.textNode.data.length && ("forward" != this.direction || this.boundaries && this.boundaries.end.isEqual(this.position) ? n = Xi._createAfter(e.textNode) : (i = Xi._createAfter(e.textNode), this.position = i)), 0 === e.offsetInText && ("backward" != this.direction || this.boundaries && this.boundaries.start.isEqual(this.position) ? n = Xi._createBefore(e.textNode) : (i = Xi._createBefore(e.textNode), this.position = i))), { done: !1, value: { type: t, item: e, previousPosition: n, nextPosition: i, length: o } }; };
                            return Zi;
                        }());
                        var Xi = /** @class */ (function () {
                            function Xi(t, e) {
                                this.parent = t, this.offset = e;
                            }
                            Object.defineProperty(Xi.prototype, "nodeAfter", {
                                get: function () { return this.parent.is("text") ? null : this.parent.getChild(this.offset) || null; },
                                enumerable: true,
                                configurable: true
                            });
                            Object.defineProperty(Xi.prototype, "nodeBefore", {
                                get: function () { return this.parent.is("text") ? null : this.parent.getChild(this.offset - 1) || null; },
                                enumerable: true,
                                configurable: true
                            });
                            Object.defineProperty(Xi.prototype, "isAtStart", {
                                get: function () { return 0 === this.offset; },
                                enumerable: true,
                                configurable: true
                            });
                            Object.defineProperty(Xi.prototype, "isAtEnd", {
                                get: function () { var t = this.parent.is("text") ? this.parent.data.length : this.parent.childCount; return this.offset === t; },
                                enumerable: true,
                                configurable: true
                            });
                            Object.defineProperty(Xi.prototype, "root", {
                                get: function () { return this.parent.root; },
                                enumerable: true,
                                configurable: true
                            });
                            Object.defineProperty(Xi.prototype, "editableElement", {
                                get: function () { var t = this.parent; for (; !(t instanceof Gi);) {
                                    if (!t.parent)
                                        return null;
                                    t = t.parent;
                                } return t; },
                                enumerable: true,
                                configurable: true
                            });
                            Xi.prototype.getShiftedBy = function (t) { var e = Xi._createAt(this), n = e.offset + t; return e.offset = n < 0 ? 0 : n, e; };
                            Xi.prototype.getLastMatchingPosition = function (t, e) {
                                if (e === void 0) { e = {}; }
                                e.startPosition = this;
                                var n = new Zi(e);
                                return n.skip(t), n.position;
                            };
                            Xi.prototype.getAncestors = function () { return this.parent.is("documentFragment") ? [this.parent] : this.parent.getAncestors({ includeSelf: !0 }); };
                            Xi.prototype.getCommonAncestor = function (t) { var e = this.getAncestors(), n = t.getAncestors(); var i = 0; for (; e[i] == n[i] && e[i];)
                                i++; return 0 === i ? null : e[i - 1]; };
                            Xi.prototype.is = function (t) { return "position" == t || "view:position" == t; };
                            Xi.prototype.isEqual = function (t) { return this.parent == t.parent && this.offset == t.offset; };
                            Xi.prototype.isBefore = function (t) { return "before" == this.compareWith(t); };
                            Xi.prototype.isAfter = function (t) { return "after" == this.compareWith(t); };
                            Xi.prototype.compareWith = function (t) { if (this.root !== t.root)
                                return "different"; if (this.isEqual(t))
                                return "same"; var e = this.parent.is("node") ? this.parent.getPath() : [], n = t.parent.is("node") ? t.parent.getPath() : []; e.push(this.offset), n.push(t.offset); var i = di(e, n); switch (i) {
                                case "prefix": return "before";
                                case "extension": return "after";
                                default: return e[i] < n[i] ? "before" : "after";
                            } };
                            Xi.prototype.getWalker = function (t) {
                                if (t === void 0) { t = {}; }
                                return t.startPosition = this, new Zi(t);
                            };
                            Xi.prototype.clone = function () { return new Xi(this.parent, this.offset); };
                            Xi._createAt = function (t, e) { if (t instanceof Xi)
                                return new this(t.parent, t.offset); {
                                var n_20 = t;
                                if ("end" == e)
                                    e = n_20.is("text") ? n_20.data.length : n_20.childCount;
                                else {
                                    if ("before" == e)
                                        return this._createBefore(n_20);
                                    if ("after" == e)
                                        return this._createAfter(n_20);
                                    if (0 !== e && !e)
                                        throw new Gn.b("view-createPositionAt-offset-required: View#createPositionAt() requires the offset when the first parameter is a view item.", n_20);
                                }
                                return new Xi(n_20, e);
                            } };
                            Xi._createAfter = function (t) { if (t.is("textProxy"))
                                return new Xi(t.textNode, t.offsetInText + t.data.length); if (!t.parent)
                                throw new Gn.b("view-position-after-root: You can not make position after root.", t, { root: t }); return new Xi(t.parent, t.index + 1); };
                            Xi._createBefore = function (t) { if (t.is("textProxy"))
                                return new Xi(t.textNode, t.offsetInText); if (!t.parent)
                                throw new Gn.b("view-position-before-root: You can not make position before root.", t, { root: t }); return new Xi(t.parent, t.index); };
                            return Xi;
                        }());
                        var to = /** @class */ (function () {
                            function to(t, e) {
                                if (e === void 0) { e = null; }
                                this.start = t.clone(), this.end = e ? e.clone() : t.clone();
                            }
                            to.prototype[Symbol.iterator] = function () { return __generator(this, function (_j) {
                                switch (_j.label) {
                                    case 0: return [5 /*yield**/, __values(new Zi({ boundaries: this, ignoreElementEnd: !0 }))];
                                    case 1:
                                        _j.sent();
                                        return [2 /*return*/];
                                }
                            }); };
                            Object.defineProperty(to.prototype, "isCollapsed", {
                                get: function () { return this.start.isEqual(this.end); },
                                enumerable: true,
                                configurable: true
                            });
                            Object.defineProperty(to.prototype, "isFlat", {
                                get: function () { return this.start.parent === this.end.parent; },
                                enumerable: true,
                                configurable: true
                            });
                            Object.defineProperty(to.prototype, "root", {
                                get: function () { return this.start.root; },
                                enumerable: true,
                                configurable: true
                            });
                            to.prototype.getEnlarged = function () { var t = this.start.getLastMatchingPosition(eo, { direction: "backward" }), e = this.end.getLastMatchingPosition(eo); return t.parent.is("text") && t.isAtStart && (t = Xi._createBefore(t.parent)), e.parent.is("text") && e.isAtEnd && (e = Xi._createAfter(e.parent)), new to(t, e); };
                            to.prototype.getTrimmed = function () { var t = this.start.getLastMatchingPosition(eo); if (t.isAfter(this.end) || t.isEqual(this.end))
                                return new to(t, t); var e = this.end.getLastMatchingPosition(eo, { direction: "backward" }); var n = t.nodeAfter, i = e.nodeBefore; return n && n.is("text") && (t = new Xi(n, 0)), i && i.is("text") && (e = new Xi(i, i.data.length)), new to(t, e); };
                            to.prototype.isEqual = function (t) { return this == t || this.start.isEqual(t.start) && this.end.isEqual(t.end); };
                            to.prototype.containsPosition = function (t) { return t.isAfter(this.start) && t.isBefore(this.end); };
                            to.prototype.containsRange = function (t, e) {
                                if (e === void 0) { e = !1; }
                                t.isCollapsed && (e = !1);
                                var n = this.containsPosition(t.start) || e && this.start.isEqual(t.start), i = this.containsPosition(t.end) || e && this.end.isEqual(t.end);
                                return n && i;
                            };
                            to.prototype.getDifference = function (t) { var e = []; return this.isIntersecting(t) ? (this.containsPosition(t.start) && e.push(new to(this.start, t.start)), this.containsPosition(t.end) && e.push(new to(t.end, this.end))) : e.push(this.clone()), e; };
                            to.prototype.getIntersection = function (t) { if (this.isIntersecting(t)) {
                                var e_48 = this.start, n_21 = this.end;
                                return this.containsPosition(t.start) && (e_48 = t.start), this.containsPosition(t.end) && (n_21 = t.end), new to(e_48, n_21);
                            } return null; };
                            to.prototype.getWalker = function (t) {
                                if (t === void 0) { t = {}; }
                                return t.boundaries = this, new Zi(t);
                            };
                            to.prototype.getCommonAncestor = function () { return this.start.getCommonAncestor(this.end); };
                            to.prototype.clone = function () { return new to(this.start, this.end); };
                            to.prototype.getItems = function (t) {
                                var e_49, _j, e, e_50, e_50_1, t_25, e_49_1;
                                return __generator(this, function (_q) {
                                    switch (_q.label) {
                                        case 0:
                                            if (t === void 0) { t = {}; }
                                            t.boundaries = this, t.ignoreElementEnd = !0;
                                            e = new Zi(t);
                                            _q.label = 1;
                                        case 1:
                                            _q.trys.push([1, 6, 7, 8]);
                                            e_50 = __values(e), e_50_1 = e_50.next();
                                            _q.label = 2;
                                        case 2:
                                            if (!!e_50_1.done) return [3 /*break*/, 5];
                                            t_25 = e_50_1.value;
                                            return [4 /*yield*/, t_25.item];
                                        case 3:
                                            _q.sent();
                                            _q.label = 4;
                                        case 4:
                                            e_50_1 = e_50.next();
                                            return [3 /*break*/, 2];
                                        case 5: return [3 /*break*/, 8];
                                        case 6:
                                            e_49_1 = _q.sent();
                                            e_49 = { error: e_49_1 };
                                            return [3 /*break*/, 8];
                                        case 7:
                                            try {
                                                if (e_50_1 && !e_50_1.done && (_j = e_50.return)) _j.call(e_50);
                                            }
                                            finally { if (e_49) throw e_49.error; }
                                            return [7 /*endfinally*/];
                                        case 8: return [2 /*return*/];
                                    }
                                });
                            };
                            to.prototype.getPositions = function (t) {
                                var e_51, _j, e, e_52, e_52_1, t_26, e_51_1;
                                return __generator(this, function (_q) {
                                    switch (_q.label) {
                                        case 0:
                                            if (t === void 0) { t = {}; }
                                            t.boundaries = this;
                                            e = new Zi(t);
                                            return [4 /*yield*/, e.position];
                                        case 1:
                                            _q.sent();
                                            _q.label = 2;
                                        case 2:
                                            _q.trys.push([2, 7, 8, 9]);
                                            e_52 = __values(e), e_52_1 = e_52.next();
                                            _q.label = 3;
                                        case 3:
                                            if (!!e_52_1.done) return [3 /*break*/, 6];
                                            t_26 = e_52_1.value;
                                            return [4 /*yield*/, t_26.nextPosition];
                                        case 4:
                                            _q.sent();
                                            _q.label = 5;
                                        case 5:
                                            e_52_1 = e_52.next();
                                            return [3 /*break*/, 3];
                                        case 6: return [3 /*break*/, 9];
                                        case 7:
                                            e_51_1 = _q.sent();
                                            e_51 = { error: e_51_1 };
                                            return [3 /*break*/, 9];
                                        case 8:
                                            try {
                                                if (e_52_1 && !e_52_1.done && (_j = e_52.return)) _j.call(e_52);
                                            }
                                            finally { if (e_51) throw e_51.error; }
                                            return [7 /*endfinally*/];
                                        case 9: return [2 /*return*/];
                                    }
                                });
                            };
                            to.prototype.is = function (t) { return "range" == t || "view:range" == t; };
                            to.prototype.isIntersecting = function (t) { return this.start.isBefore(t.end) && this.end.isAfter(t.start); };
                            to._createFromParentsAndOffsets = function (t, e, n, i) { return new this(new Xi(t, e), new Xi(n, i)); };
                            to._createFromPositionAndShift = function (t, e) { var n = t, i = t.getShiftedBy(e); return e > 0 ? new this(n, i) : new this(i, n); };
                            to._createIn = function (t) { return this._createFromParentsAndOffsets(t, 0, t, t.childCount); };
                            to._createOn = function (t) { var e = t.is("textProxy") ? t.offsetSize : 1; return this._createFromPositionAndShift(Xi._createBefore(t), e); };
                            return to;
                        }());
                        function eo(t) { return !(!t.item.is("attributeElement") && !t.item.is("uiElement")); }
                        function no(t) {
                            var e_53, _j;
                            var e = 0;
                            try {
                                for (var t_27 = __values(t), t_27_1 = t_27.next(); !t_27_1.done; t_27_1 = t_27.next()) {
                                    var n_22 = t_27_1.value;
                                    e++;
                                }
                            }
                            catch (e_53_1) { e_53 = { error: e_53_1 }; }
                            finally {
                                try {
                                    if (t_27_1 && !t_27_1.done && (_j = t_27.return)) _j.call(t_27);
                                }
                                finally { if (e_53) throw e_53.error; }
                            }
                            return e;
                        }
                        var io = /** @class */ (function () {
                            function io(t, e, n) {
                                if (t === void 0) { t = null; }
                                this._ranges = [], this._lastRangeBackward = !1, this._isFake = !1, this._fakeSelectionLabel = "", this.setTo(t, e, n);
                            }
                            Object.defineProperty(io.prototype, "isFake", {
                                get: function () { return this._isFake; },
                                enumerable: true,
                                configurable: true
                            });
                            Object.defineProperty(io.prototype, "fakeSelectionLabel", {
                                get: function () { return this._fakeSelectionLabel; },
                                enumerable: true,
                                configurable: true
                            });
                            Object.defineProperty(io.prototype, "anchor", {
                                get: function () { if (!this._ranges.length)
                                    return null; var t = this._ranges[this._ranges.length - 1]; return (this._lastRangeBackward ? t.end : t.start).clone(); },
                                enumerable: true,
                                configurable: true
                            });
                            Object.defineProperty(io.prototype, "focus", {
                                get: function () { if (!this._ranges.length)
                                    return null; var t = this._ranges[this._ranges.length - 1]; return (this._lastRangeBackward ? t.start : t.end).clone(); },
                                enumerable: true,
                                configurable: true
                            });
                            Object.defineProperty(io.prototype, "isCollapsed", {
                                get: function () { return 1 === this.rangeCount && this._ranges[0].isCollapsed; },
                                enumerable: true,
                                configurable: true
                            });
                            Object.defineProperty(io.prototype, "rangeCount", {
                                get: function () { return this._ranges.length; },
                                enumerable: true,
                                configurable: true
                            });
                            Object.defineProperty(io.prototype, "isBackward", {
                                get: function () { return !this.isCollapsed && this._lastRangeBackward; },
                                enumerable: true,
                                configurable: true
                            });
                            Object.defineProperty(io.prototype, "editableElement", {
                                get: function () { return this.anchor ? this.anchor.editableElement : null; },
                                enumerable: true,
                                configurable: true
                            });
                            io.prototype.getRanges = function () {
                                var e_54, _j, _q, _z, t_28, e_54_1;
                                return __generator(this, function (_0) {
                                    switch (_0.label) {
                                        case 0:
                                            _0.trys.push([0, 5, 6, 7]);
                                            _q = __values(this._ranges), _z = _q.next();
                                            _0.label = 1;
                                        case 1:
                                            if (!!_z.done) return [3 /*break*/, 4];
                                            t_28 = _z.value;
                                            return [4 /*yield*/, t_28.clone()];
                                        case 2:
                                            _0.sent();
                                            _0.label = 3;
                                        case 3:
                                            _z = _q.next();
                                            return [3 /*break*/, 1];
                                        case 4: return [3 /*break*/, 7];
                                        case 5:
                                            e_54_1 = _0.sent();
                                            e_54 = { error: e_54_1 };
                                            return [3 /*break*/, 7];
                                        case 6:
                                            try {
                                                if (_z && !_z.done && (_j = _q.return)) _j.call(_q);
                                            }
                                            finally { if (e_54) throw e_54.error; }
                                            return [7 /*endfinally*/];
                                        case 7: return [2 /*return*/];
                                    }
                                });
                            };
                            io.prototype.getFirstRange = function () {
                                var e_55, _j;
                                var t = null;
                                try {
                                    for (var _q = __values(this._ranges), _z = _q.next(); !_z.done; _z = _q.next()) {
                                        var e_56 = _z.value;
                                        t && !e_56.start.isBefore(t.start) || (t = e_56);
                                    }
                                }
                                catch (e_55_1) { e_55 = { error: e_55_1 }; }
                                finally {
                                    try {
                                        if (_z && !_z.done && (_j = _q.return)) _j.call(_q);
                                    }
                                    finally { if (e_55) throw e_55.error; }
                                }
                                return t ? t.clone() : null;
                            };
                            io.prototype.getLastRange = function () {
                                var e_57, _j;
                                var t = null;
                                try {
                                    for (var _q = __values(this._ranges), _z = _q.next(); !_z.done; _z = _q.next()) {
                                        var e_58 = _z.value;
                                        t && !e_58.end.isAfter(t.end) || (t = e_58);
                                    }
                                }
                                catch (e_57_1) { e_57 = { error: e_57_1 }; }
                                finally {
                                    try {
                                        if (_z && !_z.done && (_j = _q.return)) _j.call(_q);
                                    }
                                    finally { if (e_57) throw e_57.error; }
                                }
                                return t ? t.clone() : null;
                            };
                            io.prototype.getFirstPosition = function () { var t = this.getFirstRange(); return t ? t.start.clone() : null; };
                            io.prototype.getLastPosition = function () { var t = this.getLastRange(); return t ? t.end.clone() : null; };
                            io.prototype.isEqual = function (t) {
                                var e_59, _j, e_60, _q;
                                if (this.isFake != t.isFake)
                                    return !1;
                                if (this.isFake && this.fakeSelectionLabel != t.fakeSelectionLabel)
                                    return !1;
                                if (this.rangeCount != t.rangeCount)
                                    return !1;
                                if (0 === this.rangeCount)
                                    return !0;
                                if (!this.anchor.isEqual(t.anchor) || !this.focus.isEqual(t.focus))
                                    return !1;
                                try {
                                    for (var _z = __values(this._ranges), _0 = _z.next(); !_0.done; _0 = _z.next()) {
                                        var e_61 = _0.value;
                                        var n_23 = !1;
                                        try {
                                            for (var _1 = __values(t._ranges), _2 = _1.next(); !_2.done; _2 = _1.next()) {
                                                var i_14 = _2.value;
                                                if (e_61.isEqual(i_14)) {
                                                    n_23 = !0;
                                                    break;
                                                }
                                            }
                                        }
                                        catch (e_60_1) { e_60 = { error: e_60_1 }; }
                                        finally {
                                            try {
                                                if (_2 && !_2.done && (_q = _1.return)) _q.call(_1);
                                            }
                                            finally { if (e_60) throw e_60.error; }
                                        }
                                        if (!n_23)
                                            return !1;
                                    }
                                }
                                catch (e_59_1) { e_59 = { error: e_59_1 }; }
                                finally {
                                    try {
                                        if (_0 && !_0.done && (_j = _z.return)) _j.call(_z);
                                    }
                                    finally { if (e_59) throw e_59.error; }
                                }
                                return !0;
                            };
                            io.prototype.isSimilar = function (t) {
                                var e_62, _j, e_63, _q;
                                if (this.isBackward != t.isBackward)
                                    return !1;
                                var e = no(this.getRanges());
                                if (e != no(t.getRanges()))
                                    return !1;
                                if (0 == e)
                                    return !0;
                                try {
                                    for (var _z = __values(this.getRanges()), _0 = _z.next(); !_0.done; _0 = _z.next()) {
                                        var e_64 = _0.value;
                                        e_64 = e_64.getTrimmed();
                                        var n_24 = !1;
                                        try {
                                            for (var _1 = __values(t.getRanges()), _2 = _1.next(); !_2.done; _2 = _1.next()) {
                                                var i_15 = _2.value;
                                                if (i_15 = i_15.getTrimmed(), e_64.start.isEqual(i_15.start) && e_64.end.isEqual(i_15.end)) {
                                                    n_24 = !0;
                                                    break;
                                                }
                                            }
                                        }
                                        catch (e_63_1) { e_63 = { error: e_63_1 }; }
                                        finally {
                                            try {
                                                if (_2 && !_2.done && (_q = _1.return)) _q.call(_1);
                                            }
                                            finally { if (e_63) throw e_63.error; }
                                        }
                                        if (!n_24)
                                            return !1;
                                    }
                                }
                                catch (e_62_1) { e_62 = { error: e_62_1 }; }
                                finally {
                                    try {
                                        if (_0 && !_0.done && (_j = _z.return)) _j.call(_z);
                                    }
                                    finally { if (e_62) throw e_62.error; }
                                }
                                return !0;
                            };
                            io.prototype.getSelectedElement = function () { if (1 !== this.rangeCount)
                                return null; var t = this.getFirstRange(); var e = t.start.nodeAfter, n = t.end.nodeBefore; return t.start.parent.is("text") && t.start.isAtEnd && t.start.parent.nextSibling && (e = t.start.parent.nextSibling), t.end.parent.is("text") && t.end.isAtStart && t.end.parent.previousSibling && (n = t.end.parent.previousSibling), e instanceof wi && e == n ? e : null; };
                            io.prototype.setTo = function (t, e, n) { if (null === t)
                                this._setRanges([]), this._setFakeOptions(e);
                            else if (t instanceof io || t instanceof oo)
                                this._setRanges(t.getRanges(), t.isBackward), this._setFakeOptions({ fake: t.isFake, label: t.fakeSelectionLabel });
                            else if (t instanceof to)
                                this._setRanges([t], e && e.backward), this._setFakeOptions(e);
                            else if (t instanceof Xi)
                                this._setRanges([new to(t)]), this._setFakeOptions(e);
                            else if (t instanceof fi) {
                                var i_16 = !!n && !!n.backward;
                                var o_12;
                                if (void 0 === e)
                                    throw new Gn.b("view-selection-setTo-required-second-parameter: selection.setTo requires the second parameter when the first parameter is a node.", this);
                                o_12 = "in" == e ? to._createIn(t) : "on" == e ? to._createOn(t) : new to(Xi._createAt(t, e)), this._setRanges([o_12], i_16), this._setFakeOptions(n);
                            }
                            else {
                                if (!xi(t))
                                    throw new Gn.b("view-selection-setTo-not-selectable: Cannot set selection to given place.", this);
                                this._setRanges(t, e && e.backward), this._setFakeOptions(e);
                            } this.fire("change"); };
                            io.prototype.setFocus = function (t, e) { if (null === this.anchor)
                                throw new Gn.b("view-selection-setFocus-no-ranges: Cannot set selection focus if there are no ranges in selection.", this); var n = Xi._createAt(t, e); if ("same" == n.compareWith(this.focus))
                                return; var i = this.anchor; this._ranges.pop(), "before" == n.compareWith(i) ? this._addRange(new to(n, i), !0) : this._addRange(new to(i, n)), this.fire("change"); };
                            io.prototype.is = function (t) { return "selection" == t || "view:selection" == t; };
                            io.prototype._setRanges = function (t, e) {
                                var e_65, _j;
                                if (e === void 0) { e = !1; }
                                t = Array.from(t), this._ranges = [];
                                try {
                                    for (var t_29 = __values(t), t_29_1 = t_29.next(); !t_29_1.done; t_29_1 = t_29.next()) {
                                        var e_66 = t_29_1.value;
                                        this._addRange(e_66);
                                    }
                                }
                                catch (e_65_1) { e_65 = { error: e_65_1 }; }
                                finally {
                                    try {
                                        if (t_29_1 && !t_29_1.done && (_j = t_29.return)) _j.call(t_29);
                                    }
                                    finally { if (e_65) throw e_65.error; }
                                }
                                this._lastRangeBackward = !!e;
                            };
                            io.prototype._setFakeOptions = function (t) {
                                if (t === void 0) { t = {}; }
                                this._isFake = !!t.fake, this._fakeSelectionLabel = t.fake && t.label || "";
                            };
                            io.prototype._addRange = function (t, e) {
                                if (e === void 0) { e = !1; }
                                if (!(t instanceof to))
                                    throw new Gn.b("view-selection-add-range-not-range: Selection range set to an object that is not an instance of view.Range", this);
                                this._pushRange(t), this._lastRangeBackward = !!e;
                            };
                            io.prototype._pushRange = function (t) {
                                var e_67, _j;
                                try {
                                    for (var _q = __values(this._ranges), _z = _q.next(); !_z.done; _z = _q.next()) {
                                        var e_68 = _z.value;
                                        if (t.isIntersecting(e_68))
                                            throw new Gn.b("view-selection-range-intersects: Trying to add a range that intersects with another range from selection.", this, { addedRange: t, intersectingRange: e_68 });
                                    }
                                }
                                catch (e_67_1) { e_67 = { error: e_67_1 }; }
                                finally {
                                    try {
                                        if (_z && !_z.done && (_j = _q.return)) _j.call(_q);
                                    }
                                    finally { if (e_67) throw e_67.error; }
                                }
                                this._ranges.push(new to(t.start, t.end));
                            };
                            return io;
                        }());
                        li(io, ni);
                        var oo = /** @class */ (function () {
                            function oo(t, e, n) {
                                if (t === void 0) { t = null; }
                                this._selection = new io, this._selection.delegate("change").to(this), this._selection.setTo(t, e, n);
                            }
                            Object.defineProperty(oo.prototype, "isFake", {
                                get: function () { return this._selection.isFake; },
                                enumerable: true,
                                configurable: true
                            });
                            Object.defineProperty(oo.prototype, "fakeSelectionLabel", {
                                get: function () { return this._selection.fakeSelectionLabel; },
                                enumerable: true,
                                configurable: true
                            });
                            Object.defineProperty(oo.prototype, "anchor", {
                                get: function () { return this._selection.anchor; },
                                enumerable: true,
                                configurable: true
                            });
                            Object.defineProperty(oo.prototype, "focus", {
                                get: function () { return this._selection.focus; },
                                enumerable: true,
                                configurable: true
                            });
                            Object.defineProperty(oo.prototype, "isCollapsed", {
                                get: function () { return this._selection.isCollapsed; },
                                enumerable: true,
                                configurable: true
                            });
                            Object.defineProperty(oo.prototype, "rangeCount", {
                                get: function () { return this._selection.rangeCount; },
                                enumerable: true,
                                configurable: true
                            });
                            Object.defineProperty(oo.prototype, "isBackward", {
                                get: function () { return this._selection.isBackward; },
                                enumerable: true,
                                configurable: true
                            });
                            Object.defineProperty(oo.prototype, "editableElement", {
                                get: function () { return this._selection.editableElement; },
                                enumerable: true,
                                configurable: true
                            });
                            Object.defineProperty(oo.prototype, "_ranges", {
                                get: function () { return this._selection._ranges; },
                                enumerable: true,
                                configurable: true
                            });
                            oo.prototype.getRanges = function () { return __generator(this, function (_j) {
                                switch (_j.label) {
                                    case 0: return [5 /*yield**/, __values(this._selection.getRanges())];
                                    case 1:
                                        _j.sent();
                                        return [2 /*return*/];
                                }
                            }); };
                            oo.prototype.getFirstRange = function () { return this._selection.getFirstRange(); };
                            oo.prototype.getLastRange = function () { return this._selection.getLastRange(); };
                            oo.prototype.getFirstPosition = function () { return this._selection.getFirstPosition(); };
                            oo.prototype.getLastPosition = function () { return this._selection.getLastPosition(); };
                            oo.prototype.getSelectedElement = function () { return this._selection.getSelectedElement(); };
                            oo.prototype.isEqual = function (t) { return this._selection.isEqual(t); };
                            oo.prototype.isSimilar = function (t) { return this._selection.isSimilar(t); };
                            oo.prototype.is = function (t) { return "selection" == t || "documentSelection" == t || "view:selection" == t || "view:documentSelection" == t; };
                            oo.prototype._setTo = function (t, e, n) { this._selection.setTo(t, e, n); };
                            oo.prototype._setFocus = function (t, e) { this._selection.setFocus(t, e); };
                            return oo;
                        }());
                        li(oo, ni);
                        var ro = /** @class */ (function () {
                            function ro(t) {
                                if (t === void 0) { t = {}; }
                                this._items = [], this._itemMap = new Map, this._idProperty = t.idProperty || "id", this._bindToExternalToInternalMap = new WeakMap, this._bindToInternalToExternalMap = new WeakMap, this._skippedIndexesFromExternal = [];
                            }
                            Object.defineProperty(ro.prototype, "length", {
                                get: function () { return this._items.length; },
                                enumerable: true,
                                configurable: true
                            });
                            Object.defineProperty(ro.prototype, "first", {
                                get: function () { return this._items[0] || null; },
                                enumerable: true,
                                configurable: true
                            });
                            Object.defineProperty(ro.prototype, "last", {
                                get: function () { return this._items[this.length - 1] || null; },
                                enumerable: true,
                                configurable: true
                            });
                            ro.prototype.add = function (t, e) { var n; var i = this._idProperty; if (i in t) {
                                if ("string" != typeof (n = t[i]))
                                    throw new Gn.b("collection-add-invalid-id", this);
                                if (this.get(n))
                                    throw new Gn.b("collection-add-item-already-exists", this);
                            }
                            else
                                t[i] = n = Zn(); if (void 0 === e)
                                e = this._items.length;
                            else if (e > this._items.length || e < 0)
                                throw new Gn.b("collection-add-item-invalid-index", this); return this._items.splice(e, 0, t), this._itemMap.set(n, t), this.fire("add", t, e), this; };
                            ro.prototype.get = function (t) { var e; if ("string" == typeof t)
                                e = this._itemMap.get(t);
                            else {
                                if ("number" != typeof t)
                                    throw new Gn.b("collection-get-invalid-arg: Index or id must be given.", this);
                                e = this._items[t];
                            } return e || null; };
                            ro.prototype.has = function (t) { if ("string" == typeof t)
                                return this._itemMap.has(t); {
                                var e_69 = t[this._idProperty];
                                return this._itemMap.has(e_69);
                            } };
                            ro.prototype.getIndex = function (t) { var e; return e = "string" == typeof t ? this._itemMap.get(t) : t, this._items.indexOf(e); };
                            ro.prototype.remove = function (t) { var e, n, i, o = !1; var r = this._idProperty; if ("string" == typeof t ? (n = t, o = !(i = this._itemMap.get(n)), i && (e = this._items.indexOf(i))) : "number" == typeof t ? (e = t, o = !(i = this._items[e]), i && (n = i[r])) : (n = (i = t)[r], o = -1 == (e = this._items.indexOf(i)) || !this._itemMap.get(n)), o)
                                throw new Gn.b("collection-remove-404: Item not found.", this); this._items.splice(e, 1), this._itemMap.delete(n); var s = this._bindToInternalToExternalMap.get(i); return this._bindToInternalToExternalMap.delete(i), this._bindToExternalToInternalMap.delete(s), this.fire("remove", i, e), i; };
                            ro.prototype.map = function (t, e) { return this._items.map(t, e); };
                            ro.prototype.find = function (t, e) { return this._items.find(t, e); };
                            ro.prototype.filter = function (t, e) { return this._items.filter(t, e); };
                            ro.prototype.clear = function () { for (this._bindToCollection && (this.stopListening(this._bindToCollection), this._bindToCollection = null); this.length;)
                                this.remove(0); };
                            ro.prototype.bindTo = function (t) {
                                var _this = this;
                                if (this._bindToCollection)
                                    throw new Gn.b("collection-bind-to-rebind: The collection cannot be bound more than once.", this);
                                return this._bindToCollection = t, { as: function (t) { _this._setUpBindToBinding(function (e) { return new t(e); }); }, using: function (t) { "function" == typeof t ? _this._setUpBindToBinding(function (e) { return t(e); }) : _this._setUpBindToBinding(function (e) { return e[t]; }); } };
                            };
                            ro.prototype._setUpBindToBinding = function (t) {
                                var _this = this;
                                var e_70, _j;
                                var e = this._bindToCollection, n = function (n, i, o) {
                                    var e_72, _j, e_73, _q;
                                    var r = e._bindToCollection == _this, s = e._bindToInternalToExternalMap.get(i);
                                    if (r && s)
                                        _this._bindToExternalToInternalMap.set(i, s), _this._bindToInternalToExternalMap.set(s, i);
                                    else {
                                        var n_25 = t(i);
                                        if (!n_25)
                                            return void _this._skippedIndexesFromExternal.push(o);
                                        var r_2 = o;
                                        try {
                                            for (var _z = __values(_this._skippedIndexesFromExternal), _0 = _z.next(); !_0.done; _0 = _z.next()) {
                                                var t_30 = _0.value;
                                                o > t_30 && r_2--;
                                            }
                                        }
                                        catch (e_72_1) { e_72 = { error: e_72_1 }; }
                                        finally {
                                            try {
                                                if (_0 && !_0.done && (_j = _z.return)) _j.call(_z);
                                            }
                                            finally { if (e_72) throw e_72.error; }
                                        }
                                        try {
                                            for (var _1 = __values(e._skippedIndexesFromExternal), _2 = _1.next(); !_2.done; _2 = _1.next()) {
                                                var t_31 = _2.value;
                                                r_2 >= t_31 && r_2++;
                                            }
                                        }
                                        catch (e_73_1) { e_73 = { error: e_73_1 }; }
                                        finally {
                                            try {
                                                if (_2 && !_2.done && (_q = _1.return)) _q.call(_1);
                                            }
                                            finally { if (e_73) throw e_73.error; }
                                        }
                                        _this._bindToExternalToInternalMap.set(i, n_25), _this._bindToInternalToExternalMap.set(n_25, i), _this.add(n_25, r_2);
                                        for (var t_32 = 0; t_32 < e._skippedIndexesFromExternal.length; t_32++)
                                            r_2 <= e._skippedIndexesFromExternal[t_32] && e._skippedIndexesFromExternal[t_32]++;
                                    }
                                };
                                try {
                                    for (var e_71 = __values(e), e_71_1 = e_71.next(); !e_71_1.done; e_71_1 = e_71.next()) {
                                        var t_33 = e_71_1.value;
                                        n(0, t_33, e.getIndex(t_33));
                                    }
                                }
                                catch (e_70_1) { e_70 = { error: e_70_1 }; }
                                finally {
                                    try {
                                        if (e_71_1 && !e_71_1.done && (_j = e_71.return)) _j.call(e_71);
                                    }
                                    finally { if (e_70) throw e_70.error; }
                                }
                                this.listenTo(e, "add", n), this.listenTo(e, "remove", function (t, e, n) { var i = _this._bindToExternalToInternalMap.get(e); i && _this.remove(i), _this._skippedIndexesFromExternal = _this._skippedIndexesFromExternal.reduce(function (t, e) { return (n < e && t.push(e - 1), n > e && t.push(e), t); }, []); });
                            };
                            ro.prototype[Symbol.iterator] = function () { return this._items[Symbol.iterator](); };
                            return ro;
                        }());
                        li(ro, ni);
                        var so = /** @class */ (function () {
                            function so() {
                                this.selection = new oo, this.roots = new ro({ idProperty: "rootName" }), this.set("isReadOnly", !1), this.set("isFocused", !1), this.set("isComposing", !1), this._postFixers = new Set;
                            }
                            so.prototype.getRoot = function (t) {
                                if (t === void 0) { t = "main"; }
                                return this.roots.get(t);
                            };
                            so.prototype.registerPostFixer = function (t) { this._postFixers.add(t); };
                            so.prototype.destroy = function () { this.roots.map(function (t) { return t.destroy(); }), this.stopListening(); };
                            so.prototype._callPostFixers = function (t) {
                                var e_74, _j;
                                var e = !1;
                                do {
                                    try {
                                        for (var _q = __values(this._postFixers), _z = _q.next(); !_z.done; _z = _q.next()) {
                                            var n_26 = _z.value;
                                            if (e = n_26(t))
                                                break;
                                        }
                                    }
                                    catch (e_74_1) { e_74 = { error: e_74_1 }; }
                                    finally {
                                        try {
                                            if (_z && !_z.done && (_j = _q.return)) _j.call(_q);
                                        }
                                        finally { if (e_74) throw e_74.error; }
                                    }
                                } while (e);
                            };
                            return so;
                        }());
                        li(so, Ui);
                        var ao = 10;
                        var co = /** @class */ (function (_super) {
                            __extends(co, _super);
                            function co(t, e, n) {
                                var _this = this;
                                _this = _super.call(this, t, e, n) || this, _this.getFillerOffset = lo, _this._priority = ao, _this._id = null, _this._clonesGroup = null;
                                return _this;
                            }
                            Object.defineProperty(co.prototype, "priority", {
                                get: function () { return this._priority; },
                                enumerable: true,
                                configurable: true
                            });
                            Object.defineProperty(co.prototype, "id", {
                                get: function () { return this._id; },
                                enumerable: true,
                                configurable: true
                            });
                            co.prototype.getElementsWithSameId = function () { if (null === this.id)
                                throw new Gn.b("attribute-element-get-elements-with-same-id-no-id: Cannot get elements with the same id for an attribute element without id.", this); return new Set(this._clonesGroup); };
                            co.prototype.is = function (t, e) {
                                if (e === void 0) { e = null; }
                                var n = t && t.replace(/^view:/, "");
                                return e ? "attributeElement" == n && e == this.name || _super.prototype.is.call(this, t, e) : "attributeElement" == n || _super.prototype.is.call(this, t);
                            };
                            co.prototype.isSimilar = function (t) { return null !== this.id || null !== t.id ? this.id === t.id : _super.prototype.isSimilar.call(this, t) && this.priority == t.priority; };
                            co.prototype._clone = function (t) { var e = _super.prototype._clone.call(this, t); return e._priority = this._priority, e._id = this._id, e; };
                            return co;
                        }(wi));
                        function lo() { if (uo(this))
                            return null; var t = this.parent; for (; t && t.is("attributeElement");) {
                            if (uo(t) > 1)
                                return null;
                            t = t.parent;
                        } return !t || uo(t) > 1 ? null : this.childCount; }
                        function uo(t) { return Array.from(t.getChildren()).filter(function (t) { return !t.is("uiElement"); }).length; }
                        co.DEFAULT_PRIORITY = ao;
                        var ho = /** @class */ (function (_super) {
                            __extends(ho, _super);
                            function ho(t, e, n) {
                                var _this = this;
                                _this = _super.call(this, t, e, n) || this, _this.getFillerOffset = fo;
                                return _this;
                            }
                            ho.prototype.is = function (t, e) {
                                if (e === void 0) { e = null; }
                                var n = t.replace(/^view:/, "");
                                return e ? "emptyElement" == n && e == this.name || _super.prototype.is.call(this, t, e) : "emptyElement" == n || _super.prototype.is.call(this, t);
                            };
                            ho.prototype._insertChild = function (t, e) { if (e && (e instanceof fi || Array.from(e).length > 0))
                                throw new Gn.b("view-emptyelement-cannot-add: Cannot add child nodes to EmptyElement instance.", [this, e]); };
                            return ho;
                        }(wi));
                        function fo() { return null; }
                        var po = navigator.userAgent.toLowerCase();
                        var mo = { isMac: function (t) { return t.indexOf("macintosh") > -1; }(po), isEdge: function (t) { return !!t.match(/edge\/(\d+.?\d*)/); }(po), isGecko: function (t) { return !!t.match(/gecko\/\d+/); }(po), isSafari: function (t) { return t.indexOf(" applewebkit/") > -1 && -1 === t.indexOf("chrome"); }(po), isAndroid: function (t) { return t.indexOf("android") > -1; }(po), features: { isRegExpUnicodePropertySupported: function () { var t = !1; try {
                                    t = 0 === "ć".search(new RegExp("[\\p{L}]", "u"));
                                }
                                catch (t) { } return t; }() } };
                        var go = { "⌘": "ctrl", "⇧": "shift", "⌥": "alt" }, xo = { ctrl: "⌘", shift: "⇧", alt: "⌥" }, bo = function () { var t = { arrowleft: 37, arrowup: 38, arrowright: 39, arrowdown: 40, backspace: 8, delete: 46, enter: 13, space: 32, esc: 27, tab: 9, ctrl: 1114112, cmd: 1114112, shift: 2228224, alt: 4456448 }; for (var e_75 = 65; e_75 <= 90; e_75++) {
                            var n_27 = String.fromCharCode(e_75);
                            t[n_27.toLowerCase()] = e_75;
                        } for (var e_76 = 48; e_76 <= 57; e_76++)
                            t[e_76 - 48] = e_76; for (var e_77 = 112; e_77 <= 123; e_77++)
                            t["f" + (e_77 - 111)] = e_77; return t; }();
                        function ko(t) { var e; if ("string" == typeof t) {
                            if (!(e = bo[t.toLowerCase()]))
                                throw new Gn.b("keyboard-unknown-key: Unknown key name.", null, { key: t });
                        }
                        else
                            e = t.keyCode + (t.altKey ? bo.alt : 0) + (t.ctrlKey ? bo.ctrl : 0) + (t.shiftKey ? bo.shift : 0); return e; }
                        function wo(t) { return "string" == typeof t && (t = yo(t)), t.map(function (t) { return "string" == typeof t ? ko(t) : t; }).reduce(function (t, e) { return e + t; }, 0); }
                        function vo(t) { return mo.isMac ? yo(t).map(function (t) { return xo[t.toLowerCase()] || t; }).reduce(function (t, e) { return t.slice(-1) in go ? t + e : t + "+" + e; }) : t; }
                        function yo(t) { return t.split(/\s*\+\s*/); }
                        var _o = /** @class */ (function (_super) {
                            __extends(_o, _super);
                            function _o(t, e, n) {
                                var _this = this;
                                _this = _super.call(this, t, e, n) || this, _this.getFillerOffset = To;
                                return _this;
                            }
                            _o.prototype.is = function (t, e) {
                                if (e === void 0) { e = null; }
                                var n = t.replace(/^view:/, "");
                                return e ? "uiElement" == n && e == this.name || _super.prototype.is.call(this, t, e) : "uiElement" == n || _super.prototype.is.call(this, t);
                            };
                            _o.prototype._insertChild = function (t, e) { if (e && (e instanceof fi || Array.from(e).length > 0))
                                throw new Gn.b("view-uielement-cannot-add: Cannot add child nodes to UIElement instance.", this); };
                            _o.prototype.render = function (t) { return this.toDomElement(t); };
                            _o.prototype.toDomElement = function (t) {
                                var e_78, _j;
                                var e = t.createElement(this.name);
                                try {
                                    for (var _q = __values(this.getAttributeKeys()), _z = _q.next(); !_z.done; _z = _q.next()) {
                                        var t_34 = _z.value;
                                        e.setAttribute(t_34, this.getAttribute(t_34));
                                    }
                                }
                                catch (e_78_1) { e_78 = { error: e_78_1 }; }
                                finally {
                                    try {
                                        if (_z && !_z.done && (_j = _q.return)) _j.call(_q);
                                    }
                                    finally { if (e_78) throw e_78.error; }
                                }
                                return e;
                            };
                            return _o;
                        }(wi));
                        function Co(t) { t.document.on("keydown", function (e, n) { return (function (t, e, n) { if (e.keyCode == bo.arrowright) {
                            var t_35 = e.domTarget.ownerDocument.defaultView.getSelection(), i_17 = 1 == t_35.rangeCount && t_35.getRangeAt(0).collapsed;
                            if (i_17 || e.shiftKey) {
                                var e_79 = t_35.focusNode, o_13 = t_35.focusOffset, r_3 = n.domPositionToView(e_79, o_13);
                                if (null === r_3)
                                    return;
                                var s_2 = !1;
                                var a_2 = r_3.getLastMatchingPosition(function (t) { return (t.item.is("uiElement") && (s_2 = !0), !(!t.item.is("uiElement") && !t.item.is("attributeElement"))); });
                                if (s_2) {
                                    var e_80 = n.viewPositionToDom(a_2);
                                    i_17 ? t_35.collapse(e_80.parent, e_80.offset) : t_35.extend(e_80.parent, e_80.offset);
                                }
                            }
                        } })(0, n, t.domConverter); }); }
                        function To() { return null; }
                        var Ao = /** @class */ (function () {
                            function Ao(t) {
                                this._children = [], t && this._insertChild(0, t);
                            }
                            Ao.prototype[Symbol.iterator] = function () { return this._children[Symbol.iterator](); };
                            Object.defineProperty(Ao.prototype, "childCount", {
                                get: function () { return this._children.length; },
                                enumerable: true,
                                configurable: true
                            });
                            Object.defineProperty(Ao.prototype, "isEmpty", {
                                get: function () { return 0 === this.childCount; },
                                enumerable: true,
                                configurable: true
                            });
                            Object.defineProperty(Ao.prototype, "root", {
                                get: function () { return this; },
                                enumerable: true,
                                configurable: true
                            });
                            Object.defineProperty(Ao.prototype, "parent", {
                                get: function () { return null; },
                                enumerable: true,
                                configurable: true
                            });
                            Ao.prototype.is = function (t) { return "documentFragment" == t || "view:documentFragment" == t; };
                            Ao.prototype._appendChild = function (t) { return this._insertChild(this.childCount, t); };
                            Ao.prototype.getChild = function (t) { return this._children[t]; };
                            Ao.prototype.getChildIndex = function (t) { return this._children.indexOf(t); };
                            Ao.prototype.getChildren = function () { return this._children[Symbol.iterator](); };
                            Ao.prototype._insertChild = function (t, e) {
                                var e_81, _j;
                                this._fireChange("children", this);
                                var n = 0;
                                var i = function (t) { if ("string" == typeof t)
                                    return [new pi(t)]; xi(t) || (t = [t]); return Array.from(t).map(function (t) { return "string" == typeof t ? new pi(t) : t instanceof mi ? new pi(t.data) : t; }); }(e);
                                try {
                                    for (var i_18 = __values(i), i_18_1 = i_18.next(); !i_18_1.done; i_18_1 = i_18.next()) {
                                        var e_82 = i_18_1.value;
                                        null !== e_82.parent && e_82._remove(), e_82.parent = this, this._children.splice(t, 0, e_82), t++, n++;
                                    }
                                }
                                catch (e_81_1) { e_81 = { error: e_81_1 }; }
                                finally {
                                    try {
                                        if (i_18_1 && !i_18_1.done && (_j = i_18.return)) _j.call(i_18);
                                    }
                                    finally { if (e_81) throw e_81.error; }
                                }
                                return n;
                            };
                            Ao.prototype._removeChildren = function (t, e) {
                                if (e === void 0) { e = 1; }
                                this._fireChange("children", this);
                                for (var n_28 = t; n_28 < t + e; n_28++)
                                    this._children[n_28].parent = null;
                                return this._children.splice(t, e);
                            };
                            Ao.prototype._fireChange = function (t, e) { this.fire("change:" + t, e); };
                            return Ao;
                        }());
                        li(Ao, ni);
                        var So = /** @class */ (function () {
                            function So(t) {
                                this.document = t, this._cloneGroups = new Map;
                            }
                            So.prototype.setSelection = function (t, e, n) { this.document.selection._setTo(t, e, n); };
                            So.prototype.setSelectionFocus = function (t, e) { this.document.selection._setFocus(t, e); };
                            So.prototype.createText = function (t) { return new pi(t); };
                            So.prototype.createAttributeElement = function (t, e, n) {
                                if (n === void 0) { n = {}; }
                                var i = new co(t, e);
                                return n.priority && (i._priority = n.priority), n.id && (i._id = n.id), i;
                            };
                            So.prototype.createContainerElement = function (t, e) { return new _i(t, e); };
                            So.prototype.createEditableElement = function (t, e) { var n = new Gi(t, e); return n._document = this.document, n; };
                            So.prototype.createEmptyElement = function (t, e) { return new ho(t, e); };
                            So.prototype.createUIElement = function (t, e, n) { var i = new _o(t, e); return n && (i.render = n), i; };
                            So.prototype.setAttribute = function (t, e, n) { n._setAttribute(t, e); };
                            So.prototype.removeAttribute = function (t, e) { e._removeAttribute(t); };
                            So.prototype.addClass = function (t, e) { e._addClass(t); };
                            So.prototype.removeClass = function (t, e) { e._removeClass(t); };
                            So.prototype.setStyle = function (t, e, n) { A(t) && void 0 === n && (n = e), n._setStyle(t, e); };
                            So.prototype.removeStyle = function (t, e) { e._removeStyle(t); };
                            So.prototype.setCustomProperty = function (t, e, n) { n._setCustomProperty(t, e); };
                            So.prototype.removeCustomProperty = function (t, e) { return e._removeCustomProperty(t); };
                            So.prototype.breakAttributes = function (t) { return t instanceof Xi ? this._breakAttributes(t) : this._breakAttributesRange(t); };
                            So.prototype.breakContainer = function (t) { var e = t.parent; if (!e.is("containerElement"))
                                throw new Gn.b("view-writer-break-non-container-element: Trying to break an element which is not a container element.", this.document); if (!e.parent)
                                throw new Gn.b("view-writer-break-root: Trying to break root element.", this.document); if (t.isAtStart)
                                return Xi._createBefore(e); if (!t.isAtEnd) {
                                var n_29 = e._clone(!1);
                                this.insert(Xi._createAfter(e), n_29);
                                var i_19 = new to(t, Xi._createAt(e, "end")), o_14 = new Xi(n_29, 0);
                                this.move(i_19, o_14);
                            } return Xi._createAfter(e); };
                            So.prototype.mergeAttributes = function (t) { var e = t.offset, n = t.parent; if (n.is("text"))
                                return t; if (n.is("attributeElement") && 0 === n.childCount) {
                                var t_36 = n.parent, e_83 = n.index;
                                return n._remove(), this._removeFromClonedElementsGroup(n), this.mergeAttributes(new Xi(t_36, e_83));
                            } var i = n.getChild(e - 1), o = n.getChild(e); if (!i || !o)
                                return t; if (i.is("text") && o.is("text"))
                                return Mo(i, o); if (i.is("attributeElement") && o.is("attributeElement") && i.isSimilar(o)) {
                                var t_37 = i.childCount;
                                return i._appendChild(o.getChildren()), o._remove(), this._removeFromClonedElementsGroup(o), this.mergeAttributes(new Xi(i, t_37));
                            } return t; };
                            So.prototype.mergeContainers = function (t) { var e = t.nodeBefore, n = t.nodeAfter; if (!(e && n && e.is("containerElement") && n.is("containerElement")))
                                throw new Gn.b("view-writer-merge-containers-invalid-position: Element before and after given position cannot be merged.", this.document); var i = e.getChild(e.childCount - 1), o = i instanceof pi ? Xi._createAt(i, "end") : Xi._createAt(e, "end"); return this.move(to._createIn(n), Xi._createAt(e, "end")), this.remove(to._createOn(n)), o; };
                            So.prototype.insert = function (t, e) {
                                var e_84, _j;
                                (function t(e, n) {
                                    var e_86, _j;
                                    var _loop_1 = function (i_20) {
                                        if (!Oo.some(function (t) { return i_20 instanceof t; }))
                                            throw new Gn.b("view-writer-insert-invalid-node", n);
                                        i_20.is("text") || t(i_20.getChildren(), n);
                                    };
                                    try {
                                        for (var e_87 = __values(e), e_87_1 = e_87.next(); !e_87_1.done; e_87_1 = e_87.next()) {
                                            var i_20 = e_87_1.value;
                                            _loop_1(i_20);
                                        }
                                    }
                                    catch (e_86_1) { e_86 = { error: e_86_1 }; }
                                    finally {
                                        try {
                                            if (e_87_1 && !e_87_1.done && (_j = e_87.return)) _j.call(e_87);
                                        }
                                        finally { if (e_86) throw e_86.error; }
                                    }
                                })(e = xi(e) ? __spread(e) : [e], this.document);
                                var n = Eo(t);
                                if (!n)
                                    throw new Gn.b("view-writer-invalid-position-container", this.document);
                                var i = this._breakAttributes(t, !0), o = n._insertChild(i.offset, e);
                                try {
                                    for (var e_85 = __values(e), e_85_1 = e_85.next(); !e_85_1.done; e_85_1 = e_85.next()) {
                                        var t_38 = e_85_1.value;
                                        this._addToClonedElementsGroup(t_38);
                                    }
                                }
                                catch (e_84_1) { e_84 = { error: e_84_1 }; }
                                finally {
                                    try {
                                        if (e_85_1 && !e_85_1.done && (_j = e_85.return)) _j.call(e_85);
                                    }
                                    finally { if (e_84) throw e_84.error; }
                                }
                                var r = i.getShiftedBy(o), s = this.mergeAttributes(i);
                                if (0 === o)
                                    return new to(s, s);
                                {
                                    s.isEqual(i) || r.offset--;
                                    var t_39 = this.mergeAttributes(r);
                                    return new to(s, t_39);
                                }
                            };
                            So.prototype.remove = function (t) {
                                var e_88, _j;
                                var e = t instanceof to ? t : to._createOn(t);
                                if (Do(e, this.document), e.isCollapsed)
                                    return new Ao;
                                var _q = this._breakAttributesRange(e, !0), n = _q.start, i = _q.end, o = n.parent, r = i.offset - n.offset, s = o._removeChildren(n.offset, r);
                                try {
                                    for (var s_3 = __values(s), s_3_1 = s_3.next(); !s_3_1.done; s_3_1 = s_3.next()) {
                                        var t_40 = s_3_1.value;
                                        this._removeFromClonedElementsGroup(t_40);
                                    }
                                }
                                catch (e_88_1) { e_88 = { error: e_88_1 }; }
                                finally {
                                    try {
                                        if (s_3_1 && !s_3_1.done && (_j = s_3.return)) _j.call(s_3);
                                    }
                                    finally { if (e_88) throw e_88.error; }
                                }
                                var a = this.mergeAttributes(n);
                                return e.start = a, e.end = a.clone(), new Ao(s);
                            };
                            So.prototype.clear = function (t, e) {
                                var e_89, _j;
                                Do(t, this.document);
                                var n = t.getWalker({ direction: "backward", ignoreElementEnd: !0 });
                                try {
                                    for (var n_30 = __values(n), n_30_1 = n_30.next(); !n_30_1.done; n_30_1 = n_30.next()) {
                                        var i_21 = n_30_1.value;
                                        var n_31 = i_21.item;
                                        var o_15 = void 0;
                                        if (n_31.is("element") && e.isSimilar(n_31))
                                            o_15 = to._createOn(n_31);
                                        else if (!i_21.nextPosition.isAfter(t.start) && n_31.is("textProxy")) {
                                            var t_41 = n_31.getAncestors().find(function (t) { return t.is("element") && e.isSimilar(t); });
                                            t_41 && (o_15 = to._createIn(t_41));
                                        }
                                        o_15 && (o_15.end.isAfter(t.end) && (o_15.end = t.end), o_15.start.isBefore(t.start) && (o_15.start = t.start), this.remove(o_15));
                                    }
                                }
                                catch (e_89_1) { e_89 = { error: e_89_1 }; }
                                finally {
                                    try {
                                        if (n_30_1 && !n_30_1.done && (_j = n_30.return)) _j.call(n_30);
                                    }
                                    finally { if (e_89) throw e_89.error; }
                                }
                            };
                            So.prototype.move = function (t, e) { var n; if (e.isAfter(t.end)) {
                                var i_22 = (e = this._breakAttributes(e, !0)).parent, o_16 = i_22.childCount;
                                t = this._breakAttributesRange(t, !0), n = this.remove(t), e.offset += i_22.childCount - o_16;
                            }
                            else
                                n = this.remove(t); return this.insert(e, n); };
                            So.prototype.wrap = function (t, e) { if (!(e instanceof co))
                                throw new Gn.b("view-writer-wrap-invalid-attribute", this.document); if (Do(t, this.document), t.isCollapsed) {
                                var n_32 = t.start;
                                n_32.parent.is("element") && !function (t) { return Array.from(t.getChildren()).some(function (t) { return !t.is("uiElement"); }); }(n_32.parent) && (n_32 = n_32.getLastMatchingPosition(function (t) { return t.item.is("uiElement"); })), n_32 = this._wrapPosition(n_32, e);
                                var i_23 = this.document.selection;
                                return i_23.isCollapsed && i_23.getFirstPosition().isEqual(t.start) && this.setSelection(n_32), new to(n_32);
                            } return this._wrapRange(t, e); };
                            So.prototype.unwrap = function (t, e) { if (!(e instanceof co))
                                throw new Gn.b("view-writer-unwrap-invalid-attribute", this.document); if (Do(t, this.document), t.isCollapsed)
                                return t; var _j = this._breakAttributesRange(t, !0), n = _j.start, i = _j.end, o = n.parent, r = this._unwrapChildren(o, n.offset, i.offset, e), s = this.mergeAttributes(r.start); s.isEqual(r.start) || r.end.offset--; var a = this.mergeAttributes(r.end); return new to(s, a); };
                            So.prototype.rename = function (t, e) { var n = new _i(t, e.getAttributes()); return this.insert(Xi._createAfter(e), n), this.move(to._createIn(e), Xi._createAt(n, 0)), this.remove(to._createOn(e)), n; };
                            So.prototype.clearClonedElementsGroup = function (t) { this._cloneGroups.delete(t); };
                            So.prototype.createPositionAt = function (t, e) { return Xi._createAt(t, e); };
                            So.prototype.createPositionAfter = function (t) { return Xi._createAfter(t); };
                            So.prototype.createPositionBefore = function (t) { return Xi._createBefore(t); };
                            So.prototype.createRange = function (t, e) { return new to(t, e); };
                            So.prototype.createRangeOn = function (t) { return to._createOn(t); };
                            So.prototype.createRangeIn = function (t) { return to._createIn(t); };
                            So.prototype.createSelection = function (t, e, n) { return new io(t, e, n); };
                            So.prototype._wrapChildren = function (t, e, n, i) {
                                var e_90, _j;
                                var o = e;
                                var r = [];
                                for (; o < n;) {
                                    var e_91 = t.getChild(o), n_33 = e_91.is("text"), s_4 = e_91.is("attributeElement"), a_3 = e_91.is("emptyElement"), c_2 = e_91.is("uiElement");
                                    if (s_4 && this._wrapAttributeElement(i, e_91))
                                        r.push(new Xi(t, o));
                                    else if (n_33 || a_3 || c_2 || s_4 && Po(i, e_91)) {
                                        var n_34 = i._clone();
                                        e_91._remove(), n_34._appendChild(e_91), t._insertChild(o, n_34), this._addToClonedElementsGroup(n_34), r.push(new Xi(t, o));
                                    }
                                    else
                                        s_4 && this._wrapChildren(e_91, 0, e_91.childCount, i);
                                    o++;
                                }
                                var s = 0;
                                try {
                                    for (var r_4 = __values(r), r_4_1 = r_4.next(); !r_4_1.done; r_4_1 = r_4.next()) {
                                        var t_42 = r_4_1.value;
                                        if (t_42.offset -= s, t_42.offset == e)
                                            continue;
                                        this.mergeAttributes(t_42).isEqual(t_42) || (s++, n--);
                                    }
                                }
                                catch (e_90_1) { e_90 = { error: e_90_1 }; }
                                finally {
                                    try {
                                        if (r_4_1 && !r_4_1.done && (_j = r_4.return)) _j.call(r_4);
                                    }
                                    finally { if (e_90) throw e_90.error; }
                                }
                                return to._createFromParentsAndOffsets(t, e, t, n);
                            };
                            So.prototype._unwrapChildren = function (t, e, n, i) {
                                var e_92, _j;
                                var o = e;
                                var r = [];
                                for (; o < n;) {
                                    var e_93 = t.getChild(o);
                                    if (e_93.is("attributeElement"))
                                        if (e_93.isSimilar(i)) {
                                            var i_24 = e_93.getChildren(), s_5 = e_93.childCount;
                                            e_93._remove(), t._insertChild(o, i_24), this._removeFromClonedElementsGroup(e_93), r.push(new Xi(t, o), new Xi(t, o + s_5)), o += s_5, n += s_5 - 1;
                                        }
                                        else
                                            this._unwrapAttributeElement(i, e_93) ? (r.push(new Xi(t, o), new Xi(t, o + 1)), o++) : (this._unwrapChildren(e_93, 0, e_93.childCount, i), o++);
                                    else
                                        o++;
                                }
                                var s = 0;
                                try {
                                    for (var r_5 = __values(r), r_5_1 = r_5.next(); !r_5_1.done; r_5_1 = r_5.next()) {
                                        var t_43 = r_5_1.value;
                                        if (t_43.offset -= s, t_43.offset == e || t_43.offset == n)
                                            continue;
                                        this.mergeAttributes(t_43).isEqual(t_43) || (s++, n--);
                                    }
                                }
                                catch (e_92_1) { e_92 = { error: e_92_1 }; }
                                finally {
                                    try {
                                        if (r_5_1 && !r_5_1.done && (_j = r_5.return)) _j.call(r_5);
                                    }
                                    finally { if (e_92) throw e_92.error; }
                                }
                                return to._createFromParentsAndOffsets(t, e, t, n);
                            };
                            So.prototype._wrapRange = function (t, e) { var _j = this._breakAttributesRange(t, !0), n = _j.start, i = _j.end, o = n.parent, r = this._wrapChildren(o, n.offset, i.offset, e), s = this.mergeAttributes(r.start); s.isEqual(r.start) || r.end.offset--; var a = this.mergeAttributes(r.end); return new to(s, a); };
                            So.prototype._wrapPosition = function (t, e) { if (e.isSimilar(t.parent))
                                return Io(t.clone()); t.parent.is("text") && (t = No(t)); var n = this.createAttributeElement(); n._priority = Number.POSITIVE_INFINITY, n.isSimilar = (function () { return !1; }), t.parent._insertChild(t.offset, n); var i = new to(t, t.getShiftedBy(1)); this.wrap(i, e); var o = new Xi(n.parent, n.index); n._remove(); var r = o.nodeBefore, s = o.nodeAfter; return r instanceof pi && s instanceof pi ? Mo(r, s) : Io(o); };
                            So.prototype._wrapAttributeElement = function (t, e) {
                                var e_94, _j, e_95, _q, e_96, _z, e_97, _0, e_98, _1;
                                if (!jo(t, e))
                                    return !1;
                                if (t.name !== e.name || t.priority !== e.priority)
                                    return !1;
                                try {
                                    for (var _2 = __values(t.getAttributeKeys()), _3 = _2.next(); !_3.done; _3 = _2.next()) {
                                        var n_35 = _3.value;
                                        if ("class" !== n_35 && "style" !== n_35 && e.hasAttribute(n_35) && e.getAttribute(n_35) !== t.getAttribute(n_35))
                                            return !1;
                                    }
                                }
                                catch (e_94_1) { e_94 = { error: e_94_1 }; }
                                finally {
                                    try {
                                        if (_3 && !_3.done && (_j = _2.return)) _j.call(_2);
                                    }
                                    finally { if (e_94) throw e_94.error; }
                                }
                                try {
                                    for (var _4 = __values(t.getStyleNames()), _5 = _4.next(); !_5.done; _5 = _4.next()) {
                                        var n_36 = _5.value;
                                        if (e.hasStyle(n_36) && e.getStyle(n_36) !== t.getStyle(n_36))
                                            return !1;
                                    }
                                }
                                catch (e_95_1) { e_95 = { error: e_95_1 }; }
                                finally {
                                    try {
                                        if (_5 && !_5.done && (_q = _4.return)) _q.call(_4);
                                    }
                                    finally { if (e_95) throw e_95.error; }
                                }
                                try {
                                    for (var _6 = __values(t.getAttributeKeys()), _7 = _6.next(); !_7.done; _7 = _6.next()) {
                                        var n_37 = _7.value;
                                        "class" !== n_37 && "style" !== n_37 && (e.hasAttribute(n_37) || this.setAttribute(n_37, t.getAttribute(n_37), e));
                                    }
                                }
                                catch (e_96_1) { e_96 = { error: e_96_1 }; }
                                finally {
                                    try {
                                        if (_7 && !_7.done && (_z = _6.return)) _z.call(_6);
                                    }
                                    finally { if (e_96) throw e_96.error; }
                                }
                                try {
                                    for (var _8 = __values(t.getStyleNames()), _9 = _8.next(); !_9.done; _9 = _8.next()) {
                                        var n_38 = _9.value;
                                        e.hasStyle(n_38) || this.setStyle(n_38, t.getStyle(n_38), e);
                                    }
                                }
                                catch (e_97_1) { e_97 = { error: e_97_1 }; }
                                finally {
                                    try {
                                        if (_9 && !_9.done && (_0 = _8.return)) _0.call(_8);
                                    }
                                    finally { if (e_97) throw e_97.error; }
                                }
                                try {
                                    for (var _10 = __values(t.getClassNames()), _11 = _10.next(); !_11.done; _11 = _10.next()) {
                                        var n_39 = _11.value;
                                        e.hasClass(n_39) || this.addClass(n_39, e);
                                    }
                                }
                                catch (e_98_1) { e_98 = { error: e_98_1 }; }
                                finally {
                                    try {
                                        if (_11 && !_11.done && (_1 = _10.return)) _1.call(_10);
                                    }
                                    finally { if (e_98) throw e_98.error; }
                                }
                                return !0;
                            };
                            So.prototype._unwrapAttributeElement = function (t, e) {
                                var e_99, _j, e_100, _q, e_101, _z;
                                if (!jo(t, e))
                                    return !1;
                                if (t.name !== e.name || t.priority !== e.priority)
                                    return !1;
                                try {
                                    for (var _0 = __values(t.getAttributeKeys()), _1 = _0.next(); !_1.done; _1 = _0.next()) {
                                        var n_40 = _1.value;
                                        if ("class" !== n_40 && "style" !== n_40 && (!e.hasAttribute(n_40) || e.getAttribute(n_40) !== t.getAttribute(n_40)))
                                            return !1;
                                    }
                                }
                                catch (e_99_1) { e_99 = { error: e_99_1 }; }
                                finally {
                                    try {
                                        if (_1 && !_1.done && (_j = _0.return)) _j.call(_0);
                                    }
                                    finally { if (e_99) throw e_99.error; }
                                }
                                if (!e.hasClass.apply(e, __spread(t.getClassNames())))
                                    return !1;
                                try {
                                    for (var _2 = __values(t.getStyleNames()), _3 = _2.next(); !_3.done; _3 = _2.next()) {
                                        var n_41 = _3.value;
                                        if (!e.hasStyle(n_41) || e.getStyle(n_41) !== t.getStyle(n_41))
                                            return !1;
                                    }
                                }
                                catch (e_100_1) { e_100 = { error: e_100_1 }; }
                                finally {
                                    try {
                                        if (_3 && !_3.done && (_q = _2.return)) _q.call(_2);
                                    }
                                    finally { if (e_100) throw e_100.error; }
                                }
                                try {
                                    for (var _4 = __values(t.getAttributeKeys()), _5 = _4.next(); !_5.done; _5 = _4.next()) {
                                        var n_42 = _5.value;
                                        "class" !== n_42 && "style" !== n_42 && this.removeAttribute(n_42, e);
                                    }
                                }
                                catch (e_101_1) { e_101 = { error: e_101_1 }; }
                                finally {
                                    try {
                                        if (_5 && !_5.done && (_z = _4.return)) _z.call(_4);
                                    }
                                    finally { if (e_101) throw e_101.error; }
                                }
                                return this.removeClass(Array.from(t.getClassNames()), e), this.removeStyle(Array.from(t.getStyleNames()), e), !0;
                            };
                            So.prototype._breakAttributesRange = function (t, e) {
                                if (e === void 0) { e = !1; }
                                var n = t.start, i = t.end;
                                if (Do(t, this.document), t.isCollapsed) {
                                    var n_43 = this._breakAttributes(t.start, e);
                                    return new to(n_43, n_43);
                                }
                                var o = this._breakAttributes(i, e), r = o.parent.childCount, s = this._breakAttributes(n, e);
                                return o.offset += o.parent.childCount - r, new to(s, o);
                            };
                            So.prototype._breakAttributes = function (t, e) {
                                if (e === void 0) { e = !1; }
                                var n = t.offset, i = t.parent;
                                if (t.parent.is("emptyElement"))
                                    throw new Gn.b("view-writer-cannot-break-empty-element", this.document);
                                if (t.parent.is("uiElement"))
                                    throw new Gn.b("view-writer-cannot-break-ui-element", this.document);
                                if (!e && i.is("text") && Ro(i.parent))
                                    return t.clone();
                                if (Ro(i))
                                    return t.clone();
                                if (i.is("text"))
                                    return this._breakAttributes(No(t), e);
                                if (n == i.childCount) {
                                    var t_44 = new Xi(i.parent, i.index + 1);
                                    return this._breakAttributes(t_44, e);
                                }
                                if (0 === n) {
                                    var t_45 = new Xi(i.parent, i.index);
                                    return this._breakAttributes(t_45, e);
                                }
                                {
                                    var t_46 = i.index + 1, o_17 = i._clone();
                                    i.parent._insertChild(t_46, o_17), this._addToClonedElementsGroup(o_17);
                                    var r_6 = i.childCount - n, s_6 = i._removeChildren(n, r_6);
                                    o_17._appendChild(s_6);
                                    var a_4 = new Xi(i.parent, t_46);
                                    return this._breakAttributes(a_4, e);
                                }
                            };
                            So.prototype._addToClonedElementsGroup = function (t) {
                                var e_102, _j;
                                if (!t.root.is("rootElement"))
                                    return;
                                if (t.is("element"))
                                    try {
                                        for (var _q = __values(t.getChildren()), _z = _q.next(); !_z.done; _z = _q.next()) {
                                            var e_103 = _z.value;
                                            this._addToClonedElementsGroup(e_103);
                                        }
                                    }
                                    catch (e_102_1) { e_102 = { error: e_102_1 }; }
                                    finally {
                                        try {
                                            if (_z && !_z.done && (_j = _q.return)) _j.call(_q);
                                        }
                                        finally { if (e_102) throw e_102.error; }
                                    }
                                var e = t.id;
                                if (!e)
                                    return;
                                var n = this._cloneGroups.get(e);
                                n || (n = new Set, this._cloneGroups.set(e, n)), n.add(t), t._clonesGroup = n;
                            };
                            So.prototype._removeFromClonedElementsGroup = function (t) {
                                var e_104, _j;
                                if (t.is("element"))
                                    try {
                                        for (var _q = __values(t.getChildren()), _z = _q.next(); !_z.done; _z = _q.next()) {
                                            var e_105 = _z.value;
                                            this._removeFromClonedElementsGroup(e_105);
                                        }
                                    }
                                    catch (e_104_1) { e_104 = { error: e_104_1 }; }
                                    finally {
                                        try {
                                            if (_z && !_z.done && (_j = _q.return)) _j.call(_q);
                                        }
                                        finally { if (e_104) throw e_104.error; }
                                    }
                                var e = t.id;
                                if (!e)
                                    return;
                                var n = this._cloneGroups.get(e);
                                n && n.delete(t);
                            };
                            return So;
                        }());
                        function Eo(t) { var e = t.parent; for (; !Ro(e);) {
                            if (!e)
                                return;
                            e = e.parent;
                        } return e; }
                        function Po(t, e) { return t.priority < e.priority || !(t.priority > e.priority) && t.getIdentity() < e.getIdentity(); }
                        function Io(t) { var e = t.nodeBefore; if (e && e.is("text"))
                            return new Xi(e, e.data.length); var n = t.nodeAfter; return n && n.is("text") ? new Xi(n, 0) : t; }
                        function No(t) { if (t.offset == t.parent.data.length)
                            return new Xi(t.parent.parent, t.parent.index + 1); if (0 === t.offset)
                            return new Xi(t.parent.parent, t.parent.index); var e = t.parent.data.slice(t.offset); return t.parent._data = t.parent.data.slice(0, t.offset), t.parent.parent._insertChild(t.parent.index + 1, new pi(e)), new Xi(t.parent.parent, t.parent.index + 1); }
                        function Mo(t, e) { var n = t.data.length; return t._data += e.data, e._remove(), new Xi(t, n); }
                        var Oo = [pi, co, _i, ho, _o];
                        function Ro(t) { return t && (t.is("containerElement") || t.is("documentFragment")); }
                        function Do(t, e) { var n = Eo(t.start), i = Eo(t.end); if (!n || !i || n !== i)
                            throw new Gn.b("view-writer-invalid-range-container", e); }
                        function jo(t, e) { return null === t.id && null === e.id; }
                        function Bo(t) { return "[object Text]" == Object.prototype.toString.call(t); }
                        var Lo = function (t) { return t.createTextNode(" "); }, Vo = function (t) { var e = t.createElement("br"); return e.dataset.ckeFiller = !0, e; }, Fo = 7, zo = (function () { var t = ""; for (var e_106 = 0; e_106 < Fo; e_106++)
                            t += "​"; return t; })();
                        function Uo(t) { return Bo(t) && t.data.substr(0, Fo) === zo; }
                        function Ho(t) { return t.data.length == Fo && Uo(t); }
                        function qo(t) { return Uo(t) ? t.data.slice(Fo) : t.data; }
                        function Yo(t, e) { if (e.keyCode == bo.arrowleft) {
                            var t_47 = e.domTarget.ownerDocument.defaultView.getSelection();
                            if (1 == t_47.rangeCount && t_47.getRangeAt(0).collapsed) {
                                var e_107 = t_47.getRangeAt(0).startContainer, n_44 = t_47.getRangeAt(0).startOffset;
                                Uo(e_107) && n_44 <= Fo && t_47.collapse(e_107, 0);
                            }
                        } }
                        function Wo(t, e, n, i) {
                            if (i === void 0) { i = !1; }
                            n = n || function (t, e) { return t === e; }, Array.isArray(t) || (t = Array.from(t)), Array.isArray(e) || (e = Array.from(e));
                            var o = function (t, e, n) { var i = Jo(t, e, n); if (-1 === i)
                                return { firstIndex: -1, lastIndexOld: -1, lastIndexNew: -1 }; var o = $o(t, i), r = $o(e, i), s = Jo(o, r, n), a = t.length - s, c = e.length - s; return { firstIndex: i, lastIndexOld: a, lastIndexNew: c }; }(t, e, n);
                            return i ? function (t, e) { var n = t.firstIndex, i = t.lastIndexOld, o = t.lastIndexNew; if (-1 === n)
                                return Array(e).fill("equal"); var r = []; n > 0 && (r = r.concat(Array(n).fill("equal"))); o - n > 0 && (r = r.concat(Array(o - n).fill("insert"))); i - n > 0 && (r = r.concat(Array(i - n).fill("delete"))); o < e && (r = r.concat(Array(e - o).fill("equal"))); return r; }(o, e.length) : function (t, e) { var n = [], i = e.firstIndex, o = e.lastIndexOld, r = e.lastIndexNew; r - i > 0 && n.push({ index: i, type: "insert", values: t.slice(i, r) }); o - i > 0 && n.push({ index: i + (r - i), type: "delete", howMany: o - i }); return n; }(e, o);
                        }
                        function Jo(t, e, n) { for (var i_25 = 0; i_25 < Math.max(t.length, e.length); i_25++)
                            if (void 0 === t[i_25] || void 0 === e[i_25] || !n(t[i_25], e[i_25]))
                                return i_25; return -1; }
                        function $o(t, e) { return t.slice(e).reverse(); }
                        function Go(t, e, n) { n = n || function (t, e) { return t === e; }; var i = t.length, o = e.length; if (i > 200 || o > 200 || i + o > 300)
                            return Go.fastDiff(t, e, n, !0); var r, s; if (o < i) {
                            var n_45 = t;
                            t = e, e = n_45, r = "delete", s = "insert";
                        }
                        else
                            r = "insert", s = "delete"; var a = t.length, c = e.length, l = c - a, d = {}, u = {}; function h(i) { var o = (void 0 !== u[i - 1] ? u[i - 1] : -1) + 1, l = void 0 !== u[i + 1] ? u[i + 1] : -1, h = o > l ? -1 : 1; d[i + h] && (d[i] = d[i + h].slice(0)), d[i] || (d[i] = []), d[i].push(o > l ? r : s); var f = Math.max(o, l), p = f - i; for (; p < a && f < c && n(t[p], e[f]);)
                            p++, f++, d[i].push("equal"); return f; } var f, p = 0; do {
                            for (f = -p; f < l; f++)
                                u[f] = h(f);
                            for (f = l + p; f > l; f--)
                                u[f] = h(f);
                            u[l] = h(l), p++;
                        } while (u[l] !== c); return d[l].slice(1); }
                        function Ko(t, e, n) { t.insertBefore(n, t.childNodes[e] || null); }
                        function Qo(t) { var e = t.parentNode; e && e.removeChild(t); }
                        function Zo(t) { if (t) {
                            if (t.defaultView)
                                return t instanceof t.defaultView.Document;
                            if (t.ownerDocument && t.ownerDocument.defaultView)
                                return t instanceof t.ownerDocument.defaultView.Node;
                        } return !1; }
                        Go.fastDiff = Wo;
                        var Xo = /** @class */ (function () {
                            function Xo(t, e) {
                                this.domDocuments = new Set, this.domConverter = t, this.markedAttributes = new Set, this.markedChildren = new Set, this.markedTexts = new Set, this.selection = e, this.isFocused = !1, this._inlineFiller = null, this._fakeSelectionContainer = null;
                            }
                            Xo.prototype.markToSync = function (t, e) { if ("text" === t)
                                this.domConverter.mapViewToDom(e.parent) && this.markedTexts.add(e);
                            else {
                                if (!this.domConverter.mapViewToDom(e))
                                    return;
                                if ("attributes" === t)
                                    this.markedAttributes.add(e);
                                else {
                                    if ("children" !== t)
                                        throw new Gn.b("view-renderer-unknown-type: Unknown type passed to Renderer.markToSync.", this);
                                    this.markedChildren.add(e);
                                }
                            } };
                            Xo.prototype.render = function () {
                                var e_108, _j, e_109, _q, e_110, _z, e_111, _0;
                                var t;
                                try {
                                    for (var _1 = __values(this.markedChildren), _2 = _1.next(); !_2.done; _2 = _1.next()) {
                                        var t_48 = _2.value;
                                        this._updateChildrenMappings(t_48);
                                    }
                                }
                                catch (e_108_1) { e_108 = { error: e_108_1 }; }
                                finally {
                                    try {
                                        if (_2 && !_2.done && (_j = _1.return)) _j.call(_1);
                                    }
                                    finally { if (e_108) throw e_108.error; }
                                }
                                this._inlineFiller && !this._isSelectionInInlineFiller() && this._removeInlineFiller(), this._inlineFiller ? t = this._getInlineFillerPosition() : this._needsInlineFillerAtSelection() && (t = this.selection.getFirstPosition(), this.markedChildren.add(t.parent));
                                try {
                                    for (var _3 = __values(this.markedAttributes), _4 = _3.next(); !_4.done; _4 = _3.next()) {
                                        var t_49 = _4.value;
                                        this._updateAttrs(t_49);
                                    }
                                }
                                catch (e_109_1) { e_109 = { error: e_109_1 }; }
                                finally {
                                    try {
                                        if (_4 && !_4.done && (_q = _3.return)) _q.call(_3);
                                    }
                                    finally { if (e_109) throw e_109.error; }
                                }
                                try {
                                    for (var _5 = __values(this.markedChildren), _6 = _5.next(); !_6.done; _6 = _5.next()) {
                                        var e_112 = _6.value;
                                        this._updateChildren(e_112, { inlineFillerPosition: t });
                                    }
                                }
                                catch (e_110_1) { e_110 = { error: e_110_1 }; }
                                finally {
                                    try {
                                        if (_6 && !_6.done && (_z = _5.return)) _z.call(_5);
                                    }
                                    finally { if (e_110) throw e_110.error; }
                                }
                                try {
                                    for (var _7 = __values(this.markedTexts), _8 = _7.next(); !_8.done; _8 = _7.next()) {
                                        var e_113 = _8.value;
                                        !this.markedChildren.has(e_113.parent) && this.domConverter.mapViewToDom(e_113.parent) && this._updateText(e_113, { inlineFillerPosition: t });
                                    }
                                }
                                catch (e_111_1) { e_111 = { error: e_111_1 }; }
                                finally {
                                    try {
                                        if (_8 && !_8.done && (_0 = _7.return)) _0.call(_7);
                                    }
                                    finally { if (e_111) throw e_111.error; }
                                }
                                if (t) {
                                    var e_114 = this.domConverter.viewPositionToDom(t), n_46 = e_114.parent.ownerDocument;
                                    Uo(e_114.parent) ? this._inlineFiller = e_114.parent : this._inlineFiller = tr(n_46, e_114.parent, e_114.offset);
                                }
                                else
                                    this._inlineFiller = null;
                                this._updateSelection(), this._updateFocus(), this.markedTexts.clear(), this.markedAttributes.clear(), this.markedChildren.clear();
                            };
                            Xo.prototype._updateChildrenMappings = function (t) {
                                var e_115, _j;
                                var e = this.domConverter.mapViewToDom(t);
                                if (!e)
                                    return;
                                var n = this.domConverter.mapViewToDom(t).childNodes, i = Array.from(this.domConverter.viewChildrenToDom(t, e.ownerDocument, { withChildren: !1 })), o = this._diffNodeLists(n, i), r = this._findReplaceActions(o, n, i);
                                if (-1 !== r.indexOf("replace")) {
                                    var e_116 = { equal: 0, insert: 0, delete: 0 };
                                    try {
                                        for (var r_7 = __values(r), r_7_1 = r_7.next(); !r_7_1.done; r_7_1 = r_7.next()) {
                                            var o_18 = r_7_1.value;
                                            if ("replace" === o_18) {
                                                var o_19 = e_116.equal + e_116.insert, r_8 = e_116.equal + e_116.delete, s_7 = t.getChild(o_19);
                                                s_7 && !s_7.is("uiElement") && this._updateElementMappings(s_7, n[r_8]), Qo(i[o_19]), e_116.equal++;
                                            }
                                            else
                                                e_116[o_18]++;
                                        }
                                    }
                                    catch (e_115_1) { e_115 = { error: e_115_1 }; }
                                    finally {
                                        try {
                                            if (r_7_1 && !r_7_1.done && (_j = r_7.return)) _j.call(r_7);
                                        }
                                        finally { if (e_115) throw e_115.error; }
                                    }
                                }
                            };
                            Xo.prototype._updateElementMappings = function (t, e) { this.domConverter.unbindDomElement(e), this.domConverter.bindElements(e, t), this.markedChildren.add(t), this.markedAttributes.add(t); };
                            Xo.prototype._getInlineFillerPosition = function () { var t = this.selection.getFirstPosition(); return t.parent.is("text") ? Xi._createBefore(this.selection.getFirstPosition().parent) : t; };
                            Xo.prototype._isSelectionInInlineFiller = function () { if (1 != this.selection.rangeCount || !this.selection.isCollapsed)
                                return !1; var t = this.selection.getFirstPosition(), e = this.domConverter.viewPositionToDom(t); return !!(e && Bo(e.parent) && Uo(e.parent)); };
                            Xo.prototype._removeInlineFiller = function () { var t = this._inlineFiller; if (!Uo(t))
                                throw new Gn.b("view-renderer-filler-was-lost: The inline filler node was lost.", this); Ho(t) ? t.parentNode.removeChild(t) : t.data = t.data.substr(Fo), this._inlineFiller = null; };
                            Xo.prototype._needsInlineFillerAtSelection = function () { if (1 != this.selection.rangeCount || !this.selection.isCollapsed)
                                return !1; var t = this.selection.getFirstPosition(), e = t.parent, n = t.offset; if (!this.domConverter.mapViewToDom(e.root))
                                return !1; if (!e.is("element"))
                                return !1; if (!function (t) { if ("false" == t.getAttribute("contenteditable"))
                                return !1; var e = t.findAncestor(function (t) { return t.hasAttribute("contenteditable"); }); return !e || "true" == e.getAttribute("contenteditable"); }(e))
                                return !1; if (n === e.getFillerOffset())
                                return !1; var i = t.nodeBefore, o = t.nodeAfter; return !(i instanceof pi || o instanceof pi); };
                            Xo.prototype._updateText = function (t, e) {
                                var e_117, _j;
                                var n = this.domConverter.findCorrespondingDomText(t), i = this.domConverter.viewToDom(t, n.ownerDocument), o = n.data;
                                var r = i.data;
                                var s = e.inlineFillerPosition;
                                if (s && s.parent == t.parent && s.offset == t.index && (r = zo + r), o != r) {
                                    var t_51 = Wo(o, r);
                                    try {
                                        for (var t_50 = __values(t_51), t_50_1 = t_50.next(); !t_50_1.done; t_50_1 = t_50.next()) {
                                            var e_118 = t_50_1.value;
                                            "insert" === e_118.type ? n.insertData(e_118.index, e_118.values.join("")) : n.deleteData(e_118.index, e_118.howMany);
                                        }
                                    }
                                    catch (e_117_1) { e_117 = { error: e_117_1 }; }
                                    finally {
                                        try {
                                            if (t_50_1 && !t_50_1.done && (_j = t_50.return)) _j.call(t_50);
                                        }
                                        finally { if (e_117) throw e_117.error; }
                                    }
                                }
                            };
                            Xo.prototype._updateAttrs = function (t) {
                                var e_119, _j, e_120, _q;
                                var e = this.domConverter.mapViewToDom(t);
                                if (!e)
                                    return;
                                var n = Array.from(e.attributes).map(function (t) { return t.name; }), i = t.getAttributeKeys();
                                try {
                                    for (var i_26 = __values(i), i_26_1 = i_26.next(); !i_26_1.done; i_26_1 = i_26.next()) {
                                        var n_48 = i_26_1.value;
                                        e.setAttribute(n_48, t.getAttribute(n_48));
                                    }
                                }
                                catch (e_119_1) { e_119 = { error: e_119_1 }; }
                                finally {
                                    try {
                                        if (i_26_1 && !i_26_1.done && (_j = i_26.return)) _j.call(i_26);
                                    }
                                    finally { if (e_119) throw e_119.error; }
                                }
                                try {
                                    for (var n_47 = __values(n), n_47_1 = n_47.next(); !n_47_1.done; n_47_1 = n_47.next()) {
                                        var i_27 = n_47_1.value;
                                        t.hasAttribute(i_27) || e.removeAttribute(i_27);
                                    }
                                }
                                catch (e_120_1) { e_120 = { error: e_120_1 }; }
                                finally {
                                    try {
                                        if (n_47_1 && !n_47_1.done && (_q = n_47.return)) _q.call(n_47);
                                    }
                                    finally { if (e_120) throw e_120.error; }
                                }
                            };
                            Xo.prototype._updateChildren = function (t, e) {
                                var e_121, _j, e_122, _q;
                                var n = this.domConverter.mapViewToDom(t);
                                if (!n)
                                    return;
                                var i = e.inlineFillerPosition, o = this.domConverter.mapViewToDom(t).childNodes, r = Array.from(this.domConverter.viewChildrenToDom(t, n.ownerDocument, { bind: !0, inlineFillerPosition: i }));
                                i && i.parent === t && tr(n.ownerDocument, r, i.offset);
                                var s = this._diffNodeLists(o, r);
                                var a = 0;
                                var c = new Set;
                                try {
                                    for (var s_8 = __values(s), s_8_1 = s_8.next(); !s_8_1.done; s_8_1 = s_8.next()) {
                                        var t_52 = s_8_1.value;
                                        "insert" === t_52 ? (Ko(n, a, r[a]), a++) : "delete" === t_52 ? (c.add(o[a]), Qo(o[a])) : (this._markDescendantTextToSync(this.domConverter.domToView(r[a])), a++);
                                    }
                                }
                                catch (e_121_1) { e_121 = { error: e_121_1 }; }
                                finally {
                                    try {
                                        if (s_8_1 && !s_8_1.done && (_j = s_8.return)) _j.call(s_8);
                                    }
                                    finally { if (e_121) throw e_121.error; }
                                }
                                try {
                                    for (var c_3 = __values(c), c_3_1 = c_3.next(); !c_3_1.done; c_3_1 = c_3.next()) {
                                        var t_53 = c_3_1.value;
                                        t_53.parentNode || this.domConverter.unbindDomElement(t_53);
                                    }
                                }
                                catch (e_122_1) { e_122 = { error: e_122_1 }; }
                                finally {
                                    try {
                                        if (c_3_1 && !c_3_1.done && (_q = c_3.return)) _q.call(c_3);
                                    }
                                    finally { if (e_122) throw e_122.error; }
                                }
                            };
                            Xo.prototype._diffNodeLists = function (t, e) { return Go(t = function (t, e) { var n = Array.from(t); if (0 == n.length || !e)
                                return n; n[n.length - 1] == e && n.pop(); return n; }(t, this._fakeSelectionContainer), e, function (t, e, n) { if (e === n)
                                return !0; if (Bo(e) && Bo(n))
                                return e.data === n.data; if (t.isBlockFiller(e) && t.isBlockFiller(n))
                                return !0; return !1; }.bind(null, this.domConverter)); };
                            Xo.prototype._findReplaceActions = function (t, e, n) {
                                var e_123, _j;
                                if (-1 === t.indexOf("insert") || -1 === t.indexOf("delete"))
                                    return t;
                                var i = [], o = [], r = [];
                                var s = { equal: 0, insert: 0, delete: 0 };
                                try {
                                    for (var t_54 = __values(t), t_54_1 = t_54.next(); !t_54_1.done; t_54_1 = t_54.next()) {
                                        var a_5 = t_54_1.value;
                                        "insert" === a_5 ? r.push(n[s.equal + s.insert]) : "delete" === a_5 ? o.push(e[s.equal + s.delete]) : ((i = i.concat(Go(o, r, er).map(function (t) { return "equal" === t ? "replace" : t; }))).push("equal"), o = [], r = []), s[a_5]++;
                                    }
                                }
                                catch (e_123_1) { e_123 = { error: e_123_1 }; }
                                finally {
                                    try {
                                        if (t_54_1 && !t_54_1.done && (_j = t_54.return)) _j.call(t_54);
                                    }
                                    finally { if (e_123) throw e_123.error; }
                                }
                                return i.concat(Go(o, r, er).map(function (t) { return "equal" === t ? "replace" : t; }));
                            };
                            Xo.prototype._markDescendantTextToSync = function (t) {
                                var e_124, _j;
                                if (t)
                                    if (t.is("text"))
                                        this.markedTexts.add(t);
                                    else if (t.is("element"))
                                        try {
                                            for (var _q = __values(t.getChildren()), _z = _q.next(); !_z.done; _z = _q.next()) {
                                                var e_125 = _z.value;
                                                this._markDescendantTextToSync(e_125);
                                            }
                                        }
                                        catch (e_124_1) { e_124 = { error: e_124_1 }; }
                                        finally {
                                            try {
                                                if (_z && !_z.done && (_j = _q.return)) _j.call(_q);
                                            }
                                            finally { if (e_124) throw e_124.error; }
                                        }
                            };
                            Xo.prototype._updateSelection = function () { if (0 === this.selection.rangeCount)
                                return this._removeDomSelection(), void this._removeFakeSelection(); var t = this.domConverter.mapViewToDom(this.selection.editableElement); this.isFocused && t && (this.selection.isFake ? this._updateFakeSelection(t) : (this._removeFakeSelection(), this._updateDomSelection(t))); };
                            Xo.prototype._updateFakeSelection = function (t) { var e = t.ownerDocument; this._fakeSelectionContainer || (this._fakeSelectionContainer = function (t) { var e = t.createElement("div"); return Object.assign(e.style, { position: "fixed", top: 0, left: "-9999px", width: "42px" }), e.textContent = " ", e; }(e)); var n = this._fakeSelectionContainer; if (this.domConverter.bindFakeSelection(n, this.selection), !this._fakeSelectionNeedsUpdate(t))
                                return; n.parentElement && n.parentElement == t || t.appendChild(n), n.textContent = this.selection.fakeSelectionLabel || " "; var i = e.getSelection(), o = e.createRange(); i.removeAllRanges(), o.selectNodeContents(n), i.addRange(o); };
                            Xo.prototype._updateDomSelection = function (t) { var e = t.ownerDocument.defaultView.getSelection(); if (!this._domSelectionNeedsUpdate(e))
                                return; var n = this.domConverter.viewPositionToDom(this.selection.anchor), i = this.domConverter.viewPositionToDom(this.selection.focus); t.focus(), e.collapse(n.parent, n.offset), e.extend(i.parent, i.offset), mo.isGecko && function (t, e) { var n = t.parent; if (n.nodeType != Node.ELEMENT_NODE || t.offset != n.childNodes.length - 1)
                                return; var i = n.childNodes[t.offset]; i && "BR" == i.tagName && e.addRange(e.getRangeAt(0)); }(i, e); };
                            Xo.prototype._domSelectionNeedsUpdate = function (t) { if (!this.domConverter.isDomSelectionCorrect(t))
                                return !0; var e = t && this.domConverter.domSelectionToView(t); return (!e || !this.selection.isEqual(e)) && !(!this.selection.isCollapsed && this.selection.isSimilar(e)); };
                            Xo.prototype._fakeSelectionNeedsUpdate = function (t) { var e = this._fakeSelectionContainer, n = t.ownerDocument.getSelection(); return !e || e.parentElement !== t || (n.anchorNode !== e && !e.contains(n.anchorNode) || e.textContent !== this.selection.fakeSelectionLabel); };
                            Xo.prototype._removeDomSelection = function () {
                                var e_126, _j;
                                try {
                                    for (var _q = __values(this.domDocuments), _z = _q.next(); !_z.done; _z = _q.next()) {
                                        var t_55 = _z.value;
                                        if (t_55.getSelection().rangeCount) {
                                            var e_127 = t_55.activeElement, n_49 = this.domConverter.mapDomToView(e_127);
                                            e_127 && n_49 && t_55.getSelection().removeAllRanges();
                                        }
                                    }
                                }
                                catch (e_126_1) { e_126 = { error: e_126_1 }; }
                                finally {
                                    try {
                                        if (_z && !_z.done && (_j = _q.return)) _j.call(_q);
                                    }
                                    finally { if (e_126) throw e_126.error; }
                                }
                            };
                            Xo.prototype._removeFakeSelection = function () { var t = this._fakeSelectionContainer; t && t.remove(); };
                            Xo.prototype._updateFocus = function () { if (this.isFocused) {
                                var t_56 = this.selection.editableElement;
                                t_56 && this.domConverter.focus(t_56);
                            } };
                            return Xo;
                        }());
                        function tr(t, e, n) { var i = e instanceof Array ? e : e.childNodes, o = i[n]; if (Bo(o))
                            return o.data = zo + o.data, o; {
                            var o_20 = t.createTextNode(zo);
                            return Array.isArray(e) ? i.splice(n, 0, o_20) : Ko(e, n, o_20), o_20;
                        } }
                        function er(t, e) { return Zo(t) && Zo(e) && !Bo(t) && !Bo(e) && t.tagName.toLowerCase() === e.tagName.toLowerCase(); }
                        li(Xo, Ui);
                        var nr = { window: window, document: document };
                        function ir(t) { var e = 0; for (; t.previousSibling;)
                            t = t.previousSibling, e++; return e; }
                        function or(t) { var e = []; for (; t && t.nodeType != Node.DOCUMENT_NODE;)
                            e.unshift(t), t = t.parentNode; return e; }
                        var rr = Vo(document);
                        var sr = /** @class */ (function () {
                            function sr(t) {
                                if (t === void 0) { t = {}; }
                                this.blockFillerMode = t.blockFillerMode || "br", this.preElements = ["pre"], this.blockElements = ["p", "div", "h1", "h2", "h3", "h4", "h5", "h6", "li", "dd", "dt", "figcaption"], this._blockFiller = "br" == this.blockFillerMode ? Vo : Lo, this._domToViewMapping = new WeakMap, this._viewToDomMapping = new WeakMap, this._fakeSelectionMapping = new WeakMap;
                            }
                            sr.prototype.bindFakeSelection = function (t, e) { this._fakeSelectionMapping.set(t, new io(e)); };
                            sr.prototype.fakeSelectionToView = function (t) { return this._fakeSelectionMapping.get(t); };
                            sr.prototype.bindElements = function (t, e) { this._domToViewMapping.set(t, e), this._viewToDomMapping.set(e, t); };
                            sr.prototype.unbindDomElement = function (t) {
                                var e_128, _j;
                                var e = this._domToViewMapping.get(t);
                                if (e) {
                                    this._domToViewMapping.delete(t), this._viewToDomMapping.delete(e);
                                    try {
                                        for (var _q = __values(Array.from(t.childNodes)), _z = _q.next(); !_z.done; _z = _q.next()) {
                                            var e_129 = _z.value;
                                            this.unbindDomElement(e_129);
                                        }
                                    }
                                    catch (e_128_1) { e_128 = { error: e_128_1 }; }
                                    finally {
                                        try {
                                            if (_z && !_z.done && (_j = _q.return)) _j.call(_q);
                                        }
                                        finally { if (e_128) throw e_128.error; }
                                    }
                                }
                            };
                            sr.prototype.bindDocumentFragments = function (t, e) { this._domToViewMapping.set(t, e), this._viewToDomMapping.set(e, t); };
                            sr.prototype.viewToDom = function (t, e, n) {
                                var e_130, _j, e_131, _q;
                                if (n === void 0) { n = {}; }
                                if (t.is("text")) {
                                    var n_50 = this._processDataFromViewText(t);
                                    return e.createTextNode(n_50);
                                }
                                {
                                    if (this.mapViewToDom(t))
                                        return this.mapViewToDom(t);
                                    var i_28;
                                    if (t.is("documentFragment"))
                                        i_28 = e.createDocumentFragment(), n.bind && this.bindDocumentFragments(i_28, t);
                                    else {
                                        if (t.is("uiElement"))
                                            return i_28 = t.render(e), n.bind && this.bindElements(i_28, t), i_28;
                                        i_28 = t.hasAttribute("xmlns") ? e.createElementNS(t.getAttribute("xmlns"), t.name) : e.createElement(t.name), n.bind && this.bindElements(i_28, t);
                                        try {
                                            for (var _z = __values(t.getAttributeKeys()), _0 = _z.next(); !_0.done; _0 = _z.next()) {
                                                var e_132 = _0.value;
                                                i_28.setAttribute(e_132, t.getAttribute(e_132));
                                            }
                                        }
                                        catch (e_130_1) { e_130 = { error: e_130_1 }; }
                                        finally {
                                            try {
                                                if (_0 && !_0.done && (_j = _z.return)) _j.call(_z);
                                            }
                                            finally { if (e_130) throw e_130.error; }
                                        }
                                    }
                                    if (n.withChildren || void 0 === n.withChildren)
                                        try {
                                            for (var _1 = __values(this.viewChildrenToDom(t, e, n)), _2 = _1.next(); !_2.done; _2 = _1.next()) {
                                                var o_21 = _2.value;
                                                i_28.appendChild(o_21);
                                            }
                                        }
                                        catch (e_131_1) { e_131 = { error: e_131_1 }; }
                                        finally {
                                            try {
                                                if (_2 && !_2.done && (_q = _1.return)) _q.call(_1);
                                            }
                                            finally { if (e_131) throw e_131.error; }
                                        }
                                    return i_28;
                                }
                            };
                            sr.prototype.viewChildrenToDom = function (t, e, n) {
                                var e_133, _j, i, o, _q, _z, r_9, _0, e_133_1, _1;
                                return __generator(this, function (_2) {
                                    switch (_2.label) {
                                        case 0:
                                            if (n === void 0) { n = {}; }
                                            i = t.getFillerOffset && t.getFillerOffset();
                                            o = 0;
                                            _2.label = 1;
                                        case 1:
                                            _2.trys.push([1, 8, 9, 10]);
                                            _q = __values(t.getChildren()), _z = _q.next();
                                            _2.label = 2;
                                        case 2:
                                            if (!!_z.done) return [3 /*break*/, 7];
                                            r_9 = _z.value;
                                            _0 = i === o;
                                            if (!_0) return [3 /*break*/, 4];
                                            return [4 /*yield*/, this._blockFiller(e)];
                                        case 3:
                                            _0 = (_2.sent());
                                            _2.label = 4;
                                        case 4:
                                            _0;
                                            return [4 /*yield*/, this.viewToDom(r_9, e, n)];
                                        case 5:
                                            _2.sent(), o++;
                                            _2.label = 6;
                                        case 6:
                                            _z = _q.next();
                                            return [3 /*break*/, 2];
                                        case 7: return [3 /*break*/, 10];
                                        case 8:
                                            e_133_1 = _2.sent();
                                            e_133 = { error: e_133_1 };
                                            return [3 /*break*/, 10];
                                        case 9:
                                            try {
                                                if (_z && !_z.done && (_j = _q.return)) _j.call(_q);
                                            }
                                            finally { if (e_133) throw e_133.error; }
                                            return [7 /*endfinally*/];
                                        case 10:
                                            _1 = i === o;
                                            if (!_1) return [3 /*break*/, 12];
                                            return [4 /*yield*/, this._blockFiller(e)];
                                        case 11:
                                            _1 = (_2.sent());
                                            _2.label = 12;
                                        case 12:
                                            _1;
                                            return [2 /*return*/];
                                    }
                                });
                            };
                            sr.prototype.viewRangeToDom = function (t) { var e = this.viewPositionToDom(t.start), n = this.viewPositionToDom(t.end), i = document.createRange(); return i.setStart(e.parent, e.offset), i.setEnd(n.parent, n.offset), i; };
                            sr.prototype.viewPositionToDom = function (t) { var e = t.parent; if (e.is("text")) {
                                var n_51 = this.findCorrespondingDomText(e);
                                if (!n_51)
                                    return null;
                                var i_29 = t.offset;
                                return Uo(n_51) && (i_29 += Fo), { parent: n_51, offset: i_29 };
                            } {
                                var n_52, i_30, o_22;
                                if (0 === t.offset) {
                                    if (!(n_52 = this.mapViewToDom(e)))
                                        return null;
                                    o_22 = n_52.childNodes[0];
                                }
                                else {
                                    var e_134 = t.nodeBefore;
                                    if (!(i_30 = e_134.is("text") ? this.findCorrespondingDomText(e_134) : this.mapViewToDom(t.nodeBefore)))
                                        return null;
                                    n_52 = i_30.parentNode, o_22 = i_30.nextSibling;
                                }
                                if (Bo(o_22) && Uo(o_22))
                                    return { parent: o_22, offset: Fo };
                                return { parent: n_52, offset: i_30 ? ir(i_30) + 1 : 0 };
                            } };
                            sr.prototype.domToView = function (t, e) {
                                var e_135, _j;
                                if (e === void 0) { e = {}; }
                                if (this.isBlockFiller(t, this.blockFillerMode))
                                    return null;
                                var n = this.getParentUIElement(t, this._domToViewMapping);
                                if (n)
                                    return n;
                                if (Bo(t)) {
                                    if (Ho(t))
                                        return null;
                                    {
                                        var e_136 = this._processDataFromDomText(t);
                                        return "" === e_136 ? null : new pi(e_136);
                                    }
                                }
                                if (this.isComment(t))
                                    return null;
                                {
                                    if (this.mapDomToView(t))
                                        return this.mapDomToView(t);
                                    var n_53;
                                    if (this.isDocumentFragment(t))
                                        n_53 = new Ao, e.bind && this.bindDocumentFragments(t, n_53);
                                    else {
                                        var i_31 = e.keepOriginalCase ? t.tagName : t.tagName.toLowerCase();
                                        n_53 = new wi(i_31), e.bind && this.bindElements(t, n_53);
                                        var o_23 = t.attributes;
                                        for (var t_57 = o_23.length - 1; t_57 >= 0; t_57--)
                                            n_53._setAttribute(o_23[t_57].name, o_23[t_57].value);
                                    }
                                    if (e.withChildren || void 0 === e.withChildren)
                                        try {
                                            for (var _q = __values(this.domChildrenToView(t, e)), _z = _q.next(); !_z.done; _z = _q.next()) {
                                                var i_32 = _z.value;
                                                n_53._appendChild(i_32);
                                            }
                                        }
                                        catch (e_135_1) { e_135 = { error: e_135_1 }; }
                                        finally {
                                            try {
                                                if (_z && !_z.done && (_j = _q.return)) _j.call(_q);
                                            }
                                            finally { if (e_135) throw e_135.error; }
                                        }
                                    return n_53;
                                }
                            };
                            sr.prototype.domChildrenToView = function (t, e) {
                                var n_54, i_33, o_24, _j;
                                if (e === void 0) { e = {}; }
                                return __generator(this, function (_q) {
                                    switch (_q.label) {
                                        case 0:
                                            n_54 = 0;
                                            _q.label = 1;
                                        case 1:
                                            if (!(n_54 < t.childNodes.length)) return [3 /*break*/, 5];
                                            i_33 = t.childNodes[n_54], o_24 = this.domToView(i_33, e);
                                            _j = null !== o_24;
                                            if (!_j) return [3 /*break*/, 3];
                                            return [4 /*yield*/, o_24];
                                        case 2:
                                            _j = (_q.sent());
                                            _q.label = 3;
                                        case 3:
                                            _j;
                                            _q.label = 4;
                                        case 4:
                                            n_54++;
                                            return [3 /*break*/, 1];
                                        case 5: return [2 /*return*/];
                                    }
                                });
                            };
                            sr.prototype.domSelectionToView = function (t) { if (1 === t.rangeCount) {
                                var e_137 = t.getRangeAt(0).startContainer;
                                Bo(e_137) && (e_137 = e_137.parentNode);
                                var n_55 = this.fakeSelectionToView(e_137);
                                if (n_55)
                                    return n_55;
                            } var e = this.isDomSelectionBackward(t), n = []; for (var e_138 = 0; e_138 < t.rangeCount; e_138++) {
                                var i_34 = t.getRangeAt(e_138), o_25 = this.domRangeToView(i_34);
                                o_25 && n.push(o_25);
                            } return new io(n, { backward: e }); };
                            sr.prototype.domRangeToView = function (t) { var e = this.domPositionToView(t.startContainer, t.startOffset), n = this.domPositionToView(t.endContainer, t.endOffset); return e && n ? new to(e, n) : null; };
                            sr.prototype.domPositionToView = function (t, e) { if (this.isBlockFiller(t, this.blockFillerMode))
                                return this.domPositionToView(t.parentNode, ir(t)); var n = this.mapDomToView(t); if (n && n.is("uiElement"))
                                return Xi._createBefore(n); if (Bo(t)) {
                                if (Ho(t))
                                    return this.domPositionToView(t.parentNode, ir(t));
                                var n_56 = this.findCorrespondingViewText(t);
                                var i_35 = e;
                                return n_56 ? (Uo(t) && (i_35 = (i_35 -= Fo) < 0 ? 0 : i_35), new Xi(n_56, i_35)) : null;
                            } if (0 === e) {
                                var e_139 = this.mapDomToView(t);
                                if (e_139)
                                    return new Xi(e_139, 0);
                            }
                            else {
                                var n_57 = t.childNodes[e - 1], i_36 = Bo(n_57) ? this.findCorrespondingViewText(n_57) : this.mapDomToView(n_57);
                                if (i_36 && i_36.parent)
                                    return new Xi(i_36.parent, i_36.index + 1);
                            } return null; };
                            sr.prototype.mapDomToView = function (t) { return this.getParentUIElement(t) || this._domToViewMapping.get(t); };
                            sr.prototype.findCorrespondingViewText = function (t) { if (Ho(t))
                                return null; var e = this.getParentUIElement(t); if (e)
                                return e; var n = t.previousSibling; if (n) {
                                if (!this.isElement(n))
                                    return null;
                                var t_58 = this.mapDomToView(n);
                                if (t_58) {
                                    return t_58.nextSibling instanceof pi ? t_58.nextSibling : null;
                                }
                            }
                            else {
                                var e_140 = this.mapDomToView(t.parentNode);
                                if (e_140) {
                                    var t_59 = e_140.getChild(0);
                                    return t_59 instanceof pi ? t_59 : null;
                                }
                            } return null; };
                            sr.prototype.mapViewToDom = function (t) { return this._viewToDomMapping.get(t); };
                            sr.prototype.findCorrespondingDomText = function (t) { var e = t.previousSibling; return e && this.mapViewToDom(e) ? this.mapViewToDom(e).nextSibling : !e && t.parent && this.mapViewToDom(t.parent) ? this.mapViewToDom(t.parent).childNodes[0] : null; };
                            sr.prototype.focus = function (t) { var e = this.mapViewToDom(t); if (e && e.ownerDocument.activeElement !== e) {
                                var _j = nr.window, t_60 = _j.scrollX, n_58 = _j.scrollY, i_37 = [];
                                cr(e, function (t) { var e = t.scrollLeft, n = t.scrollTop; i_37.push([e, n]); }), e.focus(), cr(e, function (t) { var _j = __read(i_37.shift(), 2), e = _j[0], n = _j[1]; t.scrollLeft = e, t.scrollTop = n; }), nr.window.scrollTo(t_60, n_58);
                            } };
                            sr.prototype.isElement = function (t) { return t && t.nodeType == Node.ELEMENT_NODE; };
                            sr.prototype.isDocumentFragment = function (t) { return t && t.nodeType == Node.DOCUMENT_FRAGMENT_NODE; };
                            sr.prototype.isComment = function (t) { return t && t.nodeType == Node.COMMENT_NODE; };
                            sr.prototype.isBlockFiller = function (t) { return "br" == this.blockFillerMode ? t.isEqualNode(rr) : !("BR" !== t.tagName || !lr(t, this.blockElements) || 1 !== t.parentNode.childNodes.length) || function (t, e) { return Bo(t) && " " == t.data && lr(t, e) && 1 === t.parentNode.childNodes.length; }(t, this.blockElements); };
                            sr.prototype.isDomSelectionBackward = function (t) { if (t.isCollapsed)
                                return !1; var e = document.createRange(); e.setStart(t.anchorNode, t.anchorOffset), e.setEnd(t.focusNode, t.focusOffset); var n = e.collapsed; return e.detach(), n; };
                            sr.prototype.getParentUIElement = function (t) { var e = or(t); for (e.pop(); e.length;) {
                                var t_61 = e.pop(), n_59 = this._domToViewMapping.get(t_61);
                                if (n_59 && n_59.is("uiElement"))
                                    return n_59;
                            } return null; };
                            sr.prototype.isDomSelectionCorrect = function (t) { return this._isDomSelectionPositionCorrect(t.anchorNode, t.anchorOffset) && this._isDomSelectionPositionCorrect(t.focusNode, t.focusOffset); };
                            sr.prototype._isDomSelectionPositionCorrect = function (t, e) { if (Bo(t) && Uo(t) && e < Fo)
                                return !1; if (this.isElement(t) && Uo(t.childNodes[e]))
                                return !1; var n = this.mapDomToView(t); return !n || !n.is("uiElement"); };
                            sr.prototype._processDataFromViewText = function (t) {
                                var _this = this;
                                var e = t.data;
                                if (t.getAncestors().some(function (t) { return _this.preElements.includes(t.name); }))
                                    return e;
                                if (" " == e.charAt(0)) {
                                    var n_60 = this._getTouchingViewTextNode(t, !1);
                                    !(n_60 && this._nodeEndsWithSpace(n_60)) && n_60 || (e = " " + e.substr(1));
                                }
                                if (" " == e.charAt(e.length - 1)) {
                                    var n_61 = this._getTouchingViewTextNode(t, !0);
                                    " " != e.charAt(e.length - 2) && n_61 && " " != n_61.data.charAt(0) || (e = e.substr(0, e.length - 1) + " ");
                                }
                                return e.replace(/ {2}/g, "  ");
                            };
                            sr.prototype._nodeEndsWithSpace = function (t) {
                                var _this = this;
                                if (t.getAncestors().some(function (t) { return _this.preElements.includes(t.name); }))
                                    return !1;
                                var e = this._processDataFromViewText(t);
                                return " " == e.charAt(e.length - 1);
                            };
                            sr.prototype._processDataFromDomText = function (t) { var e = t.data; if (ar(t, this.preElements))
                                return qo(t); e = e.replace(/[ \n\t\r]{1,}/g, " "); var n = this._getTouchingInlineDomNode(t, !1), i = this._getTouchingInlineDomNode(t, !0), o = this._checkShouldLeftTrimDomText(n), r = this._checkShouldRightTrimDomText(t, i); return o && (e = e.replace(/^ /, "")), r && (e = e.replace(/ $/, "")), e = (e = qo(new Text(e))).replace(/ \u00A0/g, "  "), (/( |\u00A0)\u00A0$/.test(e) || !i || i.data && " " == i.data.charAt(0)) && (e = e.replace(/\u00A0$/, " ")), o && (e = e.replace(/^\u00A0/, " ")), e; };
                            sr.prototype._checkShouldLeftTrimDomText = function (t) { return !t || (!!Wn(t) || /[^\S\u00A0]/.test(t.data.charAt(t.data.length - 1))); };
                            sr.prototype._checkShouldRightTrimDomText = function (t, e) { return !e && !Uo(t); };
                            sr.prototype._getTouchingViewTextNode = function (t, e) {
                                var e_141, _j;
                                var n = new Zi({ startPosition: e ? Xi._createAfter(t) : Xi._createBefore(t), direction: e ? "forward" : "backward" });
                                try {
                                    for (var n_62 = __values(n), n_62_1 = n_62.next(); !n_62_1.done; n_62_1 = n_62.next()) {
                                        var t_62 = n_62_1.value;
                                        if (t_62.item.is("containerElement"))
                                            return null;
                                        if (t_62.item.is("br"))
                                            return null;
                                        if (t_62.item.is("textProxy"))
                                            return t_62.item;
                                    }
                                }
                                catch (e_141_1) { e_141 = { error: e_141_1 }; }
                                finally {
                                    try {
                                        if (n_62_1 && !n_62_1.done && (_j = n_62.return)) _j.call(n_62);
                                    }
                                    finally { if (e_141) throw e_141.error; }
                                }
                                return null;
                            };
                            sr.prototype._getTouchingInlineDomNode = function (t, e) { if (!t.parentNode)
                                return null; var n = e ? "nextNode" : "previousNode", i = t.ownerDocument, o = or(t)[0], r = i.createTreeWalker(o, NodeFilter.SHOW_TEXT | NodeFilter.SHOW_ELEMENT, { acceptNode: function (t) { return Bo(t) ? NodeFilter.FILTER_ACCEPT : "BR" == t.tagName ? NodeFilter.FILTER_ACCEPT : NodeFilter.FILTER_SKIP; } }); r.currentNode = t; var s = r[n](); if (null !== s) {
                                var e_142 = function (t, e) { var n = or(t), i = or(e); var o = 0; for (; n[o] == i[o] && n[o];)
                                    o++; return 0 === o ? null : n[o - 1]; }(t, s);
                                if (e_142 && !ar(t, this.blockElements, e_142) && !ar(s, this.blockElements, e_142))
                                    return s;
                            } return null; };
                            return sr;
                        }());
                        function ar(t, e, n) { var i = or(t); return n && (i = i.slice(i.indexOf(n) + 1)), i.some(function (t) { return t.tagName && e.includes(t.tagName.toLowerCase()); }); }
                        function cr(t, e) { for (; t && t != nr.document;)
                            e(t), t = t.parentNode; }
                        function lr(t, e) { var n = t.parentNode; return n && n.tagName && e.includes(n.tagName.toLowerCase()); }
                        function dr(t) { var e = Object.prototype.toString.apply(t); return "[object Window]" == e || "[object global]" == e; }
                        var ur = Bi({}, ni, { listenTo: function (t) {
                                var _j;
                                var e = [];
                                for (var _q = 1; _q < arguments.length; _q++) {
                                    e[_q - 1] = arguments[_q];
                                }
                                if (Zo(t) || dr(t)) {
                                    var n_63 = this._getProxyEmitter(t) || new hr(t);
                                    n_63.attach.apply(n_63, __spread(e)), t = n_63;
                                }
                                (_j = ni.listenTo).call.apply(_j, __spread([this, t], e));
                            }, stopListening: function (t, e, n) { if (Zo(t) || dr(t)) {
                                var e_143 = this._getProxyEmitter(t);
                                if (!e_143)
                                    return;
                                t = e_143;
                            } ni.stopListening.call(this, t, e, n), t instanceof hr && t.detach(e); }, _getProxyEmitter: function (t) { return function (t, e) { return t[ti] && t[ti][e] ? t[ti][e].emitter : null; }(this, fr(t)); } });
                        var hr = /** @class */ (function () {
                            function hr(t) {
                                ii(this, fr(t)), this._domNode = t;
                            }
                            return hr;
                        }());
                        function fr(t) { return t["data-ck-expando"] || (t["data-ck-expando"] = Zn()); }
                        Bi(hr.prototype, ni, { attach: function (t, e, n) {
                                if (n === void 0) { n = {}; }
                                if (this._domListeners && this._domListeners[t])
                                    return;
                                var i = this._createDomListener(t, !!n.useCapture);
                                this._domNode.addEventListener(t, i, !!n.useCapture), this._domListeners || (this._domListeners = {}), this._domListeners[t] = i;
                            }, detach: function (t) { var e; !this._domListeners[t] || (e = this._events[t]) && e.callbacks.length || this._domListeners[t].removeListener(); }, _createDomListener: function (t, e) {
                                var _this = this;
                                var n = function (e) { _this.fire(t, e); };
                                return n.removeListener = (function () { _this._domNode.removeEventListener(t, n, e), delete _this._domListeners[t]; }), n;
                            } });
                        var pr = /** @class */ (function () {
                            function pr(t) {
                                this.view = t, this.document = t.document, this.isEnabled = !1;
                            }
                            pr.prototype.enable = function () { this.isEnabled = !0; };
                            pr.prototype.disable = function () { this.isEnabled = !1; };
                            pr.prototype.destroy = function () { this.disable(), this.stopListening(); };
                            return pr;
                        }());
                        li(pr, ur);
                        var mr = "__lodash_hash_undefined__";
                        var gr = function (t) { return this.__data__.set(t, mr), this; };
                        var xr = function (t) { return this.__data__.has(t); };
                        function br(t) { var e = -1, n = null == t ? 0 : t.length; for (this.__data__ = new Et; ++e < n;)
                            this.add(t[e]); }
                        br.prototype.add = br.prototype.push = gr, br.prototype.has = xr;
                        var kr = br;
                        var wr = function (t, e) { for (var n = -1, i = null == t ? 0 : t.length; ++n < i;)
                            if (e(t[n], n, t))
                                return !0; return !1; };
                        var vr = function (t, e) { return t.has(e); }, yr = 1, _r = 2;
                        var Cr = function (t, e, n, i, o, r) { var s = n & yr, a = t.length, c = e.length; if (a != c && !(s && c > a))
                            return !1; var l = r.get(t); if (l && r.get(e))
                            return l == e; var d = -1, u = !0, h = n & _r ? new kr : void 0; for (r.set(t, e), r.set(e, t); ++d < a;) {
                            var f = t[d], p = e[d];
                            if (i)
                                var m = s ? i(p, f, d, e, t, r) : i(f, p, d, t, e, r);
                            if (void 0 !== m) {
                                if (m)
                                    continue;
                                u = !1;
                                break;
                            }
                            if (h) {
                                if (!wr(e, function (t, e) { if (!vr(h, e) && (f === t || o(f, t, n, i, r)))
                                    return h.push(e); })) {
                                    u = !1;
                                    break;
                                }
                            }
                            else if (f !== p && !o(f, p, n, i, r)) {
                                u = !1;
                                break;
                            }
                        } return r.delete(t), r.delete(e), u; };
                        var Tr = function (t) { var e = -1, n = Array(t.size); return t.forEach(function (t, i) { n[++e] = [i, t]; }), n; };
                        var Ar = function (t) { var e = -1, n = Array(t.size); return t.forEach(function (t) { n[++e] = t; }), n; }, Sr = 1, Er = 2, Pr = "[object Boolean]", Ir = "[object Date]", Nr = "[object Error]", Mr = "[object Map]", Or = "[object Number]", Rr = "[object RegExp]", Dr = "[object Set]", jr = "[object String]", Br = "[object Symbol]", Lr = "[object ArrayBuffer]", Vr = "[object DataView]", Fr = r ? r.prototype : void 0, zr = Fr ? Fr.valueOf : void 0;
                        var Ur = function (t, e, n, i, o, r, s) { switch (n) {
                            case Vr:
                                if (t.byteLength != e.byteLength || t.byteOffset != e.byteOffset)
                                    return !1;
                                t = t.buffer, e = e.buffer;
                            case Lr: return !(t.byteLength != e.byteLength || !r(new Je(t), new Je(e)));
                            case Pr:
                            case Ir:
                            case Or: return E(+t, +e);
                            case Nr: return t.name == e.name && t.message == e.message;
                            case Rr:
                            case jr: return t == e + "";
                            case Mr: var a = Tr;
                            case Dr:
                                var c = i & Sr;
                                if (a || (a = Ar), t.size != e.size && !c)
                                    return !1;
                                var l = s.get(t);
                                if (l)
                                    return l == e;
                                i |= Er, s.set(t, e);
                                var d = Cr(a(t), a(e), i, o, r, s);
                                return s.delete(t), d;
                            case Br: if (zr)
                                return zr.call(t) == zr.call(e);
                        } return !1; }, Hr = 1, qr = Object.prototype.hasOwnProperty;
                        var Yr = function (t, e, n, i, o, r) { var s = n & Hr, a = Me(t), c = a.length; if (c != Me(e).length && !s)
                            return !1; for (var l = c; l--;) {
                            var d = a[l];
                            if (!(s ? d in e : qr.call(e, d)))
                                return !1;
                        } var u = r.get(t); if (u && r.get(e))
                            return u == e; var h = !0; r.set(t, e), r.set(e, t); for (var f = s; ++l < c;) {
                            var p = t[d = a[l]], m = e[d];
                            if (i)
                                var g = s ? i(m, p, d, e, t, r) : i(p, m, d, t, e, r);
                            if (!(void 0 === g ? p === m || o(p, m, n, i, r) : g)) {
                                h = !1;
                                break;
                            }
                            f || (f = "constructor" == d);
                        } if (h && !f) {
                            var x = t.constructor, b = e.constructor;
                            x != b && "constructor" in t && "constructor" in e && !("function" == typeof x && x instanceof x && "function" == typeof b && b instanceof b) && (h = !1);
                        } return r.delete(t), r.delete(e), h; }, Wr = 1, Jr = "[object Arguments]", $r = "[object Array]", Gr = "[object Object]", Kr = Object.prototype.hasOwnProperty;
                        var Qr = function (t, e, n, i, o, r) { var s = Wt(t), a = Wt(e), c = s ? $r : qe(t), l = a ? $r : qe(e), d = (c = c == Jr ? Gr : c) == Gr, u = (l = l == Jr ? Gr : l) == Gr, h = c == l; if (h && Object(Jt.a)(t)) {
                            if (!Object(Jt.a)(e))
                                return !1;
                            s = !0, d = !1;
                        } if (h && !d)
                            return r || (r = new Mt), s || oe(t) ? Cr(t, e, n, i, o, r) : Ur(t, e, c, n, i, o, r); if (!(n & Wr)) {
                            var f = d && Kr.call(t, "__wrapped__"), p = u && Kr.call(e, "__wrapped__");
                            if (f || p) {
                                var m = f ? t.value() : t, g = p ? e.value() : e;
                                return r || (r = new Mt), o(m, g, n, i, r);
                            }
                        } return !!h && (r || (r = new Mt), Yr(t, e, n, i, o, r)); };
                        var Zr = function t(e, n, i, o, r) { return e === n || (null == e || null == n || !k(e) && !k(n) ? e != e && n != n : Qr(e, n, i, o, t, r)); };
                        var Xr = function (t, e, n) { var i = (n = "function" == typeof n ? n : void 0) ? n(t, e) : void 0; return void 0 === i ? Zr(t, e, void 0, n) : !!i; };
                        var ts = /** @class */ (function (_super) {
                            __extends(ts, _super);
                            function ts(t) {
                                var _this = this;
                                _this = _super.call(this, t) || this, _this._config = { childList: !0, characterData: !0, characterDataOldValue: !0, subtree: !0 }, _this.domConverter = t.domConverter, _this.renderer = t._renderer, _this._domElements = [], _this._mutationObserver = new window.MutationObserver(_this._onMutations.bind(_this));
                                return _this;
                            }
                            ts.prototype.flush = function () { this._onMutations(this._mutationObserver.takeRecords()); };
                            ts.prototype.observe = function (t) { this._domElements.push(t), this.isEnabled && this._mutationObserver.observe(t, this._config); };
                            ts.prototype.enable = function () {
                                var e_144, _j;
                                _super.prototype.enable.call(this);
                                try {
                                    for (var _q = __values(this._domElements), _z = _q.next(); !_z.done; _z = _q.next()) {
                                        var t_63 = _z.value;
                                        this._mutationObserver.observe(t_63, this._config);
                                    }
                                }
                                catch (e_144_1) { e_144 = { error: e_144_1 }; }
                                finally {
                                    try {
                                        if (_z && !_z.done && (_j = _q.return)) _j.call(_q);
                                    }
                                    finally { if (e_144) throw e_144.error; }
                                }
                            };
                            ts.prototype.disable = function () { _super.prototype.disable.call(this), this._mutationObserver.disconnect(); };
                            ts.prototype.destroy = function () { _super.prototype.destroy.call(this), this._mutationObserver.disconnect(); };
                            ts.prototype._onMutations = function (t) {
                                var e_145, _j, e_146, _q, e_147, _z, e_148, _0;
                                if (0 === t.length)
                                    return;
                                var e = this.domConverter, n = new Map, i = new Set;
                                try {
                                    for (var t_64 = __values(t), t_64_1 = t_64.next(); !t_64_1.done; t_64_1 = t_64.next()) {
                                        var n_64 = t_64_1.value;
                                        if ("childList" === n_64.type) {
                                            var t_66 = e.mapDomToView(n_64.target);
                                            if (t_66 && t_66.is("uiElement"))
                                                continue;
                                            t_66 && !this._isBogusBrMutation(n_64) && i.add(t_66);
                                        }
                                    }
                                }
                                catch (e_145_1) { e_145 = { error: e_145_1 }; }
                                finally {
                                    try {
                                        if (t_64_1 && !t_64_1.done && (_j = t_64.return)) _j.call(t_64);
                                    }
                                    finally { if (e_145) throw e_145.error; }
                                }
                                try {
                                    for (var t_65 = __values(t), t_65_1 = t_65.next(); !t_65_1.done; t_65_1 = t_65.next()) {
                                        var o_26 = t_65_1.value;
                                        var t_67 = e.mapDomToView(o_26.target);
                                        if ((!t_67 || !t_67.is("uiElement")) && "characterData" === o_26.type) {
                                            var t_68 = e.findCorrespondingViewText(o_26.target);
                                            t_68 && !i.has(t_68.parent) ? n.set(t_68, { type: "text", oldText: t_68.data, newText: qo(o_26.target), node: t_68 }) : !t_68 && Uo(o_26.target) && i.add(e.mapDomToView(o_26.target.parentNode));
                                        }
                                    }
                                }
                                catch (e_146_1) { e_146 = { error: e_146_1 }; }
                                finally {
                                    try {
                                        if (t_65_1 && !t_65_1.done && (_q = t_65.return)) _q.call(t_65);
                                    }
                                    finally { if (e_146) throw e_146.error; }
                                }
                                var o = [];
                                try {
                                    for (var _1 = __values(n.values()), _2 = _1.next(); !_2.done; _2 = _1.next()) {
                                        var t_69 = _2.value;
                                        this.renderer.markToSync("text", t_69.node), o.push(t_69);
                                    }
                                }
                                catch (e_147_1) { e_147 = { error: e_147_1 }; }
                                finally {
                                    try {
                                        if (_2 && !_2.done && (_z = _1.return)) _z.call(_1);
                                    }
                                    finally { if (e_147) throw e_147.error; }
                                }
                                try {
                                    for (var i_38 = __values(i), i_38_1 = i_38.next(); !i_38_1.done; i_38_1 = i_38.next()) {
                                        var t_70 = i_38_1.value;
                                        var n_65 = e.mapViewToDom(t_70), i_39 = Array.from(t_70.getChildren()), r_10 = Array.from(e.domChildrenToView(n_65, { withChildren: !1 }));
                                        Xr(i_39, r_10, a) || (this.renderer.markToSync("children", t_70), o.push({ type: "children", oldChildren: i_39, newChildren: r_10, node: t_70 }));
                                    }
                                }
                                catch (e_148_1) { e_148 = { error: e_148_1 }; }
                                finally {
                                    try {
                                        if (i_38_1 && !i_38_1.done && (_0 = i_38.return)) _0.call(i_38);
                                    }
                                    finally { if (e_148) throw e_148.error; }
                                }
                                var r = t[0].target.ownerDocument.getSelection();
                                var s = null;
                                if (r && r.anchorNode) {
                                    var t_71 = e.domPositionToView(r.anchorNode, r.anchorOffset), n_66 = e.domPositionToView(r.focusNode, r.focusOffset);
                                    t_71 && n_66 && (s = new io(t_71)).setFocus(n_66);
                                }
                                function a(t, e) { if (!Array.isArray(t))
                                    return t === e || !(!t.is("text") || !e.is("text")) && t.data === e.data; }
                                this.document.fire("mutations", o, s), this.view.forceRender();
                            };
                            ts.prototype._isBogusBrMutation = function (t) { var e = null; return null === t.nextSibling && 0 === t.removedNodes.length && 1 == t.addedNodes.length && (e = this.domConverter.domToView(t.addedNodes[0], { withChildren: !1 })), e && e.is("element", "br"); };
                            return ts;
                        }(pr));
                        var es = /** @class */ (function () {
                            function es(t, e, n) {
                                this.view = t, this.document = t.document, this.domEvent = e, this.domTarget = e.target, Bi(this, n);
                            }
                            Object.defineProperty(es.prototype, "target", {
                                get: function () { return this.view.domConverter.mapDomToView(this.domTarget); },
                                enumerable: true,
                                configurable: true
                            });
                            es.prototype.preventDefault = function () { this.domEvent.preventDefault(); };
                            es.prototype.stopPropagation = function () { this.domEvent.stopPropagation(); };
                            return es;
                        }());
                        var ns = /** @class */ (function (_super) {
                            __extends(ns, _super);
                            function ns(t) {
                                var _this = this;
                                _this = _super.call(this, t) || this, _this.useCapture = !1;
                                return _this;
                            }
                            ns.prototype.observe = function (t) {
                                var _this = this;
                                ("string" == typeof this.domEventType ? [this.domEventType] : this.domEventType).forEach(function (e) { _this.listenTo(t, e, function (t, e) { _this.isEnabled && _this.onDomEvent(e); }, { useCapture: _this.useCapture }); });
                            };
                            ns.prototype.fire = function (t, e, n) { this.isEnabled && this.document.fire(t, new es(this.view, e, n)); };
                            return ns;
                        }(pr));
                        var is = /** @class */ (function (_super) {
                            __extends(is, _super);
                            function is(t) {
                                var _this = this;
                                _this = _super.call(this, t) || this, _this.domEventType = ["keydown", "keyup"];
                                return _this;
                            }
                            is.prototype.onDomEvent = function (t) { this.fire(t.type, t, { keyCode: t.keyCode, altKey: t.altKey, ctrlKey: t.ctrlKey || t.metaKey, shiftKey: t.shiftKey, get keystroke() { return ko(this); } }); };
                            return is;
                        }(ns));
                        var os = function () { return o.a.Date.now(); }, rs = "[object Symbol]";
                        var ss = function (t) { return "symbol" == typeof t || k(t) && g(t) == rs; }, as = NaN, cs = /^\s+|\s+$/g, ls = /^[-+]0x[0-9a-f]+$/i, ds = /^0b[01]+$/i, us = /^0o[0-7]+$/i, hs = parseInt;
                        var fs = function (t) { if ("number" == typeof t)
                            return t; if (ss(t))
                            return as; if (z(t)) {
                            var e = "function" == typeof t.valueOf ? t.valueOf() : t;
                            t = z(e) ? e + "" : e;
                        } if ("string" != typeof t)
                            return 0 === t ? t : +t; t = t.replace(cs, ""); var n = ds.test(t); return n || us.test(t) ? hs(t.slice(2), n ? 2 : 8) : ls.test(t) ? as : +t; }, ps = "Expected a function", ms = Math.max, gs = Math.min;
                        var xs = function (t, e, n) { var i, o, r, s, a, c, l = 0, d = !1, u = !1, h = !0; if ("function" != typeof t)
                            throw new TypeError(ps); function f(e) { var n = i, r = o; return i = o = void 0, l = e, s = t.apply(r, n); } function p(t) { var n = t - c; return void 0 === c || n >= e || n < 0 || u && t - l >= r; } function m() { var t = os(); if (p(t))
                            return g(t); a = setTimeout(m, function (t) { var n = e - (t - c); return u ? gs(n, r - (t - l)) : n; }(t)); } function g(t) { return a = void 0, h && i ? f(t) : (i = o = void 0, s); } function x() { var t = os(), n = p(t); if (i = arguments, o = this, c = t, n) {
                            if (void 0 === a)
                                return function (t) { return l = t, a = setTimeout(m, e), d ? f(t) : s; }(c);
                            if (u)
                                return clearTimeout(a), a = setTimeout(m, e), f(c);
                        } return void 0 === a && (a = setTimeout(m, e)), s; } return e = fs(e) || 0, z(n) && (d = !!n.leading, r = (u = "maxWait" in n) ? ms(fs(n.maxWait) || 0, e) : r, h = "trailing" in n ? !!n.trailing : h), x.cancel = function () { void 0 !== a && clearTimeout(a), l = 0, i = c = o = a = void 0; }, x.flush = function () { return void 0 === a ? s : g(os()); }, x; };
                        var bs = /** @class */ (function (_super) {
                            __extends(bs, _super);
                            function bs(t) {
                                var _this = this;
                                _this = _super.call(this, t) || this, _this._fireSelectionChangeDoneDebounced = xs(function (t) { return _this.document.fire("selectionChangeDone", t); }, 200);
                                return _this;
                            }
                            bs.prototype.observe = function () {
                                var _this = this;
                                var t = this.document;
                                t.on("keydown", function (e, n) { t.selection.isFake && function (t) { return t == bo.arrowright || t == bo.arrowleft || t == bo.arrowup || t == bo.arrowdown; }(n.keyCode) && _this.isEnabled && (n.preventDefault(), _this._handleSelectionMove(n.keyCode)); }, { priority: "lowest" });
                            };
                            bs.prototype.destroy = function () { _super.prototype.destroy.call(this), this._fireSelectionChangeDoneDebounced.cancel(); };
                            bs.prototype._handleSelectionMove = function (t) { var e = this.document.selection, n = new io(e.getRanges(), { backward: e.isBackward, fake: !1 }); t != bo.arrowleft && t != bo.arrowup || n.setTo(n.getFirstPosition()), t != bo.arrowright && t != bo.arrowdown || n.setTo(n.getLastPosition()); var i = { oldSelection: e, newSelection: n, domSelection: null }; this.document.fire("selectionChange", i), this._fireSelectionChangeDoneDebounced(i); };
                            return bs;
                        }(pr));
                        var ks = /** @class */ (function (_super) {
                            __extends(ks, _super);
                            function ks(t) {
                                var _this = this;
                                _this = _super.call(this, t) || this, _this.mutationObserver = t.getObserver(ts), _this.selection = _this.document.selection, _this.domConverter = t.domConverter, _this._documents = new WeakSet, _this._fireSelectionChangeDoneDebounced = xs(function (t) { return _this.document.fire("selectionChangeDone", t); }, 200), _this._clearInfiniteLoopInterval = setInterval(function () { return _this._clearInfiniteLoop(); }, 1e3), _this._loopbackCounter = 0;
                                return _this;
                            }
                            ks.prototype.observe = function (t) {
                                var _this = this;
                                var e = t.ownerDocument;
                                this._documents.has(e) || (this.listenTo(e, "selectionchange", function () { _this._handleSelectionChange(e); }), this._documents.add(e));
                            };
                            ks.prototype.destroy = function () { _super.prototype.destroy.call(this), clearInterval(this._clearInfiniteLoopInterval), this._fireSelectionChangeDoneDebounced.cancel(); };
                            ks.prototype._handleSelectionChange = function (t) { if (!this.isEnabled || !this.document.isFocused && !this.document.isReadOnly)
                                return; this.mutationObserver.flush(); var e = t.defaultView.getSelection(), n = this.domConverter.domSelectionToView(e); if (!(this.selection.isEqual(n) && this.domConverter.isDomSelectionCorrect(e) || ++this._loopbackCounter > 60))
                                if (this.selection.isSimilar(n))
                                    this.view.forceRender();
                                else {
                                    var t_72 = { oldSelection: this.selection, newSelection: n, domSelection: e };
                                    this.document.fire("selectionChange", t_72), this._fireSelectionChangeDoneDebounced(t_72);
                                } };
                            ks.prototype._clearInfiniteLoop = function () { this._loopbackCounter = 0; };
                            return ks;
                        }(pr));
                        var ws = /** @class */ (function (_super) {
                            __extends(ws, _super);
                            function ws(t) {
                                var _this = this;
                                _this = _super.call(this, t) || this, _this.domEventType = ["focus", "blur"], _this.useCapture = !0;
                                var e = _this.document;
                                e.on("focus", function () { e.isFocused = !0, _this._renderTimeoutId = setTimeout(function () { return t.forceRender(); }, 50); }), e.on("blur", function (n, i) { var o = e.selection.editableElement; null !== o && o !== i.target || (e.isFocused = !1, t.forceRender()); });
                                return _this;
                            }
                            ws.prototype.onDomEvent = function (t) { this.fire(t.type, t); };
                            ws.prototype.destroy = function () { this._renderTimeoutId && clearTimeout(this._renderTimeoutId), _super.prototype.destroy.call(this); };
                            return ws;
                        }(ns));
                        var vs = /** @class */ (function (_super) {
                            __extends(vs, _super);
                            function vs(t) {
                                var _this = this;
                                _this = _super.call(this, t) || this, _this.domEventType = ["compositionstart", "compositionupdate", "compositionend"];
                                var e = _this.document;
                                e.on("compositionstart", function () { e.isComposing = !0; }), e.on("compositionend", function () { e.isComposing = !1; });
                                return _this;
                            }
                            vs.prototype.onDomEvent = function (t) { this.fire(t.type, t); };
                            return vs;
                        }(ns));
                        var ys = /** @class */ (function (_super) {
                            __extends(ys, _super);
                            function ys(t) {
                                var _this = this;
                                _this = _super.call(this, t) || this, _this.domEventType = ["beforeinput"];
                                return _this;
                            }
                            ys.prototype.onDomEvent = function (t) { this.fire(t.type, t); };
                            return ys;
                        }(ns));
                        function _s(t) { return "[object Range]" == Object.prototype.toString.apply(t); }
                        function Cs(t) { var e = t.ownerDocument.defaultView.getComputedStyle(t); return { top: parseInt(e.borderTopWidth, 10), right: parseInt(e.borderRightWidth, 10), bottom: parseInt(e.borderBottomWidth, 10), left: parseInt(e.borderLeftWidth, 10) }; }
                        var Ts = ["top", "right", "bottom", "left", "width", "height"];
                        var As = /** @class */ (function () {
                            function As(t) {
                                var e = _s(t);
                                if (Object.defineProperty(this, "_source", { value: t._source || t, writable: !0, enumerable: !1 }), Wn(t) || e)
                                    Ss(this, e ? As.getDomRangeRects(t)[0] : t.getBoundingClientRect());
                                else if (dr(t)) {
                                    var e_149 = t.innerWidth, n_67 = t.innerHeight;
                                    Ss(this, { top: 0, right: e_149, bottom: n_67, left: 0, width: e_149, height: n_67 });
                                }
                                else
                                    Ss(this, t);
                            }
                            As.prototype.clone = function () { return new As(this); };
                            As.prototype.moveTo = function (t, e) { return this.top = e, this.right = t + this.width, this.bottom = e + this.height, this.left = t, this; };
                            As.prototype.moveBy = function (t, e) { return this.top += e, this.right += t, this.left += t, this.bottom += e, this; };
                            As.prototype.getIntersection = function (t) { var e = { top: Math.max(this.top, t.top), right: Math.min(this.right, t.right), bottom: Math.min(this.bottom, t.bottom), left: Math.max(this.left, t.left) }; return e.width = e.right - e.left, e.height = e.bottom - e.top, e.width < 0 || e.height < 0 ? null : new As(e); };
                            As.prototype.getIntersectionArea = function (t) { var e = this.getIntersection(t); return e ? e.getArea() : 0; };
                            As.prototype.getArea = function () { return this.width * this.height; };
                            As.prototype.getVisible = function () { var t = this._source; var e = this.clone(); if (!Es(t)) {
                                var n_68 = t.parentNode || t.commonAncestorContainer;
                                for (; n_68 && !Es(n_68);) {
                                    var t_73 = new As(n_68), i_40 = e.getIntersection(t_73);
                                    if (!i_40)
                                        return null;
                                    i_40.getArea() < e.getArea() && (e = i_40), n_68 = n_68.parentNode;
                                }
                            } return e; };
                            As.prototype.isEqual = function (t) {
                                var e_150, _j;
                                try {
                                    for (var Ts_1 = __values(Ts), Ts_1_1 = Ts_1.next(); !Ts_1_1.done; Ts_1_1 = Ts_1.next()) {
                                        var e_151 = Ts_1_1.value;
                                        if (this[e_151] !== t[e_151])
                                            return !1;
                                    }
                                }
                                catch (e_150_1) { e_150 = { error: e_150_1 }; }
                                finally {
                                    try {
                                        if (Ts_1_1 && !Ts_1_1.done && (_j = Ts_1.return)) _j.call(Ts_1);
                                    }
                                    finally { if (e_150) throw e_150.error; }
                                }
                                return !0;
                            };
                            As.prototype.contains = function (t) { var e = this.getIntersection(t); return !(!e || !e.isEqual(t)); };
                            As.prototype.excludeScrollbarsAndBorders = function () { var t = this._source; var e, n, i; if (dr(t))
                                e = t.innerWidth - t.document.documentElement.clientWidth, n = t.innerHeight - t.document.documentElement.clientHeight, i = t.getComputedStyle(t.document.documentElement).direction;
                            else {
                                var o_27 = Cs(this._source);
                                e = t.offsetWidth - t.clientWidth - o_27.left - o_27.right, n = t.offsetHeight - t.clientHeight - o_27.top - o_27.bottom, i = t.ownerDocument.defaultView.getComputedStyle(t).direction, this.left += o_27.left, this.top += o_27.top, this.right -= o_27.right, this.bottom -= o_27.bottom, this.width = this.right - this.left, this.height = this.bottom - this.top;
                            } return this.width -= e, "ltr" === i ? this.right -= e : this.left += e, this.height -= n, this.bottom -= n, this; };
                            As.getDomRangeRects = function (t) {
                                var e_152, _j;
                                var e = [], n = Array.from(t.getClientRects());
                                if (n.length)
                                    try {
                                        for (var n_69 = __values(n), n_69_1 = n_69.next(); !n_69_1.done; n_69_1 = n_69.next()) {
                                            var t_74 = n_69_1.value;
                                            e.push(new As(t_74));
                                        }
                                    }
                                    catch (e_152_1) { e_152 = { error: e_152_1 }; }
                                    finally {
                                        try {
                                            if (n_69_1 && !n_69_1.done && (_j = n_69.return)) _j.call(n_69);
                                        }
                                        finally { if (e_152) throw e_152.error; }
                                    }
                                else {
                                    var n_70 = t.startContainer;
                                    Bo(n_70) && (n_70 = n_70.parentNode);
                                    var i_41 = new As(n_70.getBoundingClientRect());
                                    i_41.right = i_41.left, i_41.width = 0, e.push(i_41);
                                }
                                return e;
                            };
                            return As;
                        }());
                        function Ss(t, e) {
                            var e_153, _j;
                            try {
                                for (var Ts_2 = __values(Ts), Ts_2_1 = Ts_2.next(); !Ts_2_1.done; Ts_2_1 = Ts_2.next()) {
                                    var n_71 = Ts_2_1.value;
                                    t[n_71] = e[n_71];
                                }
                            }
                            catch (e_153_1) { e_153 = { error: e_153_1 }; }
                            finally {
                                try {
                                    if (Ts_2_1 && !Ts_2_1.done && (_j = Ts_2.return)) _j.call(Ts_2);
                                }
                                finally { if (e_153) throw e_153.error; }
                            }
                        }
                        function Es(t) { return !!Wn(t) && t === t.ownerDocument.body; }
                        function Ps(_j) {
                            var t = _j.target, _q = _j.viewportOffset, e = _q === void 0 ? 0 : _q;
                            var n = js(t);
                            var i = n, o = null;
                            for (; i;) {
                                var r_11 = void 0;
                                Ns(r_11 = Bs(i == n ? t : o), function () { return Ls(t, i); });
                                var s_9 = Ls(t, i);
                                if (Is(i, s_9, e), i.parent != i) {
                                    if (o = i.frameElement, i = i.parent, !o)
                                        return;
                                }
                                else
                                    i = null;
                            }
                        }
                        function Is(t, e, n) { var i = e.clone().moveBy(0, n), o = e.clone().moveBy(0, -n), r = new As(t).excludeScrollbarsAndBorders(); if (![o, i].every(function (t) { return r.contains(t); })) {
                            var s_10 = t.scrollX, a_6 = t.scrollY;
                            Os(o, r) ? a_6 -= r.top - e.top + n : Ms(i, r) && (a_6 += e.bottom - r.bottom + n), Rs(e, r) ? s_10 -= r.left - e.left + n : Ds(e, r) && (s_10 += e.right - r.right + n), t.scrollTo(s_10, a_6);
                        } }
                        function Ns(t, e) { var n = js(t); var i, o; for (; t != n.document.body;)
                            o = e(), (i = new As(t).excludeScrollbarsAndBorders()).contains(o) || (Os(o, i) ? t.scrollTop -= i.top - o.top : Ms(o, i) && (t.scrollTop += o.bottom - i.bottom), Rs(o, i) ? t.scrollLeft -= i.left - o.left : Ds(o, i) && (t.scrollLeft += o.right - i.right)), t = t.parentNode; }
                        function Ms(t, e) { return t.bottom > e.bottom; }
                        function Os(t, e) { return t.top < e.top; }
                        function Rs(t, e) { return t.left < e.left; }
                        function Ds(t, e) { return t.right > e.right; }
                        function js(t) { return _s(t) ? t.startContainer.ownerDocument.defaultView : t.ownerDocument.defaultView; }
                        function Bs(t) { if (_s(t)) {
                            var e_154 = t.commonAncestorContainer;
                            return Bo(e_154) && (e_154 = e_154.parentNode), e_154;
                        } return t.parentNode; }
                        function Ls(t, e) { var n = js(t), i = new As(t); if (n === e)
                            return i; {
                            var t_75 = n;
                            for (; t_75 != e;) {
                                var e_155 = t_75.frameElement, n_72 = new As(e_155).excludeScrollbarsAndBorders();
                                i.moveBy(n_72.left, n_72.top), t_75 = t_75.parent;
                            }
                        } return i; }
                        Object.assign({}, { scrollViewportToShowTarget: Ps, scrollAncestorsToShowTarget: function (t) { Ns(Bs(t), function () { return new As(t); }); } });
                        var Vs = /** @class */ (function () {
                            function Vs() {
                                var _this = this;
                                this.document = new so, this.domConverter = new sr, this.domRoots = new Map, this.set("isRenderingInProgress", !1), this._renderer = new Xo(this.domConverter, this.document.selection), this._renderer.bind("isFocused").to(this.document), this._initialDomRootAttributes = new WeakMap, this._observers = new Map, this._ongoingChange = !1, this._postFixersInProgress = !1, this._renderingDisabled = !1, this._hasChangedSinceTheLastRendering = !1, this._writer = new So(this.document), this.addObserver(ts), this.addObserver(ks), this.addObserver(ws), this.addObserver(is), this.addObserver(bs), this.addObserver(vs), mo.isAndroid && this.addObserver(ys), function (t) { t.document.on("keydown", Yo); }(this), Co(this), this.on("render", function () { _this._render(), _this.document.fire("layoutChanged"), _this._hasChangedSinceTheLastRendering = !1; }), this.listenTo(this.document.selection, "change", function () { _this._hasChangedSinceTheLastRendering = !0; });
                            }
                            Vs.prototype.attachDomRoot = function (t, e) {
                                var _this = this;
                                var e_156, _j, e_157, _q;
                                if (e === void 0) { e = "main"; }
                                var n = this.document.getRoot(e);
                                n._name = t.tagName.toLowerCase();
                                var i = {};
                                try {
                                    for (var _z = __values(Array.from(t.attributes)), _0 = _z.next(); !_0.done; _0 = _z.next()) {
                                        var _1 = _0.value, e_158 = _1.name, o_28 = _1.value;
                                        i[e_158] = o_28, "class" === e_158 ? this._writer.addClass(o_28.split(" "), n) : this._writer.setAttribute(e_158, o_28, n);
                                    }
                                }
                                catch (e_156_1) { e_156 = { error: e_156_1 }; }
                                finally {
                                    try {
                                        if (_0 && !_0.done && (_j = _z.return)) _j.call(_z);
                                    }
                                    finally { if (e_156) throw e_156.error; }
                                }
                                this._initialDomRootAttributes.set(t, i);
                                var o = function () { _this._writer.setAttribute("contenteditable", !n.isReadOnly, n), n.isReadOnly ? _this._writer.addClass("ck-read-only", n) : _this._writer.removeClass("ck-read-only", n); };
                                o(), this.domRoots.set(e, t), this.domConverter.bindElements(t, n), this._renderer.markToSync("children", n), this._renderer.markToSync("attributes", n), this._renderer.domDocuments.add(t.ownerDocument), n.on("change:children", function (t, e) { return _this._renderer.markToSync("children", e); }), n.on("change:attributes", function (t, e) { return _this._renderer.markToSync("attributes", e); }), n.on("change:text", function (t, e) { return _this._renderer.markToSync("text", e); }), n.on("change:isReadOnly", function () { return _this.change(o); }), n.on("change", function () { _this._hasChangedSinceTheLastRendering = !0; });
                                try {
                                    for (var _2 = __values(this._observers.values()), _3 = _2.next(); !_3.done; _3 = _2.next()) {
                                        var n_73 = _3.value;
                                        n_73.observe(t, e);
                                    }
                                }
                                catch (e_157_1) { e_157 = { error: e_157_1 }; }
                                finally {
                                    try {
                                        if (_3 && !_3.done && (_q = _2.return)) _q.call(_2);
                                    }
                                    finally { if (e_157) throw e_157.error; }
                                }
                            };
                            Vs.prototype.detachDomRoot = function (t) { var e = this.domRoots.get(t); Array.from(e.attributes).forEach(function (_j) {
                                var t = _j.name;
                                return e.removeAttribute(t);
                            }); var n = this._initialDomRootAttributes.get(e); for (var t_76 in n)
                                e.setAttribute(t_76, n[t_76]); this.domRoots.delete(t), this.domConverter.unbindDomElement(e); };
                            Vs.prototype.getDomRoot = function (t) {
                                if (t === void 0) { t = "main"; }
                                return this.domRoots.get(t);
                            };
                            Vs.prototype.addObserver = function (t) {
                                var e_159, _j;
                                var e = this._observers.get(t);
                                if (e)
                                    return e;
                                e = new t(this), this._observers.set(t, e);
                                try {
                                    for (var _q = __values(this.domRoots), _z = _q.next(); !_z.done; _z = _q.next()) {
                                        var _0 = __read(_z.value, 2), t_77 = _0[0], n_74 = _0[1];
                                        e.observe(n_74, t_77);
                                    }
                                }
                                catch (e_159_1) { e_159 = { error: e_159_1 }; }
                                finally {
                                    try {
                                        if (_z && !_z.done && (_j = _q.return)) _j.call(_q);
                                    }
                                    finally { if (e_159) throw e_159.error; }
                                }
                                return e.enable(), e;
                            };
                            Vs.prototype.getObserver = function (t) { return this._observers.get(t); };
                            Vs.prototype.disableObservers = function () {
                                var e_160, _j;
                                try {
                                    for (var _q = __values(this._observers.values()), _z = _q.next(); !_z.done; _z = _q.next()) {
                                        var t_78 = _z.value;
                                        t_78.disable();
                                    }
                                }
                                catch (e_160_1) { e_160 = { error: e_160_1 }; }
                                finally {
                                    try {
                                        if (_z && !_z.done && (_j = _q.return)) _j.call(_q);
                                    }
                                    finally { if (e_160) throw e_160.error; }
                                }
                            };
                            Vs.prototype.enableObservers = function () {
                                var e_161, _j;
                                try {
                                    for (var _q = __values(this._observers.values()), _z = _q.next(); !_z.done; _z = _q.next()) {
                                        var t_79 = _z.value;
                                        t_79.enable();
                                    }
                                }
                                catch (e_161_1) { e_161 = { error: e_161_1 }; }
                                finally {
                                    try {
                                        if (_z && !_z.done && (_j = _q.return)) _j.call(_q);
                                    }
                                    finally { if (e_161) throw e_161.error; }
                                }
                            };
                            Vs.prototype.scrollToTheSelection = function () { var t = this.document.selection.getFirstRange(); t && Ps({ target: this.domConverter.viewRangeToDom(t), viewportOffset: 20 }); };
                            Vs.prototype.focus = function () { if (!this.document.isFocused) {
                                var t_80 = this.document.selection.editableElement;
                                t_80 && (this.domConverter.focus(t_80), this.forceRender());
                            } };
                            Vs.prototype.change = function (t) { if (this.isRenderingInProgress || this._postFixersInProgress)
                                throw new Gn.b("cannot-change-view-tree: Attempting to make changes to the view when it is in an incorrect state: rendering or post-fixers are in progress. This may cause some unexpected behavior and inconsistency between the DOM and the view.", this); try {
                                if (this._ongoingChange)
                                    return t(this._writer);
                                this._ongoingChange = !0;
                                var e_162 = t(this._writer);
                                return this._ongoingChange = !1, !this._renderingDisabled && this._hasChangedSinceTheLastRendering && (this._postFixersInProgress = !0, this.document._callPostFixers(this._writer), this._postFixersInProgress = !1, this.fire("render")), e_162;
                            }
                            catch (t) {
                                Gn.b.rethrowUnexpectedError(t, this);
                            } };
                            Vs.prototype.forceRender = function () { this._hasChangedSinceTheLastRendering = !0, this.change(function () { }); };
                            Vs.prototype.destroy = function () {
                                var e_163, _j;
                                try {
                                    for (var _q = __values(this._observers.values()), _z = _q.next(); !_z.done; _z = _q.next()) {
                                        var t_81 = _z.value;
                                        t_81.destroy();
                                    }
                                }
                                catch (e_163_1) { e_163 = { error: e_163_1 }; }
                                finally {
                                    try {
                                        if (_z && !_z.done && (_j = _q.return)) _j.call(_q);
                                    }
                                    finally { if (e_163) throw e_163.error; }
                                }
                                this.document.destroy(), this.stopListening();
                            };
                            Vs.prototype.createPositionAt = function (t, e) { return Xi._createAt(t, e); };
                            Vs.prototype.createPositionAfter = function (t) { return Xi._createAfter(t); };
                            Vs.prototype.createPositionBefore = function (t) { return Xi._createBefore(t); };
                            Vs.prototype.createRange = function (t, e) { return new to(t, e); };
                            Vs.prototype.createRangeOn = function (t) { return to._createOn(t); };
                            Vs.prototype.createRangeIn = function (t) { return to._createIn(t); };
                            Vs.prototype.createSelection = function (t, e, n) { return new io(t, e, n); };
                            Vs.prototype._disableRendering = function (t) { this._renderingDisabled = t, 0 == t && this.change(function () { }); };
                            Vs.prototype._render = function () { this.isRenderingInProgress = !0, this.disableObservers(), this._renderer.render(), this.enableObservers(), this.isRenderingInProgress = !1; };
                            return Vs;
                        }());
                        function Fs(t) { return A(t) ? gi(t) : new Map(t); }
                        li(Vs, Ui);
                        var zs = /** @class */ (function () {
                            function zs(t) {
                                this.parent = null, this._attrs = Fs(t);
                            }
                            Object.defineProperty(zs.prototype, "index", {
                                get: function () { var t; if (!this.parent)
                                    return null; if (null === (t = this.parent.getChildIndex(this)))
                                    throw new Gn.b("model-node-not-found-in-parent: The node's parent does not contain this node.", this); return t; },
                                enumerable: true,
                                configurable: true
                            });
                            Object.defineProperty(zs.prototype, "startOffset", {
                                get: function () { var t; if (!this.parent)
                                    return null; if (null === (t = this.parent.getChildStartOffset(this)))
                                    throw new Gn.b("model-node-not-found-in-parent: The node's parent does not contain this node.", this); return t; },
                                enumerable: true,
                                configurable: true
                            });
                            Object.defineProperty(zs.prototype, "offsetSize", {
                                get: function () { return 1; },
                                enumerable: true,
                                configurable: true
                            });
                            Object.defineProperty(zs.prototype, "endOffset", {
                                get: function () { return this.parent ? this.startOffset + this.offsetSize : null; },
                                enumerable: true,
                                configurable: true
                            });
                            Object.defineProperty(zs.prototype, "nextSibling", {
                                get: function () { var t = this.index; return null !== t && this.parent.getChild(t + 1) || null; },
                                enumerable: true,
                                configurable: true
                            });
                            Object.defineProperty(zs.prototype, "previousSibling", {
                                get: function () { var t = this.index; return null !== t && this.parent.getChild(t - 1) || null; },
                                enumerable: true,
                                configurable: true
                            });
                            Object.defineProperty(zs.prototype, "root", {
                                get: function () { var t = this; for (; t.parent;)
                                    t = t.parent; return t; },
                                enumerable: true,
                                configurable: true
                            });
                            Object.defineProperty(zs.prototype, "document", {
                                get: function () { return this.root == this ? null : this.root.document || null; },
                                enumerable: true,
                                configurable: true
                            });
                            zs.prototype.getPath = function () { var t = []; var e = this; for (; e.parent;)
                                t.unshift(e.startOffset), e = e.parent; return t; };
                            zs.prototype.getAncestors = function (t) {
                                if (t === void 0) { t = { includeSelf: !1, parentFirst: !1 }; }
                                var e = [];
                                var n = t.includeSelf ? this : this.parent;
                                for (; n;)
                                    e[t.parentFirst ? "push" : "unshift"](n), n = n.parent;
                                return e;
                            };
                            zs.prototype.getCommonAncestor = function (t, e) {
                                if (e === void 0) { e = {}; }
                                var n = this.getAncestors(e), i = t.getAncestors(e);
                                var o = 0;
                                for (; n[o] == i[o] && n[o];)
                                    o++;
                                return 0 === o ? null : n[o - 1];
                            };
                            zs.prototype.isBefore = function (t) { if (this == t)
                                return !1; if (this.root !== t.root)
                                return !1; var e = this.getPath(), n = t.getPath(), i = di(e, n); switch (i) {
                                case "prefix": return !0;
                                case "extension": return !1;
                                default: return e[i] < n[i];
                            } };
                            zs.prototype.isAfter = function (t) { return this != t && (this.root === t.root && !this.isBefore(t)); };
                            zs.prototype.hasAttribute = function (t) { return this._attrs.has(t); };
                            zs.prototype.getAttribute = function (t) { return this._attrs.get(t); };
                            zs.prototype.getAttributes = function () { return this._attrs.entries(); };
                            zs.prototype.getAttributeKeys = function () { return this._attrs.keys(); };
                            zs.prototype.toJSON = function () { var t = {}; return this._attrs.size && (t.attributes = Array.from(this._attrs).reduce(function (t, e) { return (t[e[0]] = e[1], t); }, {})), t; };
                            zs.prototype.is = function (t) { return "node" == t || "model:node" == t; };
                            zs.prototype._clone = function () { return new zs(this._attrs); };
                            zs.prototype._remove = function () { this.parent._removeChildren(this.index); };
                            zs.prototype._setAttribute = function (t, e) { this._attrs.set(t, e); };
                            zs.prototype._setAttributesTo = function (t) { this._attrs = Fs(t); };
                            zs.prototype._removeAttribute = function (t) { return this._attrs.delete(t); };
                            zs.prototype._clearAttributes = function () { this._attrs.clear(); };
                            return zs;
                        }());
                        var Us = /** @class */ (function (_super) {
                            __extends(Us, _super);
                            function Us(t, e) {
                                var _this = this;
                                _this = _super.call(this, e) || this, _this._data = t || "";
                                return _this;
                            }
                            Object.defineProperty(Us.prototype, "offsetSize", {
                                get: function () { return this.data.length; },
                                enumerable: true,
                                configurable: true
                            });
                            Object.defineProperty(Us.prototype, "data", {
                                get: function () { return this._data; },
                                enumerable: true,
                                configurable: true
                            });
                            Us.prototype.is = function (t) { return "text" == t || "model:text" == t || _super.prototype.is.call(this, t); };
                            Us.prototype.toJSON = function () { var t = _super.prototype.toJSON.call(this); return t.data = this.data, t; };
                            Us.prototype._clone = function () { return new Us(this.data, this.getAttributes()); };
                            Us.fromJSON = function (t) { return new Us(t.data, t.attributes); };
                            return Us;
                        }(zs));
                        var Hs = /** @class */ (function () {
                            function Hs(t, e, n) {
                                if (this.textNode = t, e < 0 || e > t.offsetSize)
                                    throw new Gn.b("model-textproxy-wrong-offsetintext: Given offsetInText value is incorrect.", this);
                                if (n < 0 || e + n > t.offsetSize)
                                    throw new Gn.b("model-textproxy-wrong-length: Given length value is incorrect.", this);
                                this.data = t.data.substring(e, e + n), this.offsetInText = e;
                            }
                            Object.defineProperty(Hs.prototype, "startOffset", {
                                get: function () { return null !== this.textNode.startOffset ? this.textNode.startOffset + this.offsetInText : null; },
                                enumerable: true,
                                configurable: true
                            });
                            Object.defineProperty(Hs.prototype, "offsetSize", {
                                get: function () { return this.data.length; },
                                enumerable: true,
                                configurable: true
                            });
                            Object.defineProperty(Hs.prototype, "endOffset", {
                                get: function () { return null !== this.startOffset ? this.startOffset + this.offsetSize : null; },
                                enumerable: true,
                                configurable: true
                            });
                            Object.defineProperty(Hs.prototype, "isPartial", {
                                get: function () { return this.offsetSize !== this.textNode.offsetSize; },
                                enumerable: true,
                                configurable: true
                            });
                            Object.defineProperty(Hs.prototype, "parent", {
                                get: function () { return this.textNode.parent; },
                                enumerable: true,
                                configurable: true
                            });
                            Object.defineProperty(Hs.prototype, "root", {
                                get: function () { return this.textNode.root; },
                                enumerable: true,
                                configurable: true
                            });
                            Object.defineProperty(Hs.prototype, "document", {
                                get: function () { return this.textNode.document; },
                                enumerable: true,
                                configurable: true
                            });
                            Hs.prototype.is = function (t) { return "textProxy" == t || "model:textProxy" == t; };
                            Hs.prototype.getPath = function () { var t = this.textNode.getPath(); return t.length > 0 && (t[t.length - 1] += this.offsetInText), t; };
                            Hs.prototype.getAncestors = function (t) {
                                if (t === void 0) { t = { includeSelf: !1, parentFirst: !1 }; }
                                var e = [];
                                var n = t.includeSelf ? this : this.parent;
                                for (; n;)
                                    e[t.parentFirst ? "push" : "unshift"](n), n = n.parent;
                                return e;
                            };
                            Hs.prototype.hasAttribute = function (t) { return this.textNode.hasAttribute(t); };
                            Hs.prototype.getAttribute = function (t) { return this.textNode.getAttribute(t); };
                            Hs.prototype.getAttributes = function () { return this.textNode.getAttributes(); };
                            Hs.prototype.getAttributeKeys = function () { return this.textNode.getAttributeKeys(); };
                            return Hs;
                        }());
                        var qs = /** @class */ (function () {
                            function qs(t) {
                                this._nodes = [], t && this._insertNodes(0, t);
                            }
                            qs.prototype[Symbol.iterator] = function () { return this._nodes[Symbol.iterator](); };
                            Object.defineProperty(qs.prototype, "length", {
                                get: function () { return this._nodes.length; },
                                enumerable: true,
                                configurable: true
                            });
                            Object.defineProperty(qs.prototype, "maxOffset", {
                                get: function () { return this._nodes.reduce(function (t, e) { return t + e.offsetSize; }, 0); },
                                enumerable: true,
                                configurable: true
                            });
                            qs.prototype.getNode = function (t) { return this._nodes[t] || null; };
                            qs.prototype.getNodeIndex = function (t) { var e = this._nodes.indexOf(t); return -1 == e ? null : e; };
                            qs.prototype.getNodeStartOffset = function (t) { var e = this.getNodeIndex(t); return null === e ? null : this._nodes.slice(0, e).reduce(function (t, e) { return t + e.offsetSize; }, 0); };
                            qs.prototype.indexToOffset = function (t) { if (t == this._nodes.length)
                                return this.maxOffset; var e = this._nodes[t]; if (!e)
                                throw new Gn.b("model-nodelist-index-out-of-bounds: Given index cannot be found in the node list.", this); return this.getNodeStartOffset(e); };
                            qs.prototype.offsetToIndex = function (t) {
                                var e_164, _j;
                                var e = 0;
                                try {
                                    for (var _q = __values(this._nodes), _z = _q.next(); !_z.done; _z = _q.next()) {
                                        var n_75 = _z.value;
                                        if (t >= e && t < e + n_75.offsetSize)
                                            return this.getNodeIndex(n_75);
                                        e += n_75.offsetSize;
                                    }
                                }
                                catch (e_164_1) { e_164 = { error: e_164_1 }; }
                                finally {
                                    try {
                                        if (_z && !_z.done && (_j = _q.return)) _j.call(_q);
                                    }
                                    finally { if (e_164) throw e_164.error; }
                                }
                                if (e != t)
                                    throw new Gn.b("model-nodelist-offset-out-of-bounds: Given offset cannot be found in the node list.", this, { offset: t, nodeList: this });
                                return this.length;
                            };
                            qs.prototype._insertNodes = function (t, e) {
                                var e_165, _j, _q;
                                try {
                                    for (var e_166 = __values(e), e_166_1 = e_166.next(); !e_166_1.done; e_166_1 = e_166.next()) {
                                        var t_82 = e_166_1.value;
                                        if (!(t_82 instanceof zs))
                                            throw new Gn.b("model-nodelist-insertNodes-not-node: Trying to insert an object which is not a Node instance.", this);
                                    }
                                }
                                catch (e_165_1) { e_165 = { error: e_165_1 }; }
                                finally {
                                    try {
                                        if (e_166_1 && !e_166_1.done && (_j = e_166.return)) _j.call(e_166);
                                    }
                                    finally { if (e_165) throw e_165.error; }
                                }
                                (_q = this._nodes).splice.apply(_q, __spread([t, 0], e));
                            };
                            qs.prototype._removeNodes = function (t, e) {
                                if (e === void 0) { e = 1; }
                                return this._nodes.splice(t, e);
                            };
                            qs.prototype.toJSON = function () { return this._nodes.map(function (t) { return t.toJSON(); }); };
                            return qs;
                        }());
                        var Ys = /** @class */ (function (_super) {
                            __extends(Ys, _super);
                            function Ys(t, e, n) {
                                var _this = this;
                                _this = _super.call(this, e) || this, _this.name = t, _this._children = new qs, n && _this._insertChild(0, n);
                                return _this;
                            }
                            Object.defineProperty(Ys.prototype, "childCount", {
                                get: function () { return this._children.length; },
                                enumerable: true,
                                configurable: true
                            });
                            Object.defineProperty(Ys.prototype, "maxOffset", {
                                get: function () { return this._children.maxOffset; },
                                enumerable: true,
                                configurable: true
                            });
                            Object.defineProperty(Ys.prototype, "isEmpty", {
                                get: function () { return 0 === this.childCount; },
                                enumerable: true,
                                configurable: true
                            });
                            Ys.prototype.is = function (t, e) {
                                if (e === void 0) { e = null; }
                                var n = t.replace(/^model:/, "");
                                return e ? "element" == n && e == this.name : "element" == n || n == this.name || _super.prototype.is.call(this, t);
                            };
                            Ys.prototype.getChild = function (t) { return this._children.getNode(t); };
                            Ys.prototype.getChildren = function () { return this._children[Symbol.iterator](); };
                            Ys.prototype.getChildIndex = function (t) { return this._children.getNodeIndex(t); };
                            Ys.prototype.getChildStartOffset = function (t) { return this._children.getNodeStartOffset(t); };
                            Ys.prototype.offsetToIndex = function (t) { return this._children.offsetToIndex(t); };
                            Ys.prototype.getNodeByPath = function (t) {
                                var e_167, _j;
                                var e = this;
                                try {
                                    for (var t_83 = __values(t), t_83_1 = t_83.next(); !t_83_1.done; t_83_1 = t_83.next()) {
                                        var n_76 = t_83_1.value;
                                        e = e.getChild(e.offsetToIndex(n_76));
                                    }
                                }
                                catch (e_167_1) { e_167 = { error: e_167_1 }; }
                                finally {
                                    try {
                                        if (t_83_1 && !t_83_1.done && (_j = t_83.return)) _j.call(t_83);
                                    }
                                    finally { if (e_167) throw e_167.error; }
                                }
                                return e;
                            };
                            Ys.prototype.toJSON = function () {
                                var e_168, _j;
                                var t = _super.prototype.toJSON.call(this);
                                if (t.name = this.name, this._children.length > 0) {
                                    t.children = [];
                                    try {
                                        for (var _q = __values(this._children), _z = _q.next(); !_z.done; _z = _q.next()) {
                                            var e_169 = _z.value;
                                            t.children.push(e_169.toJSON());
                                        }
                                    }
                                    catch (e_168_1) { e_168 = { error: e_168_1 }; }
                                    finally {
                                        try {
                                            if (_z && !_z.done && (_j = _q.return)) _j.call(_q);
                                        }
                                        finally { if (e_168) throw e_168.error; }
                                    }
                                }
                                return t;
                            };
                            Ys.prototype._clone = function (t) {
                                if (t === void 0) { t = !1; }
                                var e = t ? Array.from(this._children).map(function (t) { return t._clone(!0); }) : null;
                                return new Ys(this.name, this.getAttributes(), e);
                            };
                            Ys.prototype._appendChild = function (t) { this._insertChild(this.childCount, t); };
                            Ys.prototype._insertChild = function (t, e) {
                                var e_170, _j;
                                var n = function (t) { if ("string" == typeof t)
                                    return [new Us(t)]; xi(t) || (t = [t]); return Array.from(t).map(function (t) { return "string" == typeof t ? new Us(t) : t instanceof Hs ? new Us(t.data, t.getAttributes()) : t; }); }(e);
                                try {
                                    for (var n_77 = __values(n), n_77_1 = n_77.next(); !n_77_1.done; n_77_1 = n_77.next()) {
                                        var t_84 = n_77_1.value;
                                        null !== t_84.parent && t_84._remove(), t_84.parent = this;
                                    }
                                }
                                catch (e_170_1) { e_170 = { error: e_170_1 }; }
                                finally {
                                    try {
                                        if (n_77_1 && !n_77_1.done && (_j = n_77.return)) _j.call(n_77);
                                    }
                                    finally { if (e_170) throw e_170.error; }
                                }
                                this._children._insertNodes(t, n);
                            };
                            Ys.prototype._removeChildren = function (t, e) {
                                var e_171, _j;
                                if (e === void 0) { e = 1; }
                                var n = this._children._removeNodes(t, e);
                                try {
                                    for (var n_78 = __values(n), n_78_1 = n_78.next(); !n_78_1.done; n_78_1 = n_78.next()) {
                                        var t_85 = n_78_1.value;
                                        t_85.parent = null;
                                    }
                                }
                                catch (e_171_1) { e_171 = { error: e_171_1 }; }
                                finally {
                                    try {
                                        if (n_78_1 && !n_78_1.done && (_j = n_78.return)) _j.call(n_78);
                                    }
                                    finally { if (e_171) throw e_171.error; }
                                }
                                return n;
                            };
                            Ys.fromJSON = function (t) {
                                var e_172, _j;
                                var e = null;
                                if (t.children) {
                                    e = [];
                                    try {
                                        for (var _q = __values(t.children), _z = _q.next(); !_z.done; _z = _q.next()) {
                                            var n_79 = _z.value;
                                            n_79.name ? e.push(Ys.fromJSON(n_79)) : e.push(Us.fromJSON(n_79));
                                        }
                                    }
                                    catch (e_172_1) { e_172 = { error: e_172_1 }; }
                                    finally {
                                        try {
                                            if (_z && !_z.done && (_j = _q.return)) _j.call(_q);
                                        }
                                        finally { if (e_172) throw e_172.error; }
                                    }
                                }
                                return new Ys(t.name, t.attributes, e);
                            };
                            return Ys;
                        }(zs));
                        var Ws = /** @class */ (function () {
                            function Ws(t) {
                                if (t === void 0) { t = {}; }
                                if (!t.boundaries && !t.startPosition)
                                    throw new Gn.b("model-tree-walker-no-start-position: Neither boundaries nor starting position have been defined.", null);
                                var e = t.direction || "forward";
                                if ("forward" != e && "backward" != e)
                                    throw new Gn.b("model-tree-walker-unknown-direction: Only `backward` and `forward` direction allowed.", t, { direction: e });
                                this.direction = e, this.boundaries = t.boundaries || null, t.startPosition ? this.position = t.startPosition.clone() : this.position = Gs._createAt(this.boundaries["backward" == this.direction ? "end" : "start"]), this.position.stickiness = "toNone", this.singleCharacters = !!t.singleCharacters, this.shallow = !!t.shallow, this.ignoreElementEnd = !!t.ignoreElementEnd, this._boundaryStartParent = this.boundaries ? this.boundaries.start.parent : null, this._boundaryEndParent = this.boundaries ? this.boundaries.end.parent : null, this._visitedParent = this.position.parent;
                            }
                            Ws.prototype[Symbol.iterator] = function () { return this; };
                            Ws.prototype.skip = function (t) {
                                var _j;
                                var e, n, i, o;
                                do {
                                    i = this.position, o = this._visitedParent, (_j = this.next(), e = _j.done, n = _j.value, _j);
                                } while (!e && t(n));
                                e || (this.position = i, this._visitedParent = o);
                            };
                            Ws.prototype.next = function () { return "forward" == this.direction ? this._next() : this._previous(); };
                            Ws.prototype._next = function () { var t = this.position, e = this.position.clone(), n = this._visitedParent; if (null === n.parent && e.offset === n.maxOffset)
                                return { done: !0 }; if (n === this._boundaryEndParent && e.offset == this.boundaries.end.offset)
                                return { done: !0 }; var i = e.textNode ? e.textNode : e.nodeAfter; if (i instanceof Ys)
                                return this.shallow ? e.offset++ : (e.path.push(0), this._visitedParent = i), this.position = e, Js("elementStart", i, t, e, 1); if (i instanceof Us) {
                                var o_29;
                                if (this.singleCharacters)
                                    o_29 = 1;
                                else {
                                    var t_86 = i.endOffset;
                                    this._boundaryEndParent == n && this.boundaries.end.offset < t_86 && (t_86 = this.boundaries.end.offset), o_29 = t_86 - e.offset;
                                }
                                var r_12 = e.offset - i.startOffset, s_11 = new Hs(i, r_12, o_29);
                                return e.offset += o_29, this.position = e, Js("text", s_11, t, e, o_29);
                            } return e.path.pop(), e.offset++, this.position = e, this._visitedParent = n.parent, this.ignoreElementEnd ? this._next() : Js("elementEnd", n, t, e); };
                            Ws.prototype._previous = function () { var t = this.position, e = this.position.clone(), n = this._visitedParent; if (null === n.parent && 0 === e.offset)
                                return { done: !0 }; if (n == this._boundaryStartParent && e.offset == this.boundaries.start.offset)
                                return { done: !0 }; var i = e.textNode ? e.textNode : e.nodeBefore; if (i instanceof Ys)
                                return e.offset--, this.shallow ? (this.position = e, Js("elementStart", i, t, e, 1)) : (e.path.push(i.maxOffset), this.position = e, this._visitedParent = i, this.ignoreElementEnd ? this._previous() : Js("elementEnd", i, t, e)); if (i instanceof Us) {
                                var o_30;
                                if (this.singleCharacters)
                                    o_30 = 1;
                                else {
                                    var t_87 = i.startOffset;
                                    this._boundaryStartParent == n && this.boundaries.start.offset > t_87 && (t_87 = this.boundaries.start.offset), o_30 = e.offset - t_87;
                                }
                                var r_13 = e.offset - i.startOffset, s_12 = new Hs(i, r_13 - o_30, o_30);
                                return e.offset -= o_30, this.position = e, Js("text", s_12, t, e, o_30);
                            } return e.path.pop(), this.position = e, this._visitedParent = n.parent, Js("elementStart", n, t, e, 1); };
                            return Ws;
                        }());
                        function Js(t, e, n, i, o) { return { done: !1, value: { type: t, item: e, previousPosition: n, nextPosition: i, length: o } }; }
                        var $s = function (t) { var e = null == t ? 0 : t.length; return e ? t[e - 1] : void 0; };
                        var Gs = /** @class */ (function () {
                            function Gs(t, e, n) {
                                if (n === void 0) { n = "toNone"; }
                                if (!t.is("element") && !t.is("documentFragment"))
                                    throw new Gn.b("model-position-root-invalid: Position root invalid.", t);
                                if (!(e instanceof Array) || 0 === e.length)
                                    throw new Gn.b("model-position-path-incorrect-format: Position path must be an array with at least one item.", t, { path: e });
                                e = t.getPath().concat(e), t = t.root, this.root = t, this.path = e, this.stickiness = n;
                            }
                            Object.defineProperty(Gs.prototype, "offset", {
                                get: function () { return $s(this.path); },
                                set: function (t) { this.path[this.path.length - 1] = t; },
                                enumerable: true,
                                configurable: true
                            });
                            Object.defineProperty(Gs.prototype, "parent", {
                                get: function () { var t = this.root; for (var e_173 = 0; e_173 < this.path.length - 1; e_173++)
                                    if (!(t = t.getChild(t.offsetToIndex(this.path[e_173]))))
                                        throw new Gn.b("model-position-path-incorrect: The position's path is incorrect.", this, { position: this }); if (t.is("text"))
                                    throw new Gn.b("model-position-path-incorrect: The position's path is incorrect.", this, { position: this }); return t; },
                                enumerable: true,
                                configurable: true
                            });
                            Object.defineProperty(Gs.prototype, "index", {
                                get: function () { return this.parent.offsetToIndex(this.offset); },
                                enumerable: true,
                                configurable: true
                            });
                            Object.defineProperty(Gs.prototype, "textNode", {
                                get: function () { var t = this.parent.getChild(this.index); return t instanceof Us && t.startOffset < this.offset ? t : null; },
                                enumerable: true,
                                configurable: true
                            });
                            Object.defineProperty(Gs.prototype, "nodeAfter", {
                                get: function () { return null === this.textNode ? this.parent.getChild(this.index) : null; },
                                enumerable: true,
                                configurable: true
                            });
                            Object.defineProperty(Gs.prototype, "nodeBefore", {
                                get: function () { return null === this.textNode ? this.parent.getChild(this.index - 1) : null; },
                                enumerable: true,
                                configurable: true
                            });
                            Object.defineProperty(Gs.prototype, "isAtStart", {
                                get: function () { return 0 === this.offset; },
                                enumerable: true,
                                configurable: true
                            });
                            Object.defineProperty(Gs.prototype, "isAtEnd", {
                                get: function () { return this.offset == this.parent.maxOffset; },
                                enumerable: true,
                                configurable: true
                            });
                            Gs.prototype.compareWith = function (t) { if (this.root != t.root)
                                return "different"; var e = di(this.path, t.path); switch (e) {
                                case "same": return "same";
                                case "prefix": return "before";
                                case "extension": return "after";
                                default: return this.path[e] < t.path[e] ? "before" : "after";
                            } };
                            Gs.prototype.getLastMatchingPosition = function (t, e) {
                                if (e === void 0) { e = {}; }
                                e.startPosition = this;
                                var n = new Ws(e);
                                return n.skip(t), n.position;
                            };
                            Gs.prototype.getParentPath = function () { return this.path.slice(0, -1); };
                            Gs.prototype.getAncestors = function () { return this.parent.is("documentFragment") ? [this.parent] : this.parent.getAncestors({ includeSelf: !0 }); };
                            Gs.prototype.getCommonPath = function (t) { if (this.root != t.root)
                                return []; var e = di(this.path, t.path), n = "string" == typeof e ? Math.min(this.path.length, t.path.length) : e; return this.path.slice(0, n); };
                            Gs.prototype.getCommonAncestor = function (t) { var e = this.getAncestors(), n = t.getAncestors(); var i = 0; for (; e[i] == n[i] && e[i];)
                                i++; return 0 === i ? null : e[i - 1]; };
                            Gs.prototype.getShiftedBy = function (t) { var e = this.clone(), n = e.offset + t; return e.offset = n < 0 ? 0 : n, e; };
                            Gs.prototype.isAfter = function (t) { return "after" == this.compareWith(t); };
                            Gs.prototype.isBefore = function (t) { return "before" == this.compareWith(t); };
                            Gs.prototype.isEqual = function (t) { return "same" == this.compareWith(t); };
                            Gs.prototype.isTouching = function (t) { var e = null, n = null; switch (this.compareWith(t)) {
                                case "same": return !0;
                                case "before":
                                    e = Gs._createAt(this), n = Gs._createAt(t);
                                    break;
                                case "after":
                                    e = Gs._createAt(t), n = Gs._createAt(this);
                                    break;
                                default: return !1;
                            } var i = e.parent; for (; e.path.length + n.path.length;) {
                                if (e.isEqual(n))
                                    return !0;
                                if (e.path.length > n.path.length) {
                                    if (e.offset !== i.maxOffset)
                                        return !1;
                                    e.path = e.path.slice(0, -1), i = i.parent, e.offset++;
                                }
                                else {
                                    if (0 !== n.offset)
                                        return !1;
                                    n.path = n.path.slice(0, -1);
                                }
                            } };
                            Gs.prototype.is = function (t) { return "position" == t || "model:position" == t; };
                            Gs.prototype.hasSameParentAs = function (t) { if (this.root !== t.root)
                                return !1; return "same" == di(this.getParentPath(), t.getParentPath()); };
                            Gs.prototype.getTransformedByOperation = function (t) { var e; switch (t.type) {
                                case "insert":
                                    e = this._getTransformedByInsertOperation(t);
                                    break;
                                case "move":
                                case "remove":
                                case "reinsert":
                                    e = this._getTransformedByMoveOperation(t);
                                    break;
                                case "split":
                                    e = this._getTransformedBySplitOperation(t);
                                    break;
                                case "merge":
                                    e = this._getTransformedByMergeOperation(t);
                                    break;
                                default: e = Gs._createAt(this);
                            } return e; };
                            Gs.prototype._getTransformedByInsertOperation = function (t) { return this._getTransformedByInsertion(t.position, t.howMany); };
                            Gs.prototype._getTransformedByMoveOperation = function (t) { return this._getTransformedByMove(t.sourcePosition, t.targetPosition, t.howMany); };
                            Gs.prototype._getTransformedBySplitOperation = function (t) { var e = t.movedRange; return e.containsPosition(this) || e.start.isEqual(this) && "toNext" == this.stickiness ? this._getCombined(t.splitPosition, t.moveTargetPosition) : t.graveyardPosition ? this._getTransformedByMove(t.graveyardPosition, t.insertionPosition, 1) : this._getTransformedByInsertion(t.insertionPosition, 1); };
                            Gs.prototype._getTransformedByMergeOperation = function (t) { var e = t.movedRange; var n; return e.containsPosition(this) || e.start.isEqual(this) ? (n = this._getCombined(t.sourcePosition, t.targetPosition), t.sourcePosition.isBefore(t.targetPosition) && (n = n._getTransformedByDeletion(t.deletionPosition, 1))) : n = this.isEqual(t.deletionPosition) ? Gs._createAt(t.deletionPosition) : this._getTransformedByMove(t.deletionPosition, t.graveyardPosition, 1), n; };
                            Gs.prototype._getTransformedByDeletion = function (t, e) { var n = Gs._createAt(this); if (this.root != t.root)
                                return n; if ("same" == di(t.getParentPath(), this.getParentPath())) {
                                if (t.offset < this.offset) {
                                    if (t.offset + e > this.offset)
                                        return null;
                                    n.offset -= e;
                                }
                            }
                            else if ("prefix" == di(t.getParentPath(), this.getParentPath())) {
                                var i_42 = t.path.length - 1;
                                if (t.offset <= this.path[i_42]) {
                                    if (t.offset + e > this.path[i_42])
                                        return null;
                                    n.path[i_42] -= e;
                                }
                            } return n; };
                            Gs.prototype._getTransformedByInsertion = function (t, e) { var n = Gs._createAt(this); if (this.root != t.root)
                                return n; if ("same" == di(t.getParentPath(), this.getParentPath()))
                                (t.offset < this.offset || t.offset == this.offset && "toPrevious" != this.stickiness) && (n.offset += e);
                            else if ("prefix" == di(t.getParentPath(), this.getParentPath())) {
                                var i_43 = t.path.length - 1;
                                t.offset <= this.path[i_43] && (n.path[i_43] += e);
                            } return n; };
                            Gs.prototype._getTransformedByMove = function (t, e, n) { if (e = e._getTransformedByDeletion(t, n), t.isEqual(e))
                                return Gs._createAt(this); var i = this._getTransformedByDeletion(t, n); return null === i || t.isEqual(this) && "toNext" == this.stickiness || t.getShiftedBy(n).isEqual(this) && "toPrevious" == this.stickiness ? this._getCombined(t, e) : i._getTransformedByInsertion(e, n); };
                            Gs.prototype._getCombined = function (t, e) { var n = t.path.length - 1, i = Gs._createAt(e); return i.stickiness = this.stickiness, i.offset = i.offset + this.path[n] - t.offset, i.path = i.path.concat(this.path.slice(n + 1)), i; };
                            Gs.prototype.toJSON = function () { return { root: this.root.toJSON(), path: Array.from(this.path), stickiness: this.stickiness }; };
                            Gs.prototype.clone = function () { return new this.constructor(this.root, this.path, this.stickiness); };
                            Gs._createAt = function (t, e, n) {
                                if (n === void 0) { n = "toNone"; }
                                if (t instanceof Gs)
                                    return new Gs(t.root, t.path, t.stickiness);
                                {
                                    var i_44 = t;
                                    if ("end" == e)
                                        e = i_44.maxOffset;
                                    else {
                                        if ("before" == e)
                                            return this._createBefore(i_44, n);
                                        if ("after" == e)
                                            return this._createAfter(i_44, n);
                                        if (0 !== e && !e)
                                            throw new Gn.b("model-createPositionAt-offset-required: Model#createPositionAt() requires the offset when the first parameter is a model item.", [this, t]);
                                    }
                                    if (!i_44.is("element") && !i_44.is("documentFragment"))
                                        throw new Gn.b("model-position-parent-incorrect: Position parent have to be a element or document fragment.", [this, t]);
                                    var o_31 = i_44.getPath();
                                    return o_31.push(e), new this(i_44.root, o_31, n);
                                }
                            };
                            Gs._createAfter = function (t, e) { if (!t.parent)
                                throw new Gn.b("model-position-after-root: You cannot make a position after root.", [this, t], { root: t }); return this._createAt(t.parent, t.endOffset, e); };
                            Gs._createBefore = function (t, e) { if (!t.parent)
                                throw new Gn.b("model-position-before-root: You cannot make a position before root.", t, { root: t }); return this._createAt(t.parent, t.startOffset, e); };
                            Gs.fromJSON = function (t, e) { if ("$graveyard" === t.root) {
                                var n_80 = new Gs(e.graveyard, t.path);
                                return n_80.stickiness = t.stickiness, n_80;
                            } if (!e.getRoot(t.root))
                                throw new Gn.b("model-position-fromjson-no-root: Cannot create position for document. Root with specified name does not exist.", e, { rootName: t.root }); return new Gs(e.getRoot(t.root), t.path, t.stickiness); };
                            return Gs;
                        }());
                        var Ks = /** @class */ (function () {
                            function Ks(t, e) {
                                if (e === void 0) { e = null; }
                                this.start = Gs._createAt(t), this.end = e ? Gs._createAt(e) : Gs._createAt(t), this.start.stickiness = this.isCollapsed ? "toNone" : "toNext", this.end.stickiness = this.isCollapsed ? "toNone" : "toPrevious";
                            }
                            Ks.prototype[Symbol.iterator] = function () { return __generator(this, function (_j) {
                                switch (_j.label) {
                                    case 0: return [5 /*yield**/, __values(new Ws({ boundaries: this, ignoreElementEnd: !0 }))];
                                    case 1:
                                        _j.sent();
                                        return [2 /*return*/];
                                }
                            }); };
                            Object.defineProperty(Ks.prototype, "isCollapsed", {
                                get: function () { return this.start.isEqual(this.end); },
                                enumerable: true,
                                configurable: true
                            });
                            Object.defineProperty(Ks.prototype, "isFlat", {
                                get: function () { return "same" == di(this.start.getParentPath(), this.end.getParentPath()); },
                                enumerable: true,
                                configurable: true
                            });
                            Object.defineProperty(Ks.prototype, "root", {
                                get: function () { return this.start.root; },
                                enumerable: true,
                                configurable: true
                            });
                            Ks.prototype.containsPosition = function (t) { return t.isAfter(this.start) && t.isBefore(this.end); };
                            Ks.prototype.containsRange = function (t, e) {
                                if (e === void 0) { e = !1; }
                                t.isCollapsed && (e = !1);
                                var n = this.containsPosition(t.start) || e && this.start.isEqual(t.start), i = this.containsPosition(t.end) || e && this.end.isEqual(t.end);
                                return n && i;
                            };
                            Ks.prototype.containsItem = function (t) { var e = Gs._createBefore(t); return this.containsPosition(e) || this.start.isEqual(e); };
                            Ks.prototype.is = function (t) { return "range" == t || "model:range" == t; };
                            Ks.prototype.isEqual = function (t) { return this.start.isEqual(t.start) && this.end.isEqual(t.end); };
                            Ks.prototype.isIntersecting = function (t) { return this.start.isBefore(t.end) && this.end.isAfter(t.start); };
                            Ks.prototype.getDifference = function (t) { var e = []; return this.isIntersecting(t) ? (this.containsPosition(t.start) && e.push(new Ks(this.start, t.start)), this.containsPosition(t.end) && e.push(new Ks(t.end, this.end))) : e.push(new Ks(this.start, this.end)), e; };
                            Ks.prototype.getIntersection = function (t) { if (this.isIntersecting(t)) {
                                var e_174 = this.start, n_81 = this.end;
                                return this.containsPosition(t.start) && (e_174 = t.start), this.containsPosition(t.end) && (n_81 = t.end), new Ks(e_174, n_81);
                            } return null; };
                            Ks.prototype.getMinimalFlatRanges = function () { var t = [], e = this.start.getCommonPath(this.end).length, n = Gs._createAt(this.start); var i = n.parent; for (; n.path.length > e + 1;) {
                                var e_175 = i.maxOffset - n.offset;
                                0 !== e_175 && t.push(new Ks(n, n.getShiftedBy(e_175))), n.path = n.path.slice(0, -1), n.offset++, i = i.parent;
                            } for (; n.path.length <= this.end.path.length;) {
                                var e_176 = this.end.path[n.path.length - 1], i_45 = e_176 - n.offset;
                                0 !== i_45 && t.push(new Ks(n, n.getShiftedBy(i_45))), n.offset = e_176, n.path.push(0);
                            } return t; };
                            Ks.prototype.getWalker = function (t) {
                                if (t === void 0) { t = {}; }
                                return t.boundaries = this, new Ws(t);
                            };
                            Ks.prototype.getItems = function (t) {
                                var e_177, _j, e, e_178, e_178_1, t_88, e_177_1;
                                return __generator(this, function (_q) {
                                    switch (_q.label) {
                                        case 0:
                                            if (t === void 0) { t = {}; }
                                            t.boundaries = this, t.ignoreElementEnd = !0;
                                            e = new Ws(t);
                                            _q.label = 1;
                                        case 1:
                                            _q.trys.push([1, 6, 7, 8]);
                                            e_178 = __values(e), e_178_1 = e_178.next();
                                            _q.label = 2;
                                        case 2:
                                            if (!!e_178_1.done) return [3 /*break*/, 5];
                                            t_88 = e_178_1.value;
                                            return [4 /*yield*/, t_88.item];
                                        case 3:
                                            _q.sent();
                                            _q.label = 4;
                                        case 4:
                                            e_178_1 = e_178.next();
                                            return [3 /*break*/, 2];
                                        case 5: return [3 /*break*/, 8];
                                        case 6:
                                            e_177_1 = _q.sent();
                                            e_177 = { error: e_177_1 };
                                            return [3 /*break*/, 8];
                                        case 7:
                                            try {
                                                if (e_178_1 && !e_178_1.done && (_j = e_178.return)) _j.call(e_178);
                                            }
                                            finally { if (e_177) throw e_177.error; }
                                            return [7 /*endfinally*/];
                                        case 8: return [2 /*return*/];
                                    }
                                });
                            };
                            Ks.prototype.getPositions = function (t) {
                                var e_179, _j, e, e_180, e_180_1, t_89, e_179_1;
                                return __generator(this, function (_q) {
                                    switch (_q.label) {
                                        case 0:
                                            if (t === void 0) { t = {}; }
                                            t.boundaries = this;
                                            e = new Ws(t);
                                            return [4 /*yield*/, e.position];
                                        case 1:
                                            _q.sent();
                                            _q.label = 2;
                                        case 2:
                                            _q.trys.push([2, 7, 8, 9]);
                                            e_180 = __values(e), e_180_1 = e_180.next();
                                            _q.label = 3;
                                        case 3:
                                            if (!!e_180_1.done) return [3 /*break*/, 6];
                                            t_89 = e_180_1.value;
                                            return [4 /*yield*/, t_89.nextPosition];
                                        case 4:
                                            _q.sent();
                                            _q.label = 5;
                                        case 5:
                                            e_180_1 = e_180.next();
                                            return [3 /*break*/, 3];
                                        case 6: return [3 /*break*/, 9];
                                        case 7:
                                            e_179_1 = _q.sent();
                                            e_179 = { error: e_179_1 };
                                            return [3 /*break*/, 9];
                                        case 8:
                                            try {
                                                if (e_180_1 && !e_180_1.done && (_j = e_180.return)) _j.call(e_180);
                                            }
                                            finally { if (e_179) throw e_179.error; }
                                            return [7 /*endfinally*/];
                                        case 9: return [2 /*return*/];
                                    }
                                });
                            };
                            Ks.prototype.getTransformedByOperation = function (t) { switch (t.type) {
                                case "insert": return this._getTransformedByInsertOperation(t);
                                case "move":
                                case "remove":
                                case "reinsert": return this._getTransformedByMoveOperation(t);
                                case "split": return [this._getTransformedBySplitOperation(t)];
                                case "merge": return [this._getTransformedByMergeOperation(t)];
                            } return [new Ks(this.start, this.end)]; };
                            Ks.prototype.getTransformedByOperations = function (t) {
                                var e_181, _j;
                                var e = [new Ks(this.start, this.end)];
                                try {
                                    for (var t_90 = __values(t), t_90_1 = t_90.next(); !t_90_1.done; t_90_1 = t_90.next()) {
                                        var n_82 = t_90_1.value;
                                        for (var t_91 = 0; t_91 < e.length; t_91++) {
                                            var i_46 = e[t_91].getTransformedByOperation(n_82);
                                            e.splice.apply(e, __spread([t_91, 1], i_46)), t_91 += i_46.length - 1;
                                        }
                                    }
                                }
                                catch (e_181_1) { e_181 = { error: e_181_1 }; }
                                finally {
                                    try {
                                        if (t_90_1 && !t_90_1.done && (_j = t_90.return)) _j.call(t_90);
                                    }
                                    finally { if (e_181) throw e_181.error; }
                                }
                                for (var t_92 = 0; t_92 < e.length; t_92++) {
                                    var n_83 = e[t_92];
                                    for (var i_47 = t_92 + 1; i_47 < e.length; i_47++) {
                                        var t_93 = e[i_47];
                                        (n_83.containsRange(t_93) || t_93.containsRange(n_83) || n_83.isEqual(t_93)) && e.splice(i_47, 1);
                                    }
                                }
                                return e;
                            };
                            Ks.prototype.getCommonAncestor = function () { return this.start.getCommonAncestor(this.end); };
                            Ks.prototype.toJSON = function () { return { start: this.start.toJSON(), end: this.end.toJSON() }; };
                            Ks.prototype.clone = function () { return new this.constructor(this.start, this.end); };
                            Ks.prototype._getTransformedByInsertOperation = function (t, e) {
                                if (e === void 0) { e = !1; }
                                return this._getTransformedByInsertion(t.position, t.howMany, e);
                            };
                            Ks.prototype._getTransformedByMoveOperation = function (t, e) {
                                if (e === void 0) { e = !1; }
                                var n = t.sourcePosition, i = t.howMany, o = t.targetPosition;
                                return this._getTransformedByMove(n, o, i, e);
                            };
                            Ks.prototype._getTransformedBySplitOperation = function (t) { var e = this.start._getTransformedBySplitOperation(t); var n = this.end._getTransformedBySplitOperation(t); return this.end.isEqual(t.insertionPosition) && (n = this.end.getShiftedBy(1)), e.root != n.root && (n = this.end.getShiftedBy(-1)), new Ks(e, n); };
                            Ks.prototype._getTransformedByMergeOperation = function (t) { if (this.start.isEqual(t.targetPosition) && this.end.isEqual(t.deletionPosition))
                                return new Ks(this.start); var e = this.start._getTransformedByMergeOperation(t), n = this.end._getTransformedByMergeOperation(t); return e.root != n.root && (n = this.end.getShiftedBy(-1)), e.isAfter(n) ? (t.sourcePosition.isBefore(t.targetPosition) ? (e = Gs._createAt(n)).offset = 0 : (t.deletionPosition.isEqual(e) || (n = t.deletionPosition), e = t.targetPosition), new Ks(e, n)) : new Ks(e, n); };
                            Ks.prototype._getTransformedByInsertion = function (t, e, n) {
                                if (n === void 0) { n = !1; }
                                if (n && this.containsPosition(t))
                                    return [new Ks(this.start, t), new Ks(t.getShiftedBy(e), this.end._getTransformedByInsertion(t, e))];
                                {
                                    var n_84 = new Ks(this.start, this.end);
                                    return n_84.start = n_84.start._getTransformedByInsertion(t, e), n_84.end = n_84.end._getTransformedByInsertion(t, e), [n_84];
                                }
                            };
                            Ks.prototype._getTransformedByMove = function (t, e, n, i) {
                                if (i === void 0) { i = !1; }
                                if (this.isCollapsed) {
                                    var i_48 = this.start._getTransformedByMove(t, e, n);
                                    return [new Ks(i_48)];
                                }
                                var o = Ks._createFromPositionAndShift(t, n), r = e._getTransformedByDeletion(t, n);
                                if (this.containsPosition(e) && !i && (o.containsPosition(this.start) || o.containsPosition(this.end))) {
                                    var i_49 = this.start._getTransformedByMove(t, e, n), o_32 = this.end._getTransformedByMove(t, e, n);
                                    return [new Ks(i_49, o_32)];
                                }
                                var s;
                                var a = this.getDifference(o);
                                var c = null;
                                var l = this.getIntersection(o);
                                if (1 == a.length ? c = new Ks(a[0].start._getTransformedByDeletion(t, n), a[0].end._getTransformedByDeletion(t, n)) : 2 == a.length && (c = new Ks(this.start, this.end._getTransformedByDeletion(t, n))), s = c ? c._getTransformedByInsertion(r, n, null !== l || i) : [], l) {
                                    var t_94 = new Ks(l.start._getCombined(o.start, r), l.end._getCombined(o.start, r));
                                    2 == s.length ? s.splice(1, 0, t_94) : s.push(t_94);
                                }
                                return s;
                            };
                            Ks.prototype._getTransformedByDeletion = function (t, e) { var n = this.start._getTransformedByDeletion(t, e), i = this.end._getTransformedByDeletion(t, e); return null == n && null == i ? null : (null == n && (n = t), null == i && (i = t), new Ks(n, i)); };
                            Ks._createFromPositionAndShift = function (t, e) { var n = t, i = t.getShiftedBy(e); return e > 0 ? new this(n, i) : new this(i, n); };
                            Ks._createIn = function (t) { return new this(Gs._createAt(t, 0), Gs._createAt(t, t.maxOffset)); };
                            Ks._createOn = function (t) { return this._createFromPositionAndShift(Gs._createBefore(t), t.offsetSize); };
                            Ks._createFromRanges = function (t) { if (0 === t.length)
                                throw new Gn.b("range-create-from-ranges-empty-array: At least one range has to be passed.", null); if (1 == t.length)
                                return t[0].clone(); var e = t[0]; t.sort(function (t, e) { return t.start.isAfter(e.start) ? 1 : -1; }); var n = t.indexOf(e), i = new this(e.start, e.end); if (n > 0)
                                for (var e_182 = n - 1; t[e_182].end.isEqual(i.start); e_182++)
                                    i.start = Gs._createAt(t[e_182].start); for (var e_183 = n + 1; e_183 < t.length && t[e_183].start.isEqual(i.end); e_183++)
                                i.end = Gs._createAt(t[e_183].end); return i; };
                            Ks.fromJSON = function (t, e) { return new this(Gs.fromJSON(t.start, e), Gs.fromJSON(t.end, e)); };
                            return Ks;
                        }());
                        var Qs = /** @class */ (function () {
                            function Qs() {
                                var _this = this;
                                this._modelToViewMapping = new WeakMap, this._viewToModelMapping = new WeakMap, this._viewToModelLengthCallbacks = new Map, this._markerNameToElements = new Map, this._elementToMarkerNames = new Map, this._unboundMarkerNames = new Set, this.on("modelToViewPosition", function (t, e) { if (e.viewPosition)
                                    return; var n = _this._modelToViewMapping.get(e.modelPosition.parent); e.viewPosition = _this._findPositionIn(n, e.modelPosition.offset); }, { priority: "low" }), this.on("viewToModelPosition", function (t, e) { if (e.modelPosition)
                                    return; var n = _this.findMappedViewAncestor(e.viewPosition), i = _this._viewToModelMapping.get(n), o = _this._toModelOffset(e.viewPosition.parent, e.viewPosition.offset, n); e.modelPosition = Gs._createAt(i, o); }, { priority: "low" });
                            }
                            Qs.prototype.bindElements = function (t, e) { this._modelToViewMapping.set(t, e), this._viewToModelMapping.set(e, t); };
                            Qs.prototype.unbindViewElement = function (t) {
                                var e_184, _j;
                                var e = this.toModelElement(t);
                                if (this._viewToModelMapping.delete(t), this._elementToMarkerNames.has(t))
                                    try {
                                        for (var _q = __values(this._elementToMarkerNames.get(t)), _z = _q.next(); !_z.done; _z = _q.next()) {
                                            var e_185 = _z.value;
                                            this._unboundMarkerNames.add(e_185);
                                        }
                                    }
                                    catch (e_184_1) { e_184 = { error: e_184_1 }; }
                                    finally {
                                        try {
                                            if (_z && !_z.done && (_j = _q.return)) _j.call(_q);
                                        }
                                        finally { if (e_184) throw e_184.error; }
                                    }
                                this._modelToViewMapping.get(e) == t && this._modelToViewMapping.delete(e);
                            };
                            Qs.prototype.unbindModelElement = function (t) { var e = this.toViewElement(t); this._modelToViewMapping.delete(t), this._viewToModelMapping.get(e) == t && this._viewToModelMapping.delete(e); };
                            Qs.prototype.bindElementToMarker = function (t, e) { var n = this._markerNameToElements.get(e) || new Set; n.add(t); var i = this._elementToMarkerNames.get(t) || new Set; i.add(e), this._markerNameToElements.set(e, n), this._elementToMarkerNames.set(t, i); };
                            Qs.prototype.unbindElementFromMarkerName = function (t, e) { var n = this._markerNameToElements.get(e); n && (n.delete(t), 0 == n.size && this._markerNameToElements.delete(e)); var i = this._elementToMarkerNames.get(t); i && (i.delete(e), 0 == i.size && this._elementToMarkerNames.delete(t)); };
                            Qs.prototype.flushUnboundMarkerNames = function () { var t = Array.from(this._unboundMarkerNames); return this._unboundMarkerNames.clear(), t; };
                            Qs.prototype.clearBindings = function () { this._modelToViewMapping = new WeakMap, this._viewToModelMapping = new WeakMap, this._markerNameToElements = new Map, this._elementToMarkerNames = new Map, this._unboundMarkerNames = new Set; };
                            Qs.prototype.toModelElement = function (t) { return this._viewToModelMapping.get(t); };
                            Qs.prototype.toViewElement = function (t) { return this._modelToViewMapping.get(t); };
                            Qs.prototype.toModelRange = function (t) { return new Ks(this.toModelPosition(t.start), this.toModelPosition(t.end)); };
                            Qs.prototype.toViewRange = function (t) { return new to(this.toViewPosition(t.start), this.toViewPosition(t.end)); };
                            Qs.prototype.toModelPosition = function (t) { var e = { viewPosition: t, mapper: this }; return this.fire("viewToModelPosition", e), e.modelPosition; };
                            Qs.prototype.toViewPosition = function (t, e) {
                                if (e === void 0) { e = { isPhantom: !1 }; }
                                var n = { modelPosition: t, mapper: this, isPhantom: e.isPhantom };
                                return this.fire("modelToViewPosition", n), n.viewPosition;
                            };
                            Qs.prototype.markerNameToElements = function (t) {
                                var e_186, _j, e_187, _q;
                                var e = this._markerNameToElements.get(t);
                                if (!e)
                                    return null;
                                var n = new Set;
                                try {
                                    for (var e_188 = __values(e), e_188_1 = e_188.next(); !e_188_1.done; e_188_1 = e_188.next()) {
                                        var t_95 = e_188_1.value;
                                        if (t_95.is("attributeElement"))
                                            try {
                                                for (var _z = __values(t_95.getElementsWithSameId()), _0 = _z.next(); !_0.done; _0 = _z.next()) {
                                                    var e_189 = _0.value;
                                                    n.add(e_189);
                                                }
                                            }
                                            catch (e_187_1) { e_187 = { error: e_187_1 }; }
                                            finally {
                                                try {
                                                    if (_0 && !_0.done && (_q = _z.return)) _q.call(_z);
                                                }
                                                finally { if (e_187) throw e_187.error; }
                                            }
                                        else
                                            n.add(t_95);
                                    }
                                }
                                catch (e_186_1) { e_186 = { error: e_186_1 }; }
                                finally {
                                    try {
                                        if (e_188_1 && !e_188_1.done && (_j = e_188.return)) _j.call(e_188);
                                    }
                                    finally { if (e_186) throw e_186.error; }
                                }
                                return n;
                            };
                            Qs.prototype.registerViewToModelLength = function (t, e) { this._viewToModelLengthCallbacks.set(t, e); };
                            Qs.prototype.findMappedViewAncestor = function (t) { var e = t.parent; for (; !this._viewToModelMapping.has(e);)
                                e = e.parent; return e; };
                            Qs.prototype._toModelOffset = function (t, e, n) { if (n != t) {
                                return this._toModelOffset(t.parent, t.index, n) + this._toModelOffset(t, e, t);
                            } if (t.is("text"))
                                return e; var i = 0; for (var n_85 = 0; n_85 < e; n_85++)
                                i += this.getModelLength(t.getChild(n_85)); return i; };
                            Qs.prototype.getModelLength = function (t) {
                                var e_190, _j;
                                if (this._viewToModelLengthCallbacks.get(t.name)) {
                                    return this._viewToModelLengthCallbacks.get(t.name)(t);
                                }
                                if (this._viewToModelMapping.has(t))
                                    return 1;
                                if (t.is("text"))
                                    return t.data.length;
                                if (t.is("uiElement"))
                                    return 0;
                                {
                                    var e_191 = 0;
                                    try {
                                        for (var _q = __values(t.getChildren()), _z = _q.next(); !_z.done; _z = _q.next()) {
                                            var n_86 = _z.value;
                                            e_191 += this.getModelLength(n_86);
                                        }
                                    }
                                    catch (e_190_1) { e_190 = { error: e_190_1 }; }
                                    finally {
                                        try {
                                            if (_z && !_z.done && (_j = _q.return)) _j.call(_q);
                                        }
                                        finally { if (e_190) throw e_190.error; }
                                    }
                                    return e_191;
                                }
                            };
                            Qs.prototype._findPositionIn = function (t, e) { var n, i = 0, o = 0, r = 0; if (t.is("text"))
                                return new Xi(t, e); for (; o < e;)
                                n = t.getChild(r), o += i = this.getModelLength(n), r++; return o == e ? this._moveViewPositionToTextNode(new Xi(t, r)) : this._findPositionIn(n, e - (o - i)); };
                            Qs.prototype._moveViewPositionToTextNode = function (t) { var e = t.nodeBefore, n = t.nodeAfter; return e instanceof pi ? new Xi(e, e.data.length) : n instanceof pi ? new Xi(n, 0) : t; };
                            return Qs;
                        }());
                        li(Qs, ni);
                        var Zs = /** @class */ (function () {
                            function Zs() {
                                this._consumable = new Map, this._textProxyRegistry = new Map;
                            }
                            Zs.prototype.add = function (t, e) { e = Xs(e), t instanceof Hs && (t = this._getSymbolForTextProxy(t)), this._consumable.has(t) || this._consumable.set(t, new Map), this._consumable.get(t).set(e, !0); };
                            Zs.prototype.consume = function (t, e) { return e = Xs(e), t instanceof Hs && (t = this._getSymbolForTextProxy(t)), !!this.test(t, e) && (this._consumable.get(t).set(e, !1), !0); };
                            Zs.prototype.test = function (t, e) { e = Xs(e), t instanceof Hs && (t = this._getSymbolForTextProxy(t)); var n = this._consumable.get(t); if (void 0 === n)
                                return null; var i = n.get(e); return void 0 === i ? null : i; };
                            Zs.prototype.revert = function (t, e) { e = Xs(e), t instanceof Hs && (t = this._getSymbolForTextProxy(t)); var n = this.test(t, e); return !1 === n ? (this._consumable.get(t).set(e, !0), !0) : !0 !== n && null; };
                            Zs.prototype._getSymbolForTextProxy = function (t) { var e = null; var n = this._textProxyRegistry.get(t.startOffset); if (n) {
                                var i_50 = n.get(t.endOffset);
                                i_50 && (e = i_50.get(t.parent));
                            } return e || (e = this._addSymbolForTextProxy(t.startOffset, t.endOffset, t.parent)), e; };
                            Zs.prototype._addSymbolForTextProxy = function (t, e, n) { var i = Symbol("textProxySymbol"); var o, r; return (o = this._textProxyRegistry.get(t)) || (o = new Map, this._textProxyRegistry.set(t, o)), (r = o.get(e)) || (r = new Map, o.set(e, r)), r.set(n, i), i; };
                            return Zs;
                        }());
                        function Xs(t) { var e = t.split(":"); return e.length > 1 ? e[0] + ":" + e[1] : e[0]; }
                        var ta = /** @class */ (function () {
                            function ta(t) {
                                this.conversionApi = Bi({ dispatcher: this }, t);
                            }
                            ta.prototype.convertChanges = function (t, e, n) {
                                var e_192, _j, e_193, _q, e_194, _z, e_195, _0;
                                try {
                                    for (var _1 = __values(t.getMarkersToRemove()), _2 = _1.next(); !_2.done; _2 = _1.next()) {
                                        var e_196 = _2.value;
                                        this.convertMarkerRemove(e_196.name, e_196.range, n);
                                    }
                                }
                                catch (e_192_1) { e_192 = { error: e_192_1 }; }
                                finally {
                                    try {
                                        if (_2 && !_2.done && (_j = _1.return)) _j.call(_1);
                                    }
                                    finally { if (e_192) throw e_192.error; }
                                }
                                try {
                                    for (var _3 = __values(t.getChanges()), _4 = _3.next(); !_4.done; _4 = _3.next()) {
                                        var e_197 = _4.value;
                                        "insert" == e_197.type ? this.convertInsert(Ks._createFromPositionAndShift(e_197.position, e_197.length), n) : "remove" == e_197.type ? this.convertRemove(e_197.position, e_197.length, e_197.name, n) : this.convertAttribute(e_197.range, e_197.attributeKey, e_197.attributeOldValue, e_197.attributeNewValue, n);
                                    }
                                }
                                catch (e_193_1) { e_193 = { error: e_193_1 }; }
                                finally {
                                    try {
                                        if (_4 && !_4.done && (_q = _3.return)) _q.call(_3);
                                    }
                                    finally { if (e_193) throw e_193.error; }
                                }
                                try {
                                    for (var _5 = __values(this.conversionApi.mapper.flushUnboundMarkerNames()), _6 = _5.next(); !_6.done; _6 = _5.next()) {
                                        var t_96 = _6.value;
                                        var i_51 = e.get(t_96).getRange();
                                        this.convertMarkerRemove(t_96, i_51, n), this.convertMarkerAdd(t_96, i_51, n);
                                    }
                                }
                                catch (e_194_1) { e_194 = { error: e_194_1 }; }
                                finally {
                                    try {
                                        if (_6 && !_6.done && (_z = _5.return)) _z.call(_5);
                                    }
                                    finally { if (e_194) throw e_194.error; }
                                }
                                try {
                                    for (var _7 = __values(t.getMarkersToAdd()), _8 = _7.next(); !_8.done; _8 = _7.next()) {
                                        var e_198 = _8.value;
                                        this.convertMarkerAdd(e_198.name, e_198.range, n);
                                    }
                                }
                                catch (e_195_1) { e_195 = { error: e_195_1 }; }
                                finally {
                                    try {
                                        if (_8 && !_8.done && (_0 = _7.return)) _0.call(_7);
                                    }
                                    finally { if (e_195) throw e_195.error; }
                                }
                            };
                            ta.prototype.convertInsert = function (t, e) {
                                var e_199, _j, e_200, _q;
                                this.conversionApi.writer = e, this.conversionApi.consumable = this._createInsertConsumable(t);
                                try {
                                    for (var t_97 = __values(t), t_97_1 = t_97.next(); !t_97_1.done; t_97_1 = t_97.next()) {
                                        var e_201 = t_97_1.value;
                                        var t_98 = e_201.item, n_87 = { item: t_98, range: Ks._createFromPositionAndShift(e_201.previousPosition, e_201.length) };
                                        this._testAndFire("insert", n_87);
                                        try {
                                            for (var _z = __values(t_98.getAttributeKeys()), _0 = _z.next(); !_0.done; _0 = _z.next()) {
                                                var e_202 = _0.value;
                                                n_87.attributeKey = e_202, n_87.attributeOldValue = null, n_87.attributeNewValue = t_98.getAttribute(e_202), this._testAndFire("attribute:" + e_202, n_87);
                                            }
                                        }
                                        catch (e_200_1) { e_200 = { error: e_200_1 }; }
                                        finally {
                                            try {
                                                if (_0 && !_0.done && (_q = _z.return)) _q.call(_z);
                                            }
                                            finally { if (e_200) throw e_200.error; }
                                        }
                                    }
                                }
                                catch (e_199_1) { e_199 = { error: e_199_1 }; }
                                finally {
                                    try {
                                        if (t_97_1 && !t_97_1.done && (_j = t_97.return)) _j.call(t_97);
                                    }
                                    finally { if (e_199) throw e_199.error; }
                                }
                                this._clearConversionApi();
                            };
                            ta.prototype.convertRemove = function (t, e, n, i) { this.conversionApi.writer = i, this.fire("remove:" + n, { position: t, length: e }, this.conversionApi), this._clearConversionApi(); };
                            ta.prototype.convertAttribute = function (t, e, n, i, o) {
                                var e_203, _j;
                                this.conversionApi.writer = o, this.conversionApi.consumable = this._createConsumableForRange(t, "attribute:" + e);
                                try {
                                    for (var t_99 = __values(t), t_99_1 = t_99.next(); !t_99_1.done; t_99_1 = t_99.next()) {
                                        var o_33 = t_99_1.value;
                                        var t_100 = { item: o_33.item, range: Ks._createFromPositionAndShift(o_33.previousPosition, o_33.length), attributeKey: e, attributeOldValue: n, attributeNewValue: i };
                                        this._testAndFire("attribute:" + e, t_100);
                                    }
                                }
                                catch (e_203_1) { e_203 = { error: e_203_1 }; }
                                finally {
                                    try {
                                        if (t_99_1 && !t_99_1.done && (_j = t_99.return)) _j.call(t_99);
                                    }
                                    finally { if (e_203) throw e_203.error; }
                                }
                                this._clearConversionApi();
                            };
                            ta.prototype.convertSelection = function (t, e, n) {
                                var e_204, _j, e_205, _q;
                                var i = Array.from(e.getMarkersAtPosition(t.getFirstPosition()));
                                if (this.conversionApi.writer = n, this.conversionApi.consumable = this._createSelectionConsumable(t, i), this.fire("selection", { selection: t }, this.conversionApi), t.isCollapsed) {
                                    try {
                                        for (var i_52 = __values(i), i_52_1 = i_52.next(); !i_52_1.done; i_52_1 = i_52.next()) {
                                            var e_206 = i_52_1.value;
                                            var n_88 = e_206.getRange();
                                            if (!ea(t.getFirstPosition(), e_206, this.conversionApi.mapper))
                                                continue;
                                            var i_53 = { item: t, markerName: e_206.name, markerRange: n_88 };
                                            this.conversionApi.consumable.test(t, "addMarker:" + e_206.name) && this.fire("addMarker:" + e_206.name, i_53, this.conversionApi);
                                        }
                                    }
                                    catch (e_204_1) { e_204 = { error: e_204_1 }; }
                                    finally {
                                        try {
                                            if (i_52_1 && !i_52_1.done && (_j = i_52.return)) _j.call(i_52);
                                        }
                                        finally { if (e_204) throw e_204.error; }
                                    }
                                    try {
                                        for (var _z = __values(t.getAttributeKeys()), _0 = _z.next(); !_0.done; _0 = _z.next()) {
                                            var e_207 = _0.value;
                                            var n_89 = { item: t, range: t.getFirstRange(), attributeKey: e_207, attributeOldValue: null, attributeNewValue: t.getAttribute(e_207) };
                                            this.conversionApi.consumable.test(t, "attribute:" + n_89.attributeKey) && this.fire("attribute:" + n_89.attributeKey + ":$text", n_89, this.conversionApi);
                                        }
                                    }
                                    catch (e_205_1) { e_205 = { error: e_205_1 }; }
                                    finally {
                                        try {
                                            if (_0 && !_0.done && (_q = _z.return)) _q.call(_z);
                                        }
                                        finally { if (e_205) throw e_205.error; }
                                    }
                                    this._clearConversionApi();
                                }
                            };
                            ta.prototype.convertMarkerAdd = function (t, e, n) {
                                var e_208, _j;
                                if (!e.root.document || "$graveyard" == e.root.rootName)
                                    return;
                                this.conversionApi.writer = n;
                                var i = "addMarker:" + t, o = new Zs;
                                if (o.add(e, i), this.conversionApi.consumable = o, this.fire(i, { markerName: t, markerRange: e }, this.conversionApi), o.test(e, i)) {
                                    this.conversionApi.consumable = this._createConsumableForRange(e, i);
                                    try {
                                        for (var _q = __values(e.getItems()), _z = _q.next(); !_z.done; _z = _q.next()) {
                                            var n_90 = _z.value;
                                            if (!this.conversionApi.consumable.test(n_90, i))
                                                continue;
                                            var o_34 = { item: n_90, range: Ks._createOn(n_90), markerName: t, markerRange: e };
                                            this.fire(i, o_34, this.conversionApi);
                                        }
                                    }
                                    catch (e_208_1) { e_208 = { error: e_208_1 }; }
                                    finally {
                                        try {
                                            if (_z && !_z.done && (_j = _q.return)) _j.call(_q);
                                        }
                                        finally { if (e_208) throw e_208.error; }
                                    }
                                    this._clearConversionApi();
                                }
                            };
                            ta.prototype.convertMarkerRemove = function (t, e, n) { e.root.document && "$graveyard" != e.root.rootName && (this.conversionApi.writer = n, this.fire("removeMarker:" + t, { markerName: t, markerRange: e }, this.conversionApi), this._clearConversionApi()); };
                            ta.prototype._createInsertConsumable = function (t) {
                                var e_209, _j, e_210, _q;
                                var e = new Zs;
                                try {
                                    for (var t_101 = __values(t), t_101_1 = t_101.next(); !t_101_1.done; t_101_1 = t_101.next()) {
                                        var n_91 = t_101_1.value;
                                        var t_102 = n_91.item;
                                        e.add(t_102, "insert");
                                        try {
                                            for (var _z = __values(t_102.getAttributeKeys()), _0 = _z.next(); !_0.done; _0 = _z.next()) {
                                                var n_92 = _0.value;
                                                e.add(t_102, "attribute:" + n_92);
                                            }
                                        }
                                        catch (e_210_1) { e_210 = { error: e_210_1 }; }
                                        finally {
                                            try {
                                                if (_0 && !_0.done && (_q = _z.return)) _q.call(_z);
                                            }
                                            finally { if (e_210) throw e_210.error; }
                                        }
                                    }
                                }
                                catch (e_209_1) { e_209 = { error: e_209_1 }; }
                                finally {
                                    try {
                                        if (t_101_1 && !t_101_1.done && (_j = t_101.return)) _j.call(t_101);
                                    }
                                    finally { if (e_209) throw e_209.error; }
                                }
                                return e;
                            };
                            ta.prototype._createConsumableForRange = function (t, e) {
                                var e_211, _j;
                                var n = new Zs;
                                try {
                                    for (var _q = __values(t.getItems()), _z = _q.next(); !_z.done; _z = _q.next()) {
                                        var i_54 = _z.value;
                                        n.add(i_54, e);
                                    }
                                }
                                catch (e_211_1) { e_211 = { error: e_211_1 }; }
                                finally {
                                    try {
                                        if (_z && !_z.done && (_j = _q.return)) _j.call(_q);
                                    }
                                    finally { if (e_211) throw e_211.error; }
                                }
                                return n;
                            };
                            ta.prototype._createSelectionConsumable = function (t, e) {
                                var e_212, _j, e_213, _q;
                                var n = new Zs;
                                n.add(t, "selection");
                                try {
                                    for (var e_214 = __values(e), e_214_1 = e_214.next(); !e_214_1.done; e_214_1 = e_214.next()) {
                                        var i_55 = e_214_1.value;
                                        n.add(t, "addMarker:" + i_55.name);
                                    }
                                }
                                catch (e_212_1) { e_212 = { error: e_212_1 }; }
                                finally {
                                    try {
                                        if (e_214_1 && !e_214_1.done && (_j = e_214.return)) _j.call(e_214);
                                    }
                                    finally { if (e_212) throw e_212.error; }
                                }
                                try {
                                    for (var _z = __values(t.getAttributeKeys()), _0 = _z.next(); !_0.done; _0 = _z.next()) {
                                        var e_215 = _0.value;
                                        n.add(t, "attribute:" + e_215);
                                    }
                                }
                                catch (e_213_1) { e_213 = { error: e_213_1 }; }
                                finally {
                                    try {
                                        if (_0 && !_0.done && (_q = _z.return)) _q.call(_z);
                                    }
                                    finally { if (e_213) throw e_213.error; }
                                }
                                return n;
                            };
                            ta.prototype._testAndFire = function (t, e) { if (!this.conversionApi.consumable.test(e.item, t))
                                return; var n = e.item.name || "$text"; this.fire(t + ":" + n, e, this.conversionApi); };
                            ta.prototype._clearConversionApi = function () { delete this.conversionApi.writer, delete this.conversionApi.consumable; };
                            return ta;
                        }());
                        function ea(t, e, n) { var i = e.getRange(), o = Array.from(t.getAncestors()); return o.shift(), o.reverse(), !o.some(function (t) { if (i.containsItem(t)) {
                            return !!n.toViewElement(t).getCustomProperty("addHighlight");
                        } }); }
                        li(ta, ni);
                        var na = /** @class */ (function () {
                            function na(t, e, n) {
                                this._lastRangeBackward = !1, this._ranges = [], this._attrs = new Map, t && this.setTo(t, e, n);
                            }
                            Object.defineProperty(na.prototype, "anchor", {
                                get: function () { if (this._ranges.length > 0) {
                                    var t_103 = this._ranges[this._ranges.length - 1];
                                    return this._lastRangeBackward ? t_103.end : t_103.start;
                                } return null; },
                                enumerable: true,
                                configurable: true
                            });
                            Object.defineProperty(na.prototype, "focus", {
                                get: function () { if (this._ranges.length > 0) {
                                    var t_104 = this._ranges[this._ranges.length - 1];
                                    return this._lastRangeBackward ? t_104.start : t_104.end;
                                } return null; },
                                enumerable: true,
                                configurable: true
                            });
                            Object.defineProperty(na.prototype, "isCollapsed", {
                                get: function () { return 1 === this._ranges.length && this._ranges[0].isCollapsed; },
                                enumerable: true,
                                configurable: true
                            });
                            Object.defineProperty(na.prototype, "rangeCount", {
                                get: function () { return this._ranges.length; },
                                enumerable: true,
                                configurable: true
                            });
                            Object.defineProperty(na.prototype, "isBackward", {
                                get: function () { return !this.isCollapsed && this._lastRangeBackward; },
                                enumerable: true,
                                configurable: true
                            });
                            na.prototype.isEqual = function (t) {
                                var e_216, _j, e_217, _q;
                                if (this.rangeCount != t.rangeCount)
                                    return !1;
                                if (0 === this.rangeCount)
                                    return !0;
                                if (!this.anchor.isEqual(t.anchor) || !this.focus.isEqual(t.focus))
                                    return !1;
                                try {
                                    for (var _z = __values(this._ranges), _0 = _z.next(); !_0.done; _0 = _z.next()) {
                                        var e_218 = _0.value;
                                        var n_93 = !1;
                                        try {
                                            for (var _1 = __values(t._ranges), _2 = _1.next(); !_2.done; _2 = _1.next()) {
                                                var i_56 = _2.value;
                                                if (e_218.isEqual(i_56)) {
                                                    n_93 = !0;
                                                    break;
                                                }
                                            }
                                        }
                                        catch (e_217_1) { e_217 = { error: e_217_1 }; }
                                        finally {
                                            try {
                                                if (_2 && !_2.done && (_q = _1.return)) _q.call(_1);
                                            }
                                            finally { if (e_217) throw e_217.error; }
                                        }
                                        if (!n_93)
                                            return !1;
                                    }
                                }
                                catch (e_216_1) { e_216 = { error: e_216_1 }; }
                                finally {
                                    try {
                                        if (_0 && !_0.done && (_j = _z.return)) _j.call(_z);
                                    }
                                    finally { if (e_216) throw e_216.error; }
                                }
                                return !0;
                            };
                            na.prototype.getRanges = function () {
                                var e_219, _j, _q, _z, t_105, e_219_1;
                                return __generator(this, function (_0) {
                                    switch (_0.label) {
                                        case 0:
                                            _0.trys.push([0, 5, 6, 7]);
                                            _q = __values(this._ranges), _z = _q.next();
                                            _0.label = 1;
                                        case 1:
                                            if (!!_z.done) return [3 /*break*/, 4];
                                            t_105 = _z.value;
                                            return [4 /*yield*/, new Ks(t_105.start, t_105.end)];
                                        case 2:
                                            _0.sent();
                                            _0.label = 3;
                                        case 3:
                                            _z = _q.next();
                                            return [3 /*break*/, 1];
                                        case 4: return [3 /*break*/, 7];
                                        case 5:
                                            e_219_1 = _0.sent();
                                            e_219 = { error: e_219_1 };
                                            return [3 /*break*/, 7];
                                        case 6:
                                            try {
                                                if (_z && !_z.done && (_j = _q.return)) _j.call(_q);
                                            }
                                            finally { if (e_219) throw e_219.error; }
                                            return [7 /*endfinally*/];
                                        case 7: return [2 /*return*/];
                                    }
                                });
                            };
                            na.prototype.getFirstRange = function () {
                                var e_220, _j;
                                var t = null;
                                try {
                                    for (var _q = __values(this._ranges), _z = _q.next(); !_z.done; _z = _q.next()) {
                                        var e_221 = _z.value;
                                        t && !e_221.start.isBefore(t.start) || (t = e_221);
                                    }
                                }
                                catch (e_220_1) { e_220 = { error: e_220_1 }; }
                                finally {
                                    try {
                                        if (_z && !_z.done && (_j = _q.return)) _j.call(_q);
                                    }
                                    finally { if (e_220) throw e_220.error; }
                                }
                                return t ? new Ks(t.start, t.end) : null;
                            };
                            na.prototype.getLastRange = function () {
                                var e_222, _j;
                                var t = null;
                                try {
                                    for (var _q = __values(this._ranges), _z = _q.next(); !_z.done; _z = _q.next()) {
                                        var e_223 = _z.value;
                                        t && !e_223.end.isAfter(t.end) || (t = e_223);
                                    }
                                }
                                catch (e_222_1) { e_222 = { error: e_222_1 }; }
                                finally {
                                    try {
                                        if (_z && !_z.done && (_j = _q.return)) _j.call(_q);
                                    }
                                    finally { if (e_222) throw e_222.error; }
                                }
                                return t ? new Ks(t.start, t.end) : null;
                            };
                            na.prototype.getFirstPosition = function () { var t = this.getFirstRange(); return t ? t.start.clone() : null; };
                            na.prototype.getLastPosition = function () { var t = this.getLastRange(); return t ? t.end.clone() : null; };
                            na.prototype.setTo = function (t, e, n) { if (null === t)
                                this._setRanges([]);
                            else if (t instanceof na)
                                this._setRanges(t.getRanges(), t.isBackward);
                            else if (t && "function" == typeof t.getRanges)
                                this._setRanges(t.getRanges(), t.isBackward);
                            else if (t instanceof Ks)
                                this._setRanges([t], !!e && !!e.backward);
                            else if (t instanceof Gs)
                                this._setRanges([new Ks(t)]);
                            else if (t instanceof zs) {
                                var i_57 = !!n && !!n.backward;
                                var o_35;
                                if ("in" == e)
                                    o_35 = Ks._createIn(t);
                                else if ("on" == e)
                                    o_35 = Ks._createOn(t);
                                else {
                                    if (void 0 === e)
                                        throw new Gn.b("model-selection-setTo-required-second-parameter: selection.setTo requires the second parameter when the first parameter is a node.", [this, t]);
                                    o_35 = new Ks(Gs._createAt(t, e));
                                }
                                this._setRanges([o_35], i_57);
                            }
                            else {
                                if (!xi(t))
                                    throw new Gn.b("model-selection-setTo-not-selectable: Cannot set the selection to the given place.", [this, t]);
                                this._setRanges(t, e && !!e.backward);
                            } };
                            na.prototype._setRanges = function (t, e) {
                                var _this = this;
                                var e_224, _j;
                                if (e === void 0) { e = !1; }
                                var n = (t = Array.from(t)).some(function (e) { if (!(e instanceof Ks))
                                    throw new Gn.b("model-selection-set-ranges-not-range: Selection range set to an object that is not an instance of model.Range.", [_this, t]); return _this._ranges.every(function (t) { return !t.isEqual(e); }); });
                                if (t.length !== this._ranges.length || n) {
                                    this._removeAllRanges();
                                    try {
                                        for (var t_106 = __values(t), t_106_1 = t_106.next(); !t_106_1.done; t_106_1 = t_106.next()) {
                                            var e_225 = t_106_1.value;
                                            this._pushRange(e_225);
                                        }
                                    }
                                    catch (e_224_1) { e_224 = { error: e_224_1 }; }
                                    finally {
                                        try {
                                            if (t_106_1 && !t_106_1.done && (_j = t_106.return)) _j.call(t_106);
                                        }
                                        finally { if (e_224) throw e_224.error; }
                                    }
                                    this._lastRangeBackward = !!e, this.fire("change:range", { directChange: !0 });
                                }
                            };
                            na.prototype.setFocus = function (t, e) { if (null === this.anchor)
                                throw new Gn.b("model-selection-setFocus-no-ranges: Cannot set selection focus if there are no ranges in selection.", [this, t]); var n = Gs._createAt(t, e); if ("same" == n.compareWith(this.focus))
                                return; var i = this.anchor; this._ranges.length && this._popRange(), "before" == n.compareWith(i) ? (this._pushRange(new Ks(n, i)), this._lastRangeBackward = !0) : (this._pushRange(new Ks(i, n)), this._lastRangeBackward = !1), this.fire("change:range", { directChange: !0 }); };
                            na.prototype.getAttribute = function (t) { return this._attrs.get(t); };
                            na.prototype.getAttributes = function () { return this._attrs.entries(); };
                            na.prototype.getAttributeKeys = function () { return this._attrs.keys(); };
                            na.prototype.hasAttribute = function (t) { return this._attrs.has(t); };
                            na.prototype.removeAttribute = function (t) { this.hasAttribute(t) && (this._attrs.delete(t), this.fire("change:attribute", { attributeKeys: [t], directChange: !0 })); };
                            na.prototype.setAttribute = function (t, e) { this.getAttribute(t) !== e && (this._attrs.set(t, e), this.fire("change:attribute", { attributeKeys: [t], directChange: !0 })); };
                            na.prototype.getSelectedElement = function () { if (1 !== this.rangeCount)
                                return null; var t = this.getFirstRange(), e = t.start.nodeAfter, n = t.end.nodeBefore; return e instanceof Ys && e == n ? e : null; };
                            na.prototype.is = function (t) { return "selection" == t || "model:selection" == t; };
                            na.prototype.getSelectedBlocks = function () {
                                var e_226, _j, e_227, _q, t, _z, _0, e_228, n_94, _1, _2, _3, n_95, i_58, _4, e_227_1, i_59, _5, e_226_1;
                                return __generator(this, function (_6) {
                                    switch (_6.label) {
                                        case 0:
                                            t = new WeakSet;
                                            _6.label = 1;
                                        case 1:
                                            _6.trys.push([1, 18, 19, 20]);
                                            _z = __values(this.getRanges()), _0 = _z.next();
                                            _6.label = 2;
                                        case 2:
                                            if (!!_0.done) return [3 /*break*/, 17];
                                            e_228 = _0.value;
                                            n_94 = ra(e_228.start, t);
                                            _1 = n_94 && sa(n_94, e_228);
                                            if (!_1) return [3 /*break*/, 4];
                                            return [4 /*yield*/, n_94];
                                        case 3:
                                            _1 = (_6.sent());
                                            _6.label = 4;
                                        case 4:
                                            _1;
                                            _6.label = 5;
                                        case 5:
                                            _6.trys.push([5, 11, 12, 13]);
                                            _2 = __values(e_228.getWalker()), _3 = _2.next();
                                            _6.label = 6;
                                        case 6:
                                            if (!!_3.done) return [3 /*break*/, 10];
                                            n_95 = _3.value;
                                            i_58 = n_95.item;
                                            _4 = "elementEnd" == n_95.type && oa(i_58, t, e_228);
                                            if (!_4) return [3 /*break*/, 8];
                                            return [4 /*yield*/, i_58];
                                        case 7:
                                            _4 = (_6.sent());
                                            _6.label = 8;
                                        case 8:
                                            _4;
                                            _6.label = 9;
                                        case 9:
                                            _3 = _2.next();
                                            return [3 /*break*/, 6];
                                        case 10: return [3 /*break*/, 13];
                                        case 11:
                                            e_227_1 = _6.sent();
                                            e_227 = { error: e_227_1 };
                                            return [3 /*break*/, 13];
                                        case 12:
                                            try {
                                                if (_3 && !_3.done && (_q = _2.return)) _q.call(_2);
                                            }
                                            finally { if (e_227) throw e_227.error; }
                                            return [7 /*endfinally*/];
                                        case 13:
                                            i_59 = ra(e_228.end, t);
                                            _5 = i_59 && !e_228.end.isTouching(Gs._createAt(i_59, 0)) && sa(i_59, e_228);
                                            if (!_5) return [3 /*break*/, 15];
                                            return [4 /*yield*/, i_59];
                                        case 14:
                                            _5 = (_6.sent());
                                            _6.label = 15;
                                        case 15:
                                            _5;
                                            _6.label = 16;
                                        case 16:
                                            _0 = _z.next();
                                            return [3 /*break*/, 2];
                                        case 17: return [3 /*break*/, 20];
                                        case 18:
                                            e_226_1 = _6.sent();
                                            e_226 = { error: e_226_1 };
                                            return [3 /*break*/, 20];
                                        case 19:
                                            try {
                                                if (_0 && !_0.done && (_j = _z.return)) _j.call(_z);
                                            }
                                            finally { if (e_226) throw e_226.error; }
                                            return [7 /*endfinally*/];
                                        case 20: return [2 /*return*/];
                                    }
                                });
                            };
                            na.prototype.containsEntireContent = function (t) {
                                if (t === void 0) { t = this.anchor.root; }
                                var e = Gs._createAt(t, 0), n = Gs._createAt(t, "end");
                                return e.isTouching(this.getFirstPosition()) && n.isTouching(this.getLastPosition());
                            };
                            na.prototype._pushRange = function (t) { this._checkRange(t), this._ranges.push(new Ks(t.start, t.end)); };
                            na.prototype._checkRange = function (t) { for (var e_229 = 0; e_229 < this._ranges.length; e_229++)
                                if (t.isIntersecting(this._ranges[e_229]))
                                    throw new Gn.b("model-selection-range-intersects: Trying to add a range that intersects with another range in the selection.", [this, t], { addedRange: t, intersectingRange: this._ranges[e_229] }); };
                            na.prototype._removeAllRanges = function () { for (; this._ranges.length > 0;)
                                this._popRange(); };
                            na.prototype._popRange = function () { this._ranges.pop(); };
                            return na;
                        }());
                        function ia(t, e) { return !e.has(t) && (e.add(t), t.document.model.schema.isBlock(t) && t.parent); }
                        function oa(t, e, n) { return ia(t, e) && sa(t, n); }
                        function ra(t, e) { var n = t.parent.document.model.schema, i = t.parent.getAncestors({ parentFirst: !0, includeSelf: !0 }); var o = !1; var r = i.find(function (t) { return !o && (!(o = n.isLimit(t)) && ia(t, e)); }); return i.forEach(function (t) { return e.add(t); }), r; }
                        function sa(t, e) { var n = function (t) { var e = t.document.model.schema; var n = t.parent; for (; n;) {
                            if (e.isBlock(n))
                                return n;
                            n = n.parent;
                        } }(t); return !n || !e.containsRange(Ks._createOn(n), !0); }
                        li(na, ni);
                        var aa = /** @class */ (function (_super) {
                            __extends(aa, _super);
                            function aa(t, e) {
                                var _this = this;
                                _this = _super.call(this, t, e) || this, function () {
                                    var _this = this;
                                    this.listenTo(this.root.document.model, "applyOperation", function (t, e) { var n = e[0]; n.isDocumentOperation && function (t) { var e = this.getTransformedByOperation(t), n = Ks._createFromRanges(e), i = !n.isEqual(this), o = function (t, e) { switch (e.type) {
                                        case "insert": return t.containsPosition(e.position);
                                        case "move":
                                        case "remove":
                                        case "reinsert":
                                        case "merge": return t.containsPosition(e.sourcePosition) || t.start.isEqual(e.sourcePosition) || t.containsPosition(e.targetPosition);
                                        case "split": return t.containsPosition(e.splitPosition) || t.containsPosition(e.insertionPosition);
                                    } return !1; }(this, t); var r = null; if (i) {
                                        "$graveyard" == n.root.rootName && (r = "remove" == t.type ? t.sourcePosition : t.deletionPosition);
                                        var e_230 = this.toRange();
                                        this.start = n.start, this.end = n.end, this.fire("change:range", e_230, { deletionPosition: r });
                                    }
                                    else
                                        o && this.fire("change:content", this.toRange(), { deletionPosition: r }); }.call(_this, n); }, { priority: "low" });
                                }.call(_this);
                                return _this;
                            }
                            aa.prototype.detach = function () { this.stopListening(); };
                            aa.prototype.is = function (t) { return "liveRange" == t || "model:liveRange" == t || _super.prototype.is.call(this, t); };
                            aa.prototype.toRange = function () { return new Ks(this.start, this.end); };
                            aa.fromRange = function (t) { return new aa(t.start, t.end); };
                            return aa;
                        }(Ks));
                        li(aa, ni);
                        var ca = "selection:";
                        var la = /** @class */ (function () {
                            function la(t) {
                                this._selection = new da(t), this._selection.delegate("change:range").to(this), this._selection.delegate("change:attribute").to(this);
                            }
                            Object.defineProperty(la.prototype, "isCollapsed", {
                                get: function () { return this._selection.isCollapsed; },
                                enumerable: true,
                                configurable: true
                            });
                            Object.defineProperty(la.prototype, "anchor", {
                                get: function () { return this._selection.anchor; },
                                enumerable: true,
                                configurable: true
                            });
                            Object.defineProperty(la.prototype, "focus", {
                                get: function () { return this._selection.focus; },
                                enumerable: true,
                                configurable: true
                            });
                            Object.defineProperty(la.prototype, "rangeCount", {
                                get: function () { return this._selection.rangeCount; },
                                enumerable: true,
                                configurable: true
                            });
                            Object.defineProperty(la.prototype, "hasOwnRange", {
                                get: function () { return this._selection.hasOwnRange; },
                                enumerable: true,
                                configurable: true
                            });
                            Object.defineProperty(la.prototype, "isBackward", {
                                get: function () { return this._selection.isBackward; },
                                enumerable: true,
                                configurable: true
                            });
                            Object.defineProperty(la.prototype, "isGravityOverridden", {
                                get: function () { return this._selection.isGravityOverridden; },
                                enumerable: true,
                                configurable: true
                            });
                            Object.defineProperty(la.prototype, "markers", {
                                get: function () { return this._selection.markers; },
                                enumerable: true,
                                configurable: true
                            });
                            Object.defineProperty(la.prototype, "_ranges", {
                                get: function () { return this._selection._ranges; },
                                enumerable: true,
                                configurable: true
                            });
                            la.prototype.getRanges = function () { return this._selection.getRanges(); };
                            la.prototype.getFirstPosition = function () { return this._selection.getFirstPosition(); };
                            la.prototype.getLastPosition = function () { return this._selection.getLastPosition(); };
                            la.prototype.getFirstRange = function () { return this._selection.getFirstRange(); };
                            la.prototype.getLastRange = function () { return this._selection.getLastRange(); };
                            la.prototype.getSelectedBlocks = function () { return this._selection.getSelectedBlocks(); };
                            la.prototype.getSelectedElement = function () { return this._selection.getSelectedElement(); };
                            la.prototype.containsEntireContent = function (t) { return this._selection.containsEntireContent(t); };
                            la.prototype.destroy = function () { this._selection.destroy(); };
                            la.prototype.getAttributeKeys = function () { return this._selection.getAttributeKeys(); };
                            la.prototype.getAttributes = function () { return this._selection.getAttributes(); };
                            la.prototype.getAttribute = function (t) { return this._selection.getAttribute(t); };
                            la.prototype.hasAttribute = function (t) { return this._selection.hasAttribute(t); };
                            la.prototype.refresh = function () { this._selection._updateMarkers(), this._selection._updateAttributes(!1); };
                            la.prototype.is = function (t) { return "selection" == t || "model:selection" == t || "documentSelection" == t || "model:documentSelection" == t; };
                            la.prototype._setFocus = function (t, e) { this._selection.setFocus(t, e); };
                            la.prototype._setTo = function (t, e, n) { this._selection.setTo(t, e, n); };
                            la.prototype._setAttribute = function (t, e) { this._selection.setAttribute(t, e); };
                            la.prototype._removeAttribute = function (t) { this._selection.removeAttribute(t); };
                            la.prototype._getStoredAttributes = function () { return this._selection._getStoredAttributes(); };
                            la.prototype._overrideGravity = function () { return this._selection.overrideGravity(); };
                            la.prototype._restoreGravity = function (t) { this._selection.restoreGravity(t); };
                            la._getStoreAttributeKey = function (t) { return ca + t; };
                            la._isStoreAttributeKey = function (t) { return t.startsWith(ca); };
                            return la;
                        }());
                        li(la, ni);
                        var da = /** @class */ (function (_super) {
                            __extends(da, _super);
                            function da(t) {
                                var _this = this;
                                _this = _super.call(this) || this, _this.markers = new ro({ idProperty: "name" }), _this._model = t.model, _this._document = t, _this._attributePriority = new Map, _this._fixGraveyardRangesData = [], _this._hasChangedRange = !1, _this._overriddenGravityRegister = new Set, _this.listenTo(_this._model, "applyOperation", function (t, e) { var n = e[0]; if (n.isDocumentOperation && "marker" != n.type && "rename" != n.type && "noop" != n.type) {
                                    for (; _this._fixGraveyardRangesData.length;) {
                                        var _j = _this._fixGraveyardRangesData.shift(), t_107 = _j.liveRange, e_231 = _j.sourcePosition;
                                        _this._fixGraveyardSelection(t_107, e_231);
                                    }
                                    _this._hasChangedRange && (_this._hasChangedRange = !1, _this.fire("change:range", { directChange: !1 }));
                                } }, { priority: "lowest" }), _this.on("change:range", function () {
                                    var e_232, _j;
                                    try {
                                        for (var _q = __values(_this.getRanges()), _z = _q.next(); !_z.done; _z = _q.next()) {
                                            var t_108 = _z.value;
                                            if (!_this._document._validateSelectionRange(t_108))
                                                throw new Gn.b("document-selection-wrong-position: Range from document selection starts or ends at incorrect position.", _this, { range: t_108 });
                                        }
                                    }
                                    catch (e_232_1) { e_232 = { error: e_232_1 }; }
                                    finally {
                                        try {
                                            if (_z && !_z.done && (_j = _q.return)) _j.call(_q);
                                        }
                                        finally { if (e_232) throw e_232.error; }
                                    }
                                }), _this.listenTo(_this._model.markers, "update", function () { return _this._updateMarkers(); }), _this.listenTo(_this._document, "change", function (t, e) { !function (t, e) {
                                    var e_233, _j;
                                    var n = t.document.differ;
                                    var _loop_2 = function (i_60) {
                                        if ("insert" != i_60.type)
                                            return "continue";
                                        var n_96 = i_60.position.parent, o_36 = i_60.length === n_96.maxOffset;
                                        o_36 && t.enqueueChange(e, function (t) {
                                            var e_234, _j;
                                            var e = Array.from(n_96.getAttributeKeys()).filter(function (t) { return t.startsWith(ca); });
                                            try {
                                                for (var e_235 = __values(e), e_235_1 = e_235.next(); !e_235_1.done; e_235_1 = e_235.next()) {
                                                    var i_61 = e_235_1.value;
                                                    t.removeAttribute(i_61, n_96);
                                                }
                                            }
                                            catch (e_234_1) { e_234 = { error: e_234_1 }; }
                                            finally {
                                                try {
                                                    if (e_235_1 && !e_235_1.done && (_j = e_235.return)) _j.call(e_235);
                                                }
                                                finally { if (e_234) throw e_234.error; }
                                            }
                                        });
                                    };
                                    try {
                                        for (var _q = __values(n.getChanges()), _z = _q.next(); !_z.done; _z = _q.next()) {
                                            var i_60 = _z.value;
                                            _loop_2(i_60);
                                        }
                                    }
                                    catch (e_233_1) { e_233 = { error: e_233_1 }; }
                                    finally {
                                        try {
                                            if (_z && !_z.done && (_j = _q.return)) _j.call(_q);
                                        }
                                        finally { if (e_233) throw e_233.error; }
                                    }
                                }(_this._model, e); });
                                return _this;
                            }
                            Object.defineProperty(da.prototype, "isCollapsed", {
                                get: function () { return 0 === this._ranges.length ? this._document._getDefaultRange().isCollapsed : _super.prototype.isCollapsed; },
                                enumerable: true,
                                configurable: true
                            });
                            Object.defineProperty(da.prototype, "anchor", {
                                get: function () { return _super.prototype.anchor || this._document._getDefaultRange().start; },
                                enumerable: true,
                                configurable: true
                            });
                            Object.defineProperty(da.prototype, "focus", {
                                get: function () { return _super.prototype.focus || this._document._getDefaultRange().end; },
                                enumerable: true,
                                configurable: true
                            });
                            Object.defineProperty(da.prototype, "rangeCount", {
                                get: function () { return this._ranges.length ? this._ranges.length : 1; },
                                enumerable: true,
                                configurable: true
                            });
                            Object.defineProperty(da.prototype, "hasOwnRange", {
                                get: function () { return this._ranges.length > 0; },
                                enumerable: true,
                                configurable: true
                            });
                            Object.defineProperty(da.prototype, "isGravityOverridden", {
                                get: function () { return !!this._overriddenGravityRegister.size; },
                                enumerable: true,
                                configurable: true
                            });
                            da.prototype.destroy = function () { for (var t_109 = 0; t_109 < this._ranges.length; t_109++)
                                this._ranges[t_109].detach(); this.stopListening(); };
                            da.prototype.getRanges = function () { var _j; return __generator(this, function (_q) {
                                switch (_q.label) {
                                    case 0:
                                        if (!this._ranges.length) return [3 /*break*/, 2];
                                        return [5 /*yield**/, __values(_super.prototype.getRanges.call(this))];
                                    case 1:
                                        _j = _q.sent();
                                        return [3 /*break*/, 4];
                                    case 2: return [4 /*yield*/, this._document._getDefaultRange()];
                                    case 3:
                                        _j = _q.sent();
                                        _q.label = 4;
                                    case 4:
                                        _j;
                                        return [2 /*return*/];
                                }
                            }); };
                            da.prototype.getFirstRange = function () { return _super.prototype.getFirstRange.call(this) || this._document._getDefaultRange(); };
                            da.prototype.getLastRange = function () { return _super.prototype.getLastRange.call(this) || this._document._getDefaultRange(); };
                            da.prototype.setTo = function (t, e, n) { _super.prototype.setTo.call(this, t, e, n), this._updateAttributes(!0); };
                            da.prototype.setFocus = function (t, e) { _super.prototype.setFocus.call(this, t, e), this._updateAttributes(!0); };
                            da.prototype.setAttribute = function (t, e) { if (this._setAttribute(t, e)) {
                                var e_236 = [t];
                                this.fire("change:attribute", { attributeKeys: e_236, directChange: !0 });
                            } };
                            da.prototype.removeAttribute = function (t) { if (this._removeAttribute(t)) {
                                var e_237 = [t];
                                this.fire("change:attribute", { attributeKeys: e_237, directChange: !0 });
                            } };
                            da.prototype.overrideGravity = function () { var t = Zn(); return this._overriddenGravityRegister.add(t), 1 === this._overriddenGravityRegister.size && this._updateAttributes(!0), t; };
                            da.prototype.restoreGravity = function (t) { if (!this._overriddenGravityRegister.has(t))
                                throw new Gn.b("document-selection-gravity-wrong-restore: Attempting to restore the selection gravity for an unknown UID.", this, { uid: t }); this._overriddenGravityRegister.delete(t), this.isGravityOverridden || this._updateAttributes(!0); };
                            da.prototype._popRange = function () { this._ranges.pop().detach(); };
                            da.prototype._pushRange = function (t) { var e = this._prepareRange(t); e && this._ranges.push(e); };
                            da.prototype._prepareRange = function (t) {
                                var _this = this;
                                if (this._checkRange(t), t.root == this._document.graveyard)
                                    return;
                                var e = aa.fromRange(t);
                                return e.on("change:range", function (t, n, i) { _this._hasChangedRange = !0, e.root == _this._document.graveyard && _this._fixGraveyardRangesData.push({ liveRange: e, sourcePosition: i.deletionPosition }); }), e;
                            };
                            da.prototype._updateMarkers = function () {
                                var e_238, _j, e_239, _q, e_240, _z, e_241, _0;
                                var t = [];
                                try {
                                    for (var _1 = __values(this._model.markers), _2 = _1.next(); !_2.done; _2 = _1.next()) {
                                        var e_242 = _2.value;
                                        var n_97 = e_242.getRange();
                                        try {
                                            for (var _3 = __values(this.getRanges()), _4 = _3.next(); !_4.done; _4 = _3.next()) {
                                                var i_62 = _4.value;
                                                n_97.containsRange(i_62, !i_62.isCollapsed) && t.push(e_242);
                                            }
                                        }
                                        catch (e_239_1) { e_239 = { error: e_239_1 }; }
                                        finally {
                                            try {
                                                if (_4 && !_4.done && (_q = _3.return)) _q.call(_3);
                                            }
                                            finally { if (e_239) throw e_239.error; }
                                        }
                                    }
                                }
                                catch (e_238_1) { e_238 = { error: e_238_1 }; }
                                finally {
                                    try {
                                        if (_2 && !_2.done && (_j = _1.return)) _j.call(_1);
                                    }
                                    finally { if (e_238) throw e_238.error; }
                                }
                                try {
                                    for (var t_110 = __values(t), t_110_1 = t_110.next(); !t_110_1.done; t_110_1 = t_110.next()) {
                                        var e_243 = t_110_1.value;
                                        this.markers.has(e_243) || this.markers.add(e_243);
                                    }
                                }
                                catch (e_240_1) { e_240 = { error: e_240_1 }; }
                                finally {
                                    try {
                                        if (t_110_1 && !t_110_1.done && (_z = t_110.return)) _z.call(t_110);
                                    }
                                    finally { if (e_240) throw e_240.error; }
                                }
                                try {
                                    for (var _5 = __values(Array.from(this.markers)), _6 = _5.next(); !_6.done; _6 = _5.next()) {
                                        var e_244 = _6.value;
                                        t.includes(e_244) || this.markers.remove(e_244);
                                    }
                                }
                                catch (e_241_1) { e_241 = { error: e_241_1 }; }
                                finally {
                                    try {
                                        if (_6 && !_6.done && (_0 = _5.return)) _0.call(_5);
                                    }
                                    finally { if (e_241) throw e_241.error; }
                                }
                            };
                            da.prototype._updateAttributes = function (t) {
                                var e_245, _j, e_246, _q, e_247, _z;
                                var e = Fs(this._getSurroundingAttributes()), n = Fs(this.getAttributes());
                                if (t)
                                    this._attributePriority = new Map, this._attrs = new Map;
                                else
                                    try {
                                        for (var _0 = __values(this._attributePriority), _1 = _0.next(); !_1.done; _1 = _0.next()) {
                                            var _2 = __read(_1.value, 2), t_111 = _2[0], e_248 = _2[1];
                                            "low" == e_248 && (this._attrs.delete(t_111), this._attributePriority.delete(t_111));
                                        }
                                    }
                                    catch (e_245_1) { e_245 = { error: e_245_1 }; }
                                    finally {
                                        try {
                                            if (_1 && !_1.done && (_j = _0.return)) _j.call(_0);
                                        }
                                        finally { if (e_245) throw e_245.error; }
                                    }
                                this._setAttributesTo(e);
                                var i = [];
                                try {
                                    for (var _3 = __values(this.getAttributes()), _4 = _3.next(); !_4.done; _4 = _3.next()) {
                                        var _5 = __read(_4.value, 2), t_112 = _5[0], e_249 = _5[1];
                                        n.has(t_112) && n.get(t_112) === e_249 || i.push(t_112);
                                    }
                                }
                                catch (e_246_1) { e_246 = { error: e_246_1 }; }
                                finally {
                                    try {
                                        if (_4 && !_4.done && (_q = _3.return)) _q.call(_3);
                                    }
                                    finally { if (e_246) throw e_246.error; }
                                }
                                try {
                                    for (var n_98 = __values(n), n_98_1 = n_98.next(); !n_98_1.done; n_98_1 = n_98.next()) {
                                        var _6 = __read(n_98_1.value, 1), t_113 = _6[0];
                                        this.hasAttribute(t_113) || i.push(t_113);
                                    }
                                }
                                catch (e_247_1) { e_247 = { error: e_247_1 }; }
                                finally {
                                    try {
                                        if (n_98_1 && !n_98_1.done && (_z = n_98.return)) _z.call(n_98);
                                    }
                                    finally { if (e_247) throw e_247.error; }
                                }
                                i.length > 0 && this.fire("change:attribute", { attributeKeys: i, directChange: !1 });
                            };
                            da.prototype._setAttribute = function (t, e, n) {
                                if (n === void 0) { n = !0; }
                                var i = n ? "normal" : "low";
                                return ("low" != i || "normal" != this._attributePriority.get(t)) && (_super.prototype.getAttribute.call(this, t) !== e && (this._attrs.set(t, e), this._attributePriority.set(t, i), !0));
                            };
                            da.prototype._removeAttribute = function (t, e) {
                                if (e === void 0) { e = !0; }
                                var n = e ? "normal" : "low";
                                return ("low" != n || "normal" != this._attributePriority.get(t)) && (this._attributePriority.set(t, n), !!_super.prototype.hasAttribute.call(this, t) && (this._attrs.delete(t), !0));
                            };
                            da.prototype._setAttributesTo = function (t) {
                                var e_250, _j, e_251, _q;
                                var e = new Set;
                                try {
                                    for (var _z = __values(this.getAttributes()), _0 = _z.next(); !_0.done; _0 = _z.next()) {
                                        var _1 = __read(_0.value, 2), e_252 = _1[0], n_99 = _1[1];
                                        t.get(e_252) !== n_99 && this._removeAttribute(e_252, !1);
                                    }
                                }
                                catch (e_250_1) { e_250 = { error: e_250_1 }; }
                                finally {
                                    try {
                                        if (_0 && !_0.done && (_j = _z.return)) _j.call(_z);
                                    }
                                    finally { if (e_250) throw e_250.error; }
                                }
                                try {
                                    for (var t_114 = __values(t), t_114_1 = t_114.next(); !t_114_1.done; t_114_1 = t_114.next()) {
                                        var _2 = __read(t_114_1.value, 2), n_100 = _2[0], i_63 = _2[1];
                                        this._setAttribute(n_100, i_63, !1) && e.add(n_100);
                                    }
                                }
                                catch (e_251_1) { e_251 = { error: e_251_1 }; }
                                finally {
                                    try {
                                        if (t_114_1 && !t_114_1.done && (_q = t_114.return)) _q.call(t_114);
                                    }
                                    finally { if (e_251) throw e_251.error; }
                                }
                                return e;
                            };
                            da.prototype._getStoredAttributes = function () {
                                var e_253, _j, t, _q, _z, e_254, e_253_1;
                                return __generator(this, function (_0) {
                                    switch (_0.label) {
                                        case 0:
                                            t = this.getFirstPosition().parent;
                                            if (!(this.isCollapsed && t.isEmpty)) return [3 /*break*/, 8];
                                            _0.label = 1;
                                        case 1:
                                            _0.trys.push([1, 6, 7, 8]);
                                            _q = __values(t.getAttributeKeys()), _z = _q.next();
                                            _0.label = 2;
                                        case 2:
                                            if (!!_z.done) return [3 /*break*/, 5];
                                            e_254 = _z.value;
                                            if (!e_254.startsWith(ca)) return [3 /*break*/, 4];
                                            return [4 /*yield*/, [e_254.substr(ca.length), t.getAttribute(e_254)]];
                                        case 3:
                                            _0.sent();
                                            _0.label = 4;
                                        case 4:
                                            _z = _q.next();
                                            return [3 /*break*/, 2];
                                        case 5: return [3 /*break*/, 8];
                                        case 6:
                                            e_253_1 = _0.sent();
                                            e_253 = { error: e_253_1 };
                                            return [3 /*break*/, 8];
                                        case 7:
                                            try {
                                                if (_z && !_z.done && (_j = _q.return)) _j.call(_q);
                                            }
                                            finally { if (e_253) throw e_253.error; }
                                            return [7 /*endfinally*/];
                                        case 8: return [2 /*return*/];
                                    }
                                });
                            };
                            da.prototype._getSurroundingAttributes = function () {
                                var e_255, _j;
                                var t = this.getFirstPosition(), e = this._model.schema;
                                var n = null;
                                if (this.isCollapsed) {
                                    var e_256 = t.textNode ? t.textNode : t.nodeBefore, i_64 = t.textNode ? t.textNode : t.nodeAfter;
                                    if (this.isGravityOverridden || (n = ua(e_256)), n || (n = ua(i_64)), !this.isGravityOverridden && !n) {
                                        var t_116 = e_256;
                                        for (; t_116 && !n;)
                                            n = ua(t_116 = t_116.previousSibling);
                                    }
                                    if (!n) {
                                        var t_117 = i_64;
                                        for (; t_117 && !n;)
                                            n = ua(t_117 = t_117.nextSibling);
                                    }
                                    n || (n = this._getStoredAttributes());
                                }
                                else {
                                    var t_118 = this.getFirstRange();
                                    try {
                                        for (var t_115 = __values(t_118), t_115_1 = t_115.next(); !t_115_1.done; t_115_1 = t_115.next()) {
                                            var i_65 = t_115_1.value;
                                            if (i_65.item.is("element") && e.isObject(i_65.item))
                                                break;
                                            if ("text" == i_65.type) {
                                                n = i_65.item.getAttributes();
                                                break;
                                            }
                                        }
                                    }
                                    catch (e_255_1) { e_255 = { error: e_255_1 }; }
                                    finally {
                                        try {
                                            if (t_115_1 && !t_115_1.done && (_j = t_115.return)) _j.call(t_115);
                                        }
                                        finally { if (e_255) throw e_255.error; }
                                    }
                                }
                                return n;
                            };
                            da.prototype._fixGraveyardSelection = function (t, e) { var n = e.clone(), i = this._model.schema.getNearestSelectionRange(n), o = this._ranges.indexOf(t); if (this._ranges.splice(o, 1), t.detach(), i) {
                                var t_119 = this._prepareRange(i);
                                this._ranges.splice(o, 0, t_119);
                            } };
                            return da;
                        }(na));
                        function ua(t) { return t instanceof Hs || t instanceof Us ? t.getAttributes() : null; }
                        var ha = /** @class */ (function () {
                            function ha(t) {
                                this._dispatchers = t;
                            }
                            ha.prototype.add = function (t) {
                                var e_257, _j;
                                try {
                                    for (var _q = __values(this._dispatchers), _z = _q.next(); !_z.done; _z = _q.next()) {
                                        var e_258 = _z.value;
                                        t(e_258);
                                    }
                                }
                                catch (e_257_1) { e_257 = { error: e_257_1 }; }
                                finally {
                                    try {
                                        if (_z && !_z.done && (_j = _q.return)) _j.call(_q);
                                    }
                                    finally { if (e_257) throw e_257.error; }
                                }
                                return this;
                            };
                            return ha;
                        }());
                        var fa = 1, pa = 4;
                        var ma = function (t) { return Un(t, fa | pa); };
                        var ga = /** @class */ (function (_super) {
                            __extends(ga, _super);
                            function ga() {
                                return _super !== null && _super.apply(this, arguments) || this;
                            }
                            ga.prototype.elementToElement = function (t) { return this.add(function (t) { return (t = ma(t)).view = ba(t.view, "container"), function (e) { e.on("insert:" + t.model, function (t) { return function (e, n, i) { var o = t(n.item, i.writer); if (!o)
                                return; if (!i.consumable.consume(n.item, "insert"))
                                return; var r = i.mapper.toViewPosition(n.range.start); i.mapper.bindElements(n.item, o), i.writer.insert(r, o); }; }(t.view), { priority: t.converterPriority || "normal" }); }; }(t)); };
                            ga.prototype.attributeToElement = function (t) { return this.add(function (t) {
                                var e_259, _j;
                                var e = "attribute:" + ((t = ma(t)).model.key ? t.model.key : t.model);
                                t.model.name && (e += ":" + t.model.name);
                                if (t.model.values)
                                    try {
                                        for (var _q = __values(t.model.values), _z = _q.next(); !_z.done; _z = _q.next()) {
                                            var e_260 = _z.value;
                                            t.view[e_260] = ba(t.view[e_260], "attribute");
                                        }
                                    }
                                    catch (e_259_1) { e_259 = { error: e_259_1 }; }
                                    finally {
                                        try {
                                            if (_z && !_z.done && (_j = _q.return)) _j.call(_q);
                                        }
                                        finally { if (e_259) throw e_259.error; }
                                    }
                                else
                                    t.view = ba(t.view, "attribute");
                                var n = ka(t);
                                return function (i) { i.on(e, function (t) { return function (e, n, i) { var o = t(n.attributeOldValue, i.writer), r = t(n.attributeNewValue, i.writer); if (!o && !r)
                                    return; if (!i.consumable.consume(n.item, e.name))
                                    return; var s = i.writer, a = s.document.selection; if (n.item instanceof na || n.item instanceof la)
                                    s.wrap(a.getFirstRange(), r);
                                else {
                                    var t_120 = i.mapper.toViewRange(n.range);
                                    null !== n.attributeOldValue && o && (t_120 = s.unwrap(t_120, o)), null !== n.attributeNewValue && r && s.wrap(t_120, r);
                                } }; }(n), { priority: t.converterPriority || "normal" }); };
                            }(t)); };
                            ga.prototype.attributeToAttribute = function (t) { return this.add(function (t) {
                                var e_261, _j;
                                var e = "attribute:" + ((t = ma(t)).model.key ? t.model.key : t.model);
                                t.model.name && (e += ":" + t.model.name);
                                if (t.model.values)
                                    try {
                                        for (var _q = __values(t.model.values), _z = _q.next(); !_z.done; _z = _q.next()) {
                                            var e_262 = _z.value;
                                            t.view[e_262] = wa(t.view[e_262]);
                                        }
                                    }
                                    catch (e_261_1) { e_261 = { error: e_261_1 }; }
                                    finally {
                                        try {
                                            if (_z && !_z.done && (_j = _q.return)) _j.call(_q);
                                        }
                                        finally { if (e_261) throw e_261.error; }
                                    }
                                else
                                    t.view = wa(t.view);
                                var n = ka(t);
                                return function (i) { i.on(e, function (t) { return function (e, n, i) {
                                    var e_263, _j, e_264, _q, e_265, _z, e_266, _0;
                                    var o = t(n.attributeOldValue, n), r = t(n.attributeNewValue, n);
                                    if (!o && !r)
                                        return;
                                    if (!i.consumable.consume(n.item, e.name))
                                        return;
                                    var s = i.mapper.toViewElement(n.item), a = i.writer;
                                    if (!s)
                                        throw new Gn.b("conversion-attribute-to-attribute-on-text: Trying to convert text node's attribute with attribute-to-attribute converter.", [n, i]);
                                    if (null !== n.attributeOldValue && o)
                                        if ("class" == o.key) {
                                            var t_125 = Array.isArray(o.value) ? o.value : [o.value];
                                            try {
                                                for (var t_121 = __values(t_125), t_121_1 = t_121.next(); !t_121_1.done; t_121_1 = t_121.next()) {
                                                    var e_267 = t_121_1.value;
                                                    a.removeClass(e_267, s);
                                                }
                                            }
                                            catch (e_263_1) { e_263 = { error: e_263_1 }; }
                                            finally {
                                                try {
                                                    if (t_121_1 && !t_121_1.done && (_j = t_121.return)) _j.call(t_121);
                                                }
                                                finally { if (e_263) throw e_263.error; }
                                            }
                                        }
                                        else if ("style" == o.key) {
                                            var t_126 = Object.keys(o.value);
                                            try {
                                                for (var t_122 = __values(t_126), t_122_1 = t_122.next(); !t_122_1.done; t_122_1 = t_122.next()) {
                                                    var e_268 = t_122_1.value;
                                                    a.removeStyle(e_268, s);
                                                }
                                            }
                                            catch (e_264_1) { e_264 = { error: e_264_1 }; }
                                            finally {
                                                try {
                                                    if (t_122_1 && !t_122_1.done && (_q = t_122.return)) _q.call(t_122);
                                                }
                                                finally { if (e_264) throw e_264.error; }
                                            }
                                        }
                                        else
                                            a.removeAttribute(o.key, s);
                                    if (null !== n.attributeNewValue && r)
                                        if ("class" == r.key) {
                                            var t_127 = Array.isArray(r.value) ? r.value : [r.value];
                                            try {
                                                for (var t_123 = __values(t_127), t_123_1 = t_123.next(); !t_123_1.done; t_123_1 = t_123.next()) {
                                                    var e_269 = t_123_1.value;
                                                    a.addClass(e_269, s);
                                                }
                                            }
                                            catch (e_265_1) { e_265 = { error: e_265_1 }; }
                                            finally {
                                                try {
                                                    if (t_123_1 && !t_123_1.done && (_z = t_123.return)) _z.call(t_123);
                                                }
                                                finally { if (e_265) throw e_265.error; }
                                            }
                                        }
                                        else if ("style" == r.key) {
                                            var t_128 = Object.keys(r.value);
                                            try {
                                                for (var t_124 = __values(t_128), t_124_1 = t_124.next(); !t_124_1.done; t_124_1 = t_124.next()) {
                                                    var e_270 = t_124_1.value;
                                                    a.setStyle(e_270, r.value[e_270], s);
                                                }
                                            }
                                            catch (e_266_1) { e_266 = { error: e_266_1 }; }
                                            finally {
                                                try {
                                                    if (t_124_1 && !t_124_1.done && (_0 = t_124.return)) _0.call(t_124);
                                                }
                                                finally { if (e_266) throw e_266.error; }
                                            }
                                        }
                                        else
                                            a.setAttribute(r.key, r.value, s);
                                }; }(n), { priority: t.converterPriority || "normal" }); };
                            }(t)); };
                            ga.prototype.markerToElement = function (t) { return this.add(function (t) { return (t = ma(t)).view = ba(t.view, "ui"), function (e) { e.on("addMarker:" + t.model, function (t) { return function (e, n, i) {
                                var e_271, _j;
                                n.isOpening = !0;
                                var o = t(n, i.writer);
                                n.isOpening = !1;
                                var r = t(n, i.writer);
                                if (!o || !r)
                                    return;
                                var s = n.markerRange;
                                if (s.isCollapsed && !i.consumable.consume(s, e.name))
                                    return;
                                try {
                                    for (var s_13 = __values(s), s_13_1 = s_13.next(); !s_13_1.done; s_13_1 = s_13.next()) {
                                        var t_129 = s_13_1.value;
                                        if (!i.consumable.consume(t_129.item, e.name))
                                            return;
                                    }
                                }
                                catch (e_271_1) { e_271 = { error: e_271_1 }; }
                                finally {
                                    try {
                                        if (s_13_1 && !s_13_1.done && (_j = s_13.return)) _j.call(s_13);
                                    }
                                    finally { if (e_271) throw e_271.error; }
                                }
                                var a = i.mapper, c = i.writer;
                                c.insert(a.toViewPosition(s.start), o), i.mapper.bindElementToMarker(o, n.markerName), s.isCollapsed || (c.insert(a.toViewPosition(s.end), r), i.mapper.bindElementToMarker(r, n.markerName)), e.stop();
                            }; }(t.view), { priority: t.converterPriority || "normal" }), e.on("removeMarker:" + t.model, (t.view, function (t, e, n) {
                                var e_272, _j;
                                var i = n.mapper.markerNameToElements(e.markerName);
                                if (i) {
                                    try {
                                        for (var i_66 = __values(i), i_66_1 = i_66.next(); !i_66_1.done; i_66_1 = i_66.next()) {
                                            var t_130 = i_66_1.value;
                                            n.mapper.unbindElementFromMarkerName(t_130, e.markerName), n.writer.clear(n.writer.createRangeOn(t_130), t_130);
                                        }
                                    }
                                    catch (e_272_1) { e_272 = { error: e_272_1 }; }
                                    finally {
                                        try {
                                            if (i_66_1 && !i_66_1.done && (_j = i_66.return)) _j.call(i_66);
                                        }
                                        finally { if (e_272) throw e_272.error; }
                                    }
                                    n.writer.clearClonedElementsGroup(e.markerName), t.stop();
                                }
                            }), { priority: t.converterPriority || "normal" }); }; }(t)); };
                            ga.prototype.markerToHighlight = function (t) { return this.add(function (t) { return function (e) { e.on("addMarker:" + t.model, function (t) { return function (e, n, i) {
                                var e_273, _j;
                                if (!n.item)
                                    return;
                                if (!(n.item instanceof na || n.item instanceof la || n.item.is("textProxy")))
                                    return;
                                var o = va(t, n, i);
                                if (!o)
                                    return;
                                if (!i.consumable.consume(n.item, e.name))
                                    return;
                                var r = xa(o), s = i.writer, a = s.document.selection;
                                if (n.item instanceof na || n.item instanceof la)
                                    s.wrap(a.getFirstRange(), r, a);
                                else {
                                    var t_131 = i.mapper.toViewRange(n.range), e_274 = s.wrap(t_131, r);
                                    try {
                                        for (var _q = __values(e_274.getItems()), _z = _q.next(); !_z.done; _z = _q.next()) {
                                            var t_132 = _z.value;
                                            if (t_132.is("attributeElement") && t_132.isSimilar(r)) {
                                                i.mapper.bindElementToMarker(t_132, n.markerName);
                                                break;
                                            }
                                        }
                                    }
                                    catch (e_273_1) { e_273 = { error: e_273_1 }; }
                                    finally {
                                        try {
                                            if (_z && !_z.done && (_j = _q.return)) _j.call(_q);
                                        }
                                        finally { if (e_273) throw e_273.error; }
                                    }
                                }
                            }; }(t.view), { priority: t.converterPriority || "normal" }), e.on("addMarker:" + t.model, function (t) { return function (e, n, i) {
                                var e_275, _j;
                                if (!n.item)
                                    return;
                                if (!(n.item instanceof Ys))
                                    return;
                                var o = va(t, n, i);
                                if (!o)
                                    return;
                                if (!i.consumable.test(n.item, e.name))
                                    return;
                                var r = i.mapper.toViewElement(n.item);
                                if (r && r.getCustomProperty("addHighlight")) {
                                    i.consumable.consume(n.item, e.name);
                                    try {
                                        for (var _q = __values(Ks._createIn(n.item)), _z = _q.next(); !_z.done; _z = _q.next()) {
                                            var t_133 = _z.value;
                                            i.consumable.consume(t_133.item, e.name);
                                        }
                                    }
                                    catch (e_275_1) { e_275 = { error: e_275_1 }; }
                                    finally {
                                        try {
                                            if (_z && !_z.done && (_j = _q.return)) _j.call(_q);
                                        }
                                        finally { if (e_275) throw e_275.error; }
                                    }
                                    r.getCustomProperty("addHighlight")(r, o, i.writer), i.mapper.bindElementToMarker(r, n.markerName);
                                }
                            }; }(t.view), { priority: t.converterPriority || "normal" }), e.on("removeMarker:" + t.model, function (t) { return function (e, n, i) {
                                var e_276, _j;
                                if (n.markerRange.isCollapsed)
                                    return;
                                var o = va(t, n, i);
                                if (!o)
                                    return;
                                var r = xa(o), s = i.mapper.markerNameToElements(n.markerName);
                                if (s) {
                                    try {
                                        for (var s_14 = __values(s), s_14_1 = s_14.next(); !s_14_1.done; s_14_1 = s_14.next()) {
                                            var t_134 = s_14_1.value;
                                            i.mapper.unbindElementFromMarkerName(t_134, n.markerName), t_134.is("attributeElement") ? i.writer.unwrap(i.writer.createRangeOn(t_134), r) : t_134.getCustomProperty("removeHighlight")(t_134, o.id, i.writer);
                                        }
                                    }
                                    catch (e_276_1) { e_276 = { error: e_276_1 }; }
                                    finally {
                                        try {
                                            if (s_14_1 && !s_14_1.done && (_j = s_14.return)) _j.call(s_14);
                                        }
                                        finally { if (e_276) throw e_276.error; }
                                    }
                                    i.writer.clearClonedElementsGroup(n.markerName), e.stop();
                                }
                            }; }(t.view), { priority: t.converterPriority || "normal" }); }; }(t)); };
                            return ga;
                        }(ha));
                        function xa(t) { var e = new co("span", t.attributes); return t.classes && e._addClass(t.classes), t.priority && (e._priority = t.priority), e._id = t.id, e; }
                        function ba(t, e) { return "function" == typeof t ? t : function (n, i) { return (function (t, e, n) {
                            var e_277, _j, e_278, _q;
                            "string" == typeof t && (t = { name: t });
                            var i;
                            var o = Object.assign({}, t.attributes);
                            if ("container" == n)
                                i = e.createContainerElement(t.name, o);
                            else if ("attribute" == n) {
                                var n_103 = { priority: t.priority || co.DEFAULT_PRIORITY };
                                i = e.createAttributeElement(t.name, o, n_103);
                            }
                            else
                                i = e.createUIElement(t.name, o);
                            if (t.styles) {
                                var n_104 = Object.keys(t.styles);
                                try {
                                    for (var n_101 = __values(n_104), n_101_1 = n_101.next(); !n_101_1.done; n_101_1 = n_101.next()) {
                                        var o_37 = n_101_1.value;
                                        e.setStyle(o_37, t.styles[o_37], i);
                                    }
                                }
                                catch (e_277_1) { e_277 = { error: e_277_1 }; }
                                finally {
                                    try {
                                        if (n_101_1 && !n_101_1.done && (_j = n_101.return)) _j.call(n_101);
                                    }
                                    finally { if (e_277) throw e_277.error; }
                                }
                            }
                            if (t.classes) {
                                var n_105 = t.classes;
                                if ("string" == typeof n_105)
                                    e.addClass(n_105, i);
                                else
                                    try {
                                        for (var n_102 = __values(n_105), n_102_1 = n_102.next(); !n_102_1.done; n_102_1 = n_102.next()) {
                                            var t_135 = n_102_1.value;
                                            e.addClass(t_135, i);
                                        }
                                    }
                                    catch (e_278_1) { e_278 = { error: e_278_1 }; }
                                    finally {
                                        try {
                                            if (n_102_1 && !n_102_1.done && (_q = n_102.return)) _q.call(n_102);
                                        }
                                        finally { if (e_278) throw e_278.error; }
                                    }
                            }
                            return i;
                        })(t, i, e); }; }
                        function ka(t) { return t.model.values ? function (e, n) { var i = t.view[e]; return i ? i(e, n) : null; } : t.view; }
                        function wa(t) { return "string" == typeof t ? function (e) { return ({ key: t, value: e }); } : "object" == typeof t ? t.value ? function () { return t; } : function (e) { return ({ key: t.key, value: e }); } : t; }
                        function va(t, e, n) { var i = "function" == typeof t ? t(e, n) : t; return i ? (i.priority || (i.priority = 10), i.id || (i.id = e.markerName), i) : null; }
                        var ya = /** @class */ (function (_super) {
                            __extends(ya, _super);
                            function ya() {
                                return _super !== null && _super.apply(this, arguments) || this;
                            }
                            ya.prototype.elementToElement = function (t) { return this.add(_a(t)); };
                            ya.prototype.elementToAttribute = function (t) { return this.add(function (t) { Ta(t = ma(t)); var e = Aa(t, !1), n = Ca(t.view), i = n ? "element:" + n : "element"; return function (n) { n.on(i, e, { priority: t.converterPriority || "low" }); }; }(t)); };
                            ya.prototype.attributeToAttribute = function (t) { return this.add(function (t) { var e = null; ("string" == typeof (t = ma(t)).view || t.view.key) && (e = function (t) {
                                var _j, _q;
                                "string" == typeof t.view && (t.view = { key: t.view });
                                var e = t.view.key;
                                var n;
                                if ("class" == e || "style" == e) {
                                    var i_67 = "class" == e ? "classes" : "styles";
                                    n = (_j = {}, _j[i_67] = t.view.value, _j);
                                }
                                else {
                                    var i_68 = void 0 === t.view.value ? /[\s\S]*/ : t.view.value;
                                    n = { attributes: (_q = {}, _q[e] = i_68, _q) };
                                }
                                t.view.name && (n.name = t.view.name);
                                return t.view = n, e;
                            }(t)); Ta(t, e); var n = Aa(t, !0); return function (e) { e.on("element", n, { priority: t.converterPriority || "low" }); }; }(t)); };
                            ya.prototype.elementToMarker = function (t) { return this.add(function (t) { return function (t) { var e = t.model; t.model = (function (t, n) { var i = "string" == typeof e ? e : e(t); return n.createElement("$marker", { "data-name": i }); }); }(t = ma(t)), _a(t); }(t)); };
                            return ya;
                        }(ha));
                        function _a(t) { var e = function (t) { var e = t.view ? new bi(t.view) : null; return function (n, i, o) { var r = {}; if (e) {
                            var t_136 = e.match(i.viewItem);
                            if (!t_136)
                                return;
                            r = t_136.match;
                        } r.name = !0; var s = function (t, e, n) { return t instanceof Function ? t(e, n) : n.createElement(t); }(t.model, i.viewItem, o.writer); if (!s)
                            return; if (!o.consumable.test(i.viewItem, r))
                            return; var a = o.splitToAllowedParent(s, i.modelCursor); if (!a)
                            return; o.writer.insert(s, a.position), o.convertChildren(i.viewItem, o.writer.createPositionAt(s, 0)), o.consumable.consume(i.viewItem, r); var c = o.getSplitParts(s); i.modelRange = new Ks(o.writer.createPositionBefore(s), o.writer.createPositionAfter(c[c.length - 1])), a.cursorParent ? i.modelCursor = o.writer.createPositionAt(a.cursorParent, 0) : i.modelCursor = i.modelRange.end; }; }(t = ma(t)), n = Ca(t.view), i = n ? "element:" + n : "element"; return function (n) { n.on(i, e, { priority: t.converterPriority || "normal" }); }; }
                        function Ca(t) { return "string" == typeof t ? t : "object" == typeof t && "string" == typeof t.name ? t.name : null; }
                        function Ta(t, e) {
                            if (e === void 0) { e = null; }
                            var n = null === e || (function (t) { return t.getAttribute(e); }), i = "object" != typeof t.model ? t.model : t.model.key, o = "object" != typeof t.model || void 0 === t.model.value ? n : t.model.value;
                            t.model = { key: i, value: o };
                        }
                        function Aa(t, e) { var n = new bi(t.view); return function (i, o, r) { var s = n.match(o.viewItem); if (!s)
                            return; var a = t.model.key, c = "function" == typeof t.model.value ? t.model.value(o.viewItem) : t.model.value; null !== c && (!function (t, e) { var n = "function" == typeof t ? t(e) : t; if ("object" == typeof n && !Ca(n))
                            return !1; return !n.classes && !n.attributes && !n.styles; }(t.view, o.viewItem) ? delete s.match.name : s.match.name = !0, r.consumable.test(o.viewItem, s.match) && (o.modelRange || (o = Object.assign(o, r.convertChildren(o.viewItem, o.modelCursor))), function (t, e, n, i) {
                            var e_279, _j;
                            var o = !1;
                            try {
                                for (var _q = __values(Array.from(t.getItems({ shallow: n }))), _z = _q.next(); !_z.done; _z = _q.next()) {
                                    var r_14 = _z.value;
                                    i.schema.checkAttribute(r_14, e.key) && (i.writer.setAttribute(e.key, e.value, r_14), o = !0);
                                }
                            }
                            catch (e_279_1) { e_279 = { error: e_279_1 }; }
                            finally {
                                try {
                                    if (_z && !_z.done && (_j = _q.return)) _j.call(_q);
                                }
                                finally { if (e_279) throw e_279.error; }
                            }
                            return o;
                        }(o.modelRange, { key: a, value: c }, e, r) && r.consumable.consume(o.viewItem, s.match))); }; }
                        var Sa = /** @class */ (function () {
                            function Sa(t) {
                                var _this = this;
                                this.model = t, this.view = new Vs, this.mapper = new Qs, this.downcastDispatcher = new ta({ mapper: this.mapper });
                                var e = this.model.document, n = e.selection, i = this.model.markers;
                                this.listenTo(this.model, "_beforeChanges", function () { _this.view._disableRendering(!0); }, { priority: "highest" }), this.listenTo(this.model, "_afterChanges", function () { _this.view._disableRendering(!1); }, { priority: "lowest" }), this.listenTo(e, "change", function () { _this.view.change(function (t) { _this.downcastDispatcher.convertChanges(e.differ, i, t), _this.downcastDispatcher.convertSelection(n, i, t); }); }, { priority: "low" }), this.listenTo(this.view.document, "selectionChange", function (t, e) { return function (n, i) {
                                    var e_280, _j;
                                    var o = i.newSelection, r = new na, s = [];
                                    try {
                                        for (var _q = __values(o.getRanges()), _z = _q.next(); !_z.done; _z = _q.next()) {
                                            var t_137 = _z.value;
                                            s.push(e.toModelRange(t_137));
                                        }
                                    }
                                    catch (e_280_1) { e_280 = { error: e_280_1 }; }
                                    finally {
                                        try {
                                            if (_z && !_z.done && (_j = _q.return)) _j.call(_q);
                                        }
                                        finally { if (e_280) throw e_280.error; }
                                    }
                                    r.setTo(s, { backward: o.isBackward }), r.isEqual(t.document.selection) || t.change(function (t) { t.setSelection(r); });
                                }; }(this.model, this.mapper)), this.downcastDispatcher.on("insert:$text", function (t, e, n) { if (!n.consumable.consume(e.item, "insert"))
                                    return; var i = n.writer, o = n.mapper.toViewPosition(e.range.start), r = i.createText(e.item.data); i.insert(o, r); }, { priority: "lowest" }), this.downcastDispatcher.on("remove", function (t, e, n) {
                                    var e_281, _j;
                                    var i = n.mapper.toViewPosition(e.position), o = e.position.getShiftedBy(e.length), r = n.mapper.toViewPosition(o, { isPhantom: !0 }), s = n.writer.createRange(i, r), a = n.writer.remove(s.getTrimmed());
                                    try {
                                        for (var _q = __values(n.writer.createRangeIn(a).getItems()), _z = _q.next(); !_z.done; _z = _q.next()) {
                                            var t_138 = _z.value;
                                            n.mapper.unbindViewElement(t_138);
                                        }
                                    }
                                    catch (e_281_1) { e_281 = { error: e_281_1 }; }
                                    finally {
                                        try {
                                            if (_z && !_z.done && (_j = _q.return)) _j.call(_q);
                                        }
                                        finally { if (e_281) throw e_281.error; }
                                    }
                                }, { priority: "low" }), this.downcastDispatcher.on("selection", function (t, e, n) {
                                    var e_282, _j;
                                    var i = n.writer, o = i.document.selection;
                                    try {
                                        for (var _q = __values(o.getRanges()), _z = _q.next(); !_z.done; _z = _q.next()) {
                                            var t_139 = _z.value;
                                            t_139.isCollapsed && t_139.end.parent.document && n.writer.mergeAttributes(t_139.start);
                                        }
                                    }
                                    catch (e_282_1) { e_282 = { error: e_282_1 }; }
                                    finally {
                                        try {
                                            if (_z && !_z.done && (_j = _q.return)) _j.call(_q);
                                        }
                                        finally { if (e_282) throw e_282.error; }
                                    }
                                    i.setSelection(null);
                                }, { priority: "low" }), this.downcastDispatcher.on("selection", function (t, e, n) {
                                    var e_283, _j;
                                    var i = e.selection;
                                    if (i.isCollapsed)
                                        return;
                                    if (!n.consumable.consume(i, "selection"))
                                        return;
                                    var o = [];
                                    try {
                                        for (var _q = __values(i.getRanges()), _z = _q.next(); !_z.done; _z = _q.next()) {
                                            var t_140 = _z.value;
                                            var e_284 = n.mapper.toViewRange(t_140);
                                            o.push(e_284);
                                        }
                                    }
                                    catch (e_283_1) { e_283 = { error: e_283_1 }; }
                                    finally {
                                        try {
                                            if (_z && !_z.done && (_j = _q.return)) _j.call(_q);
                                        }
                                        finally { if (e_283) throw e_283.error; }
                                    }
                                    n.writer.setSelection(o, { backward: i.isBackward });
                                }, { priority: "low" }), this.downcastDispatcher.on("selection", function (t, e, n) { var i = e.selection; if (!i.isCollapsed)
                                    return; if (!n.consumable.consume(i, "selection"))
                                    return; var o = n.writer, r = i.getFirstPosition(), s = n.mapper.toViewPosition(r), a = o.breakAttributes(s); o.setSelection(a); }, { priority: "low" }), this.view.document.roots.bindTo(this.model.document.roots).using(function (t) { if ("$graveyard" == t.rootName)
                                    return null; var e = new Qi(t.name); return e.rootName = t.rootName, e._document = _this.view.document, _this.mapper.bindElements(t, e), e; });
                            }
                            Sa.prototype.destroy = function () { this.view.destroy(), this.stopListening(); };
                            return Sa;
                        }());
                        li(Sa, Ui);
                        var Ea = /** @class */ (function () {
                            function Ea(t, e) {
                                var e_285, _j;
                                if (e === void 0) { e = []; }
                                this._editor = t, this._availablePlugins = new Map, this._plugins = new Map;
                                try {
                                    for (var e_286 = __values(e), e_286_1 = e_286.next(); !e_286_1.done; e_286_1 = e_286.next()) {
                                        var t_141 = e_286_1.value;
                                        this._availablePlugins.set(t_141, t_141), t_141.pluginName && this._availablePlugins.set(t_141.pluginName, t_141);
                                    }
                                }
                                catch (e_285_1) { e_285 = { error: e_285_1 }; }
                                finally {
                                    try {
                                        if (e_286_1 && !e_286_1.done && (_j = e_286.return)) _j.call(e_286);
                                    }
                                    finally { if (e_285) throw e_285.error; }
                                }
                            }
                            Ea.prototype[Symbol.iterator] = function () {
                                var e_287, _j, _q, _z, t_142, _0, e_287_1;
                                return __generator(this, function (_1) {
                                    switch (_1.label) {
                                        case 0:
                                            _1.trys.push([0, 6, 7, 8]);
                                            _q = __values(this._plugins), _z = _q.next();
                                            _1.label = 1;
                                        case 1:
                                            if (!!_z.done) return [3 /*break*/, 5];
                                            t_142 = _z.value;
                                            _0 = "function" == typeof t_142[0];
                                            if (!_0) return [3 /*break*/, 3];
                                            return [4 /*yield*/, t_142];
                                        case 2:
                                            _0 = (_1.sent());
                                            _1.label = 3;
                                        case 3:
                                            _0;
                                            _1.label = 4;
                                        case 4:
                                            _z = _q.next();
                                            return [3 /*break*/, 1];
                                        case 5: return [3 /*break*/, 8];
                                        case 6:
                                            e_287_1 = _1.sent();
                                            e_287 = { error: e_287_1 };
                                            return [3 /*break*/, 8];
                                        case 7:
                                            try {
                                                if (_z && !_z.done && (_j = _q.return)) _j.call(_q);
                                            }
                                            finally { if (e_287) throw e_287.error; }
                                            return [7 /*endfinally*/];
                                        case 8: return [2 /*return*/];
                                    }
                                });
                            };
                            Ea.prototype.get = function (t) { var e = this._plugins.get(t); if (!e) {
                                var e_288 = "plugincollection-plugin-not-loaded: The requested plugin is not loaded.";
                                var n_106 = t;
                                throw "function" == typeof t && (n_106 = t.pluginName || t.name), new Gn.b(e_288, this._editor, { plugin: n_106 });
                            } return e; };
                            Ea.prototype.has = function (t) { return this._plugins.has(t); };
                            Ea.prototype.init = function (t, e) {
                                if (e === void 0) { e = []; }
                                var n = this, i = this._editor, o = new Set, r = [], s = h(t), a = h(e), c = function (t) {
                                    var e_289, _j;
                                    var e = [];
                                    try {
                                        for (var t_143 = __values(t), t_143_1 = t_143.next(); !t_143_1.done; t_143_1 = t_143.next()) {
                                            var n_107 = t_143_1.value;
                                            u(n_107) || e.push(n_107);
                                        }
                                    }
                                    catch (e_289_1) { e_289 = { error: e_289_1 }; }
                                    finally {
                                        try {
                                            if (t_143_1 && !t_143_1.done && (_j = t_143.return)) _j.call(t_143);
                                        }
                                        finally { if (e_289) throw e_289.error; }
                                    }
                                    return e.length ? e : null;
                                }(t);
                                if (c) {
                                    var t_144 = "plugincollection-plugin-not-found: Some plugins are not available and could not be loaded.";
                                    return console.error(Object(Gn.a)(t_144), { plugins: c }), Promise.reject(new Gn.b(t_144, this._editor, { plugins: c }));
                                }
                                return Promise.all(s.map(l)).then(function () { return d(r, "init"); }).then(function () { return d(r, "afterInit"); }).then(function () { return r; });
                                function l(t) { if (!a.includes(t) && !n._plugins.has(t) && !o.has(t))
                                    return function (t) { return new Promise(function (s) { o.add(t), t.requires && t.requires.forEach(function (n) { var o = u(n); if (e.includes(o))
                                        throw new Gn.b("plugincollection-required: Cannot load a plugin because one of its dependencies is listed inthe `removePlugins` option.", i, { plugin: o, requiredBy: t }); l(o); }); var a = new t(i); n._add(t, a), r.push(a), s(); }); }(t).catch(function (e) { throw console.error(Object(Gn.a)("plugincollection-load: It was not possible to load the plugin."), { plugin: t }), e; }); }
                                function d(t, e) { return t.reduce(function (t, n) { return n[e] ? t.then(n[e].bind(n)) : t; }, Promise.resolve()); }
                                function u(t) { return "function" == typeof t ? t : n._availablePlugins.get(t); }
                                function h(t) { return t.map(function (t) { return u(t); }).filter(function (t) { return !!t; }); }
                            };
                            Ea.prototype.destroy = function () { var t = Array.from(this).map(function (_j) {
                                var _q = __read(_j, 2), t = _q[1];
                                return t;
                            }).filter(function (t) { return "function" == typeof t.destroy; }).map(function (t) { return t.destroy(); }); return Promise.all(t); };
                            Ea.prototype._add = function (t, e) { this._plugins.set(t, e); var n = t.pluginName; if (n) {
                                if (this._plugins.has(n))
                                    throw new Gn.b("plugincollection-plugin-name-conflict: Two plugins with the same name were loaded.", null, { pluginName: n, plugin1: this._plugins.get(n).constructor, plugin2: t });
                                this._plugins.set(n, e);
                            } };
                            return Ea;
                        }());
                        li(Ea, ni);
                        var Pa = /** @class */ (function () {
                            function Pa() {
                                this._commands = new Map;
                            }
                            Pa.prototype.add = function (t, e) { this._commands.set(t, e); };
                            Pa.prototype.get = function (t) { return this._commands.get(t); };
                            Pa.prototype.execute = function (t) {
                                var e = [];
                                for (var _j = 1; _j < arguments.length; _j++) {
                                    e[_j - 1] = arguments[_j];
                                }
                                var n = this.get(t);
                                if (!n)
                                    throw new Gn.b("commandcollection-command-not-found: Command does not exist.", this, { commandName: t });
                                n.execute.apply(n, __spread(e));
                            };
                            Pa.prototype.names = function () { return __generator(this, function (_j) {
                                switch (_j.label) {
                                    case 0: return [5 /*yield**/, __values(this._commands.keys())];
                                    case 1:
                                        _j.sent();
                                        return [2 /*return*/];
                                }
                            }); };
                            Pa.prototype.commands = function () { return __generator(this, function (_j) {
                                switch (_j.label) {
                                    case 0: return [5 /*yield**/, __values(this._commands.values())];
                                    case 1:
                                        _j.sent();
                                        return [2 /*return*/];
                                }
                            }); };
                            Pa.prototype[Symbol.iterator] = function () { return this._commands[Symbol.iterator](); };
                            Pa.prototype.destroy = function () {
                                var e_290, _j;
                                try {
                                    for (var _q = __values(this.commands()), _z = _q.next(); !_z.done; _z = _q.next()) {
                                        var t_145 = _z.value;
                                        t_145.destroy();
                                    }
                                }
                                catch (e_290_1) { e_290 = { error: e_290_1 }; }
                                finally {
                                    try {
                                        if (_z && !_z.done && (_j = _q.return)) _j.call(_q);
                                    }
                                    finally { if (e_290) throw e_290.error; }
                                }
                            };
                            return Pa;
                        }());
                        function Ia(t, e) { var n = Object.keys(window.CKEDITOR_TRANSLATIONS).length; return 1 === n && (t = Object.keys(window.CKEDITOR_TRANSLATIONS)[0]), 0 !== n && function (t, e) { return t in window.CKEDITOR_TRANSLATIONS && e in window.CKEDITOR_TRANSLATIONS[t]; }(t, e) ? window.CKEDITOR_TRANSLATIONS[t][e].replace(/ \[context: [^\]]+\]$/, "") : e.replace(/ \[context: [^\]]+\]$/, ""); }
                        window.CKEDITOR_TRANSLATIONS || (window.CKEDITOR_TRANSLATIONS = {});
                        var Na = ["ar", "fa", "he", "ku", "ug"];
                        var Ma = /** @class */ (function () {
                            function Ma(t) {
                                var _this = this;
                                if (t === void 0) { t = {}; }
                                this.uiLanguage = t.uiLanguage || "en", this.contentLanguage = t.contentLanguage || this.uiLanguage, this.uiLanguageDirection = Oa(this.uiLanguage), this.contentLanguageDirection = Oa(this.contentLanguage), this.t = (function () {
                                    var t = [];
                                    for (var _j = 0; _j < arguments.length; _j++) {
                                        t[_j] = arguments[_j];
                                    }
                                    return _this._t.apply(_this, __spread(t));
                                });
                            }
                            Object.defineProperty(Ma.prototype, "language", {
                                get: function () { return console.warn("locale-deprecated-language-property: The Locale#language property has been deprecated and will be removed in the near future. Please use #uiLanguage and #contentLanguage properties instead."), this.uiLanguage; },
                                enumerable: true,
                                configurable: true
                            });
                            Ma.prototype._t = function (t, e) { var n = Ia(this.uiLanguage, t); return e && (n = n.replace(/%(\d+)/g, function (t, n) { return n < e.length ? e[n] : t; })), n; };
                            return Ma;
                        }());
                        function Oa(t) { return Na.includes(t) ? "rtl" : "ltr"; }
                        var Ra = /** @class */ (function () {
                            function Ra() {
                                this._consumables = new Map;
                            }
                            Ra.prototype.add = function (t, e) { var n; t.is("text") || t.is("documentFragment") ? this._consumables.set(t, !0) : (this._consumables.has(t) ? n = this._consumables.get(t) : (n = new Da, this._consumables.set(t, n)), n.add(e)); };
                            Ra.prototype.test = function (t, e) { var n = this._consumables.get(t); return void 0 === n ? null : t.is("text") || t.is("documentFragment") ? n : n.test(e); };
                            Ra.prototype.consume = function (t, e) { return !!this.test(t, e) && (t.is("text") || t.is("documentFragment") ? this._consumables.set(t, !1) : this._consumables.get(t).consume(e), !0); };
                            Ra.prototype.revert = function (t, e) { var n = this._consumables.get(t); void 0 !== n && (t.is("text") || t.is("documentFragment") ? this._consumables.set(t, !0) : n.revert(e)); };
                            Ra.consumablesFromElement = function (t) {
                                var e_291, _j, e_292, _q, e_293, _z;
                                var e = { name: !0, attributes: [], classes: [], styles: [] }, n = t.getAttributeKeys();
                                try {
                                    for (var n_108 = __values(n), n_108_1 = n_108.next(); !n_108_1.done; n_108_1 = n_108.next()) {
                                        var t_146 = n_108_1.value;
                                        "style" != t_146 && "class" != t_146 && e.attributes.push(t_146);
                                    }
                                }
                                catch (e_291_1) { e_291 = { error: e_291_1 }; }
                                finally {
                                    try {
                                        if (n_108_1 && !n_108_1.done && (_j = n_108.return)) _j.call(n_108);
                                    }
                                    finally { if (e_291) throw e_291.error; }
                                }
                                var i = t.getClassNames();
                                try {
                                    for (var i_69 = __values(i), i_69_1 = i_69.next(); !i_69_1.done; i_69_1 = i_69.next()) {
                                        var t_147 = i_69_1.value;
                                        e.classes.push(t_147);
                                    }
                                }
                                catch (e_292_1) { e_292 = { error: e_292_1 }; }
                                finally {
                                    try {
                                        if (i_69_1 && !i_69_1.done && (_q = i_69.return)) _q.call(i_69);
                                    }
                                    finally { if (e_292) throw e_292.error; }
                                }
                                var o = t.getStyleNames();
                                try {
                                    for (var o_38 = __values(o), o_38_1 = o_38.next(); !o_38_1.done; o_38_1 = o_38.next()) {
                                        var t_148 = o_38_1.value;
                                        e.styles.push(t_148);
                                    }
                                }
                                catch (e_293_1) { e_293 = { error: e_293_1 }; }
                                finally {
                                    try {
                                        if (o_38_1 && !o_38_1.done && (_z = o_38.return)) _z.call(o_38);
                                    }
                                    finally { if (e_293) throw e_293.error; }
                                }
                                return e;
                            };
                            Ra.createFrom = function (t, e) {
                                var e_294, _j;
                                if (e || (e = new Ra), t.is("text"))
                                    return e.add(t), e;
                                t.is("element") && e.add(t, Ra.consumablesFromElement(t)), t.is("documentFragment") && e.add(t);
                                try {
                                    for (var _q = __values(t.getChildren()), _z = _q.next(); !_z.done; _z = _q.next()) {
                                        var n_109 = _z.value;
                                        e = Ra.createFrom(n_109, e);
                                    }
                                }
                                catch (e_294_1) { e_294 = { error: e_294_1 }; }
                                finally {
                                    try {
                                        if (_z && !_z.done && (_j = _q.return)) _j.call(_q);
                                    }
                                    finally { if (e_294) throw e_294.error; }
                                }
                                return e;
                            };
                            return Ra;
                        }());
                        var Da = /** @class */ (function () {
                            function Da() {
                                this._canConsumeName = null, this._consumables = { attributes: new Map, styles: new Map, classes: new Map };
                            }
                            Da.prototype.add = function (t) { t.name && (this._canConsumeName = !0); for (var e_295 in this._consumables)
                                e_295 in t && this._add(e_295, t[e_295]); };
                            Da.prototype.test = function (t) { if (t.name && !this._canConsumeName)
                                return this._canConsumeName; for (var e_296 in this._consumables)
                                if (e_296 in t) {
                                    var n_110 = this._test(e_296, t[e_296]);
                                    if (!0 !== n_110)
                                        return n_110;
                                } return !0; };
                            Da.prototype.consume = function (t) { t.name && (this._canConsumeName = !1); for (var e_297 in this._consumables)
                                e_297 in t && this._consume(e_297, t[e_297]); };
                            Da.prototype.revert = function (t) { t.name && (this._canConsumeName = !0); for (var e_298 in this._consumables)
                                e_298 in t && this._revert(e_298, t[e_298]); };
                            Da.prototype._add = function (t, e) {
                                var e_299, _j;
                                var n = Wt(e) ? e : [e], i = this._consumables[t];
                                try {
                                    for (var n_111 = __values(n), n_111_1 = n_111.next(); !n_111_1.done; n_111_1 = n_111.next()) {
                                        var e_300 = n_111_1.value;
                                        if ("attributes" === t && ("class" === e_300 || "style" === e_300))
                                            throw new Gn.b("viewconsumable-invalid-attribute: Classes and styles should be handled separately.", this);
                                        i.set(e_300, !0);
                                    }
                                }
                                catch (e_299_1) { e_299 = { error: e_299_1 }; }
                                finally {
                                    try {
                                        if (n_111_1 && !n_111_1.done && (_j = n_111.return)) _j.call(n_111);
                                    }
                                    finally { if (e_299) throw e_299.error; }
                                }
                            };
                            Da.prototype._test = function (t, e) {
                                var e_301, _j;
                                var n = Wt(e) ? e : [e], i = this._consumables[t];
                                try {
                                    for (var n_112 = __values(n), n_112_1 = n_112.next(); !n_112_1.done; n_112_1 = n_112.next()) {
                                        var e_302 = n_112_1.value;
                                        if ("attributes" !== t || "class" !== e_302 && "style" !== e_302) {
                                            var t_149 = i.get(e_302);
                                            if (void 0 === t_149)
                                                return null;
                                            if (!t_149)
                                                return !1;
                                        }
                                        else {
                                            var t_150 = "class" == e_302 ? "classes" : "styles", n_113 = this._test(t_150, __spread(this._consumables[t_150].keys()));
                                            if (!0 !== n_113)
                                                return n_113;
                                        }
                                    }
                                }
                                catch (e_301_1) { e_301 = { error: e_301_1 }; }
                                finally {
                                    try {
                                        if (n_112_1 && !n_112_1.done && (_j = n_112.return)) _j.call(n_112);
                                    }
                                    finally { if (e_301) throw e_301.error; }
                                }
                                return !0;
                            };
                            Da.prototype._consume = function (t, e) {
                                var e_303, _j;
                                var n = Wt(e) ? e : [e], i = this._consumables[t];
                                try {
                                    for (var n_114 = __values(n), n_114_1 = n_114.next(); !n_114_1.done; n_114_1 = n_114.next()) {
                                        var e_304 = n_114_1.value;
                                        if ("attributes" !== t || "class" !== e_304 && "style" !== e_304)
                                            i.set(e_304, !1);
                                        else {
                                            var t_151 = "class" == e_304 ? "classes" : "styles";
                                            this._consume(t_151, __spread(this._consumables[t_151].keys()));
                                        }
                                    }
                                }
                                catch (e_303_1) { e_303 = { error: e_303_1 }; }
                                finally {
                                    try {
                                        if (n_114_1 && !n_114_1.done && (_j = n_114.return)) _j.call(n_114);
                                    }
                                    finally { if (e_303) throw e_303.error; }
                                }
                            };
                            Da.prototype._revert = function (t, e) {
                                var e_305, _j;
                                var n = Wt(e) ? e : [e], i = this._consumables[t];
                                try {
                                    for (var n_115 = __values(n), n_115_1 = n_115.next(); !n_115_1.done; n_115_1 = n_115.next()) {
                                        var e_306 = n_115_1.value;
                                        if ("attributes" !== t || "class" !== e_306 && "style" !== e_306) {
                                            !1 === i.get(e_306) && i.set(e_306, !0);
                                        }
                                        else {
                                            var t_152 = "class" == e_306 ? "classes" : "styles";
                                            this._revert(t_152, __spread(this._consumables[t_152].keys()));
                                        }
                                    }
                                }
                                catch (e_305_1) { e_305 = { error: e_305_1 }; }
                                finally {
                                    try {
                                        if (n_115_1 && !n_115_1.done && (_j = n_115.return)) _j.call(n_115);
                                    }
                                    finally { if (e_305) throw e_305.error; }
                                }
                            };
                            return Da;
                        }());
                        var ja = /** @class */ (function () {
                            function ja() {
                                var _this = this;
                                this._sourceDefinitions = {}, this._attributeProperties = {}, this.decorate("checkChild"), this.decorate("checkAttribute"), this.on("checkAttribute", function (t, e) { e[0] = new Ba(e[0]); }, { priority: "highest" }), this.on("checkChild", function (t, e) { e[0] = new Ba(e[0]), e[1] = _this.getDefinition(e[1]); }, { priority: "highest" });
                            }
                            ja.prototype.register = function (t, e) { if (this._sourceDefinitions[t])
                                throw new Gn.b("schema-cannot-register-item-twice: A single item cannot be registered twice in the schema.", this, { itemName: t }); this._sourceDefinitions[t] = [Object.assign({}, e)], this._clearCache(); };
                            ja.prototype.extend = function (t, e) { if (!this._sourceDefinitions[t])
                                throw new Gn.b("schema-cannot-extend-missing-item: Cannot extend an item which was not registered yet.", this, { itemName: t }); this._sourceDefinitions[t].push(Object.assign({}, e)), this._clearCache(); };
                            ja.prototype.getDefinitions = function () { return this._compiledDefinitions || this._compile(), this._compiledDefinitions; };
                            ja.prototype.getDefinition = function (t) { var e; return e = "string" == typeof t ? t : t.is && (t.is("text") || t.is("textProxy")) ? "$text" : t.name, this.getDefinitions()[e]; };
                            ja.prototype.isRegistered = function (t) { return !!this.getDefinition(t); };
                            ja.prototype.isBlock = function (t) { var e = this.getDefinition(t); return !(!e || !e.isBlock); };
                            ja.prototype.isLimit = function (t) { var e = this.getDefinition(t); return !!e && !(!e.isLimit && !e.isObject); };
                            ja.prototype.isObject = function (t) { var e = this.getDefinition(t); return !(!e || !e.isObject); };
                            ja.prototype.isInline = function (t) { var e = this.getDefinition(t); return !(!e || !e.isInline); };
                            ja.prototype.checkChild = function (t, e) { return !!e && this._checkContextMatch(e, t); };
                            ja.prototype.checkAttribute = function (t, e) { var n = this.getDefinition(t.last); return !!n && n.allowAttributes.includes(e); };
                            ja.prototype.checkMerge = function (t, e) {
                                var e_307, _j;
                                if (e === void 0) { e = null; }
                                if (t instanceof Gs) {
                                    var e_308 = t.nodeBefore, n_116 = t.nodeAfter;
                                    if (!(e_308 instanceof Ys))
                                        throw new Gn.b("schema-check-merge-no-element-before: The node before the merge position must be an element.", this);
                                    if (!(n_116 instanceof Ys))
                                        throw new Gn.b("schema-check-merge-no-element-after: The node after the merge position must be an element.", this);
                                    return this.checkMerge(e_308, n_116);
                                }
                                try {
                                    for (var _q = __values(e.getChildren()), _z = _q.next(); !_z.done; _z = _q.next()) {
                                        var n_117 = _z.value;
                                        if (!this.checkChild(t, n_117))
                                            return !1;
                                    }
                                }
                                catch (e_307_1) { e_307 = { error: e_307_1 }; }
                                finally {
                                    try {
                                        if (_z && !_z.done && (_j = _q.return)) _j.call(_q);
                                    }
                                    finally { if (e_307) throw e_307.error; }
                                }
                                return !0;
                            };
                            ja.prototype.addChildCheck = function (t) { this.on("checkChild", function (e, _j) {
                                var _q = __read(_j, 2), n = _q[0], i = _q[1];
                                if (!i)
                                    return;
                                var o = t(n, i);
                                "boolean" == typeof o && (e.stop(), e.return = o);
                            }, { priority: "high" }); };
                            ja.prototype.addAttributeCheck = function (t) { this.on("checkAttribute", function (e, _j) {
                                var _q = __read(_j, 2), n = _q[0], i = _q[1];
                                var o = t(n, i);
                                "boolean" == typeof o && (e.stop(), e.return = o);
                            }, { priority: "high" }); };
                            ja.prototype.setAttributeProperties = function (t, e) { this._attributeProperties[t] = Object.assign(this.getAttributeProperties(t), e); };
                            ja.prototype.getAttributeProperties = function (t) { return this._attributeProperties[t] || {}; };
                            ja.prototype.getLimitElement = function (t) { var e; if (t instanceof Gs)
                                e = t.parent;
                            else {
                                e = (t instanceof Ks ? [t] : Array.from(t.getRanges())).reduce(function (t, e) { var n = e.getCommonAncestor(); return t ? t.getCommonAncestor(n, { includeSelf: !0 }) : n; }, null);
                            } for (; !this.isLimit(e) && e.parent;)
                                e = e.parent; return e; };
                            ja.prototype.checkAttributeInSelection = function (t, e) {
                                var e_309, _j, e_310, _q;
                                if (t.isCollapsed) {
                                    var n_119 = __spread(t.getFirstPosition().getAncestors(), [new Us("", t.getAttributes())]);
                                    return this.checkAttribute(n_119, e);
                                }
                                {
                                    var n_120 = t.getRanges();
                                    try {
                                        for (var n_118 = __values(n_120), n_118_1 = n_118.next(); !n_118_1.done; n_118_1 = n_118.next()) {
                                            var t_154 = n_118_1.value;
                                            try {
                                                for (var t_153 = __values(t_154), t_153_1 = t_153.next(); !t_153_1.done; t_153_1 = t_153.next()) {
                                                    var n_121 = t_153_1.value;
                                                    if (this.checkAttribute(n_121.item, e))
                                                        return !0;
                                                }
                                            }
                                            catch (e_310_1) { e_310 = { error: e_310_1 }; }
                                            finally {
                                                try {
                                                    if (t_153_1 && !t_153_1.done && (_q = t_153.return)) _q.call(t_153);
                                                }
                                                finally { if (e_310) throw e_310.error; }
                                            }
                                        }
                                    }
                                    catch (e_309_1) { e_309 = { error: e_309_1 }; }
                                    finally {
                                        try {
                                            if (n_118_1 && !n_118_1.done && (_j = n_118.return)) _j.call(n_118);
                                        }
                                        finally { if (e_309) throw e_309.error; }
                                    }
                                }
                                return !1;
                            };
                            ja.prototype.getValidRanges = function (t, e) {
                                var e_311, _j, t_155, t_155_1, n_122, e_311_1;
                                return __generator(this, function (_q) {
                                    switch (_q.label) {
                                        case 0:
                                            t = function (t) {
                                                var e_312, _j, t_156, t_156_1, e_313, e_312_1;
                                                return __generator(this, function (_q) {
                                                    switch (_q.label) {
                                                        case 0:
                                                            _q.trys.push([0, 5, 6, 7]);
                                                            t_156 = __values(t), t_156_1 = t_156.next();
                                                            _q.label = 1;
                                                        case 1:
                                                            if (!!t_156_1.done) return [3 /*break*/, 4];
                                                            e_313 = t_156_1.value;
                                                            return [5 /*yield**/, __values(e_313.getMinimalFlatRanges())];
                                                        case 2:
                                                            _q.sent();
                                                            _q.label = 3;
                                                        case 3:
                                                            t_156_1 = t_156.next();
                                                            return [3 /*break*/, 1];
                                                        case 4: return [3 /*break*/, 7];
                                                        case 5:
                                                            e_312_1 = _q.sent();
                                                            e_312 = { error: e_312_1 };
                                                            return [3 /*break*/, 7];
                                                        case 6:
                                                            try {
                                                                if (t_156_1 && !t_156_1.done && (_j = t_156.return)) _j.call(t_156);
                                                            }
                                                            finally { if (e_312) throw e_312.error; }
                                                            return [7 /*endfinally*/];
                                                        case 7: return [2 /*return*/];
                                                    }
                                                });
                                            }(t);
                                            _q.label = 1;
                                        case 1:
                                            _q.trys.push([1, 6, 7, 8]);
                                            t_155 = __values(t), t_155_1 = t_155.next();
                                            _q.label = 2;
                                        case 2:
                                            if (!!t_155_1.done) return [3 /*break*/, 5];
                                            n_122 = t_155_1.value;
                                            return [5 /*yield**/, __values(this._getValidRangesForRange(n_122, e))];
                                        case 3:
                                            _q.sent();
                                            _q.label = 4;
                                        case 4:
                                            t_155_1 = t_155.next();
                                            return [3 /*break*/, 2];
                                        case 5: return [3 /*break*/, 8];
                                        case 6:
                                            e_311_1 = _q.sent();
                                            e_311 = { error: e_311_1 };
                                            return [3 /*break*/, 8];
                                        case 7:
                                            try {
                                                if (t_155_1 && !t_155_1.done && (_j = t_155.return)) _j.call(t_155);
                                            }
                                            finally { if (e_311) throw e_311.error; }
                                            return [7 /*endfinally*/];
                                        case 8: return [2 /*return*/];
                                    }
                                });
                            };
                            ja.prototype.getNearestSelectionRange = function (t, e) {
                                var e_314, _j;
                                if (e === void 0) { e = "both"; }
                                if (this.checkChild(t, "$text"))
                                    return new Ks(t);
                                var n, i;
                                "both" != e && "backward" != e || (n = new Ws({ startPosition: t, direction: "backward" })), "both" != e && "forward" != e || (i = new Ws({ startPosition: t }));
                                try {
                                    for (var _q = __values(function (t, e) { var n, e_315, _j, t_157, _q; return __generator(this, function (_z) {
                                        switch (_z.label) {
                                            case 0:
                                                n = !1;
                                                _z.label = 1;
                                            case 1:
                                                if (!!n) return [3 /*break*/, 8];
                                                if (!(n = !0, t)) return [3 /*break*/, 4];
                                                e_315 = t.next();
                                                _j = e_315.done;
                                                if (_j) return [3 /*break*/, 3];
                                                n = !1;
                                                return [4 /*yield*/, { walker: t, value: e_315.value }];
                                            case 2:
                                                _j = (_z.sent());
                                                _z.label = 3;
                                            case 3:
                                                _j;
                                                _z.label = 4;
                                            case 4:
                                                if (!e) return [3 /*break*/, 7];
                                                t_157 = e.next();
                                                _q = t_157.done;
                                                if (_q) return [3 /*break*/, 6];
                                                n = !1;
                                                return [4 /*yield*/, { walker: e, value: t_157.value }];
                                            case 5:
                                                _q = (_z.sent());
                                                _z.label = 6;
                                            case 6:
                                                _q;
                                                _z.label = 7;
                                            case 7: return [3 /*break*/, 1];
                                            case 8: return [2 /*return*/];
                                        }
                                    }); }(n, i)), _z = _q.next(); !_z.done; _z = _q.next()) {
                                        var t_158 = _z.value;
                                        var e_316 = t_158.walker == n ? "elementEnd" : "elementStart", i_70 = t_158.value;
                                        if (i_70.type == e_316 && this.isObject(i_70.item))
                                            return Ks._createOn(i_70.item);
                                        if (this.checkChild(i_70.nextPosition, "$text"))
                                            return new Ks(i_70.nextPosition);
                                    }
                                }
                                catch (e_314_1) { e_314 = { error: e_314_1 }; }
                                finally {
                                    try {
                                        if (_z && !_z.done && (_j = _q.return)) _j.call(_q);
                                    }
                                    finally { if (e_314) throw e_314.error; }
                                }
                                return null;
                            };
                            ja.prototype.findAllowedParent = function (t, e) { var n = t.parent; for (; n;) {
                                if (this.checkChild(n, e))
                                    return n;
                                if (this.isLimit(n))
                                    return null;
                                n = n.parent;
                            } return null; };
                            ja.prototype.removeDisallowedAttributes = function (t, e) {
                                var e_317, _j, e_318, _q;
                                try {
                                    for (var t_159 = __values(t), t_159_1 = t_159.next(); !t_159_1.done; t_159_1 = t_159.next()) {
                                        var n_123 = t_159_1.value;
                                        if (n_123.is("text"))
                                            $a(this, n_123, e);
                                        else {
                                            var t_161 = Ks._createIn(n_123).getPositions();
                                            try {
                                                for (var t_160 = __values(t_161), t_160_1 = t_160.next(); !t_160_1.done; t_160_1 = t_160.next()) {
                                                    var n_124 = t_160_1.value;
                                                    $a(this, n_124.nodeBefore || n_124.parent, e);
                                                }
                                            }
                                            catch (e_318_1) { e_318 = { error: e_318_1 }; }
                                            finally {
                                                try {
                                                    if (t_160_1 && !t_160_1.done && (_q = t_160.return)) _q.call(t_160);
                                                }
                                                finally { if (e_318) throw e_318.error; }
                                            }
                                        }
                                    }
                                }
                                catch (e_317_1) { e_317 = { error: e_317_1 }; }
                                finally {
                                    try {
                                        if (t_159_1 && !t_159_1.done && (_j = t_159.return)) _j.call(t_159);
                                    }
                                    finally { if (e_317) throw e_317.error; }
                                }
                            };
                            ja.prototype.createContext = function (t) { return new Ba(t); };
                            ja.prototype._clearCache = function () { this._compiledDefinitions = null; };
                            ja.prototype._compile = function () {
                                var e_319, _j, e_320, _q, e_321, _z, e_322, _0, e_323, _1;
                                var t = {}, e = this._sourceDefinitions, n = Object.keys(e);
                                try {
                                    for (var n_125 = __values(n), n_125_1 = n_125.next(); !n_125_1.done; n_125_1 = n_125.next()) {
                                        var i_71 = n_125_1.value;
                                        t[i_71] = La(e[i_71], i_71);
                                    }
                                }
                                catch (e_319_1) { e_319 = { error: e_319_1 }; }
                                finally {
                                    try {
                                        if (n_125_1 && !n_125_1.done && (_j = n_125.return)) _j.call(n_125);
                                    }
                                    finally { if (e_319) throw e_319.error; }
                                }
                                try {
                                    for (var n_126 = __values(n), n_126_1 = n_126.next(); !n_126_1.done; n_126_1 = n_126.next()) {
                                        var e_324 = n_126_1.value;
                                        Va(t, e_324);
                                    }
                                }
                                catch (e_320_1) { e_320 = { error: e_320_1 }; }
                                finally {
                                    try {
                                        if (n_126_1 && !n_126_1.done && (_q = n_126.return)) _q.call(n_126);
                                    }
                                    finally { if (e_320) throw e_320.error; }
                                }
                                try {
                                    for (var n_127 = __values(n), n_127_1 = n_127.next(); !n_127_1.done; n_127_1 = n_127.next()) {
                                        var e_325 = n_127_1.value;
                                        Fa(t, e_325);
                                    }
                                }
                                catch (e_321_1) { e_321 = { error: e_321_1 }; }
                                finally {
                                    try {
                                        if (n_127_1 && !n_127_1.done && (_z = n_127.return)) _z.call(n_127);
                                    }
                                    finally { if (e_321) throw e_321.error; }
                                }
                                try {
                                    for (var n_128 = __values(n), n_128_1 = n_128.next(); !n_128_1.done; n_128_1 = n_128.next()) {
                                        var e_326 = n_128_1.value;
                                        za(t, e_326), Ua(t, e_326);
                                    }
                                }
                                catch (e_322_1) { e_322 = { error: e_322_1 }; }
                                finally {
                                    try {
                                        if (n_128_1 && !n_128_1.done && (_0 = n_128.return)) _0.call(n_128);
                                    }
                                    finally { if (e_322) throw e_322.error; }
                                }
                                try {
                                    for (var n_129 = __values(n), n_129_1 = n_129.next(); !n_129_1.done; n_129_1 = n_129.next()) {
                                        var e_327 = n_129_1.value;
                                        Ha(t, e_327), qa(t, e_327);
                                    }
                                }
                                catch (e_323_1) { e_323 = { error: e_323_1 }; }
                                finally {
                                    try {
                                        if (n_129_1 && !n_129_1.done && (_1 = n_129.return)) _1.call(n_129);
                                    }
                                    finally { if (e_323) throw e_323.error; }
                                }
                                this._compiledDefinitions = t;
                            };
                            ja.prototype._checkContextMatch = function (t, e, n) {
                                if (n === void 0) { n = e.length - 1; }
                                var i = e.getItem(n);
                                if (t.allowIn.includes(i.name)) {
                                    if (0 == n)
                                        return !0;
                                    {
                                        var t_162 = this.getDefinition(i);
                                        return this._checkContextMatch(t_162, e, n - 1);
                                    }
                                }
                                return !1;
                            };
                            ja.prototype._getValidRangesForRange = function (t, e) {
                                var e_328, _j, n, i, _q, _z, o_39, _0, _1, _2, e_328_1, _3;
                                return __generator(this, function (_4) {
                                    switch (_4.label) {
                                        case 0:
                                            n = t.start, i = t.start;
                                            _4.label = 1;
                                        case 1:
                                            _4.trys.push([1, 10, 11, 12]);
                                            _q = __values(t.getItems({ shallow: !0 })), _z = _q.next();
                                            _4.label = 2;
                                        case 2:
                                            if (!!_z.done) return [3 /*break*/, 9];
                                            o_39 = _z.value;
                                            _0 = o_39.is("element");
                                            if (!_0) return [3 /*break*/, 4];
                                            return [5 /*yield**/, __values(this._getValidRangesForRange(Ks._createIn(o_39), e))];
                                        case 3:
                                            _0 = (_4.sent());
                                            _4.label = 4;
                                        case 4:
                                            _0;
                                            _1 = this.checkAttribute(o_39, e);
                                            if (_1) return [3 /*break*/, 7];
                                            _2 = n.isEqual(i);
                                            if (_2) return [3 /*break*/, 6];
                                            return [4 /*yield*/, new Ks(n, i)];
                                        case 5:
                                            _2 = (_4.sent());
                                            _4.label = 6;
                                        case 6:
                                            _1 = (_2, n = Gs._createAfter(o_39));
                                            _4.label = 7;
                                        case 7:
                                            _1, i = Gs._createAfter(o_39);
                                            _4.label = 8;
                                        case 8:
                                            _z = _q.next();
                                            return [3 /*break*/, 2];
                                        case 9: return [3 /*break*/, 12];
                                        case 10:
                                            e_328_1 = _4.sent();
                                            e_328 = { error: e_328_1 };
                                            return [3 /*break*/, 12];
                                        case 11:
                                            try {
                                                if (_z && !_z.done && (_j = _q.return)) _j.call(_q);
                                            }
                                            finally { if (e_328) throw e_328.error; }
                                            return [7 /*endfinally*/];
                                        case 12:
                                            _3 = n.isEqual(i);
                                            if (_3) return [3 /*break*/, 14];
                                            return [4 /*yield*/, new Ks(n, i)];
                                        case 13:
                                            _3 = (_4.sent());
                                            _4.label = 14;
                                        case 14:
                                            _3;
                                            return [2 /*return*/];
                                    }
                                });
                            };
                            return ja;
                        }());
                        li(ja, Ui);
                        var Ba = /** @class */ (function () {
                            function Ba(t) {
                                if (t instanceof Ba)
                                    return t;
                                "string" == typeof t ? t = [t] : Array.isArray(t) || (t = t.getAncestors({ includeSelf: !0 })), t[0] && "string" != typeof t[0] && t[0].is("documentFragment") && t.shift(), this._items = t.map(Ja);
                            }
                            Object.defineProperty(Ba.prototype, "length", {
                                get: function () { return this._items.length; },
                                enumerable: true,
                                configurable: true
                            });
                            Object.defineProperty(Ba.prototype, "last", {
                                get: function () { return this._items[this._items.length - 1]; },
                                enumerable: true,
                                configurable: true
                            });
                            Ba.prototype[Symbol.iterator] = function () { return this._items[Symbol.iterator](); };
                            Ba.prototype.push = function (t) { var e = new Ba([t]); return e._items = __spread(this._items, e._items), e; };
                            Ba.prototype.getItem = function (t) { return this._items[t]; };
                            Ba.prototype.getNames = function () { return __generator(this, function (_j) {
                                switch (_j.label) {
                                    case 0: return [5 /*yield**/, __values(this._items.map(function (t) { return t.name; }))];
                                    case 1:
                                        _j.sent();
                                        return [2 /*return*/];
                                }
                            }); };
                            Ba.prototype.endsWith = function (t) { return Array.from(this.getNames()).join(" ").endsWith(t); };
                            return Ba;
                        }());
                        function La(t, e) { var n = { name: e, allowIn: [], allowContentOf: [], allowWhere: [], allowAttributes: [], allowAttributesOf: [], inheritTypesFrom: [] }; return function (t, e) {
                            var e_329, _j, e_330, _q;
                            try {
                                for (var t_163 = __values(t), t_163_1 = t_163.next(); !t_163_1.done; t_163_1 = t_163.next()) {
                                    var n_130 = t_163_1.value;
                                    var t_165 = Object.keys(n_130).filter(function (t) { return t.startsWith("is"); });
                                    try {
                                        for (var t_164 = __values(t_165), t_164_1 = t_164.next(); !t_164_1.done; t_164_1 = t_164.next()) {
                                            var i_72 = t_164_1.value;
                                            e[i_72] = n_130[i_72];
                                        }
                                    }
                                    catch (e_330_1) { e_330 = { error: e_330_1 }; }
                                    finally {
                                        try {
                                            if (t_164_1 && !t_164_1.done && (_q = t_164.return)) _q.call(t_164);
                                        }
                                        finally { if (e_330) throw e_330.error; }
                                    }
                                }
                            }
                            catch (e_329_1) { e_329 = { error: e_329_1 }; }
                            finally {
                                try {
                                    if (t_163_1 && !t_163_1.done && (_j = t_163.return)) _j.call(t_163);
                                }
                                finally { if (e_329) throw e_329.error; }
                            }
                        }(t, n), Ya(t, n, "allowIn"), Ya(t, n, "allowContentOf"), Ya(t, n, "allowWhere"), Ya(t, n, "allowAttributes"), Ya(t, n, "allowAttributesOf"), Ya(t, n, "inheritTypesFrom"), function (t, e) {
                            var e_331, _j;
                            try {
                                for (var t_166 = __values(t), t_166_1 = t_166.next(); !t_166_1.done; t_166_1 = t_166.next()) {
                                    var n_131 = t_166_1.value;
                                    var t_167 = n_131.inheritAllFrom;
                                    t_167 && (e.allowContentOf.push(t_167), e.allowWhere.push(t_167), e.allowAttributesOf.push(t_167), e.inheritTypesFrom.push(t_167));
                                }
                            }
                            catch (e_331_1) { e_331 = { error: e_331_1 }; }
                            finally {
                                try {
                                    if (t_166_1 && !t_166_1.done && (_j = t_166.return)) _j.call(t_166);
                                }
                                finally { if (e_331) throw e_331.error; }
                            }
                        }(t, n), n; }
                        function Va(t, e) {
                            var e_332, _j;
                            try {
                                for (var _q = __values(t[e].allowContentOf), _z = _q.next(); !_z.done; _z = _q.next()) {
                                    var n_132 = _z.value;
                                    if (t[n_132]) {
                                        Wa(t, n_132).forEach(function (t) { t.allowIn.push(e); });
                                    }
                                }
                            }
                            catch (e_332_1) { e_332 = { error: e_332_1 }; }
                            finally {
                                try {
                                    if (_z && !_z.done && (_j = _q.return)) _j.call(_q);
                                }
                                finally { if (e_332) throw e_332.error; }
                            }
                            delete t[e].allowContentOf;
                        }
                        function Fa(t, e) {
                            var e_333, _j, _q;
                            try {
                                for (var _z = __values(t[e].allowWhere), _0 = _z.next(); !_0.done; _0 = _z.next()) {
                                    var n_133 = _0.value;
                                    var i_73 = t[n_133];
                                    if (i_73) {
                                        var n_134 = i_73.allowIn;
                                        (_q = t[e].allowIn).push.apply(_q, __spread(n_134));
                                    }
                                }
                            }
                            catch (e_333_1) { e_333 = { error: e_333_1 }; }
                            finally {
                                try {
                                    if (_0 && !_0.done && (_j = _z.return)) _j.call(_z);
                                }
                                finally { if (e_333) throw e_333.error; }
                            }
                            delete t[e].allowWhere;
                        }
                        function za(t, e) {
                            var e_334, _j, _q;
                            try {
                                for (var _z = __values(t[e].allowAttributesOf), _0 = _z.next(); !_0.done; _0 = _z.next()) {
                                    var n_135 = _0.value;
                                    var i_74 = t[n_135];
                                    if (i_74) {
                                        var n_136 = i_74.allowAttributes;
                                        (_q = t[e].allowAttributes).push.apply(_q, __spread(n_136));
                                    }
                                }
                            }
                            catch (e_334_1) { e_334 = { error: e_334_1 }; }
                            finally {
                                try {
                                    if (_0 && !_0.done && (_j = _z.return)) _j.call(_z);
                                }
                                finally { if (e_334) throw e_334.error; }
                            }
                            delete t[e].allowAttributesOf;
                        }
                        function Ua(t, e) {
                            var e_335, _j, e_336, _q;
                            var n = t[e];
                            try {
                                for (var _z = __values(n.inheritTypesFrom), _0 = _z.next(); !_0.done; _0 = _z.next()) {
                                    var e_337 = _0.value;
                                    var i_75 = t[e_337];
                                    if (i_75) {
                                        var t_169 = Object.keys(i_75).filter(function (t) { return t.startsWith("is"); });
                                        try {
                                            for (var t_168 = __values(t_169), t_168_1 = t_168.next(); !t_168_1.done; t_168_1 = t_168.next()) {
                                                var e_338 = t_168_1.value;
                                                e_338 in n || (n[e_338] = i_75[e_338]);
                                            }
                                        }
                                        catch (e_336_1) { e_336 = { error: e_336_1 }; }
                                        finally {
                                            try {
                                                if (t_168_1 && !t_168_1.done && (_q = t_168.return)) _q.call(t_168);
                                            }
                                            finally { if (e_336) throw e_336.error; }
                                        }
                                    }
                                }
                            }
                            catch (e_335_1) { e_335 = { error: e_335_1 }; }
                            finally {
                                try {
                                    if (_0 && !_0.done && (_j = _z.return)) _j.call(_z);
                                }
                                finally { if (e_335) throw e_335.error; }
                            }
                            delete n.inheritTypesFrom;
                        }
                        function Ha(t, e) { var n = t[e], i = n.allowIn.filter(function (e) { return t[e]; }); n.allowIn = Array.from(new Set(i)); }
                        function qa(t, e) { var n = t[e]; n.allowAttributes = Array.from(new Set(n.allowAttributes)); }
                        function Ya(t, e, n) {
                            var e_339, _j, _q;
                            try {
                                for (var t_170 = __values(t), t_170_1 = t_170.next(); !t_170_1.done; t_170_1 = t_170.next()) {
                                    var i_76 = t_170_1.value;
                                    "string" == typeof i_76[n] ? e[n].push(i_76[n]) : Array.isArray(i_76[n]) && (_q = e[n]).push.apply(_q, __spread(i_76[n]));
                                }
                            }
                            catch (e_339_1) { e_339 = { error: e_339_1 }; }
                            finally {
                                try {
                                    if (t_170_1 && !t_170_1.done && (_j = t_170.return)) _j.call(t_170);
                                }
                                finally { if (e_339) throw e_339.error; }
                            }
                        }
                        function Wa(t, e) { var n = t[e]; return function (t) { return Object.keys(t).map(function (e) { return t[e]; }); }(t).filter(function (t) { return t.allowIn.includes(n.name); }); }
                        function Ja(t) { return "string" == typeof t ? { name: t, getAttributeKeys: function () { return __generator(this, function (_j) {
                                return [2 /*return*/];
                            }); }, getAttribute: function () { } } : { name: t.is("element") ? t.name : "$text", getAttributeKeys: function () { return __generator(this, function (_j) {
                                switch (_j.label) {
                                    case 0: return [5 /*yield**/, __values(t.getAttributeKeys())];
                                    case 1:
                                        _j.sent();
                                        return [2 /*return*/];
                                }
                            }); }, getAttribute: function (e) { return t.getAttribute(e); } }; }
                        function $a(t, e, n) {
                            var e_340, _j;
                            try {
                                for (var _q = __values(e.getAttributeKeys()), _z = _q.next(); !_z.done; _z = _q.next()) {
                                    var i_77 = _z.value;
                                    t.checkAttribute(e, i_77) || n.removeAttribute(i_77, e);
                                }
                            }
                            catch (e_340_1) { e_340 = { error: e_340_1 }; }
                            finally {
                                try {
                                    if (_z && !_z.done && (_j = _q.return)) _j.call(_q);
                                }
                                finally { if (e_340) throw e_340.error; }
                            }
                        }
                        var Ga = /** @class */ (function () {
                            function Ga(t) {
                                if (t === void 0) { t = {}; }
                                this._splitParts = new Map, this._modelCursor = null, this.conversionApi = Object.assign({}, t), this.conversionApi.convertItem = this._convertItem.bind(this), this.conversionApi.convertChildren = this._convertChildren.bind(this), this.conversionApi.splitToAllowedParent = this._splitToAllowedParent.bind(this), this.conversionApi.getSplitParts = this._getSplitParts.bind(this);
                            }
                            Ga.prototype.convert = function (t, e, n) {
                                var e_341, _j;
                                if (n === void 0) { n = ["$root"]; }
                                this.fire("viewCleanup", t), this._modelCursor = function (t, e) {
                                    var e_342, _j, e_343, _q;
                                    var n;
                                    try {
                                        for (var _z = __values(new Ba(t)), _0 = _z.next(); !_0.done; _0 = _z.next()) {
                                            var i_78 = _0.value;
                                            var t_171 = {};
                                            try {
                                                for (var _1 = __values(i_78.getAttributeKeys()), _2 = _1.next(); !_2.done; _2 = _1.next()) {
                                                    var e_344 = _2.value;
                                                    t_171[e_344] = i_78.getAttribute(e_344);
                                                }
                                            }
                                            catch (e_343_1) { e_343 = { error: e_343_1 }; }
                                            finally {
                                                try {
                                                    if (_2 && !_2.done && (_q = _1.return)) _q.call(_1);
                                                }
                                                finally { if (e_343) throw e_343.error; }
                                            }
                                            var o_40 = e.createElement(i_78.name, t_171);
                                            n && e.append(o_40, n), n = Gs._createAt(o_40, 0);
                                        }
                                    }
                                    catch (e_342_1) { e_342 = { error: e_342_1 }; }
                                    finally {
                                        try {
                                            if (_0 && !_0.done && (_j = _z.return)) _j.call(_z);
                                        }
                                        finally { if (e_342) throw e_342.error; }
                                    }
                                    return n;
                                }(n, e), this.conversionApi.writer = e, this.conversionApi.consumable = Ra.createFrom(t), this.conversionApi.store = {};
                                var i = this._convertItem(t, this._modelCursor).modelRange, o = e.createDocumentFragment();
                                if (i) {
                                    this._removeEmptyElements();
                                    try {
                                        for (var _q = __values(Array.from(this._modelCursor.parent.getChildren())), _z = _q.next(); !_z.done; _z = _q.next()) {
                                            var t_172 = _z.value;
                                            e.append(t_172, o);
                                        }
                                    }
                                    catch (e_341_1) { e_341 = { error: e_341_1 }; }
                                    finally {
                                        try {
                                            if (_z && !_z.done && (_j = _q.return)) _j.call(_q);
                                        }
                                        finally { if (e_341) throw e_341.error; }
                                    }
                                    o.markers = function (t, e) {
                                        var e_345, _j, e_346, _q;
                                        var n = new Set, i = new Map, o = Ks._createIn(t).getItems();
                                        try {
                                            for (var o_41 = __values(o), o_41_1 = o_41.next(); !o_41_1.done; o_41_1 = o_41.next()) {
                                                var t_173 = o_41_1.value;
                                                "$marker" == t_173.name && n.add(t_173);
                                            }
                                        }
                                        catch (e_345_1) { e_345 = { error: e_345_1 }; }
                                        finally {
                                            try {
                                                if (o_41_1 && !o_41_1.done && (_j = o_41.return)) _j.call(o_41);
                                            }
                                            finally { if (e_345) throw e_345.error; }
                                        }
                                        try {
                                            for (var n_137 = __values(n), n_137_1 = n_137.next(); !n_137_1.done; n_137_1 = n_137.next()) {
                                                var t_174 = n_137_1.value;
                                                var n_138 = t_174.getAttribute("data-name"), o_42 = e.createPositionBefore(t_174);
                                                i.has(n_138) ? i.get(n_138).end = o_42.clone() : i.set(n_138, new Ks(o_42.clone())), e.remove(t_174);
                                            }
                                        }
                                        catch (e_346_1) { e_346 = { error: e_346_1 }; }
                                        finally {
                                            try {
                                                if (n_137_1 && !n_137_1.done && (_q = n_137.return)) _q.call(n_137);
                                            }
                                            finally { if (e_346) throw e_346.error; }
                                        }
                                        return i;
                                    }(o, e);
                                }
                                return this._modelCursor = null, this._splitParts.clear(), this.conversionApi.writer = null, this.conversionApi.store = null, o;
                            };
                            Ga.prototype._convertItem = function (t, e) { var n = Object.assign({ viewItem: t, modelCursor: e, modelRange: null }); if (t.is("element") ? this.fire("element:" + t.name, n, this.conversionApi) : t.is("text") ? this.fire("text", n, this.conversionApi) : this.fire("documentFragment", n, this.conversionApi), n.modelRange && !(n.modelRange instanceof Ks))
                                throw new Gn.b("view-conversion-dispatcher-incorrect-result: Incorrect conversion result was dropped.", this); return { modelRange: n.modelRange, modelCursor: n.modelCursor }; };
                            Ga.prototype._convertChildren = function (t, e) {
                                var e_347, _j;
                                var n = new Ks(e);
                                var i = e;
                                try {
                                    for (var _q = __values(Array.from(t.getChildren())), _z = _q.next(); !_z.done; _z = _q.next()) {
                                        var e_348 = _z.value;
                                        var t_175 = this._convertItem(e_348, i);
                                        t_175.modelRange instanceof Ks && (n.end = t_175.modelRange.end, i = t_175.modelCursor);
                                    }
                                }
                                catch (e_347_1) { e_347 = { error: e_347_1 }; }
                                finally {
                                    try {
                                        if (_z && !_z.done && (_j = _q.return)) _j.call(_q);
                                    }
                                    finally { if (e_347) throw e_347.error; }
                                }
                                return { modelRange: n, modelCursor: i };
                            };
                            Ga.prototype._splitToAllowedParent = function (t, e) {
                                var e_349, _j;
                                var n = this.conversionApi.schema.findAllowedParent(e, t);
                                if (!n)
                                    return null;
                                if (n === e.parent)
                                    return { position: e };
                                if (this._modelCursor.parent.getAncestors().includes(n))
                                    return null;
                                var i = this.conversionApi.writer.split(e, n), o = [];
                                try {
                                    for (var _q = __values(i.range.getWalker()), _z = _q.next(); !_z.done; _z = _q.next()) {
                                        var t_176 = _z.value;
                                        if ("elementEnd" == t_176.type)
                                            o.push(t_176.item);
                                        else {
                                            var e_350 = o.pop(), n_139 = t_176.item;
                                            this._registerSplitPair(e_350, n_139);
                                        }
                                    }
                                }
                                catch (e_349_1) { e_349 = { error: e_349_1 }; }
                                finally {
                                    try {
                                        if (_z && !_z.done && (_j = _q.return)) _j.call(_q);
                                    }
                                    finally { if (e_349) throw e_349.error; }
                                }
                                return { position: i.position, cursorParent: i.range.end.parent };
                            };
                            Ga.prototype._registerSplitPair = function (t, e) { this._splitParts.has(t) || this._splitParts.set(t, [t]); var n = this._splitParts.get(t); this._splitParts.set(e, n), n.push(e); };
                            Ga.prototype._getSplitParts = function (t) { var e; return e = this._splitParts.has(t) ? this._splitParts.get(t) : [t]; };
                            Ga.prototype._removeEmptyElements = function () {
                                var e_351, _j;
                                var t = !1;
                                try {
                                    for (var _q = __values(this._splitParts.keys()), _z = _q.next(); !_z.done; _z = _q.next()) {
                                        var e_352 = _z.value;
                                        e_352.isEmpty && (this.conversionApi.writer.remove(e_352), this._splitParts.delete(e_352), t = !0);
                                    }
                                }
                                catch (e_351_1) { e_351 = { error: e_351_1 }; }
                                finally {
                                    try {
                                        if (_z && !_z.done && (_j = _q.return)) _j.call(_q);
                                    }
                                    finally { if (e_351) throw e_351.error; }
                                }
                                t && this._removeEmptyElements();
                            };
                            return Ga;
                        }());
                        li(Ga, ni);
                        var Ka = /** @class */ (function () {
                            function Ka(t, e) {
                                var _this = this;
                                this.model = t, this.processor = e, this.mapper = new Qs, this.downcastDispatcher = new ta({ mapper: this.mapper }), this.downcastDispatcher.on("insert:$text", function (t, e, n) { if (!n.consumable.consume(e.item, "insert"))
                                    return; var i = n.writer, o = n.mapper.toViewPosition(e.range.start), r = i.createText(e.item.data); i.insert(o, r); }, { priority: "lowest" }), this.upcastDispatcher = new Ga({ schema: t.schema }), this.upcastDispatcher.on("text", function (t, e, n) { if (n.schema.checkChild(e.modelCursor, "$text") && n.consumable.consume(e.viewItem)) {
                                    var t_177 = n.writer.createText(e.viewItem.data);
                                    n.writer.insert(t_177, e.modelCursor), e.modelRange = Ks._createFromPositionAndShift(e.modelCursor, t_177.offsetSize), e.modelCursor = e.modelRange.end;
                                } }, { priority: "lowest" }), this.upcastDispatcher.on("element", function (t, e, n) { if (!e.modelRange && n.consumable.consume(e.viewItem, { name: !0 })) {
                                    var _j = n.convertChildren(e.viewItem, e.modelCursor), t_178 = _j.modelRange, i_79 = _j.modelCursor;
                                    e.modelRange = t_178, e.modelCursor = i_79;
                                } }, { priority: "lowest" }), this.upcastDispatcher.on("documentFragment", function (t, e, n) { if (!e.modelRange && n.consumable.consume(e.viewItem, { name: !0 })) {
                                    var _j = n.convertChildren(e.viewItem, e.modelCursor), t_179 = _j.modelRange, i_80 = _j.modelCursor;
                                    e.modelRange = t_179, e.modelCursor = i_80;
                                } }, { priority: "lowest" }), this.decorate("init"), this.on("init", function () { _this.fire("ready"); }, { priority: "lowest" });
                            }
                            Ka.prototype.get = function (t) { var _j = t || {}, _q = _j.rootName, e = _q === void 0 ? "main" : _q, _z = _j.trim, n = _z === void 0 ? "empty" : _z; if (!this._checkIfRootsExists([e]))
                                throw new Gn.b("datacontroller-get-non-existent-root: Attempting to get data from a non-existing root.", this); var i = this.model.document.getRoot(e); return "empty" !== n || this.model.hasContent(i, { ignoreWhitespaces: !0 }) ? this.stringify(i) : ""; };
                            Ka.prototype.stringify = function (t) { var e = this.toView(t); return this.processor.toData(e); };
                            Ka.prototype.toView = function (t) {
                                var e_353, _j;
                                this.mapper.clearBindings();
                                var e = Ks._createIn(t), n = new Ao, i = new So(new so);
                                if (this.mapper.bindElements(t, n), this.downcastDispatcher.convertInsert(e, i), !t.is("documentFragment")) {
                                    var e_355 = function (t) {
                                        var e_356, _j;
                                        var e = [], n = t.root.document;
                                        if (!n)
                                            return [];
                                        var i = Ks._createIn(t);
                                        try {
                                            for (var _q = __values(n.model.markers), _z = _q.next(); !_z.done; _z = _q.next()) {
                                                var t_180 = _z.value;
                                                var n_140 = i.getIntersection(t_180.getRange());
                                                n_140 && e.push([t_180.name, n_140]);
                                            }
                                        }
                                        catch (e_356_1) { e_356 = { error: e_356_1 }; }
                                        finally {
                                            try {
                                                if (_z && !_z.done && (_j = _q.return)) _j.call(_q);
                                            }
                                            finally { if (e_356) throw e_356.error; }
                                        }
                                        return e;
                                    }(t);
                                    try {
                                        for (var e_354 = __values(e_355), e_354_1 = e_354.next(); !e_354_1.done; e_354_1 = e_354.next()) {
                                            var _q = __read(e_354_1.value, 2), t_181 = _q[0], n_141 = _q[1];
                                            this.downcastDispatcher.convertMarkerAdd(t_181, n_141, i);
                                        }
                                    }
                                    catch (e_353_1) { e_353 = { error: e_353_1 }; }
                                    finally {
                                        try {
                                            if (e_354_1 && !e_354_1.done && (_j = e_354.return)) _j.call(e_354);
                                        }
                                        finally { if (e_353) throw e_353.error; }
                                    }
                                }
                                return n;
                            };
                            Ka.prototype.init = function (t) {
                                var _this = this;
                                if (this.model.document.version)
                                    throw new Gn.b("datacontroller-init-document-not-empty: Trying to set initial data to not empty document.", this);
                                var e = {};
                                if ("string" == typeof t ? e.main = t : e = t, !this._checkIfRootsExists(Object.keys(e)))
                                    throw new Gn.b("datacontroller-init-non-existent-root: Attempting to init data on a non-existing root.", this);
                                return this.model.enqueueChange("transparent", function (t) {
                                    var e_357, _j;
                                    try {
                                        for (var _q = __values(Object.keys(e)), _z = _q.next(); !_z.done; _z = _q.next()) {
                                            var n_142 = _z.value;
                                            var i_81 = _this.model.document.getRoot(n_142);
                                            t.insert(_this.parse(e[n_142], i_81), i_81, 0);
                                        }
                                    }
                                    catch (e_357_1) { e_357 = { error: e_357_1 }; }
                                    finally {
                                        try {
                                            if (_z && !_z.done && (_j = _q.return)) _j.call(_q);
                                        }
                                        finally { if (e_357) throw e_357.error; }
                                    }
                                }), Promise.resolve();
                            };
                            Ka.prototype.set = function (t) {
                                var _this = this;
                                var e = {};
                                if ("string" == typeof t ? e.main = t : e = t, !this._checkIfRootsExists(Object.keys(e)))
                                    throw new Gn.b("datacontroller-set-non-existent-root: Attempting to set data on a non-existing root.", this);
                                this.model.enqueueChange("transparent", function (t) {
                                    var e_358, _j;
                                    t.setSelection(null), t.removeSelectionAttribute(_this.model.document.selection.getAttributeKeys());
                                    try {
                                        for (var _q = __values(Object.keys(e)), _z = _q.next(); !_z.done; _z = _q.next()) {
                                            var n_143 = _z.value;
                                            var i_82 = _this.model.document.getRoot(n_143);
                                            t.remove(t.createRangeIn(i_82)), t.insert(_this.parse(e[n_143], i_82), i_82, 0);
                                        }
                                    }
                                    catch (e_358_1) { e_358 = { error: e_358_1 }; }
                                    finally {
                                        try {
                                            if (_z && !_z.done && (_j = _q.return)) _j.call(_q);
                                        }
                                        finally { if (e_358) throw e_358.error; }
                                    }
                                });
                            };
                            Ka.prototype.parse = function (t, e) {
                                if (e === void 0) { e = "$root"; }
                                var n = this.processor.toView(t);
                                return this.toModel(n, e);
                            };
                            Ka.prototype.toModel = function (t, e) {
                                var _this = this;
                                if (e === void 0) { e = "$root"; }
                                return this.model.change(function (n) { return _this.upcastDispatcher.convert(t, n, e); });
                            };
                            Ka.prototype.destroy = function () { this.stopListening(); };
                            Ka.prototype._checkIfRootsExists = function (t) {
                                var e_359, _j;
                                try {
                                    for (var t_182 = __values(t), t_182_1 = t_182.next(); !t_182_1.done; t_182_1 = t_182.next()) {
                                        var e_360 = t_182_1.value;
                                        if (!this.model.document.getRootNames().includes(e_360))
                                            return !1;
                                    }
                                }
                                catch (e_359_1) { e_359 = { error: e_359_1 }; }
                                finally {
                                    try {
                                        if (t_182_1 && !t_182_1.done && (_j = t_182.return)) _j.call(t_182);
                                    }
                                    finally { if (e_359) throw e_359.error; }
                                }
                                return !0;
                            };
                            return Ka;
                        }());
                        li(Ka, Ui);
                        var Qa = /** @class */ (function () {
                            function Qa(t, e) {
                                this._helpers = new Map, this._downcast = Array.isArray(t) ? t : [t], this._createConversionHelpers({ name: "downcast", dispatchers: this._downcast, isDowncast: !0 }), this._upcast = Array.isArray(e) ? e : [e], this._createConversionHelpers({ name: "upcast", dispatchers: this._upcast, isDowncast: !1 });
                            }
                            Qa.prototype.addAlias = function (t, e) { var n = this._downcast.includes(e); if (!this._upcast.includes(e) && !n)
                                throw new Gn.b("conversion-add-alias-dispatcher-not-registered: Trying to register and alias for a dispatcher that nas not been registered.", this); this._createConversionHelpers({ name: t, dispatchers: [e], isDowncast: n }); };
                            Qa.prototype.for = function (t) { if (!this._helpers.has(t))
                                throw new Gn.b("conversion-for-unknown-group: Trying to add a converter to an unknown dispatchers group.", this); return this._helpers.get(t); };
                            Qa.prototype.elementToElement = function (t) {
                                var e_361, _j;
                                this.for("downcast").elementToElement(t);
                                try {
                                    for (var _q = __values(Za(t)), _z = _q.next(); !_z.done; _z = _q.next()) {
                                        var _0 = _z.value, e_362 = _0.model, n_144 = _0.view;
                                        this.for("upcast").elementToElement({ model: e_362, view: n_144, converterPriority: t.converterPriority });
                                    }
                                }
                                catch (e_361_1) { e_361 = { error: e_361_1 }; }
                                finally {
                                    try {
                                        if (_z && !_z.done && (_j = _q.return)) _j.call(_q);
                                    }
                                    finally { if (e_361) throw e_361.error; }
                                }
                            };
                            Qa.prototype.attributeToElement = function (t) {
                                var e_363, _j;
                                this.for("downcast").attributeToElement(t);
                                try {
                                    for (var _q = __values(Za(t)), _z = _q.next(); !_z.done; _z = _q.next()) {
                                        var _0 = _z.value, e_364 = _0.model, n_145 = _0.view;
                                        this.for("upcast").elementToAttribute({ view: n_145, model: e_364, converterPriority: t.converterPriority });
                                    }
                                }
                                catch (e_363_1) { e_363 = { error: e_363_1 }; }
                                finally {
                                    try {
                                        if (_z && !_z.done && (_j = _q.return)) _j.call(_q);
                                    }
                                    finally { if (e_363) throw e_363.error; }
                                }
                            };
                            Qa.prototype.attributeToAttribute = function (t) {
                                var e_365, _j;
                                this.for("downcast").attributeToAttribute(t);
                                try {
                                    for (var _q = __values(Za(t)), _z = _q.next(); !_z.done; _z = _q.next()) {
                                        var _0 = _z.value, e_366 = _0.model, n_146 = _0.view;
                                        this.for("upcast").attributeToAttribute({ view: n_146, model: e_366 });
                                    }
                                }
                                catch (e_365_1) { e_365 = { error: e_365_1 }; }
                                finally {
                                    try {
                                        if (_z && !_z.done && (_j = _q.return)) _j.call(_q);
                                    }
                                    finally { if (e_365) throw e_365.error; }
                                }
                            };
                            Qa.prototype._createConversionHelpers = function (_j) {
                                var t = _j.name, e = _j.dispatchers, n = _j.isDowncast;
                                if (this._helpers.has(t))
                                    throw new Gn.b("conversion-group-exists: Trying to register a group name that has already been registered.", this);
                                var i = n ? new ga(e) : new ya(e);
                                this._helpers.set(t, i);
                            };
                            return Qa;
                        }());
                        function Za(t) {
                            var e_367, _j, _q, _z, e_368, e_367_1;
                            return __generator(this, function (_0) {
                                switch (_0.label) {
                                    case 0:
                                        if (!t.model.values) return [3 /*break*/, 9];
                                        _0.label = 1;
                                    case 1:
                                        _0.trys.push([1, 6, 7, 8]);
                                        _q = __values(t.model.values), _z = _q.next();
                                        _0.label = 2;
                                    case 2:
                                        if (!!_z.done) return [3 /*break*/, 5];
                                        e_368 = _z.value;
                                        return [5 /*yield**/, __values(Xa({ key: t.model.key, value: e_368 }, t.view[e_368], t.upcastAlso ? t.upcastAlso[e_368] : void 0))];
                                    case 3:
                                        _0.sent();
                                        _0.label = 4;
                                    case 4:
                                        _z = _q.next();
                                        return [3 /*break*/, 2];
                                    case 5: return [3 /*break*/, 8];
                                    case 6:
                                        e_367_1 = _0.sent();
                                        e_367 = { error: e_367_1 };
                                        return [3 /*break*/, 8];
                                    case 7:
                                        try {
                                            if (_z && !_z.done && (_j = _q.return)) _j.call(_q);
                                        }
                                        finally { if (e_367) throw e_367.error; }
                                        return [7 /*endfinally*/];
                                    case 8: return [3 /*break*/, 11];
                                    case 9: return [5 /*yield**/, __values(Xa(t.model, t.view, t.upcastAlso))];
                                    case 10:
                                        _0.sent();
                                        _0.label = 11;
                                    case 11: return [2 /*return*/];
                                }
                            });
                        }
                        function Xa(t, e, n) {
                            var e_369, _j, n_147, n_147_1, e_370, e_369_1;
                            return __generator(this, function (_q) {
                                switch (_q.label) {
                                    case 0: return [4 /*yield*/, { model: t, view: e }];
                                    case 1:
                                        if (!(_q.sent(), n)) return [3 /*break*/, 9];
                                        n = Array.isArray(n) ? n : [n];
                                        _q.label = 2;
                                    case 2:
                                        _q.trys.push([2, 7, 8, 9]);
                                        n_147 = __values(n), n_147_1 = n_147.next();
                                        _q.label = 3;
                                    case 3:
                                        if (!!n_147_1.done) return [3 /*break*/, 6];
                                        e_370 = n_147_1.value;
                                        return [4 /*yield*/, { model: t, view: e_370 }];
                                    case 4:
                                        _q.sent();
                                        _q.label = 5;
                                    case 5:
                                        n_147_1 = n_147.next();
                                        return [3 /*break*/, 3];
                                    case 6: return [3 /*break*/, 9];
                                    case 7:
                                        e_369_1 = _q.sent();
                                        e_369 = { error: e_369_1 };
                                        return [3 /*break*/, 9];
                                    case 8:
                                        try {
                                            if (n_147_1 && !n_147_1.done && (_j = n_147.return)) _j.call(n_147);
                                        }
                                        finally { if (e_369) throw e_369.error; }
                                        return [7 /*endfinally*/];
                                    case 9: return [2 /*return*/];
                                }
                            });
                        }
                        var tc = /** @class */ (function () {
                            function tc(t) {
                                if (t === void 0) { t = "default"; }
                                this.operations = [], this.type = t;
                            }
                            Object.defineProperty(tc.prototype, "baseVersion", {
                                get: function () {
                                    var e_371, _j;
                                    try {
                                        for (var _q = __values(this.operations), _z = _q.next(); !_z.done; _z = _q.next()) {
                                            var t_183 = _z.value;
                                            if (null !== t_183.baseVersion)
                                                return t_183.baseVersion;
                                        }
                                    }
                                    catch (e_371_1) { e_371 = { error: e_371_1 }; }
                                    finally {
                                        try {
                                            if (_z && !_z.done && (_j = _q.return)) _j.call(_q);
                                        }
                                        finally { if (e_371) throw e_371.error; }
                                    }
                                    return null;
                                },
                                enumerable: true,
                                configurable: true
                            });
                            tc.prototype.addOperation = function (t) { return t.batch = this, this.operations.push(t), t; };
                            return tc;
                        }());
                        var ec = /** @class */ (function () {
                            function ec(t) {
                                this.baseVersion = t, this.isDocumentOperation = null !== this.baseVersion, this.batch = null;
                            }
                            ec.prototype._validate = function () { };
                            ec.prototype.toJSON = function () { var t = Object.assign({}, this); return t.__className = this.constructor.className, delete t.batch, delete t.isDocumentOperation, t; };
                            Object.defineProperty(ec, "className", {
                                get: function () { return "Operation"; },
                                enumerable: true,
                                configurable: true
                            });
                            ec.fromJSON = function (t) { return new this(t.baseVersion); };
                            return ec;
                        }());
                        var nc = /** @class */ (function () {
                            function nc(t) {
                                this.markers = new Map, this._children = new qs, t && this._insertChild(0, t);
                            }
                            nc.prototype[Symbol.iterator] = function () { return this.getChildren(); };
                            Object.defineProperty(nc.prototype, "childCount", {
                                get: function () { return this._children.length; },
                                enumerable: true,
                                configurable: true
                            });
                            Object.defineProperty(nc.prototype, "maxOffset", {
                                get: function () { return this._children.maxOffset; },
                                enumerable: true,
                                configurable: true
                            });
                            Object.defineProperty(nc.prototype, "isEmpty", {
                                get: function () { return 0 === this.childCount; },
                                enumerable: true,
                                configurable: true
                            });
                            Object.defineProperty(nc.prototype, "root", {
                                get: function () { return this; },
                                enumerable: true,
                                configurable: true
                            });
                            Object.defineProperty(nc.prototype, "parent", {
                                get: function () { return null; },
                                enumerable: true,
                                configurable: true
                            });
                            nc.prototype.is = function (t) { return "documentFragment" == t || "model:documentFragment" == t; };
                            nc.prototype.getChild = function (t) { return this._children.getNode(t); };
                            nc.prototype.getChildren = function () { return this._children[Symbol.iterator](); };
                            nc.prototype.getChildIndex = function (t) { return this._children.getNodeIndex(t); };
                            nc.prototype.getChildStartOffset = function (t) { return this._children.getNodeStartOffset(t); };
                            nc.prototype.getPath = function () { return []; };
                            nc.prototype.getNodeByPath = function (t) {
                                var e_372, _j;
                                var e = this;
                                try {
                                    for (var t_184 = __values(t), t_184_1 = t_184.next(); !t_184_1.done; t_184_1 = t_184.next()) {
                                        var n_148 = t_184_1.value;
                                        e = e.getChild(e.offsetToIndex(n_148));
                                    }
                                }
                                catch (e_372_1) { e_372 = { error: e_372_1 }; }
                                finally {
                                    try {
                                        if (t_184_1 && !t_184_1.done && (_j = t_184.return)) _j.call(t_184);
                                    }
                                    finally { if (e_372) throw e_372.error; }
                                }
                                return e;
                            };
                            nc.prototype.offsetToIndex = function (t) { return this._children.offsetToIndex(t); };
                            nc.prototype.toJSON = function () {
                                var e_373, _j;
                                var t = [];
                                try {
                                    for (var _q = __values(this._children), _z = _q.next(); !_z.done; _z = _q.next()) {
                                        var e_374 = _z.value;
                                        t.push(e_374.toJSON());
                                    }
                                }
                                catch (e_373_1) { e_373 = { error: e_373_1 }; }
                                finally {
                                    try {
                                        if (_z && !_z.done && (_j = _q.return)) _j.call(_q);
                                    }
                                    finally { if (e_373) throw e_373.error; }
                                }
                                return t;
                            };
                            nc.fromJSON = function (t) {
                                var e_375, _j;
                                var e = [];
                                try {
                                    for (var t_185 = __values(t), t_185_1 = t_185.next(); !t_185_1.done; t_185_1 = t_185.next()) {
                                        var n_149 = t_185_1.value;
                                        n_149.name ? e.push(Ys.fromJSON(n_149)) : e.push(Us.fromJSON(n_149));
                                    }
                                }
                                catch (e_375_1) { e_375 = { error: e_375_1 }; }
                                finally {
                                    try {
                                        if (t_185_1 && !t_185_1.done && (_j = t_185.return)) _j.call(t_185);
                                    }
                                    finally { if (e_375) throw e_375.error; }
                                }
                                return new nc(e);
                            };
                            nc.prototype._appendChild = function (t) { this._insertChild(this.childCount, t); };
                            nc.prototype._insertChild = function (t, e) {
                                var e_376, _j;
                                var n = function (t) { if ("string" == typeof t)
                                    return [new Us(t)]; xi(t) || (t = [t]); return Array.from(t).map(function (t) { return "string" == typeof t ? new Us(t) : t instanceof Hs ? new Us(t.data, t.getAttributes()) : t; }); }(e);
                                try {
                                    for (var n_150 = __values(n), n_150_1 = n_150.next(); !n_150_1.done; n_150_1 = n_150.next()) {
                                        var t_186 = n_150_1.value;
                                        null !== t_186.parent && t_186._remove(), t_186.parent = this;
                                    }
                                }
                                catch (e_376_1) { e_376 = { error: e_376_1 }; }
                                finally {
                                    try {
                                        if (n_150_1 && !n_150_1.done && (_j = n_150.return)) _j.call(n_150);
                                    }
                                    finally { if (e_376) throw e_376.error; }
                                }
                                this._children._insertNodes(t, n);
                            };
                            nc.prototype._removeChildren = function (t, e) {
                                var e_377, _j;
                                if (e === void 0) { e = 1; }
                                var n = this._children._removeNodes(t, e);
                                try {
                                    for (var n_151 = __values(n), n_151_1 = n_151.next(); !n_151_1.done; n_151_1 = n_151.next()) {
                                        var t_187 = n_151_1.value;
                                        t_187.parent = null;
                                    }
                                }
                                catch (e_377_1) { e_377 = { error: e_377_1 }; }
                                finally {
                                    try {
                                        if (n_151_1 && !n_151_1.done && (_j = n_151.return)) _j.call(n_151);
                                    }
                                    finally { if (e_377) throw e_377.error; }
                                }
                                return n;
                            };
                            return nc;
                        }());
                        function ic(t, e) { var n = (e = sc(e)).reduce(function (t, e) { return t + e.offsetSize; }, 0), i = t.parent; cc(t); var o = t.index; return i._insertChild(o, e), ac(i, o + e.length), ac(i, o), new Ks(t, t.getShiftedBy(n)); }
                        function oc(t) { if (!t.isFlat)
                            throw new Gn.b("operation-utils-remove-range-not-flat: Trying to remove a range which starts and ends in different element.", this); var e = t.start.parent; cc(t.start), cc(t.end); var n = e._removeChildren(t.start.index, t.end.index - t.start.index); return ac(e, t.start.index), n; }
                        function rc(t, e) { if (!t.isFlat)
                            throw new Gn.b("operation-utils-move-range-not-flat: Trying to move a range which starts and ends in different element.", this); var n = oc(t); return ic(e = e._getTransformedByDeletion(t.start, t.end.offset - t.start.offset), n); }
                        function sc(t) {
                            var e_378, _j;
                            var e = [];
                            t instanceof Array || (t = [t]);
                            for (var n_152 = 0; n_152 < t.length; n_152++)
                                if ("string" == typeof t[n_152])
                                    e.push(new Us(t[n_152]));
                                else if (t[n_152] instanceof Hs)
                                    e.push(new Us(t[n_152].data, t[n_152].getAttributes()));
                                else if (t[n_152] instanceof nc || t[n_152] instanceof qs)
                                    try {
                                        for (var _q = __values(t[n_152]), _z = _q.next(); !_z.done; _z = _q.next()) {
                                            var i_83 = _z.value;
                                            e.push(i_83);
                                        }
                                    }
                                    catch (e_378_1) { e_378 = { error: e_378_1 }; }
                                    finally {
                                        try {
                                            if (_z && !_z.done && (_j = _q.return)) _j.call(_q);
                                        }
                                        finally { if (e_378) throw e_378.error; }
                                    }
                                else
                                    t[n_152] instanceof zs && e.push(t[n_152]);
                            for (var t_188 = 1; t_188 < e.length; t_188++) {
                                var n_153 = e[t_188], i_84 = e[t_188 - 1];
                                n_153 instanceof Us && i_84 instanceof Us && lc(n_153, i_84) && (e.splice(t_188 - 1, 2, new Us(i_84.data + n_153.data, i_84.getAttributes())), t_188--);
                            }
                            return e;
                        }
                        function ac(t, e) { var n = t.getChild(e - 1), i = t.getChild(e); if (n && i && n.is("text") && i.is("text") && lc(n, i)) {
                            var o_43 = new Us(n.data + i.data, n.getAttributes());
                            t._removeChildren(e - 1, 2), t._insertChild(e - 1, o_43);
                        } }
                        function cc(t) { var e = t.textNode, n = t.parent; if (e) {
                            var i_85 = t.offset - e.startOffset, o_44 = e.index;
                            n._removeChildren(o_44, 1);
                            var r_15 = new Us(e.data.substr(0, i_85), e.getAttributes()), s_15 = new Us(e.data.substr(i_85), e.getAttributes());
                            n._insertChild(o_44, [r_15, s_15]);
                        } }
                        function lc(t, e) {
                            var e_379, _j;
                            var n = t.getAttributes(), i = e.getAttributes();
                            try {
                                for (var n_154 = __values(n), n_154_1 = n_154.next(); !n_154_1.done; n_154_1 = n_154.next()) {
                                    var t_189 = n_154_1.value;
                                    if (t_189[1] !== e.getAttribute(t_189[0]))
                                        return !1;
                                    i.next();
                                }
                            }
                            catch (e_379_1) { e_379 = { error: e_379_1 }; }
                            finally {
                                try {
                                    if (n_154_1 && !n_154_1.done && (_j = n_154.return)) _j.call(n_154);
                                }
                                finally { if (e_379) throw e_379.error; }
                            }
                            return i.next().done;
                        }
                        var dc = function (t, e) { return Zr(t, e); };
                        var uc = /** @class */ (function (_super) {
                            __extends(uc, _super);
                            function uc(t, e, n, i, o) {
                                var _this = this;
                                _this = _super.call(this, o) || this, _this.range = t.clone(), _this.key = e, _this.oldValue = void 0 === n ? null : n, _this.newValue = void 0 === i ? null : i;
                                return _this;
                            }
                            Object.defineProperty(uc.prototype, "type", {
                                get: function () { return null === this.oldValue ? "addAttribute" : null === this.newValue ? "removeAttribute" : "changeAttribute"; },
                                enumerable: true,
                                configurable: true
                            });
                            uc.prototype.clone = function () { return new uc(this.range, this.key, this.oldValue, this.newValue, this.baseVersion); };
                            uc.prototype.getReversed = function () { return new uc(this.range, this.key, this.newValue, this.oldValue, this.baseVersion + 1); };
                            uc.prototype.toJSON = function () { var t = _super.prototype.toJSON.call(this); return t.range = this.range.toJSON(), t; };
                            uc.prototype._validate = function () {
                                var e_380, _j;
                                if (!this.range.isFlat)
                                    throw new Gn.b("attribute-operation-range-not-flat: The range to change is not flat.", this);
                                try {
                                    for (var _q = __values(this.range.getItems({ shallow: !0 })), _z = _q.next(); !_z.done; _z = _q.next()) {
                                        var t_190 = _z.value;
                                        if (null !== this.oldValue && !dc(t_190.getAttribute(this.key), this.oldValue))
                                            throw new Gn.b("attribute-operation-wrong-old-value: Changed node has different attribute value than operation's old attribute value.", this, { item: t_190, key: this.key, value: this.oldValue });
                                        if (null === this.oldValue && null !== this.newValue && t_190.hasAttribute(this.key))
                                            throw new Gn.b("attribute-operation-attribute-exists: The attribute with given key already exists.", this, { node: t_190, key: this.key });
                                    }
                                }
                                catch (e_380_1) { e_380 = { error: e_380_1 }; }
                                finally {
                                    try {
                                        if (_z && !_z.done && (_j = _q.return)) _j.call(_q);
                                    }
                                    finally { if (e_380) throw e_380.error; }
                                }
                            };
                            uc.prototype._execute = function () { dc(this.oldValue, this.newValue) || function (t, e, n) {
                                var e_381, _j;
                                cc(t.start), cc(t.end);
                                try {
                                    for (var _q = __values(t.getItems({ shallow: !0 })), _z = _q.next(); !_z.done; _z = _q.next()) {
                                        var i_86 = _z.value;
                                        var t_191 = i_86.is("textProxy") ? i_86.textNode : i_86;
                                        null !== n ? t_191._setAttribute(e, n) : t_191._removeAttribute(e), ac(t_191.parent, t_191.index);
                                    }
                                }
                                catch (e_381_1) { e_381 = { error: e_381_1 }; }
                                finally {
                                    try {
                                        if (_z && !_z.done && (_j = _q.return)) _j.call(_q);
                                    }
                                    finally { if (e_381) throw e_381.error; }
                                }
                                ac(t.end.parent, t.end.index);
                            }(this.range, this.key, this.newValue); };
                            Object.defineProperty(uc, "className", {
                                get: function () { return "AttributeOperation"; },
                                enumerable: true,
                                configurable: true
                            });
                            uc.fromJSON = function (t, e) { return new uc(Ks.fromJSON(t.range, e), t.key, t.oldValue, t.newValue, t.baseVersion); };
                            return uc;
                        }(ec));
                        var hc = /** @class */ (function (_super) {
                            __extends(hc, _super);
                            function hc(t, e) {
                                var _this = this;
                                _this = _super.call(this, null) || this, _this.sourcePosition = t.clone(), _this.howMany = e;
                                return _this;
                            }
                            Object.defineProperty(hc.prototype, "type", {
                                get: function () { return "detach"; },
                                enumerable: true,
                                configurable: true
                            });
                            hc.prototype.toJSON = function () { var t = _super.prototype.toJSON.call(this); return t.sourcePosition = this.sourcePosition.toJSON(), t; };
                            hc.prototype._validate = function () { if (this.sourcePosition.root.document)
                                throw new Gn.b("detach-operation-on-document-node: Cannot detach document node.", this); };
                            hc.prototype._execute = function () { oc(Ks._createFromPositionAndShift(this.sourcePosition, this.howMany)); };
                            Object.defineProperty(hc, "className", {
                                get: function () { return "DetachOperation"; },
                                enumerable: true,
                                configurable: true
                            });
                            return hc;
                        }(ec));
                        var fc = /** @class */ (function (_super) {
                            __extends(fc, _super);
                            function fc(t, e, n, i) {
                                var _this = this;
                                _this = _super.call(this, i) || this, _this.sourcePosition = t.clone(), _this.sourcePosition.stickiness = "toNext", _this.howMany = e, _this.targetPosition = n.clone(), _this.targetPosition.stickiness = "toNone";
                                return _this;
                            }
                            Object.defineProperty(fc.prototype, "type", {
                                get: function () { return "$graveyard" == this.targetPosition.root.rootName ? "remove" : "$graveyard" == this.sourcePosition.root.rootName ? "reinsert" : "move"; },
                                enumerable: true,
                                configurable: true
                            });
                            fc.prototype.clone = function () { return new this.constructor(this.sourcePosition, this.howMany, this.targetPosition, this.baseVersion); };
                            fc.prototype.getMovedRangeStart = function () { return this.targetPosition._getTransformedByDeletion(this.sourcePosition, this.howMany); };
                            fc.prototype.getReversed = function () { var t = this.sourcePosition._getTransformedByInsertion(this.targetPosition, this.howMany); return new this.constructor(this.getMovedRangeStart(), this.howMany, t, this.baseVersion + 1); };
                            fc.prototype._validate = function () { var t = this.sourcePosition.parent, e = this.targetPosition.parent, n = this.sourcePosition.offset, i = this.targetPosition.offset; if (n + this.howMany > t.maxOffset)
                                throw new Gn.b("move-operation-nodes-do-not-exist: The nodes which should be moved do not exist.", this); if (t === e && n < i && i < n + this.howMany)
                                throw new Gn.b("move-operation-range-into-itself: Trying to move a range of nodes to the inside of that range.", this); if (this.sourcePosition.root == this.targetPosition.root && "prefix" == di(this.sourcePosition.getParentPath(), this.targetPosition.getParentPath())) {
                                var t_192 = this.sourcePosition.path.length - 1;
                                if (this.targetPosition.path[t_192] >= n && this.targetPosition.path[t_192] < n + this.howMany)
                                    throw new Gn.b("move-operation-node-into-itself: Trying to move a range of nodes into one of nodes from that range.", this);
                            } };
                            fc.prototype._execute = function () { rc(Ks._createFromPositionAndShift(this.sourcePosition, this.howMany), this.targetPosition); };
                            fc.prototype.toJSON = function () { var t = _super.prototype.toJSON.call(this); return t.sourcePosition = this.sourcePosition.toJSON(), t.targetPosition = this.targetPosition.toJSON(), t; };
                            Object.defineProperty(fc, "className", {
                                get: function () { return "MoveOperation"; },
                                enumerable: true,
                                configurable: true
                            });
                            fc.fromJSON = function (t, e) { var n = Gs.fromJSON(t.sourcePosition, e), i = Gs.fromJSON(t.targetPosition, e); return new this(n, t.howMany, i, t.baseVersion); };
                            return fc;
                        }(ec));
                        var pc = /** @class */ (function (_super) {
                            __extends(pc, _super);
                            function pc(t, e, n) {
                                var _this = this;
                                _this = _super.call(this, n) || this, _this.position = t.clone(), _this.position.stickiness = "toNone", _this.nodes = new qs(sc(e)), _this.shouldReceiveAttributes = !1;
                                return _this;
                            }
                            Object.defineProperty(pc.prototype, "type", {
                                get: function () { return "insert"; },
                                enumerable: true,
                                configurable: true
                            });
                            Object.defineProperty(pc.prototype, "howMany", {
                                get: function () { return this.nodes.maxOffset; },
                                enumerable: true,
                                configurable: true
                            });
                            pc.prototype.clone = function () { var t = new qs(__spread(this.nodes).map(function (t) { return t._clone(!0); })), e = new pc(this.position, t, this.baseVersion); return e.shouldReceiveAttributes = this.shouldReceiveAttributes, e; };
                            pc.prototype.getReversed = function () { var t = this.position.root.document.graveyard, e = new Gs(t, [0]); return new fc(this.position, this.nodes.maxOffset, e, this.baseVersion + 1); };
                            pc.prototype._validate = function () { var t = this.position.parent; if (!t || t.maxOffset < this.position.offset)
                                throw new Gn.b("insert-operation-position-invalid: Insertion position is invalid.", this); };
                            pc.prototype._execute = function () { var t = this.nodes; this.nodes = new qs(__spread(t).map(function (t) { return t._clone(!0); })), ic(this.position, t); };
                            pc.prototype.toJSON = function () { var t = _super.prototype.toJSON.call(this); return t.position = this.position.toJSON(), t.nodes = this.nodes.toJSON(), t; };
                            Object.defineProperty(pc, "className", {
                                get: function () { return "InsertOperation"; },
                                enumerable: true,
                                configurable: true
                            });
                            pc.fromJSON = function (t, e) {
                                var e_382, _j;
                                var n = [];
                                try {
                                    for (var _q = __values(t.nodes), _z = _q.next(); !_z.done; _z = _q.next()) {
                                        var e_383 = _z.value;
                                        e_383.name ? n.push(Ys.fromJSON(e_383)) : n.push(Us.fromJSON(e_383));
                                    }
                                }
                                catch (e_382_1) { e_382 = { error: e_382_1 }; }
                                finally {
                                    try {
                                        if (_z && !_z.done && (_j = _q.return)) _j.call(_q);
                                    }
                                    finally { if (e_382) throw e_382.error; }
                                }
                                var i = new pc(Gs.fromJSON(t.position, e), n, t.baseVersion);
                                return i.shouldReceiveAttributes = t.shouldReceiveAttributes, i;
                            };
                            return pc;
                        }(ec));
                        var mc = /** @class */ (function (_super) {
                            __extends(mc, _super);
                            function mc(t, e, n, i, o, r) {
                                var _this = this;
                                _this = _super.call(this, r) || this, _this.name = t, _this.oldRange = e ? e.clone() : null, _this.newRange = n ? n.clone() : null, _this.affectsData = o, _this._markers = i;
                                return _this;
                            }
                            Object.defineProperty(mc.prototype, "type", {
                                get: function () { return "marker"; },
                                enumerable: true,
                                configurable: true
                            });
                            mc.prototype.clone = function () { return new mc(this.name, this.oldRange, this.newRange, this._markers, this.affectsData, this.baseVersion); };
                            mc.prototype.getReversed = function () { return new mc(this.name, this.newRange, this.oldRange, this._markers, this.affectsData, this.baseVersion + 1); };
                            mc.prototype._execute = function () { var t = this.newRange ? "_set" : "_remove"; this._markers[t](this.name, this.newRange, !0, this.affectsData); };
                            mc.prototype.toJSON = function () { var t = _super.prototype.toJSON.call(this); return this.oldRange && (t.oldRange = this.oldRange.toJSON()), this.newRange && (t.newRange = this.newRange.toJSON()), delete t._markers, t; };
                            Object.defineProperty(mc, "className", {
                                get: function () { return "MarkerOperation"; },
                                enumerable: true,
                                configurable: true
                            });
                            mc.fromJSON = function (t, e) { return new mc(t.name, t.oldRange ? Ks.fromJSON(t.oldRange, e) : null, t.newRange ? Ks.fromJSON(t.newRange, e) : null, e.model.markers, t.affectsData, t.baseVersion); };
                            return mc;
                        }(ec));
                        var gc = /** @class */ (function (_super) {
                            __extends(gc, _super);
                            function gc(t, e, n, i) {
                                var _this = this;
                                _this = _super.call(this, i) || this, _this.position = t, _this.position.stickiness = "toNext", _this.oldName = e, _this.newName = n;
                                return _this;
                            }
                            Object.defineProperty(gc.prototype, "type", {
                                get: function () { return "rename"; },
                                enumerable: true,
                                configurable: true
                            });
                            gc.prototype.clone = function () { return new gc(this.position.clone(), this.oldName, this.newName, this.baseVersion); };
                            gc.prototype.getReversed = function () { return new gc(this.position.clone(), this.newName, this.oldName, this.baseVersion + 1); };
                            gc.prototype._validate = function () { var t = this.position.nodeAfter; if (!(t instanceof Ys))
                                throw new Gn.b("rename-operation-wrong-position: Given position is invalid or node after it is not an instance of Element.", this); if (t.name !== this.oldName)
                                throw new Gn.b("rename-operation-wrong-name: Element to change has different name than operation's old name.", this); };
                            gc.prototype._execute = function () { this.position.nodeAfter.name = this.newName; };
                            gc.prototype.toJSON = function () { var t = _super.prototype.toJSON.call(this); return t.position = this.position.toJSON(), t; };
                            Object.defineProperty(gc, "className", {
                                get: function () { return "RenameOperation"; },
                                enumerable: true,
                                configurable: true
                            });
                            gc.fromJSON = function (t, e) { return new gc(Gs.fromJSON(t.position, e), t.oldName, t.newName, t.baseVersion); };
                            return gc;
                        }(ec));
                        var xc = /** @class */ (function (_super) {
                            __extends(xc, _super);
                            function xc(t, e, n, i, o) {
                                var _this = this;
                                _this = _super.call(this, o) || this, _this.root = t, _this.key = e, _this.oldValue = n, _this.newValue = i;
                                return _this;
                            }
                            Object.defineProperty(xc.prototype, "type", {
                                get: function () { return null === this.oldValue ? "addRootAttribute" : null === this.newValue ? "removeRootAttribute" : "changeRootAttribute"; },
                                enumerable: true,
                                configurable: true
                            });
                            xc.prototype.clone = function () { return new xc(this.root, this.key, this.oldValue, this.newValue, this.baseVersion); };
                            xc.prototype.getReversed = function () { return new xc(this.root, this.key, this.newValue, this.oldValue, this.baseVersion + 1); };
                            xc.prototype._validate = function () { if (this.root != this.root.root || this.root.is("documentFragment"))
                                throw new Gn.b("rootattribute-operation-not-a-root: The element to change is not a root element.", this, { root: this.root, key: this.key }); if (null !== this.oldValue && this.root.getAttribute(this.key) !== this.oldValue)
                                throw new Gn.b("rootattribute-operation-wrong-old-value: Changed node has different attribute value than operation's old attribute value.", this, { root: this.root, key: this.key }); if (null === this.oldValue && null !== this.newValue && this.root.hasAttribute(this.key))
                                throw new Gn.b("rootattribute-operation-attribute-exists: The attribute with given key already exists.", this, { root: this.root, key: this.key }); };
                            xc.prototype._execute = function () { null !== this.newValue ? this.root._setAttribute(this.key, this.newValue) : this.root._removeAttribute(this.key); };
                            xc.prototype.toJSON = function () { var t = _super.prototype.toJSON.call(this); return t.root = this.root.toJSON(), t; };
                            Object.defineProperty(xc, "className", {
                                get: function () { return "RootAttributeOperation"; },
                                enumerable: true,
                                configurable: true
                            });
                            xc.fromJSON = function (t, e) { if (!e.getRoot(t.root))
                                throw new Gn.b("rootattribute-operation-fromjson-no-root: Cannot create RootAttributeOperation. Root with specified name does not exist.", this, { rootName: t.root }); return new xc(e.getRoot(t.root), t.key, t.oldValue, t.newValue, t.baseVersion); };
                            return xc;
                        }(ec));
                        var bc = /** @class */ (function (_super) {
                            __extends(bc, _super);
                            function bc(t, e, n, i, o) {
                                var _this = this;
                                _this = _super.call(this, o) || this, _this.sourcePosition = t.clone(), _this.sourcePosition.stickiness = "toPrevious", _this.howMany = e, _this.targetPosition = n.clone(), _this.targetPosition.stickiness = "toNext", _this.graveyardPosition = i.clone();
                                return _this;
                            }
                            Object.defineProperty(bc.prototype, "type", {
                                get: function () { return "merge"; },
                                enumerable: true,
                                configurable: true
                            });
                            Object.defineProperty(bc.prototype, "deletionPosition", {
                                get: function () { return new Gs(this.sourcePosition.root, this.sourcePosition.path.slice(0, -1)); },
                                enumerable: true,
                                configurable: true
                            });
                            Object.defineProperty(bc.prototype, "movedRange", {
                                get: function () { var t = this.sourcePosition.getShiftedBy(Number.POSITIVE_INFINITY); return new Ks(this.sourcePosition, t); },
                                enumerable: true,
                                configurable: true
                            });
                            bc.prototype.clone = function () { return new this.constructor(this.sourcePosition, this.howMany, this.targetPosition, this.graveyardPosition, this.baseVersion); };
                            bc.prototype.getReversed = function () { var t = this.targetPosition._getTransformedByMergeOperation(this), e = this.sourcePosition.path.slice(0, -1), n = new Gs(this.sourcePosition.root, e)._getTransformedByMergeOperation(this), i = new kc(t, this.howMany, this.graveyardPosition, this.baseVersion + 1); return i.insertionPosition = n, i; };
                            bc.prototype._validate = function () { var t = this.sourcePosition.parent, e = this.targetPosition.parent; if (!t.parent)
                                throw new Gn.b("merge-operation-source-position-invalid: Merge source position is invalid.", this); if (!e.parent)
                                throw new Gn.b("merge-operation-target-position-invalid: Merge target position is invalid.", this); if (this.howMany != t.maxOffset)
                                throw new Gn.b("merge-operation-how-many-invalid: Merge operation specifies wrong number of nodes to move.", this); };
                            bc.prototype._execute = function () { var t = this.sourcePosition.parent; rc(Ks._createIn(t), this.targetPosition), rc(Ks._createOn(t), this.graveyardPosition); };
                            bc.prototype.toJSON = function () { var t = _super.prototype.toJSON.call(this); return t.sourcePosition = t.sourcePosition.toJSON(), t.targetPosition = t.targetPosition.toJSON(), t.graveyardPosition = t.graveyardPosition.toJSON(), t; };
                            Object.defineProperty(bc, "className", {
                                get: function () { return "MergeOperation"; },
                                enumerable: true,
                                configurable: true
                            });
                            bc.fromJSON = function (t, e) { var n = Gs.fromJSON(t.sourcePosition, e), i = Gs.fromJSON(t.targetPosition, e), o = Gs.fromJSON(t.graveyardPosition, e); return new this(n, t.howMany, i, o, t.baseVersion); };
                            return bc;
                        }(ec));
                        var kc = /** @class */ (function (_super) {
                            __extends(kc, _super);
                            function kc(t, e, n, i) {
                                var _this = this;
                                _this = _super.call(this, i) || this, _this.splitPosition = t.clone(), _this.splitPosition.stickiness = "toNext", _this.howMany = e, _this.insertionPosition = kc.getInsertionPosition(t), _this.insertionPosition.stickiness = "toNone", _this.graveyardPosition = n ? n.clone() : null, _this.graveyardPosition && (_this.graveyardPosition.stickiness = "toNext");
                                return _this;
                            }
                            Object.defineProperty(kc.prototype, "type", {
                                get: function () { return "split"; },
                                enumerable: true,
                                configurable: true
                            });
                            Object.defineProperty(kc.prototype, "moveTargetPosition", {
                                get: function () { var t = this.insertionPosition.path.slice(); return t.push(0), new Gs(this.insertionPosition.root, t); },
                                enumerable: true,
                                configurable: true
                            });
                            Object.defineProperty(kc.prototype, "movedRange", {
                                get: function () { var t = this.splitPosition.getShiftedBy(Number.POSITIVE_INFINITY); return new Ks(this.splitPosition, t); },
                                enumerable: true,
                                configurable: true
                            });
                            kc.prototype.clone = function () { var t = new this.constructor(this.splitPosition, this.howMany, this.graveyardPosition, this.baseVersion); return t.insertionPosition = this.insertionPosition, t; };
                            kc.prototype.getReversed = function () { var t = this.splitPosition.root.document.graveyard, e = new Gs(t, [0]); return new bc(this.moveTargetPosition, this.howMany, this.splitPosition, e, this.baseVersion + 1); };
                            kc.prototype._validate = function () { var t = this.splitPosition.parent, e = this.splitPosition.offset; if (!t || t.maxOffset < e)
                                throw new Gn.b("split-operation-position-invalid: Split position is invalid.", this); if (!t.parent)
                                throw new Gn.b("split-operation-split-in-root: Cannot split root element.", this); if (this.howMany != t.maxOffset - this.splitPosition.offset)
                                throw new Gn.b("split-operation-how-many-invalid: Split operation specifies wrong number of nodes to move.", this); if (this.graveyardPosition && !this.graveyardPosition.nodeAfter)
                                throw new Gn.b("split-operation-graveyard-position-invalid: Graveyard position invalid.", this); };
                            kc.prototype._execute = function () { var t = this.splitPosition.parent; if (this.graveyardPosition)
                                rc(Ks._createFromPositionAndShift(this.graveyardPosition, 1), this.insertionPosition);
                            else {
                                var e_384 = t._clone();
                                ic(this.insertionPosition, e_384);
                            } rc(new Ks(Gs._createAt(t, this.splitPosition.offset), Gs._createAt(t, t.maxOffset)), this.moveTargetPosition); };
                            kc.prototype.toJSON = function () { var t = _super.prototype.toJSON.call(this); return t.splitPosition = this.splitPosition.toJSON(), t.insertionPosition = this.insertionPosition.toJSON(), this.graveyardPosition && (t.graveyardPosition = this.graveyardPosition.toJSON()), t; };
                            Object.defineProperty(kc, "className", {
                                get: function () { return "SplitOperation"; },
                                enumerable: true,
                                configurable: true
                            });
                            kc.getInsertionPosition = function (t) { var e = t.path.slice(0, -1); return e[e.length - 1]++, new Gs(t.root, e); };
                            kc.fromJSON = function (t, e) { var n = Gs.fromJSON(t.splitPosition, e), i = Gs.fromJSON(t.insertionPosition, e), o = t.graveyardPosition ? Gs.fromJSON(t.graveyardPosition, e) : null, r = new this(n, t.howMany, o, t.baseVersion); return r.insertionPosition = i, r; };
                            return kc;
                        }(ec));
                        var wc = /** @class */ (function (_super) {
                            __extends(wc, _super);
                            function wc(t, e, n) {
                                if (n === void 0) { n = "main"; }
                                var _this = this;
                                _this = _super.call(this, e) || this, _this._doc = t, _this.rootName = n;
                                return _this;
                            }
                            Object.defineProperty(wc.prototype, "document", {
                                get: function () { return this._doc; },
                                enumerable: true,
                                configurable: true
                            });
                            wc.prototype.is = function (t, e) { var n = t.replace("model:", ""); return e ? "rootElement" == n && e == this.name || _super.prototype.is.call(this, t, e) : "rootElement" == n || _super.prototype.is.call(this, t); };
                            wc.prototype.toJSON = function () { return this.rootName; };
                            return wc;
                        }(Ys));
                        var vc = /** @class */ (function () {
                            function vc(t, e) {
                                this.model = t, this.batch = e;
                            }
                            vc.prototype.createText = function (t, e) { return new Us(t, e); };
                            vc.prototype.createElement = function (t, e) { return new Ys(t, e); };
                            vc.prototype.createDocumentFragment = function () { return new nc; };
                            vc.prototype.insert = function (t, e, n) {
                                var e_385, _j;
                                if (n === void 0) { n = 0; }
                                if (this._assertWriterUsedCorrectly(), t instanceof Us && "" == t.data)
                                    return;
                                var i = Gs._createAt(e, n);
                                if (t.parent) {
                                    if (Ac(t.root, i.root))
                                        return void this.move(Ks._createOn(t), i);
                                    if (t.root.document)
                                        throw new Gn.b("model-writer-insert-forbidden-move: Cannot move a node from a document to a different tree. It is forbidden to move a node that was already in a document outside of it.", this);
                                    this.remove(t);
                                }
                                var o = i.root.document ? i.root.document.version : null, r = new pc(i, t, o);
                                if (t instanceof Us && (r.shouldReceiveAttributes = !0), this.batch.addOperation(r), this.model.applyOperation(r), t instanceof nc)
                                    try {
                                        for (var _q = __values(t.markers), _z = _q.next(); !_z.done; _z = _q.next()) {
                                            var _0 = __read(_z.value, 2), e_386 = _0[0], n_155 = _0[1];
                                            var t_193 = Gs._createAt(n_155.root, 0), o_45 = { range: new Ks(n_155.start._getCombined(t_193, i), n_155.end._getCombined(t_193, i)), usingOperation: !0, affectsData: !0 };
                                            this.model.markers.has(e_386) ? this.updateMarker(e_386, o_45) : this.addMarker(e_386, o_45);
                                        }
                                    }
                                    catch (e_385_1) { e_385 = { error: e_385_1 }; }
                                    finally {
                                        try {
                                            if (_z && !_z.done && (_j = _q.return)) _j.call(_q);
                                        }
                                        finally { if (e_385) throw e_385.error; }
                                    }
                            };
                            vc.prototype.insertText = function (t, e, n, i) { e instanceof nc || e instanceof Ys || e instanceof Gs ? this.insert(this.createText(t), e, n) : this.insert(this.createText(t, e), n, i); };
                            vc.prototype.insertElement = function (t, e, n, i) { e instanceof nc || e instanceof Ys || e instanceof Gs ? this.insert(this.createElement(t), e, n) : this.insert(this.createElement(t, e), n, i); };
                            vc.prototype.append = function (t, e) { this.insert(t, e, "end"); };
                            vc.prototype.appendText = function (t, e, n) { e instanceof nc || e instanceof Ys ? this.insert(this.createText(t), e, "end") : this.insert(this.createText(t, e), n, "end"); };
                            vc.prototype.appendElement = function (t, e, n) { e instanceof nc || e instanceof Ys ? this.insert(this.createElement(t), e, "end") : this.insert(this.createElement(t, e), n, "end"); };
                            vc.prototype.setAttribute = function (t, e, n) {
                                var e_387, _j;
                                if (this._assertWriterUsedCorrectly(), n instanceof Ks) {
                                    var i_88 = n.getMinimalFlatRanges();
                                    try {
                                        for (var i_87 = __values(i_88), i_87_1 = i_87.next(); !i_87_1.done; i_87_1 = i_87.next()) {
                                            var n_156 = i_87_1.value;
                                            yc(this, t, e, n_156);
                                        }
                                    }
                                    catch (e_387_1) { e_387 = { error: e_387_1 }; }
                                    finally {
                                        try {
                                            if (i_87_1 && !i_87_1.done && (_j = i_87.return)) _j.call(i_87);
                                        }
                                        finally { if (e_387) throw e_387.error; }
                                    }
                                }
                                else
                                    _c(this, t, e, n);
                            };
                            vc.prototype.setAttributes = function (t, e) {
                                var e_388, _j;
                                try {
                                    for (var _q = __values(Fs(t)), _z = _q.next(); !_z.done; _z = _q.next()) {
                                        var _0 = __read(_z.value, 2), n_157 = _0[0], i_89 = _0[1];
                                        this.setAttribute(n_157, i_89, e);
                                    }
                                }
                                catch (e_388_1) { e_388 = { error: e_388_1 }; }
                                finally {
                                    try {
                                        if (_z && !_z.done && (_j = _q.return)) _j.call(_q);
                                    }
                                    finally { if (e_388) throw e_388.error; }
                                }
                            };
                            vc.prototype.removeAttribute = function (t, e) {
                                var e_389, _j;
                                if (this._assertWriterUsedCorrectly(), e instanceof Ks) {
                                    var n_159 = e.getMinimalFlatRanges();
                                    try {
                                        for (var n_158 = __values(n_159), n_158_1 = n_158.next(); !n_158_1.done; n_158_1 = n_158.next()) {
                                            var e_390 = n_158_1.value;
                                            yc(this, t, null, e_390);
                                        }
                                    }
                                    catch (e_389_1) { e_389 = { error: e_389_1 }; }
                                    finally {
                                        try {
                                            if (n_158_1 && !n_158_1.done && (_j = n_158.return)) _j.call(n_158);
                                        }
                                        finally { if (e_389) throw e_389.error; }
                                    }
                                }
                                else
                                    _c(this, t, null, e);
                            };
                            vc.prototype.clearAttributes = function (t) {
                                var _this = this;
                                var e_391, _j;
                                this._assertWriterUsedCorrectly();
                                var e = function (t) {
                                    var e_392, _j;
                                    try {
                                        for (var _q = __values(t.getAttributeKeys()), _z = _q.next(); !_z.done; _z = _q.next()) {
                                            var e_393 = _z.value;
                                            _this.removeAttribute(e_393, t);
                                        }
                                    }
                                    catch (e_392_1) { e_392 = { error: e_392_1 }; }
                                    finally {
                                        try {
                                            if (_z && !_z.done && (_j = _q.return)) _j.call(_q);
                                        }
                                        finally { if (e_392) throw e_392.error; }
                                    }
                                };
                                if (t instanceof Ks)
                                    try {
                                        for (var _q = __values(t.getItems()), _z = _q.next(); !_z.done; _z = _q.next()) {
                                            var n_160 = _z.value;
                                            e(n_160);
                                        }
                                    }
                                    catch (e_391_1) { e_391 = { error: e_391_1 }; }
                                    finally {
                                        try {
                                            if (_z && !_z.done && (_j = _q.return)) _j.call(_q);
                                        }
                                        finally { if (e_391) throw e_391.error; }
                                    }
                                else
                                    e(t);
                            };
                            vc.prototype.move = function (t, e, n) { if (this._assertWriterUsedCorrectly(), !(t instanceof Ks))
                                throw new Gn.b("writer-move-invalid-range: Invalid range to move.", this); if (!t.isFlat)
                                throw new Gn.b("writer-move-range-not-flat: Range to move is not flat.", this); var i = Gs._createAt(e, n); if (i.isEqual(t.start))
                                return; if (this._addOperationForAffectedMarkers("move", t), !Ac(t.root, i.root))
                                throw new Gn.b("writer-move-different-document: Range is going to be moved between different documents.", this); var o = t.root.document ? t.root.document.version : null, r = new fc(t.start, t.end.offset - t.start.offset, i, o); this.batch.addOperation(r), this.model.applyOperation(r); };
                            vc.prototype.remove = function (t) {
                                var e_394, _j;
                                this._assertWriterUsedCorrectly();
                                var e = (t instanceof Ks ? t : Ks._createOn(t)).getMinimalFlatRanges().reverse();
                                try {
                                    for (var e_395 = __values(e), e_395_1 = e_395.next(); !e_395_1.done; e_395_1 = e_395.next()) {
                                        var t_194 = e_395_1.value;
                                        this._addOperationForAffectedMarkers("move", t_194), Tc(t_194.start, t_194.end.offset - t_194.start.offset, this.batch, this.model);
                                    }
                                }
                                catch (e_394_1) { e_394 = { error: e_394_1 }; }
                                finally {
                                    try {
                                        if (e_395_1 && !e_395_1.done && (_j = e_395.return)) _j.call(e_395);
                                    }
                                    finally { if (e_394) throw e_394.error; }
                                }
                            };
                            vc.prototype.merge = function (t) { this._assertWriterUsedCorrectly(); var e = t.nodeBefore, n = t.nodeAfter; if (this._addOperationForAffectedMarkers("merge", t), !(e instanceof Ys))
                                throw new Gn.b("writer-merge-no-element-before: Node before merge position must be an element.", this); if (!(n instanceof Ys))
                                throw new Gn.b("writer-merge-no-element-after: Node after merge position must be an element.", this); t.root.document ? this._merge(t) : this._mergeDetached(t); };
                            vc.prototype.createPositionFromPath = function (t, e, n) { return this.model.createPositionFromPath(t, e, n); };
                            vc.prototype.createPositionAt = function (t, e) { return this.model.createPositionAt(t, e); };
                            vc.prototype.createPositionAfter = function (t) { return this.model.createPositionAfter(t); };
                            vc.prototype.createPositionBefore = function (t) { return this.model.createPositionBefore(t); };
                            vc.prototype.createRange = function (t, e) { return this.model.createRange(t, e); };
                            vc.prototype.createRangeIn = function (t) { return this.model.createRangeIn(t); };
                            vc.prototype.createRangeOn = function (t) { return this.model.createRangeOn(t); };
                            vc.prototype.createSelection = function (t, e, n) { return this.model.createSelection(t, e, n); };
                            vc.prototype._mergeDetached = function (t) { var e = t.nodeBefore, n = t.nodeAfter; this.move(Ks._createIn(n), Gs._createAt(e, "end")), this.remove(n); };
                            vc.prototype._merge = function (t) { var e = Gs._createAt(t.nodeBefore, "end"), n = Gs._createAt(t.nodeAfter, 0), i = t.root.document.graveyard, o = new Gs(i, [0]), r = t.root.document.version, s = new bc(n, t.nodeAfter.maxOffset, e, o, r); this.batch.addOperation(s), this.model.applyOperation(s); };
                            vc.prototype.rename = function (t, e) { if (this._assertWriterUsedCorrectly(), !(t instanceof Ys))
                                throw new Gn.b("writer-rename-not-element-instance: Trying to rename an object which is not an instance of Element.", this); var n = t.root.document ? t.root.document.version : null, i = new gc(Gs._createBefore(t), t.name, e, n); this.batch.addOperation(i), this.model.applyOperation(i); };
                            vc.prototype.split = function (t, e) { this._assertWriterUsedCorrectly(); var n, i, o = t.parent; if (!o.parent)
                                throw new Gn.b("writer-split-element-no-parent: Element with no parent can not be split.", this); if (e || (e = o.parent), !t.parent.getAncestors({ includeSelf: !0 }).includes(e))
                                throw new Gn.b("writer-split-invalid-limit-element: Limit element is not a position ancestor.", this); do {
                                var e_396 = o.root.document ? o.root.document.version : null, r_16 = o.maxOffset - t.offset, s_16 = new kc(t, r_16, null, e_396);
                                this.batch.addOperation(s_16), this.model.applyOperation(s_16), n || i || (n = o, i = t.parent.nextSibling), o = (t = this.createPositionAfter(t.parent)).parent;
                            } while (o !== e); return { position: t, range: new Ks(Gs._createAt(n, "end"), Gs._createAt(i, 0)) }; };
                            vc.prototype.wrap = function (t, e) { if (this._assertWriterUsedCorrectly(), !t.isFlat)
                                throw new Gn.b("writer-wrap-range-not-flat: Range to wrap is not flat.", this); var n = e instanceof Ys ? e : new Ys(e); if (n.childCount > 0)
                                throw new Gn.b("writer-wrap-element-not-empty: Element to wrap with is not empty.", this); if (null !== n.parent)
                                throw new Gn.b("writer-wrap-element-attached: Element to wrap with is already attached to tree model.", this); this.insert(n, t.start); var i = new Ks(t.start.getShiftedBy(1), t.end.getShiftedBy(1)); this.move(i, Gs._createAt(n, 0)); };
                            vc.prototype.unwrap = function (t) { if (this._assertWriterUsedCorrectly(), null === t.parent)
                                throw new Gn.b("writer-unwrap-element-no-parent: Trying to unwrap an element which has no parent.", this); this.move(Ks._createIn(t), this.createPositionAfter(t)), this.remove(t); };
                            vc.prototype.addMarker = function (t, e) { if (this._assertWriterUsedCorrectly(), !e || "boolean" != typeof e.usingOperation)
                                throw new Gn.b("writer-addMarker-no-usingOperation: The options.usingOperation parameter is required when adding a new marker.", this); var n = e.usingOperation, i = e.range, o = void 0 !== e.affectsData && e.affectsData; if (this.model.markers.has(t))
                                throw new Gn.b("writer-addMarker-marker-exists: Marker with provided name already exists.", this); if (!i)
                                throw new Gn.b("writer-addMarker-no-range: Range parameter is required when adding a new marker.", this); return n ? (Cc(this, t, null, i, o), this.model.markers.get(t)) : this.model.markers._set(t, i, n, o); };
                            vc.prototype.updateMarker = function (t, e) { this._assertWriterUsedCorrectly(); var n = "string" == typeof t ? t : t.name, i = this.model.markers.get(n); if (!i)
                                throw new Gn.b("writer-updateMarker-marker-not-exists: Marker with provided name does not exists.", this); if (!e)
                                return void this.model.markers._refresh(i); var o = "boolean" == typeof e.usingOperation, r = "boolean" == typeof e.affectsData, s = r ? e.affectsData : i.affectsData; if (!o && !e.range && !r)
                                throw new Gn.b("writer-updateMarker-wrong-options: One of the options is required - provide range, usingOperations or affectsData.", this); var a = i.getRange(), c = e.range ? e.range : a; o && e.usingOperation !== i.managedUsingOperations ? e.usingOperation ? Cc(this, n, null, c, s) : (Cc(this, n, a, null, s), this.model.markers._set(n, c, void 0, s)) : i.managedUsingOperations ? Cc(this, n, a, c, s) : this.model.markers._set(n, c, void 0, s); };
                            vc.prototype.removeMarker = function (t) { this._assertWriterUsedCorrectly(); var e = "string" == typeof t ? t : t.name; if (!this.model.markers.has(e))
                                throw new Gn.b("writer-removeMarker-no-marker: Trying to remove marker which does not exist.", this); var n = this.model.markers.get(e); n.managedUsingOperations ? Cc(this, e, n.getRange(), null, n.affectsData) : this.model.markers._remove(e); };
                            vc.prototype.setSelection = function (t, e, n) { this._assertWriterUsedCorrectly(), this.model.document.selection._setTo(t, e, n); };
                            vc.prototype.setSelectionFocus = function (t, e) { this._assertWriterUsedCorrectly(), this.model.document.selection._setFocus(t, e); };
                            vc.prototype.setSelectionAttribute = function (t, e) {
                                var e_397, _j;
                                if (this._assertWriterUsedCorrectly(), "string" == typeof t)
                                    this._setSelectionAttribute(t, e);
                                else
                                    try {
                                        for (var _q = __values(Fs(t)), _z = _q.next(); !_z.done; _z = _q.next()) {
                                            var _0 = __read(_z.value, 2), e_398 = _0[0], n_161 = _0[1];
                                            this._setSelectionAttribute(e_398, n_161);
                                        }
                                    }
                                    catch (e_397_1) { e_397 = { error: e_397_1 }; }
                                    finally {
                                        try {
                                            if (_z && !_z.done && (_j = _q.return)) _j.call(_q);
                                        }
                                        finally { if (e_397) throw e_397.error; }
                                    }
                            };
                            vc.prototype.removeSelectionAttribute = function (t) {
                                var e_399, _j;
                                if (this._assertWriterUsedCorrectly(), "string" == typeof t)
                                    this._removeSelectionAttribute(t);
                                else
                                    try {
                                        for (var t_195 = __values(t), t_195_1 = t_195.next(); !t_195_1.done; t_195_1 = t_195.next()) {
                                            var e_400 = t_195_1.value;
                                            this._removeSelectionAttribute(e_400);
                                        }
                                    }
                                    catch (e_399_1) { e_399 = { error: e_399_1 }; }
                                    finally {
                                        try {
                                            if (t_195_1 && !t_195_1.done && (_j = t_195.return)) _j.call(t_195);
                                        }
                                        finally { if (e_399) throw e_399.error; }
                                    }
                            };
                            vc.prototype.overrideSelectionGravity = function () { return this.model.document.selection._overrideGravity(); };
                            vc.prototype.restoreSelectionGravity = function (t) { this.model.document.selection._restoreGravity(t); };
                            vc.prototype._setSelectionAttribute = function (t, e) { var n = this.model.document.selection; if (n.isCollapsed && n.anchor.parent.isEmpty) {
                                var i_90 = la._getStoreAttributeKey(t);
                                this.setAttribute(i_90, e, n.anchor.parent);
                            } n._setAttribute(t, e); };
                            vc.prototype._removeSelectionAttribute = function (t) { var e = this.model.document.selection; if (e.isCollapsed && e.anchor.parent.isEmpty) {
                                var n_162 = la._getStoreAttributeKey(t);
                                this.removeAttribute(n_162, e.anchor.parent);
                            } e._removeAttribute(t); };
                            vc.prototype._assertWriterUsedCorrectly = function () { if (this.model._currentWriter !== this)
                                throw new Gn.b("writer-incorrect-use: Trying to use a writer outside the change() block.", this); };
                            vc.prototype._addOperationForAffectedMarkers = function (t, e) {
                                var e_401, _j;
                                try {
                                    for (var _q = __values(this.model.markers), _z = _q.next(); !_z.done; _z = _q.next()) {
                                        var n_163 = _z.value;
                                        if (!n_163.managedUsingOperations)
                                            continue;
                                        var i_91 = n_163.getRange();
                                        var o_46 = !1;
                                        if ("move" == t)
                                            o_46 = e.containsPosition(i_91.start) || e.start.isEqual(i_91.start) || e.containsPosition(i_91.end) || e.end.isEqual(i_91.end);
                                        else {
                                            var t_196 = e.nodeBefore, n_164 = e.nodeAfter, r_17 = i_91.start.parent == t_196 && i_91.start.isAtEnd, s_17 = i_91.end.parent == n_164 && 0 == i_91.end.offset, a_7 = i_91.end.nodeAfter == n_164, c_4 = i_91.start.nodeAfter == n_164;
                                            o_46 = r_17 || s_17 || a_7 || c_4;
                                        }
                                        o_46 && this.updateMarker(n_163.name, { range: i_91 });
                                    }
                                }
                                catch (e_401_1) { e_401 = { error: e_401_1 }; }
                                finally {
                                    try {
                                        if (_z && !_z.done && (_j = _q.return)) _j.call(_q);
                                    }
                                    finally { if (e_401) throw e_401.error; }
                                }
                            };
                            return vc;
                        }());
                        function yc(t, e, n, i) {
                            var e_402, _j;
                            var o = t.model, r = o.document;
                            var s, a, c, l = i.start;
                            try {
                                for (var _q = __values(i.getWalker({ shallow: !0 })), _z = _q.next(); !_z.done; _z = _q.next()) {
                                    var t_197 = _z.value;
                                    c = t_197.item.getAttribute(e), s && a != c && (a != n && d(), l = s), s = t_197.nextPosition, a = c;
                                }
                            }
                            catch (e_402_1) { e_402 = { error: e_402_1 }; }
                            finally {
                                try {
                                    if (_z && !_z.done && (_j = _q.return)) _j.call(_q);
                                }
                                finally { if (e_402) throw e_402.error; }
                            }
                            function d() { var i = new Ks(l, s), c = i.root.document ? r.version : null, d = new uc(i, e, a, n, c); t.batch.addOperation(d), o.applyOperation(d); }
                            s instanceof Gs && s != l && a != n && d();
                        }
                        function _c(t, e, n, i) { var o = t.model, r = o.document, s = i.getAttribute(e); var a, c; if (s != n) {
                            if (i.root === i) {
                                var t_198 = i.document ? r.version : null;
                                c = new xc(i, e, s, n, t_198);
                            }
                            else {
                                var o_47 = (a = new Ks(Gs._createBefore(i), t.createPositionAfter(i))).root.document ? r.version : null;
                                c = new uc(a, e, s, n, o_47);
                            }
                            t.batch.addOperation(c), o.applyOperation(c);
                        } }
                        function Cc(t, e, n, i, o) { var r = t.model, s = r.document, a = new mc(e, n, i, r.markers, o, s.version); t.batch.addOperation(a), r.applyOperation(a); }
                        function Tc(t, e, n, i) { var o; if (t.root.document) {
                            var n_165 = i.document, r_18 = new Gs(n_165.graveyard, [0]);
                            o = new fc(t, e, r_18, n_165.version);
                        }
                        else
                            o = new hc(t, e); n.addOperation(o), i.applyOperation(o); }
                        function Ac(t, e) { return t === e || t instanceof wc && e instanceof wc; }
                        var Sc = /** @class */ (function () {
                            function Sc(t) {
                                this._markerCollection = t, this._changesInElement = new Map, this._elementSnapshots = new Map, this._changedMarkers = new Map, this._changeCount = 0, this._cachedChanges = null, this._cachedChangesWithGraveyard = null;
                            }
                            Object.defineProperty(Sc.prototype, "isEmpty", {
                                get: function () { return 0 == this._changesInElement.size && 0 == this._changedMarkers.size; },
                                enumerable: true,
                                configurable: true
                            });
                            Sc.prototype.refreshItem = function (t) {
                                var e_403, _j;
                                if (this._isInInsertedElement(t.parent))
                                    return;
                                this._markRemove(t.parent, t.startOffset, t.offsetSize), this._markInsert(t.parent, t.startOffset, t.offsetSize);
                                var e = Ks._createOn(t);
                                try {
                                    for (var _q = __values(this._markerCollection.getMarkersIntersectingRange(e)), _z = _q.next(); !_z.done; _z = _q.next()) {
                                        var t_199 = _z.value;
                                        var e_404 = t_199.getRange();
                                        this.bufferMarkerChange(t_199.name, e_404, e_404, t_199.affectsData);
                                    }
                                }
                                catch (e_403_1) { e_403 = { error: e_403_1 }; }
                                finally {
                                    try {
                                        if (_z && !_z.done && (_j = _q.return)) _j.call(_q);
                                    }
                                    finally { if (e_403) throw e_403.error; }
                                }
                                this._cachedChanges = null;
                            };
                            Sc.prototype.bufferOperation = function (t) {
                                var e_405, _j, e_406, _q;
                                switch (t.type) {
                                    case "insert":
                                        if (this._isInInsertedElement(t.position.parent))
                                            return;
                                        this._markInsert(t.position.parent, t.position.offset, t.nodes.maxOffset);
                                        break;
                                    case "addAttribute":
                                    case "removeAttribute":
                                    case "changeAttribute":
                                        try {
                                            for (var _z = __values(t.range.getItems({ shallow: !0 })), _0 = _z.next(); !_0.done; _0 = _z.next()) {
                                                var e_407 = _0.value;
                                                this._isInInsertedElement(e_407.parent) || this._markAttribute(e_407);
                                            }
                                        }
                                        catch (e_405_1) { e_405 = { error: e_405_1 }; }
                                        finally {
                                            try {
                                                if (_0 && !_0.done && (_j = _z.return)) _j.call(_z);
                                            }
                                            finally { if (e_405) throw e_405.error; }
                                        }
                                        break;
                                    case "remove":
                                    case "move":
                                    case "reinsert": {
                                        if (t.sourcePosition.isEqual(t.targetPosition) || t.sourcePosition.getShiftedBy(t.howMany).isEqual(t.targetPosition))
                                            return;
                                        var e_408 = this._isInInsertedElement(t.sourcePosition.parent), n_166 = this._isInInsertedElement(t.targetPosition.parent);
                                        e_408 || this._markRemove(t.sourcePosition.parent, t.sourcePosition.offset, t.howMany), n_166 || this._markInsert(t.targetPosition.parent, t.getMovedRangeStart().offset, t.howMany);
                                        break;
                                    }
                                    case "rename": {
                                        if (this._isInInsertedElement(t.position.parent))
                                            return;
                                        this._markRemove(t.position.parent, t.position.offset, 1), this._markInsert(t.position.parent, t.position.offset, 1);
                                        var e_409 = Ks._createFromPositionAndShift(t.position, 1);
                                        try {
                                            for (var _1 = __values(this._markerCollection.getMarkersIntersectingRange(e_409)), _2 = _1.next(); !_2.done; _2 = _1.next()) {
                                                var t_200 = _2.value;
                                                var e_410 = t_200.getRange();
                                                this.bufferMarkerChange(t_200.name, e_410, e_410, t_200.affectsData);
                                            }
                                        }
                                        catch (e_406_1) { e_406 = { error: e_406_1 }; }
                                        finally {
                                            try {
                                                if (_2 && !_2.done && (_q = _1.return)) _q.call(_1);
                                            }
                                            finally { if (e_406) throw e_406.error; }
                                        }
                                        break;
                                    }
                                    case "split": {
                                        var e_411 = t.splitPosition.parent;
                                        this._isInInsertedElement(e_411) || this._markRemove(e_411, t.splitPosition.offset, t.howMany), this._isInInsertedElement(t.insertionPosition.parent) || this._markInsert(t.insertionPosition.parent, t.insertionPosition.offset, 1), t.graveyardPosition && this._markRemove(t.graveyardPosition.parent, t.graveyardPosition.offset, 1);
                                        break;
                                    }
                                    case "merge": {
                                        var e_412 = t.sourcePosition.parent;
                                        this._isInInsertedElement(e_412.parent) || this._markRemove(e_412.parent, e_412.startOffset, 1);
                                        var n_167 = t.graveyardPosition.parent;
                                        this._markInsert(n_167, t.graveyardPosition.offset, 1);
                                        var i_92 = t.targetPosition.parent;
                                        this._isInInsertedElement(i_92) || this._markInsert(i_92, t.targetPosition.offset, e_412.maxOffset);
                                        break;
                                    }
                                }
                                this._cachedChanges = null;
                            };
                            Sc.prototype.bufferMarkerChange = function (t, e, n, i) { var o = this._changedMarkers.get(t); o ? (o.newRange = n, o.affectsData = i, null == o.oldRange && null == o.newRange && this._changedMarkers.delete(t)) : this._changedMarkers.set(t, { oldRange: e, newRange: n, affectsData: i }); };
                            Sc.prototype.getMarkersToRemove = function () {
                                var e_413, _j;
                                var t = [];
                                try {
                                    for (var _q = __values(this._changedMarkers), _z = _q.next(); !_z.done; _z = _q.next()) {
                                        var _0 = __read(_z.value, 2), e_414 = _0[0], n_168 = _0[1];
                                        null != n_168.oldRange && t.push({ name: e_414, range: n_168.oldRange });
                                    }
                                }
                                catch (e_413_1) { e_413 = { error: e_413_1 }; }
                                finally {
                                    try {
                                        if (_z && !_z.done && (_j = _q.return)) _j.call(_q);
                                    }
                                    finally { if (e_413) throw e_413.error; }
                                }
                                return t;
                            };
                            Sc.prototype.getMarkersToAdd = function () {
                                var e_415, _j;
                                var t = [];
                                try {
                                    for (var _q = __values(this._changedMarkers), _z = _q.next(); !_z.done; _z = _q.next()) {
                                        var _0 = __read(_z.value, 2), e_416 = _0[0], n_169 = _0[1];
                                        null != n_169.newRange && t.push({ name: e_416, range: n_169.newRange });
                                    }
                                }
                                catch (e_415_1) { e_415 = { error: e_415_1 }; }
                                finally {
                                    try {
                                        if (_z && !_z.done && (_j = _q.return)) _j.call(_q);
                                    }
                                    finally { if (e_415) throw e_415.error; }
                                }
                                return t;
                            };
                            Sc.prototype.getChangedMarkers = function () { return Array.from(this._changedMarkers).map(function (t) { return ({ name: t[0], data: { oldRange: t[1].oldRange, newRange: t[1].newRange } }); }); };
                            Sc.prototype.hasDataChanges = function () {
                                var e_417, _j;
                                try {
                                    for (var _q = __values(this._changedMarkers), _z = _q.next(); !_z.done; _z = _q.next()) {
                                        var _0 = __read(_z.value, 2), t_201 = _0[1];
                                        if (t_201.affectsData)
                                            return !0;
                                    }
                                }
                                catch (e_417_1) { e_417 = { error: e_417_1 }; }
                                finally {
                                    try {
                                        if (_z && !_z.done && (_j = _q.return)) _j.call(_q);
                                    }
                                    finally { if (e_417) throw e_417.error; }
                                }
                                return this._changesInElement.size > 0;
                            };
                            Sc.prototype.getChanges = function (t) {
                                var e_418, _j, e_419, _q, e_420, _z;
                                if (t === void 0) { t = { includeChangesInGraveyard: !1 }; }
                                if (this._cachedChanges)
                                    return t.includeChangesInGraveyard ? this._cachedChangesWithGraveyard.slice() : this._cachedChanges.slice();
                                var e = [];
                                try {
                                    for (var _0 = __values(this._changesInElement.keys()), _1 = _0.next(); !_1.done; _1 = _0.next()) {
                                        var t_202 = _1.value;
                                        var n_170 = this._changesInElement.get(t_202).sort(function (t, e) { return t.offset === e.offset ? t.type != e.type ? "remove" == t.type ? -1 : 1 : 0 : t.offset < e.offset ? -1 : 1; }), i_93 = this._elementSnapshots.get(t_202), o_48 = Ec(t_202.getChildren()), r_20 = Pc(i_93.length, n_170);
                                        var s_18 = 0, a_8 = 0;
                                        try {
                                            for (var r_19 = __values(r_20), r_19_1 = r_19.next(); !r_19_1.done; r_19_1 = r_19.next()) {
                                                var n_171 = r_19_1.value;
                                                if ("i" === n_171)
                                                    e.push(this._getInsertDiff(t_202, s_18, o_48[s_18].name)), s_18++;
                                                else if ("r" === n_171)
                                                    e.push(this._getRemoveDiff(t_202, s_18, i_93[a_8].name)), a_8++;
                                                else if ("a" === n_171) {
                                                    var n_172 = o_48[s_18].attributes, r_21 = i_93[a_8].attributes;
                                                    var c_5 = void 0;
                                                    if ("$text" == o_48[s_18].name)
                                                        c_5 = new Ks(Gs._createAt(t_202, s_18), Gs._createAt(t_202, s_18 + 1));
                                                    else {
                                                        var e_422 = t_202.offsetToIndex(s_18);
                                                        c_5 = new Ks(Gs._createAt(t_202, s_18), Gs._createAt(t_202.getChild(e_422), 0));
                                                    }
                                                    e.push.apply(e, __spread(this._getAttributesDiff(c_5, r_21, n_172))), s_18++, a_8++;
                                                }
                                                else
                                                    s_18++, a_8++;
                                            }
                                        }
                                        catch (e_419_1) { e_419 = { error: e_419_1 }; }
                                        finally {
                                            try {
                                                if (r_19_1 && !r_19_1.done && (_q = r_19.return)) _q.call(r_19);
                                            }
                                            finally { if (e_419) throw e_419.error; }
                                        }
                                    }
                                }
                                catch (e_418_1) { e_418 = { error: e_418_1 }; }
                                finally {
                                    try {
                                        if (_1 && !_1.done && (_j = _0.return)) _j.call(_0);
                                    }
                                    finally { if (e_418) throw e_418.error; }
                                }
                                e.sort(function (t, e) { return t.position.root != e.position.root ? t.position.root.rootName < e.position.root.rootName ? -1 : 1 : t.position.isEqual(e.position) ? t.changeCount - e.changeCount : t.position.isBefore(e.position) ? -1 : 1; });
                                for (var t_203 = 1; t_203 < e.length; t_203++) {
                                    var n_173 = e[t_203 - 1], i_94 = e[t_203], o_49 = "remove" == n_173.type && "remove" == i_94.type && "$text" == n_173.name && "$text" == i_94.name && n_173.position.isEqual(i_94.position), r_22 = "insert" == n_173.type && "insert" == i_94.type && "$text" == n_173.name && "$text" == i_94.name && n_173.position.parent == i_94.position.parent && n_173.position.offset + n_173.length == i_94.position.offset, s_19 = "attribute" == n_173.type && "attribute" == i_94.type && n_173.position.parent == i_94.position.parent && n_173.range.isFlat && i_94.range.isFlat && n_173.position.offset + n_173.length == i_94.position.offset && n_173.attributeKey == i_94.attributeKey && n_173.attributeOldValue == i_94.attributeOldValue && n_173.attributeNewValue == i_94.attributeNewValue;
                                    (o_49 || r_22 || s_19) && (e[t_203 - 1].length++, s_19 && (e[t_203 - 1].range.end = e[t_203 - 1].range.end.getShiftedBy(1)), e.splice(t_203, 1), t_203--);
                                }
                                try {
                                    for (var e_421 = __values(e), e_421_1 = e_421.next(); !e_421_1.done; e_421_1 = e_421.next()) {
                                        var t_204 = e_421_1.value;
                                        delete t_204.changeCount, "attribute" == t_204.type && (delete t_204.position, delete t_204.length);
                                    }
                                }
                                catch (e_420_1) { e_420 = { error: e_420_1 }; }
                                finally {
                                    try {
                                        if (e_421_1 && !e_421_1.done && (_z = e_421.return)) _z.call(e_421);
                                    }
                                    finally { if (e_420) throw e_420.error; }
                                }
                                return this._changeCount = 0, this._cachedChangesWithGraveyard = e.slice(), this._cachedChanges = e.slice().filter(Ic), t.includeChangesInGraveyard ? this._cachedChangesWithGraveyard : this._cachedChanges;
                            };
                            Sc.prototype.reset = function () { this._changesInElement.clear(), this._elementSnapshots.clear(), this._changedMarkers.clear(), this._cachedChanges = null; };
                            Sc.prototype._markInsert = function (t, e, n) { var i = { type: "insert", offset: e, howMany: n, count: this._changeCount++ }; this._markChange(t, i); };
                            Sc.prototype._markRemove = function (t, e, n) { var i = { type: "remove", offset: e, howMany: n, count: this._changeCount++ }; this._markChange(t, i), this._removeAllNestedChanges(t, e, n); };
                            Sc.prototype._markAttribute = function (t) { var e = { type: "attribute", offset: t.startOffset, howMany: t.offsetSize, count: this._changeCount++ }; this._markChange(t.parent, e); };
                            Sc.prototype._markChange = function (t, e) { this._makeSnapshot(t); var n = this._getChangesForElement(t); this._handleChange(e, n), n.push(e); for (var t_205 = 0; t_205 < n.length; t_205++)
                                n[t_205].howMany < 1 && (n.splice(t_205, 1), t_205--); };
                            Sc.prototype._getChangesForElement = function (t) { var e; return this._changesInElement.has(t) ? e = this._changesInElement.get(t) : (e = [], this._changesInElement.set(t, e)), e; };
                            Sc.prototype._makeSnapshot = function (t) { this._elementSnapshots.has(t) || this._elementSnapshots.set(t, Ec(t.getChildren())); };
                            Sc.prototype._handleChange = function (t, e) {
                                var e_423, _j;
                                t.nodesToHandle = t.howMany;
                                try {
                                    for (var e_424 = __values(e), e_424_1 = e_424.next(); !e_424_1.done; e_424_1 = e_424.next()) {
                                        var n_174 = e_424_1.value;
                                        var i_95 = t.offset + t.howMany, o_50 = n_174.offset + n_174.howMany;
                                        if ("insert" == t.type && ("insert" == n_174.type && (t.offset <= n_174.offset ? n_174.offset += t.howMany : t.offset < o_50 && (n_174.howMany += t.nodesToHandle, t.nodesToHandle = 0)), "remove" == n_174.type && t.offset < n_174.offset && (n_174.offset += t.howMany), "attribute" == n_174.type))
                                            if (t.offset <= n_174.offset)
                                                n_174.offset += t.howMany;
                                            else if (t.offset < o_50) {
                                                var o_51 = n_174.howMany;
                                                n_174.howMany = t.offset - n_174.offset, e.unshift({ type: "attribute", offset: i_95, howMany: o_51 - n_174.howMany, count: this._changeCount++ });
                                            }
                                        if ("remove" == t.type) {
                                            if ("insert" == n_174.type)
                                                if (i_95 <= n_174.offset)
                                                    n_174.offset -= t.howMany;
                                                else if (i_95 <= o_50)
                                                    if (t.offset < n_174.offset) {
                                                        var e_425 = i_95 - n_174.offset;
                                                        n_174.offset = t.offset, n_174.howMany -= e_425, t.nodesToHandle -= e_425;
                                                    }
                                                    else
                                                        n_174.howMany -= t.nodesToHandle, t.nodesToHandle = 0;
                                                else if (t.offset <= n_174.offset)
                                                    t.nodesToHandle -= n_174.howMany, n_174.howMany = 0;
                                                else if (t.offset < o_50) {
                                                    var e_426 = o_50 - t.offset;
                                                    n_174.howMany -= e_426, t.nodesToHandle -= e_426;
                                                }
                                            if ("remove" == n_174.type && (i_95 <= n_174.offset ? n_174.offset -= t.howMany : t.offset < n_174.offset && (t.nodesToHandle += n_174.howMany, n_174.howMany = 0)), "attribute" == n_174.type)
                                                if (i_95 <= n_174.offset)
                                                    n_174.offset -= t.howMany;
                                                else if (t.offset < n_174.offset) {
                                                    var e_427 = i_95 - n_174.offset;
                                                    n_174.offset = t.offset, n_174.howMany -= e_427;
                                                }
                                                else if (t.offset < o_50)
                                                    if (i_95 <= o_50) {
                                                        var i_96 = n_174.howMany;
                                                        n_174.howMany = t.offset - n_174.offset;
                                                        var o_52 = i_96 - n_174.howMany - t.nodesToHandle;
                                                        e.unshift({ type: "attribute", offset: t.offset, howMany: o_52, count: this._changeCount++ });
                                                    }
                                                    else
                                                        n_174.howMany -= o_50 - t.offset;
                                        }
                                        if ("attribute" == t.type) {
                                            if ("insert" == n_174.type)
                                                if (t.offset < n_174.offset && i_95 > n_174.offset) {
                                                    if (i_95 > o_50) {
                                                        var t_206 = { type: "attribute", offset: o_50, howMany: i_95 - o_50, count: this._changeCount++ };
                                                        this._handleChange(t_206, e), e.push(t_206);
                                                    }
                                                    t.nodesToHandle = n_174.offset - t.offset, t.howMany = t.nodesToHandle;
                                                }
                                                else
                                                    t.offset >= n_174.offset && t.offset < o_50 && (i_95 > o_50 ? (t.nodesToHandle = i_95 - o_50, t.offset = o_50) : t.nodesToHandle = 0);
                                            if ("remove" == n_174.type && t.offset < n_174.offset && i_95 > n_174.offset) {
                                                var o_53 = { type: "attribute", offset: n_174.offset, howMany: i_95 - n_174.offset, count: this._changeCount++ };
                                                this._handleChange(o_53, e), e.push(o_53), t.nodesToHandle = n_174.offset - t.offset, t.howMany = t.nodesToHandle;
                                            }
                                            "attribute" == n_174.type && (t.offset >= n_174.offset && i_95 <= o_50 ? (t.nodesToHandle = 0, t.howMany = 0, t.offset = 0) : t.offset <= n_174.offset && i_95 >= o_50 && (n_174.howMany = 0));
                                        }
                                    }
                                }
                                catch (e_423_1) { e_423 = { error: e_423_1 }; }
                                finally {
                                    try {
                                        if (e_424_1 && !e_424_1.done && (_j = e_424.return)) _j.call(e_424);
                                    }
                                    finally { if (e_423) throw e_423.error; }
                                }
                                t.howMany = t.nodesToHandle, delete t.nodesToHandle;
                            };
                            Sc.prototype._getInsertDiff = function (t, e, n) { return { type: "insert", position: Gs._createAt(t, e), name: n, length: 1, changeCount: this._changeCount++ }; };
                            Sc.prototype._getRemoveDiff = function (t, e, n) { return { type: "remove", position: Gs._createAt(t, e), name: n, length: 1, changeCount: this._changeCount++ }; };
                            Sc.prototype._getAttributesDiff = function (t, e, n) {
                                var e_428, _j, e_429, _q;
                                var i = [];
                                n = new Map(n);
                                try {
                                    for (var e_430 = __values(e), e_430_1 = e_430.next(); !e_430_1.done; e_430_1 = e_430.next()) {
                                        var _z = __read(e_430_1.value, 2), o_54 = _z[0], r_23 = _z[1];
                                        var e_431 = n.has(o_54) ? n.get(o_54) : null;
                                        e_431 !== r_23 && i.push({ type: "attribute", position: t.start, range: t.clone(), length: 1, attributeKey: o_54, attributeOldValue: r_23, attributeNewValue: e_431, changeCount: this._changeCount++ }), n.delete(o_54);
                                    }
                                }
                                catch (e_428_1) { e_428 = { error: e_428_1 }; }
                                finally {
                                    try {
                                        if (e_430_1 && !e_430_1.done && (_j = e_430.return)) _j.call(e_430);
                                    }
                                    finally { if (e_428) throw e_428.error; }
                                }
                                try {
                                    for (var n_175 = __values(n), n_175_1 = n_175.next(); !n_175_1.done; n_175_1 = n_175.next()) {
                                        var _0 = __read(n_175_1.value, 2), e_432 = _0[0], o_55 = _0[1];
                                        i.push({ type: "attribute", position: t.start, range: t.clone(), length: 1, attributeKey: e_432, attributeOldValue: null, attributeNewValue: o_55, changeCount: this._changeCount++ });
                                    }
                                }
                                catch (e_429_1) { e_429 = { error: e_429_1 }; }
                                finally {
                                    try {
                                        if (n_175_1 && !n_175_1.done && (_q = n_175.return)) _q.call(n_175);
                                    }
                                    finally { if (e_429) throw e_429.error; }
                                }
                                return i;
                            };
                            Sc.prototype._isInInsertedElement = function (t) {
                                var e_433, _j;
                                var e = t.parent;
                                if (!e)
                                    return !1;
                                var n = this._changesInElement.get(e), i = t.startOffset;
                                if (n)
                                    try {
                                        for (var n_176 = __values(n), n_176_1 = n_176.next(); !n_176_1.done; n_176_1 = n_176.next()) {
                                            var t_207 = n_176_1.value;
                                            if ("insert" == t_207.type && i >= t_207.offset && i < t_207.offset + t_207.howMany)
                                                return !0;
                                        }
                                    }
                                    catch (e_433_1) { e_433 = { error: e_433_1 }; }
                                    finally {
                                        try {
                                            if (n_176_1 && !n_176_1.done && (_j = n_176.return)) _j.call(n_176);
                                        }
                                        finally { if (e_433) throw e_433.error; }
                                    }
                                return this._isInInsertedElement(e);
                            };
                            Sc.prototype._removeAllNestedChanges = function (t, e, n) {
                                var e_434, _j;
                                var i = new Ks(Gs._createAt(t, e), Gs._createAt(t, e + n));
                                try {
                                    for (var _q = __values(i.getItems({ shallow: !0 })), _z = _q.next(); !_z.done; _z = _q.next()) {
                                        var t_208 = _z.value;
                                        t_208.is("element") && (this._elementSnapshots.delete(t_208), this._changesInElement.delete(t_208), this._removeAllNestedChanges(t_208, 0, t_208.maxOffset));
                                    }
                                }
                                catch (e_434_1) { e_434 = { error: e_434_1 }; }
                                finally {
                                    try {
                                        if (_z && !_z.done && (_j = _q.return)) _j.call(_q);
                                    }
                                    finally { if (e_434) throw e_434.error; }
                                }
                            };
                            return Sc;
                        }());
                        function Ec(t) {
                            var e_435, _j;
                            var e = [];
                            try {
                                for (var t_209 = __values(t), t_209_1 = t_209.next(); !t_209_1.done; t_209_1 = t_209.next()) {
                                    var n_177 = t_209_1.value;
                                    if (n_177.is("text"))
                                        for (var t_210 = 0; t_210 < n_177.data.length; t_210++)
                                            e.push({ name: "$text", attributes: new Map(n_177.getAttributes()) });
                                    else
                                        e.push({ name: n_177.name, attributes: new Map(n_177.getAttributes()) });
                                }
                            }
                            catch (e_435_1) { e_435 = { error: e_435_1 }; }
                            finally {
                                try {
                                    if (t_209_1 && !t_209_1.done && (_j = t_209.return)) _j.call(t_209);
                                }
                                finally { if (e_435) throw e_435.error; }
                            }
                            return e;
                        }
                        function Pc(t, e) {
                            var e_436, _j;
                            var n = [];
                            var i = 0, o = 0;
                            try {
                                for (var e_437 = __values(e), e_437_1 = e_437.next(); !e_437_1.done; e_437_1 = e_437.next()) {
                                    var t_211 = e_437_1.value;
                                    if (t_211.offset > i) {
                                        for (var e_438 = 0; e_438 < t_211.offset - i; e_438++)
                                            n.push("e");
                                        o += t_211.offset - i;
                                    }
                                    if ("insert" == t_211.type) {
                                        for (var e_439 = 0; e_439 < t_211.howMany; e_439++)
                                            n.push("i");
                                        i = t_211.offset + t_211.howMany;
                                    }
                                    else if ("remove" == t_211.type) {
                                        for (var e_440 = 0; e_440 < t_211.howMany; e_440++)
                                            n.push("r");
                                        i = t_211.offset, o += t_211.howMany;
                                    }
                                    else
                                        n.push.apply(n, __spread("a".repeat(t_211.howMany).split(""))), i = t_211.offset + t_211.howMany, o += t_211.howMany;
                                }
                            }
                            catch (e_436_1) { e_436 = { error: e_436_1 }; }
                            finally {
                                try {
                                    if (e_437_1 && !e_437_1.done && (_j = e_437.return)) _j.call(e_437);
                                }
                                finally { if (e_436) throw e_436.error; }
                            }
                            if (o < t)
                                for (var e_441 = 0; e_441 < t - o - i; e_441++)
                                    n.push("e");
                            return n;
                        }
                        function Ic(t) { var e = t.position && "$graveyard" == t.position.root.rootName, n = t.range && "$graveyard" == t.range.root.rootName; return !e && !n; }
                        var Nc = /** @class */ (function () {
                            function Nc() {
                                this._operations = [], this._undoPairs = new Map, this._undoneOperations = new Set;
                            }
                            Nc.prototype.addOperation = function (t) { this._operations.includes(t) || this._operations.push(t); };
                            Nc.prototype.getOperations = function (t, e) {
                                if (t === void 0) { t = 0; }
                                if (e === void 0) { e = Number.POSITIVE_INFINITY; }
                                return t < 0 ? [] : this._operations.slice(t, e);
                            };
                            Nc.prototype.getOperation = function (t) { return this._operations[t]; };
                            Nc.prototype.setOperationAsUndone = function (t, e) { this._undoPairs.set(e, t), this._undoneOperations.add(t); };
                            Nc.prototype.isUndoingOperation = function (t) { return this._undoPairs.has(t); };
                            Nc.prototype.isUndoneOperation = function (t) { return this._undoneOperations.has(t); };
                            Nc.prototype.getUndoneOperation = function (t) { return this._undoPairs.get(t); };
                            return Nc;
                        }());
                        function Mc(t, e) { return function (t) { return !!t && 1 == t.length && /[\ud800-\udbff]/.test(t); }(t.charAt(e - 1)) && function (t) { return !!t && 1 == t.length && /[\udc00-\udfff]/.test(t); }(t.charAt(e)); }
                        function Oc(t, e) { return function (t) { return !!t && 1 == t.length && /[\u0300-\u036f\u1ab0-\u1aff\u1dc0-\u1dff\u20d0-\u20ff\ufe20-\ufe2f]/.test(t); }(t.charAt(e)); }
                        var Rc = "$graveyard";
                        var Dc = /** @class */ (function () {
                            function Dc(t) {
                                var _this = this;
                                this.model = t, this.version = 0, this.history = new Nc(this), this.selection = new la(this), this.roots = new ro({ idProperty: "rootName" }), this.differ = new Sc(t.markers), this._postFixers = new Set, this._hasSelectionChangedFromTheLastChangeBlock = !1, this.createRoot("$root", Rc), this.listenTo(t, "applyOperation", function (t, e) { var n = e[0]; if (n.isDocumentOperation && n.baseVersion !== _this.version)
                                    throw new Gn.b("model-document-applyOperation-wrong-version: Only operations with matching versions can be applied.", _this, { operation: n }); }, { priority: "highest" }), this.listenTo(t, "applyOperation", function (t, e) { var n = e[0]; n.isDocumentOperation && _this.differ.bufferOperation(n); }, { priority: "high" }), this.listenTo(t, "applyOperation", function (t, e) { var n = e[0]; n.isDocumentOperation && (_this.version++, _this.history.addOperation(n)); }, { priority: "low" }), this.listenTo(this.selection, "change", function () { _this._hasSelectionChangedFromTheLastChangeBlock = !0; }), this.listenTo(t.markers, "update", function (t, e, n, i) { _this.differ.bufferMarkerChange(e.name, n, i, e.affectsData), null === n && e.on("change", function (t, n) { _this.differ.bufferMarkerChange(e.name, n, e.getRange(), e.affectsData); }); });
                            }
                            Object.defineProperty(Dc.prototype, "graveyard", {
                                get: function () { return this.getRoot(Rc); },
                                enumerable: true,
                                configurable: true
                            });
                            Dc.prototype.createRoot = function (t, e) {
                                if (t === void 0) { t = "$root"; }
                                if (e === void 0) { e = "main"; }
                                if (this.roots.get(e))
                                    throw new Gn.b("model-document-createRoot-name-exists: Root with specified name already exists.", this, { name: e });
                                var n = new wc(this, t, e);
                                return this.roots.add(n), n;
                            };
                            Dc.prototype.destroy = function () { this.selection.destroy(), this.stopListening(); };
                            Dc.prototype.getRoot = function (t) {
                                if (t === void 0) { t = "main"; }
                                return this.roots.get(t);
                            };
                            Dc.prototype.getRootNames = function () { return Array.from(this.roots, function (t) { return t.rootName; }).filter(function (t) { return t != Rc; }); };
                            Dc.prototype.registerPostFixer = function (t) { this._postFixers.add(t); };
                            Dc.prototype.toJSON = function () { var t = hi(this); return t.selection = "[engine.model.DocumentSelection]", t.model = "[engine.model.Model]", t; };
                            Dc.prototype._handleChangeBlock = function (t) { this._hasDocumentChangedFromTheLastChangeBlock() && (this._callPostFixers(t), this.selection.refresh(), this.differ.hasDataChanges() ? this.fire("change:data", t.batch) : this.fire("change", t.batch), this.selection.refresh(), this.differ.reset()), this._hasSelectionChangedFromTheLastChangeBlock = !1; };
                            Dc.prototype._hasDocumentChangedFromTheLastChangeBlock = function () { return !this.differ.isEmpty || this._hasSelectionChangedFromTheLastChangeBlock; };
                            Dc.prototype._getDefaultRoot = function () {
                                var e_442, _j;
                                try {
                                    for (var _q = __values(this.roots), _z = _q.next(); !_z.done; _z = _q.next()) {
                                        var t_212 = _z.value;
                                        if (t_212 !== this.graveyard)
                                            return t_212;
                                    }
                                }
                                catch (e_442_1) { e_442 = { error: e_442_1 }; }
                                finally {
                                    try {
                                        if (_z && !_z.done && (_j = _q.return)) _j.call(_q);
                                    }
                                    finally { if (e_442) throw e_442.error; }
                                }
                                return this.graveyard;
                            };
                            Dc.prototype._getDefaultRange = function () { var t = this._getDefaultRoot(), e = this.model, n = e.schema, i = e.createPositionFromPath(t, [0]); return n.getNearestSelectionRange(i) || e.createRange(i); };
                            Dc.prototype._validateSelectionRange = function (t) { return jc(t.start) && jc(t.end); };
                            Dc.prototype._callPostFixers = function (t) {
                                var e_443, _j;
                                var e = !1;
                                do {
                                    try {
                                        for (var _q = __values(this._postFixers), _z = _q.next(); !_z.done; _z = _q.next()) {
                                            var n_178 = _z.value;
                                            if (this.selection.refresh(), e = n_178(t))
                                                break;
                                        }
                                    }
                                    catch (e_443_1) { e_443 = { error: e_443_1 }; }
                                    finally {
                                        try {
                                            if (_z && !_z.done && (_j = _q.return)) _j.call(_q);
                                        }
                                        finally { if (e_443) throw e_443.error; }
                                    }
                                } while (e);
                            };
                            return Dc;
                        }());
                        function jc(t) { var e = t.textNode; if (e) {
                            var n_179 = e.data, i_97 = t.offset - e.startOffset;
                            return !Mc(n_179, i_97) && !Oc(n_179, i_97);
                        } return !0; }
                        li(Dc, ni);
                        var Bc = /** @class */ (function () {
                            function Bc() {
                                this._markers = new Map;
                            }
                            Bc.prototype[Symbol.iterator] = function () { return this._markers.values(); };
                            Bc.prototype.has = function (t) { return this._markers.has(t); };
                            Bc.prototype.get = function (t) { return this._markers.get(t) || null; };
                            Bc.prototype._set = function (t, e, n, i) {
                                if (n === void 0) { n = !1; }
                                if (i === void 0) { i = !1; }
                                var o = t instanceof Lc ? t.name : t, r = this._markers.get(o);
                                if (r) {
                                    var t_213 = r.getRange();
                                    var s_20 = !1;
                                    return t_213.isEqual(e) || (r._attachLiveRange(aa.fromRange(e)), s_20 = !0), n != r.managedUsingOperations && (r._managedUsingOperations = n, s_20 = !0), "boolean" == typeof i && i != r.affectsData && (r._affectsData = i, s_20 = !0), s_20 && this.fire("update:" + o, r, t_213, e), r;
                                }
                                var s = aa.fromRange(e), a = new Lc(o, s, n, i);
                                return this._markers.set(o, a), this.fire("update:" + o, a, null, e), a;
                            };
                            Bc.prototype._remove = function (t) { var e = t instanceof Lc ? t.name : t, n = this._markers.get(e); return !!n && (this._markers.delete(e), this.fire("update:" + e, n, n.getRange(), null), this._destroyMarker(n), !0); };
                            Bc.prototype._refresh = function (t) { var e = t instanceof Lc ? t.name : t, n = this._markers.get(e); if (!n)
                                throw new Gn.b("markercollection-refresh-marker-not-exists: Marker with provided name does not exists.", this); var i = n.getRange(); this.fire("update:" + e, n, i, i, n.managedUsingOperations, n.affectsData); };
                            Bc.prototype.getMarkersAtPosition = function (t) {
                                var e_444, _j, _q, _z, e_445, _0, e_444_1;
                                return __generator(this, function (_1) {
                                    switch (_1.label) {
                                        case 0:
                                            _1.trys.push([0, 6, 7, 8]);
                                            _q = __values(this), _z = _q.next();
                                            _1.label = 1;
                                        case 1:
                                            if (!!_z.done) return [3 /*break*/, 5];
                                            e_445 = _z.value;
                                            _0 = e_445.getRange().containsPosition(t);
                                            if (!_0) return [3 /*break*/, 3];
                                            return [4 /*yield*/, e_445];
                                        case 2:
                                            _0 = (_1.sent());
                                            _1.label = 3;
                                        case 3:
                                            _0;
                                            _1.label = 4;
                                        case 4:
                                            _z = _q.next();
                                            return [3 /*break*/, 1];
                                        case 5: return [3 /*break*/, 8];
                                        case 6:
                                            e_444_1 = _1.sent();
                                            e_444 = { error: e_444_1 };
                                            return [3 /*break*/, 8];
                                        case 7:
                                            try {
                                                if (_z && !_z.done && (_j = _q.return)) _j.call(_q);
                                            }
                                            finally { if (e_444) throw e_444.error; }
                                            return [7 /*endfinally*/];
                                        case 8: return [2 /*return*/];
                                    }
                                });
                            };
                            Bc.prototype.getMarkersIntersectingRange = function (t) {
                                var e_446, _j, _q, _z, e_447, _0, e_446_1;
                                return __generator(this, function (_1) {
                                    switch (_1.label) {
                                        case 0:
                                            _1.trys.push([0, 6, 7, 8]);
                                            _q = __values(this), _z = _q.next();
                                            _1.label = 1;
                                        case 1:
                                            if (!!_z.done) return [3 /*break*/, 5];
                                            e_447 = _z.value;
                                            _0 = null !== e_447.getRange().getIntersection(t);
                                            if (!_0) return [3 /*break*/, 3];
                                            return [4 /*yield*/, e_447];
                                        case 2:
                                            _0 = (_1.sent());
                                            _1.label = 3;
                                        case 3:
                                            _0;
                                            _1.label = 4;
                                        case 4:
                                            _z = _q.next();
                                            return [3 /*break*/, 1];
                                        case 5: return [3 /*break*/, 8];
                                        case 6:
                                            e_446_1 = _1.sent();
                                            e_446 = { error: e_446_1 };
                                            return [3 /*break*/, 8];
                                        case 7:
                                            try {
                                                if (_z && !_z.done && (_j = _q.return)) _j.call(_q);
                                            }
                                            finally { if (e_446) throw e_446.error; }
                                            return [7 /*endfinally*/];
                                        case 8: return [2 /*return*/];
                                    }
                                });
                            };
                            Bc.prototype.destroy = function () {
                                var e_448, _j;
                                try {
                                    for (var _q = __values(this._markers.values()), _z = _q.next(); !_z.done; _z = _q.next()) {
                                        var t_214 = _z.value;
                                        this._destroyMarker(t_214);
                                    }
                                }
                                catch (e_448_1) { e_448 = { error: e_448_1 }; }
                                finally {
                                    try {
                                        if (_z && !_z.done && (_j = _q.return)) _j.call(_q);
                                    }
                                    finally { if (e_448) throw e_448.error; }
                                }
                                this._markers = null, this.stopListening();
                            };
                            Bc.prototype.getMarkersGroup = function (t) {
                                var e_449, _j, _q, _z, e_450, _0, e_449_1;
                                return __generator(this, function (_1) {
                                    switch (_1.label) {
                                        case 0:
                                            _1.trys.push([0, 6, 7, 8]);
                                            _q = __values(this._markers.values()), _z = _q.next();
                                            _1.label = 1;
                                        case 1:
                                            if (!!_z.done) return [3 /*break*/, 5];
                                            e_450 = _z.value;
                                            _0 = e_450.name.startsWith(t + ":");
                                            if (!_0) return [3 /*break*/, 3];
                                            return [4 /*yield*/, e_450];
                                        case 2:
                                            _0 = (_1.sent());
                                            _1.label = 3;
                                        case 3:
                                            _0;
                                            _1.label = 4;
                                        case 4:
                                            _z = _q.next();
                                            return [3 /*break*/, 1];
                                        case 5: return [3 /*break*/, 8];
                                        case 6:
                                            e_449_1 = _1.sent();
                                            e_449 = { error: e_449_1 };
                                            return [3 /*break*/, 8];
                                        case 7:
                                            try {
                                                if (_z && !_z.done && (_j = _q.return)) _j.call(_q);
                                            }
                                            finally { if (e_449) throw e_449.error; }
                                            return [7 /*endfinally*/];
                                        case 8: return [2 /*return*/];
                                    }
                                });
                            };
                            Bc.prototype._destroyMarker = function (t) { t.stopListening(), t._detachLiveRange(); };
                            return Bc;
                        }());
                        li(Bc, ni);
                        var Lc = /** @class */ (function () {
                            function Lc(t, e, n, i) {
                                this.name = t, this._liveRange = this._attachLiveRange(e), this._managedUsingOperations = n, this._affectsData = i;
                            }
                            Object.defineProperty(Lc.prototype, "managedUsingOperations", {
                                get: function () { if (!this._liveRange)
                                    throw new Gn.b("marker-destroyed: Cannot use a destroyed marker instance.", this); return this._managedUsingOperations; },
                                enumerable: true,
                                configurable: true
                            });
                            Object.defineProperty(Lc.prototype, "affectsData", {
                                get: function () { if (!this._liveRange)
                                    throw new Gn.b("marker-destroyed: Cannot use a destroyed marker instance.", this); return this._affectsData; },
                                enumerable: true,
                                configurable: true
                            });
                            Lc.prototype.getStart = function () { if (!this._liveRange)
                                throw new Gn.b("marker-destroyed: Cannot use a destroyed marker instance.", this); return this._liveRange.start.clone(); };
                            Lc.prototype.getEnd = function () { if (!this._liveRange)
                                throw new Gn.b("marker-destroyed: Cannot use a destroyed marker instance.", this); return this._liveRange.end.clone(); };
                            Lc.prototype.getRange = function () { if (!this._liveRange)
                                throw new Gn.b("marker-destroyed: Cannot use a destroyed marker instance.", this); return this._liveRange.toRange(); };
                            Lc.prototype.is = function (t) { return "marker" == t || "model:marker" == t; };
                            Lc.prototype._attachLiveRange = function (t) { return this._liveRange && this._detachLiveRange(), t.delegate("change:range").to(this), t.delegate("change:content").to(this), this._liveRange = t, t; };
                            Lc.prototype._detachLiveRange = function () { this._liveRange.stopDelegating("change:range", this), this._liveRange.stopDelegating("change:content", this), this._liveRange.detach(), this._liveRange = null; };
                            return Lc;
                        }());
                        li(Lc, ni);
                        var Vc = /** @class */ (function (_super) {
                            __extends(Vc, _super);
                            function Vc(t, e, n) {
                                if (n === void 0) { n = "toNone"; }
                                var _this = this;
                                if (_this = _super.call(this, t, e, n) || this, !_this.root.is("rootElement"))
                                    throw new Gn.b("model-liveposition-root-not-rootelement: LivePosition's root has to be an instance of RootElement.", t);
                                (function () {
                                    var _this = this;
                                    this.listenTo(this.root.document.model, "applyOperation", function (t, e) { var n = e[0]; n.isDocumentOperation && function (t) { var e = this.getTransformedByOperation(t); if (!this.isEqual(e)) {
                                        var t_215 = this.toPosition();
                                        this.path = e.path, this.root = e.root, this.fire("change", t_215);
                                    } }.call(_this, n); }, { priority: "low" });
                                }).call(_this);
                                return _this;
                            }
                            Vc.prototype.detach = function () { this.stopListening(); };
                            Vc.prototype.is = function (t) { return "livePosition" == t || "model:livePosition" == t || _super.prototype.is.call(this, t); };
                            Vc.prototype.toPosition = function () { return new Gs(this.root, this.path.slice(), this.stickiness); };
                            Vc.fromPosition = function (t, e) { return new this(t.root, t.path.slice(), e || t.stickiness); };
                            return Vc;
                        }(Gs));
                        li(Vc, ni);
                        var Fc = /** @class */ (function () {
                            function Fc(t, e, n) {
                                this.model = t, this.writer = e, this.position = n, this.canMergeWith = new Set([this.position.parent]), this.schema = t.schema, this._filterAttributesOf = [], this._affectedStart = null, this._affectedEnd = null;
                            }
                            Fc.prototype.handleNodes = function (t, e) { t = Array.from(t); for (var n_180 = 0; n_180 < t.length; n_180++) {
                                var i_98 = t[n_180];
                                this._handleNode(i_98, { isFirst: 0 === n_180 && e.isFirst, isLast: n_180 === t.length - 1 && e.isLast });
                            } this.schema.removeDisallowedAttributes(this._filterAttributesOf, this.writer), this._filterAttributesOf = []; };
                            Fc.prototype.getSelectionRange = function () { return this.nodeToSelect ? Ks._createOn(this.nodeToSelect) : this.model.schema.getNearestSelectionRange(this.position); };
                            Fc.prototype.getAffectedRange = function () { return this._affectedStart ? new Ks(this._affectedStart, this._affectedEnd) : null; };
                            Fc.prototype.destroy = function () { this._affectedStart && this._affectedStart.detach(), this._affectedEnd && this._affectedEnd.detach(); };
                            Fc.prototype._handleNode = function (t, e) { if (this.schema.isObject(t))
                                return void this._handleObject(t, e); this._checkAndSplitToAllowedPosition(t, e) ? (this._insert(t), this._mergeSiblingsOf(t, e)) : this._handleDisallowedNode(t, e); };
                            Fc.prototype._handleObject = function (t, e) { this._checkAndSplitToAllowedPosition(t) ? this._insert(t) : this._tryAutoparagraphing(t, e); };
                            Fc.prototype._handleDisallowedNode = function (t, e) { t.is("element") ? this.handleNodes(t.getChildren(), e) : this._tryAutoparagraphing(t, e); };
                            Fc.prototype._insert = function (t) { if (!this.schema.checkChild(this.position, t))
                                throw new Gn.b("insertcontent-wrong-position: Given node cannot be inserted on the given position.", this, { node: t, position: this.position }); var e = Vc.fromPosition(this.position, "toNext"); this._setAffectedBoundaries(this.position), this.writer.insert(t, this.position), this.position = e.toPosition(), e.detach(), this.schema.isObject(t) && !this.schema.checkChild(this.position, "$text") ? this.nodeToSelect = t : this.nodeToSelect = null, this._filterAttributesOf.push(t); };
                            Fc.prototype._setAffectedBoundaries = function (t) { this._affectedStart || (this._affectedStart = Vc.fromPosition(t, "toPrevious")), this._affectedEnd && !this._affectedEnd.isBefore(t) || (this._affectedEnd && this._affectedEnd.detach(), this._affectedEnd = Vc.fromPosition(t, "toNext")); };
                            Fc.prototype._mergeSiblingsOf = function (t, e) { if (!(t instanceof Ys))
                                return; var n = this._canMergeLeft(t, e), i = this._canMergeRight(t, e), o = Vc._createBefore(t); o.stickiness = "toNext"; var r = Vc._createAfter(t); if (r.stickiness = "toNext", n) {
                                var t_216 = Vc.fromPosition(this.position);
                                t_216.stickiness = "toNext", this._affectedStart.isEqual(o) && (this._affectedStart.detach(), this._affectedStart = Vc._createAt(o.nodeBefore, "end", "toPrevious")), this.writer.merge(o), o.isEqual(this._affectedEnd) && e.isLast && (this._affectedEnd.detach(), this._affectedEnd = Vc._createAt(o.nodeBefore, "end", "toNext")), this.position = t_216.toPosition(), t_216.detach();
                            } if (i) {
                                if (!this.position.isEqual(r))
                                    throw new Gn.b("insertcontent-invalid-insertion-position", this);
                                this.position = Gs._createAt(r.nodeBefore, "end");
                                var t_217 = Vc.fromPosition(this.position, "toPrevious");
                                this._affectedEnd.isEqual(r) && (this._affectedEnd.detach(), this._affectedEnd = Vc._createAt(r.nodeBefore, "end", "toNext")), this.writer.merge(r), r.getShiftedBy(-1).isEqual(this._affectedStart) && e.isFirst && (this._affectedStart.detach(), this._affectedStart = Vc._createAt(r.nodeBefore, 0, "toPrevious")), this.position = t_217.toPosition(), t_217.detach();
                            } (n || i) && this._filterAttributesOf.push(this.position.parent), o.detach(), r.detach(); };
                            Fc.prototype._canMergeLeft = function (t, e) { var n = t.previousSibling; return e.isFirst && n instanceof Ys && this.canMergeWith.has(n) && this.model.schema.checkMerge(n, t); };
                            Fc.prototype._canMergeRight = function (t, e) { var n = t.nextSibling; return e.isLast && n instanceof Ys && this.canMergeWith.has(n) && this.model.schema.checkMerge(t, n); };
                            Fc.prototype._tryAutoparagraphing = function (t, e) { var n = this.writer.createElement("paragraph"); this._getAllowedIn(n, this.position.parent) && this.schema.checkChild(n, t) && (n._appendChild(t), this._handleNode(n, e)); };
                            Fc.prototype._checkAndSplitToAllowedPosition = function (t) { var e = this._getAllowedIn(t, this.position.parent); if (!e)
                                return !1; for (; e != this.position.parent;) {
                                if (this.schema.isLimit(this.position.parent))
                                    return !1;
                                if (this.position.isAtStart) {
                                    var t_218 = this.position.parent;
                                    this.position = this.writer.createPositionBefore(t_218), t_218.isEmpty && t_218.parent === e && this.writer.remove(t_218);
                                }
                                else if (this.position.isAtEnd)
                                    this.position = this.writer.createPositionAfter(this.position.parent);
                                else {
                                    var t_219 = this.writer.createPositionAfter(this.position.parent);
                                    this._setAffectedBoundaries(this.position), this.writer.split(this.position), this.position = t_219, this.canMergeWith.add(this.position.nodeAfter);
                                }
                            } return !0; };
                            Fc.prototype._getAllowedIn = function (t, e) { return this.schema.checkChild(e, t) ? e : e.parent ? this._getAllowedIn(t, e.parent) : null; };
                            return Fc;
                        }());
                        function zc(t, e, n) {
                            if (n === void 0) { n = {}; }
                            if (e.isCollapsed)
                                return;
                            var i = e.getFirstRange();
                            if ("$graveyard" == i.root.rootName)
                                return;
                            var o = t.schema;
                            t.change(function (t) { if (!n.doNotResetEntireContent && function (t, e) { var n = t.getLimitElement(e); if (!e.containsEntireContent(n))
                                return !1; var i = e.getFirstRange(); if (i.start.parent == i.end.parent)
                                return !1; return t.checkChild(n, "paragraph"); }(o, e))
                                return void function (t, e) { var n = t.model.schema.getLimitElement(e); t.remove(t.createRangeIn(n)), Uc(t, t.createPositionAt(n, 0), e); }(t, e); var r = i.start, s = Vc.fromPosition(i.end, "toNext"); if (i.start.isTouching(i.end) || t.remove(i), n.leaveUnmerged || (!function t(e, n, i) { var o = n.parent; var r = i.parent; if (o == r)
                                return; if (e.model.schema.isLimit(o) || e.model.schema.isLimit(r))
                                return; if (!function (t, e, n) {
                                var e_451, _j;
                                var i = new Ks(t, e);
                                try {
                                    for (var _q = __values(i.getWalker()), _z = _q.next(); !_z.done; _z = _q.next()) {
                                        var t_220 = _z.value;
                                        if (n.isLimit(t_220.item))
                                            return !1;
                                    }
                                }
                                catch (e_451_1) { e_451 = { error: e_451_1 }; }
                                finally {
                                    try {
                                        if (_z && !_z.done && (_j = _q.return)) _j.call(_q);
                                    }
                                    finally { if (e_451) throw e_451.error; }
                                }
                                return !0;
                            }(n, i, e.model.schema))
                                return; n = e.createPositionAfter(o); i = e.createPositionBefore(r); i.isEqual(n) || e.insert(r, n); e.merge(n); for (; i.parent.isEmpty;) {
                                var t_221 = i.parent;
                                i = e.createPositionBefore(t_221), e.remove(t_221);
                            } t(e, n, i); }(t, r, s), o.removeDisallowedAttributes(r.parent.getChildren(), t)), Hc(t, e, r), function (t, e) { var n = t.checkChild(e, "$text"), i = t.checkChild(e, "paragraph"); return !n && i; }(o, r)) {
                                var i_99 = o.getNearestSelectionRange(r);
                                n.doNotAutoparagraph && i_99 ? Hc(t, e, i_99) : Uc(t, r, e);
                            } s.detach(); });
                        }
                        function Uc(t, e, n) { var i = t.createElement("paragraph"); t.insert(i, e), Hc(t, n, t.createPositionAt(i, 0)); }
                        function Hc(t, e, n) { e instanceof la ? t.setSelection(n) : e.setTo(n); }
                        var qc = ' ,.?!:;"-()';
                        function Yc(t, e, n) {
                            if (n === void 0) { n = {}; }
                            var i = t.schema, o = "backward" != n.direction, r = n.unit ? n.unit : "character", s = e.focus, a = new Ws({ boundaries: function (t, e) { var n = t.root, i = Gs._createAt(n, e ? "end" : 0); return e ? new Ks(t, i) : new Ks(i, t); }(s, o), singleCharacters: !0, direction: o ? "forward" : "backward" }), c = { walker: a, schema: i, isForward: o, unit: r };
                            var l;
                            var _loop_3 = function () {
                                if (l.done)
                                    return { value: void 0 };
                                var n_181 = Wc(c, l.value);
                                if (n_181)
                                    return { value: void (e instanceof la ? t.change(function (t) { t.setSelectionFocus(n_181); }) : e.setFocus(n_181)) };
                            };
                            for (; l = a.next();) {
                                var state_1 = _loop_3();
                                if (typeof state_1 === "object")
                                    return state_1.value;
                            }
                        }
                        function Wc(t, e) { if ("text" == e.type)
                            return "word" === t.unit ? function (t, e) { var n = t.position.textNode; if (n) {
                                var i_100 = t.position.offset - n.startOffset;
                                for (; !Jc(n.data, i_100, e) && !$c(n, i_100, e);) {
                                    t.next();
                                    var o_56 = e ? t.position.nodeAfter : t.position.nodeBefore;
                                    if (o_56 && o_56.is("text")) {
                                        var i_101 = o_56.data.charAt(e ? 0 : o_56.data.length - 1);
                                        qc.includes(i_101) || (t.next(), n = t.position.textNode);
                                    }
                                    i_100 = t.position.offset - n.startOffset;
                                }
                            } return t.position; }(t.walker, t.isForward) : function (t, e) { var n = t.position.textNode; if (n) {
                                var i_102 = n.data;
                                var o_57 = t.position.offset - n.startOffset;
                                for (; Mc(i_102, o_57) || "character" == e && Oc(i_102, o_57);)
                                    t.next(), o_57 = t.position.offset - n.startOffset;
                            } return t.position; }(t.walker, t.unit, t.isForward); if (e.type == (t.isForward ? "elementStart" : "elementEnd")) {
                            if (t.schema.isObject(e.item))
                                return Gs._createAt(e.item, t.isForward ? "after" : "before");
                            if (t.schema.checkChild(e.nextPosition, "$text"))
                                return e.nextPosition;
                        }
                        else {
                            if (t.schema.isLimit(e.item))
                                return void t.walker.skip(function () { return !0; });
                            if (t.schema.checkChild(e.nextPosition, "$text"))
                                return e.nextPosition;
                        } }
                        function Jc(t, e, n) { var i = e + (n ? 0 : -1); return qc.includes(t.charAt(i)); }
                        function $c(t, e, n) { return e === (n ? t.endOffset : 0); }
                        function Gc(t, e) { var n = []; Array.from(t.getItems({ direction: "backward" })).map(function (t) { return e.createRangeOn(t); }).filter(function (e) { return (e.start.isAfter(t.start) || e.start.isEqual(t.start)) && (e.end.isBefore(t.end) || e.end.isEqual(t.end)); }).forEach(function (t) { n.push(t.start.parent), e.remove(t); }), n.forEach(function (t) { var n = t; for (; n.parent && n.isEmpty;) {
                            var t_222 = e.createRangeOn(n);
                            n = n.parent, e.remove(t_222);
                        } }); }
                        function Kc(t) { t.document.registerPostFixer(function (e) { return (function (t, e) {
                            var e_452, _j;
                            var n = e.document.selection, i = e.schema, o = [];
                            var r = !1;
                            try {
                                for (var _q = __values(n.getRanges()), _z = _q.next(); !_z.done; _z = _q.next()) {
                                    var t_223 = _z.value;
                                    var e_453 = Qc(t_223, i);
                                    e_453 ? (o.push(e_453), r = !0) : o.push(t_223);
                                }
                            }
                            catch (e_452_1) { e_452 = { error: e_452_1 }; }
                            finally {
                                try {
                                    if (_z && !_z.done && (_j = _q.return)) _j.call(_q);
                                }
                                finally { if (e_452) throw e_452.error; }
                            }
                            if (r) {
                                var e_454 = o;
                                if (o.length > 1) {
                                    var t_224 = o[0].start, n_182 = o[o.length - 1].end;
                                    e_454 = [new Ks(t_224, n_182)];
                                }
                                t.setSelection(e_454, { backward: n.isBackward });
                            }
                        })(e, t); }); }
                        function Qc(t, e) { return t.isCollapsed ? function (t, e) { var n = t.start, i = e.getNearestSelectionRange(n); if (!i)
                            return null; var o = i.start; if (n.isEqual(o))
                            return null; if (o.nodeAfter && e.isLimit(o.nodeAfter))
                            return new Ks(o, Gs._createAfter(o.nodeAfter)); return new Ks(o); }(t, e) : function (t, e) { var n = t.start, i = t.end, o = e.checkChild(n, "$text"), r = e.checkChild(i, "$text"), s = e.getLimitElement(n), a = e.getLimitElement(i); if (s === a) {
                            if (o && r)
                                return null;
                            if (function (t, e, n) { var i = t.nodeAfter && !n.isLimit(t.nodeAfter) || n.checkChild(t, "$text"), o = e.nodeBefore && !n.isLimit(e.nodeBefore) || n.checkChild(e, "$text"); return i || o; }(n, i, e)) {
                                var t_225 = n.nodeAfter && e.isObject(n.nodeAfter), o_58 = t_225 ? null : e.getNearestSelectionRange(n, "forward"), r_24 = i.nodeBefore && e.isObject(i.nodeBefore), s_21 = r_24 ? null : e.getNearestSelectionRange(i, "backward"), a_9 = o_58 ? o_58.start : n, c_6 = s_21 ? s_21.start : i;
                                return new Ks(a_9, c_6);
                            }
                        } var c = s && !s.is("rootElement"), l = a && !a.is("rootElement"); if (c || l) {
                            var t_226 = n.nodeAfter && i.nodeBefore && n.nodeAfter.parent === i.nodeBefore.parent, o_59 = c && (!t_226 || !Xc(n.nodeAfter, e)), r_25 = l && (!t_226 || !Xc(i.nodeBefore, e));
                            var d_1 = n, u_1 = i;
                            return o_59 && (d_1 = Gs._createBefore(Zc(s, e))), r_25 && (u_1 = Gs._createAfter(Zc(a, e))), new Ks(d_1, u_1);
                        } return null; }(t, e); }
                        function Zc(t, e) { var n = t, i = n; for (; e.isLimit(i) && i.parent;)
                            n = i, i = i.parent; return n; }
                        function Xc(t, e) { return t && e.isObject(t); }
                        var tl = /** @class */ (function () {
                            function tl() {
                                var _this = this;
                                this.markers = new Bc, this.document = new Dc(this), this.schema = new ja, this._pendingChanges = [], this._currentWriter = null, ["insertContent", "deleteContent", "modifySelection", "getSelectedContent", "applyOperation"].forEach(function (t) { return _this.decorate(t); }), this.on("applyOperation", function (t, e) { e[0]._validate(); }, { priority: "highest" }), this.schema.register("$root", { isLimit: !0 }), this.schema.register("$block", { allowIn: "$root", isBlock: !0 }), this.schema.register("$text", { allowIn: "$block", isInline: !0 }), this.schema.register("$clipboardHolder", { allowContentOf: "$root", isLimit: !0 }), this.schema.extend("$text", { allowIn: "$clipboardHolder" }), this.schema.register("$marker"), this.schema.addChildCheck(function (t, e) { if ("$marker" === e.name)
                                    return !0; }), Kc(this);
                            }
                            tl.prototype.change = function (t) { try {
                                return 0 === this._pendingChanges.length ? (this._pendingChanges.push({ batch: new tc, callback: t }), this._runPendingChanges()[0]) : t(this._currentWriter);
                            }
                            catch (t) {
                                Gn.b.rethrowUnexpectedError(t, this);
                            } };
                            tl.prototype.enqueueChange = function (t, e) { try {
                                "string" == typeof t ? t = new tc(t) : "function" == typeof t && (e = t, t = new tc), this._pendingChanges.push({ batch: t, callback: e }), 1 == this._pendingChanges.length && this._runPendingChanges();
                            }
                            catch (t) {
                                Gn.b.rethrowUnexpectedError(t, this);
                            } };
                            tl.prototype.applyOperation = function (t) { t._execute(); };
                            tl.prototype.insertContent = function (t, e, n) { return function (t, e, n, i) { return t.change(function (o) { var r; var s = (r = n ? n instanceof na || n instanceof la ? n : o.createSelection(n, i) : t.document.selection).getFirstPosition(); r.isCollapsed || t.deleteContent(r, { doNotAutoparagraph: !0 }); var a = new Fc(t, o, s); var c; c = e.is("documentFragment") ? e.getChildren() : [e], a.handleNodes(c, { isFirst: !0, isLast: !0 }); var l = a.getSelectionRange(); l && (r instanceof la ? o.setSelection(l) : r.setTo(l)); var d = a.getAffectedRange() || t.createRange(s); return a.destroy(), d; }); }(this, t, e, n); };
                            tl.prototype.deleteContent = function (t, e) { zc(this, t, e); };
                            tl.prototype.modifySelection = function (t, e) { Yc(this, t, e); };
                            tl.prototype.getSelectedContent = function (t) { return function (t, e) { return t.change(function (t) {
                                var e_455, _j;
                                var n = t.createDocumentFragment(), i = e.getFirstRange();
                                if (!i || i.isCollapsed)
                                    return n;
                                var o = i.start.root, r = i.start.getCommonPath(i.end), s = o.getNodeByPath(r);
                                var a;
                                var c = (a = i.start.parent == i.end.parent ? i : t.createRange(t.createPositionAt(s, i.start.path[r.length]), t.createPositionAt(s, i.end.path[r.length] + 1))).end.offset - a.start.offset;
                                try {
                                    for (var _q = __values(a.getItems({ shallow: !0 })), _z = _q.next(); !_z.done; _z = _q.next()) {
                                        var e_456 = _z.value;
                                        e_456.is("textProxy") ? t.appendText(e_456.data, e_456.getAttributes(), n) : t.append(e_456._clone(!0), n);
                                    }
                                }
                                catch (e_455_1) { e_455 = { error: e_455_1 }; }
                                finally {
                                    try {
                                        if (_z && !_z.done && (_j = _q.return)) _j.call(_q);
                                    }
                                    finally { if (e_455) throw e_455.error; }
                                }
                                if (a != i) {
                                    var e_457 = i._getTransformedByMove(a.start, t.createPositionAt(n, 0), c)[0], o_60 = t.createRange(t.createPositionAt(n, 0), e_457.start);
                                    Gc(t.createRange(e_457.end, t.createPositionAt(n, "end")), t), Gc(o_60, t);
                                }
                                return n;
                            }); }(this, t); };
                            tl.prototype.hasContent = function (t, e) {
                                var e_458, _j, e_459, _q;
                                var n = t instanceof Ys ? Ks._createIn(t) : t;
                                if (n.isCollapsed)
                                    return !1;
                                try {
                                    for (var _z = __values(this.markers.getMarkersIntersectingRange(n)), _0 = _z.next(); !_0.done; _0 = _z.next()) {
                                        var t_227 = _0.value;
                                        if (t_227.affectsData)
                                            return !0;
                                    }
                                }
                                catch (e_458_1) { e_458 = { error: e_458_1 }; }
                                finally {
                                    try {
                                        if (_0 && !_0.done && (_j = _z.return)) _j.call(_z);
                                    }
                                    finally { if (e_458) throw e_458.error; }
                                }
                                var _1 = (e || {}).ignoreWhitespaces, i = _1 === void 0 ? !1 : _1;
                                try {
                                    for (var _2 = __values(n.getItems()), _3 = _2.next(); !_3.done; _3 = _2.next()) {
                                        var t_228 = _3.value;
                                        if (t_228.is("textProxy")) {
                                            if (!i)
                                                return !0;
                                            if (-1 !== t_228.data.search(/\S/))
                                                return !0;
                                        }
                                        else if (this.schema.isObject(t_228))
                                            return !0;
                                    }
                                }
                                catch (e_459_1) { e_459 = { error: e_459_1 }; }
                                finally {
                                    try {
                                        if (_3 && !_3.done && (_q = _2.return)) _q.call(_2);
                                    }
                                    finally { if (e_459) throw e_459.error; }
                                }
                                return !1;
                            };
                            tl.prototype.createPositionFromPath = function (t, e, n) { return new Gs(t, e, n); };
                            tl.prototype.createPositionAt = function (t, e) { return Gs._createAt(t, e); };
                            tl.prototype.createPositionAfter = function (t) { return Gs._createAfter(t); };
                            tl.prototype.createPositionBefore = function (t) { return Gs._createBefore(t); };
                            tl.prototype.createRange = function (t, e) { return new Ks(t, e); };
                            tl.prototype.createRangeIn = function (t) { return Ks._createIn(t); };
                            tl.prototype.createRangeOn = function (t) { return Ks._createOn(t); };
                            tl.prototype.createSelection = function (t, e, n) { return new na(t, e, n); };
                            tl.prototype.createBatch = function (t) { return new tc(t); };
                            tl.prototype.destroy = function () { this.document.destroy(), this.stopListening(); };
                            tl.prototype._runPendingChanges = function () { var t = []; for (this.fire("_beforeChanges"); this._pendingChanges.length;) {
                                var e_460 = this._pendingChanges[0].batch;
                                this._currentWriter = new vc(this, e_460);
                                var n_183 = this._pendingChanges[0].callback(this._currentWriter);
                                t.push(n_183), this.document._handleChangeBlock(this._currentWriter), this._pendingChanges.shift(), this._currentWriter = null;
                            } return this.fire("_afterChanges"), t; };
                            return tl;
                        }());
                        li(tl, Ui);
                        var el = /** @class */ (function () {
                            function el() {
                                this._listener = Object.create(ur);
                            }
                            el.prototype.listenTo = function (t) {
                                var _this = this;
                                this._listener.listenTo(t, "keydown", function (t, e) { _this._listener.fire("_keydown:" + ko(e), e); });
                            };
                            el.prototype.set = function (t, e, n) {
                                if (n === void 0) { n = {}; }
                                var i = wo(t), o = n.priority;
                                this._listener.listenTo(this._listener, "_keydown:" + i, function (t, n) { e(n, function () { n.preventDefault(), n.stopPropagation(), t.stop(); }), t.return = !0; }, { priority: o });
                            };
                            el.prototype.press = function (t) { return !!this._listener.fire("_keydown:" + ko(t), t); };
                            el.prototype.destroy = function () { this._listener.stopListening(); };
                            return el;
                        }());
                        var nl = /** @class */ (function (_super) {
                            __extends(nl, _super);
                            function nl(t) {
                                var _this = this;
                                _this = _super.call(this) || this, _this.editor = t;
                                return _this;
                            }
                            nl.prototype.set = function (t, e, n) {
                                var _this = this;
                                if (n === void 0) { n = {}; }
                                if ("string" == typeof e) {
                                    var t_229 = e;
                                    e = (function (e, n) { _this.editor.execute(t_229), n(); });
                                }
                                _super.prototype.set.call(this, t, e, n);
                            };
                            return nl;
                        }(el));
                        var il = /** @class */ (function () {
                            function il(t) {
                                var _this = this;
                                var e = this.constructor.builtinPlugins;
                                this.config = new Jn(t, this.constructor.defaultConfig), this.config.define("plugins", e), this.plugins = new Ea(this, e), this.commands = new Pa;
                                var n = this.config.get("language") || {};
                                this.locale = new Ma({ uiLanguage: "string" == typeof n ? n : n.ui, contentLanguage: this.config.get("language.content") }), this.t = this.locale.t, this.set("state", "initializing"), this.once("ready", function () { return _this.state = "ready"; }, { priority: "high" }), this.once("destroy", function () { return _this.state = "destroyed"; }, { priority: "high" }), this.set("isReadOnly", !1), this.model = new tl, this.data = new Ka(this.model), this.editing = new Sa(this.model), this.editing.view.document.bind("isReadOnly").to(this), this.conversion = new Qa([this.editing.downcastDispatcher, this.data.downcastDispatcher], this.data.upcastDispatcher), this.conversion.addAlias("dataDowncast", this.data.downcastDispatcher), this.conversion.addAlias("editingDowncast", this.editing.downcastDispatcher), this.keystrokes = new nl(this), this.keystrokes.listenTo(this.editing.view.document);
                            }
                            il.prototype.initPlugins = function () { var t = this.config, e = t.get("plugins") || [], n = t.get("removePlugins") || [], i = t.get("extraPlugins") || []; return this.plugins.init(e.concat(i), n); };
                            il.prototype.destroy = function () {
                                var _this = this;
                                var t = Promise.resolve();
                                return "initializing" == this.state && (t = new Promise(function (t) { return _this.once("ready", t); })), t.then(function () { _this.fire("destroy"), _this.stopListening(), _this.commands.destroy(); }).then(function () { return _this.plugins.destroy(); }).then(function () { _this.model.destroy(), _this.data.destroy(), _this.editing.destroy(), _this.keystrokes.destroy(); });
                            };
                            il.prototype.execute = function () {
                                var _j;
                                var t = [];
                                for (var _q = 0; _q < arguments.length; _q++) {
                                    t[_q] = arguments[_q];
                                }
                                try {
                                    (_j = this.commands).execute.apply(_j, __spread(t));
                                }
                                catch (t) {
                                    Gn.b.rethrowUnexpectedError(t, this);
                                }
                            };
                            return il;
                        }());
                        li(il, Ui);
                        var ol = { setData: function (t) { this.data.set(t); }, getData: function (t) { return this.data.get(t); } };
                        var rl = { updateSourceElement: function () { if (!this.sourceElement)
                                throw new Gn.b("editor-missing-sourceelement: Cannot update the source element of a detached editor.", this); !function (t, e) { t instanceof HTMLTextAreaElement && (t.value = e), t.innerHTML = e; }(this.sourceElement, this.data.get()); } };
                        var sl = /** @class */ (function () {
                            function sl() {
                            }
                            sl.prototype.getHtml = function (t) { var e = document.implementation.createHTMLDocument("").createElement("div"); return e.appendChild(t), e.innerHTML; };
                            return sl;
                        }());
                        var al = /** @class */ (function () {
                            function al() {
                                this._domParser = new DOMParser, this._domConverter = new sr({ blockFillerMode: "nbsp" }), this._htmlWriter = new sl;
                            }
                            al.prototype.toData = function (t) { var e = this._domConverter.viewToDom(t, document); return this._htmlWriter.getHtml(e); };
                            al.prototype.toView = function (t) { var e = this._toDom(t); return this._domConverter.domToView(e); };
                            al.prototype._toDom = function (t) { var e = this._domParser.parseFromString(t, "text/html"), n = e.createDocumentFragment(), i = e.body.childNodes; for (; i.length > 0;)
                                n.appendChild(i[0]); return n; };
                            return al;
                        }());
                        var cl = /** @class */ (function () {
                            function cl(t) {
                                this.editor = t, this._components = new Map;
                            }
                            cl.prototype.names = function () {
                                var e_461, _j, _q, _z, t_230, e_461_1;
                                return __generator(this, function (_0) {
                                    switch (_0.label) {
                                        case 0:
                                            _0.trys.push([0, 5, 6, 7]);
                                            _q = __values(this._components.values()), _z = _q.next();
                                            _0.label = 1;
                                        case 1:
                                            if (!!_z.done) return [3 /*break*/, 4];
                                            t_230 = _z.value;
                                            return [4 /*yield*/, t_230.originalName];
                                        case 2:
                                            _0.sent();
                                            _0.label = 3;
                                        case 3:
                                            _z = _q.next();
                                            return [3 /*break*/, 1];
                                        case 4: return [3 /*break*/, 7];
                                        case 5:
                                            e_461_1 = _0.sent();
                                            e_461 = { error: e_461_1 };
                                            return [3 /*break*/, 7];
                                        case 6:
                                            try {
                                                if (_z && !_z.done && (_j = _q.return)) _j.call(_q);
                                            }
                                            finally { if (e_461) throw e_461.error; }
                                            return [7 /*endfinally*/];
                                        case 7: return [2 /*return*/];
                                    }
                                });
                            };
                            cl.prototype.add = function (t, e) { if (this.has(t))
                                throw new Gn.b("componentfactory-item-exists: The item already exists in the component factory.", this, { name: t }); this._components.set(ll(t), { callback: e, originalName: t }); };
                            cl.prototype.create = function (t) { if (!this.has(t))
                                throw new Gn.b("componentfactory-item-missing: The required component is not registered in the factory.", this, { name: t }); return this._components.get(ll(t)).callback(this.editor.locale); };
                            cl.prototype.has = function (t) { return this._components.has(ll(t)); };
                            return cl;
                        }());
                        function ll(t) { return String(t).toLowerCase(); }
                        var dl = /** @class */ (function () {
                            function dl() {
                                this.set("isFocused", !1), this.set("focusedElement", null), this._elements = new Set, this._nextEventLoopTimeout = null;
                            }
                            dl.prototype.add = function (t) {
                                var _this = this;
                                if (this._elements.has(t))
                                    throw new Gn.b("focusTracker-add-element-already-exist", this);
                                this.listenTo(t, "focus", function () { return _this._focus(t); }, { useCapture: !0 }), this.listenTo(t, "blur", function () { return _this._blur(); }, { useCapture: !0 }), this._elements.add(t);
                            };
                            dl.prototype.remove = function (t) { t === this.focusedElement && this._blur(t), this._elements.has(t) && (this.stopListening(t), this._elements.delete(t)); };
                            dl.prototype.destroy = function () { this.stopListening(); };
                            dl.prototype._focus = function (t) { clearTimeout(this._nextEventLoopTimeout), this.focusedElement = t, this.isFocused = !0; };
                            dl.prototype._blur = function () {
                                var _this = this;
                                clearTimeout(this._nextEventLoopTimeout), this._nextEventLoopTimeout = setTimeout(function () { _this.focusedElement = null, _this.isFocused = !1; }, 0);
                            };
                            return dl;
                        }());
                        li(dl, ur), li(dl, Ui);
                        var ul = /** @class */ (function () {
                            function ul(t) {
                                var _this = this;
                                this.editor = t, this.componentFactory = new cl(t), this.focusTracker = new dl, this._editableElementsMap = new Map, this.listenTo(t.editing.view.document, "layoutChanged", function () { return _this.update(); });
                            }
                            Object.defineProperty(ul.prototype, "element", {
                                get: function () { return null; },
                                enumerable: true,
                                configurable: true
                            });
                            ul.prototype.update = function () { this.fire("update"); };
                            ul.prototype.destroy = function () {
                                var e_462, _j;
                                this.stopListening(), this.focusTracker.destroy();
                                try {
                                    for (var _q = __values(this._editableElementsMap.values()), _z = _q.next(); !_z.done; _z = _q.next()) {
                                        var t_231 = _z.value;
                                        t_231.ckeditorInstance = null;
                                    }
                                }
                                catch (e_462_1) { e_462 = { error: e_462_1 }; }
                                finally {
                                    try {
                                        if (_z && !_z.done && (_j = _q.return)) _j.call(_q);
                                    }
                                    finally { if (e_462) throw e_462.error; }
                                }
                                this._editableElementsMap = new Map;
                            };
                            ul.prototype.setEditableElement = function (t, e) { this._editableElementsMap.set(t, e), e.ckeditorInstance || (e.ckeditorInstance = this.editor); };
                            ul.prototype.getEditableElement = function (t) {
                                if (t === void 0) { t = "main"; }
                                return this._editableElementsMap.get(t);
                            };
                            ul.prototype.getEditableElementsNames = function () { return this._editableElementsMap.keys(); };
                            Object.defineProperty(ul.prototype, "_editableElements", {
                                get: function () { return console.warn("editor-ui-deprecated-editable-elements: The EditorUI#_editableElements property has been deprecated and will be removed in the near future.", { editorUI: this }), this._editableElementsMap; },
                                enumerable: true,
                                configurable: true
                            });
                            return ul;
                        }());
                        li(ul, ni);
                        n(126);
                        var hl = new WeakMap;
                        function fl(t) { var e = t.view, n = t.element, i = t.text, _j = t.isDirectHost, o = _j === void 0 ? !0 : _j, r = e.document; hl.has(r) || (hl.set(r, new Map), r.registerPostFixer(function (t) { return ml(r, t); })), hl.get(r).set(n, { text: i, isDirectHost: o }), e.change(function (t) { return ml(r, t); }); }
                        function pl(t, e) { return !!e.hasClass("ck-placeholder") && (t.removeClass("ck-placeholder", e), !0); }
                        function ml(t, e) {
                            var e_463, _j;
                            var n = hl.get(t);
                            var i = !1;
                            try {
                                for (var n_184 = __values(n), n_184_1 = n_184.next(); !n_184_1.done; n_184_1 = n_184.next()) {
                                    var _q = __read(n_184_1.value, 2), t_232 = _q[0], o_61 = _q[1];
                                    gl(e, t_232, o_61) && (i = !0);
                                }
                            }
                            catch (e_463_1) { e_463 = { error: e_463_1 }; }
                            finally {
                                try {
                                    if (n_184_1 && !n_184_1.done && (_j = n_184.return)) _j.call(n_184);
                                }
                                finally { if (e_463) throw e_463.error; }
                            }
                            return i;
                        }
                        function gl(t, e, n) { var i = n.text, o = n.isDirectHost, r = o ? e : function (t) { if (1 === t.childCount) {
                            var e_464 = t.getChild(0);
                            if (e_464.is("element") && !e_464.is("uiElement"))
                                return e_464;
                        } return null; }(e); var s = !1; return !!r && (n.hostElement = r, r.getAttribute("data-placeholder") !== i && (t.setAttribute("data-placeholder", i, r), s = !0), !function (t) { var e = t.document; if (!e)
                            return !1; var n = !Array.from(t.getChildren()).some(function (t) { return !t.is("uiElement"); }); if (!e.isFocused && n)
                            return !0; var i = e.selection.anchor; return !(!n || !i || i.parent === t); }(r) ? pl(t, r) && (s = !0) : function (t, e) { return !e.hasClass("ck-placeholder") && (t.addClass("ck-placeholder", e), !0); }(t, r) && (s = !0), s); }
                        var xl = /** @class */ (function () {
                            function xl() {
                                this._replacedElements = [];
                            }
                            xl.prototype.replace = function (t, e) { this._replacedElements.push({ element: t, newElement: e }), t.style.display = "none", e && t.parentNode.insertBefore(e, t.nextSibling); };
                            xl.prototype.restore = function () { this._replacedElements.forEach(function (_j) {
                                var t = _j.element, e = _j.newElement;
                                t.style.display = "", e && e.remove();
                            }), this._replacedElements = []; };
                            return xl;
                        }());
                        var bl = /** @class */ (function (_super) {
                            __extends(bl, _super);
                            function bl(t, e) {
                                var _this = this;
                                _this = _super.call(this, t) || this, _this.view = e, _this._toolbarConfig = function (t) { return Array.isArray(t) ? { items: t } : t ? Object.assign({ items: [] }, t) : { items: [] }; }(t.config.get("toolbar")), _this._elementReplacer = new xl;
                                return _this;
                            }
                            Object.defineProperty(bl.prototype, "element", {
                                get: function () { return this.view.element; },
                                enumerable: true,
                                configurable: true
                            });
                            bl.prototype.init = function (t) { var e = this.editor, n = this.view, i = e.editing.view, o = n.editable, r = i.document.getRoot(); o.name = r.rootName, n.render(); var s = o.element; this.setEditableElement(o.name, s), this.focusTracker.add(s), n.editable.bind("isFocused").to(this.focusTracker), i.attachDomRoot(s), t && this._elementReplacer.replace(t, this.element), this._initPlaceholder(), this._initToolbar(), this.fire("ready"); };
                            bl.prototype.destroy = function () { var t = this.view, e = this.editor.editing.view; this._elementReplacer.restore(), e.detachDomRoot(t.editable.name), t.destroy(), _super.prototype.destroy.call(this); };
                            bl.prototype._initToolbar = function () { var t = this.editor, e = this.view, n = t.editing.view; e.stickyPanel.bind("isActive").to(this.focusTracker, "isFocused"), e.stickyPanel.limiterElement = e.element, this._toolbarConfig.viewportTopOffset && (e.stickyPanel.viewportTopOffset = this._toolbarConfig.viewportTopOffset), e.toolbar.fillFromConfig(this._toolbarConfig.items, this.componentFactory), function (_j) {
                                var t = _j.origin, e = _j.originKeystrokeHandler, n = _j.originFocusTracker, i = _j.toolbar, o = _j.beforeFocus, r = _j.afterBlur;
                                n.add(i.element), e.set("Alt+F10", function (t, e) { n.isFocused && !i.focusTracker.isFocused && (o && o(), i.focus(), e()); }), i.keystrokes.set("Esc", function (e, n) { i.focusTracker.isFocused && (t.focus(), r && r(), n()); });
                            }({ origin: n, originFocusTracker: this.focusTracker, originKeystrokeHandler: t.keystrokes, toolbar: e.toolbar }); };
                            bl.prototype._initPlaceholder = function () { var t = this.editor, e = t.editing.view, n = e.document.getRoot(), i = t.sourceElement, o = t.config.get("placeholder") || i && "textarea" === i.tagName.toLowerCase() && i.getAttribute("placeholder"); o && fl({ view: e, element: n, text: o, isDirectHost: !1 }); };
                            return bl;
                        }(ul));
                        var kl = /** @class */ (function (_super) {
                            __extends(kl, _super);
                            function kl(t) {
                                var _this = this;
                                _this = _super.call(this, { idProperty: "viewUid" }) || this, _this.on("add", function (t, e, n) { e.isRendered || e.render(), e.element && _this._parentElement && _this._parentElement.insertBefore(e.element, _this._parentElement.children[n]); }), _this.on("remove", function (t, e) { e.element && _this._parentElement && e.element.remove(); }), _this.locale = t, _this._parentElement = null;
                                return _this;
                            }
                            kl.prototype.destroy = function () { this.map(function (t) { return t.destroy(); }); };
                            kl.prototype.setParent = function (t) { this._parentElement = t; };
                            kl.prototype.delegate = function () {
                                var _this = this;
                                var t = [];
                                for (var _j = 0; _j < arguments.length; _j++) {
                                    t[_j] = arguments[_j];
                                }
                                if (!t.length || !function (t) { return t.every(function (t) { return "string" == typeof t; }); }(t))
                                    throw new Gn.b("ui-viewcollection-delegate-wrong-events: All event names must be strings.", this);
                                return { to: function (e) {
                                        var e_465, _j, e_466, _q;
                                        try {
                                            for (var _z = __values(_this), _0 = _z.next(); !_0.done; _0 = _z.next()) {
                                                var n_185 = _0.value;
                                                try {
                                                    for (var t_233 = __values(t), t_233_1 = t_233.next(); !t_233_1.done; t_233_1 = t_233.next()) {
                                                        var i_103 = t_233_1.value;
                                                        n_185.delegate(i_103).to(e);
                                                    }
                                                }
                                                catch (e_466_1) { e_466 = { error: e_466_1 }; }
                                                finally {
                                                    try {
                                                        if (t_233_1 && !t_233_1.done && (_q = t_233.return)) _q.call(t_233);
                                                    }
                                                    finally { if (e_466) throw e_466.error; }
                                                }
                                            }
                                        }
                                        catch (e_465_1) { e_465 = { error: e_465_1 }; }
                                        finally {
                                            try {
                                                if (_0 && !_0.done && (_j = _z.return)) _j.call(_z);
                                            }
                                            finally { if (e_465) throw e_465.error; }
                                        }
                                        _this.on("add", function (n, i) {
                                            var e_467, _j;
                                            try {
                                                for (var t_234 = __values(t), t_234_1 = t_234.next(); !t_234_1.done; t_234_1 = t_234.next()) {
                                                    var n_186 = t_234_1.value;
                                                    i.delegate(n_186).to(e);
                                                }
                                            }
                                            catch (e_467_1) { e_467 = { error: e_467_1 }; }
                                            finally {
                                                try {
                                                    if (t_234_1 && !t_234_1.done && (_j = t_234.return)) _j.call(t_234);
                                                }
                                                finally { if (e_467) throw e_467.error; }
                                            }
                                        }), _this.on("remove", function (n, i) {
                                            var e_468, _j;
                                            try {
                                                for (var t_235 = __values(t), t_235_1 = t_235.next(); !t_235_1.done; t_235_1 = t_235.next()) {
                                                    var n_187 = t_235_1.value;
                                                    i.stopDelegating(n_187, e);
                                                }
                                            }
                                            catch (e_468_1) { e_468 = { error: e_468_1 }; }
                                            finally {
                                                try {
                                                    if (t_235_1 && !t_235_1.done && (_j = t_235.return)) _j.call(t_235);
                                                }
                                                finally { if (e_468) throw e_468.error; }
                                            }
                                        });
                                    } };
                            };
                            return kl;
                        }(ro));
                        var wl = "http://www.w3.org/1999/xhtml";
                        var vl = /** @class */ (function () {
                            function vl(t) {
                                Object.assign(this, Il(Pl(t))), this._isRendered = !1, this._revertData = null;
                            }
                            vl.prototype.render = function () { var t = this._renderNode({ intoFragment: !0 }); return this._isRendered = !0, t; };
                            vl.prototype.apply = function (t) { return this._revertData = { children: [], bindings: [], attributes: {} }, this._renderNode({ node: t, isApplying: !0, revertData: this._revertData }), t; };
                            vl.prototype.revert = function (t) { if (!this._revertData)
                                throw new Gn.b("ui-template-revert-not-applied: Attempting to revert a template which has not been applied yet.", [this, t]); this._revertTemplateFromNode(t, this._revertData); };
                            vl.prototype.getViews = function () { return __generator(this, function (_j) {
                                switch (_j.label) {
                                    case 0: return [5 /*yield**/, __values(function t(e) {
                                            var e_469, _j, _q, _z, n_188, _0, _1, e_469_1;
                                            return __generator(this, function (_2) {
                                                switch (_2.label) {
                                                    case 0:
                                                        if (!e.children) return [3 /*break*/, 12];
                                                        _2.label = 1;
                                                    case 1:
                                                        _2.trys.push([1, 10, 11, 12]);
                                                        _q = __values(e.children), _z = _q.next();
                                                        _2.label = 2;
                                                    case 2:
                                                        if (!!_z.done) return [3 /*break*/, 9];
                                                        n_188 = _z.value;
                                                        if (!Dl(n_188)) return [3 /*break*/, 4];
                                                        return [4 /*yield*/, n_188];
                                                    case 3:
                                                        _0 = _2.sent();
                                                        return [3 /*break*/, 7];
                                                    case 4:
                                                        _1 = jl(n_188);
                                                        if (!_1) return [3 /*break*/, 6];
                                                        return [5 /*yield**/, __values(t(n_188))];
                                                    case 5:
                                                        _1 = (_2.sent());
                                                        _2.label = 6;
                                                    case 6:
                                                        _0 = _1;
                                                        _2.label = 7;
                                                    case 7:
                                                        _0;
                                                        _2.label = 8;
                                                    case 8:
                                                        _z = _q.next();
                                                        return [3 /*break*/, 2];
                                                    case 9: return [3 /*break*/, 12];
                                                    case 10:
                                                        e_469_1 = _2.sent();
                                                        e_469 = { error: e_469_1 };
                                                        return [3 /*break*/, 12];
                                                    case 11:
                                                        try {
                                                            if (_z && !_z.done && (_j = _q.return)) _j.call(_q);
                                                        }
                                                        finally { if (e_469) throw e_469.error; }
                                                        return [7 /*endfinally*/];
                                                    case 12: return [2 /*return*/];
                                                }
                                            });
                                        }(this))];
                                    case 1:
                                        _j.sent();
                                        return [2 /*return*/];
                                }
                            }); };
                            vl.bind = function (t, e) { return { to: function (n, i) { return new _l({ eventNameOrFunction: n, attribute: n, observable: t, emitter: e, callback: i }); }, if: function (n, i, o) { return new Cl({ observable: t, emitter: e, attribute: n, valueIfTrue: i, callback: o }); } }; };
                            vl.extend = function (t, e) { if (t._isRendered)
                                throw new Gn.b("template-extend-render: Attempting to extend a template which has already been rendered.", [this, t]); !function t(e, n) {
                                var _j, e_470, _q;
                                n.attributes && (e.attributes || (e.attributes = {}), Ol(e.attributes, n.attributes));
                                n.eventListeners && (e.eventListeners || (e.eventListeners = {}), Ol(e.eventListeners, n.eventListeners));
                                n.text && (_j = e.text).push.apply(_j, __spread(n.text));
                                if (n.children && n.children.length) {
                                    if (e.children.length != n.children.length)
                                        throw new Gn.b("ui-template-extend-children-mismatch: The number of children in extended definition does not match.", e);
                                    var i_104 = 0;
                                    try {
                                        for (var _z = __values(n.children), _0 = _z.next(); !_0.done; _0 = _z.next()) {
                                            var o_62 = _0.value;
                                            t(e.children[i_104++], o_62);
                                        }
                                    }
                                    catch (e_470_1) { e_470 = { error: e_470_1 }; }
                                    finally {
                                        try {
                                            if (_0 && !_0.done && (_q = _z.return)) _q.call(_z);
                                        }
                                        finally { if (e_470) throw e_470.error; }
                                    }
                                }
                            }(t, Il(Pl(e))); };
                            vl.prototype._renderNode = function (t) { var e; if (e = t.node ? this.tag && this.text : this.tag ? this.text : !this.text)
                                throw new Gn.b('ui-template-wrong-syntax: Node definition must have either "tag" or "text" when rendering a new Node.', this); return this.text ? this._renderText(t) : this._renderElement(t); };
                            vl.prototype._renderElement = function (t) { var e = t.node; return e || (e = t.node = document.createElementNS(this.ns || wl, this.tag)), this._renderAttributes(t), this._renderElementChildren(t), this._setUpListeners(t), e; };
                            vl.prototype._renderText = function (t) { var e = t.node; return e ? t.revertData.text = e.textContent : e = t.node = document.createTextNode(""), Tl(this.text) ? this._bindToObservable({ schema: this.text, updater: function (t) { return { set: function (e) { t.textContent = e; }, remove: function () { t.textContent = ""; } }; }(e), data: t }) : e.textContent = this.text.join(""), e; };
                            vl.prototype._renderAttributes = function (t) { var e, n, i, o; if (!this.attributes)
                                return; var r = t.node, s = t.revertData; for (e in this.attributes)
                                if (i = r.getAttribute(e), n = this.attributes[e], s && (s.attributes[e] = i), o = z(n[0]) && n[0].ns ? n[0].ns : null, Tl(n)) {
                                    var a_10 = o ? n[0].value : n;
                                    s && Ll(e) && a_10.unshift(i), this._bindToObservable({ schema: a_10, updater: Sl(r, e, o), data: t });
                                }
                                else
                                    "style" == e && "string" != typeof n[0] ? this._renderStyleAttribute(n[0], t) : (s && i && Ll(e) && n.unshift(i), Rl(n = n.map(function (t) { return t && t.value || t; }).reduce(function (t, e) { return t.concat(e); }, []).reduce(Ml, "")) || r.setAttributeNS(o, e, n)); };
                            vl.prototype._renderStyleAttribute = function (t, e) { var n = e.node; for (var i_105 in t) {
                                var o_63 = t[i_105];
                                Tl(o_63) ? this._bindToObservable({ schema: [o_63], updater: El(n, i_105), data: e }) : n.style[i_105] = o_63;
                            } };
                            vl.prototype._renderElementChildren = function (t) {
                                var e_471, _j, e_472, _q;
                                var e = t.node, n = t.intoFragment ? document.createDocumentFragment() : e, i = t.isApplying;
                                var o = 0;
                                try {
                                    for (var _z = __values(this.children), _0 = _z.next(); !_0.done; _0 = _z.next()) {
                                        var r_27 = _0.value;
                                        if (Bl(r_27)) {
                                            if (!i) {
                                                r_27.setParent(e);
                                                try {
                                                    for (var r_26 = __values(r_27), r_26_1 = r_26.next(); !r_26_1.done; r_26_1 = r_26.next()) {
                                                        var t_236 = r_26_1.value;
                                                        n.appendChild(t_236.element);
                                                    }
                                                }
                                                catch (e_472_1) { e_472 = { error: e_472_1 }; }
                                                finally {
                                                    try {
                                                        if (r_26_1 && !r_26_1.done && (_q = r_26.return)) _q.call(r_26);
                                                    }
                                                    finally { if (e_472) throw e_472.error; }
                                                }
                                            }
                                        }
                                        else if (Dl(r_27))
                                            i || (r_27.isRendered || r_27.render(), n.appendChild(r_27.element));
                                        else if (Zo(r_27))
                                            n.appendChild(r_27);
                                        else if (i) {
                                            var e_473 = { children: [], bindings: [], attributes: {} };
                                            t.revertData.children.push(e_473), r_27._renderNode({ node: n.childNodes[o++], isApplying: !0, revertData: e_473 });
                                        }
                                        else
                                            n.appendChild(r_27.render());
                                    }
                                }
                                catch (e_471_1) { e_471 = { error: e_471_1 }; }
                                finally {
                                    try {
                                        if (_0 && !_0.done && (_j = _z.return)) _j.call(_z);
                                    }
                                    finally { if (e_471) throw e_471.error; }
                                }
                                t.intoFragment && e.appendChild(n);
                            };
                            vl.prototype._setUpListeners = function (t) { if (this.eventListeners) {
                                var _loop_4 = function (e_474) {
                                    var n_189 = this_1.eventListeners[e_474].map(function (n) { var _j = __read(e_474.split("@"), 2), i = _j[0], o = _j[1]; return n.activateDomEventListener(i, o, t); });
                                    t.revertData && t.revertData.bindings.push(n_189);
                                };
                                var this_1 = this;
                                for (var e_474 in this.eventListeners) {
                                    _loop_4(e_474);
                                }
                            } };
                            vl.prototype._bindToObservable = function (_j) {
                                var t = _j.schema, e = _j.updater, n = _j.data;
                                var i = n.revertData;
                                Al(t, e, n);
                                var o = t.filter(function (t) { return !Rl(t); }).filter(function (t) { return t.observable; }).map(function (i) { return i.activateAttributeListener(t, e, n); });
                                i && i.bindings.push(o);
                            };
                            vl.prototype._revertTemplateFromNode = function (t, e) {
                                var e_475, _j, e_476, _q;
                                try {
                                    for (var _z = __values(e.bindings), _0 = _z.next(); !_0.done; _0 = _z.next()) {
                                        var t_238 = _0.value;
                                        try {
                                            for (var t_237 = __values(t_238), t_237_1 = t_237.next(); !t_237_1.done; t_237_1 = t_237.next()) {
                                                var e_477 = t_237_1.value;
                                                e_477();
                                            }
                                        }
                                        catch (e_476_1) { e_476 = { error: e_476_1 }; }
                                        finally {
                                            try {
                                                if (t_237_1 && !t_237_1.done && (_q = t_237.return)) _q.call(t_237);
                                            }
                                            finally { if (e_476) throw e_476.error; }
                                        }
                                    }
                                }
                                catch (e_475_1) { e_475 = { error: e_475_1 }; }
                                finally {
                                    try {
                                        if (_0 && !_0.done && (_j = _z.return)) _j.call(_z);
                                    }
                                    finally { if (e_475) throw e_475.error; }
                                }
                                if (e.text)
                                    t.textContent = e.text;
                                else {
                                    for (var n_190 in e.attributes) {
                                        var i_106 = e.attributes[n_190];
                                        null === i_106 ? t.removeAttribute(n_190) : t.setAttribute(n_190, i_106);
                                    }
                                    for (var n_191 = 0; n_191 < e.children.length; ++n_191)
                                        this._revertTemplateFromNode(t.childNodes[n_191], e.children[n_191]);
                                }
                            };
                            return vl;
                        }());
                        li(vl, ni);
                        var yl = /** @class */ (function () {
                            function yl(t) {
                                Object.assign(this, t);
                            }
                            yl.prototype.getValue = function (t) { var e = this.observable[this.attribute]; return this.callback ? this.callback(e, t) : e; };
                            yl.prototype.activateAttributeListener = function (t, e, n) {
                                var _this = this;
                                var i = function () { return Al(t, e, n); };
                                return this.emitter.listenTo(this.observable, "change:" + this.attribute, i), function () { _this.emitter.stopListening(_this.observable, "change:" + _this.attribute, i); };
                            };
                            return yl;
                        }());
                        var _l = /** @class */ (function (_super) {
                            __extends(_l, _super);
                            function _l() {
                                return _super !== null && _super.apply(this, arguments) || this;
                            }
                            _l.prototype.activateDomEventListener = function (t, e, n) {
                                var _this = this;
                                var i = function (t, n) { e && !n.target.matches(e) || ("function" == typeof _this.eventNameOrFunction ? _this.eventNameOrFunction(n) : _this.observable.fire(_this.eventNameOrFunction, n)); };
                                return this.emitter.listenTo(n.node, t, i), function () { _this.emitter.stopListening(n.node, t, i); };
                            };
                            return _l;
                        }(yl));
                        var Cl = /** @class */ (function (_super) {
                            __extends(Cl, _super);
                            function Cl() {
                                return _super !== null && _super.apply(this, arguments) || this;
                            }
                            Cl.prototype.getValue = function (t) { return !Rl(_super.prototype.getValue.call(this, t)) && (this.valueIfTrue || !0); };
                            return Cl;
                        }(yl));
                        function Tl(t) { return !!t && (t.value && (t = t.value), Array.isArray(t) ? t.some(Tl) : t instanceof yl); }
                        function Al(t, e, _j) {
                            var n = _j.node;
                            var i = function (t, e) { return t.map(function (t) { return t instanceof yl ? t.getValue(e) : t; }); }(t, n);
                            Rl(i = 1 == t.length && t[0] instanceof Cl ? i[0] : i.reduce(Ml, "")) ? e.remove() : e.set(i);
                        }
                        function Sl(t, e, n) { return { set: function (i) { t.setAttributeNS(n, e, i); }, remove: function () { t.removeAttributeNS(n, e); } }; }
                        function El(t, e) { return { set: function (n) { t.style[e] = n; }, remove: function () { t.style[e] = null; } }; }
                        function Pl(t) { return Yn(t, function (t) { if (t && (t instanceof yl || jl(t) || Dl(t) || Bl(t)))
                            return t; }); }
                        function Il(t) {
                            var e_478, _j;
                            if ("string" == typeof t ? t = function (t) { return { text: [t] }; }(t) : t.text && function (t) { Array.isArray(t.text) || (t.text = [t.text]); }(t), t.on && (t.eventListeners = function (t) { for (var e_479 in t)
                                Nl(t, e_479); return t; }(t.on), delete t.on), !t.text) {
                                t.attributes && function (t) { for (var e_480 in t)
                                    t[e_480].value && (t[e_480].value = [].concat(t[e_480].value)), Nl(t, e_480); }(t.attributes);
                                var e_481 = [];
                                if (t.children)
                                    if (Bl(t.children))
                                        e_481.push(t.children);
                                    else
                                        try {
                                            for (var _q = __values(t.children), _z = _q.next(); !_z.done; _z = _q.next()) {
                                                var n_192 = _z.value;
                                                jl(n_192) || Dl(n_192) || Zo(n_192) ? e_481.push(n_192) : e_481.push(new vl(n_192));
                                            }
                                        }
                                        catch (e_478_1) { e_478 = { error: e_478_1 }; }
                                        finally {
                                            try {
                                                if (_z && !_z.done && (_j = _q.return)) _j.call(_q);
                                            }
                                            finally { if (e_478) throw e_478.error; }
                                        }
                                t.children = e_481;
                            }
                            return t;
                        }
                        function Nl(t, e) { Array.isArray(t[e]) || (t[e] = [t[e]]); }
                        function Ml(t, e) { return Rl(e) ? t : Rl(t) ? e : t + " " + e; }
                        function Ol(t, e) {
                            var _j;
                            for (var n_193 in e)
                                t[n_193] ? (_j = t[n_193]).push.apply(_j, __spread(e[n_193])) : t[n_193] = e[n_193];
                        }
                        function Rl(t) { return !t && 0 !== t; }
                        function Dl(t) { return t instanceof Vl; }
                        function jl(t) { return t instanceof vl; }
                        function Bl(t) { return t instanceof kl; }
                        function Ll(t) { return "class" == t || "style" == t; }
                        n(128);
                        var Vl = /** @class */ (function () {
                            function Vl(t) {
                                this.element = null, this.isRendered = !1, this.locale = t, this.t = t && t.t, this._viewCollections = new ro, this._unboundChildren = this.createCollection(), this._viewCollections.on("add", function (e, n) { n.locale = t; }), this.decorate("render");
                            }
                            Object.defineProperty(Vl.prototype, "bindTemplate", {
                                get: function () { return this._bindTemplate ? this._bindTemplate : this._bindTemplate = vl.bind(this, this); },
                                enumerable: true,
                                configurable: true
                            });
                            Vl.prototype.createCollection = function () { var t = new kl; return this._viewCollections.add(t), t; };
                            Vl.prototype.registerChild = function (t) {
                                var e_482, _j;
                                xi(t) || (t = [t]);
                                try {
                                    for (var t_239 = __values(t), t_239_1 = t_239.next(); !t_239_1.done; t_239_1 = t_239.next()) {
                                        var e_483 = t_239_1.value;
                                        this._unboundChildren.add(e_483);
                                    }
                                }
                                catch (e_482_1) { e_482 = { error: e_482_1 }; }
                                finally {
                                    try {
                                        if (t_239_1 && !t_239_1.done && (_j = t_239.return)) _j.call(t_239);
                                    }
                                    finally { if (e_482) throw e_482.error; }
                                }
                            };
                            Vl.prototype.deregisterChild = function (t) {
                                var e_484, _j;
                                xi(t) || (t = [t]);
                                try {
                                    for (var t_240 = __values(t), t_240_1 = t_240.next(); !t_240_1.done; t_240_1 = t_240.next()) {
                                        var e_485 = t_240_1.value;
                                        this._unboundChildren.remove(e_485);
                                    }
                                }
                                catch (e_484_1) { e_484 = { error: e_484_1 }; }
                                finally {
                                    try {
                                        if (t_240_1 && !t_240_1.done && (_j = t_240.return)) _j.call(t_240);
                                    }
                                    finally { if (e_484) throw e_484.error; }
                                }
                            };
                            Vl.prototype.setTemplate = function (t) { this.template = new vl(t); };
                            Vl.prototype.extendTemplate = function (t) { vl.extend(this.template, t); };
                            Vl.prototype.render = function () { if (this.isRendered)
                                throw new Gn.b("ui-view-render-already-rendered: This View has already been rendered.", this); this.template && (this.element = this.template.render(), this.registerChild(this.template.getViews())), this.isRendered = !0; };
                            Vl.prototype.destroy = function () { this.stopListening(), this._viewCollections.map(function (t) { return t.destroy(); }), this.template && this.template._revertData && this.template.revert(this.element); };
                            return Vl;
                        }());
                        li(Vl, ur), li(Vl, Ui);
                        n(130);
                        var Fl = /** @class */ (function (_super) {
                            __extends(Fl, _super);
                            function Fl(t) {
                                var _this = this;
                                _this = _super.call(this, t) || this, _this.body = _this.createCollection();
                                return _this;
                            }
                            Fl.prototype.render = function () { _super.prototype.render.call(this), this._renderBodyCollection(); };
                            Fl.prototype.destroy = function () { return this._bodyCollectionContainer.remove(), _super.prototype.destroy.call(this); };
                            Fl.prototype._renderBodyCollection = function () { var t = this.locale, e = this._bodyCollectionContainer = new vl({ tag: "div", attributes: { class: ["ck", "ck-reset_all", "ck-body", "ck-rounded-corners"], dir: t.uiLanguageDirection }, children: this.body }).render(); document.body.appendChild(e); };
                            return Fl;
                        }(Vl));
                        n(132);
                        var zl = /** @class */ (function (_super) {
                            __extends(zl, _super);
                            function zl(t) {
                                var _this = this;
                                _this = _super.call(this, t) || this, _this.set("text"), _this.set("for");
                                var e = _this.bindTemplate;
                                _this.setTemplate({ tag: "label", attributes: { class: ["ck", "ck-label"], for: e.to("for") }, children: [{ text: e.to("text") }] });
                                return _this;
                            }
                            return zl;
                        }(Vl));
                        var Ul = /** @class */ (function (_super) {
                            __extends(Ul, _super);
                            function Ul(t) {
                                var _this = _super.call(this, t) || this;
                                var e = Zn();
                                _this.top = _this.createCollection(), _this.main = _this.createCollection(), _this._voiceLabelView = _this._createVoiceLabel(e), _this.setTemplate({ tag: "div", attributes: { class: ["ck", "ck-reset", "ck-editor", "ck-rounded-corners"], role: "application", dir: t.uiLanguageDirection, lang: t.uiLanguage, "aria-labelledby": "ck-editor__aria-label_" + e }, children: [_this._voiceLabelView, { tag: "div", attributes: { class: ["ck", "ck-editor__top", "ck-reset_all"], role: "presentation" }, children: _this.top }, { tag: "div", attributes: { class: ["ck", "ck-editor__main"], role: "presentation" }, children: _this.main }] });
                                return _this;
                            }
                            Ul.prototype._createVoiceLabel = function (t) { var e = this.t, n = new zl; return n.text = e("cn"), n.extendTemplate({ attributes: { id: "ck-editor__aria-label_" + t, class: "ck-voice-label" } }), n; };
                            return Ul;
                        }(Fl));
                        var Hl = /** @class */ (function (_super) {
                            __extends(Hl, _super);
                            function Hl(t, e, n) {
                                var _this = this;
                                _this = _super.call(this, t) || this, _this.setTemplate({ tag: "div", attributes: { class: ["ck", "ck-content", "ck-editor__editable", "ck-rounded-corners"], lang: t.contentLanguage, dir: t.contentLanguageDirection } }), _this.name = null, _this.set("isFocused", !1), _this._editableElement = n, _this._hasExternalElement = !!_this._editableElement, _this._editingView = e;
                                return _this;
                            }
                            Hl.prototype.render = function () {
                                var _this = this;
                                _super.prototype.render.call(this), this._hasExternalElement ? this.template.apply(this.element = this._editableElement) : this._editableElement = this.element, this.on("change:isFocused", function () { return _this._updateIsFocusedClasses(); }), this._updateIsFocusedClasses();
                            };
                            Hl.prototype.destroy = function () { this._hasExternalElement && this.template.revert(this._editableElement), _super.prototype.destroy.call(this); };
                            Hl.prototype._updateIsFocusedClasses = function () { var t = this._editingView; function e(e) { t.change(function (n) { var i = t.document.getRoot(e.name); n.addClass(e.isFocused ? "ck-focused" : "ck-blurred", i), n.removeClass(e.isFocused ? "ck-blurred" : "ck-focused", i); }); } t.isRenderingInProgress ? function n(i) { t.once("change:isRenderingInProgress", function (t, o, r) { r ? n(i) : e(i); }); }(this) : e(this); };
                            return Hl;
                        }(Vl));
                        var ql = /** @class */ (function (_super) {
                            __extends(ql, _super);
                            function ql(t, e, n) {
                                var _this = this;
                                _this = _super.call(this, t, e, n) || this, _this.extendTemplate({ attributes: { role: "textbox", class: "ck-editor__editable_inline" } });
                                return _this;
                            }
                            ql.prototype.render = function () {
                                var _this = this;
                                _super.prototype.render.call(this);
                                var t = this._editingView, e = this.t;
                                t.change(function (n) { var i = t.document.getRoot(_this.name); n.setAttribute("aria-label", e("df", [_this.name]), i); });
                            };
                            return ql;
                        }(Hl));
                        function Yl(t) { return function (e) { return e + t; }; }
                        n(134);
                        var Wl = Yl("px");
                        var Jl = /** @class */ (function (_super) {
                            __extends(Jl, _super);
                            function Jl(t) {
                                var _this = _super.call(this, t) || this;
                                var e = _this.bindTemplate;
                                _this.set("isActive", !1), _this.set("isSticky", !1), _this.set("limiterElement", null), _this.set("limiterBottomOffset", 50), _this.set("viewportTopOffset", 0), _this.set("_marginLeft", null), _this.set("_isStickyToTheLimiter", !1), _this.set("_hasViewportTopOffset", !1), _this.content = _this.createCollection(), _this._contentPanelPlaceholder = new vl({ tag: "div", attributes: { class: ["ck", "ck-sticky-panel__placeholder"], style: { display: e.to("isSticky", function (t) { return t ? "block" : "none"; }), height: e.to("isSticky", function (t) { return t ? Wl(_this._panelRect.height) : null; }) } } }).render(), _this._contentPanel = new vl({ tag: "div", attributes: { class: ["ck", "ck-sticky-panel__content", e.if("isSticky", "ck-sticky-panel__content_sticky"), e.if("_isStickyToTheLimiter", "ck-sticky-panel__content_sticky_bottom-limit")], style: { width: e.to("isSticky", function (t) { return t ? Wl(_this._contentPanelPlaceholder.getBoundingClientRect().width) : null; }), top: e.to("_hasViewportTopOffset", function (t) { return t ? Wl(_this.viewportTopOffset) : null; }), bottom: e.to("_isStickyToTheLimiter", function (t) { return t ? Wl(_this.limiterBottomOffset) : null; }), marginLeft: e.to("_marginLeft") } }, children: _this.content }).render(), _this.setTemplate({ tag: "div", attributes: { class: ["ck", "ck-sticky-panel"] }, children: [_this._contentPanelPlaceholder, _this._contentPanel] });
                                return _this;
                            }
                            Jl.prototype.render = function () {
                                var _this = this;
                                _super.prototype.render.call(this), this._checkIfShouldBeSticky(), this.listenTo(nr.window, "scroll", function () { _this._checkIfShouldBeSticky(); }), this.listenTo(this, "change:isActive", function () { _this._checkIfShouldBeSticky(); });
                            };
                            Jl.prototype._checkIfShouldBeSticky = function () { var t = this._panelRect = this._contentPanel.getBoundingClientRect(); var e; this.limiterElement ? (e = this._limiterRect = this.limiterElement.getBoundingClientRect(), this.isSticky = this.isActive && e.top < this.viewportTopOffset && this._panelRect.height + this.limiterBottomOffset < e.height) : this.isSticky = !1, this.isSticky ? (this._isStickyToTheLimiter = e.bottom < t.height + this.limiterBottomOffset + this.viewportTopOffset, this._hasViewportTopOffset = !this._isStickyToTheLimiter && !!this.viewportTopOffset, this._marginLeft = this._isStickyToTheLimiter ? null : Wl(-nr.window.scrollX)) : (this._isStickyToTheLimiter = !1, this._hasViewportTopOffset = !1, this._marginLeft = null); };
                            return Jl;
                        }(Vl));
                        var $l = /** @class */ (function () {
                            function $l(t) {
                                var _this = this;
                                if (Object.assign(this, t), t.actions && t.keystrokeHandler) {
                                    var _loop_5 = function (e_487) {
                                        var e_486, _j;
                                        var n_195 = t.actions[e_487];
                                        "string" == typeof n_195 && (n_195 = [n_195]);
                                        try {
                                            for (var n_194 = __values(n_195), n_194_1 = n_194.next(); !n_194_1.done; n_194_1 = n_194.next()) {
                                                var i_107 = n_194_1.value;
                                                t.keystrokeHandler.set(i_107, function (t, n) { _this[e_487](), n(); });
                                            }
                                        }
                                        catch (e_486_1) { e_486 = { error: e_486_1 }; }
                                        finally {
                                            try {
                                                if (n_194_1 && !n_194_1.done && (_j = n_194.return)) _j.call(n_194);
                                            }
                                            finally { if (e_486) throw e_486.error; }
                                        }
                                    };
                                    for (var e_487 in t.actions) {
                                        _loop_5(e_487);
                                    }
                                }
                            }
                            Object.defineProperty($l.prototype, "first", {
                                get: function () { return this.focusables.find(Gl) || null; },
                                enumerable: true,
                                configurable: true
                            });
                            Object.defineProperty($l.prototype, "last", {
                                get: function () { return this.focusables.filter(Gl).slice(-1)[0] || null; },
                                enumerable: true,
                                configurable: true
                            });
                            Object.defineProperty($l.prototype, "next", {
                                get: function () { return this._getFocusableItem(1); },
                                enumerable: true,
                                configurable: true
                            });
                            Object.defineProperty($l.prototype, "previous", {
                                get: function () { return this._getFocusableItem(-1); },
                                enumerable: true,
                                configurable: true
                            });
                            Object.defineProperty($l.prototype, "current", {
                                get: function () {
                                    var _this = this;
                                    var t = null;
                                    return null === this.focusTracker.focusedElement ? null : (this.focusables.find(function (e, n) { var i = e.element === _this.focusTracker.focusedElement; return i && (t = n), i; }), t);
                                },
                                enumerable: true,
                                configurable: true
                            });
                            $l.prototype.focusFirst = function () { this._focus(this.first); };
                            $l.prototype.focusLast = function () { this._focus(this.last); };
                            $l.prototype.focusNext = function () { this._focus(this.next); };
                            $l.prototype.focusPrevious = function () { this._focus(this.previous); };
                            $l.prototype._focus = function (t) { t && t.focus(); };
                            $l.prototype._getFocusableItem = function (t) { var e = this.current, n = this.focusables.length; if (!n)
                                return null; if (null === e)
                                return this[1 === t ? "first" : "last"]; var i = (e + n + t) % n; do {
                                var e_488 = this.focusables.get(i);
                                if (Gl(e_488))
                                    return e_488;
                                i = (i + n + t) % n;
                            } while (i !== e); return null; };
                            return $l;
                        }());
                        function Gl(t) { return !(!t.focus || "none" == nr.window.getComputedStyle(t.element).display); }
                        var Kl = /** @class */ (function (_super) {
                            __extends(Kl, _super);
                            function Kl(t) {
                                var _this = this;
                                _this = _super.call(this, t) || this, _this.setTemplate({ tag: "span", attributes: { class: ["ck", "ck-toolbar__separator"] } });
                                return _this;
                            }
                            return Kl;
                        }(Vl));
                        var Ql = 100;
                        var Zl = /** @class */ (function () {
                            function Zl(t) {
                                this._callback = t, this._elements = new Set, this._previousRects = new Map, this._periodicCheckTimeout = null;
                            }
                            Zl.prototype.observe = function (t) { this._elements.add(t), 1 === this._elements.size && this._startPeriodicCheck(); };
                            Zl.prototype.unobserve = function (t) { this._elements.delete(t), this._previousRects.delete(t), this._elements.size || this._stopPeriodicCheck(); };
                            Zl.prototype.disconnect = function () {
                                var _this = this;
                                this._elements.forEach(function (t) { return _this.unobserve(t); });
                            };
                            Zl.prototype._startPeriodicCheck = function () {
                                var _this = this;
                                var t = function () { _this._checkElementRectsAndExecuteCallback(), _this._periodicCheckTimeout = setTimeout(t, Ql); };
                                this.listenTo(nr.window, "resize", function () { _this._checkElementRectsAndExecuteCallback(); }), t();
                            };
                            Zl.prototype._stopPeriodicCheck = function () { clearTimeout(this._periodicCheckTimeout), this.stopListening(), this._previousRects.clear(); };
                            Zl.prototype._checkElementRectsAndExecuteCallback = function () {
                                var e_489, _j;
                                var t = [];
                                try {
                                    for (var _q = __values(this._elements), _z = _q.next(); !_z.done; _z = _q.next()) {
                                        var e_490 = _z.value;
                                        this._hasRectChanged(e_490) && t.push({ target: e_490, contentRect: this._previousRects.get(e_490) });
                                    }
                                }
                                catch (e_489_1) { e_489 = { error: e_489_1 }; }
                                finally {
                                    try {
                                        if (_z && !_z.done && (_j = _q.return)) _j.call(_q);
                                    }
                                    finally { if (e_489) throw e_489.error; }
                                }
                                t.length && this._callback(t);
                            };
                            Zl.prototype._hasRectChanged = function (t) { if (!t.ownerDocument.body.contains(t))
                                return !1; var e = new As(t), n = this._previousRects.get(t), i = !n || !n.isEqual(e); return this._previousRects.set(t, e), i; };
                            return Zl;
                        }());
                        li(Zl, ur);
                        var Xl = /** @class */ (function (_super) {
                            __extends(Xl, _super);
                            function Xl(t) {
                                var _this = _super.call(this, t) || this;
                                var e = _this.bindTemplate;
                                _this.set("isVisible", !1), _this.set("position", "se"), _this.children = _this.createCollection(), _this.setTemplate({ tag: "div", attributes: { class: ["ck", "ck-reset", "ck-dropdown__panel", e.to("position", function (t) { return "ck-dropdown__panel_" + t; }), e.if("isVisible", "ck-dropdown__panel-visible")] }, children: _this.children, on: { selectstart: e.to(function (t) { return t.preventDefault(); }) } });
                                return _this;
                            }
                            Xl.prototype.focus = function () { this.children.length && this.children.first.focus(); };
                            Xl.prototype.focusLast = function () { if (this.children.length) {
                                var t_241 = this.children.last;
                                "function" == typeof t_241.focusLast ? t_241.focusLast() : t_241.focus();
                            } };
                            return Xl;
                        }(Vl));
                        n(136);
                        function td(t) { for (; t && "html" != t.tagName.toLowerCase();) {
                            if ("static" != nr.window.getComputedStyle(t).position)
                                return t;
                            t = t.parentElement;
                        } return null; }
                        function ed(_j) {
                            var _q, _z;
                            var t = _j.element, e = _j.target, n = _j.positions, i = _j.limiter, o = _j.fitInViewport;
                            W(e) && (e = e()), W(i) && (i = i());
                            var r = td(t.parentElement), s = new As(t), a = new As(e);
                            var c, l;
                            if (i || o) {
                                var t_242 = i && new As(i).getVisible(), e_491 = o && new As(nr.window);
                                _q = __read(function (t, e, n, i, o) { var r, s, a = 0, c = 0; var l = n.getArea(); return t.some(function (t) { var _j = __read(nd(t, e, n), 2), d = _j[0], u = _j[1]; var h, f; if (i)
                                    if (o) {
                                        var t_243 = i.getIntersection(o);
                                        h = t_243 ? t_243.getIntersectionArea(u) : 0;
                                    }
                                    else
                                        h = i.getIntersectionArea(u); function p() { c = f, a = h, r = u, s = d; } return o && (f = o.getIntersectionArea(u)), o && !i ? f > c && p() : !o && i ? h > a && p() : f > c && h >= a ? p() : f >= c && h > a && p(), h === l; }), r ? [s, r] : null; }(n, a, s, t_242, e_491) || nd(n[0], a, s), 2), l = _q[0], c = _q[1];
                            }
                            else
                                _z = __read(nd(n[0], a, s), 2), l = _z[0], c = _z[1];
                            var _0 = id(c), d = _0.left, u = _0.top;
                            if (r) {
                                var t_244 = id(new As(r)), e_492 = Cs(r);
                                d -= t_244.left, u -= t_244.top, d += r.scrollLeft, u += r.scrollTop, d -= e_492.left, u -= e_492.top;
                            }
                            return { left: d, top: u, name: l };
                        }
                        function nd(t, e, n) { var _j = t(e, n), i = _j.left, o = _j.top, r = _j.name; return [r, n.clone().moveTo(i, o)]; }
                        function id(_j) {
                            var t = _j.left, e = _j.top;
                            var _q = nr.window, n = _q.scrollX, i = _q.scrollY;
                            return { left: t + n, top: e + i };
                        }
                        var od = /** @class */ (function (_super) {
                            __extends(od, _super);
                            function od(t, e, n) {
                                var _this = _super.call(this, t) || this;
                                var i = _this.bindTemplate;
                                _this.buttonView = e, _this.panelView = n, _this.set("isOpen", !1), _this.set("isEnabled", !0), _this.set("class"), _this.set("panelPosition", "auto"), _this.focusTracker = new dl, _this.keystrokes = new el, _this.setTemplate({ tag: "div", attributes: { class: ["ck", "ck-dropdown", i.to("class"), i.if("isEnabled", "ck-disabled", function (t) { return !t; })] }, children: [e, n] }), e.extendTemplate({ attributes: { class: ["ck-dropdown__button"] } });
                                return _this;
                            }
                            od.prototype.render = function () {
                                var _this = this;
                                _super.prototype.render.call(this), this.listenTo(this.buttonView, "open", function () { _this.isOpen = !_this.isOpen; }), this.panelView.bind("isVisible").to(this, "isOpen"), this.on("change:isOpen", function () { _this.isOpen && ("auto" === _this.panelPosition ? _this.panelView.position = od._getOptimalPosition({ element: _this.panelView.element, target: _this.buttonView.element, fitInViewport: !0, positions: _this._panelPositions }).name : _this.panelView.position = _this.panelPosition); }), this.keystrokes.listenTo(this.element), this.focusTracker.add(this.element);
                                var t = function (t, e) { _this.isOpen && (_this.buttonView.focus(), _this.isOpen = !1, e()); };
                                this.keystrokes.set("arrowdown", function (t, e) { _this.buttonView.isEnabled && !_this.isOpen && (_this.isOpen = !0, e()); }), this.keystrokes.set("arrowright", function (t, e) { _this.isOpen && e(); }), this.keystrokes.set("arrowleft", t), this.keystrokes.set("esc", t);
                            };
                            od.prototype.focus = function () { this.buttonView.focus(); };
                            Object.defineProperty(od.prototype, "_panelPositions", {
                                get: function () { var _j = od.defaultPanelPositions, t = _j.southEast, e = _j.southWest, n = _j.northEast, i = _j.northWest; return "ltr" === this.locale.uiLanguageDirection ? [t, e, n, i] : [e, t, i, n]; },
                                enumerable: true,
                                configurable: true
                            });
                            return od;
                        }(Vl));
                        od.defaultPanelPositions = { southEast: function (t) { return ({ top: t.bottom, left: t.left, name: "se" }); }, southWest: function (t, e) { return ({ top: t.bottom, left: t.left - e.width + t.width, name: "sw" }); }, northEast: function (t, e) { return ({ top: t.top - e.height, left: t.left, name: "ne" }); }, northWest: function (t, e) { return ({ top: t.bottom - e.height, left: t.left - e.width + t.width, name: "nw" }); } }, od._getOptimalPosition = ed;
                        n(138);
                        var rd = /** @class */ (function (_super) {
                            __extends(rd, _super);
                            function rd() {
                                var _this = _super.call(this) || this;
                                var t = _this.bindTemplate;
                                _this.set("content", ""), _this.set("viewBox", "0 0 20 20"), _this.set("fillColor", ""), _this.setTemplate({ tag: "svg", ns: "http://www.w3.org/2000/svg", attributes: { class: ["ck", "ck-icon"], viewBox: t.to("viewBox") } });
                                return _this;
                            }
                            rd.prototype.render = function () {
                                var _this = this;
                                _super.prototype.render.call(this), this._updateXMLContent(), this._colorFillPaths(), this.on("change:content", function () { _this._updateXMLContent(), _this._colorFillPaths(); }), this.on("change:fillColor", function () { _this._colorFillPaths(); });
                            };
                            rd.prototype._updateXMLContent = function () { if (this.content) {
                                var t_245 = (new DOMParser).parseFromString(this.content.trim(), "image/svg+xml").querySelector("svg"), e_493 = t_245.getAttribute("viewBox");
                                for (e_493 && (this.viewBox = e_493), this.element.innerHTML = ""; t_245.childNodes.length > 0;)
                                    this.element.appendChild(t_245.childNodes[0]);
                            } };
                            rd.prototype._colorFillPaths = function () {
                                var _this = this;
                                this.fillColor && this.element.querySelectorAll(".ck-icon__fill").forEach(function (t) { t.style.fill = _this.fillColor; });
                            };
                            return rd;
                        }(Vl));
                        n(140);
                        var sd = /** @class */ (function (_super) {
                            __extends(sd, _super);
                            function sd(t) {
                                var _this = this;
                                _this = _super.call(this, t) || this, _this.set("text", ""), _this.set("position", "s");
                                var e = _this.bindTemplate;
                                _this.setTemplate({ tag: "span", attributes: { class: ["ck", "ck-tooltip", e.to("position", function (t) { return "ck-tooltip_" + t; }), e.if("text", "ck-hidden", function (t) { return !t.trim(); })] }, children: [{ tag: "span", attributes: { class: ["ck", "ck-tooltip__text"] }, children: [{ text: e.to("text") }] }] });
                                return _this;
                            }
                            return sd;
                        }(Vl));
                        n(142);
                        var ad = /** @class */ (function (_super) {
                            __extends(ad, _super);
                            function ad(t) {
                                var _this = _super.call(this, t) || this;
                                var e = _this.bindTemplate, n = Zn();
                                _this.set("class"), _this.set("labelStyle"), _this.set("icon"), _this.set("isEnabled", !0), _this.set("isOn", !1), _this.set("isVisible", !0), _this.set("isToggleable", !1), _this.set("keystroke"), _this.set("label"), _this.set("tabindex", -1), _this.set("tooltip"), _this.set("tooltipPosition", "s"), _this.set("type", "button"), _this.set("withText", !1), _this.set("withKeystroke", !1), _this.children = _this.createCollection(), _this.tooltipView = _this._createTooltipView(), _this.labelView = _this._createLabelView(n), _this.iconView = new rd, _this.iconView.extendTemplate({ attributes: { class: "ck-button__icon" } }), _this.keystrokeView = _this._createKeystrokeView(), _this.bind("_tooltipString").to(_this, "tooltip", _this, "label", _this, "keystroke", _this._getTooltipString.bind(_this)), _this.setTemplate({ tag: "button", attributes: { class: ["ck", "ck-button", e.to("class"), e.if("isEnabled", "ck-disabled", function (t) { return !t; }), e.if("isVisible", "ck-hidden", function (t) { return !t; }), e.to("isOn", function (t) { return t ? "ck-on" : "ck-off"; }), e.if("withText", "ck-button_with-text"), e.if("withKeystroke", "ck-button_with-keystroke")], type: e.to("type", function (t) { return t || "button"; }), tabindex: e.to("tabindex"), "aria-labelledby": "ck-editor__aria-label_" + n, "aria-disabled": e.if("isEnabled", !0, function (t) { return !t; }), "aria-pressed": e.to("isOn", function (t) { return !!_this.isToggleable && String(t); }) }, children: _this.children, on: { mousedown: e.to(function (t) { t.preventDefault(); }), click: e.to(function (t) { _this.isEnabled ? _this.fire("execute") : t.preventDefault(); }) } });
                                return _this;
                            }
                            ad.prototype.render = function () { _super.prototype.render.call(this), this.icon && (this.iconView.bind("content").to(this, "icon"), this.children.add(this.iconView)), this.children.add(this.tooltipView), this.children.add(this.labelView), this.withKeystroke && this.children.add(this.keystrokeView); };
                            ad.prototype.focus = function () { this.element.focus(); };
                            ad.prototype._createTooltipView = function () { var t = new sd; return t.bind("text").to(this, "_tooltipString"), t.bind("position").to(this, "tooltipPosition"), t; };
                            ad.prototype._createLabelView = function (t) { var e = new Vl, n = this.bindTemplate; return e.setTemplate({ tag: "span", attributes: { class: ["ck", "ck-button__label"], style: n.to("labelStyle"), id: "ck-editor__aria-label_" + t }, children: [{ text: this.bindTemplate.to("label") }] }), e; };
                            ad.prototype._createKeystrokeView = function () { var t = new Vl; return t.setTemplate({ tag: "span", attributes: { class: ["ck", "ck-button__keystroke"] }, children: [{ text: this.bindTemplate.to("keystroke", function (t) { return vo(t); }) }] }), t; };
                            ad.prototype._getTooltipString = function (t, e, n) { return t ? "string" == typeof t ? t : (n && (n = vo(n)), t instanceof Function ? t(e, n) : "" + e + (n ? " (" + n + ")" : "")) : ""; };
                            return ad;
                        }(Vl));
                        var cd = n(27), ld = n.n(cd);
                        var dd = /** @class */ (function (_super) {
                            __extends(dd, _super);
                            function dd(t) {
                                var _this = this;
                                _this = _super.call(this, t) || this, _this.arrowView = _this._createArrowView(), _this.extendTemplate({ attributes: { "aria-haspopup": !0 } }), _this.delegate("execute").to(_this, "open");
                                return _this;
                            }
                            dd.prototype.render = function () { _super.prototype.render.call(this), this.children.add(this.arrowView); };
                            dd.prototype._createArrowView = function () { var t = new rd; return t.content = ld.a, t.extendTemplate({ attributes: { class: "ck-dropdown__arrow" } }), t; };
                            return dd;
                        }(ad));
                        n(144);
                        var ud = /** @class */ (function (_super) {
                            __extends(ud, _super);
                            function ud() {
                                var _this = this;
                                _this = _super.call(this) || this, _this.items = _this.createCollection(), _this.focusTracker = new dl, _this.keystrokes = new el, _this._focusCycler = new $l({ focusables: _this.items, focusTracker: _this.focusTracker, keystrokeHandler: _this.keystrokes, actions: { focusPrevious: "arrowup", focusNext: "arrowdown" } }), _this.setTemplate({ tag: "ul", attributes: { class: ["ck", "ck-reset", "ck-list"] }, children: _this.items });
                                return _this;
                            }
                            ud.prototype.render = function () {
                                var _this = this;
                                var e_494, _j;
                                _super.prototype.render.call(this);
                                try {
                                    for (var _q = __values(this.items), _z = _q.next(); !_z.done; _z = _q.next()) {
                                        var t_246 = _z.value;
                                        this.focusTracker.add(t_246.element);
                                    }
                                }
                                catch (e_494_1) { e_494 = { error: e_494_1 }; }
                                finally {
                                    try {
                                        if (_z && !_z.done && (_j = _q.return)) _j.call(_q);
                                    }
                                    finally { if (e_494) throw e_494.error; }
                                }
                                this.items.on("add", function (t, e) { _this.focusTracker.add(e.element); }), this.items.on("remove", function (t, e) { _this.focusTracker.remove(e.element); }), this.keystrokes.listenTo(this.element);
                            };
                            ud.prototype.focus = function () { this._focusCycler.focusFirst(); };
                            ud.prototype.focusLast = function () { this._focusCycler.focusLast(); };
                            return ud;
                        }(Vl));
                        var hd = /** @class */ (function (_super) {
                            __extends(hd, _super);
                            function hd(t) {
                                var _this = this;
                                _this = _super.call(this, t) || this, _this.children = _this.createCollection(), _this.setTemplate({ tag: "li", attributes: { class: ["ck", "ck-list__item"] }, children: _this.children });
                                return _this;
                            }
                            hd.prototype.focus = function () { this.children.first.focus(); };
                            return hd;
                        }(Vl));
                        var fd = /** @class */ (function (_super) {
                            __extends(fd, _super);
                            function fd(t) {
                                var _this = this;
                                _this = _super.call(this, t) || this, _this.setTemplate({ tag: "li", attributes: { class: ["ck", "ck-list__separator"] } });
                                return _this;
                            }
                            return fd;
                        }(Vl));
                        n(146);
                        var pd = /** @class */ (function (_super) {
                            __extends(pd, _super);
                            function pd(t) {
                                var _this = this;
                                _this = _super.call(this, t) || this, _this.isToggleable = !0, _this.toggleSwitchView = _this._createToggleView(), _this.extendTemplate({ attributes: { class: "ck-switchbutton" } });
                                return _this;
                            }
                            pd.prototype.render = function () { _super.prototype.render.call(this), this.children.add(this.toggleSwitchView); };
                            pd.prototype._createToggleView = function () { var t = new Vl; return t.setTemplate({ tag: "span", attributes: { class: ["ck", "ck-button__toggle"] }, children: [{ tag: "span", attributes: { class: ["ck", "ck-button__toggle__inner"] } }] }), t; };
                            return pd;
                        }(ad));
                        function md(_j) {
                            var t = _j.emitter, e = _j.activator, n = _j.callback, i = _j.contextElements;
                            t.listenTo(document, "mousedown", function (t, _j) {
                                var e_495, _q;
                                var o = _j.target;
                                if (e()) {
                                    try {
                                        for (var i_108 = __values(i), i_108_1 = i_108.next(); !i_108_1.done; i_108_1 = i_108.next()) {
                                            var t_247 = i_108_1.value;
                                            if (t_247.contains(o))
                                                return;
                                        }
                                    }
                                    catch (e_495_1) { e_495 = { error: e_495_1 }; }
                                    finally {
                                        try {
                                            if (i_108_1 && !i_108_1.done && (_q = i_108.return)) _q.call(i_108);
                                        }
                                        finally { if (e_495) throw e_495.error; }
                                    }
                                    n();
                                }
                            });
                        }
                        n(148), n(150);
                        function gd(t, e) {
                            if (e === void 0) { e = dd; }
                            var n = new e(t), i = new Xl(t), o = new od(t, n, i);
                            return n.bind("isEnabled").to(o), n instanceof dd ? n.bind("isOn").to(o, "isOpen") : n.arrowView.bind("isOn").to(o, "isOpen"), function (t) { (function (t) { t.on("render", function () { md({ emitter: t, activator: function () { return t.isOpen; }, callback: function () { t.isOpen = !1; }, contextElements: [t.element] }); }); })(t), function (t) { t.on("execute", function (e) { e.source instanceof pd || (t.isOpen = !1); }); }(t), function (t) { t.keystrokes.set("arrowdown", function (e, n) { t.isOpen && (t.panelView.focus(), n()); }), t.keystrokes.set("arrowup", function (e, n) { t.isOpen && (t.panelView.focusLast(), n()); }); }(t); }(o), o;
                        }
                        function xd(t, e) { var n = t.locale, i = n.t, o = t.toolbarView = new vd(n); o.set("ariaLabel", i("cm")), t.extendTemplate({ attributes: { class: ["ck-toolbar-dropdown"] } }), e.map(function (t) { return o.items.add(t); }), t.panelView.children.add(o), o.items.delegate("execute").to(t); }
                        function bd(t, e) { var n = t.locale, i = t.listView = new ud(n); i.items.bindTo(e).using(function (_j) {
                            var _q;
                            var t = _j.type, e = _j.model;
                            if ("separator" === t)
                                return new fd(n);
                            if ("button" === t || "switchbutton" === t) {
                                var i_109 = new hd(n);
                                var o_64;
                                return (_q = (o_64 = "button" === t ? new ad(n) : new pd(n))).bind.apply(_q, __spread(Object.keys(e))).to(e), o_64.delegate("execute").to(i_109), i_109.children.add(o_64), i_109;
                            }
                        }), t.panelView.children.add(i), i.items.delegate("execute").to(t); }
                        var kd = n(86), wd = n.n(kd);
                        n(152);
                        var vd = /** @class */ (function (_super) {
                            __extends(vd, _super);
                            function vd(t, e) {
                                var _this = _super.call(this, t) || this;
                                var n = _this.bindTemplate, i = _this.t;
                                _this.options = e || {}, _this.set("ariaLabel", i("db")), _this.items = _this.createCollection(), _this.focusTracker = new dl, _this.keystrokes = new el, _this.set("class"), _this.itemsView = new yd(t), _this.children = _this.createCollection(), _this.children.add(_this.itemsView), _this.focusables = _this.createCollection(), _this._focusCycler = new $l({ focusables: _this.focusables, focusTracker: _this.focusTracker, keystrokeHandler: _this.keystrokes, actions: { focusPrevious: ["arrowleft", "arrowup"], focusNext: ["arrowright", "arrowdown"] } }), _this.setTemplate({ tag: "div", attributes: { class: ["ck", "ck-toolbar", n.to("class")], role: "toolbar", "aria-label": n.to("ariaLabel") }, children: _this.children, on: { mousedown: function (t) { return t.bindTemplate.to(function (e) { e.target === t.element && e.preventDefault(); }); }(_this) } }), _this._behavior = _this.options.shouldGroupWhenFull ? new Cd(_this) : new _d(_this);
                                return _this;
                            }
                            vd.prototype.render = function () {
                                var _this = this;
                                var e_496, _j;
                                _super.prototype.render.call(this);
                                try {
                                    for (var _q = __values(this.items), _z = _q.next(); !_z.done; _z = _q.next()) {
                                        var t_248 = _z.value;
                                        this.focusTracker.add(t_248.element);
                                    }
                                }
                                catch (e_496_1) { e_496 = { error: e_496_1 }; }
                                finally {
                                    try {
                                        if (_z && !_z.done && (_j = _q.return)) _j.call(_q);
                                    }
                                    finally { if (e_496) throw e_496.error; }
                                }
                                this.items.on("add", function (t, e) { _this.focusTracker.add(e.element); }), this.items.on("remove", function (t, e) { _this.focusTracker.remove(e.element); }), this.keystrokes.listenTo(this.element), this._behavior.render(this);
                            };
                            vd.prototype.destroy = function () { return this._behavior.destroy(), _super.prototype.destroy.call(this); };
                            vd.prototype.focus = function () { this._focusCycler.focusFirst(); };
                            vd.prototype.focusLast = function () { this._focusCycler.focusLast(); };
                            vd.prototype.fillFromConfig = function (t, e) {
                                var _this = this;
                                t.map(function (t) { "|" == t ? _this.items.add(new Kl) : e.has(t) ? _this.items.add(e.create(t)) : console.warn(Object(Gn.a)("toolbarview-item-unavailable: The requested toolbar item is unavailable."), { name: t }); });
                            };
                            return vd;
                        }(Vl));
                        var yd = /** @class */ (function (_super) {
                            __extends(yd, _super);
                            function yd(t) {
                                var _this = this;
                                _this = _super.call(this, t) || this, _this.children = _this.createCollection(), _this.setTemplate({ tag: "div", attributes: { class: ["ck", "ck-toolbar__items"] }, children: _this.children });
                                return _this;
                            }
                            return yd;
                        }(Vl));
                        var _d = /** @class */ (function () {
                            function _d(t) {
                                var e = t.bindTemplate;
                                t.set("isVertical", !1), t.itemsView.children.bindTo(t.items).using(function (t) { return t; }), t.focusables.bindTo(t.items).using(function (t) { return t; }), t.extendTemplate({ attributes: { class: [e.if("isVertical", "ck-toolbar_vertical")] } });
                            }
                            _d.prototype.render = function () { };
                            _d.prototype.destroy = function () { };
                            return _d;
                        }());
                        var Cd = /** @class */ (function () {
                            function Cd(t) {
                                var _this = this;
                                this.viewChildren = t.children, this.viewFocusables = t.focusables, this.viewItemsView = t.itemsView, this.viewFocusTracker = t.focusTracker, this.viewLocale = t.locale, this.ungroupedItems = t.createCollection(), this.groupedItems = t.createCollection(), this.groupedItemsDropdown = this._createGroupedItemsDropdown(), this.resizeObserver = null, this.cachedPadding = null, t.itemsView.children.bindTo(this.ungroupedItems).using(function (t) { return t; }), this.ungroupedItems.on("add", this._updateFocusCycleableItems.bind(this)), this.ungroupedItems.on("remove", this._updateFocusCycleableItems.bind(this)), t.children.on("add", this._updateFocusCycleableItems.bind(this)), t.children.on("remove", this._updateFocusCycleableItems.bind(this)), t.items.on("add", function (t, e, n) { n > _this.ungroupedItems.length ? _this.groupedItems.add(e, n - _this.ungroupedItems.length) : _this.ungroupedItems.add(e, n), _this._updateGrouping(); }), t.items.on("remove", function (t, e, n) { n > _this.ungroupedItems.length ? _this.groupedItems.remove(e) : _this.ungroupedItems.remove(e), _this._updateGrouping(); }), t.extendTemplate({ attributes: { class: ["ck-toolbar_grouping"] } });
                            }
                            Cd.prototype.render = function (t) { this.viewElement = t.element, this._enableGroupingOnResize(); };
                            Cd.prototype.destroy = function () { this.groupedItemsDropdown.destroy(), this.resizeObserver.disconnect(); };
                            Cd.prototype._updateGrouping = function () { if (!this.viewElement.ownerDocument.body.contains(this.viewElement))
                                return; var t; for (; this._areItemsOverflowing;)
                                this._groupLastItem(), t = !0; if (!t && this.groupedItems.length) {
                                for (; this.groupedItems.length && !this._areItemsOverflowing;)
                                    this._ungroupFirstItem();
                                this._areItemsOverflowing && this._groupLastItem();
                            } };
                            Object.defineProperty(Cd.prototype, "_areItemsOverflowing", {
                                get: function () { if (!this.ungroupedItems.length)
                                    return !1; var t = this.viewElement, e = this.viewLocale.uiLanguageDirection, n = new As(t.lastChild), i = new As(t); if (!this.cachedPadding) {
                                    var n_196 = nr.window.getComputedStyle(t), i_110 = "ltr" === e ? "paddingRight" : "paddingLeft";
                                    this.cachedPadding = Number.parseInt(n_196[i_110]);
                                } return "ltr" === e ? n.right > i.right - this.cachedPadding : n.left < i.left + this.cachedPadding; },
                                enumerable: true,
                                configurable: true
                            });
                            Cd.prototype._enableGroupingOnResize = function () {
                                var _this = this;
                                var t;
                                this.resizeObserver = function (t) { return "function" == typeof nr.window.ResizeObserver ? new nr.window.ResizeObserver(t) : new Zl(t); }(function (_j) {
                                    var _q = __read(_j, 1), e = _q[0];
                                    t && t === e.contentRect.width || (_this._updateGrouping(), t = e.contentRect.width);
                                }), this.resizeObserver.observe(this.viewElement), this._updateGrouping();
                            };
                            Cd.prototype._groupLastItem = function () { this.groupedItems.length || (this.viewChildren.add(new Kl), this.viewChildren.add(this.groupedItemsDropdown), this.viewFocusTracker.add(this.groupedItemsDropdown.element)), this.groupedItems.add(this.ungroupedItems.remove(this.ungroupedItems.last), 0); };
                            Cd.prototype._ungroupFirstItem = function () { this.ungroupedItems.add(this.groupedItems.remove(this.groupedItems.first)), this.groupedItems.length || (this.viewChildren.remove(this.groupedItemsDropdown), this.viewChildren.remove(this.viewChildren.last), this.viewFocusTracker.remove(this.groupedItemsDropdown.element)); };
                            Cd.prototype._createGroupedItemsDropdown = function () { var t = this.viewLocale, e = t.t, n = gd(t); return n.class = "ck-toolbar__grouped-dropdown", n.panelPosition = "ltr" === t.uiLanguageDirection ? "sw" : "se", xd(n, []), n.buttonView.set({ label: e("dc"), tooltip: !0, icon: wd.a }), n.toolbarView.items.bindTo(this.groupedItems).using(function (t) { return t; }), n; };
                            Cd.prototype._updateFocusCycleableItems = function () {
                                var _this = this;
                                this.viewFocusables.clear(), this.ungroupedItems.map(function (t) { _this.viewFocusables.add(t); }), this.groupedItems.length && this.viewFocusables.add(this.groupedItemsDropdown);
                            };
                            return Cd;
                        }());
                        n(154);
                        var Td = /** @class */ (function (_super) {
                            __extends(Td, _super);
                            function Td(t, e, n) {
                                if (n === void 0) { n = {}; }
                                var _this = this;
                                _this = _super.call(this, t) || this, _this.stickyPanel = new Jl(t), _this.toolbar = new vd(t, { shouldGroupWhenFull: n.shouldToolbarGroupWhenFull }), _this.editable = new ql(t, e);
                                return _this;
                            }
                            Td.prototype.render = function () { _super.prototype.render.call(this), this.stickyPanel.content.add(this.toolbar), this.top.add(this.stickyPanel), this.main.add(this.editable); };
                            return Td;
                        }(Ul));
                        var Ad = /** @class */ (function (_super) {
                            __extends(Ad, _super);
                            function Ad(t, e) {
                                var _this = this;
                                _this = _super.call(this, e) || this, Wn(t) && (_this.sourceElement = t), _this.data.processor = new al, _this.model.document.createRoot();
                                var n = !_this.config.get("toolbar.shouldNotGroupWhenFull"), i = new Td(_this.locale, _this.editing.view, { shouldToolbarGroupWhenFull: n });
                                _this.ui = new bl(_this, i), function (t) { if (!W(t.updateSourceElement))
                                    throw new Gn.b("attachtoform-missing-elementapi-interface: Editor passed to attachToForm() must implement ElementApi.", t); var e = t.sourceElement; if (e && "textarea" === e.tagName.toLowerCase() && e.form) {
                                    var n_197;
                                    var i_111 = e.form, o_65 = function () { return t.updateSourceElement(); };
                                    W(i_111.submit) && (n_197 = i_111.submit, i_111.submit = (function () { o_65(), n_197.apply(i_111); })), i_111.addEventListener("submit", o_65), t.on("destroy", function () { i_111.removeEventListener("submit", o_65), n_197 && (i_111.submit = n_197); });
                                } }(_this);
                                return _this;
                            }
                            Ad.prototype.destroy = function () { return this.sourceElement && this.updateSourceElement(), this.ui.destroy(), _super.prototype.destroy.call(this); };
                            Ad.create = function (t, e) {
                                var _this = this;
                                if (e === void 0) { e = {}; }
                                return new Promise(function (n) { var i = new _this(t, e); n(i.initPlugins().then(function () { return i.ui.init(Wn(t) ? t : null); }).then(function () { if (!Wn(t) && e.initialData)
                                    throw new Gn.b("editor-create-initial-data: The config.initialData option cannot be used together with initial data passed in Editor.create().", null); var n = e.initialData || function (t) { return Wn(t) ? function (t) { return t instanceof HTMLTextAreaElement ? t.value : t.innerHTML; }(t) : t; }(t); return i.data.init(n); }).then(function () { return i.fire("ready"); }).then(function () { return i; })); });
                            };
                            return Ad;
                        }(il));
                        li(Ad, ol), li(Ad, rl);
                        var Sd = /** @class */ (function () {
                            function Sd(t) {
                                this.editor = t;
                            }
                            Sd.prototype.destroy = function () { this.stopListening(); };
                            return Sd;
                        }());
                        li(Sd, Ui);
                        var Ed = /** @class */ (function () {
                            function Ed(t) {
                                this.files = function (t) { var e = t.files ? Array.from(t.files) : [], n = t.items ? Array.from(t.items) : []; if (e.length)
                                    return e; return n.filter(function (t) { return "file" === t.kind; }).map(function (t) { return t.getAsFile(); }); }(t), this._native = t;
                            }
                            Object.defineProperty(Ed.prototype, "types", {
                                get: function () { return this._native.types; },
                                enumerable: true,
                                configurable: true
                            });
                            Ed.prototype.getData = function (t) { return this._native.getData(t); };
                            Ed.prototype.setData = function (t, e) { this._native.setData(t, e); };
                            return Ed;
                        }());
                        var Pd = /** @class */ (function (_super) {
                            __extends(Pd, _super);
                            function Pd(t) {
                                var _this = _super.call(this, t) || this;
                                var e = _this.document;
                                function n(t, n) { n.preventDefault(); var i = n.dropRange ? [n.dropRange] : Array.from(e.selection.getRanges()), o = new Qn(e, "clipboardInput"); e.fire(o, { dataTransfer: n.dataTransfer, targetRanges: i }), o.stop.called && n.stopPropagation(); }
                                _this.domEventType = ["paste", "copy", "cut", "drop", "dragover"], _this.listenTo(e, "paste", n, { priority: "low" }), _this.listenTo(e, "drop", n, { priority: "low" });
                                return _this;
                            }
                            Pd.prototype.onDomEvent = function (t) { var e = { dataTransfer: new Ed(t.clipboardData ? t.clipboardData : t.dataTransfer) }; "drop" == t.type && (e.dropRange = function (t, e) { var n = e.target.ownerDocument, i = e.clientX, o = e.clientY; var r; n.caretRangeFromPoint && n.caretRangeFromPoint(i, o) ? r = n.caretRangeFromPoint(i, o) : e.rangeParent && ((r = n.createRange()).setStart(e.rangeParent, e.rangeOffset), r.collapse(!0)); return r ? t.domConverter.domRangeToView(r) : t.document.selection.getFirstRange(); }(this.view, t)), this.fire(t.type, t, e); };
                            return Pd;
                        }(ns));
                        var Id = ["figcaption", "li"];
                        var Nd = /** @class */ (function (_super) {
                            __extends(Nd, _super);
                            function Nd() {
                                return _super !== null && _super.apply(this, arguments) || this;
                            }
                            Object.defineProperty(Nd, "pluginName", {
                                get: function () { return "Clipboard"; },
                                enumerable: true,
                                configurable: true
                            });
                            Nd.prototype.init = function () {
                                var _this = this;
                                var t = this.editor, e = t.model.document, n = t.editing.view, i = n.document;
                                function o(n, o) { var r = o.dataTransfer; o.preventDefault(); var s = t.data.toView(t.model.getSelectedContent(e.selection)); i.fire("clipboardOutput", { dataTransfer: r, content: s, method: n.name }); }
                                this._htmlDataProcessor = new al, n.addObserver(Pd), this.listenTo(i, "clipboardInput", function (e) { t.isReadOnly && e.stop(); }, { priority: "highest" }), this.listenTo(i, "clipboardInput", function (t, e) { var i = e.dataTransfer; var o = ""; i.getData("text/html") ? o = function (t) { return t.replace(/<span(?: class="Apple-converted-space"|)>(\s+)<\/span>/g, function (t, e) { return 1 == e.length ? " " : e; }); }(i.getData("text/html")) : i.getData("text/plain") && (o = function (t) { return (t = t.replace(/</g, "&lt;").replace(/>/g, "&gt;").replace(/\n/g, "</p><p>").replace(/^\s/, "&nbsp;").replace(/\s$/, "&nbsp;").replace(/\s\s/g, " &nbsp;")).indexOf("</p><p>") > -1 && (t = "<p>" + t + "</p>"), t; }(i.getData("text/plain"))), o = _this._htmlDataProcessor.toView(o), _this.fire("inputTransformation", { content: o, dataTransfer: i }), n.scrollToTheSelection(); }, { priority: "low" }), this.listenTo(this, "inputTransformation", function (t, e) { if (!e.content.isEmpty) {
                                    var t_249 = _this.editor.data, n_198 = _this.editor.model, i_112 = t_249.toModel(e.content, "$clipboardHolder");
                                    if (0 == i_112.childCount)
                                        return;
                                    n_198.insertContent(i_112);
                                } }, { priority: "low" }), this.listenTo(i, "copy", o, { priority: "low" }), this.listenTo(i, "cut", function (e, n) { t.isReadOnly ? n.preventDefault() : o(e, n); }, { priority: "low" }), this.listenTo(i, "clipboardOutput", function (n, i) { i.content.isEmpty || (i.dataTransfer.setData("text/html", _this._htmlDataProcessor.toData(i.content)), i.dataTransfer.setData("text/plain", function t(e) {
                                    var e_497, _j;
                                    var n = "";
                                    if (e.is("text") || e.is("textProxy"))
                                        n = e.data;
                                    else if (e.is("img") && e.hasAttribute("alt"))
                                        n = e.getAttribute("alt");
                                    else {
                                        var i_113 = null;
                                        try {
                                            for (var _q = __values(e.getChildren()), _z = _q.next(); !_z.done; _z = _q.next()) {
                                                var o_66 = _z.value;
                                                var e_498 = t(o_66);
                                                i_113 && (i_113.is("containerElement") || o_66.is("containerElement")) && (Id.includes(i_113.name) || Id.includes(o_66.name) ? n += "\n" : n += "\n\n"), n += e_498, i_113 = o_66;
                                            }
                                        }
                                        catch (e_497_1) { e_497 = { error: e_497_1 }; }
                                        finally {
                                            try {
                                                if (_z && !_z.done && (_j = _q.return)) _j.call(_q);
                                            }
                                            finally { if (e_497) throw e_497.error; }
                                        }
                                    }
                                    return n;
                                }(i.content))), "cut" == i.method && t.model.deleteContent(e.selection); }, { priority: "low" });
                            };
                            return Nd;
                        }(Sd));
                        var Md = /** @class */ (function () {
                            function Md(t) {
                                var _this = this;
                                this.editor = t, this.set("value", void 0), this.set("isEnabled", !1), this._disableStack = new Set, this.decorate("execute"), this.listenTo(this.editor.model.document, "change", function () { _this.refresh(); }), this.on("execute", function (t) { _this.isEnabled || t.stop(); }, { priority: "high" }), this.listenTo(t, "change:isReadOnly", function (t, e, n) { n ? _this.forceDisabled("readOnlyMode") : _this.clearForceDisabled("readOnlyMode"); });
                            }
                            Md.prototype.refresh = function () { this.isEnabled = !0; };
                            Md.prototype.forceDisabled = function (t) { this._disableStack.add(t), 1 == this._disableStack.size && (this.on("set:isEnabled", Od, { priority: "highest" }), this.isEnabled = !1); };
                            Md.prototype.clearForceDisabled = function (t) { this._disableStack.delete(t), 0 == this._disableStack.size && (this.off("set:isEnabled", Od), this.refresh()); };
                            Md.prototype.execute = function () { };
                            Md.prototype.destroy = function () { this.stopListening(); };
                            return Md;
                        }());
                        function Od(t) { t.return = !1, t.stop(); }
                        function Rd(t, e) {
                            var e_499, _j, e_500, e_500_1, n_199, _q, e_499_1;
                            return __generator(this, function (_z) {
                                switch (_z.label) {
                                    case 0:
                                        _z.trys.push([0, 6, 7, 8]);
                                        e_500 = __values(e), e_500_1 = e_500.next();
                                        _z.label = 1;
                                    case 1:
                                        if (!!e_500_1.done) return [3 /*break*/, 5];
                                        n_199 = e_500_1.value;
                                        _q = n_199 && t.getAttributeProperties(n_199[0]).copyOnEnter;
                                        if (!_q) return [3 /*break*/, 3];
                                        return [4 /*yield*/, n_199];
                                    case 2:
                                        _q = (_z.sent());
                                        _z.label = 3;
                                    case 3:
                                        _q;
                                        _z.label = 4;
                                    case 4:
                                        e_500_1 = e_500.next();
                                        return [3 /*break*/, 1];
                                    case 5: return [3 /*break*/, 8];
                                    case 6:
                                        e_499_1 = _z.sent();
                                        e_499 = { error: e_499_1 };
                                        return [3 /*break*/, 8];
                                    case 7:
                                        try {
                                            if (e_500_1 && !e_500_1.done && (_j = e_500.return)) _j.call(e_500);
                                        }
                                        finally { if (e_499) throw e_499.error; }
                                        return [7 /*endfinally*/];
                                    case 8: return [2 /*return*/];
                                }
                            });
                        }
                        li(Md, Ui);
                        var Dd = /** @class */ (function (_super) {
                            __extends(Dd, _super);
                            function Dd() {
                                return _super !== null && _super.apply(this, arguments) || this;
                            }
                            Dd.prototype.execute = function () {
                                var _this = this;
                                var t = this.editor.model, e = t.document;
                                t.change(function (n) { !function (t, e, n, i) { var o = n.isCollapsed, r = n.getFirstRange(), s = r.start.parent, a = r.end.parent; if (i.isLimit(s) || i.isLimit(a))
                                    return void (o || s != a || t.deleteContent(n)); if (o) {
                                    var t_250 = Rd(e.model.schema, n.getAttributes());
                                    jd(e, r.start), e.setSelectionAttribute(t_250);
                                }
                                else {
                                    var i_114 = !(r.start.isAtStart && r.end.isAtEnd), o_67 = s == a;
                                    t.deleteContent(n, { leaveUnmerged: i_114 }), i_114 && (o_67 ? jd(e, n.focus) : e.setSelection(a, 0));
                                } }(_this.editor.model, n, e.selection, t.schema), _this.fire("afterExecute", { writer: n }); });
                            };
                            return Dd;
                        }(Md));
                        function jd(t, e) { t.split(e), t.setSelection(e.parent.nextSibling, 0); }
                        var Bd = /** @class */ (function (_super) {
                            __extends(Bd, _super);
                            function Bd(t) {
                                var _this = _super.call(this, t) || this;
                                var e = _this.document;
                                e.on("keydown", function (t, n) { if (_this.isEnabled && n.keyCode == bo.enter) {
                                    var i_115;
                                    e.once("enter", function (t) { return i_115 = t; }, { priority: "highest" }), e.fire("enter", new es(e, n.domEvent, { isSoft: n.shiftKey })), i_115 && i_115.stop.called && t.stop();
                                } });
                                return _this;
                            }
                            Bd.prototype.observe = function () { };
                            return Bd;
                        }(pr));
                        var Ld = /** @class */ (function (_super) {
                            __extends(Ld, _super);
                            function Ld() {
                                return _super !== null && _super.apply(this, arguments) || this;
                            }
                            Object.defineProperty(Ld, "pluginName", {
                                get: function () { return "Enter"; },
                                enumerable: true,
                                configurable: true
                            });
                            Ld.prototype.init = function () { var t = this.editor, e = t.editing.view, n = e.document; e.addObserver(Bd), t.commands.add("enter", new Dd(t)), this.listenTo(n, "enter", function (n, i) { i.preventDefault(), i.isSoft || (t.execute("enter"), e.scrollToTheSelection()); }, { priority: "low" }); };
                            return Ld;
                        }(Sd));
                        var Vd = /** @class */ (function (_super) {
                            __extends(Vd, _super);
                            function Vd() {
                                return _super !== null && _super.apply(this, arguments) || this;
                            }
                            Vd.prototype.execute = function () {
                                var _this = this;
                                var t = this.editor.model, e = t.document;
                                t.change(function (n) { !function (t, e, n) { var i = n.isCollapsed, o = n.getFirstRange(), r = o.start.parent, s = o.end.parent, a = r == s; if (i) {
                                    var i_116 = Rd(t.schema, n.getAttributes());
                                    Fd(e, o.end), e.removeSelectionAttribute(n.getAttributeKeys()), e.setSelectionAttribute(i_116);
                                }
                                else {
                                    var i_117 = !(o.start.isAtStart && o.end.isAtEnd);
                                    t.deleteContent(n, { leaveUnmerged: i_117 }), a ? Fd(e, n.focus) : i_117 && e.setSelection(s, 0);
                                } }(t, n, e.selection), _this.fire("afterExecute", { writer: n }); });
                            };
                            Vd.prototype.refresh = function () { var t = this.editor.model, e = t.document; this.isEnabled = function (t, e) { if (e.rangeCount > 1)
                                return !1; var n = e.anchor; if (!n || !t.checkChild(n, "softBreak"))
                                return !1; var i = e.getFirstRange(), o = i.start.parent, r = i.end.parent; if ((zd(o, t) || zd(r, t)) && o !== r)
                                return !1; return !0; }(t.schema, e.selection); };
                            return Vd;
                        }(Md));
                        function Fd(t, e) { var n = t.createElement("softBreak"); t.insert(n, e), t.setSelection(n, "after"); }
                        function zd(t, e) { return !t.is("rootElement") && (e.isLimit(t) || zd(t.parent, e)); }
                        var Ud = /** @class */ (function (_super) {
                            __extends(Ud, _super);
                            function Ud() {
                                return _super !== null && _super.apply(this, arguments) || this;
                            }
                            Object.defineProperty(Ud, "pluginName", {
                                get: function () { return "ShiftEnter"; },
                                enumerable: true,
                                configurable: true
                            });
                            Ud.prototype.init = function () { var t = this.editor, e = t.model.schema, n = t.conversion, i = t.editing.view, o = i.document; e.register("softBreak", { allowWhere: "$text", isInline: !0 }), n.for("upcast").elementToElement({ model: "softBreak", view: "br" }), n.for("downcast").elementToElement({ model: "softBreak", view: function (t, e) { return e.createEmptyElement("br"); } }), i.addObserver(Bd), t.commands.add("shiftEnter", new Vd(t)), this.listenTo(o, "enter", function (e, n) { n.preventDefault(), n.isSoft && (t.execute("shiftEnter"), i.scrollToTheSelection()); }, { priority: "low" }); };
                            return Ud;
                        }(Sd));
                        var Hd = /** @class */ (function () {
                            function Hd(t, e) {
                                var _this = this;
                                if (e === void 0) { e = 20; }
                                this.model = t, this.size = 0, this.limit = e, this.isLocked = !1, this._changeCallback = (function (t, e) { "transparent" != e.type && e !== _this._batch && _this._reset(!0); }), this._selectionChangeCallback = (function () { _this._reset(); }), this.model.document.on("change", this._changeCallback), this.model.document.selection.on("change:range", this._selectionChangeCallback), this.model.document.selection.on("change:attribute", this._selectionChangeCallback);
                            }
                            Object.defineProperty(Hd.prototype, "batch", {
                                get: function () { return this._batch || (this._batch = this.model.createBatch()), this._batch; },
                                enumerable: true,
                                configurable: true
                            });
                            Hd.prototype.input = function (t) { this.size += t, this.size >= this.limit && this._reset(!0); };
                            Hd.prototype.lock = function () { this.isLocked = !0; };
                            Hd.prototype.unlock = function () { this.isLocked = !1; };
                            Hd.prototype.destroy = function () { this.model.document.off("change", this._changeCallback), this.model.document.selection.off("change:range", this._selectionChangeCallback), this.model.document.selection.off("change:attribute", this._selectionChangeCallback); };
                            Hd.prototype._reset = function (t) { this.isLocked && !t || (this._batch = null, this.size = 0); };
                            return Hd;
                        }());
                        var qd = /** @class */ (function (_super) {
                            __extends(qd, _super);
                            function qd(t, e) {
                                var _this = this;
                                _this = _super.call(this, t) || this, _this._buffer = new Hd(t.model, e), _this._batches = new WeakSet;
                                return _this;
                            }
                            Object.defineProperty(qd.prototype, "buffer", {
                                get: function () { return this._buffer; },
                                enumerable: true,
                                configurable: true
                            });
                            qd.prototype.destroy = function () { _super.prototype.destroy.call(this), this._buffer.destroy(); };
                            qd.prototype.execute = function (t) {
                                var _this = this;
                                if (t === void 0) { t = {}; }
                                var e = this.editor.model, n = e.document, i = t.text || "", o = i.length, r = t.range || n.selection.getFirstRange(), s = t.resultRange;
                                e.enqueueChange(this._buffer.batch, function (t) { var a = r.isCollapsed; _this._buffer.lock(), e.deleteContent(e.createSelection(r)), i && e.insertContent(t.createText(i, n.selection.getAttributes()), r.start), s ? t.setSelection(s) : a && t.setSelection(r.start.getShiftedBy(o)), _this._buffer.unlock(), _this._buffer.input(o), _this._batches.add(_this._buffer.batch); });
                            };
                            return qd;
                        }(Md));
                        function Yd(t) { var e = null; var n = t.model, i = t.editing.view, o = t.commands.get("input"); function r(t) { var r = n.document, a = i.document.isComposing, c = e && e.isEqual(r.selection); e = null, o.isEnabled && (function (t) { if (t.ctrlKey)
                            return !0; return Wd.includes(t.keyCode); }(t) || r.selection.isCollapsed || a && 229 === t.keyCode || !a && 229 === t.keyCode && c || s()); } function s() { var t = o.buffer; t.lock(), n.enqueueChange(t.batch, function () { n.deleteContent(n.document.selection); }), t.unlock(); } mo.isAndroid ? i.document.on("beforeinput", function (t, e) { return r(e); }, { priority: "lowest" }) : i.document.on("keydown", function (t, e) { return r(e); }, { priority: "lowest" }), i.document.on("compositionstart", function () { var t = n.document, e = 1 !== t.selection.rangeCount || t.selection.getFirstRange().isFlat; if (t.selection.isCollapsed || e)
                            return; s(); }, { priority: "lowest" }), i.document.on("compositionend", function () { e = n.createSelection(n.document.selection); }, { priority: "lowest" }); }
                        var Wd = [ko("arrowUp"), ko("arrowRight"), ko("arrowDown"), ko("arrowLeft"), 9, 16, 17, 18, 19, 20, 27, 33, 34, 35, 36, 45, 91, 93, 144, 145, 173, 174, 175, 176, 177, 178, 179, 255];
                        for (var t_251 = 112; t_251 <= 135; t_251++)
                            Wd.push(t_251);
                        function Jd(t) { if (t.newChildren.length - t.oldChildren.length != 1)
                            return; var e = function (t, e) { var n = []; var i, o = 0; return t.forEach(function (t) { "equal" == t ? (r(), o++) : "insert" == t ? (s("insert") ? i.values.push(e[o]) : (r(), i = { type: "insert", index: o, values: [e[o]] }), o++) : s("delete") ? i.howMany++ : (r(), i = { type: "delete", index: o, howMany: 1 }); }), r(), n; function r() { i && (n.push(i), i = null); } function s(t) { return i && i.type == t; } }(Go(t.oldChildren, t.newChildren, $d), t.newChildren); if (e.length > 1)
                            return; var n = e[0]; return n.values[0] && n.values[0].is("text") ? n : void 0; }
                        function $d(t, e) { return t && t.is("text") && e && e.is("text") ? t.data === e.data : t === e; }
                        var Gd = /** @class */ (function () {
                            function Gd(t) {
                                this.editor = t, this.editing = this.editor.editing;
                            }
                            Gd.prototype.handle = function (t, e) {
                                var e_501, _j;
                                if (function (t) {
                                    var e_502, _j;
                                    if (0 == t.length)
                                        return !1;
                                    try {
                                        for (var t_253 = __values(t), t_253_1 = t_253.next(); !t_253_1.done; t_253_1 = t_253.next()) {
                                            var e_503 = t_253_1.value;
                                            if ("children" === e_503.type && !Jd(e_503))
                                                return !0;
                                        }
                                    }
                                    catch (e_502_1) { e_502 = { error: e_502_1 }; }
                                    finally {
                                        try {
                                            if (t_253_1 && !t_253_1.done && (_j = t_253.return)) _j.call(t_253);
                                        }
                                        finally { if (e_502) throw e_502.error; }
                                    }
                                    return !1;
                                }(t))
                                    this._handleContainerChildrenMutations(t, e);
                                else
                                    try {
                                        for (var t_252 = __values(t), t_252_1 = t_252.next(); !t_252_1.done; t_252_1 = t_252.next()) {
                                            var n_200 = t_252_1.value;
                                            this._handleTextMutation(n_200, e), this._handleTextNodeInsertion(n_200);
                                        }
                                    }
                                    catch (e_501_1) { e_501 = { error: e_501_1 }; }
                                    finally {
                                        try {
                                            if (t_252_1 && !t_252_1.done && (_j = t_252.return)) _j.call(t_252);
                                        }
                                        finally { if (e_501) throw e_501.error; }
                                    }
                            };
                            Gd.prototype._handleContainerChildrenMutations = function (t, e) { var n = function (t) { var e = t.map(function (t) { return t.node; }).reduce(function (t, e) { return t.getCommonAncestor(e, { includeSelf: !0 }); }); if (!e)
                                return; return e.getAncestors({ includeSelf: !0, parentFirst: !0 }).find(function (t) { return t.is("containerElement") || t.is("rootElement"); }); }(t); if (!n)
                                return; var i = this.editor.editing.view.domConverter.mapViewToDom(n), o = new sr, r = this.editor.data.toModel(o.domToView(i)).getChild(0), s = this.editor.editing.mapper.toModelElement(n); if (!s)
                                return; var a = Array.from(r.getChildren()), c = Array.from(s.getChildren()), l = a[a.length - 1], d = c[c.length - 1]; l && l.is("softBreak") && d && !d.is("softBreak") && a.pop(); var u = this.editor.model.schema; if (!Kd(a, u) || !Kd(c, u))
                                return; var h = a.map(function (t) { return t.is("text") ? t.data : "@"; }).join("").replace(/\u00A0/g, " "), f = c.map(function (t) { return t.is("text") ? t.data : "@"; }).join("").replace(/\u00A0/g, " "); if (f === h)
                                return; var p = Go(f, h), _j = Qd(p), m = _j.firstChangeAt, g = _j.insertions, x = _j.deletions; var b = null; e && (b = this.editing.mapper.toModelRange(e.getFirstRange())); var k = h.substr(m, g), w = this.editor.model.createRange(this.editor.model.createPositionAt(s, m), this.editor.model.createPositionAt(s, m + x)); this.editor.execute("input", { text: k, range: w, resultRange: b }); };
                            Gd.prototype._handleTextMutation = function (t, e) { if ("text" != t.type)
                                return; var n = t.newText.replace(/\u00A0/g, " "), i = t.oldText.replace(/\u00A0/g, " "); if (i === n)
                                return; var o = Go(i, n), _j = Qd(o), r = _j.firstChangeAt, s = _j.insertions, a = _j.deletions; var c = null; e && (c = this.editing.mapper.toModelRange(e.getFirstRange())); var l = this.editing.view.createPositionAt(t.node, r), d = this.editing.mapper.toModelPosition(l), u = this.editor.model.createRange(d, d.getShiftedBy(a)), h = n.substr(r, s); this.editor.execute("input", { text: h, range: u, resultRange: c }); };
                            Gd.prototype._handleTextNodeInsertion = function (t) { if ("children" != t.type)
                                return; var e = Jd(t), n = this.editing.view.createPositionAt(t.node, e.index), i = this.editing.mapper.toModelPosition(n), o = e.values[0].data; this.editor.execute("input", { text: o.replace(/\u00A0/g, " "), range: this.editor.model.createRange(i) }); };
                            return Gd;
                        }());
                        function Kd(t, e) { return t.every(function (t) { return e.isInline(t); }); }
                        function Qd(t) { var e = null, n = null; for (var i_118 = 0; i_118 < t.length; i_118++) {
                            "equal" != t[i_118] && (e = null === e ? i_118 : e, n = i_118);
                        } var i = 0, o = 0; for (var r_28 = e; r_28 <= n; r_28++)
                            "insert" != t[r_28] && i++, "delete" != t[r_28] && o++; return { insertions: o, deletions: i, firstChangeAt: e }; }
                        var Zd = /** @class */ (function (_super) {
                            __extends(Zd, _super);
                            function Zd() {
                                return _super !== null && _super.apply(this, arguments) || this;
                            }
                            Object.defineProperty(Zd, "pluginName", {
                                get: function () { return "Input"; },
                                enumerable: true,
                                configurable: true
                            });
                            Zd.prototype.init = function () { var t = this.editor, e = new qd(t, t.config.get("typing.undoStep") || 20); t.commands.add("input", e), Yd(t), function (t) { t.editing.view.document.on("mutations", function (e, n, i) { new Gd(t).handle(n, i); }); }(t); };
                            Zd.prototype.isInput = function (t) { return this.editor.commands.get("input")._batches.has(t); };
                            return Zd;
                        }(Sd));
                        var Xd = /** @class */ (function (_super) {
                            __extends(Xd, _super);
                            function Xd(t, e) {
                                var _this = this;
                                _this = _super.call(this, t) || this, _this.direction = e, _this._buffer = new Hd(t.model, t.config.get("typing.undoStep"));
                                return _this;
                            }
                            Object.defineProperty(Xd.prototype, "buffer", {
                                get: function () { return this._buffer; },
                                enumerable: true,
                                configurable: true
                            });
                            Xd.prototype.execute = function (t) {
                                var _this = this;
                                if (t === void 0) { t = {}; }
                                var e = this.editor.model, n = e.document;
                                e.enqueueChange(this._buffer.batch, function (i) { _this._buffer.lock(); var o = i.createSelection(t.selection || n.selection), r = o.isCollapsed; if (o.isCollapsed && e.modifySelection(o, { direction: _this.direction, unit: t.unit }), _this._shouldEntireContentBeReplacedWithParagraph(t.sequence || 1))
                                    return void _this._replaceEntireContentWithParagraph(i); if (o.isCollapsed)
                                    return; var s = 0; o.getFirstRange().getMinimalFlatRanges().forEach(function (t) { s += no(t.getWalker({ singleCharacters: !0, ignoreElementEnd: !0, shallow: !0 })); }), e.deleteContent(o, { doNotResetEntireContent: r }), _this._buffer.input(s), i.setSelection(o), _this._buffer.unlock(); });
                            };
                            Xd.prototype._shouldEntireContentBeReplacedWithParagraph = function (t) { if (t > 1)
                                return !1; var e = this.editor.model, n = e.document.selection, i = e.schema.getLimitElement(n); if (!(n.isCollapsed && n.containsEntireContent(i)))
                                return !1; if (!e.schema.checkChild(i, "paragraph"))
                                return !1; var o = i.getChild(0); return !o || "paragraph" !== o.name; };
                            Xd.prototype._replaceEntireContentWithParagraph = function (t) { var e = this.editor.model, n = e.document.selection, i = e.schema.getLimitElement(n), o = t.createElement("paragraph"); t.remove(t.createRangeIn(i)), t.insert(o, i), t.setSelection(o, 0); };
                            return Xd;
                        }(Md));
                        var tu = /** @class */ (function (_super) {
                            __extends(tu, _super);
                            function tu(t) {
                                var _this = _super.call(this, t) || this;
                                var e = t.document;
                                var n = 0;
                                function i(t, n, i) { var o; e.once("delete", function (t) { return o = t; }, { priority: Number.POSITIVE_INFINITY }), e.fire("delete", new es(e, n, i)), o && o.stop.called && t.stop(); }
                                e.on("keyup", function (t, e) { e.keyCode != bo.delete && e.keyCode != bo.backspace || (n = 0); }), e.on("keydown", function (t, e) { var o = {}; if (e.keyCode == bo.delete)
                                    o.direction = "forward", o.unit = "character";
                                else {
                                    if (e.keyCode != bo.backspace)
                                        return;
                                    o.direction = "backward", o.unit = "codePoint";
                                } var r = mo.isMac ? e.altKey : e.ctrlKey; o.unit = r ? "word" : o.unit, o.sequence = ++n, i(t, e.domEvent, o); }), mo.isAndroid && e.on("beforeinput", function (e, n) { if ("deleteContentBackward" != n.domEvent.inputType)
                                    return; var o = { unit: "codepoint", direction: "backward", sequence: 1 }, r = n.domTarget.ownerDocument.defaultView.getSelection(); r.anchorNode == r.focusNode && r.anchorOffset + 1 != r.focusOffset && (o.selectionToRemove = t.domConverter.domSelectionToView(r)), i(e, n.domEvent, o); });
                                return _this;
                            }
                            tu.prototype.observe = function () { };
                            return tu;
                        }(pr));
                        var eu = /** @class */ (function (_super) {
                            __extends(eu, _super);
                            function eu() {
                                return _super !== null && _super.apply(this, arguments) || this;
                            }
                            Object.defineProperty(eu, "pluginName", {
                                get: function () { return "Delete"; },
                                enumerable: true,
                                configurable: true
                            });
                            eu.prototype.init = function () { var t = this.editor, e = t.editing.view, n = e.document; if (e.addObserver(tu), t.commands.add("forwardDelete", new Xd(t, "forward")), t.commands.add("delete", new Xd(t, "backward")), this.listenTo(n, "delete", function (n, i) {
                                var e_504, _j;
                                var o = { unit: i.unit, sequence: i.sequence };
                                if (i.selectionToRemove) {
                                    var e_505 = t.model.createSelection(), n_201 = [];
                                    try {
                                        for (var _q = __values(i.selectionToRemove.getRanges()), _z = _q.next(); !_z.done; _z = _q.next()) {
                                            var e_506 = _z.value;
                                            n_201.push(t.editing.mapper.toModelRange(e_506));
                                        }
                                    }
                                    catch (e_504_1) { e_504 = { error: e_504_1 }; }
                                    finally {
                                        try {
                                            if (_z && !_z.done && (_j = _q.return)) _j.call(_q);
                                        }
                                        finally { if (e_504) throw e_504.error; }
                                    }
                                    e_505.setTo(n_201), o.selection = e_505;
                                }
                                t.execute("forward" == i.direction ? "forwardDelete" : "delete", o), i.preventDefault(), e.scrollToTheSelection();
                            }), mo.isAndroid) {
                                var t_254 = null;
                                this.listenTo(n, "delete", function (e, n) { var i = n.domTarget.ownerDocument.defaultView.getSelection(); t_254 = { anchorNode: i.anchorNode, anchorOffset: i.anchorOffset, focusNode: i.focusNode, focusOffset: i.focusOffset }; }, { priority: "lowest" }), this.listenTo(n, "keyup", function (e, n) { if (t_254) {
                                    var e_507 = n.domTarget.ownerDocument.defaultView.getSelection();
                                    e_507.collapse(t_254.anchorNode, t_254.anchorOffset), e_507.extend(t_254.focusNode, t_254.focusOffset), t_254 = null;
                                } });
                            } };
                            return eu;
                        }(Sd));
                        var nu = /** @class */ (function (_super) {
                            __extends(nu, _super);
                            function nu() {
                                return _super !== null && _super.apply(this, arguments) || this;
                            }
                            Object.defineProperty(nu, "requires", {
                                get: function () { return [Zd, eu]; },
                                enumerable: true,
                                configurable: true
                            });
                            Object.defineProperty(nu, "pluginName", {
                                get: function () { return "Typing"; },
                                enumerable: true,
                                configurable: true
                            });
                            return nu;
                        }(Sd));
                        var iu = /** @class */ (function (_super) {
                            __extends(iu, _super);
                            function iu() {
                                return _super !== null && _super.apply(this, arguments) || this;
                            }
                            Object.defineProperty(iu.prototype, "type", {
                                get: function () { return "noop"; },
                                enumerable: true,
                                configurable: true
                            });
                            iu.prototype.clone = function () { return new iu(this.baseVersion); };
                            iu.prototype.getReversed = function () { return new iu(this.baseVersion + 1); };
                            iu.prototype._execute = function () { };
                            Object.defineProperty(iu, "className", {
                                get: function () { return "NoOperation"; },
                                enumerable: true,
                                configurable: true
                            });
                            return iu;
                        }(ec));
                        var ou = new Map;
                        function ru(t, e, n) { var i = ou.get(t); i || (i = new Map, ou.set(t, i)), i.set(e, n); }
                        function su(t) { return [t]; }
                        function au(t, e, n) {
                            if (n === void 0) { n = {}; }
                            var i = function (t, e) { var n = ou.get(t); return n && n.has(e) ? n.get(e) : su; }(t.constructor, e.constructor);
                            try {
                                return i(t = t.clone(), e, n);
                            }
                            catch (t) {
                                throw t;
                            }
                        }
                        function cu(t, e, n) {
                            var e_508, _j, e_509, _q;
                            t = t.slice(), e = e.slice();
                            var i = new lu(n.document, n.useRelations, n.forceWeakRemove);
                            i.setOriginalOperations(t), i.setOriginalOperations(e);
                            var o = i.originalOperations;
                            if (0 == t.length || 0 == e.length)
                                return { operationsA: t, operationsB: e, originalOperations: o };
                            var r = new WeakMap;
                            try {
                                for (var t_255 = __values(t), t_255_1 = t_255.next(); !t_255_1.done; t_255_1 = t_255.next()) {
                                    var e_510 = t_255_1.value;
                                    r.set(e_510, 0);
                                }
                            }
                            catch (e_508_1) { e_508 = { error: e_508_1 }; }
                            finally {
                                try {
                                    if (t_255_1 && !t_255_1.done && (_j = t_255.return)) _j.call(t_255);
                                }
                                finally { if (e_508) throw e_508.error; }
                            }
                            var s = { nextBaseVersionA: t[t.length - 1].baseVersion + 1, nextBaseVersionB: e[e.length - 1].baseVersion + 1, originalOperationsACount: t.length, originalOperationsBCount: e.length };
                            var a = 0;
                            for (; a < t.length;) {
                                var n_202 = t[a], o_68 = r.get(n_202);
                                if (o_68 == e.length) {
                                    a++;
                                    continue;
                                }
                                var s_22 = e[o_68], c_8 = au(n_202, s_22, i.getContext(n_202, s_22, !0)), l_1 = au(s_22, n_202, i.getContext(s_22, n_202, !1));
                                i.updateRelation(n_202, s_22), i.setOriginalOperations(c_8, n_202), i.setOriginalOperations(l_1, s_22);
                                try {
                                    for (var c_7 = __values(c_8), c_7_1 = c_7.next(); !c_7_1.done; c_7_1 = c_7.next()) {
                                        var t_256 = c_7_1.value;
                                        r.set(t_256, o_68 + l_1.length);
                                    }
                                }
                                catch (e_509_1) { e_509 = { error: e_509_1 }; }
                                finally {
                                    try {
                                        if (c_7_1 && !c_7_1.done && (_q = c_7.return)) _q.call(c_7);
                                    }
                                    finally { if (e_509) throw e_509.error; }
                                }
                                t.splice.apply(t, __spread([a, 1], c_8)), e.splice.apply(e, __spread([o_68, 1], l_1));
                            }
                            if (n.padWithNoOps) {
                                var n_203 = t.length - s.originalOperationsACount, i_119 = e.length - s.originalOperationsBCount;
                                uu(t, i_119 - n_203), uu(e, n_203 - i_119);
                            }
                            return du(t, s.nextBaseVersionB), du(e, s.nextBaseVersionA), { operationsA: t, operationsB: e, originalOperations: o };
                        }
                        var lu = /** @class */ (function () {
                            function lu(t, e, n) {
                                if (n === void 0) { n = !1; }
                                this.originalOperations = new Map, this._history = t.history, this._useRelations = e, this._forceWeakRemove = !!n, this._relations = new Map;
                            }
                            lu.prototype.setOriginalOperations = function (t, e) {
                                var e_511, _j;
                                if (e === void 0) { e = null; }
                                var n = e ? this.originalOperations.get(e) : null;
                                try {
                                    for (var t_257 = __values(t), t_257_1 = t_257.next(); !t_257_1.done; t_257_1 = t_257.next()) {
                                        var e_512 = t_257_1.value;
                                        this.originalOperations.set(e_512, n || e_512);
                                    }
                                }
                                catch (e_511_1) { e_511 = { error: e_511_1 }; }
                                finally {
                                    try {
                                        if (t_257_1 && !t_257_1.done && (_j = t_257.return)) _j.call(t_257);
                                    }
                                    finally { if (e_511) throw e_511.error; }
                                }
                            };
                            lu.prototype.updateRelation = function (t, e) { switch (t.constructor) {
                                case fc:
                                    switch (e.constructor) {
                                        case bc:
                                            t.targetPosition.isEqual(e.sourcePosition) || e.movedRange.containsPosition(t.targetPosition) ? this._setRelation(t, e, "insertAtSource") : t.targetPosition.isEqual(e.deletionPosition) ? this._setRelation(t, e, "insertBetween") : t.targetPosition.isAfter(e.sourcePosition) && this._setRelation(t, e, "moveTargetAfter");
                                            break;
                                        case fc: t.targetPosition.isEqual(e.sourcePosition) || t.targetPosition.isBefore(e.sourcePosition) ? this._setRelation(t, e, "insertBefore") : this._setRelation(t, e, "insertAfter");
                                    }
                                    break;
                                case kc:
                                    switch (e.constructor) {
                                        case bc:
                                            t.splitPosition.isBefore(e.sourcePosition) && this._setRelation(t, e, "splitBefore");
                                            break;
                                        case fc: (t.splitPosition.isEqual(e.sourcePosition) || t.splitPosition.isBefore(e.sourcePosition)) && this._setRelation(t, e, "splitBefore");
                                    }
                                    break;
                                case bc:
                                    switch (e.constructor) {
                                        case bc:
                                            t.targetPosition.isEqual(e.sourcePosition) || this._setRelation(t, e, "mergeTargetNotMoved"), t.sourcePosition.isEqual(e.targetPosition) && this._setRelation(t, e, "mergeSourceNotMoved"), t.sourcePosition.isEqual(e.sourcePosition) && this._setRelation(t, e, "mergeSameElement");
                                            break;
                                        case kc: t.sourcePosition.isEqual(e.splitPosition) && this._setRelation(t, e, "splitAtSource");
                                    }
                                    break;
                                case mc: {
                                    var n_204 = t.newRange;
                                    if (!n_204)
                                        return;
                                    switch (e.constructor) {
                                        case fc: {
                                            var i_120 = Ks._createFromPositionAndShift(e.sourcePosition, e.howMany), o_69 = i_120.containsPosition(n_204.start) || i_120.start.isEqual(n_204.start), r_29 = i_120.containsPosition(n_204.end) || i_120.end.isEqual(n_204.end);
                                            !o_69 && !r_29 || i_120.containsRange(n_204) || this._setRelation(t, e, { side: o_69 ? "left" : "right", path: o_69 ? n_204.start.path.slice() : n_204.end.path.slice() });
                                            break;
                                        }
                                        case bc: {
                                            var i_121 = n_204.start.isEqual(e.targetPosition), o_70 = n_204.start.isEqual(e.deletionPosition), r_30 = n_204.end.isEqual(e.deletionPosition), s_23 = n_204.end.isEqual(e.sourcePosition);
                                            (i_121 || o_70 || r_30 || s_23) && this._setRelation(t, e, { wasInLeftElement: i_121, wasStartBeforeMergedElement: o_70, wasEndBeforeMergedElement: r_30, wasInRightElement: s_23 });
                                            break;
                                        }
                                    }
                                    break;
                                }
                            } };
                            lu.prototype.getContext = function (t, e, n) { return { aIsStrong: n, aWasUndone: this._wasUndone(t), bWasUndone: this._wasUndone(e), abRelation: this._useRelations ? this._getRelation(t, e) : null, baRelation: this._useRelations ? this._getRelation(e, t) : null, forceWeakRemove: this._forceWeakRemove }; };
                            lu.prototype._wasUndone = function (t) { var e = this.originalOperations.get(t); return e.wasUndone || this._history.isUndoneOperation(e); };
                            lu.prototype._getRelation = function (t, e) { var n = this.originalOperations.get(e), i = this._history.getUndoneOperation(n); if (!i)
                                return null; var o = this.originalOperations.get(t), r = this._relations.get(o); return r && r.get(i) || null; };
                            lu.prototype._setRelation = function (t, e, n) { var i = this.originalOperations.get(t), o = this.originalOperations.get(e); var r = this._relations.get(i); r || (r = new Map, this._relations.set(i, r)), r.set(o, n); };
                            return lu;
                        }());
                        function du(t, e) {
                            var e_513, _j;
                            try {
                                for (var t_258 = __values(t), t_258_1 = t_258.next(); !t_258_1.done; t_258_1 = t_258.next()) {
                                    var n_205 = t_258_1.value;
                                    n_205.baseVersion = e++;
                                }
                            }
                            catch (e_513_1) { e_513 = { error: e_513_1 }; }
                            finally {
                                try {
                                    if (t_258_1 && !t_258_1.done && (_j = t_258.return)) _j.call(t_258);
                                }
                                finally { if (e_513) throw e_513.error; }
                            }
                        }
                        function uu(t, e) { for (var n_206 = 0; n_206 < e; n_206++)
                            t.push(new iu(0)); }
                        function hu(t, e, n) { var i = t.nodes.getNode(0).getAttribute(e); if (i == n)
                            return null; var o = new Ks(t.position, t.position.getShiftedBy(t.howMany)); return new uc(o, e, i, n, 0); }
                        function fu(t, e) { return null === t.targetPosition._getTransformedByDeletion(e.sourcePosition, e.howMany); }
                        function pu(t, e) { var n = []; for (var i_122 = 0; i_122 < t.length; i_122++) {
                            var o_71 = t[i_122], r_31 = new fc(o_71.start, o_71.end.offset - o_71.start.offset, e, 0);
                            n.push(r_31);
                            for (var e_514 = i_122 + 1; e_514 < t.length; e_514++)
                                t[e_514] = t[e_514]._getTransformedByMove(r_31.sourcePosition, r_31.targetPosition, r_31.howMany)[0];
                            e = e._getTransformedByMove(r_31.sourcePosition, r_31.targetPosition, r_31.howMany);
                        } return n; }
                        ru(uc, uc, function (t, e, n) { if (t.key === e.key) {
                            var i_123 = t.range.getDifference(e.range).map(function (e) { return new uc(e, t.key, t.oldValue, t.newValue, 0); }), o_72 = t.range.getIntersection(e.range);
                            return o_72 && n.aIsStrong && i_123.push(new uc(o_72, e.key, e.newValue, t.newValue, 0)), 0 == i_123.length ? [new iu(0)] : i_123;
                        } return [t]; }), ru(uc, pc, function (t, e) { if (t.range.start.hasSameParentAs(e.position) && t.range.containsPosition(e.position)) {
                            var n_207 = t.range._getTransformedByInsertion(e.position, e.howMany, !e.shouldReceiveAttributes).map(function (e) { return new uc(e, t.key, t.oldValue, t.newValue, t.baseVersion); });
                            if (e.shouldReceiveAttributes) {
                                var i_124 = hu(e, t.key, t.oldValue);
                                i_124 && n_207.unshift(i_124);
                            }
                            return n_207;
                        } return t.range = t.range._getTransformedByInsertion(e.position, e.howMany, !1)[0], [t]; }), ru(uc, bc, function (t, e) { var n = []; t.range.start.hasSameParentAs(e.deletionPosition) && (t.range.containsPosition(e.deletionPosition) || t.range.start.isEqual(e.deletionPosition)) && n.push(Ks._createFromPositionAndShift(e.graveyardPosition, 1)); var i = t.range._getTransformedByMergeOperation(e); return i.isCollapsed || n.push(i), n.map(function (e) { return new uc(e, t.key, t.oldValue, t.newValue, t.baseVersion); }); }), ru(uc, fc, function (t, e) { return function (t, e) {
                            var e_515, _j;
                            var n = Ks._createFromPositionAndShift(e.sourcePosition, e.howMany);
                            var i = null, o = [];
                            n.containsRange(t, !0) ? i = t : t.start.hasSameParentAs(n.start) ? (o = t.getDifference(n), i = t.getIntersection(n)) : o = [t];
                            var r = [];
                            try {
                                for (var o_73 = __values(o), o_73_1 = o_73.next(); !o_73_1.done; o_73_1 = o_73.next()) {
                                    var t_259 = o_73_1.value;
                                    t_259 = t_259._getTransformedByDeletion(e.sourcePosition, e.howMany);
                                    var n_208 = e.getMovedRangeStart(), i_125 = t_259.start.hasSameParentAs(n_208);
                                    t_259 = t_259._getTransformedByInsertion(n_208, e.howMany, i_125), r.push.apply(r, __spread(t_259));
                                }
                            }
                            catch (e_515_1) { e_515 = { error: e_515_1 }; }
                            finally {
                                try {
                                    if (o_73_1 && !o_73_1.done && (_j = o_73.return)) _j.call(o_73);
                                }
                                finally { if (e_515) throw e_515.error; }
                            }
                            i && r.push(i._getTransformedByMove(e.sourcePosition, e.targetPosition, e.howMany, !1)[0]);
                            return r;
                        }(t.range, e).map(function (e) { return new uc(e, t.key, t.oldValue, t.newValue, t.baseVersion); }); }), ru(uc, kc, function (t, e) { if (t.range.end.isEqual(e.insertionPosition))
                            return e.graveyardPosition || t.range.end.offset++, [t]; if (t.range.start.hasSameParentAs(e.splitPosition) && t.range.containsPosition(e.splitPosition)) {
                            var n_209 = t.clone();
                            return n_209.range = new Ks(e.moveTargetPosition.clone(), t.range.end._getCombined(e.splitPosition, e.moveTargetPosition)), t.range.end = e.splitPosition.clone(), t.range.end.stickiness = "toPrevious", [t, n_209];
                        } return t.range = t.range._getTransformedBySplitOperation(e), [t]; }), ru(pc, uc, function (t, e) { var n = [t]; if (t.shouldReceiveAttributes && t.position.hasSameParentAs(e.range.start) && e.range.containsPosition(t.position)) {
                            var i_126 = hu(t, e.key, e.newValue);
                            i_126 && n.push(i_126);
                        } return n; }), ru(pc, pc, function (t, e, n) { return t.position.isEqual(e.position) && n.aIsStrong ? [t] : (t.position = t.position._getTransformedByInsertOperation(e), [t]); }), ru(pc, fc, function (t, e) { return (t.position = t.position._getTransformedByMoveOperation(e), [t]); }), ru(pc, kc, function (t, e) { return (t.position = t.position._getTransformedBySplitOperation(e), [t]); }), ru(pc, bc, function (t, e) { return (t.position = t.position._getTransformedByMergeOperation(e), [t]); }), ru(mc, pc, function (t, e) { return (t.oldRange && (t.oldRange = t.oldRange._getTransformedByInsertOperation(e)[0]), t.newRange && (t.newRange = t.newRange._getTransformedByInsertOperation(e)[0]), [t]); }), ru(mc, mc, function (t, e, n) { if (t.name == e.name) {
                            if (!n.aIsStrong)
                                return [new iu(0)];
                            t.oldRange = e.newRange ? e.newRange.clone() : null;
                        } return [t]; }), ru(mc, bc, function (t, e) { return (t.oldRange && (t.oldRange = t.oldRange._getTransformedByMergeOperation(e)), t.newRange && (t.newRange = t.newRange._getTransformedByMergeOperation(e)), [t]); }), ru(mc, fc, function (t, e, n) { if (t.oldRange && (t.oldRange = Ks._createFromRanges(t.oldRange._getTransformedByMoveOperation(e))), t.newRange) {
                            if (n.abRelation) {
                                var i_127 = Ks._createFromRanges(t.newRange._getTransformedByMoveOperation(e));
                                if ("left" == n.abRelation.side && e.targetPosition.isEqual(t.newRange.start))
                                    return t.newRange.start.path = n.abRelation.path, t.newRange.end = i_127.end, [t];
                                if ("right" == n.abRelation.side && e.targetPosition.isEqual(t.newRange.end))
                                    return t.newRange.start = i_127.start, t.newRange.end.path = n.abRelation.path, [t];
                            }
                            t.newRange = Ks._createFromRanges(t.newRange._getTransformedByMoveOperation(e));
                        } return [t]; }), ru(mc, kc, function (t, e, n) { if (t.oldRange && (t.oldRange = t.oldRange._getTransformedBySplitOperation(e)), t.newRange) {
                            if (n.abRelation) {
                                var i_128 = t.newRange._getTransformedBySplitOperation(e);
                                return t.newRange.start.isEqual(e.splitPosition) && n.abRelation.wasStartBeforeMergedElement ? t.newRange.start = Gs._createAt(e.insertionPosition) : t.newRange.start.isEqual(e.splitPosition) && !n.abRelation.wasInLeftElement && (t.newRange.start = Gs._createAt(e.moveTargetPosition)), t.newRange.end.isEqual(e.splitPosition) && n.abRelation.wasInRightElement ? t.newRange.end = Gs._createAt(e.moveTargetPosition) : t.newRange.end.isEqual(e.splitPosition) && n.abRelation.wasEndBeforeMergedElement ? t.newRange.end = Gs._createAt(e.insertionPosition) : t.newRange.end = i_128.end, [t];
                            }
                            t.newRange = t.newRange._getTransformedBySplitOperation(e);
                        } return [t]; }), ru(bc, pc, function (t, e) { return (t.sourcePosition.hasSameParentAs(e.position) && (t.howMany += e.howMany), t.sourcePosition = t.sourcePosition._getTransformedByInsertOperation(e), t.targetPosition = t.targetPosition._getTransformedByInsertOperation(e), [t]); }), ru(bc, bc, function (t, e, n) { if (t.sourcePosition.isEqual(e.sourcePosition) && t.targetPosition.isEqual(e.targetPosition)) {
                            if (n.bWasUndone) {
                                var n_210 = e.graveyardPosition.path.slice();
                                return n_210.push(0), t.sourcePosition = new Gs(e.graveyardPosition.root, n_210), t.howMany = 0, [t];
                            }
                            return [new iu(0)];
                        } if (t.sourcePosition.isEqual(e.sourcePosition) && !t.targetPosition.isEqual(e.targetPosition) && !n.bWasUndone && "splitAtSource" != n.abRelation) {
                            var i_129 = "$graveyard" == t.targetPosition.root.rootName, o_74 = "$graveyard" == e.targetPosition.root.rootName;
                            if (o_74 && !i_129 || !(i_129 && !o_74) && n.aIsStrong) {
                                var n_211 = e.targetPosition._getTransformedByMergeOperation(e), i_130 = t.targetPosition._getTransformedByMergeOperation(e);
                                return [new fc(n_211, t.howMany, i_130, 0)];
                            }
                            return [new iu(0)];
                        } return t.sourcePosition.hasSameParentAs(e.targetPosition) && (t.howMany += e.howMany), t.sourcePosition = t.sourcePosition._getTransformedByMergeOperation(e), t.targetPosition = t.targetPosition._getTransformedByMergeOperation(e), t.graveyardPosition.isEqual(e.graveyardPosition) && n.aIsStrong || (t.graveyardPosition = t.graveyardPosition._getTransformedByMergeOperation(e)), [t]; }), ru(bc, fc, function (t, e, n) { var i = Ks._createFromPositionAndShift(e.sourcePosition, e.howMany); return "remove" == e.type && !n.bWasUndone && !n.forceWeakRemove && t.deletionPosition.hasSameParentAs(e.sourcePosition) && i.containsPosition(t.sourcePosition) ? [new iu(0)] : (t.sourcePosition.hasSameParentAs(e.targetPosition) && (t.howMany += e.howMany), t.sourcePosition.hasSameParentAs(e.sourcePosition) && (t.howMany -= e.howMany), t.sourcePosition = t.sourcePosition._getTransformedByMoveOperation(e), t.targetPosition = t.targetPosition._getTransformedByMoveOperation(e), t.graveyardPosition.isEqual(e.targetPosition) || (t.graveyardPosition = t.graveyardPosition._getTransformedByMoveOperation(e)), [t]); }), ru(bc, kc, function (t, e, n) { if (e.graveyardPosition && (t.graveyardPosition = t.graveyardPosition._getTransformedByDeletion(e.graveyardPosition, 1), t.deletionPosition.isEqual(e.graveyardPosition) && (t.howMany = e.howMany)), t.targetPosition.isEqual(e.splitPosition)) {
                            var i_131 = 0 != e.howMany, o_75 = e.graveyardPosition && t.deletionPosition.isEqual(e.graveyardPosition);
                            if (i_131 || o_75 || "mergeTargetNotMoved" == n.abRelation)
                                return t.sourcePosition = t.sourcePosition._getTransformedBySplitOperation(e), [t];
                        } if (t.sourcePosition.isEqual(e.splitPosition)) {
                            if ("mergeSourceNotMoved" == n.abRelation)
                                return t.howMany = 0, t.targetPosition = t.targetPosition._getTransformedBySplitOperation(e), [t];
                            if ("mergeSameElement" == n.abRelation || t.sourcePosition.offset > 0)
                                return t.sourcePosition = e.moveTargetPosition.clone(), t.targetPosition = t.targetPosition._getTransformedBySplitOperation(e), [t];
                        } return t.sourcePosition.hasSameParentAs(e.splitPosition) && (t.howMany = e.splitPosition.offset), t.sourcePosition = t.sourcePosition._getTransformedBySplitOperation(e), t.targetPosition = t.targetPosition._getTransformedBySplitOperation(e), [t]; }), ru(fc, pc, function (t, e) { var n = Ks._createFromPositionAndShift(t.sourcePosition, t.howMany)._getTransformedByInsertOperation(e, !1)[0]; return t.sourcePosition = n.start, t.howMany = n.end.offset - n.start.offset, t.targetPosition.isEqual(e.position) || (t.targetPosition = t.targetPosition._getTransformedByInsertOperation(e)), [t]; }), ru(fc, fc, function (t, e, n) {
                            var e_516, _j;
                            var i = Ks._createFromPositionAndShift(t.sourcePosition, t.howMany), o = Ks._createFromPositionAndShift(e.sourcePosition, e.howMany);
                            var r, s = n.aIsStrong, a = !n.aIsStrong;
                            if ("insertBefore" == n.abRelation || "insertAfter" == n.baRelation ? a = !0 : "insertAfter" != n.abRelation && "insertBefore" != n.baRelation || (a = !1), r = t.targetPosition.isEqual(e.targetPosition) && a ? t.targetPosition._getTransformedByDeletion(e.sourcePosition, e.howMany) : t.targetPosition._getTransformedByMove(e.sourcePosition, e.targetPosition, e.howMany), fu(t, e) && fu(e, t))
                                return [e.getReversed()];
                            if (i.containsPosition(e.targetPosition) && i.containsRange(o, !0))
                                return i.start = i.start._getTransformedByMove(e.sourcePosition, e.targetPosition, e.howMany), i.end = i.end._getTransformedByMove(e.sourcePosition, e.targetPosition, e.howMany), pu([i], r);
                            if (o.containsPosition(t.targetPosition) && o.containsRange(i, !0))
                                return i.start = i.start._getCombined(e.sourcePosition, e.getMovedRangeStart()), i.end = i.end._getCombined(e.sourcePosition, e.getMovedRangeStart()), pu([i], r);
                            var c = di(t.sourcePosition.getParentPath(), e.sourcePosition.getParentPath());
                            if ("prefix" == c || "extension" == c)
                                return i.start = i.start._getTransformedByMove(e.sourcePosition, e.targetPosition, e.howMany), i.end = i.end._getTransformedByMove(e.sourcePosition, e.targetPosition, e.howMany), pu([i], r);
                            "remove" != t.type || "remove" == e.type || n.aWasUndone || n.forceWeakRemove ? "remove" == t.type || "remove" != e.type || n.bWasUndone || n.forceWeakRemove || (s = !1) : s = !0;
                            var l = [], d = i.getDifference(o);
                            try {
                                for (var d_2 = __values(d), d_2_1 = d_2.next(); !d_2_1.done; d_2_1 = d_2.next()) {
                                    var t_260 = d_2_1.value;
                                    t_260.start = t_260.start._getTransformedByDeletion(e.sourcePosition, e.howMany), t_260.end = t_260.end._getTransformedByDeletion(e.sourcePosition, e.howMany);
                                    var n_212 = "same" == di(t_260.start.getParentPath(), e.getMovedRangeStart().getParentPath()), i_132 = t_260._getTransformedByInsertion(e.getMovedRangeStart(), e.howMany, n_212);
                                    l.push.apply(l, __spread(i_132));
                                }
                            }
                            catch (e_516_1) { e_516 = { error: e_516_1 }; }
                            finally {
                                try {
                                    if (d_2_1 && !d_2_1.done && (_j = d_2.return)) _j.call(d_2);
                                }
                                finally { if (e_516) throw e_516.error; }
                            }
                            var u = i.getIntersection(o);
                            return null !== u && s && (u.start = u.start._getCombined(e.sourcePosition, e.getMovedRangeStart()), u.end = u.end._getCombined(e.sourcePosition, e.getMovedRangeStart()), 0 === l.length ? l.push(u) : 1 == l.length ? o.start.isBefore(i.start) || o.start.isEqual(i.start) ? l.unshift(u) : l.push(u) : l.splice(1, 0, u)), 0 === l.length ? [new iu(t.baseVersion)] : pu(l, r);
                        }), ru(fc, kc, function (t, e, n) { var i = t.targetPosition.clone(); t.targetPosition.isEqual(e.insertionPosition) && e.graveyardPosition && "moveTargetAfter" != n.abRelation || (i = t.targetPosition._getTransformedBySplitOperation(e)); var o = Ks._createFromPositionAndShift(t.sourcePosition, t.howMany); if (o.end.isEqual(e.insertionPosition))
                            return e.graveyardPosition || t.howMany++, t.targetPosition = i, [t]; if (o.start.hasSameParentAs(e.splitPosition) && o.containsPosition(e.splitPosition)) {
                            var t_261 = new Ks(e.splitPosition, o.end);
                            return t_261 = t_261._getTransformedBySplitOperation(e), pu([new Ks(o.start, e.splitPosition), t_261], i);
                        } t.targetPosition.isEqual(e.splitPosition) && "insertAtSource" == n.abRelation && (i = e.moveTargetPosition), t.targetPosition.isEqual(e.insertionPosition) && "insertBetween" == n.abRelation && (i = t.targetPosition); var r = [o._getTransformedBySplitOperation(e)]; if (e.graveyardPosition) {
                            var i_133 = o.start.isEqual(e.graveyardPosition) || o.containsPosition(e.graveyardPosition);
                            t.howMany > 1 && i_133 && !n.aWasUndone && r.push(Ks._createFromPositionAndShift(e.insertionPosition, 1));
                        } return pu(r, i); }), ru(fc, bc, function (t, e, n) { var i = Ks._createFromPositionAndShift(t.sourcePosition, t.howMany); if (e.deletionPosition.hasSameParentAs(t.sourcePosition) && i.containsPosition(e.sourcePosition))
                            if ("remove" != t.type || n.forceWeakRemove) {
                                if (1 == t.howMany)
                                    return n.bWasUndone ? (t.sourcePosition = e.graveyardPosition.clone(), t.targetPosition = t.targetPosition._getTransformedByMergeOperation(e), [t]) : [new iu(0)];
                            }
                            else if (!n.aWasUndone) {
                                var n_213 = [];
                                var i_134 = e.graveyardPosition.clone(), o_76 = e.targetPosition._getTransformedByMergeOperation(e);
                                t.howMany > 1 && (n_213.push(new fc(t.sourcePosition, t.howMany - 1, t.targetPosition, 0)), i_134 = i_134._getTransformedByMove(t.sourcePosition, t.targetPosition, t.howMany - 1), o_76 = o_76._getTransformedByMove(t.sourcePosition, t.targetPosition, t.howMany - 1));
                                var r_32 = e.deletionPosition._getCombined(t.sourcePosition, t.targetPosition), s_24 = new fc(i_134, 1, r_32, 0), a_11 = s_24.getMovedRangeStart().path.slice();
                                a_11.push(0);
                                var c_9 = new Gs(s_24.targetPosition.root, a_11);
                                o_76 = o_76._getTransformedByMove(i_134, r_32, 1);
                                var l_2 = new fc(o_76, e.howMany, c_9, 0);
                                return n_213.push(s_24), n_213.push(l_2), n_213;
                            } var o = Ks._createFromPositionAndShift(t.sourcePosition, t.howMany)._getTransformedByMergeOperation(e); return t.sourcePosition = o.start, t.howMany = o.end.offset - o.start.offset, t.targetPosition = t.targetPosition._getTransformedByMergeOperation(e), [t]; }), ru(gc, pc, function (t, e) { return (t.position = t.position._getTransformedByInsertOperation(e), [t]); }), ru(gc, bc, function (t, e) { return t.position.isEqual(e.deletionPosition) ? (t.position = e.graveyardPosition.clone(), t.position.stickiness = "toNext", [t]) : (t.position = t.position._getTransformedByMergeOperation(e), [t]); }), ru(gc, fc, function (t, e) { return (t.position = t.position._getTransformedByMoveOperation(e), [t]); }), ru(gc, gc, function (t, e, n) { if (t.position.isEqual(e.position)) {
                            if (!n.aIsStrong)
                                return [new iu(0)];
                            t.oldName = e.newName;
                        } return [t]; }), ru(gc, kc, function (t, e) { if ("same" == di(t.position.path, e.splitPosition.getParentPath()) && !e.graveyardPosition) {
                            return [t, new gc(t.position.getShiftedBy(1), t.oldName, t.newName, 0)];
                        } return t.position = t.position._getTransformedBySplitOperation(e), [t]; }), ru(xc, xc, function (t, e, n) { if (t.root === e.root && t.key === e.key) {
                            if (!n.aIsStrong || t.newValue === e.newValue)
                                return [new iu(0)];
                            t.oldValue = e.newValue;
                        } return [t]; }), ru(kc, pc, function (t, e) { return (t.splitPosition.hasSameParentAs(e.position) && t.splitPosition.offset < e.position.offset && (t.howMany += e.howMany), t.splitPosition = t.splitPosition._getTransformedByInsertOperation(e), t.insertionPosition = kc.getInsertionPosition(t.splitPosition), [t]); }), ru(kc, bc, function (t, e, n) { if (!t.graveyardPosition && !n.bWasUndone && t.splitPosition.hasSameParentAs(e.sourcePosition)) {
                            var n_214 = e.graveyardPosition.path.slice();
                            n_214.push(0);
                            var i_135 = new Gs(e.graveyardPosition.root, n_214), o_77 = kc.getInsertionPosition(new Gs(e.graveyardPosition.root, n_214)), r_33 = new kc(i_135, 0, null, 0);
                            return r_33.insertionPosition = o_77, t.splitPosition = t.splitPosition._getTransformedByMergeOperation(e), t.insertionPosition = kc.getInsertionPosition(t.splitPosition), t.graveyardPosition = r_33.insertionPosition.clone(), t.graveyardPosition.stickiness = "toNext", [r_33, t];
                        } return t.splitPosition.hasSameParentAs(e.deletionPosition) && !t.splitPosition.isAfter(e.deletionPosition) && t.howMany--, t.splitPosition.hasSameParentAs(e.targetPosition) && (t.howMany += e.howMany), t.splitPosition = t.splitPosition._getTransformedByMergeOperation(e), t.insertionPosition = kc.getInsertionPosition(t.splitPosition), t.graveyardPosition && (t.graveyardPosition = t.graveyardPosition._getTransformedByMergeOperation(e)), [t]; }), ru(kc, fc, function (t, e, n) { var i = Ks._createFromPositionAndShift(e.sourcePosition, e.howMany); if (t.graveyardPosition) {
                            var o_78 = i.start.isEqual(t.graveyardPosition) || i.containsPosition(t.graveyardPosition);
                            if (!n.bWasUndone && o_78) {
                                var n_215 = t.splitPosition._getTransformedByMoveOperation(e), i_136 = t.graveyardPosition._getTransformedByMoveOperation(e), o_79 = i_136.path.slice();
                                o_79.push(0);
                                var r_34 = new Gs(i_136.root, o_79);
                                return [new fc(n_215, t.howMany, r_34, 0)];
                            }
                            t.graveyardPosition = t.graveyardPosition._getTransformedByMoveOperation(e);
                        } if (t.splitPosition.hasSameParentAs(e.sourcePosition) && i.containsPosition(t.splitPosition)) {
                            var n_216 = e.howMany - (t.splitPosition.offset - e.sourcePosition.offset);
                            return t.howMany -= n_216, t.splitPosition.hasSameParentAs(e.targetPosition) && t.splitPosition.offset < e.targetPosition.offset && (t.howMany += e.howMany), t.splitPosition = e.sourcePosition.clone(), t.insertionPosition = kc.getInsertionPosition(t.splitPosition), [t];
                        } return !t.splitPosition.isEqual(e.targetPosition) || "insertAtSource" != n.baRelation && "splitBefore" != n.abRelation ? (e.sourcePosition.isEqual(e.targetPosition) || (t.splitPosition.hasSameParentAs(e.sourcePosition) && t.splitPosition.offset <= e.sourcePosition.offset && (t.howMany -= e.howMany), t.splitPosition.hasSameParentAs(e.targetPosition) && t.splitPosition.offset < e.targetPosition.offset && (t.howMany += e.howMany)), t.splitPosition.stickiness = "toNone", t.splitPosition = t.splitPosition._getTransformedByMoveOperation(e), t.splitPosition.stickiness = "toNext", t.graveyardPosition ? t.insertionPosition = t.insertionPosition._getTransformedByMoveOperation(e) : t.insertionPosition = kc.getInsertionPosition(t.splitPosition), [t]) : (t.howMany += e.howMany, t.splitPosition = t.splitPosition._getTransformedByDeletion(e.sourcePosition, e.howMany), t.insertionPosition = kc.getInsertionPosition(t.splitPosition), [t]); }), ru(kc, kc, function (t, e, n) { if (t.splitPosition.isEqual(e.splitPosition)) {
                            if (!t.graveyardPosition && !e.graveyardPosition)
                                return [new iu(0)];
                            if (t.graveyardPosition && e.graveyardPosition && t.graveyardPosition.isEqual(e.graveyardPosition))
                                return [new iu(0)];
                            if ("splitBefore" == n.abRelation)
                                return t.howMany = 0, t.graveyardPosition = t.graveyardPosition._getTransformedBySplitOperation(e), [t];
                        } if (t.graveyardPosition && e.graveyardPosition && t.graveyardPosition.isEqual(e.graveyardPosition)) {
                            var i_137 = "$graveyard" == t.splitPosition.root.rootName, o_80 = "$graveyard" == e.splitPosition.root.rootName;
                            if (o_80 && !i_137 || !(i_137 && !o_80) && n.aIsStrong) {
                                var n_217 = [];
                                return e.howMany && n_217.push(new fc(e.moveTargetPosition, e.howMany, e.splitPosition, 0)), t.howMany && n_217.push(new fc(t.splitPosition, t.howMany, t.moveTargetPosition, 0)), n_217;
                            }
                            return [new iu(0)];
                        } if (t.graveyardPosition && (t.graveyardPosition = t.graveyardPosition._getTransformedBySplitOperation(e)), t.splitPosition.isEqual(e.insertionPosition) && "splitBefore" == n.abRelation)
                            return t.howMany++, [t]; if (e.splitPosition.isEqual(t.insertionPosition) && "splitBefore" == n.baRelation) {
                            var n_218 = e.insertionPosition.path.slice();
                            n_218.push(0);
                            var i_138 = new Gs(e.insertionPosition.root, n_218);
                            return [t, new fc(t.insertionPosition, 1, i_138, 0)];
                        } return t.splitPosition.hasSameParentAs(e.splitPosition) && t.splitPosition.offset < e.splitPosition.offset && (t.howMany -= e.howMany), t.splitPosition = t.splitPosition._getTransformedBySplitOperation(e), t.insertionPosition = kc.getInsertionPosition(t.splitPosition), [t]; });
                        var mu = /** @class */ (function (_super) {
                            __extends(mu, _super);
                            function mu(t) {
                                var _this = this;
                                _this = _super.call(this, t) || this, _this._stack = [], _this._createdBatches = new WeakSet, _this.refresh();
                                return _this;
                            }
                            mu.prototype.refresh = function () { this.isEnabled = this._stack.length > 0; };
                            mu.prototype.addBatch = function (t) { var e = this.editor.model.document.selection, n = { ranges: e.hasOwnRange ? Array.from(e.getRanges()) : [], isBackward: e.isBackward }; this._stack.push({ batch: t, selection: n }), this.refresh(); };
                            mu.prototype.clearStack = function () { this._stack = [], this.refresh(); };
                            mu.prototype._restoreSelection = function (t, e, n) {
                                var e_517, _j;
                                var i = this.editor.model, o = i.document, r = [];
                                try {
                                    for (var t_262 = __values(t), t_262_1 = t_262.next(); !t_262_1.done; t_262_1 = t_262.next()) {
                                        var e_518 = t_262_1.value;
                                        var t_263 = gu(e_518, n).find(function (t) { return t.start.root != o.graveyard; });
                                        t_263 && r.push(t_263);
                                    }
                                }
                                catch (e_517_1) { e_517 = { error: e_517_1 }; }
                                finally {
                                    try {
                                        if (t_262_1 && !t_262_1.done && (_j = t_262.return)) _j.call(t_262);
                                    }
                                    finally { if (e_517) throw e_517.error; }
                                }
                                r.length && i.change(function (t) { t.setSelection(r, { backward: e }); });
                            };
                            mu.prototype._undo = function (t, e) {
                                var e_519, _j, e_520, _q;
                                var n = this.editor.model, i = n.document;
                                this._createdBatches.add(e);
                                var o = t.operations.slice().filter(function (t) { return t.isDocumentOperation; });
                                o.reverse();
                                try {
                                    for (var o_81 = __values(o), o_81_1 = o_81.next(); !o_81_1.done; o_81_1 = o_81.next()) {
                                        var t_264 = o_81_1.value;
                                        var o_82 = t_264.baseVersion + 1, r_35 = Array.from(i.history.getOperations(o_82)), s_26 = cu([t_264.getReversed()], r_35, { useRelations: !0, document: this.editor.model.document, padWithNoOps: !1, forceWeakRemove: !0 }).operationsA;
                                        try {
                                            for (var s_25 = __values(s_26), s_25_1 = s_25.next(); !s_25_1.done; s_25_1 = s_25.next()) {
                                                var o_83 = s_25_1.value;
                                                e.addOperation(o_83), n.applyOperation(o_83), i.history.setOperationAsUndone(t_264, o_83);
                                            }
                                        }
                                        catch (e_520_1) { e_520 = { error: e_520_1 }; }
                                        finally {
                                            try {
                                                if (s_25_1 && !s_25_1.done && (_q = s_25.return)) _q.call(s_25);
                                            }
                                            finally { if (e_520) throw e_520.error; }
                                        }
                                    }
                                }
                                catch (e_519_1) { e_519 = { error: e_519_1 }; }
                                finally {
                                    try {
                                        if (o_81_1 && !o_81_1.done && (_j = o_81.return)) _j.call(o_81);
                                    }
                                    finally { if (e_519) throw e_519.error; }
                                }
                            };
                            return mu;
                        }(Md));
                        function gu(t, e) { var n = t.getTransformedByOperations(e); n.sort(function (t, e) { return t.start.isBefore(e.start) ? -1 : 1; }); for (var t_265 = 1; t_265 < n.length; t_265++) {
                            var e_521 = n[t_265 - 1], i_139 = n[t_265];
                            e_521.end.isTouching(i_139.start) && (e_521.end = i_139.end, n.splice(t_265, 1), t_265--);
                        } return n; }
                        var xu = /** @class */ (function (_super) {
                            __extends(xu, _super);
                            function xu() {
                                return _super !== null && _super.apply(this, arguments) || this;
                            }
                            xu.prototype.execute = function (t) {
                                var _this = this;
                                if (t === void 0) { t = null; }
                                var e = t ? this._stack.findIndex(function (e) { return e.batch == t; }) : this._stack.length - 1, n = this._stack.splice(e, 1)[0], i = this.editor.model.createBatch("transparent");
                                this.editor.model.enqueueChange(i, function () { _this._undo(n.batch, i); var t = _this.editor.model.document.history.getOperations(n.batch.baseVersion); _this._restoreSelection(n.selection.ranges, n.selection.isBackward, t), _this.fire("revert", n.batch, i); }), this.refresh();
                            };
                            return xu;
                        }(mu));
                        var bu = /** @class */ (function (_super) {
                            __extends(bu, _super);
                            function bu() {
                                return _super !== null && _super.apply(this, arguments) || this;
                            }
                            bu.prototype.execute = function () {
                                var _this = this;
                                var t = this._stack.pop(), e = this.editor.model.createBatch("transparent");
                                this.editor.model.enqueueChange(e, function () { var n = t.batch.operations[t.batch.operations.length - 1].baseVersion + 1, i = _this.editor.model.document.history.getOperations(n); _this._restoreSelection(t.selection.ranges, t.selection.isBackward, i), _this._undo(t.batch, e); }), this.refresh();
                            };
                            return bu;
                        }(mu));
                        var ku = /** @class */ (function (_super) {
                            __extends(ku, _super);
                            function ku(t) {
                                var _this = this;
                                _this = _super.call(this, t) || this, _this._batchRegistry = new WeakSet;
                                return _this;
                            }
                            Object.defineProperty(ku, "pluginName", {
                                get: function () { return "UndoEditing"; },
                                enumerable: true,
                                configurable: true
                            });
                            ku.prototype.init = function () {
                                var _this = this;
                                var t = this.editor;
                                this._undoCommand = new xu(t), this._redoCommand = new bu(t), t.commands.add("undo", this._undoCommand), t.commands.add("redo", this._redoCommand), this.listenTo(t.model, "applyOperation", function (t, e) { var n = e[0]; if (!n.isDocumentOperation)
                                    return; var i = n.batch, o = _this._redoCommand._createdBatches.has(i), r = _this._undoCommand._createdBatches.has(i); _this._batchRegistry.has(i) || "transparent" == i.type && !o && !r || (o ? _this._undoCommand.addBatch(i) : r || (_this._undoCommand.addBatch(i), _this._redoCommand.clearStack()), _this._batchRegistry.add(i)); }, { priority: "highest" }), this.listenTo(this._undoCommand, "revert", function (t, e, n) { _this._redoCommand.addBatch(n); }), t.keystrokes.set("CTRL+Z", "undo"), t.keystrokes.set("CTRL+Y", "redo"), t.keystrokes.set("CTRL+SHIFT+Z", "redo");
                            };
                            return ku;
                        }(Sd));
                        var wu = n(43), vu = n.n(wu), yu = n(44), _u = n.n(yu);
                        var Cu = /** @class */ (function (_super) {
                            __extends(Cu, _super);
                            function Cu() {
                                return _super !== null && _super.apply(this, arguments) || this;
                            }
                            Cu.prototype.init = function () { var t = this.editor, e = t.locale, n = t.t, i = "ltr" == e.uiLanguageDirection ? vu.a : _u.a, o = "ltr" == e.uiLanguageDirection ? _u.a : vu.a; this._addButton("undo", n("dd"), "CTRL+Z", i), this._addButton("redo", n("de"), "CTRL+Y", o); };
                            Cu.prototype._addButton = function (t, e, n, i) {
                                var _this = this;
                                var o = this.editor;
                                o.ui.componentFactory.add(t, function (r) { var s = o.commands.get(t), a = new ad(r); return a.set({ label: e, icon: i, keystroke: n, tooltip: !0 }), a.bind("isEnabled").to(s, "isEnabled"), _this.listenTo(a, "execute", function () { return o.execute(t); }), a; });
                            };
                            return Cu;
                        }(Sd));
                        var Tu = /** @class */ (function (_super) {
                            __extends(Tu, _super);
                            function Tu() {
                                return _super !== null && _super.apply(this, arguments) || this;
                            }
                            Object.defineProperty(Tu, "requires", {
                                get: function () { return [ku, Cu]; },
                                enumerable: true,
                                configurable: true
                            });
                            Object.defineProperty(Tu, "pluginName", {
                                get: function () { return "Undo"; },
                                enumerable: true,
                                configurable: true
                            });
                            return Tu;
                        }(Sd));
                        var Au = /** @class */ (function (_super) {
                            __extends(Au, _super);
                            function Au() {
                                return _super !== null && _super.apply(this, arguments) || this;
                            }
                            Object.defineProperty(Au, "requires", {
                                get: function () { return [Nd, Ld, Ud, nu, Tu]; },
                                enumerable: true,
                                configurable: true
                            });
                            Object.defineProperty(Au, "pluginName", {
                                get: function () { return "Essentials"; },
                                enumerable: true,
                                configurable: true
                            });
                            return Au;
                        }(Sd));
                        var Su = /** @class */ (function (_super) {
                            __extends(Su, _super);
                            function Su() {
                                return _super !== null && _super.apply(this, arguments) || this;
                            }
                            Object.defineProperty(Su, "pluginName", {
                                get: function () { return "PendingActions"; },
                                enumerable: true,
                                configurable: true
                            });
                            Su.prototype.init = function () { this.set("hasAny", !1), this._actions = new ro({ idProperty: "_id" }), this._actions.delegate("add", "remove").to(this); };
                            Su.prototype.add = function (t) { if ("string" != typeof t)
                                throw new Gn.b("pendingactions-add-invalid-message: The message must be a string.", this); var e = Object.create(Ui); return e.set("message", t), this._actions.add(e), this.hasAny = !0, e; };
                            Su.prototype.remove = function (t) { this._actions.remove(t), this.hasAny = !!this._actions.length; };
                            Object.defineProperty(Su.prototype, "first", {
                                get: function () { return this._actions.get(0); },
                                enumerable: true,
                                configurable: true
                            });
                            Su.prototype[Symbol.iterator] = function () { return this._actions[Symbol.iterator](); };
                            return Su;
                        }(Sd));
                        var Eu = /** @class */ (function () {
                            function Eu() {
                                var _this = this;
                                var t = new window.FileReader;
                                this._reader = t, this._data = void 0, this.set("loaded", 0), t.onprogress = (function (t) { _this.loaded = t.loaded; });
                            }
                            Object.defineProperty(Eu.prototype, "error", {
                                get: function () { return this._reader.error; },
                                enumerable: true,
                                configurable: true
                            });
                            Object.defineProperty(Eu.prototype, "data", {
                                get: function () { return this._data; },
                                enumerable: true,
                                configurable: true
                            });
                            Eu.prototype.read = function (t) {
                                var _this = this;
                                var e = this._reader;
                                return this.total = t.size, new Promise(function (n, i) { e.onload = (function () { var t = e.result; _this._data = t, n(t); }), e.onerror = (function () { i("error"); }), e.onabort = (function () { i("aborted"); }), _this._reader.readAsDataURL(t); });
                            };
                            Eu.prototype.abort = function () { this._reader.abort(); };
                            return Eu;
                        }());
                        li(Eu, Ui);
                        var Pu = /** @class */ (function (_super) {
                            __extends(Pu, _super);
                            function Pu() {
                                return _super !== null && _super.apply(this, arguments) || this;
                            }
                            Object.defineProperty(Pu, "pluginName", {
                                get: function () { return "FileRepository"; },
                                enumerable: true,
                                configurable: true
                            });
                            Object.defineProperty(Pu, "requires", {
                                get: function () { return [Su]; },
                                enumerable: true,
                                configurable: true
                            });
                            Pu.prototype.init = function () {
                                var _this = this;
                                this.loaders = new ro, this.loaders.on("add", function () { return _this._updatePendingAction(); }), this.loaders.on("remove", function () { return _this._updatePendingAction(); }), this._loadersMap = new Map, this._pendingAction = null, this.set("uploaded", 0), this.set("uploadTotal", null), this.bind("uploadedPercent").to(this, "uploaded", this, "uploadTotal", function (t, e) { return e ? t / e * 100 : 0; });
                            };
                            Pu.prototype.getLoader = function (t) { return this._loadersMap.get(t) || null; };
                            Pu.prototype.createLoader = function (t) {
                                var _this = this;
                                if (!this.createUploadAdapter)
                                    return console.warn(Object(Gn.a)("filerepository-no-upload-adapter: Upload adapter is not defined.")), null;
                                var e = new Iu(Promise.resolve(t), this.createUploadAdapter);
                                return this.loaders.add(e), this._loadersMap.set(t, e), t instanceof Promise && e.file.then(function (t) { _this._loadersMap.set(t, e); }).catch(function () { }), e.on("change:uploaded", function () {
                                    var e_522, _j;
                                    var t = 0;
                                    try {
                                        for (var _q = __values(_this.loaders), _z = _q.next(); !_z.done; _z = _q.next()) {
                                            var e_523 = _z.value;
                                            t += e_523.uploaded;
                                        }
                                    }
                                    catch (e_522_1) { e_522 = { error: e_522_1 }; }
                                    finally {
                                        try {
                                            if (_z && !_z.done && (_j = _q.return)) _j.call(_q);
                                        }
                                        finally { if (e_522) throw e_522.error; }
                                    }
                                    _this.uploaded = t;
                                }), e.on("change:uploadTotal", function () {
                                    var e_524, _j;
                                    var t = 0;
                                    try {
                                        for (var _q = __values(_this.loaders), _z = _q.next(); !_z.done; _z = _q.next()) {
                                            var e_525 = _z.value;
                                            e_525.uploadTotal && (t += e_525.uploadTotal);
                                        }
                                    }
                                    catch (e_524_1) { e_524 = { error: e_524_1 }; }
                                    finally {
                                        try {
                                            if (_z && !_z.done && (_j = _q.return)) _j.call(_q);
                                        }
                                        finally { if (e_524) throw e_524.error; }
                                    }
                                    _this.uploadTotal = t;
                                }), e;
                            };
                            Pu.prototype.destroyLoader = function (t) {
                                var _this = this;
                                var e = t instanceof Iu ? t : this.getLoader(t);
                                e._destroy(), this.loaders.remove(e), this._loadersMap.forEach(function (t, n) { t === e && _this._loadersMap.delete(n); });
                            };
                            Pu.prototype._updatePendingAction = function () { var t = this.editor.plugins.get(Su); if (this.loaders.length) {
                                if (!this._pendingAction) {
                                    var e_526 = this.editor.t, n_219 = function (t) { return e_526("bn") + " " + parseInt(t) + "%."; };
                                    this._pendingAction = t.add(n_219(this.uploadedPercent)), this._pendingAction.bind("message").to(this, "uploadedPercent", n_219);
                                }
                            }
                            else
                                t.remove(this._pendingAction), this._pendingAction = null; };
                            return Pu;
                        }(Sd));
                        li(Pu, Ui);
                        var Iu = /** @class */ (function () {
                            function Iu(t, e) {
                                this.id = Zn(), this._filePromiseWrapper = this._createFilePromiseWrapper(t), this._adapter = e(this), this._reader = new Eu, this.set("status", "idle"), this.set("uploaded", 0), this.set("uploadTotal", null), this.bind("uploadedPercent").to(this, "uploaded", this, "uploadTotal", function (t, e) { return e ? t / e * 100 : 0; }), this.set("uploadResponse", null);
                            }
                            Object.defineProperty(Iu.prototype, "file", {
                                get: function () {
                                    var _this = this;
                                    return this._filePromiseWrapper ? this._filePromiseWrapper.promise.then(function (t) { return _this._filePromiseWrapper ? t : null; }) : Promise.resolve(null);
                                },
                                enumerable: true,
                                configurable: true
                            });
                            Object.defineProperty(Iu.prototype, "data", {
                                get: function () { return this._reader.data; },
                                enumerable: true,
                                configurable: true
                            });
                            Iu.prototype.read = function () {
                                var _this = this;
                                if ("idle" != this.status)
                                    throw new Gn.b("filerepository-read-wrong-status: You cannot call read if the status is different than idle.", this);
                                return this.status = "reading", this.file.then(function (t) { return _this._reader.read(t); }).then(function (t) { if ("reading" !== _this.status)
                                    throw _this.status; return _this.status = "idle", t; }).catch(function (t) { if ("aborted" === t)
                                    throw _this.status = "aborted", "aborted"; throw _this.status = "error", _this._reader.error ? _this._reader.error : t; });
                            };
                            Iu.prototype.upload = function () {
                                var _this = this;
                                if ("idle" != this.status)
                                    throw new Gn.b("filerepository-upload-wrong-status: You cannot call upload if the status is different than idle.", this);
                                return this.status = "uploading", this.file.then(function () { return _this._adapter.upload(); }).then(function (t) { return (_this.uploadResponse = t, _this.status = "idle", t); }).catch(function (t) { if ("aborted" === _this.status)
                                    throw "aborted"; throw _this.status = "error", t; });
                            };
                            Iu.prototype.abort = function () { var t = this.status; this.status = "aborted", this._filePromiseWrapper.isFulfilled ? "reading" == t ? this._reader.abort() : "uploading" == t && this._adapter.abort && this._adapter.abort() : (this._filePromiseWrapper.promise.catch(function () { }), this._filePromiseWrapper.rejecter("aborted")), this._destroy(); };
                            Iu.prototype._destroy = function () { this._filePromiseWrapper = void 0, this._reader = void 0, this._adapter = void 0, this.uploadResponse = void 0; };
                            Iu.prototype._createFilePromiseWrapper = function (t) { var e = {}; return e.promise = new Promise(function (n, i) { e.rejecter = i, e.isFulfilled = !1, t.then(function (t) { e.isFulfilled = !0, n(t); }).catch(function (t) { e.isFulfilled = !0, i(t); }); }), e; };
                            return Iu;
                        }());
                        li(Iu, Ui);
                        var Nu = "ckCsrfToken", Mu = 40, Ou = "abcdefghijklmnopqrstuvwxyz0123456789";
                        function Ru() { var t = function (t) {
                            var e_527, _j;
                            t = t.toLowerCase();
                            var e = document.cookie.split(";");
                            try {
                                for (var e_528 = __values(e), e_528_1 = e_528.next(); !e_528_1.done; e_528_1 = e_528.next()) {
                                    var n_220 = e_528_1.value;
                                    var e_529 = n_220.split("="), i_140 = decodeURIComponent(e_529[0].trim().toLowerCase());
                                    if (i_140 === t)
                                        return decodeURIComponent(e_529[1]);
                                }
                            }
                            catch (e_527_1) { e_527 = { error: e_527_1 }; }
                            finally {
                                try {
                                    if (e_528_1 && !e_528_1.done && (_j = e_528.return)) _j.call(e_528);
                                }
                                finally { if (e_527) throw e_527.error; }
                            }
                            return null;
                        }(Nu); return t && t.length == Mu || (t = function (t) { var e = ""; var n = new Uint8Array(t); window.crypto.getRandomValues(n); for (var t_266 = 0; t_266 < n.length; t_266++) {
                            var i_141 = Ou.charAt(n[t_266] % Ou.length);
                            e += Math.random() > .5 ? i_141.toUpperCase() : i_141;
                        } return e; }(Mu), function (t, e) { document.cookie = encodeURIComponent(t) + "=" + encodeURIComponent(e) + ";path=/"; }(Nu, t)), t; }
                        var Du = /** @class */ (function (_super) {
                            __extends(Du, _super);
                            function Du() {
                                return _super !== null && _super.apply(this, arguments) || this;
                            }
                            Object.defineProperty(Du, "requires", {
                                get: function () { return [Pu]; },
                                enumerable: true,
                                configurable: true
                            });
                            Object.defineProperty(Du, "pluginName", {
                                get: function () { return "CKFinderUploadAdapter"; },
                                enumerable: true,
                                configurable: true
                            });
                            Du.prototype.init = function () {
                                var _this = this;
                                var t = this.editor.config.get("ckfinder.uploadUrl");
                                t && (this.editor.plugins.get(Pu).createUploadAdapter = (function (e) { return new ju(e, t, _this.editor.t); }));
                            };
                            return Du;
                        }(Sd));
                        var ju = /** @class */ (function () {
                            function ju(t, e, n) {
                                this.loader = t, this.url = e, this.t = n;
                            }
                            ju.prototype.upload = function () {
                                var _this = this;
                                return this.loader.file.then(function (t) { return new Promise(function (e, n) { _this._initRequest(), _this._initListeners(e, n, t), _this._sendRequest(t); }); });
                            };
                            ju.prototype.abort = function () { this.xhr && this.xhr.abort(); };
                            ju.prototype._initRequest = function () { var t = this.xhr = new XMLHttpRequest; t.open("POST", this.url, !0), t.responseType = "json"; };
                            ju.prototype._initListeners = function (t, e, n) { var i = this.xhr, o = this.loader, r = (0, this.t)("a") + (" " + n.name + "."); i.addEventListener("error", function () { return e(r); }), i.addEventListener("abort", function () { return e(); }), i.addEventListener("load", function () { var n = i.response; if (!n || !n.uploaded)
                                return e(n && n.error && n.error.message ? n.error.message : r); t({ default: n.url }); }), i.upload && i.upload.addEventListener("progress", function (t) { t.lengthComputable && (o.uploadTotal = t.total, o.uploaded = t.loaded); }); };
                            ju.prototype._sendRequest = function (t) { var e = new FormData; e.append("upload", t), e.append("ckCsrfToken", Ru()), this.xhr.send(e); };
                            return ju;
                        }());
                        var Bu = /** @class */ (function () {
                            function Bu(t, e, n) {
                                var i, o = null;
                                "function" == typeof n ? i = n : (o = t.commands.get(n), i = (function () { t.execute(n); })), t.model.document.on("change", function (n, r) { if (o && !o.isEnabled)
                                    return; if ("transparent" == r.type)
                                    return; var s = Array.from(t.model.document.differ.getChanges()), a = s[0]; if (1 != s.length || "insert" !== a.type || "$text" != a.name || 1 != a.length)
                                    return; var c = a.position.parent; if (!c.is("paragraph") || 1 !== c.childCount)
                                    return; var l = e.exec(c.getChild(0).data); l && t.model.enqueueChange(function (t) { var e = t.createPositionAt(c, 0), n = t.createPositionAt(c, l[0].length), o = new aa(e, n); !1 !== i({ match: l }) && t.remove(o), o.detach(); }); });
                            }
                            Object.defineProperty(Bu, "pluginName", {
                                get: function () { return "BlockAutoformatEditing"; },
                                enumerable: true,
                                configurable: true
                            });
                            return Bu;
                        }());
                        var Lu = /** @class */ (function () {
                            function Lu(t, e, n) {
                                var i, o, r, s;
                                e instanceof RegExp ? i = e : r = e, "string" == typeof n ? o = n : s = n, r = r || (function (t) { var e; var n = [], o = []; for (; null !== (e = i.exec(t)) && !(e && e.length < 4);) {
                                    var t_267 = e.index, i_142 = e[1], r_36 = e[2], s_27 = e[3];
                                    var a_12 = i_142 + r_36 + s_27, c_10 = [t_267 += e[0].length - a_12.length, t_267 + i_142.length], l_3 = [t_267 + i_142.length + r_36.length, t_267 + i_142.length + r_36.length + s_27.length];
                                    n.push(c_10), n.push(l_3), o.push([t_267 + i_142.length, t_267 + i_142.length + r_36.length]);
                                } return { remove: n, format: o }; }), s = s || (function (e, n) {
                                    var e_530, _j;
                                    var i = t.model.schema.getValidRanges(n, o);
                                    try {
                                        for (var i_143 = __values(i), i_143_1 = i_143.next(); !i_143_1.done; i_143_1 = i_143.next()) {
                                            var t_268 = i_143_1.value;
                                            e.setAttribute(o, !0, t_268);
                                        }
                                    }
                                    catch (e_530_1) { e_530 = { error: e_530_1 }; }
                                    finally {
                                        try {
                                            if (i_143_1 && !i_143_1.done && (_j = i_143.return)) _j.call(i_143);
                                        }
                                        finally { if (e_530) throw e_530.error; }
                                    }
                                    e.removeSelectionAttribute(o);
                                }), t.model.document.on("change", function (e, n) { if ("transparent" == n.type)
                                    return; var i = t.model, o = i.document.selection; if (!o.isCollapsed)
                                    return; var a = Array.from(i.document.differ.getChanges()), c = a[0]; if (1 != a.length || "insert" !== c.type || "$text" != c.name || 1 != c.length)
                                    return; var l = o.focus, d = l.parent, _j = function (t, e) { var n = t.start; return { text: Array.from(t.getItems()).reduce(function (t, i) { return i.is("text") || i.is("textProxy") ? t + i.data : (n = e.createPositionAfter(i), ""); }, ""), range: e.createRange(n, t.end) }; }(i.createRange(i.createPositionAt(d, 0), l), i), u = _j.text, h = _j.range, f = r(u), p = Vu(h.start, f.format, i), m = Vu(h.start, f.remove, i); p.length && m.length && i.enqueueChange(function (t) {
                                    var e_531, _j;
                                    if (!1 !== s(t, p))
                                        try {
                                            for (var _q = __values(m.reverse()), _z = _q.next(); !_z.done; _z = _q.next()) {
                                                var e_532 = _z.value;
                                                t.remove(e_532);
                                            }
                                        }
                                        catch (e_531_1) { e_531 = { error: e_531_1 }; }
                                        finally {
                                            try {
                                                if (_z && !_z.done && (_j = _q.return)) _j.call(_q);
                                            }
                                            finally { if (e_531) throw e_531.error; }
                                        }
                                }); });
                            }
                            Object.defineProperty(Lu, "pluginName", {
                                get: function () { return "InlineAutoformatEditing"; },
                                enumerable: true,
                                configurable: true
                            });
                            return Lu;
                        }());
                        function Vu(t, e, n) { return e.filter(function (t) { return void 0 !== t[0] && void 0 !== t[1]; }).map(function (e) { return n.createRange(t.getShiftedBy(e[0]), t.getShiftedBy(e[1])); }); }
                        var Fu = /** @class */ (function (_super) {
                            __extends(Fu, _super);
                            function Fu() {
                                return _super !== null && _super.apply(this, arguments) || this;
                            }
                            Object.defineProperty(Fu, "pluginName", {
                                get: function () { return "Autoformat"; },
                                enumerable: true,
                                configurable: true
                            });
                            Fu.prototype.afterInit = function () { this._addListAutoformats(), this._addBasicStylesAutoformats(), this._addHeadingAutoformats(), this._addBlockQuoteAutoformats(), this._addCodeBlockAutoformats(); };
                            Fu.prototype._addListAutoformats = function () { var t = this.editor.commands; t.get("bulletedList") && new Bu(this.editor, /^[*-]\s$/, "bulletedList"), t.get("numberedList") && new Bu(this.editor, /^1[.|)]\s$/, "numberedList"); };
                            Fu.prototype._addBasicStylesAutoformats = function () { var t = this.editor.commands; if (t.get("bold")) {
                                var t_269 = zu(this.editor, "bold");
                                new Lu(this.editor, /(\*\*)([^*]+)(\*\*)$/g, t_269), new Lu(this.editor, /(__)([^_]+)(__)$/g, t_269);
                            } if (t.get("italic")) {
                                var t_270 = zu(this.editor, "italic");
                                new Lu(this.editor, /(?:^|[^*])(\*)([^*_]+)(\*)$/g, t_270), new Lu(this.editor, /(?:^|[^_])(_)([^_]+)(_)$/g, t_270);
                            } if (t.get("code")) {
                                var t_271 = zu(this.editor, "code");
                                new Lu(this.editor, /(`)([^`]+)(`)$/g, t_271);
                            } };
                            Fu.prototype._addHeadingAutoformats = function () {
                                var _this = this;
                                var t = this.editor.commands.get("heading");
                                t && t.modelElements.filter(function (t) { return t.match(/^heading[1-6]$/); }).forEach(function (e) { var n = e[7], i = new RegExp("^(#{" + n + "})\\s$"); new Bu(_this.editor, i, function () { if (!t.isEnabled)
                                    return !1; _this.editor.execute("heading", { value: e }); }); });
                            };
                            Fu.prototype._addBlockQuoteAutoformats = function () { this.editor.commands.get("blockQuote") && new Bu(this.editor, /^>\s$/, "blockQuote"); };
                            Fu.prototype._addCodeBlockAutoformats = function () { this.editor.commands.get("codeBlock") && new Bu(this.editor, /^```$/, "codeBlock"); };
                            return Fu;
                        }(Sd));
                        function zu(t, e) { return function (n, i) {
                            var e_533, _j;
                            if (!t.commands.get(e).isEnabled)
                                return !1;
                            var o = t.model.schema.getValidRanges(i, e);
                            try {
                                for (var o_84 = __values(o), o_84_1 = o_84.next(); !o_84_1.done; o_84_1 = o_84.next()) {
                                    var t_272 = o_84_1.value;
                                    n.setAttribute(e, !0, t_272);
                                }
                            }
                            catch (e_533_1) { e_533 = { error: e_533_1 }; }
                            finally {
                                try {
                                    if (o_84_1 && !o_84_1.done && (_j = o_84.return)) _j.call(o_84);
                                }
                                finally { if (e_533) throw e_533.error; }
                            }
                            n.removeSelectionAttribute(e);
                        }; }
                        var Uu = /** @class */ (function (_super) {
                            __extends(Uu, _super);
                            function Uu(t, e) {
                                var _this = this;
                                _this = _super.call(this, t) || this, _this.attributeKey = e;
                                return _this;
                            }
                            Uu.prototype.refresh = function () { var t = this.editor.model, e = t.document; this.value = this._getValueFromFirstAllowedNode(), this.isEnabled = t.schema.checkAttributeInSelection(e.selection, this.attributeKey); };
                            Uu.prototype.execute = function (t) {
                                var _this = this;
                                if (t === void 0) { t = {}; }
                                var e = this.editor.model, n = e.document.selection, i = void 0 === t.forceValue ? !this.value : t.forceValue;
                                e.change(function (t) {
                                    var e_534, _j;
                                    if (n.isCollapsed)
                                        i ? t.setSelectionAttribute(_this.attributeKey, !0) : t.removeSelectionAttribute(_this.attributeKey);
                                    else {
                                        var o_86 = e.schema.getValidRanges(n.getRanges(), _this.attributeKey);
                                        try {
                                            for (var o_85 = __values(o_86), o_85_1 = o_85.next(); !o_85_1.done; o_85_1 = o_85.next()) {
                                                var e_535 = o_85_1.value;
                                                i ? t.setAttribute(_this.attributeKey, i, e_535) : t.removeAttribute(_this.attributeKey, e_535);
                                            }
                                        }
                                        catch (e_534_1) { e_534 = { error: e_534_1 }; }
                                        finally {
                                            try {
                                                if (o_85_1 && !o_85_1.done && (_j = o_85.return)) _j.call(o_85);
                                            }
                                            finally { if (e_534) throw e_534.error; }
                                        }
                                    }
                                });
                            };
                            Uu.prototype._getValueFromFirstAllowedNode = function () {
                                var e_536, _j, e_537, _q;
                                var t = this.editor.model, e = t.schema, n = t.document.selection;
                                if (n.isCollapsed)
                                    return n.hasAttribute(this.attributeKey);
                                try {
                                    for (var _z = __values(n.getRanges()), _0 = _z.next(); !_0.done; _0 = _z.next()) {
                                        var t_273 = _0.value;
                                        try {
                                            for (var _1 = __values(t_273.getItems()), _2 = _1.next(); !_2.done; _2 = _1.next()) {
                                                var n_221 = _2.value;
                                                if (e.checkAttribute(n_221, this.attributeKey))
                                                    return n_221.hasAttribute(this.attributeKey);
                                            }
                                        }
                                        catch (e_537_1) { e_537 = { error: e_537_1 }; }
                                        finally {
                                            try {
                                                if (_2 && !_2.done && (_q = _1.return)) _q.call(_1);
                                            }
                                            finally { if (e_537) throw e_537.error; }
                                        }
                                    }
                                }
                                catch (e_536_1) { e_536 = { error: e_536_1 }; }
                                finally {
                                    try {
                                        if (_0 && !_0.done && (_j = _z.return)) _j.call(_z);
                                    }
                                    finally { if (e_536) throw e_536.error; }
                                }
                                return !1;
                            };
                            return Uu;
                        }(Md));
                        var Hu = "bold";
                        var qu = /** @class */ (function (_super) {
                            __extends(qu, _super);
                            function qu() {
                                return _super !== null && _super.apply(this, arguments) || this;
                            }
                            Object.defineProperty(qu, "pluginName", {
                                get: function () { return "BoldEditing"; },
                                enumerable: true,
                                configurable: true
                            });
                            qu.prototype.init = function () { var t = this.editor; t.model.schema.extend("$text", { allowAttributes: Hu }), t.model.schema.setAttributeProperties(Hu, { isFormatting: !0, copyOnEnter: !0 }), t.conversion.attributeToElement({ model: Hu, view: "strong", upcastAlso: ["b", function (t) { var e = t.getStyle("font-weight"); return e ? "bold" == e || Number(e) >= 600 ? { name: !0, styles: ["font-weight"] } : void 0 : null; }] }), t.commands.add(Hu, new Uu(t, Hu)), t.keystrokes.set("CTRL+B", Hu); };
                            return qu;
                        }(Sd));
                        var Yu = n(87), Wu = n.n(Yu);
                        var Ju = "bold";
                        var $u = /** @class */ (function (_super) {
                            __extends($u, _super);
                            function $u() {
                                return _super !== null && _super.apply(this, arguments) || this;
                            }
                            $u.prototype.init = function () {
                                var _this = this;
                                var t = this.editor, e = t.t;
                                t.ui.componentFactory.add(Ju, function (n) { var i = t.commands.get(Ju), o = new ad(n); return o.set({ label: e("d"), icon: Wu.a, keystroke: "CTRL+B", tooltip: !0, isToggleable: !0 }), o.bind("isOn", "isEnabled").to(i, "value", "isEnabled"), _this.listenTo(o, "execute", function () { return t.execute(Ju); }), o; });
                            };
                            return $u;
                        }(Sd));
                        var Gu = /** @class */ (function (_super) {
                            __extends(Gu, _super);
                            function Gu() {
                                return _super !== null && _super.apply(this, arguments) || this;
                            }
                            Object.defineProperty(Gu, "requires", {
                                get: function () { return [qu, $u]; },
                                enumerable: true,
                                configurable: true
                            });
                            Object.defineProperty(Gu, "pluginName", {
                                get: function () { return "Bold"; },
                                enumerable: true,
                                configurable: true
                            });
                            return Gu;
                        }(Sd));
                        var Ku = "italic";
                        var Qu = /** @class */ (function (_super) {
                            __extends(Qu, _super);
                            function Qu() {
                                return _super !== null && _super.apply(this, arguments) || this;
                            }
                            Object.defineProperty(Qu, "pluginName", {
                                get: function () { return "ItalicEditing"; },
                                enumerable: true,
                                configurable: true
                            });
                            Qu.prototype.init = function () { var t = this.editor; t.model.schema.extend("$text", { allowAttributes: Ku }), t.model.schema.setAttributeProperties(Ku, { isFormatting: !0, copyOnEnter: !0 }), t.conversion.attributeToElement({ model: Ku, view: "i", upcastAlso: ["em", { styles: { "font-style": "italic" } }] }), t.commands.add(Ku, new Uu(t, Ku)), t.keystrokes.set("CTRL+I", Ku); };
                            return Qu;
                        }(Sd));
                        var Zu = n(88), Xu = n.n(Zu);
                        var th = "italic";
                        var eh = /** @class */ (function (_super) {
                            __extends(eh, _super);
                            function eh() {
                                return _super !== null && _super.apply(this, arguments) || this;
                            }
                            eh.prototype.init = function () {
                                var _this = this;
                                var t = this.editor, e = t.t;
                                t.ui.componentFactory.add(th, function (n) { var i = t.commands.get(th), o = new ad(n); return o.set({ label: e("e"), icon: Xu.a, keystroke: "CTRL+I", tooltip: !0, isToggleable: !0 }), o.bind("isOn", "isEnabled").to(i, "value", "isEnabled"), _this.listenTo(o, "execute", function () { return t.execute(th); }), o; });
                            };
                            return eh;
                        }(Sd));
                        var nh = /** @class */ (function (_super) {
                            __extends(nh, _super);
                            function nh() {
                                return _super !== null && _super.apply(this, arguments) || this;
                            }
                            Object.defineProperty(nh, "requires", {
                                get: function () { return [Qu, eh]; },
                                enumerable: true,
                                configurable: true
                            });
                            Object.defineProperty(nh, "pluginName", {
                                get: function () { return "Italic"; },
                                enumerable: true,
                                configurable: true
                            });
                            return nh;
                        }(Sd));
                        function ih(t) { var e = t.next(); return e.done ? null : e.value; }
                        var oh = /** @class */ (function (_super) {
                            __extends(oh, _super);
                            function oh() {
                                return _super !== null && _super.apply(this, arguments) || this;
                            }
                            oh.prototype.refresh = function () { this.value = this._getValue(), this.isEnabled = this._checkEnabled(); };
                            oh.prototype.execute = function (t) {
                                var _this = this;
                                if (t === void 0) { t = {}; }
                                var e = this.editor.model, n = e.schema, i = e.document.selection, o = Array.from(i.getSelectedBlocks()), r = void 0 === t.forceValue ? !this.value : t.forceValue;
                                e.change(function (t) { if (r) {
                                    var e_538 = o.filter(function (t) { return rh(t) || ah(n, t); });
                                    _this._applyQuote(t, e_538);
                                }
                                else
                                    _this._removeQuote(t, o.filter(rh)); });
                            };
                            oh.prototype._getValue = function () { var t = ih(this.editor.model.document.selection.getSelectedBlocks()); return !(!t || !rh(t)); };
                            oh.prototype._checkEnabled = function () { if (this.value)
                                return !0; var t = this.editor.model.document.selection, e = this.editor.model.schema, n = ih(t.getSelectedBlocks()); return !!n && ah(e, n); };
                            oh.prototype._removeQuote = function (t, e) { sh(t, e).reverse().forEach(function (e) { if (e.start.isAtStart && e.end.isAtEnd)
                                return void t.unwrap(e.start.parent); if (e.start.isAtStart) {
                                var n_222 = t.createPositionBefore(e.start.parent);
                                return void t.move(e, n_222);
                            } e.end.isAtEnd || t.split(e.end); var n = t.createPositionAfter(e.end.parent); t.move(e, n); }); };
                            oh.prototype._applyQuote = function (t, e) { var n = []; sh(t, e).reverse().forEach(function (e) { var i = rh(e.start); i || (i = t.createElement("blockQuote"), t.wrap(e, i)), n.push(i); }), n.reverse().reduce(function (e, n) { return e.nextSibling == n ? (t.merge(t.createPositionAfter(e)), e) : n; }); };
                            return oh;
                        }(Md));
                        function rh(t) { return "blockQuote" == t.parent.name ? t.parent : null; }
                        function sh(t, e) { var n, i = 0; var o = []; for (; i < e.length;) {
                            var r_37 = e[i], s_28 = e[i + 1];
                            n || (n = t.createPositionBefore(r_37)), s_28 && r_37.nextSibling == s_28 || (o.push(t.createRange(n, t.createPositionAfter(r_37))), n = null), i++;
                        } return o; }
                        function ah(t, e) { var n = t.checkChild(e.parent, "blockQuote"), i = t.checkChild(["$root", "blockQuote"], e); return n && i; }
                        var ch = /** @class */ (function (_super) {
                            __extends(ch, _super);
                            function ch() {
                                return _super !== null && _super.apply(this, arguments) || this;
                            }
                            Object.defineProperty(ch, "pluginName", {
                                get: function () { return "BlockQuoteEditing"; },
                                enumerable: true,
                                configurable: true
                            });
                            ch.prototype.init = function () { var t = this.editor, e = t.model.schema; t.commands.add("blockQuote", new oh(t)), e.register("blockQuote", { allowWhere: "$block", allowContentOf: "$root" }), e.addChildCheck(function (t, e) { if (t.endsWith("blockQuote") && "blockQuote" == e.name)
                                return !1; }), t.conversion.elementToElement({ model: "blockQuote", view: "blockquote" }), t.model.document.registerPostFixer(function (n) {
                                var e_539, _j, e_540, _q;
                                var i = t.model.document.differ.getChanges();
                                try {
                                    for (var i_144 = __values(i), i_144_1 = i_144.next(); !i_144_1.done; i_144_1 = i_144.next()) {
                                        var t_274 = i_144_1.value;
                                        if ("insert" == t_274.type) {
                                            var i_145 = t_274.position.nodeAfter;
                                            if (!i_145)
                                                continue;
                                            if (i_145.is("blockQuote") && i_145.isEmpty)
                                                return n.remove(i_145), !0;
                                            if (i_145.is("blockQuote") && !e.checkChild(t_274.position, i_145))
                                                return n.unwrap(i_145), !0;
                                            if (i_145.is("element")) {
                                                var t_275 = n.createRangeIn(i_145);
                                                try {
                                                    for (var _z = __values(t_275.getItems()), _0 = _z.next(); !_0.done; _0 = _z.next()) {
                                                        var i_146 = _0.value;
                                                        if (i_146.is("blockQuote") && !e.checkChild(n.createPositionBefore(i_146), i_146))
                                                            return n.unwrap(i_146), !0;
                                                    }
                                                }
                                                catch (e_540_1) { e_540 = { error: e_540_1 }; }
                                                finally {
                                                    try {
                                                        if (_0 && !_0.done && (_q = _z.return)) _q.call(_z);
                                                    }
                                                    finally { if (e_540) throw e_540.error; }
                                                }
                                            }
                                        }
                                        else if ("remove" == t_274.type) {
                                            var e_541 = t_274.position.parent;
                                            if (e_541.is("blockQuote") && e_541.isEmpty)
                                                return n.remove(e_541), !0;
                                        }
                                    }
                                }
                                catch (e_539_1) { e_539 = { error: e_539_1 }; }
                                finally {
                                    try {
                                        if (i_144_1 && !i_144_1.done && (_j = i_144.return)) _j.call(i_144);
                                    }
                                    finally { if (e_539) throw e_539.error; }
                                }
                                return !1;
                            }); };
                            ch.prototype.afterInit = function () {
                                var _this = this;
                                var t = this.editor.commands.get("blockQuote");
                                this.listenTo(this.editor.editing.view.document, "enter", function (e, n) { var i = _this.editor.model.document, o = i.selection.getLastPosition().parent; i.selection.isCollapsed && o.isEmpty && t.value && (_this.editor.execute("blockQuote"), _this.editor.editing.view.scrollToTheSelection(), n.preventDefault(), e.stop()); });
                            };
                            return ch;
                        }(Sd));
                        var lh = n(89), dh = n.n(lh);
                        n(156);
                        var uh = /** @class */ (function (_super) {
                            __extends(uh, _super);
                            function uh() {
                                return _super !== null && _super.apply(this, arguments) || this;
                            }
                            uh.prototype.init = function () {
                                var _this = this;
                                var t = this.editor, e = t.t;
                                t.ui.componentFactory.add("blockQuote", function (n) { var i = t.commands.get("blockQuote"), o = new ad(n); return o.set({ label: e("h"), icon: dh.a, tooltip: !0, isToggleable: !0 }), o.bind("isOn", "isEnabled").to(i, "value", "isEnabled"), _this.listenTo(o, "execute", function () { return t.execute("blockQuote"); }), o; });
                            };
                            return uh;
                        }(Sd));
                        var hh = n(90), fh = n.n(hh);
                        var ph = /** @class */ (function (_super) {
                            __extends(ph, _super);
                            function ph() {
                                return _super !== null && _super.apply(this, arguments) || this;
                            }
                            Object.defineProperty(ph, "pluginName", {
                                get: function () { return "CKFinderUI"; },
                                enumerable: true,
                                configurable: true
                            });
                            ph.prototype.init = function () { var t = this.editor, e = t.ui.componentFactory, n = t.t; e.add("ckfinder", function (e) { var i = t.commands.get("ckfinder"), o = new ad(e); return o.set({ label: n("i"), icon: fh.a, tooltip: !0 }), o.bind("isEnabled").to(i), o.on("execute", function () { t.execute("ckfinder"), t.editing.view.focus(); }), o; }); };
                            return ph;
                        }(Sd));
                        var mh = /** @class */ (function (_super) {
                            __extends(mh, _super);
                            function mh() {
                                return _super !== null && _super.apply(this, arguments) || this;
                            }
                            mh.prototype.observe = function (t) {
                                var _this = this;
                                this.listenTo(t, "load", function (t, e) { "IMG" == e.target.tagName && _this._fireEvents(e); }, { useCapture: !0 });
                            };
                            mh.prototype._fireEvents = function (t) { this.isEnabled && (this.document.fire("layoutChanged"), this.document.fire("imageLoaded", t)); };
                            return mh;
                        }(pr));
                        function gh(t) { return function (n) { n.on("attribute:" + t + ":image", e); }; function e(t, e, n) { if (!n.consumable.consume(e.item, t.name))
                            return; var i = n.writer, o = n.mapper.toViewElement(e.item).getChild(0); null !== e.attributeNewValue ? i.setAttribute(e.attributeKey, e.attributeNewValue, o) : i.removeAttribute(e.attributeKey, o); } }
                        var xh = /** @class */ (function () {
                            function xh() {
                                this._stack = [];
                            }
                            xh.prototype.add = function (t, e) { var n = this._stack, i = n[0]; this._insertDescriptor(t); var o = n[0]; i === o || bh(i, o) || this.fire("change:top", { oldDescriptor: i, newDescriptor: o, writer: e }); };
                            xh.prototype.remove = function (t, e) { var n = this._stack, i = n[0]; this._removeDescriptor(t); var o = n[0]; i === o || bh(i, o) || this.fire("change:top", { oldDescriptor: i, newDescriptor: o, writer: e }); };
                            xh.prototype._insertDescriptor = function (t) { var e = this._stack, n = e.findIndex(function (e) { return e.id === t.id; }); if (bh(t, e[n]))
                                return; n > -1 && e.splice(n, 1); var i = 0; for (; e[i] && kh(e[i], t);)
                                i++; e.splice(i, 0, t); };
                            xh.prototype._removeDescriptor = function (t) { var e = this._stack, n = e.findIndex(function (e) { return e.id === t; }); n > -1 && e.splice(n, 1); };
                            return xh;
                        }());
                        function bh(t, e) { return t && e && t.priority == e.priority && wh(t.classes) == wh(e.classes); }
                        function kh(t, e) { return t.priority > e.priority || !(t.priority < e.priority) && wh(t.classes) > wh(e.classes); }
                        function wh(t) { return Array.isArray(t) ? t.sort().join(",") : t; }
                        li(xh, ni);
                        var vh = n(91), yh = n.n(vh);
                        var _h = "ck-widget", Ch = "ck-widget_selected";
                        function Th(t) { return !!t.is("element") && !!t.getCustomProperty("widget"); }
                        function Ah(t, e, n) {
                            if (n === void 0) { n = {}; }
                            return mo.isEdge || e.setAttribute("contenteditable", "false", t), e.addClass(_h, t), e.setCustomProperty("widget", !0, t), t.getFillerOffset = Ih, n.label && function (t, e, n) { n.setCustomProperty("widgetLabel", e, t); }(t, n.label, e), n.hasSelectionHandle && function (t, e) { var n = e.createUIElement("div", { class: "ck ck-widget__selection-handle" }, function (t) { var e = this.toDomElement(t), n = new rd; return n.set("content", yh.a), n.render(), e.appendChild(n.element), e; }); e.insert(e.createPositionAt(t, 0), n), e.addClass(["ck-widget_with-selection-handle"], t); }(t, e), function (t, e, n, i) { var o = new xh; o.on("change:top", function (e, o) { o.oldDescriptor && i(t, o.oldDescriptor, o.writer), o.newDescriptor && n(t, o.newDescriptor, o.writer); }), e.setCustomProperty("addHighlight", function (t, e, n) { return o.add(e, n); }, t), e.setCustomProperty("removeHighlight", function (t, e, n) { return o.remove(e, n); }, t); }(t, e, function (t, e, n) { return n.addClass(i(e.classes), t); }, function (t, e, n) { return n.removeClass(i(e.classes), t); }), t;
                            function i(t) { return Array.isArray(t) ? t : [t]; }
                        }
                        function Sh(t) { var e = t.getCustomProperty("widgetLabel"); return e ? "function" == typeof e ? e() : e : ""; }
                        function Eh(t, e) { return e.addClass(["ck-editor__editable", "ck-editor__nested-editable"], t), mo.isEdge || (e.setAttribute("contenteditable", t.isReadOnly ? "false" : "true", t), t.on("change:isReadOnly", function (n, i, o) { e.setAttribute("contenteditable", o ? "false" : "true", t); })), t.on("change:isFocused", function (n, i, o) { o ? e.addClass("ck-editor__nested-editable_focused", t) : e.removeClass("ck-editor__nested-editable_focused", t); }), t; }
                        function Ph(t, e) { var n = t.getSelectedElement(); if (n && e.schema.isBlock(n))
                            return e.createPositionAfter(n); var i = t.getSelectedBlocks().next().value; if (i) {
                            if (i.isEmpty)
                                return e.createPositionAt(i, 0);
                            var n_223 = e.createPositionAfter(i);
                            return t.focus.isTouching(n_223) ? n_223 : e.createPositionBefore(i);
                        } return t.focus; }
                        function Ih() { return null; }
                        function Nh(t) { var e = t.getSelectedElement(); return e && function (t) { return !!t.getCustomProperty("image") && Th(t); }(e) ? e : null; }
                        function Mh(t) { return !!t && t.is("image"); }
                        function Oh(t, e, n) {
                            if (n === void 0) { n = {}; }
                            var i = t.createElement("image", n), o = Ph(e.document.selection, e);
                            e.insertContent(i, o), i.parent && t.setSelection(i, "on");
                        }
                        function Rh(t) { var e = t.schema, n = t.document.selection; return function (t, e, n) { var i = function (t, e) { var n = Ph(t, e).parent; if (n.isEmpty && !n.is("$root"))
                            return n.parent; return n; }(t, n); return e.checkChild(i, "image"); }(n, e, t) && !function (t, e) { var n = t.getSelectedElement(); return n && e.isObject(n); }(n, e) && function (t) { return __spread(t.focus.getAncestors()).every(function (t) { return !t.is("image"); }); }(n); }
                        var Dh = /** @class */ (function (_super) {
                            __extends(Dh, _super);
                            function Dh() {
                                return _super !== null && _super.apply(this, arguments) || this;
                            }
                            Dh.prototype.refresh = function () { this.isEnabled = Rh(this.editor.model); };
                            Dh.prototype.execute = function (t) { var e = this.editor.model; e.change(function (n) {
                                var e_542, _j;
                                var i = Array.isArray(t.source) ? t.source : [t.source];
                                try {
                                    for (var i_147 = __values(i), i_147_1 = i_147.next(); !i_147_1.done; i_147_1 = i_147.next()) {
                                        var t_276 = i_147_1.value;
                                        Oh(n, e, { src: t_276 });
                                    }
                                }
                                catch (e_542_1) { e_542 = { error: e_542_1 }; }
                                finally {
                                    try {
                                        if (i_147_1 && !i_147_1.done && (_j = i_147.return)) _j.call(i_147);
                                    }
                                    finally { if (e_542) throw e_542.error; }
                                }
                            }); };
                            return Dh;
                        }(Md));
                        var jh = /** @class */ (function (_super) {
                            __extends(jh, _super);
                            function jh() {
                                return _super !== null && _super.apply(this, arguments) || this;
                            }
                            Object.defineProperty(jh, "pluginName", {
                                get: function () { return "ImageEditing"; },
                                enumerable: true,
                                configurable: true
                            });
                            jh.prototype.init = function () { var t = this.editor, e = t.model.schema, n = t.t, i = t.conversion; t.editing.view.addObserver(mh), e.register("image", { isObject: !0, isBlock: !0, allowWhere: "$block", allowAttributes: ["alt", "src", "srcset"] }), i.for("dataDowncast").elementToElement({ model: "image", view: function (t, e) { return Bh(e); } }), i.for("editingDowncast").elementToElement({ model: "image", view: function (t, e) { return (function (t, e, n) { return e.setCustomProperty("image", !0, t), Ah(t, e, { label: function () { var e = t.getChild(0).getAttribute("alt"); return e ? e + " " + n : n; } }); })(Bh(e), e, n("l")); } }), i.for("downcast").add(gh("src")).add(gh("alt")).add(function () { return function (e) { e.on("attribute:srcset:image", t); }; function t(t, e, n) { if (!n.consumable.consume(e.item, t.name))
                                return; var i = n.writer, o = n.mapper.toViewElement(e.item).getChild(0); if (null === e.attributeNewValue) {
                                var t_277 = e.attributeOldValue;
                                t_277.data && (i.removeAttribute("srcset", o), i.removeAttribute("sizes", o), t_277.width && i.removeAttribute("width", o));
                            }
                            else {
                                var t_278 = e.attributeNewValue;
                                t_278.data && (i.setAttribute("srcset", t_278.data, o), i.setAttribute("sizes", "100vw", o), t_278.width && i.setAttribute("width", t_278.width, o));
                            } } }()), i.for("upcast").elementToElement({ view: { name: "img", attributes: { src: !0 } }, model: function (t, e) { return e.createElement("image", { src: t.getAttribute("src") }); } }).attributeToAttribute({ view: { name: "img", key: "alt" }, model: "alt" }).attributeToAttribute({ view: { name: "img", key: "srcset" }, model: { key: "srcset", value: function (t) { var e = { data: t.getAttribute("srcset") }; return t.hasAttribute("width") && (e.width = t.getAttribute("width")), e; } } }).add(function () { return function (e) { e.on("element:figure", t); }; function t(t, e, n) { if (!n.consumable.test(e.viewItem, { name: !0, classes: "image" }))
                                return; var i = Array.from(e.viewItem.getChildren()).find(function (t) { return t.is("img"); }); if (!i || !i.hasAttribute("src") || !n.consumable.test(i, { name: !0 }))
                                return; var o = n.convertItem(i, e.modelCursor), r = ih(o.modelRange.getItems()); r && (n.convertChildren(e.viewItem, n.writer.createPositionAt(r, 0)), e.modelRange = o.modelRange, e.modelCursor = o.modelCursor); } }()), t.commands.add("imageInsert", new Dh(t)); };
                            return jh;
                        }(Sd));
                        function Bh(t) { var e = t.createEmptyElement("img"), n = t.createContainerElement("figure", { class: "image" }); return t.insert(t.createPositionAt(n, 0), e), n; }
                        function Lh(t, e, n) { return n.createRange(Vh(t, e, !0, n), Vh(t, e, !1, n)); }
                        function Vh(t, e, n, i) { var o = t.textNode || (n ? t.nodeBefore : t.nodeAfter), r = null; for (; o && o.getAttribute("linkHref") == e;)
                            r = o, o = n ? o.previousSibling : o.nextSibling; return r ? i.createPositionAt(r, n ? "before" : "after") : t; }
                        var Fh = /** @class */ (function (_super) {
                            __extends(Fh, _super);
                            function Fh(t) {
                                var _this = this;
                                _this = _super.call(this, t) || this, _this.manualDecorators = new ro;
                                return _this;
                            }
                            Fh.prototype.restoreManualDecoratorStates = function () {
                                var e_543, _j;
                                try {
                                    for (var _q = __values(this.manualDecorators), _z = _q.next(); !_z.done; _z = _q.next()) {
                                        var t_279 = _z.value;
                                        t_279.value = this._getDecoratorStateFromModel(t_279.id);
                                    }
                                }
                                catch (e_543_1) { e_543 = { error: e_543_1 }; }
                                finally {
                                    try {
                                        if (_z && !_z.done && (_j = _q.return)) _j.call(_q);
                                    }
                                    finally { if (e_543) throw e_543.error; }
                                }
                            };
                            Fh.prototype.refresh = function () {
                                var e_544, _j;
                                var t = this.editor.model, e = t.document;
                                this.value = e.selection.getAttribute("linkHref");
                                try {
                                    for (var _q = __values(this.manualDecorators), _z = _q.next(); !_z.done; _z = _q.next()) {
                                        var t_280 = _z.value;
                                        t_280.value = this._getDecoratorStateFromModel(t_280.id);
                                    }
                                }
                                catch (e_544_1) { e_544 = { error: e_544_1 }; }
                                finally {
                                    try {
                                        if (_z && !_z.done && (_j = _q.return)) _j.call(_q);
                                    }
                                    finally { if (e_544) throw e_544.error; }
                                }
                                this.isEnabled = t.schema.checkAttributeInSelection(e.selection, "linkHref");
                            };
                            Fh.prototype.execute = function (t, e) {
                                if (e === void 0) { e = {}; }
                                var n = this.editor.model, i = n.document.selection, o = [], r = [];
                                for (var t_281 in e)
                                    e[t_281] ? o.push(t_281) : r.push(t_281);
                                n.change(function (e) {
                                    var e_545, _j;
                                    if (i.isCollapsed) {
                                        var s_30 = i.getFirstPosition();
                                        if (i.hasAttribute("linkHref")) {
                                            var a_13 = Lh(s_30, i.getAttribute("linkHref"), n);
                                            e.setAttribute("linkHref", t, a_13), o.forEach(function (t) { e.setAttribute(t, !0, a_13); }), r.forEach(function (t) { e.removeAttribute(t, a_13); }), e.setSelection(a_13);
                                        }
                                        else if ("" !== t) {
                                            var r_38 = Fs(i.getAttributes());
                                            r_38.set("linkHref", t), o.forEach(function (t) { r_38.set(t, !0); });
                                            var a_14 = e.createText(t, r_38);
                                            n.insertContent(a_14, s_30), e.setSelection(e.createRangeOn(a_14));
                                        }
                                    }
                                    else {
                                        var s_31 = n.schema.getValidRanges(i.getRanges(), "linkHref");
                                        var _loop_6 = function (n_224) {
                                            e.setAttribute("linkHref", t, n_224), o.forEach(function (t) { e.setAttribute(t, !0, n_224); }), r.forEach(function (t) { e.removeAttribute(t, n_224); });
                                        };
                                        try {
                                            for (var s_29 = __values(s_31), s_29_1 = s_29.next(); !s_29_1.done; s_29_1 = s_29.next()) {
                                                var n_224 = s_29_1.value;
                                                _loop_6(n_224);
                                            }
                                        }
                                        catch (e_545_1) { e_545 = { error: e_545_1 }; }
                                        finally {
                                            try {
                                                if (s_29_1 && !s_29_1.done && (_j = s_29.return)) _j.call(s_29);
                                            }
                                            finally { if (e_545) throw e_545.error; }
                                        }
                                    }
                                });
                            };
                            Fh.prototype._getDecoratorStateFromModel = function (t) { return this.editor.model.document.selection.getAttribute(t) || !1; };
                            return Fh;
                        }(Md));
                        var zh = /** @class */ (function (_super) {
                            __extends(zh, _super);
                            function zh() {
                                return _super !== null && _super.apply(this, arguments) || this;
                            }
                            zh.prototype.refresh = function () { this.isEnabled = this.editor.model.document.selection.hasAttribute("linkHref"); };
                            zh.prototype.execute = function () { var t = this.editor, e = this.editor.model, n = e.document.selection, i = t.commands.get("link"); e.change(function (t) {
                                var e_546, _j, e_547, _q;
                                var o = n.isCollapsed ? [Lh(n.getFirstPosition(), n.getAttribute("linkHref"), e)] : n.getRanges();
                                try {
                                    for (var o_87 = __values(o), o_87_1 = o_87.next(); !o_87_1.done; o_87_1 = o_87.next()) {
                                        var e_548 = o_87_1.value;
                                        if (t.removeAttribute("linkHref", e_548), i)
                                            try {
                                                for (var _z = __values(i.manualDecorators), _0 = _z.next(); !_0.done; _0 = _z.next()) {
                                                    var n_225 = _0.value;
                                                    t.removeAttribute(n_225.id, e_548);
                                                }
                                            }
                                            catch (e_547_1) { e_547 = { error: e_547_1 }; }
                                            finally {
                                                try {
                                                    if (_0 && !_0.done && (_q = _z.return)) _q.call(_z);
                                                }
                                                finally { if (e_547) throw e_547.error; }
                                            }
                                    }
                                }
                                catch (e_546_1) { e_546 = { error: e_546_1 }; }
                                finally {
                                    try {
                                        if (o_87_1 && !o_87_1.done && (_j = o_87.return)) _j.call(o_87);
                                    }
                                    finally { if (e_546) throw e_546.error; }
                                }
                            }); };
                            return zh;
                        }(Md));
                        var Uh = function (t, e, n) { var i = -1, o = t.length; e < 0 && (e = -e > o ? 0 : o + e), (n = n > o ? o : n) < 0 && (n += o), o = e > n ? 0 : n - e >>> 0, e >>>= 0; for (var r = Array(o); ++i < o;)
                            r[i] = t[i + e]; return r; };
                        var Hh = function (t, e, n) { var i = t.length; return n = void 0 === n ? i : n, !e && n >= i ? t : Uh(t, e, n); }, qh = RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");
                        var Yh = function (t) { return qh.test(t); };
                        var Wh = function (t) { return t.split(""); }, Jh = "[\\ud800-\\udfff]", $h = "[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]", Gh = "\\ud83c[\\udffb-\\udfff]", Kh = "[^\\ud800-\\udfff]", Qh = "(?:\\ud83c[\\udde6-\\uddff]){2}", Zh = "[\\ud800-\\udbff][\\udc00-\\udfff]", Xh = "(?:" + $h + "|" + Gh + ")" + "?", tf = "[\\ufe0e\\ufe0f]?" + Xh + ("(?:\\u200d(?:" + [Kh, Qh, Zh].join("|") + ")[\\ufe0e\\ufe0f]?" + Xh + ")*"), ef = "(?:" + [Kh + $h + "?", $h, Qh, Zh, Jh].join("|") + ")", nf = RegExp(Gh + "(?=" + Gh + ")|" + ef + tf, "g");
                        var of = function (t) { return t.match(nf) || []; };
                        var rf = function (t) { return Yh(t) ? of(t) : Wh(t); };
                        var sf = function (t, e) { for (var n = -1, i = null == t ? 0 : t.length, o = Array(i); ++n < i;)
                            o[n] = e(t[n], n, t); return o; }, af = 1 / 0, cf = r ? r.prototype : void 0, lf = cf ? cf.toString : void 0;
                        var df = function t(e) { if ("string" == typeof e)
                            return e; if (Wt(e))
                            return sf(e, t) + ""; if (ss(e))
                            return lf ? lf.call(e) : ""; var n = e + ""; return "0" == n && 1 / e == -af ? "-0" : n; };
                        var uf = function (t) { return null == t ? "" : df(t); };
                        var hf = function (t) { return function (e) { e = uf(e); var n = Yh(e) ? rf(e) : void 0, i = n ? n[0] : e.charAt(0), o = n ? Hh(n, 1).join("") : e.slice(1); return i[t]() + o; }; }("toUpperCase");
                        var ff = /[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205f\u3000]/g, pf = /^(?:(?:https?|ftps?|mailto):|[^a-z]|[a-z+.-]+(?:[^a-z+.:-]|$))/i;
                        function mf(t, e) { var n = e.createAttributeElement("a", { href: t }, { priority: 5 }); return e.setCustomProperty("link", !0, n), n; }
                        function gf(t) { return function (t) { return t.replace(ff, "").match(pf); }(t = String(t)) ? t : "#"; }
                        var xf = /** @class */ (function () {
                            function xf() {
                                this._definitions = new Set;
                            }
                            Object.defineProperty(xf.prototype, "length", {
                                get: function () { return this._definitions.size; },
                                enumerable: true,
                                configurable: true
                            });
                            xf.prototype.add = function (t) {
                                var _this = this;
                                Array.isArray(t) ? t.forEach(function (t) { return _this._definitions.add(t); }) : this._definitions.add(t);
                            };
                            xf.prototype.getDispatcher = function () {
                                var _this = this;
                                return function (t) { t.on("attribute:linkHref", function (t, e, n) {
                                    var e_549, _j;
                                    if (!n.consumable.test(e.item, "attribute:linkHref"))
                                        return;
                                    var i = n.writer, o = i.document.selection;
                                    try {
                                        for (var _q = __values(_this._definitions), _z = _q.next(); !_z.done; _z = _q.next()) {
                                            var t_282 = _z.value;
                                            var r_39 = i.createAttributeElement("a", t_282.attributes, { priority: 5 });
                                            i.setCustomProperty("link", !0, r_39), t_282.callback(e.attributeNewValue) ? e.item.is("selection") ? i.wrap(o.getFirstRange(), r_39) : i.wrap(n.mapper.toViewRange(e.range), r_39) : i.unwrap(n.mapper.toViewRange(e.range), r_39);
                                        }
                                    }
                                    catch (e_549_1) { e_549 = { error: e_549_1 }; }
                                    finally {
                                        try {
                                            if (_z && !_z.done && (_j = _q.return)) _j.call(_q);
                                        }
                                        finally { if (e_549) throw e_549.error; }
                                    }
                                }, { priority: "high" }); };
                            };
                            return xf;
                        }());
                        var bf = /** @class */ (function () {
                            function bf(_j) {
                                var t = _j.id, e = _j.label, n = _j.attributes;
                                this.id = t, this.set("value"), this.label = e, this.attributes = n;
                            }
                            return bf;
                        }());
                        li(bf, Ui);
                        var kf = /** @class */ (function () {
                            function kf(t, e, n) {
                                var _this = this;
                                this.model = t, this.attribute = n, this._modelSelection = t.document.selection, this._overrideUid = null, this._isNextGravityRestorationSkipped = !1, e.listenTo(this._modelSelection, "change:range", function (t, e) { _this._isNextGravityRestorationSkipped ? _this._isNextGravityRestorationSkipped = !1 : _this._isGravityOverridden && (!e.directChange && wf(_this._modelSelection.getFirstPosition(), n) || _this._restoreGravity()); });
                            }
                            kf.prototype.handleForwardMovement = function (t, e) { var n = this.attribute; if (!(this._isGravityOverridden || t.isAtStart && this._hasSelectionAttribute))
                                return _f(t, n) && this._hasSelectionAttribute ? (this._preventCaretMovement(e), this._removeSelectionAttribute(), !0) : vf(t, n) ? (this._preventCaretMovement(e), this._overrideGravity(), !0) : yf(t, n) && this._hasSelectionAttribute ? (this._preventCaretMovement(e), this._overrideGravity(), !0) : void 0; };
                            kf.prototype.handleBackwardMovement = function (t, e) { var n = this.attribute; return this._isGravityOverridden ? _f(t, n) && this._hasSelectionAttribute ? (this._preventCaretMovement(e), this._restoreGravity(), this._removeSelectionAttribute(), !0) : (this._preventCaretMovement(e), this._restoreGravity(), t.isAtStart && this._removeSelectionAttribute(), !0) : _f(t, n) && !this._hasSelectionAttribute ? (this._preventCaretMovement(e), this._setSelectionAttributeFromTheNodeBefore(t), !0) : t.isAtEnd && yf(t, n) ? this._hasSelectionAttribute ? void (Cf(t, n) && (this._skipNextAutomaticGravityRestoration(), this._overrideGravity())) : (this._preventCaretMovement(e), this._setSelectionAttributeFromTheNodeBefore(t), !0) : t.isAtStart ? this._hasSelectionAttribute ? (this._removeSelectionAttribute(), this._preventCaretMovement(e), !0) : void 0 : void (Cf(t, n) && (this._skipNextAutomaticGravityRestoration(), this._overrideGravity())); };
                            Object.defineProperty(kf.prototype, "_isGravityOverridden", {
                                get: function () { return !!this._overrideUid; },
                                enumerable: true,
                                configurable: true
                            });
                            Object.defineProperty(kf.prototype, "_hasSelectionAttribute", {
                                get: function () { return this._modelSelection.hasAttribute(this.attribute); },
                                enumerable: true,
                                configurable: true
                            });
                            kf.prototype._overrideGravity = function () { this._overrideUid = this.model.change(function (t) { return t.overrideSelectionGravity(); }); };
                            kf.prototype._restoreGravity = function () {
                                var _this = this;
                                this.model.change(function (t) { t.restoreSelectionGravity(_this._overrideUid), _this._overrideUid = null; });
                            };
                            kf.prototype._preventCaretMovement = function (t) { t.preventDefault(); };
                            kf.prototype._removeSelectionAttribute = function () {
                                var _this = this;
                                this.model.change(function (t) { t.removeSelectionAttribute(_this.attribute); });
                            };
                            kf.prototype._setSelectionAttributeFromTheNodeBefore = function (t) {
                                var _this = this;
                                var e = this.attribute;
                                this.model.change(function (n) { n.setSelectionAttribute(_this.attribute, t.nodeBefore.getAttribute(e)); });
                            };
                            kf.prototype._skipNextAutomaticGravityRestoration = function () { this._isNextGravityRestorationSkipped = !0; };
                            return kf;
                        }());
                        function wf(t, e) { return vf(t, e) || yf(t, e); }
                        function vf(t, e) { var n = t.nodeBefore, i = t.nodeAfter, o = !!n && n.hasAttribute(e); return !!i && i.hasAttribute(e) && (!o || n.getAttribute(e) !== i.getAttribute(e)); }
                        function yf(t, e) { var n = t.nodeBefore, i = t.nodeAfter, o = !!n && n.hasAttribute(e), r = !!i && i.hasAttribute(e); return o && (!r || n.getAttribute(e) !== i.getAttribute(e)); }
                        function _f(t, e) { var n = t.nodeBefore, i = t.nodeAfter, o = !!n && n.hasAttribute(e); if (!!i && i.hasAttribute(e) && o)
                            return i.getAttribute(e) !== n.getAttribute(e); }
                        function Cf(t, e) { return wf(t.getShiftedBy(-1), e); }
                        n(158);
                        var Tf = "ck-link_selected", Af = "automatic", Sf = "manual", Ef = /^(https?:)?\/\//;
                        var Pf = /** @class */ (function (_super) {
                            __extends(Pf, _super);
                            function Pf(t) {
                                var _this = this;
                                _this = _super.call(this, t) || this, t.config.define("link", { addTargetToExternalLinks: !1 });
                                return _this;
                            }
                            Object.defineProperty(Pf, "pluginName", {
                                get: function () { return "LinkEditing"; },
                                enumerable: true,
                                configurable: true
                            });
                            Pf.prototype.init = function () { var t = this.editor, e = t.locale; t.model.schema.extend("$text", { allowAttributes: "linkHref" }), t.conversion.for("dataDowncast").attributeToElement({ model: "linkHref", view: mf }), t.conversion.for("editingDowncast").attributeToElement({ model: "linkHref", view: function (t, e) { return mf(gf(t), e); } }), t.conversion.for("upcast").elementToAttribute({ view: { name: "a", attributes: { href: !0 } }, model: { key: "linkHref", value: function (t) { return t.getAttribute("href"); } } }), t.commands.add("link", new Fh(t)), t.commands.add("unlink", new zh(t)); var n = function (t, e) { var n = { "Open in a new tab": t("cs"), Downloadable: t("ct") }; return e.forEach(function (t) { return (t.label && n[t.label] && (t.label = n[t.label]), t); }), e; }(t.t, function (t) {
                                var e_550, _j;
                                var e = [];
                                if (t)
                                    try {
                                        for (var _q = __values(Object.entries(t)), _z = _q.next(); !_z.done; _z = _q.next()) {
                                            var _0 = __read(_z.value, 2), n_226 = _0[0], i_148 = _0[1];
                                            var t_283 = Object.assign({}, i_148, { id: "link" + hf(n_226) });
                                            e.push(t_283);
                                        }
                                    }
                                    catch (e_550_1) { e_550 = { error: e_550_1 }; }
                                    finally {
                                        try {
                                            if (_z && !_z.done && (_j = _q.return)) _j.call(_q);
                                        }
                                        finally { if (e_550) throw e_550.error; }
                                    }
                                return e;
                            }(t.config.get("link.decorators"))); this._enableAutomaticDecorators(n.filter(function (t) { return t.mode === Af; })), this._enableManualDecorators(n.filter(function (t) { return t.mode === Sf; })), function (_j) {
                                var t = _j.view, e = _j.model, n = _j.emitter, i = _j.attribute, o = _j.locale;
                                var r = new kf(e, n, i), s = e.document.selection;
                                n.listenTo(t.document, "keydown", function (t, e) { if (!s.isCollapsed)
                                    return; if (e.shiftKey || e.altKey || e.ctrlKey)
                                    return; var n = e.keyCode == bo.arrowright, i = e.keyCode == bo.arrowleft; if (!n && !i)
                                    return; var a = s.getFirstPosition(), c = o.contentLanguageDirection; var l; (l = "ltr" === c && n || "rtl" === c && i ? r.handleForwardMovement(a, e) : r.handleBackwardMovement(a, e)) && t.stop(); }, { priority: Xn.get("high") + 1 });
                            }({ view: t.editing.view, model: t.model, emitter: this, attribute: "linkHref", locale: e }), this._setupLinkHighlight(); };
                            Pf.prototype._enableAutomaticDecorators = function (t) { var e = this.editor, n = new xf; e.config.get("link.addTargetToExternalLinks") && n.add({ id: "linkIsExternal", mode: Af, callback: function (t) { return Ef.test(t); }, attributes: { target: "_blank", rel: "noopener noreferrer" } }), n.add(t), n.length && e.conversion.for("downcast").add(n.getDispatcher()); };
                            Pf.prototype._enableManualDecorators = function (t) { if (!t.length)
                                return; var e = this.editor, n = e.commands.get("link").manualDecorators; t.forEach(function (t) { e.model.schema.extend("$text", { allowAttributes: t.id }), n.add(new bf(t)), e.conversion.for("downcast").attributeToElement({ model: t.id, view: function (e, i) { if (e) {
                                    var e_551 = n.get(t.id).attributes, o_88 = i.createAttributeElement("a", e_551, { priority: 5 });
                                    return i.setCustomProperty("link", !0, o_88), o_88;
                                } } }), e.conversion.for("upcast").elementToAttribute({ view: { name: "a", attributes: n.get(t.id).attributes }, model: { key: t.id } }); }); };
                            Pf.prototype._setupLinkHighlight = function () { var t = this.editor, e = t.editing.view, n = new Set; e.document.registerPostFixer(function (e) {
                                var e_552, _j;
                                var i = t.model.document.selection;
                                var o = !1;
                                if (i.hasAttribute("linkHref")) {
                                    var r_40 = Lh(i.getFirstPosition(), i.getAttribute("linkHref"), t.model), s_32 = t.editing.mapper.toViewRange(r_40);
                                    try {
                                        for (var _q = __values(s_32.getItems()), _z = _q.next(); !_z.done; _z = _q.next()) {
                                            var t_284 = _z.value;
                                            t_284.is("a") && !t_284.hasClass(Tf) && (e.addClass(Tf, t_284), n.add(t_284), o = !0);
                                        }
                                    }
                                    catch (e_552_1) { e_552 = { error: e_552_1 }; }
                                    finally {
                                        try {
                                            if (_z && !_z.done && (_j = _q.return)) _j.call(_q);
                                        }
                                        finally { if (e_552) throw e_552.error; }
                                    }
                                }
                                return o;
                            }), t.conversion.for("editingDowncast").add(function (t) { function i() { e.change(function (t) {
                                var e_553, _j;
                                try {
                                    for (var _q = __values(n.values()), _z = _q.next(); !_z.done; _z = _q.next()) {
                                        var e_554 = _z.value;
                                        t.removeClass(Tf, e_554), n.delete(e_554);
                                    }
                                }
                                catch (e_553_1) { e_553 = { error: e_553_1 }; }
                                finally {
                                    try {
                                        if (_z && !_z.done && (_j = _q.return)) _j.call(_q);
                                    }
                                    finally { if (e_553) throw e_553.error; }
                                }
                            }); } t.on("insert", i, { priority: "highest" }), t.on("remove", i, { priority: "highest" }), t.on("attribute", i, { priority: "highest" }), t.on("selection", i, { priority: "highest" }); }); };
                            return Pf;
                        }(Sd));
                        var If = /** @class */ (function (_super) {
                            __extends(If, _super);
                            function If() {
                                return _super !== null && _super.apply(this, arguments) || this;
                            }
                            Object.defineProperty(If, "pluginName", {
                                get: function () { return "Notification"; },
                                enumerable: true,
                                configurable: true
                            });
                            If.prototype.init = function () { this.on("show:warning", function (t, e) { window.alert(e.message); }, { priority: "lowest" }); };
                            If.prototype.showSuccess = function (t, e) {
                                if (e === void 0) { e = {}; }
                                this._showNotification({ message: t, type: "success", namespace: e.namespace, title: e.title });
                            };
                            If.prototype.showInfo = function (t, e) {
                                if (e === void 0) { e = {}; }
                                this._showNotification({ message: t, type: "info", namespace: e.namespace, title: e.title });
                            };
                            If.prototype.showWarning = function (t, e) {
                                if (e === void 0) { e = {}; }
                                this._showNotification({ message: t, type: "warning", namespace: e.namespace, title: e.title });
                            };
                            If.prototype._showNotification = function (t) { var e = "show:" + t.type + (t.namespace ? ":" + t.namespace : ""); this.fire(e, { message: t.message, type: t.type, title: t.title || "" }); };
                            return If;
                        }(Sd));
                        var Nf = /** @class */ (function (_super) {
                            __extends(Nf, _super);
                            function Nf(t) {
                                var _this = this;
                                _this = _super.call(this, t) || this, _this.stopListening(_this.editor.model.document, "change"), _this.listenTo(_this.editor.model.document, "change", function () { return _this.refresh(); }, { priority: "low" });
                                return _this;
                            }
                            Nf.prototype.refresh = function () { var t = this.editor.commands.get("imageInsert"), e = this.editor.commands.get("link"); this.isEnabled = t.isEnabled || e.isEnabled; };
                            Nf.prototype.execute = function () { var t = this.editor, e = this.editor.config.get("ckfinder.openerMethod") || "modal"; if ("popup" != e && "modal" != e)
                                throw new Gn.b('ckfinder-unknown-openerMethod: The openerMethod config option must by "popup" or "modal".', t); var n = this.editor.config.get("ckfinder.options") || {}; n.chooseFiles = !0; var i = n.onInit; n.language || (n.language = t.locale.uiLanguage), n.onInit = (function (e) { i && i(e), e.on("files:choose", function (n) {
                                var e_555, _j, e_556, _q;
                                var i = n.data.files.toArray(), o = i.filter(function (t) { return !t.isImage(); }), r = i.filter(function (t) { return t.isImage(); });
                                try {
                                    for (var o_89 = __values(o), o_89_1 = o_89.next(); !o_89_1.done; o_89_1 = o_89.next()) {
                                        var e_557 = o_89_1.value;
                                        t.execute("link", e_557.getUrl());
                                    }
                                }
                                catch (e_555_1) { e_555 = { error: e_555_1 }; }
                                finally {
                                    try {
                                        if (o_89_1 && !o_89_1.done && (_j = o_89.return)) _j.call(o_89);
                                    }
                                    finally { if (e_555) throw e_555.error; }
                                }
                                var s = [];
                                try {
                                    for (var r_41 = __values(r), r_41_1 = r_41.next(); !r_41_1.done; r_41_1 = r_41.next()) {
                                        var t_285 = r_41_1.value;
                                        var n_227 = t_285.getUrl();
                                        s.push(n_227 || e.request("file:getProxyUrl", { file: t_285 }));
                                    }
                                }
                                catch (e_556_1) { e_556 = { error: e_556_1 }; }
                                finally {
                                    try {
                                        if (r_41_1 && !r_41_1.done && (_q = r_41.return)) _q.call(r_41);
                                    }
                                    finally { if (e_556) throw e_556.error; }
                                }
                                s.length && Mf(t, s);
                            }), e.on("file:choose:resizedImage", function (e) { var n = e.data.resizedUrl; if (n)
                                Mf(t, [n]);
                            else {
                                var e_558 = t.plugins.get("Notification"), n_228 = t.locale.t;
                                e_558.showWarning(n_228("bs"), { title: n_228("bt"), namespace: "ckfinder" });
                            } }); }), window.CKFinder[e](n); };
                            return Nf;
                        }(Md));
                        function Mf(t, e) { if (t.commands.get("imageInsert").isEnabled)
                            t.execute("imageInsert", { source: e });
                        else {
                            var e_559 = t.plugins.get("Notification"), n_229 = t.locale.t;
                            e_559.showWarning(n_229("bu"), { title: n_229("bv"), namespace: "ckfinder" });
                        } }
                        var Of = /** @class */ (function (_super) {
                            __extends(Of, _super);
                            function Of() {
                                return _super !== null && _super.apply(this, arguments) || this;
                            }
                            Object.defineProperty(Of, "pluginName", {
                                get: function () { return "CKFinderEditing"; },
                                enumerable: true,
                                configurable: true
                            });
                            Object.defineProperty(Of, "requires", {
                                get: function () { return [If, jh, Pf]; },
                                enumerable: true,
                                configurable: true
                            });
                            Of.prototype.init = function () { var t = this.editor; t.commands.add("ckfinder", new Nf(t)); };
                            return Of;
                        }(Sd));
                        var Rf = /^data:(\S*?);base64,/;
                        var Df = /** @class */ (function () {
                            function Df(t, e, n) {
                                if (!t)
                                    throw new Gn.b("fileuploader-missing-file: File must be provided as the first argument", null);
                                if (!e)
                                    throw new Gn.b("fileuploader-missing-token: Token must be provided as the second argument.", null);
                                if (!n)
                                    throw new Gn.b("fileuploader-missing-api-address: Api address must be provided as the third argument.", null);
                                this.file = function (t) { if ("string" != typeof t)
                                    return !1; var e = t.match(Rf); return !(!e || !e.length); }(t) ? function (t, e) {
                                    if (e === void 0) { e = 512; }
                                    try {
                                        var n_230 = t.match(Rf)[1], i_149 = atob(t.replace(Rf, "")), o_90 = [];
                                        for (var t_286 = 0; t_286 < i_149.length; t_286 += e) {
                                            var n_231 = i_149.slice(t_286, t_286 + e), r_42 = new Array(n_231.length);
                                            for (var t_287 = 0; t_287 < n_231.length; t_287++)
                                                r_42[t_287] = n_231.charCodeAt(t_287);
                                            o_90.push(new Uint8Array(r_42));
                                        }
                                        return new Blob(o_90, { type: n_230 });
                                    }
                                    catch (t) {
                                        throw new Gn.b("fileuploader-decoding-image-data-error: Problem with decoding Base64 image data.", null);
                                    }
                                }(t) : t, this._token = e, this._apiAddress = n;
                            }
                            Df.prototype.onProgress = function (t) { return this.on("progress", function (e, n) { return t(n); }), this; };
                            Df.prototype.onError = function (t) { return this.once("error", function (e, n) { return t(n); }), this; };
                            Df.prototype.abort = function () { this.xhr.abort(); };
                            Df.prototype.send = function () { return this._prepareRequest(), this._attachXHRListeners(), this._sendRequest(); };
                            Df.prototype._prepareRequest = function () { var t = new XMLHttpRequest; t.open("POST", this._apiAddress), t.setRequestHeader("Authorization", this._token.value), t.responseType = "json", this.xhr = t; };
                            Df.prototype._attachXHRListeners = function () {
                                var _this = this;
                                var t = this, e = this.xhr;
                                function n(e) { return function () { return t.fire("error", e); }; }
                                e.addEventListener("error", n("Network Error")), e.addEventListener("abort", n("Abort")), e.upload && e.upload.addEventListener("progress", function (t) { t.lengthComputable && _this.fire("progress", { total: t.total, uploaded: t.loaded }); }), e.addEventListener("load", function () { var t = e.status, n = e.response; if (t < 200 || t > 299)
                                    return _this.fire("error", n.message || n.error); });
                            };
                            Df.prototype._sendRequest = function () {
                                var _this = this;
                                var t = new FormData, e = this.xhr;
                                return t.append("file", this.file), new Promise(function (n, i) { e.addEventListener("load", function () { var t = e.status, o = e.response; return t < 200 || t > 299 ? o.message ? i(new Gn.b("fileuploader-uploading-data-failed: Uploading file failed.", _this, { message: o.message })) : i(o.error) : n(o); }), e.addEventListener("error", function () { return i(new Error("Network Error")); }), e.addEventListener("abort", function () { return i(new Error("Abort")); }), e.send(t); });
                            };
                            return Df;
                        }());
                        li(Df, ni);
                        var jf = { refreshInterval: 36e5, autoRefresh: !0 };
                        var Bf = /** @class */ (function () {
                            function Bf(t, e) {
                                if (e === void 0) { e = jf; }
                                if (!t)
                                    throw new Gn.b("token-missing-token-url: A `tokenUrl` must be provided as the first constructor argument.", this);
                                this.set("value", e.initValue), this._refresh = "function" == typeof t ? t : function () { return (function (t) { return new Promise(function (e, n) { var i = new XMLHttpRequest; i.open("GET", t), i.addEventListener("load", function () { var t = i.status, o = i.response; return t < 200 || t > 299 ? n(new Gn.b("token-cannot-download-new-token: Cannot download new token from the provided url.", null)) : e(o); }), i.addEventListener("error", function () { return n(new Error("Network Error")); }), i.addEventListener("abort", function () { return n(new Error("Abort")); }), i.send(); }); })(t); }, this._options = Object.assign({}, jf, e);
                            }
                            Bf.prototype.init = function () {
                                var _this = this;
                                return new Promise(function (t, e) { _this._options.autoRefresh && _this._startRefreshing(), _this.value ? t(_this) : _this._refreshToken().then(t).catch(e); });
                            };
                            Bf.prototype._refreshToken = function () {
                                var _this = this;
                                return this._refresh().then(function (t) { return _this.set("value", t); }).then(function () { return _this; });
                            };
                            Bf.prototype.destroy = function () { this._stopRefreshing(); };
                            Bf.prototype._startRefreshing = function () {
                                var _this = this;
                                this._refreshInterval = setInterval(function () { return _this._refreshToken(); }, this._options.refreshInterval);
                            };
                            Bf.prototype._stopRefreshing = function () { clearInterval(this._refreshInterval); };
                            Bf.create = function (t, e) {
                                if (e === void 0) { e = jf; }
                                return new Bf(t, e).init();
                            };
                            return Bf;
                        }());
                        li(Bf, Ui);
                        var Lf = Bf;
                        var Vf = /** @class */ (function (_super) {
                            __extends(Vf, _super);
                            function Vf() {
                                return _super !== null && _super.apply(this, arguments) || this;
                            }
                            Object.defineProperty(Vf, "pluginName", {
                                get: function () { return "CloudServices"; },
                                enumerable: true,
                                configurable: true
                            });
                            Vf.prototype.init = function () { var t = this.editor.config.get("cloudServices") || {}; for (var e_560 in t)
                                this[e_560] = t[e_560]; if (this.tokenUrl)
                                return this.token = new Vf.Token(this.tokenUrl), this.token.init(); this.token = null; };
                            return Vf;
                        }(Sd));
                        Vf.Token = Lf;
                        var Ff = /** @class */ (function (_super) {
                            __extends(Ff, _super);
                            function Ff() {
                                return _super !== null && _super.apply(this, arguments) || this;
                            }
                            Object.defineProperty(Ff, "requires", {
                                get: function () { return [Pu, Vf]; },
                                enumerable: true,
                                configurable: true
                            });
                            Ff.prototype.init = function () {
                                var _this = this;
                                var t = this.editor, e = t.plugins.get(Vf), n = e.token, i = e.uploadUrl;
                                n && (this._uploadGateway = new Ff._UploadGateway(n, i), t.plugins.get(Pu).createUploadAdapter = (function (t) { return new zf(_this._uploadGateway, t); }));
                            };
                            return Ff;
                        }(Sd));
                        var zf = /** @class */ (function () {
                            function zf(t, e) {
                                this.uploadGateway = t, this.loader = e;
                            }
                            zf.prototype.upload = function () {
                                var _this = this;
                                return this.loader.file.then(function (t) { return (_this.fileUploader = _this.uploadGateway.upload(t), _this.fileUploader.on("progress", function (t, e) { _this.loader.uploadTotal = e.total, _this.loader.uploaded = e.uploaded; }), _this.fileUploader.send()); });
                            };
                            zf.prototype.abort = function () { this.fileUploader.abort(); };
                            return zf;
                        }());
                        Ff._UploadGateway = /** @class */ (function () {
                            function _UploadGateway(t, e) {
                                if (!t)
                                    throw new Gn.b("uploadgateway-missing-token: Token must be provided.", null);
                                if (!e)
                                    throw new Gn.b("uploadgateway-missing-api-address: Api address must be provided.", null);
                                this._token = t, this._apiAddress = e;
                            }
                            _UploadGateway.prototype.upload = function (t) { return new Df(t, this._token, this._apiAddress); };
                            return _UploadGateway;
                        }());
                        var Uf = /** @class */ (function (_super) {
                            __extends(Uf, _super);
                            function Uf(t) {
                                var _this = this;
                                _this = _super.call(this, t) || this, _this.domEventType = "mousedown";
                                return _this;
                            }
                            Uf.prototype.onDomEvent = function (t) { this.fire(t.type, t); };
                            return Uf;
                        }(ns));
                        n(160);
                        var Hf = wo("Ctrl+A");
                        var qf = /** @class */ (function (_super) {
                            __extends(qf, _super);
                            function qf() {
                                return _super !== null && _super.apply(this, arguments) || this;
                            }
                            Object.defineProperty(qf, "pluginName", {
                                get: function () { return "Widget"; },
                                enumerable: true,
                                configurable: true
                            });
                            qf.prototype.init = function () {
                                var _this = this;
                                var t = this.editor.editing.view, e = t.document;
                                this._previouslySelected = new Set, this.editor.editing.downcastDispatcher.on("selection", function (t, e, n) {
                                    var e_561, _j, e_562, _q;
                                    _this._clearPreviouslySelectedWidgets(n.writer);
                                    var i = n.writer, o = i.document.selection, r = o.getSelectedElement();
                                    var s = null;
                                    try {
                                        for (var _z = __values(o.getRanges()), _0 = _z.next(); !_0.done; _0 = _z.next()) {
                                            var t_289 = _0.value;
                                            try {
                                                for (var t_288 = __values(t_289), t_288_1 = t_288.next(); !t_288_1.done; t_288_1 = t_288.next()) {
                                                    var e_563 = t_288_1.value;
                                                    var t_290 = e_563.item;
                                                    Th(t_290) && !Yf(t_290, s) && (i.addClass(Ch, t_290), _this._previouslySelected.add(t_290), s = t_290, t_290 == r && i.setSelection(o.getRanges(), { fake: !0, label: Sh(r) }));
                                                }
                                            }
                                            catch (e_562_1) { e_562 = { error: e_562_1 }; }
                                            finally {
                                                try {
                                                    if (t_288_1 && !t_288_1.done && (_q = t_288.return)) _q.call(t_288);
                                                }
                                                finally { if (e_562) throw e_562.error; }
                                            }
                                        }
                                    }
                                    catch (e_561_1) { e_561 = { error: e_561_1 }; }
                                    finally {
                                        try {
                                            if (_0 && !_0.done && (_j = _z.return)) _j.call(_z);
                                        }
                                        finally { if (e_561) throw e_561.error; }
                                    }
                                }, { priority: "low" }), t.addObserver(Uf), this.listenTo(e, "mousedown", function () {
                                    var t = [];
                                    for (var _j = 0; _j < arguments.length; _j++) {
                                        t[_j] = arguments[_j];
                                    }
                                    return _this._onMousedown.apply(_this, __spread(t));
                                }), this.listenTo(e, "keydown", function () {
                                    var t = [];
                                    for (var _j = 0; _j < arguments.length; _j++) {
                                        t[_j] = arguments[_j];
                                    }
                                    return _this._onKeydown.apply(_this, __spread(t));
                                }, { priority: "high" }), this.listenTo(e, "delete", function (t, e) { _this._handleDelete("forward" == e.direction) && (e.preventDefault(), t.stop()); }, { priority: "high" });
                            };
                            qf.prototype._onMousedown = function (t, e) { var n = this.editor, i = n.editing.view, o = i.document; var r = e.target; if (function (t) { for (; t;) {
                                if (t.is("editableElement") && !t.is("rootElement"))
                                    return !0;
                                if (Th(t))
                                    return !1;
                                t = t.parent;
                            } return !1; }(r)) {
                                if (mo.isSafari && e.domEvent.detail >= 3) {
                                    var t_291 = n.editing.mapper.toModelElement(r);
                                    this.editor.model.change(function (n) { e.preventDefault(), n.setSelection(t_291, "in"); });
                                }
                                return;
                            } if (!Th(r) && !(r = r.findAncestor(Th)))
                                return; e.preventDefault(), o.isFocused || i.focus(); var s = n.editing.mapper.toModelElement(r); this._setSelectionOverElement(s); };
                            qf.prototype._onKeydown = function (t, e) { var n = e.keyCode, i = "ltr" === this.editor.locale.contentLanguageDirection, o = n == bo.arrowdown || n == bo[i ? "arrowright" : "arrowleft"]; var r = !1; !function (t) { return t == bo.arrowright || t == bo.arrowleft || t == bo.arrowup || t == bo.arrowdown; }(n) ? !function (t) { return ko(t) == Hf; }(e) ? n === bo.enter && (r = this._handleEnterKey(e.shiftKey)) : r = this._selectAllNestedEditableContent() || this._selectAllContent() : r = this._handleArrowKeys(o), r && (e.preventDefault(), t.stop()); };
                            qf.prototype._handleDelete = function (t) {
                                var _this = this;
                                if (this.editor.isReadOnly)
                                    return;
                                var e = this.editor.model.document.selection;
                                if (!e.isCollapsed)
                                    return;
                                var n = this._getObjectElementNextToSelection(t);
                                return n ? (this.editor.model.change(function (t) { var i = e.anchor.parent; for (; i.isEmpty;) {
                                    var e_564 = i;
                                    i = e_564.parent, t.remove(e_564);
                                } _this._setSelectionOverElement(n); }), !0) : void 0;
                            };
                            qf.prototype._handleArrowKeys = function (t) { var e = this.editor.model, n = e.schema, i = e.document.selection, o = i.getSelectedElement(); if (o && n.isObject(o)) {
                                var o_91 = t ? i.getLastPosition() : i.getFirstPosition(), r_43 = n.getNearestSelectionRange(o_91, t ? "forward" : "backward");
                                return r_43 && e.change(function (t) { t.setSelection(r_43); }), !0;
                            } if (!i.isCollapsed)
                                return; var r = this._getObjectElementNextToSelection(t); return r && n.isObject(r) ? (this._setSelectionOverElement(r), !0) : void 0; };
                            qf.prototype._handleEnterKey = function (t) { var e = this.editor.model, n = e.document.selection.getSelectedElement(); if (function (t, e) { return t && e.isObject(t) && !e.isInline(t); }(n, e.schema))
                                return e.change(function (i) { var o = i.createPositionAt(n, t ? "before" : "after"); var r = i.createElement("paragraph"); if (e.schema.isBlock(n.parent)) {
                                    var t_292 = e.schema.findAllowedParent(o, r);
                                    o = i.split(o, t_292).position;
                                } i.insert(r, o), i.setSelection(r, "in"); }), !0; };
                            qf.prototype._selectAllNestedEditableContent = function () { var t = this.editor.model, e = t.document.selection, n = t.schema.getLimitElement(e); return e.getFirstRange().root != n && (t.change(function (t) { t.setSelection(t.createRangeIn(n)); }), !0); };
                            qf.prototype._selectAllContent = function () { var t = this.editor.model, e = this.editor.editing, n = e.view.document.selection.getSelectedElement(); if (n && Th(n)) {
                                var i_150 = e.mapper.toModelElement(n.parent);
                                return t.change(function (t) { t.setSelection(t.createRangeIn(i_150)); }), !0;
                            } return !1; };
                            qf.prototype._setSelectionOverElement = function (t) { this.editor.model.change(function (e) { e.setSelection(e.createRangeOn(t)); }); };
                            qf.prototype._getObjectElementNextToSelection = function (t) { var e = this.editor.model, n = e.schema, i = e.document.selection, o = e.createSelection(i); e.modifySelection(o, { direction: t ? "forward" : "backward" }); var r = t ? o.focus.nodeBefore : o.focus.nodeAfter; return r && n.isObject(r) ? r : null; };
                            qf.prototype._clearPreviouslySelectedWidgets = function (t) {
                                var e_565, _j;
                                try {
                                    for (var _q = __values(this._previouslySelected), _z = _q.next(); !_z.done; _z = _q.next()) {
                                        var e_566 = _z.value;
                                        t.removeClass(Ch, e_566);
                                    }
                                }
                                catch (e_565_1) { e_565 = { error: e_565_1 }; }
                                finally {
                                    try {
                                        if (_z && !_z.done && (_j = _q.return)) _j.call(_q);
                                    }
                                    finally { if (e_565) throw e_565.error; }
                                }
                                this._previouslySelected.clear();
                            };
                            return qf;
                        }(Sd));
                        function Yf(t, e) { return !!e && Array.from(t.getAncestors()).includes(e); }
                        var Wf = /** @class */ (function (_super) {
                            __extends(Wf, _super);
                            function Wf() {
                                return _super !== null && _super.apply(this, arguments) || this;
                            }
                            Wf.prototype.refresh = function () { var t = this.editor.model.document.selection.getSelectedElement(); this.isEnabled = Mh(t), Mh(t) && t.hasAttribute("alt") ? this.value = t.getAttribute("alt") : this.value = !1; };
                            Wf.prototype.execute = function (t) { var e = this.editor.model, n = e.document.selection.getSelectedElement(); e.change(function (e) { e.setAttribute("alt", t.newValue, n); }); };
                            return Wf;
                        }(Md));
                        var Jf = /** @class */ (function (_super) {
                            __extends(Jf, _super);
                            function Jf() {
                                return _super !== null && _super.apply(this, arguments) || this;
                            }
                            Object.defineProperty(Jf, "pluginName", {
                                get: function () { return "ImageTextAlternativeEditing"; },
                                enumerable: true,
                                configurable: true
                            });
                            Jf.prototype.init = function () { this.editor.commands.add("imageTextAlternative", new Wf(this.editor)); };
                            return Jf;
                        }(Sd));
                        n(162);
                        var $f = /** @class */ (function (_super) {
                            __extends($f, _super);
                            function $f(t, e) {
                                var _this = _super.call(this, t) || this;
                                var n = "ck-input-" + Zn(), i = "ck-status-" + Zn();
                                _this.set("label"), _this.set("value"), _this.set("isReadOnly", !1), _this.set("errorText", null), _this.set("infoText", null), _this.labelView = _this._createLabelView(n), _this.inputView = _this._createInputView(e, n, i), _this.statusView = _this._createStatusView(i), _this.bind("_statusText").to(_this, "errorText", _this, "infoText", function (t, e) { return t || e; });
                                var o = _this.bindTemplate;
                                _this.setTemplate({ tag: "div", attributes: { class: ["ck", "ck-labeled-input", o.if("isReadOnly", "ck-disabled")] }, children: [_this.labelView, _this.inputView, _this.statusView] });
                                return _this;
                            }
                            $f.prototype._createLabelView = function (t) { var e = new zl(this.locale); return e.for = t, e.bind("text").to(this, "label"), e; };
                            $f.prototype._createInputView = function (t, e, n) {
                                var _this = this;
                                var i = new t(this.locale, n);
                                return i.id = e, i.ariaDescribedById = n, i.bind("value").to(this), i.bind("isReadOnly").to(this), i.bind("hasError").to(this, "errorText", function (t) { return !!t; }), i.on("input", function () { _this.errorText = null; }), i;
                            };
                            $f.prototype._createStatusView = function (t) { var e = new Vl(this.locale), n = this.bindTemplate; return e.setTemplate({ tag: "div", attributes: { class: ["ck", "ck-labeled-input__status", n.if("errorText", "ck-labeled-input__status_error"), n.if("_statusText", "ck-hidden", function (t) { return !t; })], id: t, role: n.if("errorText", "alert") }, children: [{ text: n.to("_statusText") }] }), e; };
                            $f.prototype.select = function () { this.inputView.select(); };
                            $f.prototype.focus = function () { this.inputView.focus(); };
                            return $f;
                        }(Vl));
                        n(164);
                        var Gf = /** @class */ (function (_super) {
                            __extends(Gf, _super);
                            function Gf(t) {
                                var _this = this;
                                _this = _super.call(this, t) || this, _this.set("value"), _this.set("id"), _this.set("placeholder"), _this.set("isReadOnly", !1), _this.set("hasError", !1), _this.set("ariaDescribedById");
                                var e = _this.bindTemplate;
                                _this.setTemplate({ tag: "input", attributes: { type: "text", class: ["ck", "ck-input", "ck-input-text", e.if("hasError", "ck-error")], id: e.to("id"), placeholder: e.to("placeholder"), readonly: e.to("isReadOnly"), "aria-invalid": e.if("hasError", !0), "aria-describedby": e.to("ariaDescribedById") }, on: { input: e.to("input") } });
                                return _this;
                            }
                            Gf.prototype.render = function () {
                                var _this = this;
                                _super.prototype.render.call(this);
                                var t = function (t) { _this.element.value = t || 0 === t ? t : ""; };
                                t(this.value), this.on("change:value", function (e, n, i) { t(i); });
                            };
                            Gf.prototype.select = function () { this.element.select(); };
                            Gf.prototype.focus = function () { this.element.focus(); };
                            return Gf;
                        }(Vl));
                        function Kf(_j) {
                            var t = _j.view;
                            t.listenTo(t.element, "submit", function (e, n) { n.preventDefault(), t.fire("submit"); }, { useCapture: !0 });
                        }
                        var Qf = n(6), Zf = n.n(Qf), Xf = n(7), tp = n.n(Xf);
                        n(166);
                        var ep = /** @class */ (function (_super) {
                            __extends(ep, _super);
                            function ep(t) {
                                var _this = _super.call(this, t) || this;
                                var e = _this.locale.t;
                                _this.focusTracker = new dl, _this.keystrokes = new el, _this.labeledInput = _this._createLabeledInputView(), _this.saveButtonView = _this._createButton(e("cu"), Zf.a, "ck-button-save"), _this.saveButtonView.type = "submit", _this.cancelButtonView = _this._createButton(e("cv"), tp.a, "ck-button-cancel", "cancel"), _this._focusables = new kl, _this._focusCycler = new $l({ focusables: _this._focusables, focusTracker: _this.focusTracker, keystrokeHandler: _this.keystrokes, actions: { focusPrevious: "shift + tab", focusNext: "tab" } }), _this.setTemplate({ tag: "form", attributes: { class: ["ck", "ck-text-alternative-form"], tabindex: "-1" }, children: [_this.labeledInput, _this.saveButtonView, _this.cancelButtonView] });
                                return _this;
                            }
                            ep.prototype.render = function () {
                                var _this = this;
                                _super.prototype.render.call(this), this.keystrokes.listenTo(this.element), Kf({ view: this }), [this.labeledInput, this.saveButtonView, this.cancelButtonView].forEach(function (t) { _this._focusables.add(t), _this.focusTracker.add(t.element); });
                            };
                            ep.prototype._createButton = function (t, e, n, i) { var o = new ad(this.locale); return o.set({ label: t, icon: e, tooltip: !0 }), o.extendTemplate({ attributes: { class: n } }), i && o.delegate("execute").to(this, i), o; };
                            ep.prototype._createLabeledInputView = function () { var t = this.locale.t, e = new $f(this.locale, Gf); return e.label = t("cx"), e.inputView.placeholder = t("cx"), e; };
                            return ep;
                        }(Vl));
                        n(168);
                        var np = Yl("px"), ip = nr.document.body;
                        var op = /** @class */ (function (_super) {
                            __extends(op, _super);
                            function op(t) {
                                var _this = _super.call(this, t) || this;
                                var e = _this.bindTemplate;
                                _this.set("top", 0), _this.set("left", 0), _this.set("position", "arrow_nw"), _this.set("isVisible", !1), _this.set("withArrow", !0), _this.set("class"), _this.content = _this.createCollection(), _this.setTemplate({ tag: "div", attributes: { class: ["ck", "ck-balloon-panel", e.to("position", function (t) { return "ck-balloon-panel_" + t; }), e.if("isVisible", "ck-balloon-panel_visible"), e.if("withArrow", "ck-balloon-panel_with-arrow"), e.to("class")], style: { top: e.to("top", np), left: e.to("left", np) } }, children: _this.content });
                                return _this;
                            }
                            op.prototype.show = function () { this.isVisible = !0; };
                            op.prototype.hide = function () { this.isVisible = !1; };
                            op.prototype.attachTo = function (t) { this.show(); var e = op.defaultPositions, n = Object.assign({}, { element: this.element, positions: [e.southArrowNorth, e.southArrowNorthWest, e.southArrowNorthEast, e.northArrowSouth, e.northArrowSouthWest, e.northArrowSouthEast], limiter: ip, fitInViewport: !0 }, t), i = op._getOptimalPosition(n), o = parseInt(i.left), r = parseInt(i.top), s = i.name; Object.assign(this, { top: r, left: o, position: s }); };
                            op.prototype.pin = function (t) {
                                var _this = this;
                                this.unpin(), this._pinWhenIsVisibleCallback = (function () { _this.isVisible ? _this._startPinning(t) : _this._stopPinning(); }), this._startPinning(t), this.listenTo(this, "change:isVisible", this._pinWhenIsVisibleCallback);
                            };
                            op.prototype.unpin = function () { this._pinWhenIsVisibleCallback && (this._stopPinning(), this.stopListening(this, "change:isVisible", this._pinWhenIsVisibleCallback), this._pinWhenIsVisibleCallback = null, this.hide()); };
                            op.prototype._startPinning = function (t) {
                                var _this = this;
                                this.attachTo(t);
                                var e = rp(t.target), n = t.limiter ? rp(t.limiter) : ip;
                                this.listenTo(nr.document, "scroll", function (i, o) { var r = o.target, s = e && r.contains(e), a = n && r.contains(n); !s && !a && e && n || _this.attachTo(t); }, { useCapture: !0 }), this.listenTo(nr.window, "resize", function () { _this.attachTo(t); });
                            };
                            op.prototype._stopPinning = function () { this.stopListening(nr.document, "scroll"), this.stopListening(nr.window, "resize"); };
                            return op;
                        }(Vl));
                        function rp(t) { return Wn(t) ? t : _s(t) ? t.commonAncestorContainer : "function" == typeof t ? rp(t()) : null; }
                        function sp(t, e) { return t.top - e.height - op.arrowVerticalOffset; }
                        function ap(t) { return t.bottom + op.arrowVerticalOffset; }
                        op.arrowHorizontalOffset = 25, op.arrowVerticalOffset = 10, op._getOptimalPosition = ed, op.defaultPositions = { northArrowSouth: function (t, e) { return ({ top: sp(t, e), left: t.left + t.width / 2 - e.width / 2, name: "arrow_s" }); }, northArrowSouthEast: function (t, e) { return ({ top: sp(t, e), left: t.left + t.width / 2 - e.width + op.arrowHorizontalOffset, name: "arrow_se" }); }, northArrowSouthWest: function (t, e) { return ({ top: sp(t, e), left: t.left + t.width / 2 - op.arrowHorizontalOffset, name: "arrow_sw" }); }, northWestArrowSouth: function (t, e) { return ({ top: sp(t, e), left: t.left - e.width / 2, name: "arrow_s" }); }, northWestArrowSouthWest: function (t, e) { return ({ top: sp(t, e), left: t.left - op.arrowHorizontalOffset, name: "arrow_sw" }); }, northWestArrowSouthEast: function (t, e) { return ({ top: sp(t, e), left: t.left - e.width + op.arrowHorizontalOffset, name: "arrow_se" }); }, northEastArrowSouth: function (t, e) { return ({ top: sp(t, e), left: t.right - e.width / 2, name: "arrow_s" }); }, northEastArrowSouthEast: function (t, e) { return ({ top: sp(t, e), left: t.right - e.width + op.arrowHorizontalOffset, name: "arrow_se" }); }, northEastArrowSouthWest: function (t, e) { return ({ top: sp(t, e), left: t.right - op.arrowHorizontalOffset, name: "arrow_sw" }); }, southArrowNorth: function (t, e) { return ({ top: ap(t), left: t.left + t.width / 2 - e.width / 2, name: "arrow_n" }); }, southArrowNorthEast: function (t, e) { return ({ top: ap(t), left: t.left + t.width / 2 - e.width + op.arrowHorizontalOffset, name: "arrow_ne" }); }, southArrowNorthWest: function (t, e) { return ({ top: ap(t), left: t.left + t.width / 2 - op.arrowHorizontalOffset, name: "arrow_nw" }); }, southWestArrowNorth: function (t, e) { return ({ top: ap(t), left: t.left - e.width / 2, name: "arrow_n" }); }, southWestArrowNorthWest: function (t, e) { return ({ top: ap(t), left: t.left - op.arrowHorizontalOffset, name: "arrow_nw" }); }, southWestArrowNorthEast: function (t, e) { return ({ top: ap(t), left: t.left - e.width + op.arrowHorizontalOffset, name: "arrow_ne" }); }, southEastArrowNorth: function (t, e) { return ({ top: ap(t), left: t.right - e.width / 2, name: "arrow_n" }); }, southEastArrowNorthEast: function (t, e) { return ({ top: ap(t), left: t.right - e.width + op.arrowHorizontalOffset, name: "arrow_ne" }); }, southEastArrowNorthWest: function (t, e) { return ({ top: ap(t), left: t.right - op.arrowHorizontalOffset, name: "arrow_nw" }); } };
                        var cp = n(92), lp = n.n(cp), dp = n(93), up = n.n(dp);
                        n(170), n(172);
                        var hp = Yl("px");
                        var fp = /** @class */ (function (_super) {
                            __extends(fp, _super);
                            function fp(t) {
                                var _this = this;
                                _this = _super.call(this, t) || this, _this.positionLimiter = (function () { var t = _this.editor.editing.view, e = t.document.selection.editableElement; return e ? t.domConverter.mapViewToDom(e.root) : null; }), _this.set("visibleView", null), _this.view = new op(t.locale), t.ui.view.body.add(_this.view), t.ui.focusTracker.add(_this.view.element), _this._viewToStack = new Map, _this._idToStack = new Map, _this.set("_numberOfStacks", 0), _this.set("_singleViewMode", !1), _this._rotatorView = _this._createRotatorView(), _this._fakePanelsView = _this._createFakePanelsView();
                                return _this;
                            }
                            Object.defineProperty(fp, "pluginName", {
                                get: function () { return "ContextualBalloon"; },
                                enumerable: true,
                                configurable: true
                            });
                            fp.prototype.hasView = function (t) { return Array.from(this._viewToStack.keys()).includes(t); };
                            fp.prototype.add = function (t) { if (this.hasView(t.view))
                                throw new Gn.b("contextualballoon-add-view-exist: Cannot add configuration of the same view twice.", [this, t]); var e = t.stackId || "main"; if (!this._idToStack.has(e))
                                return this._idToStack.set(e, new Map([[t.view, t]])), this._viewToStack.set(t.view, this._idToStack.get(e)), this._numberOfStacks = this._idToStack.size, void (this._visibleStack && !t.singleViewMode || this.showStack(e)); var n = this._idToStack.get(e); t.singleViewMode && this.showStack(e), n.set(t.view, t), this._viewToStack.set(t.view, n), n === this._visibleStack && this._showView(t); };
                            fp.prototype.remove = function (t) { if (!this.hasView(t))
                                throw new Gn.b("contextualballoon-remove-view-not-exist: Cannot remove the configuration of a non-existent view.", [this, t]); var e = this._viewToStack.get(t); this._singleViewMode && this.visibleView === t && (this._singleViewMode = !1), this.visibleView === t && (1 === e.size ? this._idToStack.size > 1 ? this._showNextStack() : (this.view.hide(), this.visibleView = null, this._rotatorView.hideView()) : this._showView(Array.from(e.values())[e.size - 2])), 1 === e.size ? (this._idToStack.delete(this._getStackId(e)), this._numberOfStacks = this._idToStack.size) : e.delete(t), this._viewToStack.delete(t); };
                            fp.prototype.updatePosition = function (t) { t && (this._visibleStack.get(this.visibleView).position = t), this.view.pin(this._getBalloonPosition()), this._fakePanelsView.updatePosition(); };
                            fp.prototype.showStack = function (t) { this.visibleStack = t; var e = this._idToStack.get(t); if (!e)
                                throw new Gn.b("contextualballoon-showstack-stack-not-exist: Cannot show a stack that does not exist.", this); this._visibleStack !== e && this._showView(Array.from(e.values()).pop()); };
                            Object.defineProperty(fp.prototype, "_visibleStack", {
                                get: function () { return this._viewToStack.get(this.visibleView); },
                                enumerable: true,
                                configurable: true
                            });
                            fp.prototype._getStackId = function (t) { return Array.from(this._idToStack.entries()).find(function (e) { return e[1] === t; })[0]; };
                            fp.prototype._showNextStack = function () { var t = Array.from(this._idToStack.values()); var e = t.indexOf(this._visibleStack) + 1; t[e] || (e = 0), this.showStack(this._getStackId(t[e])); };
                            fp.prototype._showPrevStack = function () { var t = Array.from(this._idToStack.values()); var e = t.indexOf(this._visibleStack) - 1; t[e] || (e = t.length - 1), this.showStack(this._getStackId(t[e])); };
                            fp.prototype._createRotatorView = function () {
                                var _this = this;
                                var t = new pp(this.editor.locale), e = this.editor.locale.t;
                                return this.view.content.add(t), t.bind("isNavigationVisible").to(this, "_numberOfStacks", this, "_singleViewMode", function (t, e) { return !e && t > 1; }), t.on("change:isNavigationVisible", function () { return _this.updatePosition(); }, { priority: "low" }), t.bind("counter").to(this, "visibleView", this, "_numberOfStacks", function (t, n) { if (n < 2)
                                    return ""; var i = Array.from(_this._idToStack.values()).indexOf(_this._visibleStack) + 1; return e("cy", [i, n]); }), t.buttonNextView.on("execute", function () { t.focusTracker.isFocused && _this.editor.editing.view.focus(), _this._showNextStack(); }), t.buttonPrevView.on("execute", function () { t.focusTracker.isFocused && _this.editor.editing.view.focus(), _this._showPrevStack(); }), t;
                            };
                            fp.prototype._createFakePanelsView = function () { var t = new mp(this.editor.locale, this.view); return t.bind("numberOfPanels").to(this, "_numberOfStacks", this, "_singleViewMode", function (t, e) { return !e && t >= 2 ? Math.min(t - 1, 2) : 0; }), t.listenTo(this.view, "change:top", function () { return t.updatePosition(); }), t.listenTo(this.view, "change:left", function () { return t.updatePosition(); }), this.editor.ui.view.body.add(t), t; };
                            fp.prototype._showView = function (_j) {
                                var t = _j.view, _q = _j.balloonClassName, e = _q === void 0 ? "" : _q, _z = _j.withArrow, n = _z === void 0 ? !0 : _z, _0 = _j.singleViewMode, i = _0 === void 0 ? !1 : _0;
                                this.view.class = e, this.view.withArrow = n, this._rotatorView.showView(t), this.visibleView = t, this.view.pin(this._getBalloonPosition()), this._fakePanelsView.updatePosition(), i && (this._singleViewMode = !0);
                            };
                            fp.prototype._getBalloonPosition = function () { var t = Array.from(this._visibleStack.values()).pop().position; return t && !t.limiter && (t = Object.assign({}, t, { limiter: this.positionLimiter })), t; };
                            return fp;
                        }(Sd));
                        var pp = /** @class */ (function (_super) {
                            __extends(pp, _super);
                            function pp(t) {
                                var _this = _super.call(this, t) || this;
                                var e = t.t, n = _this.bindTemplate;
                                _this.set("isNavigationVisible", !0), _this.focusTracker = new dl, _this.buttonPrevView = _this._createButtonView(e("cz"), lp.a), _this.buttonNextView = _this._createButtonView(e("da"), up.a), _this.content = _this.createCollection(), _this.setTemplate({ tag: "div", attributes: { class: ["ck", "ck-balloon-rotator"], "z-index": "-1" }, children: [{ tag: "div", attributes: { class: ["ck-balloon-rotator__navigation", n.to("isNavigationVisible", function (t) { return t ? "" : "ck-hidden"; })] }, children: [_this.buttonPrevView, { tag: "span", attributes: { class: ["ck-balloon-rotator__counter"] }, children: [{ text: n.to("counter") }] }, _this.buttonNextView] }, { tag: "div", attributes: { class: "ck-balloon-rotator__content" }, children: _this.content }] });
                                return _this;
                            }
                            pp.prototype.render = function () { _super.prototype.render.call(this), this.focusTracker.add(this.element); };
                            pp.prototype.showView = function (t) { this.hideView(), this.content.add(t); };
                            pp.prototype.hideView = function () { this.content.clear(); };
                            pp.prototype._createButtonView = function (t, e) { var n = new ad(this.locale); return n.set({ label: t, icon: e, tooltip: !0 }), n; };
                            return pp;
                        }(Vl));
                        var mp = /** @class */ (function (_super) {
                            __extends(mp, _super);
                            function mp(t, e) {
                                var _this = _super.call(this, t) || this;
                                var n = _this.bindTemplate;
                                _this.set("top", 0), _this.set("left", 0), _this.set("height", 0), _this.set("width", 0), _this.set("numberOfPanels", 0), _this.content = _this.createCollection(), _this._balloonPanelView = e, _this.setTemplate({ tag: "div", attributes: { class: ["ck-fake-panel", n.to("numberOfPanels", function (t) { return t ? "" : "ck-hidden"; })], style: { top: n.to("top", hp), left: n.to("left", hp), width: n.to("width", hp), height: n.to("height", hp) } }, children: _this.content }), _this.on("change:numberOfPanels", function (t, e, n, i) { n > i ? _this._addPanels(n - i) : _this._removePanels(i - n), _this.updatePosition(); });
                                return _this;
                            }
                            mp.prototype._addPanels = function (t) { for (; t--;) {
                                var t_293 = new Vl;
                                t_293.setTemplate({ tag: "div" }), this.content.add(t_293), this.registerChild(t_293);
                            } };
                            mp.prototype._removePanels = function (t) { for (; t--;) {
                                var t_294 = this.content.last;
                                this.content.remove(t_294), this.deregisterChild(t_294), t_294.destroy();
                            } };
                            mp.prototype.updatePosition = function () { if (this.numberOfPanels) {
                                var _j = this._balloonPanelView, t_295 = _j.top, e_567 = _j.left, _q = new As(this._balloonPanelView.element), n_232 = _q.width, i_151 = _q.height;
                                Object.assign(this, { top: t_295, left: e_567, width: n_232, height: i_151 });
                            } };
                            return mp;
                        }(Vl));
                        var gp = n(94), xp = n.n(gp);
                        function bp(t) { var e = t.editing.view, n = op.defaultPositions; return { target: e.domConverter.viewToDom(e.document.selection.getSelectedElement()), positions: [n.northArrowSouth, n.northArrowSouthWest, n.northArrowSouthEast, n.southArrowNorth, n.southArrowNorthWest, n.southArrowNorthEast] }; }
                        var kp = /** @class */ (function (_super) {
                            __extends(kp, _super);
                            function kp() {
                                return _super !== null && _super.apply(this, arguments) || this;
                            }
                            Object.defineProperty(kp, "requires", {
                                get: function () { return [fp]; },
                                enumerable: true,
                                configurable: true
                            });
                            Object.defineProperty(kp, "pluginName", {
                                get: function () { return "ImageTextAlternativeUI"; },
                                enumerable: true,
                                configurable: true
                            });
                            kp.prototype.init = function () { this._createButton(), this._createForm(); };
                            kp.prototype.destroy = function () { _super.prototype.destroy.call(this), this._form.destroy(); };
                            kp.prototype._createButton = function () {
                                var _this = this;
                                var t = this.editor, e = t.t;
                                t.ui.componentFactory.add("imageTextAlternative", function (n) { var i = t.commands.get("imageTextAlternative"), o = new ad(n); return o.set({ label: e("bw"), icon: xp.a, tooltip: !0 }), o.bind("isEnabled").to(i, "isEnabled"), _this.listenTo(o, "execute", function () { return _this._showForm(); }), o; });
                            };
                            kp.prototype._createForm = function () {
                                var _this = this;
                                var t = this.editor, e = t.editing.view.document;
                                this._balloon = this.editor.plugins.get("ContextualBalloon"), this._form = new ep(t.locale), this._form.render(), this.listenTo(this._form, "submit", function () { t.execute("imageTextAlternative", { newValue: _this._form.labeledInput.inputView.element.value }), _this._hideForm(!0); }), this.listenTo(this._form, "cancel", function () { _this._hideForm(!0); }), this._form.keystrokes.set("Esc", function (t, e) { _this._hideForm(!0), e(); }), this.listenTo(t.ui, "update", function () { Nh(e.selection) ? _this._isVisible && function (t) { var e = t.plugins.get("ContextualBalloon"); if (Nh(t.editing.view.document.selection)) {
                                    var n_233 = bp(t);
                                    e.updatePosition(n_233);
                                } }(t) : _this._hideForm(!0); }), md({ emitter: this._form, activator: function () { return _this._isVisible; }, contextElements: [this._balloon.view.element], callback: function () { return _this._hideForm(); } });
                            };
                            kp.prototype._showForm = function () { if (this._isVisible)
                                return; var t = this.editor, e = t.commands.get("imageTextAlternative"), n = this._form.labeledInput; this._isInBalloon || this._balloon.add({ view: this._form, position: bp(t) }), n.value = n.inputView.element.value = e.value || "", this._form.labeledInput.select(); };
                            kp.prototype._hideForm = function (t) { this._isInBalloon && (this._form.focusTracker.isFocused && this._form.saveButtonView.focus(), this._balloon.remove(this._form), t && this.editor.editing.view.focus()); };
                            Object.defineProperty(kp.prototype, "_isVisible", {
                                get: function () { return this._balloon.visibleView === this._form; },
                                enumerable: true,
                                configurable: true
                            });
                            Object.defineProperty(kp.prototype, "_isInBalloon", {
                                get: function () { return this._balloon.hasView(this._form); },
                                enumerable: true,
                                configurable: true
                            });
                            return kp;
                        }(Sd));
                        var wp = /** @class */ (function (_super) {
                            __extends(wp, _super);
                            function wp() {
                                return _super !== null && _super.apply(this, arguments) || this;
                            }
                            Object.defineProperty(wp, "requires", {
                                get: function () { return [Jf, kp]; },
                                enumerable: true,
                                configurable: true
                            });
                            Object.defineProperty(wp, "pluginName", {
                                get: function () { return "ImageTextAlternative"; },
                                enumerable: true,
                                configurable: true
                            });
                            return wp;
                        }(Sd));
                        n(174);
                        var vp = /** @class */ (function (_super) {
                            __extends(vp, _super);
                            function vp() {
                                return _super !== null && _super.apply(this, arguments) || this;
                            }
                            Object.defineProperty(vp, "requires", {
                                get: function () { return [jh, qf, wp]; },
                                enumerable: true,
                                configurable: true
                            });
                            Object.defineProperty(vp, "pluginName", {
                                get: function () { return "Image"; },
                                enumerable: true,
                                configurable: true
                            });
                            return vp;
                        }(Sd));
                        var yp = /** @class */ (function (_super) {
                            __extends(yp, _super);
                            function yp(t) {
                                var _this = this;
                                _this = _super.call(this, t) || this, _this.buttonView = new ad(t), _this._fileInputView = new _p(t), _this._fileInputView.bind("acceptedType").to(_this), _this._fileInputView.bind("allowMultipleFiles").to(_this), _this._fileInputView.delegate("done").to(_this), _this.setTemplate({ tag: "span", attributes: { class: "ck-file-dialog-button" }, children: [_this.buttonView, _this._fileInputView] }), _this.buttonView.on("execute", function () { _this._fileInputView.open(); });
                                return _this;
                            }
                            yp.prototype.focus = function () { this.buttonView.focus(); };
                            return yp;
                        }(Vl));
                        var _p = /** @class */ (function (_super) {
                            __extends(_p, _super);
                            function _p(t) {
                                var _this = this;
                                _this = _super.call(this, t) || this, _this.set("acceptedType"), _this.set("allowMultipleFiles", !1);
                                var e = _this.bindTemplate;
                                _this.setTemplate({ tag: "input", attributes: { class: ["ck-hidden"], type: "file", tabindex: "-1", accept: e.to("acceptedType"), multiple: e.to("allowMultipleFiles") }, on: { change: e.to(function () { _this.element && _this.element.files && _this.element.files.length && _this.fire("done", _this.element.files), _this.element.value = ""; }) } });
                                return _this;
                            }
                            _p.prototype.open = function () { this.element.click(); };
                            return _p;
                        }(Vl));
                        var Cp = n(95), Tp = n.n(Cp);
                        function Ap(t) { var e = t.map(function (t) { return t.replace("+", "\\+"); }); return new RegExp("^image\\/(" + e.join("|") + ")$"); }
                        function Sp(t) { return new Promise(function (e, n) { var i = t.getAttribute("src"); fetch(i).then(function (t) { return t.blob(); }).then(function (t) { var o = function (t, e) { return t.type ? t.type : e.match(/data:(image\/\w+);base64/) ? e.match(/data:(image\/\w+);base64/)[1].toLowerCase() : "image/jpeg"; }(t, i), r = function (t, e, n) { try {
                            return new File([t], e, { type: n });
                        }
                        catch (t) {
                            return null;
                        } }(t, "image." + o.replace("image/", ""), o); r ? e(r) : n(); }).catch(n); }); }
                        var Ep = /** @class */ (function (_super) {
                            __extends(Ep, _super);
                            function Ep() {
                                return _super !== null && _super.apply(this, arguments) || this;
                            }
                            Ep.prototype.init = function () { var t = this.editor, e = t.t; t.ui.componentFactory.add("imageUpload", function (n) { var i = new yp(n), o = t.commands.get("imageUpload"), r = t.config.get("image.upload.types"), s = Ap(r); return i.set({ acceptedType: r.map(function (t) { return "image/" + t; }).join(","), allowMultipleFiles: !0 }), i.buttonView.set({ label: e("r"), icon: Tp.a, tooltip: !0 }), i.buttonView.bind("isEnabled").to(o), i.on("done", function (e, n) { var i = Array.from(n).filter(function (t) { return s.test(t.type); }); i.length && t.execute("imageUpload", { file: i }); }), i; }); };
                            return Ep;
                        }(Sd));
                        var Pp = n(96), Ip = n.n(Pp);
                        n(176), n(178), n(180);
                        var Np = /** @class */ (function (_super) {
                            __extends(Np, _super);
                            function Np(t) {
                                var _this = this;
                                _this = _super.call(this, t) || this, _this.placeholder = "data:image/svg+xml;utf8," + encodeURIComponent(Ip.a);
                                return _this;
                            }
                            Np.prototype.init = function () {
                                var _this = this;
                                this.editor.editing.downcastDispatcher.on("attribute:uploadStatus:image", function () {
                                    var t = [];
                                    for (var _j = 0; _j < arguments.length; _j++) {
                                        t[_j] = arguments[_j];
                                    }
                                    return _this.uploadStatusChange.apply(_this, __spread(t));
                                });
                            };
                            Np.prototype.uploadStatusChange = function (t, e, n) { var i = this.editor, o = e.item, r = o.getAttribute("uploadId"); if (!n.consumable.consume(e.item, t.name))
                                return; var s = i.plugins.get(Pu), a = r ? e.attributeNewValue : null, c = this.placeholder, l = i.editing.mapper.toViewElement(o), d = n.writer; if ("reading" == a)
                                return Mp(l, d), void Op(c, l, d); if ("uploading" == a) {
                                var t_296 = s.loaders.get(r);
                                return Mp(l, d), void (t_296 ? (Rp(l, d), function (t, e, n, i) { var o = function (t) { var e = t.createUIElement("div", { class: "ck-progress-bar" }); return t.setCustomProperty("progressBar", !0, e), e; }(e); e.insert(e.createPositionAt(t, "end"), o), n.on("change:uploadedPercent", function (t, e, n) { i.change(function (t) { t.setStyle("width", n + "%", o); }); }); }(l, d, t_296, i.editing.view), function (t, e, n) { if (n.data) {
                                    var i_152 = t.getChild(0);
                                    e.setAttribute("src", n.data, i_152);
                                } }(l, d, t_296)) : Op(c, l, d));
                            } "complete" == a && s.loaders.get(r) && !mo.isEdge && function (t, e, n) { var i = e.createUIElement("div", { class: "ck-image-upload-complete-icon" }); e.insert(e.createPositionAt(t, "end"), i), setTimeout(function () { n.change(function (t) { return t.remove(t.createRangeOn(i)); }); }, 3e3); }(l, d, i.editing.view), function (t, e) { jp(t, e, "progressBar"); }(l, d), Rp(l, d), function (t, e) { e.removeClass("ck-appear", t); }(l, d); };
                            return Np;
                        }(Sd));
                        function Mp(t, e) { t.hasClass("ck-appear") || e.addClass("ck-appear", t); }
                        function Op(t, e, n) { e.hasClass("ck-image-upload-placeholder") || n.addClass("ck-image-upload-placeholder", e); var i = e.getChild(0); i.getAttribute("src") !== t && n.setAttribute("src", t, i), Dp(e, "placeholder") || n.insert(n.createPositionAfter(i), function (t) { var e = t.createUIElement("div", { class: "ck-upload-placeholder-loader" }); return t.setCustomProperty("placeholder", !0, e), e; }(n)); }
                        function Rp(t, e) { t.hasClass("ck-image-upload-placeholder") && e.removeClass("ck-image-upload-placeholder", t), jp(t, e, "placeholder"); }
                        function Dp(t, e) {
                            var e_568, _j;
                            try {
                                for (var _q = __values(t.getChildren()), _z = _q.next(); !_z.done; _z = _q.next()) {
                                    var n_234 = _z.value;
                                    if (n_234.getCustomProperty(e))
                                        return n_234;
                                }
                            }
                            catch (e_568_1) { e_568 = { error: e_568_1 }; }
                            finally {
                                try {
                                    if (_z && !_z.done && (_j = _q.return)) _j.call(_q);
                                }
                                finally { if (e_568) throw e_568.error; }
                            }
                        }
                        function jp(t, e, n) { var i = Dp(t, n); i && e.remove(e.createRangeOn(i)); }
                        var Bp = /** @class */ (function () {
                            function Bp() {
                            }
                            Bp.prototype.createDocumentFragment = function (t) { return new Ao(t); };
                            Bp.prototype.createElement = function (t, e, n) { return new wi(t, e, n); };
                            Bp.prototype.createText = function (t) { return new pi(t); };
                            Bp.prototype.clone = function (t, e) {
                                if (e === void 0) { e = !1; }
                                return t._clone(e);
                            };
                            Bp.prototype.appendChild = function (t, e) { return e._appendChild(t); };
                            Bp.prototype.insertChild = function (t, e, n) { return n._insertChild(t, e); };
                            Bp.prototype.removeChildren = function (t, e, n) { return n._removeChildren(t, e); };
                            Bp.prototype.remove = function (t) { var e = t.parent; return e ? this.removeChildren(e.getChildIndex(t), 1, e) : []; };
                            Bp.prototype.replace = function (t, e) { var n = t.parent; if (n) {
                                var i_153 = n.getChildIndex(t);
                                return this.removeChildren(i_153, 1, n), this.insertChild(i_153, e, n), !0;
                            } return !1; };
                            Bp.prototype.unwrapElement = function (t) { var e = t.parent; if (e) {
                                var n_235 = e.getChildIndex(t);
                                this.remove(t), this.insertChild(n_235, t.getChildren(), e);
                            } };
                            Bp.prototype.rename = function (t, e) { var n = new wi(t, e.getAttributes(), e.getChildren()); return this.replace(e, n) ? n : null; };
                            Bp.prototype.setAttribute = function (t, e, n) { n._setAttribute(t, e); };
                            Bp.prototype.removeAttribute = function (t, e) { e._removeAttribute(t); };
                            Bp.prototype.addClass = function (t, e) { e._addClass(t); };
                            Bp.prototype.removeClass = function (t, e) { e._removeClass(t); };
                            Bp.prototype.setStyle = function (t, e, n) { A(t) && void 0 === n && (n = e), n._setStyle(t, e); };
                            Bp.prototype.removeStyle = function (t, e) { e._removeStyle(t); };
                            Bp.prototype.setCustomProperty = function (t, e, n) { n._setCustomProperty(t, e); };
                            Bp.prototype.removeCustomProperty = function (t, e) { return e._removeCustomProperty(t); };
                            Bp.prototype.createPositionAt = function (t, e) { return Xi._createAt(t, e); };
                            Bp.prototype.createPositionAfter = function (t) { return Xi._createAfter(t); };
                            Bp.prototype.createPositionBefore = function (t) { return Xi._createBefore(t); };
                            Bp.prototype.createRange = function (t, e) { return new to(t, e); };
                            Bp.prototype.createRangeOn = function (t) { return to._createOn(t); };
                            Bp.prototype.createRangeIn = function (t) { return to._createIn(t); };
                            Bp.prototype.createSelection = function (t, e, n) { return new io(t, e, n); };
                            return Bp;
                        }());
                        var Lp = /** @class */ (function (_super) {
                            __extends(Lp, _super);
                            function Lp() {
                                return _super !== null && _super.apply(this, arguments) || this;
                            }
                            Lp.prototype.refresh = function () { this.isEnabled = Rh(this.editor.model); };
                            Lp.prototype.execute = function (t) { var e = this.editor, n = e.model, i = e.plugins.get(Pu); n.change(function (e) {
                                var e_569, _j;
                                var o = Array.isArray(t.file) ? t.file : [t.file];
                                try {
                                    for (var o_92 = __values(o), o_92_1 = o_92.next(); !o_92_1.done; o_92_1 = o_92.next()) {
                                        var t_297 = o_92_1.value;
                                        Vp(e, n, i, t_297);
                                    }
                                }
                                catch (e_569_1) { e_569 = { error: e_569_1 }; }
                                finally {
                                    try {
                                        if (o_92_1 && !o_92_1.done && (_j = o_92.return)) _j.call(o_92);
                                    }
                                    finally { if (e_569) throw e_569.error; }
                                }
                            }); };
                            return Lp;
                        }(Md));
                        function Vp(t, e, n, i) { var o = n.createLoader(i); o && Oh(t, e, { uploadId: o.id }); }
                        var Fp = /** @class */ (function (_super) {
                            __extends(Fp, _super);
                            function Fp(t) {
                                var _this = this;
                                _this = _super.call(this, t) || this, t.config.define("image", { upload: { types: ["jpeg", "png", "gif", "bmp", "webp", "tiff"] } });
                                return _this;
                            }
                            Object.defineProperty(Fp, "requires", {
                                get: function () { return [Pu, If, Nd]; },
                                enumerable: true,
                                configurable: true
                            });
                            Object.defineProperty(Fp, "pluginName", {
                                get: function () { return "ImageUploadEditing"; },
                                enumerable: true,
                                configurable: true
                            });
                            Fp.prototype.init = function () {
                                var _this = this;
                                var t = this.editor, e = t.model.document, n = t.model.schema, i = t.conversion, o = t.plugins.get(Pu), r = Ap(t.config.get("image.upload.types"));
                                n.extend("image", { allowAttributes: ["uploadId", "uploadStatus"] }), t.commands.add("imageUpload", new Lp(t)), i.for("upcast").attributeToAttribute({ view: { name: "img", key: "uploadId" }, model: "uploadId" }), this.listenTo(t.editing.view.document, "clipboardInput", function (e, n) { if (function (t) { return Array.from(t.types).includes("text/html") && "" !== t.getData("text/html"); }(n.dataTransfer))
                                    return; var i = Array.from(n.dataTransfer.files).filter(function (t) { return !!t && r.test(t.type); }), o = n.targetRanges.map(function (e) { return t.editing.mapper.toModelRange(e); }); t.model.change(function (n) { n.setSelection(o), i.length && (e.stop(), t.model.enqueueChange("default", function () { t.execute("imageUpload", { file: i }); })); }); }), this.listenTo(t.plugins.get(Nd), "inputTransformation", function (e, n) {
                                    var e_570, _j;
                                    var i = Array.from(t.editing.view.createRangeIn(n.content)).filter(function (t) { return (function (t) { return !(!t.is("element", "img") || !t.getAttribute("src")) && (t.getAttribute("src").match(/^data:image\/\w+;base64,/g) || t.getAttribute("src").match(/^blob:/g)); })(t.item) && !t.item.getAttribute("uploadProcessed"); }).map(function (t) { return ({ promise: Sp(t.item), imageElement: t.item }); });
                                    if (!i.length)
                                        return;
                                    var r = new Bp;
                                    try {
                                        for (var i_154 = __values(i), i_154_1 = i_154.next(); !i_154_1.done; i_154_1 = i_154.next()) {
                                            var t_298 = i_154_1.value;
                                            r.setAttribute("uploadProcessed", !0, t_298.imageElement);
                                            var e_571 = o.createLoader(t_298.promise);
                                            e_571 && (r.setAttribute("src", "", t_298.imageElement), r.setAttribute("uploadId", e_571.id, t_298.imageElement));
                                        }
                                    }
                                    catch (e_570_1) { e_570 = { error: e_570_1 }; }
                                    finally {
                                        try {
                                            if (i_154_1 && !i_154_1.done && (_j = i_154.return)) _j.call(i_154);
                                        }
                                        finally { if (e_570) throw e_570.error; }
                                    }
                                }), t.editing.view.document.on("dragover", function (t, e) { e.preventDefault(); }), e.on("change", function () {
                                    var e_572, _j, e_573, _q;
                                    var n = e.differ.getChanges({ includeChangesInGraveyard: !0 });
                                    try {
                                        for (var n_236 = __values(n), n_236_1 = n_236.next(); !n_236_1.done; n_236_1 = n_236.next()) {
                                            var e_574 = n_236_1.value;
                                            if ("insert" == e_574.type && "$text" != e_574.name) {
                                                var n_237 = e_574.position.nodeAfter, i_155 = "$graveyard" == e_574.position.root.rootName;
                                                try {
                                                    for (var _z = __values(zp(t, n_237)), _0 = _z.next(); !_0.done; _0 = _z.next()) {
                                                        var e_575 = _0.value;
                                                        var t_299 = e_575.getAttribute("uploadId");
                                                        if (!t_299)
                                                            continue;
                                                        var n_238 = o.loaders.get(t_299);
                                                        n_238 && (i_155 ? n_238.abort() : "idle" == n_238.status && _this._readAndUpload(n_238, e_575));
                                                    }
                                                }
                                                catch (e_573_1) { e_573 = { error: e_573_1 }; }
                                                finally {
                                                    try {
                                                        if (_0 && !_0.done && (_q = _z.return)) _q.call(_z);
                                                    }
                                                    finally { if (e_573) throw e_573.error; }
                                                }
                                            }
                                        }
                                    }
                                    catch (e_572_1) { e_572 = { error: e_572_1 }; }
                                    finally {
                                        try {
                                            if (n_236_1 && !n_236_1.done && (_j = n_236.return)) _j.call(n_236);
                                        }
                                        finally { if (e_572) throw e_572.error; }
                                    }
                                });
                            };
                            Fp.prototype._readAndUpload = function (t, e) {
                                var _this = this;
                                var n = this.editor, i = n.model, o = n.locale.t, r = n.plugins.get(Pu), s = n.plugins.get(If);
                                return i.enqueueChange("transparent", function (t) { t.setAttribute("uploadStatus", "reading", e); }), t.read().then(function () { var o = t.upload(); if (mo.isSafari) {
                                    var t_300 = n.editing.mapper.toViewElement(e).getChild(0);
                                    n.editing.view.once("render", function () { if (!t_300.parent)
                                        return; var e = n.editing.view.domConverter.mapViewToDom(t_300.parent); if (!e)
                                        return; var i = e.style.display; e.style.display = "none", e._ckHack = e.offsetHeight, e.style.display = i; });
                                } return i.enqueueChange("transparent", function (t) { t.setAttribute("uploadStatus", "uploading", e); }), o; }).then(function (t) { i.enqueueChange("transparent", function (n) { n.setAttributes({ uploadStatus: "complete", src: t.default }, e), _this._parseAndSetSrcsetAttributeOnImage(t, e, n); }), a(); }).catch(function (n) { if ("error" !== t.status && "aborted" !== t.status)
                                    throw n; "error" == t.status && n && s.showWarning(n, { title: o("bb"), namespace: "upload" }), a(), i.enqueueChange("transparent", function (t) { t.remove(e); }); });
                                function a() { i.enqueueChange("transparent", function (t) { t.removeAttribute("uploadId", e), t.removeAttribute("uploadStatus", e); }), r.destroyLoader(t); }
                            };
                            Fp.prototype._parseAndSetSrcsetAttributeOnImage = function (t, e, n) { var i = 0; var o = Object.keys(t).filter(function (t) { var e = parseInt(t, 10); if (!isNaN(e))
                                return i = Math.max(i, e), !0; }).map(function (e) { return t[e] + " " + e + "w"; }).join(", "); "" != o && n.setAttribute("srcset", { data: o, width: i }, e); };
                            return Fp;
                        }(Sd));
                        function zp(t, e) { return Array.from(t.model.createRangeOn(e)).filter(function (t) { return t.item.is("image"); }).map(function (t) { return t.item; }); }
                        var Up = /** @class */ (function (_super) {
                            __extends(Up, _super);
                            function Up() {
                                return _super !== null && _super.apply(this, arguments) || this;
                            }
                            Object.defineProperty(Up, "pluginName", {
                                get: function () { return "ImageUpload"; },
                                enumerable: true,
                                configurable: true
                            });
                            Object.defineProperty(Up, "requires", {
                                get: function () { return [Fp, Ep, Np]; },
                                enumerable: true,
                                configurable: true
                            });
                            return Up;
                        }(Sd));
                        var Hp = /** @class */ (function (_super) {
                            __extends(Hp, _super);
                            function Hp() {
                                return _super !== null && _super.apply(this, arguments) || this;
                            }
                            Hp.prototype.refresh = function () { var t = this.editor.model, e = ih(t.document.selection.getSelectedBlocks()); this.value = !!e && e.is("paragraph"), this.isEnabled = !!e && qp(e, t.schema); };
                            Hp.prototype.execute = function (t) {
                                if (t === void 0) { t = {}; }
                                var e = this.editor.model, n = e.document;
                                e.change(function (i) {
                                    var e_576, _j;
                                    var o = (t.selection || n.selection).getSelectedBlocks();
                                    try {
                                        for (var o_93 = __values(o), o_93_1 = o_93.next(); !o_93_1.done; o_93_1 = o_93.next()) {
                                            var t_301 = o_93_1.value;
                                            !t_301.is("paragraph") && qp(t_301, e.schema) && i.rename(t_301, "paragraph");
                                        }
                                    }
                                    catch (e_576_1) { e_576 = { error: e_576_1 }; }
                                    finally {
                                        try {
                                            if (o_93_1 && !o_93_1.done && (_j = o_93.return)) _j.call(o_93);
                                        }
                                        finally { if (e_576) throw e_576.error; }
                                    }
                                });
                            };
                            return Hp;
                        }(Md));
                        function qp(t, e) { return e.checkChild(t.parent, "paragraph") && !e.isObject(t); }
                        var Yp = /** @class */ (function (_super) {
                            __extends(Yp, _super);
                            function Yp() {
                                return _super !== null && _super.apply(this, arguments) || this;
                            }
                            Object.defineProperty(Yp, "pluginName", {
                                get: function () { return "Paragraph"; },
                                enumerable: true,
                                configurable: true
                            });
                            Yp.prototype.init = function () {
                                var _this = this;
                                var t = this.editor, e = t.model, n = t.data;
                                t.commands.add("paragraph", new Hp(t)), e.schema.register("paragraph", { inheritAllFrom: "$block" }), t.conversion.elementToElement({ model: "paragraph", view: "p" }), t.conversion.for("upcast").elementToElement({ model: function (t, e) { return Yp.paragraphLikeElements.has(t.name) ? t.isEmpty ? null : e.createElement("paragraph") : null; }, converterPriority: "low" }), n.upcastDispatcher.on("element", function (t, e, n) { n.consumable.test(e.viewItem, { name: e.viewItem.name }) && Jp(e.viewItem, e.modelCursor, n.schema) && Object.assign(e, Wp(e.viewItem, e.modelCursor, n)); }, { priority: "low" }), n.upcastDispatcher.on("text", function (t, e, n) { e.modelRange || Jp(e.viewItem, e.modelCursor, n.schema) && Object.assign(e, Wp(e.viewItem, e.modelCursor, n)); }, { priority: "lowest" }), e.document.registerPostFixer(function (t) { return _this._autoparagraphEmptyRoots(t); }), t.data.on("ready", function () { e.enqueueChange("transparent", function (t) { return _this._autoparagraphEmptyRoots(t); }); }, { priority: "lowest" });
                            };
                            Yp.prototype._autoparagraphEmptyRoots = function (t) {
                                var e_577, _j;
                                var e = this.editor.model;
                                try {
                                    for (var _q = __values(e.document.getRootNames()), _z = _q.next(); !_z.done; _z = _q.next()) {
                                        var n_239 = _z.value;
                                        var i_156 = e.document.getRoot(n_239);
                                        if (i_156.isEmpty && "$graveyard" != i_156.rootName && e.schema.checkChild(i_156, "paragraph"))
                                            return t.insertElement("paragraph", i_156), !0;
                                    }
                                }
                                catch (e_577_1) { e_577 = { error: e_577_1 }; }
                                finally {
                                    try {
                                        if (_z && !_z.done && (_j = _q.return)) _j.call(_q);
                                    }
                                    finally { if (e_577) throw e_577.error; }
                                }
                            };
                            return Yp;
                        }(Sd));
                        function Wp(t, e, n) { var i = n.writer.createElement("paragraph"); return n.writer.insert(i, e), n.convertItem(t, n.writer.createPositionAt(i, 0)); }
                        function Jp(t, e, n) { var i = n.createContext(e); return !!n.checkChild(i, "paragraph") && !!n.checkChild(i.push("paragraph"), t); }
                        Yp.paragraphLikeElements = new Set(["blockquote", "dd", "div", "dt", "h1", "h2", "h3", "h4", "h5", "h6", "li", "p", "td"]);
                        var $p = /** @class */ (function (_super) {
                            __extends($p, _super);
                            function $p(t, e) {
                                var _this = this;
                                _this = _super.call(this, t) || this, _this.modelElements = e;
                                return _this;
                            }
                            $p.prototype.refresh = function () {
                                var _this = this;
                                var t = ih(this.editor.model.document.selection.getSelectedBlocks());
                                this.value = !!t && this.modelElements.includes(t.name) && t.name, this.isEnabled = !!t && this.modelElements.some(function (e) { return Gp(t, e, _this.editor.model.schema); });
                            };
                            $p.prototype.execute = function (t) { var e = this.editor.model, n = e.document, i = t.value; e.change(function (t) {
                                var e_578, _j;
                                var o = Array.from(n.selection.getSelectedBlocks()).filter(function (t) { return Gp(t, i, e.schema); });
                                try {
                                    for (var o_94 = __values(o), o_94_1 = o_94.next(); !o_94_1.done; o_94_1 = o_94.next()) {
                                        var e_579 = o_94_1.value;
                                        e_579.is(i) || t.rename(e_579, i);
                                    }
                                }
                                catch (e_578_1) { e_578 = { error: e_578_1 }; }
                                finally {
                                    try {
                                        if (o_94_1 && !o_94_1.done && (_j = o_94.return)) _j.call(o_94);
                                    }
                                    finally { if (e_578) throw e_578.error; }
                                }
                            }); };
                            return $p;
                        }(Md));
                        function Gp(t, e, n) { return n.checkChild(t.parent, e) && !n.isObject(t); }
                        var Kp = "paragraph";
                        var Qp = /** @class */ (function (_super) {
                            __extends(Qp, _super);
                            function Qp(t) {
                                var _this = this;
                                _this = _super.call(this, t) || this, t.config.define("heading", { options: [{ model: "paragraph", title: "Paragraph", class: "ck-heading_paragraph" }, { model: "heading1", view: "h2", title: "Heading 1", class: "ck-heading_heading1" }, { model: "heading2", view: "h3", title: "Heading 2", class: "ck-heading_heading2" }, { model: "heading3", view: "h4", title: "Heading 3", class: "ck-heading_heading3" }] });
                                return _this;
                            }
                            Object.defineProperty(Qp, "pluginName", {
                                get: function () { return "HeadingEditing"; },
                                enumerable: true,
                                configurable: true
                            });
                            Object.defineProperty(Qp, "requires", {
                                get: function () { return [Yp]; },
                                enumerable: true,
                                configurable: true
                            });
                            Qp.prototype.init = function () {
                                var e_580, _j;
                                var t = this.editor, e = t.config.get("heading.options"), n = [];
                                try {
                                    for (var e_581 = __values(e), e_581_1 = e_581.next(); !e_581_1.done; e_581_1 = e_581.next()) {
                                        var i_157 = e_581_1.value;
                                        i_157.model !== Kp && (t.model.schema.register(i_157.model, { inheritAllFrom: "$block" }), t.conversion.elementToElement(i_157), n.push(i_157.model));
                                    }
                                }
                                catch (e_580_1) { e_580 = { error: e_580_1 }; }
                                finally {
                                    try {
                                        if (e_581_1 && !e_581_1.done && (_j = e_581.return)) _j.call(e_581);
                                    }
                                    finally { if (e_580) throw e_580.error; }
                                }
                                this._addDefaultH1Conversion(t), t.commands.add("heading", new $p(t, n));
                            };
                            Qp.prototype.afterInit = function () { var t = this.editor, e = t.commands.get("enter"), n = t.config.get("heading.options"); e && this.listenTo(e, "afterExecute", function (e, i) { var o = t.model.document.selection.getFirstPosition().parent; n.some(function (t) { return o.is(t.model); }) && !o.is(Kp) && 0 === o.childCount && i.writer.rename(o, Kp); }); };
                            Qp.prototype._addDefaultH1Conversion = function (t) { t.conversion.for("upcast").elementToElement({ model: "heading1", view: "h1", converterPriority: Xn.get("low") + 1 }); };
                            return Qp;
                        }(Sd));
                        var Zp = /** @class */ (function () {
                            function Zp(t, e) {
                                e && Bi(this, e), t && this.set(t);
                            }
                            return Zp;
                        }());
                        li(Zp, Ui);
                        n(51);
                        var Xp = /** @class */ (function (_super) {
                            __extends(Xp, _super);
                            function Xp() {
                                return _super !== null && _super.apply(this, arguments) || this;
                            }
                            Xp.prototype.init = function () {
                                var _this = this;
                                var t = this.editor, e = t.t, n = function (t) { var e = t.t, n = { Paragraph: e("dj"), "Heading 1": e("dk"), "Heading 2": e("dl"), "Heading 3": e("dm"), "Heading 4": e("dn"), "Heading 5": e("do"), "Heading 6": e("dp") }; return t.config.get("heading.options").map(function (t) { var e = n[t.title]; return e && e != t.title && (t.title = e), t; }); }(t), i = e("j"), o = e("k");
                                t.ui.componentFactory.add("heading", function (e) {
                                    var e_582, _j;
                                    var r = {}, s = new ro, a = t.commands.get("heading"), c = t.commands.get("paragraph"), l = [a];
                                    var _loop_7 = function (t_302) {
                                        var e_583 = { type: "button", model: new Zp({ label: t_302.title, class: t_302.class, withText: !0 }) };
                                        "paragraph" === t_302.model ? (e_583.model.bind("isOn").to(c, "value"), e_583.model.set("commandName", "paragraph"), l.push(c)) : (e_583.model.bind("isOn").to(a, "value", function (e) { return e === t_302.model; }), e_583.model.set({ commandName: "heading", commandValue: t_302.model })), s.add(e_583), r[t_302.model] = t_302.title;
                                    };
                                    try {
                                        for (var n_240 = __values(n), n_240_1 = n_240.next(); !n_240_1.done; n_240_1 = n_240.next()) {
                                            var t_302 = n_240_1.value;
                                            _loop_7(t_302);
                                        }
                                    }
                                    catch (e_582_1) { e_582 = { error: e_582_1 }; }
                                    finally {
                                        try {
                                            if (n_240_1 && !n_240_1.done && (_j = n_240.return)) _j.call(n_240);
                                        }
                                        finally { if (e_582) throw e_582.error; }
                                    }
                                    var d = gd(e);
                                    return bd(d, s), d.buttonView.set({ isOn: !1, withText: !0, tooltip: o }), d.extendTemplate({ attributes: { class: ["ck-heading-dropdown"] } }), d.bind("isEnabled").toMany(l, "isEnabled", function () {
                                        var t = [];
                                        for (var _j = 0; _j < arguments.length; _j++) {
                                            t[_j] = arguments[_j];
                                        }
                                        return t.some(function (t) { return t; });
                                    }), d.buttonView.bind("label").to(a, "value", c, "value", function (t, e) { var n = t || e && "paragraph"; return r[n] ? r[n] : i; }), _this.listenTo(d, "execute", function (e) { t.execute(e.source.commandName, e.source.commandValue ? { value: e.source.commandValue } : void 0), t.editing.view.focus(); }), d;
                                });
                            };
                            return Xp;
                        }(Sd));
                        function tm(t) {
                            var e_584, _j;
                            try {
                                for (var _q = __values(t.getChildren()), _z = _q.next(); !_z.done; _z = _q.next()) {
                                    var e_585 = _z.value;
                                    if (e_585 && e_585.is("caption"))
                                        return e_585;
                                }
                            }
                            catch (e_584_1) { e_584 = { error: e_584_1 }; }
                            finally {
                                try {
                                    if (_z && !_z.done && (_j = _q.return)) _j.call(_q);
                                }
                                finally { if (e_584) throw e_584.error; }
                            }
                            return null;
                        }
                        function em(t) { var e = t.parent; return "figcaption" == t.name && e && "figure" == e.name && e.hasClass("image") ? { name: !0 } : null; }
                        var nm = /** @class */ (function (_super) {
                            __extends(nm, _super);
                            function nm() {
                                return _super !== null && _super.apply(this, arguments) || this;
                            }
                            Object.defineProperty(nm, "pluginName", {
                                get: function () { return "ImageCaptionEditing"; },
                                enumerable: true,
                                configurable: true
                            });
                            nm.prototype.init = function () {
                                var _this = this;
                                var t = this.editor, e = t.editing.view, n = t.model.schema, i = t.data, o = t.editing, r = t.t;
                                n.register("caption", { allowIn: "image", allowContentOf: "$block", isLimit: !0 }), t.model.document.registerPostFixer(function (t) { return _this._insertMissingModelCaptionElement(t); }), t.conversion.for("upcast").elementToElement({ view: em, model: "caption" });
                                i.downcastDispatcher.on("insert:caption", im(function (t) { return t.createContainerElement("figcaption"); }, !1));
                                var s = function (t, e) { return function (n) { var i = n.createEditableElement("figcaption"); return n.setCustomProperty("imageCaption", !0, i), fl({ view: t, element: i, text: e }), Eh(i, n); }; }(e, r("ba"));
                                o.downcastDispatcher.on("insert:caption", im(s)), o.downcastDispatcher.on("insert", this._fixCaptionVisibility(function (t) { return t.item; }), { priority: "high" }), o.downcastDispatcher.on("remove", this._fixCaptionVisibility(function (t) { return t.position.parent; }), { priority: "high" }), e.document.registerPostFixer(function (t) { return _this._updateCaptionVisibility(t); });
                            };
                            nm.prototype._updateCaptionVisibility = function (t) { var e = this.editor.editing.mapper, n = this._lastSelectedCaption; var i; var o = this.editor.model.document.selection, r = o.getSelectedElement(); if (r && r.is("image")) {
                                var t_303 = tm(r);
                                i = e.toViewElement(t_303);
                            } var s = om(o.getFirstPosition().parent); if (s && (i = e.toViewElement(s)), i)
                                return n ? n === i ? sm(i, t) : (rm(n, t), this._lastSelectedCaption = i, sm(i, t)) : (this._lastSelectedCaption = i, sm(i, t)); if (n) {
                                var e_586 = rm(n, t);
                                return this._lastSelectedCaption = null, e_586;
                            } return !1; };
                            nm.prototype._fixCaptionVisibility = function (t) {
                                var _this = this;
                                return function (e, n, i) { var o = om(t(n)), r = _this.editor.editing.mapper, s = i.writer; if (o) {
                                    var t_304 = r.toViewElement(o);
                                    t_304 && (o.childCount ? s.removeClass("ck-hidden", t_304) : s.addClass("ck-hidden", t_304));
                                } };
                            };
                            nm.prototype._insertMissingModelCaptionElement = function (t) {
                                var e_587, _j, e_588, _q, e_589, _z;
                                var e = this.editor.model, n = e.document.differ.getChanges(), i = [];
                                try {
                                    for (var n_241 = __values(n), n_241_1 = n_241.next(); !n_241_1.done; n_241_1 = n_241.next()) {
                                        var t_305 = n_241_1.value;
                                        if ("insert" == t_305.type && "$text" != t_305.name) {
                                            var n_242 = t_305.position.nodeAfter;
                                            if (n_242.is("image") && !tm(n_242) && i.push(n_242), !n_242.is("image") && n_242.childCount)
                                                try {
                                                    for (var _0 = __values(e.createRangeIn(n_242).getItems()), _1 = _0.next(); !_1.done; _1 = _0.next()) {
                                                        var t_306 = _1.value;
                                                        t_306.is("image") && !tm(t_306) && i.push(t_306);
                                                    }
                                                }
                                                catch (e_588_1) { e_588 = { error: e_588_1 }; }
                                                finally {
                                                    try {
                                                        if (_1 && !_1.done && (_q = _0.return)) _q.call(_0);
                                                    }
                                                    finally { if (e_588) throw e_588.error; }
                                                }
                                        }
                                    }
                                }
                                catch (e_587_1) { e_587 = { error: e_587_1 }; }
                                finally {
                                    try {
                                        if (n_241_1 && !n_241_1.done && (_j = n_241.return)) _j.call(n_241);
                                    }
                                    finally { if (e_587) throw e_587.error; }
                                }
                                try {
                                    for (var i_158 = __values(i), i_158_1 = i_158.next(); !i_158_1.done; i_158_1 = i_158.next()) {
                                        var e_590 = i_158_1.value;
                                        t.appendElement("caption", e_590);
                                    }
                                }
                                catch (e_589_1) { e_589 = { error: e_589_1 }; }
                                finally {
                                    try {
                                        if (i_158_1 && !i_158_1.done && (_z = i_158.return)) _z.call(i_158);
                                    }
                                    finally { if (e_589) throw e_589.error; }
                                }
                                return !!i.length;
                            };
                            return nm;
                        }(Sd));
                        function im(t, e) {
                            if (e === void 0) { e = !0; }
                            return function (n, i, o) { var r = i.item; if ((r.childCount || e) && Mh(r.parent)) {
                                if (!o.consumable.consume(i.item, "insert"))
                                    return;
                                var e_591 = o.mapper.toViewElement(i.range.start.parent), n_243 = t(o.writer), s_33 = o.writer;
                                r.childCount || s_33.addClass("ck-hidden", n_243), function (t, e, n, i) { var o = i.writer.createPositionAt(n, "end"); i.writer.insert(o, t), i.mapper.bindElements(e, t); }(n_243, i.item, e_591, o);
                            } };
                        }
                        function om(t) { var e = t.getAncestors({ includeSelf: !0 }).find(function (t) { return "caption" == t.name; }); return e && e.parent && "image" == e.parent.name ? e : null; }
                        function rm(t, e) { return !t.childCount && !t.hasClass("ck-hidden") && (e.addClass("ck-hidden", t), !0); }
                        function sm(t, e) { return !!t.hasClass("ck-hidden") && (e.removeClass("ck-hidden", t), !0); }
                        n(183);
                        var am = /** @class */ (function () {
                            function am(t) {
                                this.set("activeHandlePosition", null), this.set("proposedWidthPercents", null), this.set("proposedWidth", null), this.set("proposedHeight", null), this.set("proposedHandleHostWidth", null), this.set("proposedHandleHostHeight", null), this._options = t, this._referenceCoordinates = null;
                            }
                            am.prototype.begin = function (t, e, n) { var i = new As(e); this.activeHandlePosition = function (t) {
                                var e_592, _j;
                                var e = ["top-left", "top-right", "bottom-right", "bottom-left"];
                                try {
                                    for (var e_593 = __values(e), e_593_1 = e_593.next(); !e_593_1.done; e_593_1 = e_593.next()) {
                                        var n_244 = e_593_1.value;
                                        if (t.classList.contains(cm(n_244)))
                                            return n_244;
                                    }
                                }
                                catch (e_592_1) { e_592 = { error: e_592_1 }; }
                                finally {
                                    try {
                                        if (e_593_1 && !e_593_1.done && (_j = e_593.return)) _j.call(e_593);
                                    }
                                    finally { if (e_592) throw e_592.error; }
                                }
                            }(t), this._referenceCoordinates = function (t, e) { var n = new As(t), i = e.split("-"), o = { x: "right" == i[1] ? n.right : n.left, y: "bottom" == i[0] ? n.bottom : n.top }; return o.x += t.ownerDocument.defaultView.scrollX, o.y += t.ownerDocument.defaultView.scrollY, o; }(e, function (t) { var e = t.split("-"), n = { top: "bottom", bottom: "top", left: "right", right: "left" }; return n[e[0]] + "-" + n[e[1]]; }(this.activeHandlePosition)), this.originalWidth = i.width, this.originalHeight = i.height, this.aspectRatio = i.width / i.height; var o = n.style.width; o && o.match(/^\d+\.?\d*%$/) ? this.originalWidthPercents = parseFloat(o) : this.originalWidthPercents = function (t, e) { var n = t.parentElement, i = parseFloat(n.ownerDocument.defaultView.getComputedStyle(n).width); return e.width / i * 100; }(n, i); };
                            am.prototype.update = function (t) { this.proposedWidth = t.width, this.proposedHeight = t.height, this.proposedWidthPercents = t.widthPercents, this.proposedHandleHostWidth = t.handleHostWidth, this.proposedHandleHostHeight = t.handleHostHeight; };
                            return am;
                        }());
                        function cm(t) { return "ck-widget__resizer__handle-" + t; }
                        li(am, Ui);
                        var lm = /** @class */ (function () {
                            function lm(t) {
                                this._options = t, this._domResizerWrapper = null, this.set("isEnabled", !0), this.decorate("begin"), this.decorate("cancel"), this.decorate("commit"), this.decorate("updateSize");
                            }
                            lm.prototype.attach = function () { var t = this, e = this._options.viewElement, n = this._options.downcastWriter, i = n.createUIElement("div", { class: "ck ck-reset_all ck-widget__resizer" }, function (e) { var n = this.toDomElement(e); return t._appendHandles(n), t._appendSizeUI(n), t._domResizerWrapper = n, t.on("change:isEnabled", function (t, e, i) { n.style.display = i ? "" : "none"; }), n.style.display = t.isEnabled ? "" : "none", n; }); n.insert(n.createPositionAt(e, "end"), i), n.addClass("ck-widget_with-resizer", e); };
                            lm.prototype.begin = function (t) { this.state = new am(this._options), this._sizeUI.bindToState(this._options, this.state), this.state.begin(t, this._getHandleHost(), this._getResizeHost()); };
                            lm.prototype.updateSize = function (t) { var e = this._getHandleHost(), n = this._getResizeHost(), i = this._options.unit, o = this._proposeNewSize(t); n.style.width = ("%" === i ? o.widthPercents : o.width) + this._options.unit; var r = new As(e); o.handleHostWidth = Math.round(r.width), o.handleHostHeight = Math.round(r.height); var s = new As(e); o.width = Math.round(s.width), o.height = Math.round(s.height), this.redraw(r), this.state.update(o); };
                            lm.prototype.commit = function () { var t = ("%" === this._options.unit ? this.state.proposedWidthPercents : this.state.proposedWidth) + this._options.unit; this._options.onCommit(t), this._cleanup(); };
                            lm.prototype.cancel = function () { this._cleanup(); };
                            lm.prototype.destroy = function () { this.cancel(); };
                            lm.prototype.redraw = function (t) { var e = this._domResizerWrapper; if (function (t) { return t && t.ownerDocument && t.ownerDocument.contains(t); }(e)) {
                                var n_245 = e.parentElement, i_159 = this._getHandleHost(), o_95 = t || new As(i_159);
                                e.style.width = o_95.width + "px", e.style.height = o_95.height + "px";
                                var r_44 = { left: i_159.offsetLeft, top: i_159.offsetTop, height: i_159.offsetHeight, width: i_159.offsetWidth };
                                n_245.isSameNode(i_159) || (e.style.left = r_44.left + "px", e.style.top = r_44.top + "px", e.style.height = r_44.height + "px", e.style.width = r_44.width + "px");
                            } };
                            lm.prototype.containsHandle = function (t) { return this._domResizerWrapper.contains(t); };
                            lm.isResizeHandle = function (t) { return t.classList.contains("ck-widget__resizer__handle"); };
                            lm.prototype._cleanup = function () { this._sizeUI.dismiss(), this._sizeUI.isVisible = !1; };
                            lm.prototype._proposeNewSize = function (t) { var e = this.state, n = function (t) { return { x: t.pageX, y: t.pageY }; }(t), i = !this._options.isCentered || this._options.isCentered(this), o = { x: e._referenceCoordinates.x - (n.x + e.originalWidth), y: n.y - e.originalHeight - e._referenceCoordinates.y }; i && e.activeHandlePosition.endsWith("-right") && (o.x = n.x - (e._referenceCoordinates.x + e.originalWidth)), i && (o.x *= 2); var r = { width: Math.abs(e.originalWidth + o.x), height: Math.abs(e.originalHeight + o.y) }; r.dominant = r.width / e.aspectRatio > r.height ? "width" : "height", r.max = r[r.dominant]; var s = { width: r.width, height: r.height }; return "width" == r.dominant ? s.height = s.width / e.aspectRatio : s.width = s.height * e.aspectRatio, { width: Math.round(s.width), height: Math.round(s.height), widthPercents: Math.min(Math.round(e.originalWidthPercents / e.originalWidth * s.width * 100) / 100, 100) }; };
                            lm.prototype._getResizeHost = function () { var t = this._domResizerWrapper.parentElement; return this._options.getResizeHost(t); };
                            lm.prototype._getHandleHost = function () { var t = this._domResizerWrapper.parentElement; return this._options.getHandleHost(t); };
                            lm.prototype._appendHandles = function (t) {
                                var e_594, _j;
                                var e = ["top-left", "top-right", "bottom-right", "bottom-left"];
                                try {
                                    for (var e_595 = __values(e), e_595_1 = e_595.next(); !e_595_1.done; e_595_1 = e_595.next()) {
                                        var n_246 = e_595_1.value;
                                        t.appendChild(new vl({ tag: "div", attributes: { class: "ck-widget__resizer__handle " + um(n_246) } }).render());
                                    }
                                }
                                catch (e_594_1) { e_594 = { error: e_594_1 }; }
                                finally {
                                    try {
                                        if (e_595_1 && !e_595_1.done && (_j = e_595.return)) _j.call(e_595);
                                    }
                                    finally { if (e_594) throw e_594.error; }
                                }
                            };
                            lm.prototype._appendSizeUI = function (t) { var e = new dm; e.render(), this._sizeUI = e, t.appendChild(e.element); };
                            lm.prototype._getHandlePosition = function (t) {
                                var e_596, _j;
                                var e = ["top-left", "top-right", "bottom-right", "bottom-left"];
                                try {
                                    for (var e_597 = __values(e), e_597_1 = e_597.next(); !e_597_1.done; e_597_1 = e_597.next()) {
                                        var n_247 = e_597_1.value;
                                        if (t.classList.contains(um(n_247)))
                                            return n_247;
                                    }
                                }
                                catch (e_596_1) { e_596 = { error: e_596_1 }; }
                                finally {
                                    try {
                                        if (e_597_1 && !e_597_1.done && (_j = e_597.return)) _j.call(e_597);
                                    }
                                    finally { if (e_596) throw e_596.error; }
                                }
                            };
                            return lm;
                        }());
                        li(lm, Ui);
                        var dm = /** @class */ (function (_super) {
                            __extends(dm, _super);
                            function dm() {
                                var _this = _super.call(this) || this;
                                var t = _this.bindTemplate;
                                _this.setTemplate({ tag: "div", attributes: { class: ["ck", "ck-size-view", t.to("activeHandlePosition", function (t) { return t ? "ck-orientation-" + t : ""; })], style: { display: t.if("isVisible", "none", function (t) { return !t; }) } }, children: [{ text: t.to("label") }] });
                                return _this;
                            }
                            dm.prototype.bindToState = function (t, e) { this.bind("isVisible").to(e, "proposedWidth", e, "proposedHeight", function (t, e) { return null !== t && null !== e; }), this.bind("label").to(e, "proposedHandleHostWidth", e, "proposedHandleHostHeight", e, "proposedWidthPercents", function (e, n, i) { return "px" === t.unit ? e + "\u00D7" + n : i + "%"; }), this.bind("activeHandlePosition").to(e); };
                            dm.prototype.dismiss = function () { this.unbind(), this.isVisible = !1; };
                            return dm;
                        }(Vl));
                        function um(t) { return "ck-widget__resizer__handle-" + t; }
                        var hm = "Expected a function";
                        var fm = function (t, e, n) { var i = !0, o = !0; if ("function" != typeof t)
                            throw new TypeError(hm); return z(n) && (i = "leading" in n ? !!n.leading : i, o = "trailing" in n ? !!n.trailing : o), xs(t, e, { leading: i, maxWait: e, trailing: o }); };
                        n(185);
                        var pm = /** @class */ (function (_super) {
                            __extends(pm, _super);
                            function pm() {
                                return _super !== null && _super.apply(this, arguments) || this;
                            }
                            Object.defineProperty(pm, "pluginName", {
                                get: function () { return "WidgetResize"; },
                                enumerable: true,
                                configurable: true
                            });
                            pm.prototype.init = function () {
                                var _this = this;
                                this.set("_visibleResizer", null), this.set("_activeResizer", null), this._resizers = new Map;
                                var t = nr.window.document;
                                this.editor.model.schema.setAttributeProperties("width", { isFormatting: !0 }), this._observer = Object.create(ur), this._observer.listenTo(t, "mousedown", function (t, e) { if (!lm.isResizeHandle(e.target))
                                    return; var n = e.target; _this._activeResizer = _this._getResizerByHandle(n), _this._activeResizer && _this._activeResizer.begin(n); }), this._observer.listenTo(t, "mousemove", function (t, e) { _this._activeResizer && _this._activeResizer.updateSize(e); }), this._observer.listenTo(t, "mouseup", function () { _this._activeResizer && (_this._activeResizer.commit(), _this._activeResizer = null); });
                                var e = function () { _this._visibleResizer && _this._visibleResizer.redraw(); }, n = fm(e, 200);
                                this.on("change:_visibleResizer", e), this.editor.ui.on("update", n), this._observer.listenTo(nr.window, "resize", n);
                                var i = this.editor.editing.view.document.selection;
                                i.on("change", function () { var t = i.getSelectedElement(); _this._visibleResizer = _this._getResizerByViewElement(t) || null; });
                            };
                            pm.prototype.destroy = function () { this._observer.stopListening(); };
                            pm.prototype.attachTo = function (t) { var e = new lm(t); return e.attach(), this._resizers.set(t.viewElement, e), e; };
                            pm.prototype._getResizerByHandle = function (t) {
                                var e_598, _j;
                                try {
                                    for (var _q = __values(this._resizers.values()), _z = _q.next(); !_z.done; _z = _q.next()) {
                                        var e_599 = _z.value;
                                        if (e_599.containsHandle(t))
                                            return e_599;
                                    }
                                }
                                catch (e_598_1) { e_598 = { error: e_598_1 }; }
                                finally {
                                    try {
                                        if (_z && !_z.done && (_j = _q.return)) _j.call(_q);
                                    }
                                    finally { if (e_598) throw e_598.error; }
                                }
                            };
                            pm.prototype._getResizerByViewElement = function (t) { return this._resizers.get(t); };
                            return pm;
                        }(Sd));
                        li(pm, Ui);
                        var mm = /** @class */ (function (_super) {
                            __extends(mm, _super);
                            function mm() {
                                return _super !== null && _super.apply(this, arguments) || this;
                            }
                            mm.prototype.refresh = function () { var t = this.editor.model.document.selection.getSelectedElement(); this.isEnabled = Mh(t), t && t.hasAttribute("width") ? this.value = { width: t.getAttribute("width"), height: null } : this.value = null; };
                            mm.prototype.execute = function (t) { var e = this.editor.model, n = e.document.selection.getSelectedElement(); e.change(function (e) { e.setAttribute("width", t.width, n); }); };
                            return mm;
                        }(Md));
                        n(187);
                        var gm = /** @class */ (function (_super) {
                            __extends(gm, _super);
                            function gm(t, e) {
                                var _this = this;
                                _this = _super.call(this, t) || this, _this.defaultStyle = !1, _this.styles = e.reduce(function (t, e) { return (t[e.name] = e, e.isDefault && (_this.defaultStyle = e.name), t); }, {});
                                return _this;
                            }
                            gm.prototype.refresh = function () { var t = this.editor.model.document.selection.getSelectedElement(); if (this.isEnabled = Mh(t), t)
                                if (t.hasAttribute("imageStyle")) {
                                    var e_600 = t.getAttribute("imageStyle");
                                    this.value = !!this.styles[e_600] && e_600;
                                }
                                else
                                    this.value = this.defaultStyle;
                            else
                                this.value = !1; };
                            gm.prototype.execute = function (t) {
                                var _this = this;
                                var e = t.value, n = this.editor.model, i = n.document.selection.getSelectedElement();
                                n.change(function (t) { _this.styles[e].isDefault ? t.removeAttribute("imageStyle", i) : t.setAttribute("imageStyle", e, i); });
                            };
                            return gm;
                        }(Md));
                        function xm(t, e) {
                            var e_601, _j;
                            try {
                                for (var e_602 = __values(e), e_602_1 = e_602.next(); !e_602_1.done; e_602_1 = e_602.next()) {
                                    var n_248 = e_602_1.value;
                                    if (n_248.name === t)
                                        return n_248;
                                }
                            }
                            catch (e_601_1) { e_601 = { error: e_601_1 }; }
                            finally {
                                try {
                                    if (e_602_1 && !e_602_1.done && (_j = e_602.return)) _j.call(e_602);
                                }
                                finally { if (e_601) throw e_601.error; }
                            }
                        }
                        var bm = n(45), km = n.n(bm), wm = n(46), vm = n.n(wm), ym = n(47), _m = n.n(ym), Cm = n(31), Tm = n.n(Cm);
                        var Am = { full: { name: "full", title: "Full size image", icon: km.a, isDefault: !0 }, side: { name: "side", title: "Side image", icon: Tm.a, className: "image-style-side" }, alignLeft: { name: "alignLeft", title: "Left aligned image", icon: vm.a, className: "image-style-align-left" }, alignCenter: { name: "alignCenter", title: "Centered image", icon: _m.a, className: "image-style-align-center" }, alignRight: { name: "alignRight", title: "Right aligned image", icon: Tm.a, className: "image-style-align-right" } }, Sm = { full: km.a, left: vm.a, right: Tm.a, center: _m.a };
                        function Em(t) {
                            if (t === void 0) { t = []; }
                            return t.map(Pm);
                        }
                        function Pm(t) { if ("string" == typeof t) {
                            var e_603 = t;
                            Am[e_603] ? t = Object.assign({}, Am[e_603]) : (console.warn(Object(Gn.a)("image-style-not-found: There is no such image style of given name."), { name: e_603 }), t = { name: e_603 });
                        }
                        else if (Am[t.name]) {
                            var e_604 = Am[t.name], n_249 = Object.assign({}, t);
                            for (var i_160 in e_604)
                                t.hasOwnProperty(i_160) || (n_249[i_160] = e_604[i_160]);
                            t = n_249;
                        } return "string" == typeof t.icon && Sm[t.icon] && (t.icon = Sm[t.icon]), t; }
                        var Im = /** @class */ (function (_super) {
                            __extends(Im, _super);
                            function Im() {
                                return _super !== null && _super.apply(this, arguments) || this;
                            }
                            Object.defineProperty(Im, "pluginName", {
                                get: function () { return "ImageStyleEditing"; },
                                enumerable: true,
                                configurable: true
                            });
                            Im.prototype.init = function () { var t = this.editor, e = t.model.schema, n = t.data, i = t.editing; t.config.define("image.styles", ["full", "side"]); var o = Em(t.config.get("image.styles")); e.extend("image", { allowAttributes: "imageStyle" }); var r = function (t) { return function (e, n, i) { if (!i.consumable.consume(n.item, e.name))
                                return; var o = xm(n.attributeNewValue, t), r = xm(n.attributeOldValue, t), s = i.mapper.toViewElement(n.item), a = i.writer; r && a.removeClass(r.className, s), o && a.addClass(o.className, s); }; }(o); i.downcastDispatcher.on("attribute:imageStyle:image", r), n.downcastDispatcher.on("attribute:imageStyle:image", r), n.upcastDispatcher.on("element:figure", function (t) { var e = t.filter(function (t) { return !t.isDefault; }); return function (t, n, i) {
                                var e_605, _j;
                                if (!n.modelRange)
                                    return;
                                var o = n.viewItem, r = ih(n.modelRange.getItems());
                                if (i.schema.checkAttribute(r, "imageStyle"))
                                    try {
                                        for (var e_606 = __values(e), e_606_1 = e_606.next(); !e_606_1.done; e_606_1 = e_606.next()) {
                                            var t_307 = e_606_1.value;
                                            i.consumable.consume(o, { classes: t_307.className }) && i.writer.setAttribute("imageStyle", t_307.name, r);
                                        }
                                    }
                                    catch (e_605_1) { e_605 = { error: e_605_1 }; }
                                    finally {
                                        try {
                                            if (e_606_1 && !e_606_1.done && (_j = e_606.return)) _j.call(e_606);
                                        }
                                        finally { if (e_605) throw e_605.error; }
                                    }
                            }; }(o), { priority: "low" }), t.commands.add("imageStyle", new gm(t, o)); };
                            return Im;
                        }(Sd));
                        n(189);
                        var Nm = /** @class */ (function (_super) {
                            __extends(Nm, _super);
                            function Nm() {
                                return _super !== null && _super.apply(this, arguments) || this;
                            }
                            Object.defineProperty(Nm, "pluginName", {
                                get: function () { return "ImageStyleUI"; },
                                enumerable: true,
                                configurable: true
                            });
                            Object.defineProperty(Nm.prototype, "localizedDefaultStylesTitles", {
                                get: function () { var t = this.editor.t; return { "Full size image": t("m"), "Side image": t("n"), "Left aligned image": t("o"), "Centered image": t("p"), "Right aligned image": t("q") }; },
                                enumerable: true,
                                configurable: true
                            });
                            Nm.prototype.init = function () {
                                var e_607, _j;
                                var t = function (t, e) {
                                    var e_608, _j;
                                    try {
                                        for (var t_309 = __values(t), t_309_1 = t_309.next(); !t_309_1.done; t_309_1 = t_309.next()) {
                                            var n_250 = t_309_1.value;
                                            e[n_250.title] && (n_250.title = e[n_250.title]);
                                        }
                                    }
                                    catch (e_608_1) { e_608 = { error: e_608_1 }; }
                                    finally {
                                        try {
                                            if (t_309_1 && !t_309_1.done && (_j = t_309.return)) _j.call(t_309);
                                        }
                                        finally { if (e_608) throw e_608.error; }
                                    }
                                    return t;
                                }(Em(this.editor.config.get("image.styles")), this.localizedDefaultStylesTitles);
                                try {
                                    for (var t_308 = __values(t), t_308_1 = t_308.next(); !t_308_1.done; t_308_1 = t_308.next()) {
                                        var e_609 = t_308_1.value;
                                        this._createButton(e_609);
                                    }
                                }
                                catch (e_607_1) { e_607 = { error: e_607_1 }; }
                                finally {
                                    try {
                                        if (t_308_1 && !t_308_1.done && (_j = t_308.return)) _j.call(t_308);
                                    }
                                    finally { if (e_607) throw e_607.error; }
                                }
                            };
                            Nm.prototype._createButton = function (t) {
                                var _this = this;
                                var e = this.editor, n = "imageStyle:" + t.name;
                                e.ui.componentFactory.add(n, function (n) { var i = e.commands.get("imageStyle"), o = new ad(n); return o.set({ label: t.title, icon: t.icon, tooltip: !0, isToggleable: !0 }), o.bind("isEnabled").to(i, "isEnabled"), o.bind("isOn").to(i, "value", function (e) { return e === t.name; }), _this.listenTo(o, "execute", function () { return e.execute("imageStyle", { value: t.name }); }), o; });
                            };
                            return Nm;
                        }(Sd));
                        var Mm = /** @class */ (function (_super) {
                            __extends(Mm, _super);
                            function Mm() {
                                return _super !== null && _super.apply(this, arguments) || this;
                            }
                            Object.defineProperty(Mm, "requires", {
                                get: function () { return [fp]; },
                                enumerable: true,
                                configurable: true
                            });
                            Object.defineProperty(Mm, "pluginName", {
                                get: function () { return "WidgetToolbarRepository"; },
                                enumerable: true,
                                configurable: true
                            });
                            Mm.prototype.init = function () {
                                var _this = this;
                                var t = this.editor;
                                if (t.plugins.has("BalloonToolbar")) {
                                    var e_610 = t.plugins.get("BalloonToolbar");
                                    this.listenTo(e_610, "show", function (e) { (function (t) { var e = t.getSelectedElement(); return !(!e || !Th(e)); })(t.editing.view.document.selection) && e.stop(); }, { priority: "high" });
                                }
                                this._toolbarDefinitions = new Map, this._balloon = this.editor.plugins.get("ContextualBalloon"), this.listenTo(t.ui, "update", function () { _this._updateToolbarsVisibility(); }), this.listenTo(t.ui.focusTracker, "change:isFocused", function () { _this._updateToolbarsVisibility(); }, { priority: "low" });
                            };
                            Mm.prototype.destroy = function () {
                                var e_611, _j;
                                _super.prototype.destroy.call(this);
                                try {
                                    for (var _q = __values(this._toolbarDefinitions.values()), _z = _q.next(); !_z.done; _z = _q.next()) {
                                        var t_310 = _z.value;
                                        t_310.view.destroy();
                                    }
                                }
                                catch (e_611_1) { e_611 = { error: e_611_1 }; }
                                finally {
                                    try {
                                        if (_z && !_z.done && (_j = _q.return)) _j.call(_q);
                                    }
                                    finally { if (e_611) throw e_611.error; }
                                }
                            };
                            Mm.prototype.register = function (t, _j) {
                                var e = _j.ariaLabel, n = _j.items, i = _j.getRelatedElement, _q = _j.balloonClassName, o = _q === void 0 ? "ck-toolbar-container" : _q;
                                var r = this.editor, s = r.t, a = new vd(r.locale);
                                if (a.ariaLabel = e || s("bm"), this._toolbarDefinitions.has(t))
                                    throw new Gn.b("widget-toolbar-duplicated: Toolbar with the given id was already added.", this, { toolbarId: t });
                                a.fillFromConfig(n, r.ui.componentFactory), this._toolbarDefinitions.set(t, { view: a, getRelatedElement: i, balloonClassName: o });
                            };
                            Mm.prototype._updateToolbarsVisibility = function () {
                                var e_612, _j;
                                var t = 0, e = null, n = null;
                                try {
                                    for (var _q = __values(this._toolbarDefinitions.values()), _z = _q.next(); !_z.done; _z = _q.next()) {
                                        var i_161 = _z.value;
                                        var o_96 = i_161.getRelatedElement(this.editor.editing.view.document.selection);
                                        if (this.editor.ui.focusTracker.isFocused)
                                            if (o_96) {
                                                var r_45 = o_96.getAncestors().length;
                                                r_45 > t && (t = r_45, e = o_96, n = i_161);
                                            }
                                            else
                                                this._isToolbarInBalloon(i_161) && this._hideToolbar(i_161);
                                        else
                                            this._isToolbarVisible(i_161) && this._hideToolbar(i_161);
                                    }
                                }
                                catch (e_612_1) { e_612 = { error: e_612_1 }; }
                                finally {
                                    try {
                                        if (_z && !_z.done && (_j = _q.return)) _j.call(_q);
                                    }
                                    finally { if (e_612) throw e_612.error; }
                                }
                                n && this._showToolbar(n, e);
                            };
                            Mm.prototype._hideToolbar = function (t) { this._balloon.remove(t.view), this.stopListening(this._balloon, "change:visibleView"); };
                            Mm.prototype._showToolbar = function (t, e) {
                                var _this = this;
                                this._isToolbarVisible(t) ? Om(this.editor, e) : this._isToolbarInBalloon(t) || (this._balloon.add({ view: t.view, position: Rm(this.editor, e), balloonClassName: t.balloonClassName }), this.listenTo(this._balloon, "change:visibleView", function () {
                                    var e_613, _j;
                                    try {
                                        for (var _q = __values(_this._toolbarDefinitions.values()), _z = _q.next(); !_z.done; _z = _q.next()) {
                                            var t_311 = _z.value;
                                            if (_this._isToolbarVisible(t_311)) {
                                                var e_614 = t_311.getRelatedElement(_this.editor.editing.view.document.selection);
                                                Om(_this.editor, e_614);
                                            }
                                        }
                                    }
                                    catch (e_613_1) { e_613 = { error: e_613_1 }; }
                                    finally {
                                        try {
                                            if (_z && !_z.done && (_j = _q.return)) _j.call(_q);
                                        }
                                        finally { if (e_613) throw e_613.error; }
                                    }
                                }));
                            };
                            Mm.prototype._isToolbarVisible = function (t) { return this._balloon.visibleView === t.view; };
                            Mm.prototype._isToolbarInBalloon = function (t) { return this._balloon.hasView(t.view); };
                            return Mm;
                        }(Sd));
                        function Om(t, e) { var n = t.plugins.get("ContextualBalloon"), i = Rm(t, e); n.updatePosition(i); }
                        function Rm(t, e) { var n = t.editing.view, i = op.defaultPositions; return { target: n.domConverter.mapViewToDom(e), positions: [i.northArrowSouth, i.northArrowSouthWest, i.northArrowSouthEast, i.southArrowNorth, i.southArrowNorthWest, i.southArrowNorthEast] }; }
                        var Dm = /** @class */ (function (_super) {
                            __extends(Dm, _super);
                            function Dm(t) {
                                var _this = this;
                                _this = _super.call(this, t) || this, _this.domEventType = "click";
                                return _this;
                            }
                            Dm.prototype.onDomEvent = function (t) { this.fire(t.type, t); };
                            return Dm;
                        }(ns));
                        n(191);
                        var jm = /** @class */ (function (_super) {
                            __extends(jm, _super);
                            function jm(t, e) {
                                if (e === void 0) { e = []; }
                                var _this = _super.call(this, t) || this;
                                var n = t.t;
                                _this.focusTracker = new dl, _this.keystrokes = new el, _this.urlInputView = _this._createUrlInput(), _this.saveButtonView = _this._createButton(n("cu"), Zf.a, "ck-button-save"), _this.saveButtonView.type = "submit", _this.cancelButtonView = _this._createButton(n("cv"), tp.a, "ck-button-cancel", "cancel"), _this._manualDecoratorSwitches = _this._createManualDecoratorSwitches(e), _this.children = _this._createFormChildren(e), _this._focusables = new kl, _this._focusCycler = new $l({ focusables: _this._focusables, focusTracker: _this.focusTracker, keystrokeHandler: _this.keystrokes, actions: { focusPrevious: "shift + tab", focusNext: "tab" } });
                                var i = ["ck", "ck-link-form"];
                                e.length && i.push("ck-link-form_layout-vertical"), _this.setTemplate({ tag: "form", attributes: { class: i, tabindex: "-1" }, children: _this.children });
                                return _this;
                            }
                            jm.prototype.getDecoratorSwitchesState = function () { return Array.from(this._manualDecoratorSwitches).reduce(function (t, e) { return (t[e.name] = e.isOn, t); }, {}); };
                            jm.prototype.render = function () {
                                var _this = this;
                                _super.prototype.render.call(this), Kf({ view: this }), __spread([this.urlInputView], this._manualDecoratorSwitches, [this.saveButtonView, this.cancelButtonView]).forEach(function (t) { _this._focusables.add(t), _this.focusTracker.add(t.element); }), this.keystrokes.listenTo(this.element);
                            };
                            jm.prototype.focus = function () { this._focusCycler.focusFirst(); };
                            jm.prototype._createUrlInput = function () { var t = this.locale.t, e = new $f(this.locale, Gf); return e.label = t("cw"), e.inputView.placeholder = "https://example.com", e; };
                            jm.prototype._createButton = function (t, e, n, i) { var o = new ad(this.locale); return o.set({ label: t, icon: e, tooltip: !0 }), o.extendTemplate({ attributes: { class: n } }), i && o.delegate("execute").to(this, i), o; };
                            jm.prototype._createManualDecoratorSwitches = function (t) {
                                var e_615, _j;
                                var e = this.createCollection();
                                var _loop_8 = function (n_251) {
                                    var t_313 = new pd(this_2.locale);
                                    t_313.set({ name: n_251.id, label: n_251.label, withText: !0 }), t_313.bind("isOn").to(n_251, "value"), t_313.on("execute", function () { n_251.set("value", !t_313.isOn); }), e.add(t_313);
                                };
                                var this_2 = this;
                                try {
                                    for (var t_312 = __values(t), t_312_1 = t_312.next(); !t_312_1.done; t_312_1 = t_312.next()) {
                                        var n_251 = t_312_1.value;
                                        _loop_8(n_251);
                                    }
                                }
                                catch (e_615_1) { e_615 = { error: e_615_1 }; }
                                finally {
                                    try {
                                        if (t_312_1 && !t_312_1.done && (_j = t_312.return)) _j.call(t_312);
                                    }
                                    finally { if (e_615) throw e_615.error; }
                                }
                                return e;
                            };
                            jm.prototype._createFormChildren = function (t) { var e = this.createCollection(); if (e.add(this.urlInputView), t.length) {
                                var t_314 = new Vl;
                                t_314.setTemplate({ tag: "ul", children: this._manualDecoratorSwitches.map(function (t) { return ({ tag: "li", children: [t], attributes: { class: ["ck", "ck-list__item"] } }); }), attributes: { class: ["ck", "ck-reset", "ck-list"] } }), e.add(t_314);
                            } return e.add(this.saveButtonView), e.add(this.cancelButtonView), e; };
                            return jm;
                        }(Vl));
                        var Bm = n(97), Lm = n.n(Bm), Vm = n(28), Fm = n.n(Vm);
                        n(193);
                        var zm = /** @class */ (function (_super) {
                            __extends(zm, _super);
                            function zm(t) {
                                var _this = _super.call(this, t) || this;
                                var e = t.t;
                                _this.focusTracker = new dl, _this.keystrokes = new el, _this.previewButtonView = _this._createPreviewButton(), _this.unlinkButtonView = _this._createButton(e("co"), Lm.a, "unlink"), _this.editButtonView = _this._createButton(e("cp"), Fm.a, "edit"), _this.set("href"), _this._focusables = new kl, _this._focusCycler = new $l({ focusables: _this._focusables, focusTracker: _this.focusTracker, keystrokeHandler: _this.keystrokes, actions: { focusPrevious: "shift + tab", focusNext: "tab" } }), _this.setTemplate({ tag: "div", attributes: { class: ["ck", "ck-link-actions"], tabindex: "-1" }, children: [_this.previewButtonView, _this.editButtonView, _this.unlinkButtonView] });
                                return _this;
                            }
                            zm.prototype.render = function () {
                                var _this = this;
                                _super.prototype.render.call(this), [this.previewButtonView, this.editButtonView, this.unlinkButtonView].forEach(function (t) { _this._focusables.add(t), _this.focusTracker.add(t.element); }), this.keystrokes.listenTo(this.element);
                            };
                            zm.prototype.focus = function () { this._focusCycler.focusFirst(); };
                            zm.prototype._createButton = function (t, e, n) { var i = new ad(this.locale); return i.set({ label: t, icon: e, tooltip: !0 }), i.delegate("execute").to(this, n), i; };
                            zm.prototype._createPreviewButton = function () { var t = new ad(this.locale), e = this.bindTemplate, n = this.t; return t.set({ withText: !0, tooltip: n("cq") }), t.extendTemplate({ attributes: { class: ["ck", "ck-link-actions__preview"], href: e.to("href", function (t) { return t && gf(t); }), target: "_blank", rel: "noopener noreferrer" } }), t.bind("label").to(this, "href", function (t) { return t || n("cr"); }), t.bind("isEnabled").to(this, "href", function (t) { return !!t; }), t.template.tag = "a", t.template.eventListeners = {}, t; };
                            return zm;
                        }(Vl));
                        var Um = n(98), Hm = n.n(Um);
                        var qm = "Ctrl+K";
                        var Ym = /** @class */ (function (_super) {
                            __extends(Ym, _super);
                            function Ym() {
                                return _super !== null && _super.apply(this, arguments) || this;
                            }
                            Object.defineProperty(Ym, "requires", {
                                get: function () { return [fp]; },
                                enumerable: true,
                                configurable: true
                            });
                            Object.defineProperty(Ym, "pluginName", {
                                get: function () { return "LinkUI"; },
                                enumerable: true,
                                configurable: true
                            });
                            Ym.prototype.init = function () { var t = this.editor; t.editing.view.addObserver(Dm), this.actionsView = this._createActionsView(), this.formView = this._createFormView(), this._balloon = t.plugins.get(fp), this._createToolbarLinkButton(), this._enableUserBalloonInteractions(); };
                            Ym.prototype.destroy = function () { _super.prototype.destroy.call(this), this.formView.destroy(); };
                            Ym.prototype._createActionsView = function () {
                                var _this = this;
                                var t = this.editor, e = new zm(t.locale), n = t.commands.get("link"), i = t.commands.get("unlink");
                                return e.bind("href").to(n, "value"), e.editButtonView.bind("isEnabled").to(n), e.unlinkButtonView.bind("isEnabled").to(i), this.listenTo(e, "edit", function () { _this._addFormView(); }), this.listenTo(e, "unlink", function () { t.execute("unlink"), _this._hideUI(); }), e.keystrokes.set("Esc", function (t, e) { _this._hideUI(), e(); }), e.keystrokes.set(qm, function (t, e) { _this._addFormView(), e(); }), e;
                            };
                            Ym.prototype._createFormView = function () {
                                var _this = this;
                                var t = this.editor, e = t.commands.get("link"), n = new jm(t.locale, e.manualDecorators);
                                return n.urlInputView.bind("value").to(e, "value"), n.urlInputView.bind("isReadOnly").to(e, "isEnabled", function (t) { return !t; }), n.saveButtonView.bind("isEnabled").to(e), this.listenTo(n, "submit", function () { t.execute("link", n.urlInputView.inputView.element.value, n.getDecoratorSwitchesState()), _this._closeFormView(); }), this.listenTo(n, "cancel", function () { _this._closeFormView(); }), n.keystrokes.set("Esc", function (t, e) { _this._closeFormView(), e(); }), n;
                            };
                            Ym.prototype._createToolbarLinkButton = function () {
                                var _this = this;
                                var t = this.editor, e = t.commands.get("link"), n = t.t;
                                t.keystrokes.set(qm, function (t, n) { n(), e.isEnabled && _this._showUI(!0); }), t.ui.componentFactory.add("link", function (t) { var i = new ad(t); return i.isEnabled = !0, i.label = n("br"), i.icon = Hm.a, i.keystroke = qm, i.tooltip = !0, i.isToggleable = !0, i.bind("isEnabled").to(e, "isEnabled"), i.bind("isOn").to(e, "value", function (t) { return !!t; }), _this.listenTo(i, "execute", function () { return _this._showUI(!0); }), i; });
                            };
                            Ym.prototype._enableUserBalloonInteractions = function () {
                                var _this = this;
                                var t = this.editor.editing.view.document;
                                this.listenTo(t, "click", function () { _this._getSelectedLinkElement() && _this._showUI(); }), this.editor.keystrokes.set("Tab", function (t, e) { _this._areActionsVisible && !_this.actionsView.focusTracker.isFocused && (_this.actionsView.focus(), e()); }, { priority: "high" }), this.editor.keystrokes.set("Esc", function (t, e) { _this._isUIVisible && (_this._hideUI(), e()); }), md({ emitter: this.formView, activator: function () { return _this._isUIInPanel; }, contextElements: [this._balloon.view.element], callback: function () { return _this._hideUI(); } });
                            };
                            Ym.prototype._addActionsView = function () { this._areActionsInPanel || this._balloon.add({ view: this.actionsView, position: this._getBalloonPositionData() }); };
                            Ym.prototype._addFormView = function () { if (this._isFormInPanel)
                                return; var t = this.editor.commands.get("link"); this._balloon.add({ view: this.formView, position: this._getBalloonPositionData() }), this._balloon.visibleView === this.formView && this.formView.urlInputView.select(), this.formView.urlInputView.inputView.element.value = t.value || ""; };
                            Ym.prototype._closeFormView = function () { var t = this.editor.commands.get("link"); t.restoreManualDecoratorStates(), void 0 !== t.value ? this._removeFormView() : this._hideUI(); };
                            Ym.prototype._removeFormView = function () { this._isFormInPanel && (this.formView.saveButtonView.focus(), this._balloon.remove(this.formView), this.editor.editing.view.focus()); };
                            Ym.prototype._showUI = function (t) {
                                if (t === void 0) { t = !1; }
                                this.editor.commands.get("link").isEnabled && (this._getSelectedLinkElement() ? (this._areActionsVisible ? this._addFormView() : this._addActionsView(), t && this._balloon.showStack("main")) : (this._addActionsView(), t && this._balloon.showStack("main"), this._addFormView()), this._startUpdatingUI());
                            };
                            Ym.prototype._hideUI = function () { if (!this._isUIInPanel)
                                return; var t = this.editor; this.stopListening(t.ui, "update"), this.stopListening(this._balloon, "change:visibleView"), t.editing.view.focus(), this._removeFormView(), this._balloon.remove(this.actionsView); };
                            Ym.prototype._startUpdatingUI = function () {
                                var _this = this;
                                var t = this.editor, e = t.editing.view.document;
                                var n = this._getSelectedLinkElement(), i = r();
                                var o = function () { var t = _this._getSelectedLinkElement(), e = r(); n && !t || !n && e !== i ? _this._hideUI() : _this._isUIVisible && _this._balloon.updatePosition(_this._getBalloonPositionData()), n = t, i = e; };
                                function r() { return e.selection.focus.getAncestors().reverse().find(function (t) { return t.is("element"); }); }
                                this.listenTo(t.ui, "update", o), this.listenTo(this._balloon, "change:visibleView", o);
                            };
                            Object.defineProperty(Ym.prototype, "_isFormInPanel", {
                                get: function () { return this._balloon.hasView(this.formView); },
                                enumerable: true,
                                configurable: true
                            });
                            Object.defineProperty(Ym.prototype, "_areActionsInPanel", {
                                get: function () { return this._balloon.hasView(this.actionsView); },
                                enumerable: true,
                                configurable: true
                            });
                            Object.defineProperty(Ym.prototype, "_areActionsVisible", {
                                get: function () { return this._balloon.visibleView === this.actionsView; },
                                enumerable: true,
                                configurable: true
                            });
                            Object.defineProperty(Ym.prototype, "_isUIInPanel", {
                                get: function () { return this._isFormInPanel || this._areActionsInPanel; },
                                enumerable: true,
                                configurable: true
                            });
                            Object.defineProperty(Ym.prototype, "_isUIVisible", {
                                get: function () { return this._balloon.visibleView == this.formView || this._areActionsVisible; },
                                enumerable: true,
                                configurable: true
                            });
                            Ym.prototype._getBalloonPositionData = function () { var t = this.editor.editing.view, e = t.document, n = this._getSelectedLinkElement(); return { target: n ? t.domConverter.mapViewToDom(n) : t.domConverter.viewRangeToDom(e.selection.getFirstRange()) }; };
                            Ym.prototype._getSelectedLinkElement = function () { var t = this.editor.editing.view, e = t.document.selection; if (e.isCollapsed)
                                return Wm(e.getFirstPosition()); {
                                var n_252 = e.getFirstRange().getTrimmed(), i_162 = Wm(n_252.start), o_97 = Wm(n_252.end);
                                return i_162 && i_162 == o_97 && t.createRangeIn(i_162).getTrimmed().isEqual(n_252) ? i_162 : null;
                            } };
                            return Ym;
                        }(Sd));
                        function Wm(t) { return t.getAncestors().find(function (t) { return (function (t) { return t.is("attributeElement") && !!t.getCustomProperty("link"); })(t); }); }
                        var Jm = /** @class */ (function (_super) {
                            __extends(Jm, _super);
                            function Jm(t, e) {
                                var _this = this;
                                _this = _super.call(this, t) || this, _this.type = e;
                                return _this;
                            }
                            Jm.prototype.refresh = function () { this.value = this._getValue(), this.isEnabled = this._checkEnabled(); };
                            Jm.prototype.execute = function () {
                                var _this = this;
                                var t = this.editor.model, e = t.document, n = Array.from(e.selection.getSelectedBlocks()).filter(function (e) { return Gm(e, t.schema); }), i = !0 === this.value;
                                t.change(function (t) {
                                    var e_616, _j, e_617, _q, e_618, _z;
                                    if (i) {
                                        var e_619 = n[n.length - 1].nextSibling, i_163 = Number.POSITIVE_INFINITY, o_99 = [];
                                        for (; e_619 && "listItem" == e_619.name && 0 !== e_619.getAttribute("listIndent");) {
                                            var t_315 = e_619.getAttribute("listIndent");
                                            t_315 < i_163 && (i_163 = t_315);
                                            var n_254 = t_315 - i_163;
                                            o_99.push({ element: e_619, listIndent: n_254 }), e_619 = e_619.nextSibling;
                                        }
                                        o_99 = o_99.reverse();
                                        try {
                                            for (var o_98 = __values(o_99), o_98_1 = o_98.next(); !o_98_1.done; o_98_1 = o_98.next()) {
                                                var e_620 = o_98_1.value;
                                                t.setAttribute("listIndent", e_620.listIndent, e_620.element);
                                            }
                                        }
                                        catch (e_616_1) { e_616 = { error: e_616_1 }; }
                                        finally {
                                            try {
                                                if (o_98_1 && !o_98_1.done && (_j = o_98.return)) _j.call(o_98);
                                            }
                                            finally { if (e_616) throw e_616.error; }
                                        }
                                    }
                                    if (!i) {
                                        var t_316 = Number.POSITIVE_INFINITY;
                                        try {
                                            for (var n_253 = __values(n), n_253_1 = n_253.next(); !n_253_1.done; n_253_1 = n_253.next()) {
                                                var e_621 = n_253_1.value;
                                                e_621.is("listItem") && e_621.getAttribute("listIndent") < t_316 && (t_316 = e_621.getAttribute("listIndent"));
                                            }
                                        }
                                        catch (e_617_1) { e_617 = { error: e_617_1 }; }
                                        finally {
                                            try {
                                                if (n_253_1 && !n_253_1.done && (_q = n_253.return)) _q.call(n_253);
                                            }
                                            finally { if (e_617) throw e_617.error; }
                                        }
                                        $m(n, !0, t_316 = 0 === t_316 ? 1 : t_316), $m(n, !1, t_316);
                                    }
                                    try {
                                        for (var _0 = __values(n.reverse()), _1 = _0.next(); !_1.done; _1 = _0.next()) {
                                            var e_622 = _1.value;
                                            i && "listItem" == e_622.name ? t.rename(e_622, "paragraph") : i || "listItem" == e_622.name ? i || "listItem" != e_622.name || e_622.getAttribute("listType") == _this.type || t.setAttribute("listType", _this.type, e_622) : (t.setAttributes({ listType: _this.type, listIndent: 0 }, e_622), t.rename(e_622, "listItem"));
                                        }
                                    }
                                    catch (e_618_1) { e_618 = { error: e_618_1 }; }
                                    finally {
                                        try {
                                            if (_1 && !_1.done && (_z = _0.return)) _z.call(_0);
                                        }
                                        finally { if (e_618) throw e_618.error; }
                                    }
                                });
                            };
                            Jm.prototype._getValue = function () { var t = ih(this.editor.model.document.selection.getSelectedBlocks()); return !!t && t.is("listItem") && t.getAttribute("listType") == this.type; };
                            Jm.prototype._checkEnabled = function () { if (this.value)
                                return !0; var t = this.editor.model.document.selection, e = this.editor.model.schema, n = ih(t.getSelectedBlocks()); return !!n && Gm(n, e); };
                            return Jm;
                        }(Md));
                        function $m(t, e, n) { var i = e ? t[0] : t[t.length - 1]; if (i.is("listItem")) {
                            var o_100 = i[e ? "previousSibling" : "nextSibling"], r_46 = i.getAttribute("listIndent");
                            for (; o_100 && o_100.is("listItem") && o_100.getAttribute("listIndent") >= n;)
                                r_46 > o_100.getAttribute("listIndent") && (r_46 = o_100.getAttribute("listIndent")), o_100.getAttribute("listIndent") == r_46 && t[e ? "unshift" : "push"](o_100), o_100 = o_100[e ? "previousSibling" : "nextSibling"];
                        } }
                        function Gm(t, e) { return e.checkChild(t.parent, "listItem") && !e.isObject(t); }
                        var Km = /** @class */ (function (_super) {
                            __extends(Km, _super);
                            function Km(t, e) {
                                var _this = this;
                                _this = _super.call(this, t) || this, _this._indentBy = "forward" == e ? 1 : -1;
                                return _this;
                            }
                            Km.prototype.refresh = function () { this.isEnabled = this._checkEnabled(); };
                            Km.prototype.execute = function () {
                                var _this = this;
                                var t = this.editor.model, e = t.document;
                                var n = Array.from(e.selection.getSelectedBlocks());
                                t.change(function (t) {
                                    var e_623, _j;
                                    var e = n[n.length - 1];
                                    var i = e.nextSibling;
                                    for (; i && "listItem" == i.name && i.getAttribute("listIndent") > e.getAttribute("listIndent");)
                                        n.push(i), i = i.nextSibling;
                                    _this._indentBy < 0 && (n = n.reverse());
                                    try {
                                        for (var n_255 = __values(n), n_255_1 = n_255.next(); !n_255_1.done; n_255_1 = n_255.next()) {
                                            var e_624 = n_255_1.value;
                                            var n_256 = e_624.getAttribute("listIndent") + _this._indentBy;
                                            n_256 < 0 ? t.rename(e_624, "paragraph") : t.setAttribute("listIndent", n_256, e_624);
                                        }
                                    }
                                    catch (e_623_1) { e_623 = { error: e_623_1 }; }
                                    finally {
                                        try {
                                            if (n_255_1 && !n_255_1.done && (_j = n_255.return)) _j.call(n_255);
                                        }
                                        finally { if (e_623) throw e_623.error; }
                                    }
                                });
                            };
                            Km.prototype._checkEnabled = function () { var t = ih(this.editor.model.document.selection.getSelectedBlocks()); if (!t || !t.is("listItem"))
                                return !1; if (this._indentBy > 0) {
                                var e_625 = t.getAttribute("listIndent"), n_257 = t.getAttribute("listType");
                                var i_164 = t.previousSibling;
                                for (; i_164 && i_164.is("listItem") && i_164.getAttribute("listIndent") >= e_625;) {
                                    if (i_164.getAttribute("listIndent") == e_625)
                                        return i_164.getAttribute("listType") == n_257;
                                    i_164 = i_164.previousSibling;
                                }
                                return !1;
                            } return !0; };
                            return Km;
                        }(Md));
                        function Qm(t, e) { var n = e.mapper, i = e.writer, o = "numbered" == t.getAttribute("listType") ? "ol" : "ul", r = function (t) { var e = t.createContainerElement("li"); return e.getFillerOffset = ig, e; }(i), s = i.createContainerElement(o, null); return i.insert(i.createPositionAt(s, 0), r), n.bindElements(t, r), r; }
                        function Zm(t, e, n, i) {
                            var e_626, _j, e_627, _q;
                            var o = e.parent, r = n.mapper, s = n.writer;
                            var a = r.toViewPosition(i.createPositionBefore(t));
                            var c = eg(t.previousSibling, { sameIndent: !0, smallerIndent: !0, listIndent: t.getAttribute("listIndent") }), l = t.previousSibling;
                            if (c && c.getAttribute("listIndent") == t.getAttribute("listIndent")) {
                                var t_317 = r.toViewElement(c);
                                a = s.breakContainer(s.createPositionAfter(t_317));
                            }
                            else
                                a = l && "listItem" == l.name ? r.toViewPosition(i.createPositionAt(l, "end")) : r.toViewPosition(i.createPositionBefore(t));
                            if (a = tg(a), s.insert(a, o), l && "listItem" == l.name) {
                                var t_318 = r.toViewElement(l), n_259 = s.createRange(s.createPositionAt(t_318, 0), a).getWalker({ ignoreElementEnd: !0 });
                                try {
                                    for (var n_258 = __values(n_259), n_258_1 = n_258.next(); !n_258_1.done; n_258_1 = n_258.next()) {
                                        var t_319 = n_258_1.value;
                                        if (t_319.item.is("li")) {
                                            var i_165 = s.breakContainer(s.createPositionBefore(t_319.item)), o_101 = t_319.item.parent, r_47 = s.createPositionAt(e, "end");
                                            Xm(s, r_47.nodeBefore, r_47.nodeAfter), s.move(s.createRangeOn(o_101), r_47), n_259.position = i_165;
                                        }
                                    }
                                }
                                catch (e_626_1) { e_626 = { error: e_626_1 }; }
                                finally {
                                    try {
                                        if (n_258_1 && !n_258_1.done && (_j = n_258.return)) _j.call(n_258);
                                    }
                                    finally { if (e_626) throw e_626.error; }
                                }
                            }
                            else {
                                var n_260 = o.nextSibling;
                                if (n_260 && (n_260.is("ul") || n_260.is("ol"))) {
                                    var i_166 = null;
                                    try {
                                        for (var _z = __values(n_260.getChildren()), _0 = _z.next(); !_0.done; _0 = _z.next()) {
                                            var e_628 = _0.value;
                                            var n_261 = r.toModelElement(e_628);
                                            if (!(n_261 && n_261.getAttribute("listIndent") > t.getAttribute("listIndent")))
                                                break;
                                            i_166 = e_628;
                                        }
                                    }
                                    catch (e_627_1) { e_627 = { error: e_627_1 }; }
                                    finally {
                                        try {
                                            if (_0 && !_0.done && (_q = _z.return)) _q.call(_z);
                                        }
                                        finally { if (e_627) throw e_627.error; }
                                    }
                                    i_166 && (s.breakContainer(s.createPositionAfter(i_166)), s.move(s.createRangeOn(i_166.parent), s.createPositionAt(e, "end")));
                                }
                            }
                            Xm(s, o, o.nextSibling), Xm(s, o.previousSibling, o);
                        }
                        function Xm(t, e, n) { return !e || !n || "ul" != e.name && "ol" != e.name ? null : e.name != n.name || e.getAttribute("class") !== n.getAttribute("class") ? null : t.mergeContainers(t.createPositionAfter(e)); }
                        function tg(t) { return t.getLastMatchingPosition(function (t) { return t.item.is("uiElement"); }); }
                        function eg(t, e) { var n = !!e.sameIndent, i = !!e.smallerIndent, o = e.listIndent; var r = t; for (; r && "listItem" == r.name;) {
                            var t_320 = r.getAttribute("listIndent");
                            if (n && o == t_320 || i && o > t_320)
                                return r;
                            r = r.previousSibling;
                        } return null; }
                        function ng(t, e, n, i) { t.ui.componentFactory.add(e, function (o) { var r = t.commands.get(e), s = new ad(o); return s.set({ label: n, icon: i, tooltip: !0, isToggleable: !0 }), s.bind("isOn", "isEnabled").to(r, "value", "isEnabled"), s.on("execute", function () { return t.execute(e); }), s; }); }
                        function ig() { var t = !this.isEmpty && ("ul" == this.getChild(0).name || "ol" == this.getChild(0).name); return this.isEmpty || t ? 0 : Ci.call(this); }
                        function og(t) { return function (e, n, i) { var o = i.consumable; if (!o.test(n.item, "insert") || !o.test(n.item, "attribute:listType") || !o.test(n.item, "attribute:listIndent"))
                            return; o.consume(n.item, "insert"), o.consume(n.item, "attribute:listType"), o.consume(n.item, "attribute:listIndent"); var r = n.item; Zm(r, Qm(r, i), i, t); }; }
                        function rg(t, e, n) { if (!n.consumable.consume(e.item, "attribute:listType"))
                            return; var i = n.mapper.toViewElement(e.item), o = n.writer; o.breakContainer(o.createPositionBefore(i)), o.breakContainer(o.createPositionAfter(i)); var r = i.parent, s = "numbered" == e.attributeNewValue ? "ol" : "ul"; o.rename(s, r); }
                        function sg(t, e, n) {
                            var e_629, _j;
                            var i = n.mapper.toViewElement(e.item).parent, o = n.writer;
                            Xm(o, i, i.nextSibling), Xm(o, i.previousSibling, i);
                            try {
                                for (var _q = __values(e.item.getChildren()), _z = _q.next(); !_z.done; _z = _q.next()) {
                                    var t_321 = _z.value;
                                    n.consumable.consume(t_321, "insert");
                                }
                            }
                            catch (e_629_1) { e_629 = { error: e_629_1 }; }
                            finally {
                                try {
                                    if (_z && !_z.done && (_j = _q.return)) _j.call(_q);
                                }
                                finally { if (e_629) throw e_629.error; }
                            }
                        }
                        function ag(t, e, n) { if ("listItem" != e.item.name) {
                            var t_322 = n.mapper.toViewPosition(e.range.start);
                            var i_167 = n.writer, o_102 = [];
                            for (; ("ul" == t_322.parent.name || "ol" == t_322.parent.name) && "li" == (t_322 = i_167.breakContainer(t_322)).parent.name;) {
                                var e_630 = t_322, n_262 = i_167.createPositionAt(t_322.parent, "end");
                                if (!e_630.isEqual(n_262)) {
                                    var t_323 = i_167.remove(i_167.createRange(e_630, n_262));
                                    o_102.push(t_323);
                                }
                                t_322 = i_167.createPositionAfter(t_322.parent);
                            }
                            if (o_102.length > 0) {
                                for (var e_631 = 0; e_631 < o_102.length; e_631++) {
                                    var n_263 = t_322.nodeBefore;
                                    if (t_322 = i_167.insert(t_322, o_102[e_631]).end, e_631 > 0) {
                                        var e_632 = Xm(i_167, n_263, n_263.nextSibling);
                                        e_632 && e_632.parent == n_263 && t_322.offset--;
                                    }
                                }
                                Xm(i_167, t_322.nodeBefore, t_322.nodeAfter);
                            }
                        } }
                        function cg(t, e, n) { var i = n.mapper.toViewPosition(e.position), o = i.nodeBefore, r = i.nodeAfter; Xm(n.writer, o, r); }
                        function lg(t, e, n) { if (n.consumable.consume(e.viewItem, { name: !0 })) {
                            var t_324 = n.writer, i_168 = t_324.createElement("listItem"), o_103 = function (t) { var e = 0, n = t.parent; for (; n;) {
                                if (n.is("li"))
                                    e++;
                                else {
                                    var t_325 = n.previousSibling;
                                    t_325 && t_325.is("li") && e++;
                                }
                                n = n.parent;
                            } return e; }(e.viewItem);
                            t_324.setAttribute("listIndent", o_103, i_168);
                            var r_48 = e.viewItem.parent && "ol" == e.viewItem.parent.name ? "numbered" : "bulleted";
                            t_324.setAttribute("listType", r_48, i_168);
                            var s_34 = n.splitToAllowedParent(i_168, e.modelCursor);
                            if (!s_34)
                                return;
                            t_324.insert(i_168, s_34.position);
                            var a_15 = function (t, e, n) {
                                var e_633, _j;
                                var i = n.writer, o = n.schema;
                                var r = i.createPositionAfter(t);
                                try {
                                    for (var e_634 = __values(e), e_634_1 = e_634.next(); !e_634_1.done; e_634_1 = e_634.next()) {
                                        var s_35 = e_634_1.value;
                                        if ("ul" == s_35.name || "ol" == s_35.name)
                                            r = n.convertItem(s_35, r).modelCursor;
                                        else {
                                            var e_635 = n.convertItem(s_35, i.createPositionAt(t, "end")), a_16 = e_635.modelRange.start.nodeAfter, c_11 = a_16 && a_16.is("element") && !o.checkChild(t, a_16.name);
                                            c_11 && (t = e_635.modelCursor.parent.is("listItem") ? e_635.modelCursor.parent : pg(e_635.modelCursor), r = i.createPositionAfter(t));
                                        }
                                    }
                                }
                                catch (e_633_1) { e_633 = { error: e_633_1 }; }
                                finally {
                                    try {
                                        if (e_634_1 && !e_634_1.done && (_j = e_634.return)) _j.call(e_634);
                                    }
                                    finally { if (e_633) throw e_633.error; }
                                }
                                return r;
                            }(i_168, e.viewItem.getChildren(), n);
                            e.modelRange = t_324.createRange(e.modelCursor, a_15), s_34.cursorParent ? e.modelCursor = t_324.createPositionAt(s_34.cursorParent, 0) : e.modelCursor = e.modelRange.end;
                        } }
                        function dg(t, e, n) {
                            var e_636, _j;
                            if (n.consumable.test(e.viewItem, { name: !0 })) {
                                var t_327 = Array.from(e.viewItem.getChildren());
                                try {
                                    for (var t_326 = __values(t_327), t_326_1 = t_326.next(); !t_326_1.done; t_326_1 = t_326.next()) {
                                        var e_637 = t_326_1.value;
                                        !(e_637.is("li") || gg(e_637)) && e_637._remove();
                                    }
                                }
                                catch (e_636_1) { e_636 = { error: e_636_1 }; }
                                finally {
                                    try {
                                        if (t_326_1 && !t_326_1.done && (_j = t_326.return)) _j.call(t_326);
                                    }
                                    finally { if (e_636) throw e_636.error; }
                                }
                            }
                        }
                        function ug(t, e, n) {
                            var e_638, _j;
                            if (n.consumable.test(e.viewItem, { name: !0 })) {
                                if (0 === e.viewItem.childCount)
                                    return;
                                var t_329 = __spread(e.viewItem.getChildren());
                                var n_264 = !1, i_169 = !0;
                                try {
                                    for (var t_328 = __values(t_329), t_328_1 = t_328.next(); !t_328_1.done; t_328_1 = t_328.next()) {
                                        var e_639 = t_328_1.value;
                                        n_264 && !gg(e_639) && e_639._remove(), e_639.is("text") ? (i_169 && (e_639._data = e_639.data.replace(/^\s+/, "")), e_639.nextSibling && !gg(e_639.nextSibling) || (e_639._data = e_639.data.replace(/\s+$/, ""))) : gg(e_639) && (n_264 = !0), i_169 = !1;
                                    }
                                }
                                catch (e_638_1) { e_638 = { error: e_638_1 }; }
                                finally {
                                    try {
                                        if (t_328_1 && !t_328_1.done && (_j = t_328.return)) _j.call(t_328);
                                    }
                                    finally { if (e_638) throw e_638.error; }
                                }
                            }
                        }
                        function hg(t) { return function (e, n) {
                            var e_640, _j;
                            if (n.isPhantom)
                                return;
                            var i = n.modelPosition.nodeBefore;
                            if (i && i.is("listItem")) {
                                var e_641 = n.mapper.toViewElement(i), o_104 = e_641.getAncestors().find(gg), r_50 = t.createPositionAt(e_641, 0).getWalker();
                                try {
                                    for (var r_49 = __values(r_50), r_49_1 = r_49.next(); !r_49_1.done; r_49_1 = r_49.next()) {
                                        var t_330 = r_49_1.value;
                                        if ("elementStart" == t_330.type && t_330.item.is("li")) {
                                            n.viewPosition = t_330.previousPosition;
                                            break;
                                        }
                                        if ("elementEnd" == t_330.type && t_330.item == o_104) {
                                            n.viewPosition = t_330.nextPosition;
                                            break;
                                        }
                                    }
                                }
                                catch (e_640_1) { e_640 = { error: e_640_1 }; }
                                finally {
                                    try {
                                        if (r_49_1 && !r_49_1.done && (_j = r_49.return)) _j.call(r_49);
                                    }
                                    finally { if (e_640) throw e_640.error; }
                                }
                            }
                        }; }
                        function fg(t, _j) {
                            var _q = __read(_j, 2), e = _q[0], n = _q[1];
                            var i, o = e.is("documentFragment") ? e.getChild(0) : e;
                            if (i = n ? this.createSelection(n) : this.document.selection, o && o.is("listItem")) {
                                var t_331 = i.getFirstPosition();
                                var e_642 = null;
                                if (t_331.parent.is("listItem") ? e_642 = t_331.parent : t_331.nodeBefore && t_331.nodeBefore.is("listItem") && (e_642 = t_331.nodeBefore), e_642) {
                                    var t_332 = e_642.getAttribute("listIndent");
                                    if (t_332 > 0)
                                        for (; o && o.is("listItem");)
                                            o._setAttribute("listIndent", o.getAttribute("listIndent") + t_332), o = o.nextSibling;
                                }
                            }
                        }
                        function pg(t) { var e = new Ws({ startPosition: t }); var n; do {
                            n = e.next();
                        } while (!n.value.item.is("listItem")); return n.value.item; }
                        function mg(t, e, n, i, o, r) {
                            var e_643, _j;
                            var s = eg(e.nodeBefore, { sameIndent: !0, smallerIndent: !0, listIndent: t, foo: "b" }), a = o.mapper, c = o.writer, l = s ? s.getAttribute("listIndent") : null;
                            var d;
                            if (s)
                                if (l == t) {
                                    var t_333 = a.toViewElement(s).parent;
                                    d = c.createPositionAfter(t_333);
                                }
                                else {
                                    var t_334 = r.createPositionAt(s, "end");
                                    d = a.toViewPosition(t_334);
                                }
                            else
                                d = n;
                            d = tg(d);
                            try {
                                for (var _q = __values(__spread(i.getChildren())), _z = _q.next(); !_z.done; _z = _q.next()) {
                                    var t_335 = _z.value;
                                    gg(t_335) && (d = c.move(c.createRangeOn(t_335), d).end, Xm(c, t_335, t_335.nextSibling), Xm(c, t_335.previousSibling, t_335));
                                }
                            }
                            catch (e_643_1) { e_643 = { error: e_643_1 }; }
                            finally {
                                try {
                                    if (_z && !_z.done && (_j = _q.return)) _j.call(_q);
                                }
                                finally { if (e_643) throw e_643.error; }
                            }
                        }
                        function gg(t) { return t.is("ol") || t.is("ul"); }
                        var xg = /** @class */ (function (_super) {
                            __extends(xg, _super);
                            function xg() {
                                return _super !== null && _super.apply(this, arguments) || this;
                            }
                            Object.defineProperty(xg, "pluginName", {
                                get: function () { return "ListEditing"; },
                                enumerable: true,
                                configurable: true
                            });
                            Object.defineProperty(xg, "requires", {
                                get: function () { return [Yp]; },
                                enumerable: true,
                                configurable: true
                            });
                            xg.prototype.init = function () {
                                var _this = this;
                                var t = this.editor;
                                t.model.schema.register("listItem", { inheritAllFrom: "$block", allowAttributes: ["listType", "listIndent"] });
                                var e = t.data, n = t.editing;
                                t.model.document.registerPostFixer(function (e) { return (function (t, e) {
                                    var e_644, _j, e_645, _q, e_646, _z;
                                    var n = t.document.differ.getChanges(), i = new Map;
                                    var o = !1;
                                    try {
                                        for (var n_265 = __values(n), n_265_1 = n_265.next(); !n_265_1.done; n_265_1 = n_265.next()) {
                                            var i_170 = n_265_1.value;
                                            if ("insert" == i_170.type && "listItem" == i_170.name)
                                                r(i_170.position);
                                            else if ("insert" == i_170.type && "listItem" != i_170.name) {
                                                if ("$text" != i_170.name) {
                                                    var n_266 = i_170.position.nodeAfter;
                                                    n_266.hasAttribute("listIndent") && (e.removeAttribute("listIndent", n_266), o = !0), n_266.hasAttribute("listType") && (e.removeAttribute("listType", n_266), o = !0);
                                                    try {
                                                        for (var _0 = __values(Array.from(t.createRangeIn(n_266)).filter(function (t) { return t.item.is("listItem"); })), _1 = _0.next(); !_1.done; _1 = _0.next()) {
                                                            var e_647 = _1.value;
                                                            r(e_647.previousPosition);
                                                        }
                                                    }
                                                    catch (e_645_1) { e_645 = { error: e_645_1 }; }
                                                    finally {
                                                        try {
                                                            if (_1 && !_1.done && (_q = _0.return)) _q.call(_0);
                                                        }
                                                        finally { if (e_645) throw e_645.error; }
                                                    }
                                                }
                                                r(i_170.position.getShiftedBy(i_170.length));
                                            }
                                            else
                                                "remove" == i_170.type && "listItem" == i_170.name ? r(i_170.position) : "attribute" == i_170.type && "listIndent" == i_170.attributeKey ? r(i_170.range.start) : "attribute" == i_170.type && "listType" == i_170.attributeKey && r(i_170.range.start);
                                        }
                                    }
                                    catch (e_644_1) { e_644 = { error: e_644_1 }; }
                                    finally {
                                        try {
                                            if (n_265_1 && !n_265_1.done && (_j = n_265.return)) _j.call(n_265);
                                        }
                                        finally { if (e_644) throw e_644.error; }
                                    }
                                    try {
                                        for (var _2 = __values(i.values()), _3 = _2.next(); !_3.done; _3 = _2.next()) {
                                            var t_336 = _3.value;
                                            s(t_336), a(t_336);
                                        }
                                    }
                                    catch (e_646_1) { e_646 = { error: e_646_1 }; }
                                    finally {
                                        try {
                                            if (_3 && !_3.done && (_z = _2.return)) _z.call(_2);
                                        }
                                        finally { if (e_646) throw e_646.error; }
                                    }
                                    return o;
                                    function r(t) { var e = t.nodeBefore; if (e && e.is("listItem")) {
                                        var n_267 = e;
                                        if (i.has(n_267))
                                            return;
                                        for (; n_267.previousSibling && n_267.previousSibling.is("listItem");)
                                            if (n_267 = n_267.previousSibling, i.has(n_267))
                                                return;
                                        i.set(t.nodeBefore, n_267);
                                    }
                                    else {
                                        var e_648 = t.nodeAfter;
                                        e_648 && e_648.is("listItem") && i.set(e_648, e_648);
                                    } }
                                    function s(t) { var n = 0, i = null; for (; t && t.is("listItem");) {
                                        var r_51 = t.getAttribute("listIndent");
                                        if (r_51 > n) {
                                            var s_36 = void 0;
                                            null === i ? (i = r_51 - n, s_36 = n) : (i > r_51 && (i = r_51), s_36 = r_51 - i), e.setAttribute("listIndent", s_36, t), o = !0;
                                        }
                                        else
                                            i = null, n = t.getAttribute("listIndent") + 1;
                                        t = t.nextSibling;
                                    } }
                                    function a(t) { var n = [], i = null; for (; t && t.is("listItem");) {
                                        var r_52 = t.getAttribute("listIndent");
                                        if (i && i.getAttribute("listIndent") > r_52 && (n = n.slice(0, r_52 + 1)), 0 != r_52)
                                            if (n[r_52]) {
                                                var i_171 = n[r_52];
                                                t.getAttribute("listType") != i_171 && (e.setAttribute("listType", i_171, t), o = !0);
                                            }
                                            else
                                                n[r_52] = t.getAttribute("listType");
                                        i = t, t = t.nextSibling;
                                    } }
                                })(t.model, e); }), n.mapper.registerViewToModelLength("li", bg), e.mapper.registerViewToModelLength("li", bg), n.mapper.on("modelToViewPosition", hg(n.view)), n.mapper.on("viewToModelPosition", function (t) { return function (e, n) { var i = n.viewPosition, o = i.parent, r = n.mapper; if ("ul" == o.name || "ol" == o.name) {
                                    if (i.isAtEnd) {
                                        var e_649 = r.toModelElement(i.nodeBefore), o_105 = r.getModelLength(i.nodeBefore);
                                        n.modelPosition = t.createPositionBefore(e_649).getShiftedBy(o_105);
                                    }
                                    else {
                                        var e_650 = r.toModelElement(i.nodeAfter);
                                        n.modelPosition = t.createPositionBefore(e_650);
                                    }
                                    e.stop();
                                }
                                else if ("li" == o.name && i.nodeBefore && ("ul" == i.nodeBefore.name || "ol" == i.nodeBefore.name)) {
                                    var s_37 = r.toModelElement(o);
                                    var a_17 = 1, c_12 = i.nodeBefore;
                                    for (; c_12 && gg(c_12);)
                                        a_17 += r.getModelLength(c_12), c_12 = c_12.previousSibling;
                                    n.modelPosition = t.createPositionBefore(s_37).getShiftedBy(a_17), e.stop();
                                } }; }(t.model)), e.mapper.on("modelToViewPosition", hg(n.view)), t.conversion.for("editingDowncast").add(function (e) { e.on("insert", ag, { priority: "high" }), e.on("insert:listItem", og(t.model)), e.on("attribute:listType:listItem", rg, { priority: "high" }), e.on("attribute:listType:listItem", sg, { priority: "low" }), e.on("attribute:listIndent:listItem", function (t) { return function (e, n, i) {
                                    var e_651, _j;
                                    if (!i.consumable.consume(n.item, "attribute:listIndent"))
                                        return;
                                    var o = i.mapper.toViewElement(n.item), r = i.writer;
                                    r.breakContainer(r.createPositionBefore(o)), r.breakContainer(r.createPositionAfter(o));
                                    var s = o.parent, a = s.previousSibling, c = r.createRangeOn(s);
                                    r.remove(c), a && a.nextSibling && Xm(r, a, a.nextSibling), mg(n.attributeOldValue + 1, n.range.start, c.start, o, i, t), Zm(n.item, o, i, t);
                                    try {
                                        for (var _q = __values(n.item.getChildren()), _z = _q.next(); !_z.done; _z = _q.next()) {
                                            var t_337 = _z.value;
                                            i.consumable.consume(t_337, "insert");
                                        }
                                    }
                                    catch (e_651_1) { e_651 = { error: e_651_1 }; }
                                    finally {
                                        try {
                                            if (_z && !_z.done && (_j = _q.return)) _j.call(_q);
                                        }
                                        finally { if (e_651) throw e_651.error; }
                                    }
                                }; }(t.model)), e.on("remove:listItem", function (t) { return function (e, n, i) {
                                    var e_652, _j;
                                    var o = i.mapper.toViewPosition(n.position).getLastMatchingPosition(function (t) { return !t.item.is("li"); }).nodeAfter, r = i.writer;
                                    r.breakContainer(r.createPositionBefore(o)), r.breakContainer(r.createPositionAfter(o));
                                    var s = o.parent, a = s.previousSibling, c = r.createRangeOn(s), l = r.remove(c);
                                    a && a.nextSibling && Xm(r, a, a.nextSibling), mg(i.mapper.toModelElement(o).getAttribute("listIndent") + 1, n.position, c.start, o, i, t);
                                    try {
                                        for (var _q = __values(r.createRangeIn(l).getItems()), _z = _q.next(); !_z.done; _z = _q.next()) {
                                            var t_338 = _z.value;
                                            i.mapper.unbindViewElement(t_338);
                                        }
                                    }
                                    catch (e_652_1) { e_652 = { error: e_652_1 }; }
                                    finally {
                                        try {
                                            if (_z && !_z.done && (_j = _q.return)) _j.call(_q);
                                        }
                                        finally { if (e_652) throw e_652.error; }
                                    }
                                    e.stop();
                                }; }(t.model)), e.on("remove", cg, { priority: "low" }); }), t.conversion.for("dataDowncast").add(function (e) { e.on("insert", ag, { priority: "high" }), e.on("insert:listItem", og(t.model)); }), t.conversion.for("upcast").add(function (t) { t.on("element:ul", dg, { priority: "high" }), t.on("element:ol", dg, { priority: "high" }), t.on("element:li", ug, { priority: "high" }), t.on("element:li", lg); }), t.model.on("insertContent", fg, { priority: "high" }), t.commands.add("numberedList", new Jm(t, "numbered")), t.commands.add("bulletedList", new Jm(t, "bulleted")), t.commands.add("indentList", new Km(t, "forward")), t.commands.add("outdentList", new Km(t, "backward"));
                                var i = n.view.document;
                                this.listenTo(i, "enter", function (t, e) { var n = _this.editor.model.document, i = n.selection.getLastPosition().parent; n.selection.isCollapsed && "listItem" == i.name && i.isEmpty && (_this.editor.execute("outdentList"), e.preventDefault(), t.stop()); }), this.listenTo(i, "delete", function (t, e) { if ("backward" !== e.direction)
                                    return; var n = _this.editor.model.document.selection; if (!n.isCollapsed)
                                    return; var i = n.getFirstPosition(); if (!i.isAtStart)
                                    return; var o = i.parent; "listItem" === o.name && (o.previousSibling && "listItem" === o.previousSibling.name || (_this.editor.execute("outdentList"), e.preventDefault(), t.stop())); }, { priority: "high" });
                                var o = function (t) { return function (e, n) { _this.editor.commands.get(t).isEnabled && (_this.editor.execute(t), n()); }; };
                                t.keystrokes.set("Tab", o("indentList")), t.keystrokes.set("Shift+Tab", o("outdentList"));
                            };
                            xg.prototype.afterInit = function () { var t = this.editor.commands, e = t.get("indent"), n = t.get("outdent"); e && e.registerChildCommand(t.get("indentList")), n && n.registerChildCommand(t.get("outdentList")); };
                            return xg;
                        }(Sd));
                        function bg(t) {
                            var e_653, _j, e_654, _q;
                            var e = 1;
                            try {
                                for (var _z = __values(t.getChildren()), _0 = _z.next(); !_0.done; _0 = _z.next()) {
                                    var n_268 = _0.value;
                                    if ("ul" == n_268.name || "ol" == n_268.name)
                                        try {
                                            for (var _1 = __values(n_268.getChildren()), _2 = _1.next(); !_2.done; _2 = _1.next()) {
                                                var t_339 = _2.value;
                                                e += bg(t_339);
                                            }
                                        }
                                        catch (e_654_1) { e_654 = { error: e_654_1 }; }
                                        finally {
                                            try {
                                                if (_2 && !_2.done && (_q = _1.return)) _q.call(_1);
                                            }
                                            finally { if (e_654) throw e_654.error; }
                                        }
                                }
                            }
                            catch (e_653_1) { e_653 = { error: e_653_1 }; }
                            finally {
                                try {
                                    if (_0 && !_0.done && (_j = _z.return)) _j.call(_z);
                                }
                                finally { if (e_653) throw e_653.error; }
                            }
                            return e;
                        }
                        var kg = n(99), wg = n.n(kg), vg = n(100), yg = n.n(vg);
                        var _g = /** @class */ (function (_super) {
                            __extends(_g, _super);
                            function _g() {
                                return _super !== null && _super.apply(this, arguments) || this;
                            }
                            _g.prototype.init = function () { var t = this.editor.t; ng(this.editor, "numberedList", t("s"), wg.a), ng(this.editor, "bulletedList", t("t"), yg.a); };
                            return _g;
                        }(Sd));
                        var Cg = /** @class */ (function (_super) {
                            __extends(Cg, _super);
                            function Cg() {
                                return _super !== null && _super.apply(this, arguments) || this;
                            }
                            Object.defineProperty(Cg, "requires", {
                                get: function () { return [xg, _g]; },
                                enumerable: true,
                                configurable: true
                            });
                            Object.defineProperty(Cg, "pluginName", {
                                get: function () { return "List"; },
                                enumerable: true,
                                configurable: true
                            });
                            return Cg;
                        }(Sd));
                        function Tg(t, e) { return function (t) { t.on("attribute:url:media", n); }; function n(n, i, o) { if (!o.consumable.consume(i.item, n.name))
                            return; var r = i.attributeNewValue, s = o.writer, a = o.mapper.toViewElement(i.item); s.remove(s.createRangeIn(a)); var c = t.getMediaViewElement(s, r, e); s.insert(s.createPositionAt(a, 0), c); } }
                        function Ag(t, e, n, i) { var o = t.createContainerElement("figure", { class: "media" }); return o.getFillerOffset = Pg, t.insert(t.createPositionAt(o, 0), e.getMediaViewElement(t, n, i)), o; }
                        function Sg(t) { var e = t.getSelectedElement(); return e && e.is("media") ? e : null; }
                        function Eg(t, e, n) { t.change(function (i) { var o = i.createElement("media", { url: e }); t.insertContent(o, n), i.setSelection(o, "on"); }); }
                        function Pg() { return null; }
                        var Ig = /** @class */ (function (_super) {
                            __extends(Ig, _super);
                            function Ig() {
                                return _super !== null && _super.apply(this, arguments) || this;
                            }
                            Ig.prototype.refresh = function () { var t = this.editor.model, e = t.document.selection, n = t.schema, i = e.getFirstPosition(), o = Sg(e); var r = i.parent; r != r.root && (r = r.parent), this.value = o ? o.getAttribute("url") : null, this.isEnabled = n.checkChild(r, "media"); };
                            Ig.prototype.execute = function (t) { var e = this.editor.model, n = e.document.selection, i = Sg(n); if (i)
                                e.change(function (e) { e.setAttribute("url", t, i); });
                            else {
                                var i_172 = Ph(n, e);
                                Eg(e, t, i_172);
                            } };
                            return Ig;
                        }(Md));
                        var Ng = n(101), Mg = n.n(Ng);
                        var Og = "0 0 64 42";
                        var Rg = /** @class */ (function () {
                            function Rg(t, e) {
                                var n = e.providers, i = e.extraProviders || [], o = new Set(e.removeProviders), r = n.concat(i).filter(function (t) { var e = t.name; return e ? !o.has(e) : (console.warn(Object(Gn.a)("media-embed-no-provider-name: The configured media provider has no name and cannot be used."), { provider: t }), !1); });
                                this.locale = t, this.providerDefinitions = r;
                            }
                            Rg.prototype.hasMedia = function (t) { return !!this._getMedia(t); };
                            Rg.prototype.getMediaViewElement = function (t, e, n) { return this._getMedia(e).getViewElement(t, n); };
                            Rg.prototype._getMedia = function (t) {
                                var e_655, _j, e_656, _q;
                                if (!t)
                                    return new Dg(this.locale);
                                t = t.trim();
                                try {
                                    for (var _z = __values(this.providerDefinitions), _0 = _z.next(); !_0.done; _0 = _z.next()) {
                                        var e_657 = _0.value;
                                        var n_269 = e_657.html;
                                        var i_174 = e_657.url;
                                        Array.isArray(i_174) || (i_174 = [i_174]);
                                        try {
                                            for (var i_173 = __values(i_174), i_173_1 = i_173.next(); !i_173_1.done; i_173_1 = i_173.next()) {
                                                var e_658 = i_173_1.value;
                                                var i_175 = this._getUrlMatches(t, e_658);
                                                if (i_175)
                                                    return new Dg(this.locale, t, i_175, n_269);
                                            }
                                        }
                                        catch (e_656_1) { e_656 = { error: e_656_1 }; }
                                        finally {
                                            try {
                                                if (i_173_1 && !i_173_1.done && (_q = i_173.return)) _q.call(i_173);
                                            }
                                            finally { if (e_656) throw e_656.error; }
                                        }
                                    }
                                }
                                catch (e_655_1) { e_655 = { error: e_655_1 }; }
                                finally {
                                    try {
                                        if (_0 && !_0.done && (_j = _z.return)) _j.call(_z);
                                    }
                                    finally { if (e_655) throw e_655.error; }
                                }
                                return null;
                            };
                            Rg.prototype._getUrlMatches = function (t, e) { var n = t.match(e); if (n)
                                return n; var i = t.replace(/^https?:\/\//, ""); return (n = i.match(e)) ? n : (n = (i = i.replace(/^www\./, "")).match(e)) || null; };
                            return Rg;
                        }());
                        var Dg = /** @class */ (function () {
                            function Dg(t, e, n, i) {
                                this.url = this._getValidUrl(e), this._t = t.t, this._match = n, this._previewRenderer = i;
                            }
                            Dg.prototype.getViewElement = function (t, e) { var n = {}; if (e.renderForEditingView || e.renderMediaPreview && this.url && this._previewRenderer) {
                                this.url && (n["data-oembed-url"] = this.url), e.renderForEditingView && (n.class = "ck-media__wrapper");
                                var i_176 = this._getPreviewHtml(e);
                                return t.createUIElement("div", n, function (t) { var e = this.toDomElement(t); return e.innerHTML = i_176, e; });
                            } return this.url && (n.url = this.url), t.createEmptyElement("oembed", n); };
                            Dg.prototype._getPreviewHtml = function (t) { return this._previewRenderer ? this._previewRenderer(this._match) : this.url && t.renderForEditingView ? this._getPlaceholderHtml() : ""; };
                            Dg.prototype._getPlaceholderHtml = function () { var t = new sd, e = new rd; return t.text = this._t("Open media in new tab"), e.content = Mg.a, e.viewBox = Og, new vl({ tag: "div", attributes: { class: "ck ck-reset_all ck-media__placeholder" }, children: [{ tag: "div", attributes: { class: "ck-media__placeholder__icon" }, children: [e] }, { tag: "a", attributes: { class: "ck-media__placeholder__url", target: "_blank", rel: "noopener noreferrer", href: this.url }, children: [{ tag: "span", attributes: { class: "ck-media__placeholder__url__text" }, children: [this.url] }, t] }] }).render().outerHTML; };
                            Dg.prototype._getValidUrl = function (t) { return t ? t.match(/^https?/) ? t : "https://" + t : null; };
                            return Dg;
                        }());
                        n(195);
                        var jg = /** @class */ (function (_super) {
                            __extends(jg, _super);
                            function jg(t) {
                                var _this = this;
                                _this = _super.call(this, t) || this, t.config.define("mediaEmbed", { providers: [{ name: "dailymotion", url: /^dailymotion\.com\/video\/(\w+)/, html: function (t) { return '<div style="position: relative; padding-bottom: 100%; height: 0; ">' + ("<iframe src=\"https://www.dailymotion.com/embed/video/" + t[1] + "\" ") + 'style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" frameborder="0" width="480" height="270" allowfullscreen allow="autoplay"></iframe></div>'; } }, { name: "spotify", url: [/^open\.spotify\.com\/(artist\/\w+)/, /^open\.spotify\.com\/(album\/\w+)/, /^open\.spotify\.com\/(track\/\w+)/], html: function (t) { return '<div style="position: relative; padding-bottom: 100%; height: 0; padding-bottom: 126%;">' + ("<iframe src=\"https://open.spotify.com/embed/" + t[1] + "\" ") + 'style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" frameborder="0" allowtransparency="true" allow="encrypted-media"></iframe></div>'; } }, { name: "youtube", url: [/^(?:m\.)?youtube\.com\/watch\?v=([\w-]+)/, /^(?:m\.)?youtube\.com\/v\/([\w-]+)/, /^youtube\.com\/embed\/([\w-]+)/, /^youtu\.be\/([\w-]+)/], html: function (t) { return '<div style="position: relative; padding-bottom: 100%; height: 0; padding-bottom: 56.2493%;">' + ("<iframe src=\"https://www.youtube.com/embed/" + t[1] + "\" ") + 'style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div>'; } }, { name: "vimeo", url: [/^vimeo\.com\/(\d+)/, /^vimeo\.com\/[^/]+\/[^/]+\/video\/(\d+)/, /^vimeo\.com\/album\/[^/]+\/video\/(\d+)/, /^vimeo\.com\/channels\/[^/]+\/(\d+)/, /^vimeo\.com\/groups\/[^/]+\/videos\/(\d+)/, /^vimeo\.com\/ondemand\/[^/]+\/(\d+)/, /^player\.vimeo\.com\/video\/(\d+)/], html: function (t) { return '<div style="position: relative; padding-bottom: 100%; height: 0; padding-bottom: 56.2493%;">' + ("<iframe src=\"https://player.vimeo.com/video/" + t[1] + "\" ") + 'style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe></div>'; } }, { name: "instagram", url: /^instagram\.com\/p\/(\w+)/ }, { name: "twitter", url: /^twitter\.com/ }, { name: "googleMaps", url: /^google\.com\/maps/ }, { name: "flickr", url: /^flickr\.com/ }, { name: "facebook", url: /^facebook\.com/ }] }), _this.registry = new Rg(t.locale, t.config.get("mediaEmbed"));
                                return _this;
                            }
                            Object.defineProperty(jg, "pluginName", {
                                get: function () { return "MediaEmbedEditing"; },
                                enumerable: true,
                                configurable: true
                            });
                            jg.prototype.init = function () { var t = this.editor, e = t.model.schema, n = t.t, i = t.conversion, o = t.config.get("mediaEmbed.previewsInData"), r = this.registry; t.commands.add("mediaEmbed", new Ig(t)), e.register("media", { isObject: !0, isBlock: !0, allowWhere: "$block", allowAttributes: ["url"] }), i.for("dataDowncast").elementToElement({ model: "media", view: function (t, e) { var n = t.getAttribute("url"); return Ag(e, r, n, { renderMediaPreview: n && o }); } }), i.for("dataDowncast").add(Tg(r, { renderMediaPreview: o })), i.for("editingDowncast").elementToElement({ model: "media", view: function (t, e) { var i = t.getAttribute("url"); return function (t, e, n) { return e.setCustomProperty("media", !0, t), Ah(t, e, { label: n }); }(Ag(e, r, i, { renderForEditingView: !0 }), e, n("bc")); } }), i.for("editingDowncast").add(Tg(r, { renderForEditingView: !0 })), i.for("upcast").elementToElement({ view: { name: "oembed", attributes: { url: !0 } }, model: function (t, e) { var n = t.getAttribute("url"); if (r.hasMedia(n))
                                    return e.createElement("media", { url: n }); } }).elementToElement({ view: { name: "div", attributes: { "data-oembed-url": !0 } }, model: function (t, e) { var n = t.getAttribute("data-oembed-url"); if (r.hasMedia(n))
                                    return e.createElement("media", { url: n }); } }); };
                            return jg;
                        }(Sd));
                        var Bg = /^(?:http(s)?:\/\/)?[\w.-]+(?:\.[\w.-]+)+[\w\-._~:/?#[\]@!$&'()*+,;=]+$/;
                        var Lg = /** @class */ (function (_super) {
                            __extends(Lg, _super);
                            function Lg(t) {
                                var _this = this;
                                _this = _super.call(this, t) || this, _this._timeoutId = null, _this._positionToInsert = null;
                                return _this;
                            }
                            Object.defineProperty(Lg, "requires", {
                                get: function () { return [Nd, Tu]; },
                                enumerable: true,
                                configurable: true
                            });
                            Object.defineProperty(Lg, "pluginName", {
                                get: function () { return "AutoMediaEmbed"; },
                                enumerable: true,
                                configurable: true
                            });
                            Lg.prototype.init = function () {
                                var _this = this;
                                var t = this.editor, e = t.model.document;
                                this.listenTo(t.plugins.get(Nd), "inputTransformation", function () { var t = e.selection.getFirstRange(), n = Vc.fromPosition(t.start); n.stickiness = "toPrevious"; var i = Vc.fromPosition(t.end); i.stickiness = "toNext", e.once("change:data", function () { _this._embedMediaBetweenPositions(n, i), n.detach(), i.detach(); }, { priority: "high" }); }), t.commands.get("undo").on("execute", function () { _this._timeoutId && (nr.window.clearTimeout(_this._timeoutId), _this._positionToInsert.detach(), _this._timeoutId = null, _this._positionToInsert = null); }, { priority: "high" });
                            };
                            Lg.prototype._embedMediaBetweenPositions = function (t, e) {
                                var _this = this;
                                var e_659, _j;
                                var n = this.editor, i = n.plugins.get(jg).registry, o = new aa(t, e), r = o.getWalker({ ignoreElementEnd: !0 });
                                var s = "";
                                try {
                                    for (var r_53 = __values(r), r_53_1 = r_53.next(); !r_53_1.done; r_53_1 = r_53.next()) {
                                        var t_340 = r_53_1.value;
                                        t_340.item.is("textProxy") && (s += t_340.item.data);
                                    }
                                }
                                catch (e_659_1) { e_659 = { error: e_659_1 }; }
                                finally {
                                    try {
                                        if (r_53_1 && !r_53_1.done && (_j = r_53.return)) _j.call(r_53);
                                    }
                                    finally { if (e_659) throw e_659.error; }
                                }
                                if (!(s = s.trim()).match(Bg))
                                    return;
                                if (!i.hasMedia(s))
                                    return;
                                n.commands.get("mediaEmbed").isEnabled && (this._positionToInsert = Vc.fromPosition(t), this._timeoutId = nr.window.setTimeout(function () { n.model.change(function (t) { var e; _this._timeoutId = null, t.remove(o), "$graveyard" !== _this._positionToInsert.root.rootName && (e = _this._positionToInsert), Eg(n.model, s, e), _this._positionToInsert.detach(), _this._positionToInsert = null; }); }, 100));
                            };
                            return Lg;
                        }(Sd));
                        n(197);
                        var Vg = /** @class */ (function (_super) {
                            __extends(Vg, _super);
                            function Vg(t, e) {
                                var _this = _super.call(this, e) || this;
                                var n = e.t;
                                _this.focusTracker = new dl, _this.keystrokes = new el, _this.urlInputView = _this._createUrlInput(), _this.saveButtonView = _this._createButton(n("cu"), Zf.a, "ck-button-save"), _this.saveButtonView.type = "submit", _this.cancelButtonView = _this._createButton(n("cv"), tp.a, "ck-button-cancel", "cancel"), _this._focusables = new kl, _this._focusCycler = new $l({ focusables: _this._focusables, focusTracker: _this.focusTracker, keystrokeHandler: _this.keystrokes, actions: { focusPrevious: "shift + tab", focusNext: "tab" } }), _this._validators = t, _this.setTemplate({ tag: "form", attributes: { class: ["ck", "ck-media-form"], tabindex: "-1" }, children: [_this.urlInputView, _this.saveButtonView, _this.cancelButtonView] });
                                return _this;
                            }
                            Vg.prototype.render = function () {
                                var _this = this;
                                _super.prototype.render.call(this), Kf({ view: this }), [this.urlInputView, this.saveButtonView, this.cancelButtonView].forEach(function (t) { _this._focusables.add(t), _this.focusTracker.add(t.element); }), this.keystrokes.listenTo(this.element);
                                var t = function (t) { return t.stopPropagation(); };
                                this.keystrokes.set("arrowright", t), this.keystrokes.set("arrowleft", t), this.keystrokes.set("arrowup", t), this.keystrokes.set("arrowdown", t), this.listenTo(this.urlInputView.element, "selectstart", function (t, e) { e.stopPropagation(); }, { priority: "high" });
                            };
                            Vg.prototype.focus = function () { this._focusCycler.focusFirst(); };
                            Object.defineProperty(Vg.prototype, "url", {
                                get: function () { return this.urlInputView.inputView.element.value.trim(); },
                                set: function (t) { this.urlInputView.inputView.element.value = t.trim(); },
                                enumerable: true,
                                configurable: true
                            });
                            Vg.prototype.isValid = function () {
                                var e_660, _j;
                                this.resetFormStatus();
                                try {
                                    for (var _q = __values(this._validators), _z = _q.next(); !_z.done; _z = _q.next()) {
                                        var t_341 = _z.value;
                                        var e_661 = t_341(this);
                                        if (e_661)
                                            return this.urlInputView.errorText = e_661, !1;
                                    }
                                }
                                catch (e_660_1) { e_660 = { error: e_660_1 }; }
                                finally {
                                    try {
                                        if (_z && !_z.done && (_j = _q.return)) _j.call(_q);
                                    }
                                    finally { if (e_660) throw e_660.error; }
                                }
                                return !0;
                            };
                            Vg.prototype.resetFormStatus = function () { this.urlInputView.errorText = null, this.urlInputView.infoText = this._urlInputViewInfoDefault; };
                            Vg.prototype._createUrlInput = function () {
                                var _this = this;
                                var t = this.locale.t, e = new $f(this.locale, Gf), n = e.inputView;
                                return this._urlInputViewInfoDefault = t("dg"), this._urlInputViewInfoTip = t("dh"), e.label = t("di"), e.infoText = this._urlInputViewInfoDefault, n.placeholder = "https://example.com", n.on("input", function () { e.infoText = n.element.value ? _this._urlInputViewInfoTip : _this._urlInputViewInfoDefault; }), e;
                            };
                            Vg.prototype._createButton = function (t, e, n, i) { var o = new ad(this.locale); return o.set({ label: t, icon: e, tooltip: !0 }), o.extendTemplate({ attributes: { class: n } }), i && o.delegate("execute").to(this, i), o; };
                            return Vg;
                        }(Vl));
                        var Fg = n(102), zg = n.n(Fg);
                        var Ug = /** @class */ (function (_super) {
                            __extends(Ug, _super);
                            function Ug() {
                                return _super !== null && _super.apply(this, arguments) || this;
                            }
                            Object.defineProperty(Ug, "requires", {
                                get: function () { return [jg]; },
                                enumerable: true,
                                configurable: true
                            });
                            Object.defineProperty(Ug, "pluginName", {
                                get: function () { return "MediaEmbedUI"; },
                                enumerable: true,
                                configurable: true
                            });
                            Ug.prototype.init = function () {
                                var _this = this;
                                var t = this.editor, e = t.commands.get("mediaEmbed"), n = t.plugins.get(jg).registry;
                                this.form = new Vg(function (t, e) { return [function (e) { if (!e.url.length)
                                        return t("bp"); }, function (n) { if (!e.hasMedia(n.url))
                                        return t("bq"); }]; }(t.t, n), t.locale), t.ui.componentFactory.add("mediaEmbed", function (n) { var i = gd(n); return _this._setUpDropdown(i, _this.form, e, t), _this._setUpForm(_this.form, i, e), i; });
                            };
                            Ug.prototype._setUpDropdown = function (t, e, n) { var i = this.editor, o = i.t, r = t.buttonView; function s() { i.editing.view.focus(), t.isOpen = !1; } t.bind("isEnabled").to(n), t.panelView.children.add(e), r.set({ label: o("bo"), icon: zg.a, tooltip: !0 }), r.on("open", function () { e.url = n.value || "", e.urlInputView.select(), e.focus(); }, { priority: "low" }), t.on("submit", function () { e.isValid() && (i.execute("mediaEmbed", e.url), s()); }), t.on("change:isOpen", function () { return e.resetFormStatus(); }), t.on("cancel", function () { return s(); }); };
                            Ug.prototype._setUpForm = function (t, e, n) { t.delegate("submit", "cancel").to(e), t.urlInputView.bind("value").to(n, "value"), t.urlInputView.bind("isReadOnly").to(n, "isEnabled", function (t) { return !t; }), t.saveButtonView.bind("isEnabled").to(n); };
                            return Ug;
                        }(Sd));
                        n(199);
                        function Hg(t, e) { if (!t.childCount)
                            return; var n = new Bp, i = function (t, e) {
                            var e_662, _j;
                            var n = e.createRangeIn(t), i = new bi({ name: /^p|h\d+$/, styles: { "mso-list": /.*/ } }), o = [];
                            try {
                                for (var n_270 = __values(n), n_270_1 = n_270.next(); !n_270_1.done; n_270_1 = n_270.next()) {
                                    var t_342 = n_270_1.value;
                                    if ("elementStart" === t_342.type && i.match(t_342.item)) {
                                        var e_663 = qg(t_342.item);
                                        o.push({ element: t_342.item, id: e_663.id, order: e_663.order, indent: e_663.indent });
                                    }
                                }
                            }
                            catch (e_662_1) { e_662 = { error: e_662_1 }; }
                            finally {
                                try {
                                    if (n_270_1 && !n_270_1.done && (_j = n_270.return)) _j.call(n_270);
                                }
                                finally { if (e_662) throw e_662.error; }
                            }
                            return o;
                        }(t, n); if (!i.length)
                            return; var o = null; i.forEach(function (t, r) { if (!o || function (t, e) { if (t.id !== e.id)
                            return !0; var n = e.element.previousSibling; if (!n)
                            return !0; return !function (t) { return t.is("ol") || t.is("ul"); }(n); }(i[r - 1], t)) {
                            var i_177 = function (t, e) { var n = /mso-level-number-format:([^;]*);/gi, i = new RegExp("@list l" + t.id + ":level" + t.indent + "\\s*({[^}]*)", "gi").exec(e); var o = "decimal"; if (i && i[1]) {
                                var t_343 = n.exec(i[1]);
                                t_343 && t_343[1] && (o = t_343[1].trim());
                            } return { type: "bullet" !== o && "image" !== o ? "ol" : "ul", style: o }; }(t, e);
                            o = function (t, e, n) { var i = new wi(t.type), o = e.parent.getChildIndex(e); return n.insertChild(o, i, e.parent), i; }(i_177, t.element, n);
                        } var s = function (t, e) { return function (t, e) {
                            var e_664, _j;
                            var n = new bi({ name: "span", styles: { "mso-list": "Ignore" } }), i = e.createRangeIn(t);
                            try {
                                for (var i_178 = __values(i), i_178_1 = i_178.next(); !i_178_1.done; i_178_1 = i_178.next()) {
                                    var t_344 = i_178_1.value;
                                    "elementStart" === t_344.type && n.match(t_344.item) && e.remove(t_344.item);
                                }
                            }
                            catch (e_664_1) { e_664 = { error: e_664_1 }; }
                            finally {
                                try {
                                    if (i_178_1 && !i_178_1.done && (_j = i_178.return)) _j.call(i_178);
                                }
                                finally { if (e_664) throw e_664.error; }
                            }
                        }(t, e), e.rename("li", t); }(t.element, n); n.appendChild(s, o); }); }
                        function qg(t) { var e = {}, n = t.getStyle("mso-list"); if (n) {
                            var t_345 = n.match(/(^|\s+)l(\d+)/i), i_179 = n.match(/\s*lfo(\d+)/i), o_106 = n.match(/\s*level(\d+)/i);
                            t_345 && i_179 && o_106 && (e.id = t_345[2], e.order = i_179[1], e.indent = o_106[1]);
                        } return e; }
                        var Yg = /id=("|')docs-internal-guid-[-0-9a-f]+("|')/i;
                        var Wg = /** @class */ (function () {
                            function Wg() {
                            }
                            Wg.prototype.isActive = function (t) { return Yg.test(t); };
                            Wg.prototype.execute = function (t) { var e = new Bp; !function (t, e) {
                                var e_665, _j;
                                try {
                                    for (var _q = __values(t.getChildren()), _z = _q.next(); !_z.done; _z = _q.next()) {
                                        var n_271 = _z.value;
                                        if (n_271.is("b") && "normal" === n_271.getStyle("font-weight")) {
                                            var i_180 = t.getChildIndex(n_271);
                                            e.remove(n_271), e.insertChild(i_180, n_271.getChildren(), t);
                                        }
                                    }
                                }
                                catch (e_665_1) { e_665 = { error: e_665_1 }; }
                                finally {
                                    try {
                                        if (_z && !_z.done && (_j = _q.return)) _j.call(_q);
                                    }
                                    finally { if (e_665) throw e_665.error; }
                                }
                            }(t.content, e), function (t, e) {
                                var e_666, _j;
                                try {
                                    for (var _q = __values(e.createRangeIn(t)), _z = _q.next(); !_z.done; _z = _q.next()) {
                                        var n_272 = _z.value;
                                        var t_346 = n_272.item;
                                        if (t_346.is("li")) {
                                            var n_273 = t_346.getChild(0);
                                            n_273.is("p") && e.unwrapElement(n_273);
                                        }
                                    }
                                }
                                catch (e_666_1) { e_666 = { error: e_666_1 }; }
                                finally {
                                    try {
                                        if (_z && !_z.done && (_j = _q.return)) _j.call(_q);
                                    }
                                    finally { if (e_666) throw e_666.error; }
                                }
                            }(t.content, e); };
                            return Wg;
                        }());
                        function Jg(t) { return t.replace(/<span(?: class="Apple-converted-space"|)>(\s+)<\/span>/g, function (t, e) { return 1 === e.length ? " " : Array(e.length + 1).join("  ").substr(0, e.length); }); }
                        function $g(t) { var e = new DOMParser, n = function (t) { return Jg(Jg(t)).replace(/(<span\s+style=['"]mso-spacerun:yes['"]>[\s]*?)[\r\n]+(\s*<\/span>)/g, "$1$2").replace(/<span\s+style=['"]mso-spacerun:yes['"]><\/span>/g, "").replace(/ <\//g, " </").replace(/ <o:p><\/o:p>/g, " <o:p></o:p>").replace(/<o:p>(&nbsp;|\u00A0)<\/o:p>/g, "").replace(/>(\s*[\r\n]\s*)</g, "><"); }(function (t) { var e = t.match(/<\/body>(.*?)(<\/html>|$)/); e && e[1] && (t = t.slice(0, e.index) + t.slice(e.index).replace(e[1], "")); return t; }(t = t.replace(/<!--\[if gte vml 1]>/g, ""))), i = e.parseFromString(n, "text/html"); !function (t) { t.querySelectorAll("span[style*=spacerun]").forEach(function (t) { var e = t.childNodes && t.childNodes[0] && t.childNodes[0].data && t.childNodes[0].data.length || 0; t.innerHTML = Array(e + 1).join("  ").substr(0, e); }); }(i); var o = i.body.innerHTML, r = function (t) { var e = new sr({ blockFillerMode: "nbsp" }), n = t.createDocumentFragment(), i = t.body.childNodes; for (; i.length > 0;)
                            n.appendChild(i[0]); return e.domToView(n); }(i), s = function (t) {
                            var e_667, _j;
                            var e = [], n = [], i = Array.from(t.getElementsByTagName("style"));
                            try {
                                for (var i_181 = __values(i), i_181_1 = i_181.next(); !i_181_1.done; i_181_1 = i_181.next()) {
                                    var t_347 = i_181_1.value;
                                    t_347.sheet && t_347.sheet.cssRules && t_347.sheet.cssRules.length && (e.push(t_347.sheet), n.push(t_347.innerHTML));
                                }
                            }
                            catch (e_667_1) { e_667 = { error: e_667_1 }; }
                            finally {
                                try {
                                    if (i_181_1 && !i_181_1.done && (_j = i_181.return)) _j.call(i_181);
                                }
                                finally { if (e_667) throw e_667.error; }
                            }
                            return { styles: e, stylesString: n.join(" ") };
                        }(i); return { body: r, bodyString: o, styles: s.styles, stylesString: s.stylesString }; }
                        function Gg(t, e) { if (!t.childCount)
                            return; var n = new Bp; !function (t, e, n) {
                            var e_668, _j, e_669, _q;
                            var i = n.createRangeIn(e), o = new bi({ name: "img" }), r = [];
                            try {
                                for (var i_182 = __values(i), i_182_1 = i_182.next(); !i_182_1.done; i_182_1 = i_182.next()) {
                                    var e_670 = i_182_1.value;
                                    if (o.match(e_670.item)) {
                                        var n_274 = e_670.item, i_183 = n_274.getAttribute("v:shapes") ? n_274.getAttribute("v:shapes").split(" ") : [];
                                        i_183.length && i_183.every(function (e) { return t.indexOf(e) > -1; }) ? r.push(n_274) : n_274.getAttribute("src") || r.push(n_274);
                                    }
                                }
                            }
                            catch (e_668_1) { e_668 = { error: e_668_1 }; }
                            finally {
                                try {
                                    if (i_182_1 && !i_182_1.done && (_j = i_182.return)) _j.call(i_182);
                                }
                                finally { if (e_668) throw e_668.error; }
                            }
                            try {
                                for (var r_54 = __values(r), r_54_1 = r_54.next(); !r_54_1.done; r_54_1 = r_54.next()) {
                                    var t_348 = r_54_1.value;
                                    n.remove(t_348);
                                }
                            }
                            catch (e_669_1) { e_669 = { error: e_669_1 }; }
                            finally {
                                try {
                                    if (r_54_1 && !r_54_1.done && (_q = r_54.return)) _q.call(r_54);
                                }
                                finally { if (e_669) throw e_669.error; }
                            }
                        }(function (t, e) {
                            var e_671, _j;
                            var n = e.createRangeIn(t), i = new bi({ name: /v:(.+)/ }), o = [];
                            try {
                                for (var n_275 = __values(n), n_275_1 = n_275.next(); !n_275_1.done; n_275_1 = n_275.next()) {
                                    var t_349 = n_275_1.value;
                                    var e_672 = t_349.item, n_276 = e_672.previousSibling && e_672.previousSibling.name || null;
                                    i.match(e_672) && e_672.getAttribute("o:gfxdata") && "v:shapetype" !== n_276 && o.push(t_349.item.getAttribute("id"));
                                }
                            }
                            catch (e_671_1) { e_671 = { error: e_671_1 }; }
                            finally {
                                try {
                                    if (n_275_1 && !n_275_1.done && (_j = n_275.return)) _j.call(n_275);
                                }
                                finally { if (e_671) throw e_671.error; }
                            }
                            return o;
                        }(t, n), t, n), function (t, e) {
                            var e_673, _j, e_674, _q;
                            var n = e.createRangeIn(t), i = new bi({ name: /v:(.+)/ }), o = [];
                            try {
                                for (var n_277 = __values(n), n_277_1 = n_277.next(); !n_277_1.done; n_277_1 = n_277.next()) {
                                    var t_350 = n_277_1.value;
                                    i.match(t_350.item) && o.push(t_350.item);
                                }
                            }
                            catch (e_673_1) { e_673 = { error: e_673_1 }; }
                            finally {
                                try {
                                    if (n_277_1 && !n_277_1.done && (_j = n_277.return)) _j.call(n_277);
                                }
                                finally { if (e_673) throw e_673.error; }
                            }
                            try {
                                for (var o_107 = __values(o), o_107_1 = o_107.next(); !o_107_1.done; o_107_1 = o_107.next()) {
                                    var t_351 = o_107_1.value;
                                    e.remove(t_351);
                                }
                            }
                            catch (e_674_1) { e_674 = { error: e_674_1 }; }
                            finally {
                                try {
                                    if (o_107_1 && !o_107_1.done && (_q = o_107.return)) _q.call(o_107);
                                }
                                finally { if (e_674) throw e_674.error; }
                            }
                        }(t, n); var i = function (t, e) {
                            var e_675, _j;
                            var n = e.createRangeIn(t), i = new bi({ name: "img" }), o = [];
                            try {
                                for (var n_278 = __values(n), n_278_1 = n_278.next(); !n_278_1.done; n_278_1 = n_278.next()) {
                                    var t_352 = n_278_1.value;
                                    i.match(t_352.item) && t_352.item.getAttribute("src").startsWith("file://") && o.push(t_352.item);
                                }
                            }
                            catch (e_675_1) { e_675 = { error: e_675_1 }; }
                            finally {
                                try {
                                    if (n_278_1 && !n_278_1.done && (_j = n_278.return)) _j.call(n_278);
                                }
                                finally { if (e_675) throw e_675.error; }
                            }
                            return o;
                        }(t, n); i.length && function (t, e, n) { if (t.length === e.length)
                            for (var i_184 = 0; i_184 < t.length; i_184++) {
                                var o_108 = "data:" + e[i_184].type + ";base64," + Kg(e[i_184].hex);
                                n.setAttribute("src", o_108, t[i_184]);
                            } }(i, function (t) {
                            var e_676, _j;
                            if (!t)
                                return [];
                            var e = /{\\pict[\s\S]+?\\bliptag-?\d+(\\blipupi-?\d+)?({\\\*\\blipuid\s?[\da-fA-F]+)?[\s}]*?/, n = new RegExp("(?:(" + e.source + "))([\\da-fA-F\\s]+)\\}", "g"), i = t.match(n), o = [];
                            if (i)
                                try {
                                    for (var i_185 = __values(i), i_185_1 = i_185.next(); !i_185_1.done; i_185_1 = i_185.next()) {
                                        var t_353 = i_185_1.value;
                                        var n_279 = !1;
                                        t_353.includes("\\pngblip") ? n_279 = "image/png" : t_353.includes("\\jpegblip") && (n_279 = "image/jpeg"), n_279 && o.push({ hex: t_353.replace(e, "").replace(/[^\da-fA-F]/g, ""), type: n_279 });
                                    }
                                }
                                catch (e_676_1) { e_676 = { error: e_676_1 }; }
                                finally {
                                    try {
                                        if (i_185_1 && !i_185_1.done && (_j = i_185.return)) _j.call(i_185);
                                    }
                                    finally { if (e_676) throw e_676.error; }
                                }
                            return o;
                        }(e), n); }
                        function Kg(t) { return btoa(t.match(/\w{2}/g).map(function (t) { return String.fromCharCode(parseInt(t, 16)); }).join("")); }
                        var Qg = /<meta\s*name="?generator"?\s*content="?microsoft\s*word\s*\d+"?\/?>/i, Zg = /xmlns:o="urn:schemas-microsoft-com/i;
                        var Xg = /** @class */ (function () {
                            function Xg() {
                            }
                            Xg.prototype.isActive = function (t) { return Qg.test(t) || Zg.test(t); };
                            Xg.prototype.execute = function (t) { var _j = $g(t.dataTransfer.getData("text/html")), e = _j.body, n = _j.stylesString; Hg(e, n), Gg(e, t.dataTransfer.getData("text/rtf")), t.content = e; };
                            return Xg;
                        }());
                        function tx(t, e) { var n = e.parent; for (; n;) {
                            if (n.name === t)
                                return n;
                            n = n.parent;
                        } }
                        function ex(t, e, n, i, o) {
                            if (o === void 0) { o = 1; }
                            e > o ? i.setAttribute(t, e, n) : i.removeAttribute(t, n);
                        }
                        function nx(t, e, n) {
                            if (n === void 0) { n = {}; }
                            var i = t.createElement("tableCell", n);
                            t.insertElement("paragraph", i), t.insert(i, e);
                        }
                        function ix() { return function (t) { t.on("element:table", function (t, e, n) { var i = e.viewItem; if (!n.consumable.test(i, { name: !0 }))
                            return; var _j = function (t) {
                            var e_677, _j, e_678, _q;
                            var e = { headingRows: 0, headingColumns: 0 }, n = [], i = [];
                            var o;
                            try {
                                for (var _z = __values(Array.from(t.getChildren())), _0 = _z.next(); !_0.done; _0 = _z.next()) {
                                    var r_55 = _0.value;
                                    if ("tbody" === r_55.name || "thead" === r_55.name || "tfoot" === r_55.name) {
                                        "thead" !== r_55.name || o || (o = r_55);
                                        var t_355 = Array.from(r_55.getChildren()).filter(function (t) { return t.is("element", "tr"); });
                                        try {
                                            for (var t_354 = __values(t_355), t_354_1 = t_354.next(); !t_354_1.done; t_354_1 = t_354.next()) {
                                                var r_56 = t_354_1.value;
                                                if ("thead" === r_56.parent.name && r_56.parent === o)
                                                    e.headingRows++, n.push(r_56);
                                                else {
                                                    i.push(r_56);
                                                    var t_356 = rx(r_56);
                                                    t_356 > e.headingColumns && (e.headingColumns = t_356);
                                                }
                                            }
                                        }
                                        catch (e_678_1) { e_678 = { error: e_678_1 }; }
                                        finally {
                                            try {
                                                if (t_354_1 && !t_354_1.done && (_q = t_354.return)) _q.call(t_354);
                                            }
                                            finally { if (e_678) throw e_678.error; }
                                        }
                                    }
                                }
                            }
                            catch (e_677_1) { e_677 = { error: e_677_1 }; }
                            finally {
                                try {
                                    if (_0 && !_0.done && (_j = _z.return)) _j.call(_z);
                                }
                                finally { if (e_677) throw e_677.error; }
                            }
                            return e.rows = __spread(n, i), e;
                        }(i), o = _j.rows, r = _j.headingRows, s = _j.headingColumns, a = {}; s && (a.headingColumns = s), r && (a.headingRows = r); var c = n.writer.createElement("table", a), l = n.splitToAllowedParent(c, e.modelCursor); if (l) {
                            if (n.writer.insert(c, l.position), n.consumable.consume(i, { name: !0 }), o.length)
                                o.forEach(function (t) { return n.convertItem(t, n.writer.createPositionAt(c, "end")); });
                            else {
                                var t_357 = n.writer.createElement("tableRow");
                                n.writer.insert(t_357, n.writer.createPositionAt(c, "end")), nx(n.writer, n.writer.createPositionAt(t_357, "end"));
                            }
                            e.modelRange = n.writer.createRange(n.writer.createPositionBefore(c), n.writer.createPositionAfter(c)), l.cursorParent ? e.modelCursor = n.writer.createPositionAt(l.cursorParent, 0) : e.modelCursor = e.modelRange.end;
                        } }); }; }
                        function ox(t) { return function (e) { e.on("element:" + t, function (t, e, n) { var i = e.viewItem; if (!n.consumable.test(i, { name: !0 }))
                            return; var o = n.writer.createElement("tableCell"), r = n.splitToAllowedParent(o, e.modelCursor); if (!r)
                            return; n.writer.insert(o, r.position), n.consumable.consume(i, { name: !0 }); var s = n.writer.createPositionAt(o, 0); n.convertChildren(i, s), o.childCount || n.writer.insertElement("paragraph", s), e.modelRange = n.writer.createRange(n.writer.createPositionBefore(o), n.writer.createPositionAfter(o)), e.modelCursor = e.modelRange.end; }); }; }
                        function rx(t) { var e = 0, n = 0; var i = Array.from(t.getChildren()).filter(function (t) { return "th" === t.name || "td" === t.name; }); for (; n < i.length && "th" === i[n].name;) {
                            var t_358 = i[n];
                            e += parseInt(t_358.getAttribute("colspan") || 1), n++;
                        } return e; }
                        var sx = /** @class */ (function () {
                            function sx(t, e) {
                                if (e === void 0) { e = {}; }
                                this.table = t, this.startRow = e.startRow || 0, this.endRow = "number" == typeof e.endRow ? e.endRow : void 0, this.includeSpanned = !!e.includeSpanned, this.column = "number" == typeof e.column ? e.column : void 0, this._skipRows = new Set, this._row = 0, this._column = 0, this._cellIndex = 0, this._spannedCells = new Map, this._nextCellAtColumn = -1;
                            }
                            sx.prototype[Symbol.iterator] = function () { return this; };
                            sx.prototype.next = function () { var t = this.table.getChild(this._row); if (!t || this._isOverEndRow())
                                return { done: !0 }; var e, n, i; if (this._isSpanned(this._row, this._column))
                                e = this._getSpanned(this._row, this._column), n = !this.includeSpanned || this._shouldSkipRow() || this._shouldSkipColumn(), i = this._formatOutValue(e, this._column, !0);
                            else {
                                if (!(e = t.getChild(this._cellIndex)))
                                    return this._row++, this._column = 0, this._cellIndex = 0, this._nextCellAtColumn = -1, this.next();
                                var o_109 = parseInt(e.getAttribute("colspan") || 1), r_57 = parseInt(e.getAttribute("rowspan") || 1);
                                (o_109 > 1 || r_57 > 1) && this._recordSpans(this._row, this._column, r_57, o_109, e), this._nextCellAtColumn = this._column + o_109, n = this._shouldSkipRow() || this._shouldSkipColumn(), i = this._formatOutValue(e, this._column, !1, r_57, o_109);
                            } return this._column++, this._column == this._nextCellAtColumn && this._cellIndex++, n ? this.next() : i; };
                            sx.prototype.skipRow = function (t) { this._skipRows.add(t); };
                            sx.prototype._isOverEndRow = function () { return void 0 !== this.endRow && this._row > this.endRow; };
                            sx.prototype._formatOutValue = function (t, e, n, i, o) {
                                if (i === void 0) { i = 1; }
                                if (o === void 0) { o = 1; }
                                return { done: !1, value: { cell: t, row: this._row, column: e, isSpanned: n, rowspan: i, colspan: o, cellIndex: this._cellIndex } };
                            };
                            sx.prototype._shouldSkipRow = function () { var t = this._row < this.startRow, e = this._skipRows.has(this._row); return t || e; };
                            sx.prototype._shouldSkipColumn = function () { return void 0 !== this.column && this.column != this._column; };
                            sx.prototype._isSpanned = function (t, e) { if (!this._spannedCells.has(t))
                                return !1; return this._spannedCells.get(t).has(e); };
                            sx.prototype._getSpanned = function (t, e) { return this._spannedCells.get(t).get(e); };
                            sx.prototype._recordSpans = function (t, e, n, i, o) { for (var n_280 = e + 1; n_280 <= e + i - 1; n_280++)
                                this._markSpannedCell(t, n_280, o); for (var r_58 = t + 1; r_58 < t + n; r_58++)
                                for (var t_359 = e; t_359 <= e + i - 1; t_359++)
                                    this._markSpannedCell(r_58, t_359, o); };
                            sx.prototype._markSpannedCell = function (t, e, n) { this._spannedCells.has(t) || this._spannedCells.set(t, new Map), this._spannedCells.get(t).set(e, n); };
                            return sx;
                        }());
                        function ax(t) { return !!t.getCustomProperty("table") && Th(t); }
                        function cx(t) { var e = t.getSelectedElement(); return e && ax(e) ? e : null; }
                        function lx(t) { var e = tx("table", t.getFirstPosition()); return e && ax(e.parent) ? e.parent : null; }
                        function dx(t) {
                            if (t === void 0) { t = {}; }
                            return function (e) { return e.on("insert:table", function (e, n, i) {
                                var e_679, _j;
                                var o = n.item;
                                if (!i.consumable.consume(o, "insert"))
                                    return;
                                i.consumable.consume(o, "attribute:headingRows:table"), i.consumable.consume(o, "attribute:headingColumns:table");
                                var r = t && t.asWidget, s = i.writer.createContainerElement("figure", { class: "table" }), a = i.writer.createContainerElement("table");
                                var c;
                                i.writer.insert(i.writer.createPositionAt(s, 0), a), r && (c = function (t, e) { return e.setCustomProperty("table", !0, t), Ah(t, e, { hasSelectionHandle: !0 }); }(s, i.writer));
                                var l = new sx(o), d = { headingRows: o.getAttribute("headingRows") || 0, headingColumns: o.getAttribute("headingColumns") || 0 }, u = new Map;
                                try {
                                    for (var l_4 = __values(l), l_4_1 = l_4.next(); !l_4_1.done; l_4_1 = l_4.next()) {
                                        var e_680 = l_4_1.value;
                                        var n_281 = e_680.row, r_59 = e_680.cell, s_38 = vx(wx(n_281, d), a, i), c_13 = o.getChild(n_281), l_5 = u.get(n_281) || bx(c_13, n_281, s_38, i);
                                        u.set(n_281, l_5), i.consumable.consume(r_59, "insert"), xx(e_680, d, i.writer.createPositionAt(l_5, "end"), i, t);
                                    }
                                }
                                catch (e_679_1) { e_679 = { error: e_679_1 }; }
                                finally {
                                    try {
                                        if (l_4_1 && !l_4_1.done && (_j = l_4.return)) _j.call(l_4);
                                    }
                                    finally { if (e_679) throw e_679.error; }
                                }
                                var h = i.mapper.toViewPosition(n.range.start);
                                i.mapper.bindElements(o, r ? c : s), i.writer.insert(h, r ? c : s);
                            }); };
                        }
                        function ux(t) {
                            if (t === void 0) { t = {}; }
                            return function (e) { return e.on("insert:tableRow", function (e, n, i) {
                                var e_681, _j;
                                var o = n.item;
                                if (!i.consumable.consume(o, "insert"))
                                    return;
                                var r = o.parent, s = Tx(i.mapper.toViewElement(r)), a = r.getChildIndex(o), c = new sx(r, { startRow: a, endRow: a }), l = { headingRows: r.getAttribute("headingRows") || 0, headingColumns: r.getAttribute("headingColumns") || 0 }, d = new Map;
                                try {
                                    for (var c_14 = __values(c), c_14_1 = c_14.next(); !c_14_1.done; c_14_1 = c_14.next()) {
                                        var e_682 = c_14_1.value;
                                        var n_282 = vx(wx(a, l), s, i), r_60 = d.get(a) || bx(o, a, n_282, i);
                                        d.set(a, r_60), i.consumable.consume(e_682.cell, "insert"), xx(e_682, l, i.writer.createPositionAt(r_60, "end"), i, t);
                                    }
                                }
                                catch (e_681_1) { e_681 = { error: e_681_1 }; }
                                finally {
                                    try {
                                        if (c_14_1 && !c_14_1.done && (_j = c_14.return)) _j.call(c_14);
                                    }
                                    finally { if (e_681) throw e_681.error; }
                                }
                            }); };
                        }
                        function hx(t) {
                            if (t === void 0) { t = {}; }
                            return function (e) { return e.on("insert:tableCell", function (e, n, i) {
                                var e_683, _j;
                                var o = n.item;
                                if (!i.consumable.consume(o, "insert"))
                                    return;
                                var r = o.parent, s = r.parent, a = s.getChildIndex(r), c = new sx(s, { startRow: a, endRow: a }), l = { headingRows: s.getAttribute("headingRows") || 0, headingColumns: s.getAttribute("headingColumns") || 0 };
                                try {
                                    for (var c_15 = __values(c), c_15_1 = c_15.next(); !c_15_1.done; c_15_1 = c_15.next()) {
                                        var e_684 = c_15_1.value;
                                        if (e_684.cell === o) {
                                            var n_283 = i.mapper.toViewElement(r);
                                            return void xx(e_684, l, i.writer.createPositionAt(n_283, r.getChildIndex(o)), i, t);
                                        }
                                    }
                                }
                                catch (e_683_1) { e_683 = { error: e_683_1 }; }
                                finally {
                                    try {
                                        if (c_15_1 && !c_15_1.done && (_j = c_15.return)) _j.call(c_15);
                                    }
                                    finally { if (e_683) throw e_683.error; }
                                }
                            }); };
                        }
                        function fx(t) {
                            if (t === void 0) { t = {}; }
                            var e = !!t.asWidget;
                            return function (t) { return t.on("attribute:headingRows:table", function (t, n, i) {
                                var e_685, _j, e_686, _q, e_687, _z;
                                var o = n.item;
                                if (!i.consumable.consume(n.item, t.name))
                                    return;
                                var r = Tx(i.mapper.toViewElement(o)), s = n.attributeOldValue, a = n.attributeNewValue;
                                if (a > s) {
                                    var t_362 = Array.from(o.getChildren()).filter(function (_j) {
                                        var t = _j.index;
                                        return c(t, s - 1, a);
                                    });
                                    Cx(t_362, vx("thead", r, i), i, "end");
                                    try {
                                        for (var t_360 = __values(t_362), t_360_1 = t_360.next(); !t_360_1.done; t_360_1 = t_360.next()) {
                                            var n_284 = t_360_1.value;
                                            try {
                                                for (var _0 = __values(n_284.getChildren()), _1 = _0.next(); !_1.done; _1 = _0.next()) {
                                                    var t_363 = _1.value;
                                                    mx(t_363, "th", i, e);
                                                }
                                            }
                                            catch (e_686_1) { e_686 = { error: e_686_1 }; }
                                            finally {
                                                try {
                                                    if (_1 && !_1.done && (_q = _0.return)) _q.call(_0);
                                                }
                                                finally { if (e_686) throw e_686.error; }
                                            }
                                        }
                                    }
                                    catch (e_685_1) { e_685 = { error: e_685_1 }; }
                                    finally {
                                        try {
                                            if (t_360_1 && !t_360_1.done && (_j = t_360.return)) _j.call(t_360);
                                        }
                                        finally { if (e_685) throw e_685.error; }
                                    }
                                    _x("tbody", r, i);
                                }
                                else {
                                    Cx(Array.from(o.getChildren()).filter(function (_j) {
                                        var t = _j.index;
                                        return c(t, a - 1, s);
                                    }).reverse(), vx("tbody", r, i), i, 0);
                                    var t_364 = new sx(o, { startRow: a ? a - 1 : a, endRow: s - 1 }), n_285 = { headingRows: o.getAttribute("headingRows") || 0, headingColumns: o.getAttribute("headingColumns") || 0 };
                                    try {
                                        for (var t_361 = __values(t_364), t_361_1 = t_361.next(); !t_361_1.done; t_361_1 = t_361.next()) {
                                            var o_110 = t_361_1.value;
                                            gx(o_110, n_285, i, e);
                                        }
                                    }
                                    catch (e_687_1) { e_687 = { error: e_687_1 }; }
                                    finally {
                                        try {
                                            if (t_361_1 && !t_361_1.done && (_z = t_361.return)) _z.call(t_361);
                                        }
                                        finally { if (e_687) throw e_687.error; }
                                    }
                                    _x("thead", r, i);
                                }
                                function c(t, e, n) { return t > e && t < n; }
                            }); };
                        }
                        function px(t) {
                            if (t === void 0) { t = {}; }
                            var e = !!t.asWidget;
                            return function (t) { return t.on("attribute:headingColumns:table", function (t, n, i) {
                                var e_688, _j;
                                var o = n.item;
                                if (!i.consumable.consume(n.item, t.name))
                                    return;
                                var r = { headingRows: o.getAttribute("headingRows") || 0, headingColumns: o.getAttribute("headingColumns") || 0 }, s = n.attributeOldValue, a = n.attributeNewValue, c = (s > a ? s : a) - 1;
                                try {
                                    for (var _q = __values(new sx(o)), _z = _q.next(); !_z.done; _z = _q.next()) {
                                        var t_365 = _z.value;
                                        t_365.column > c || gx(t_365, r, i, e);
                                    }
                                }
                                catch (e_688_1) { e_688 = { error: e_688_1 }; }
                                finally {
                                    try {
                                        if (_z && !_z.done && (_j = _q.return)) _j.call(_q);
                                    }
                                    finally { if (e_688) throw e_688.error; }
                                }
                            }); };
                        }
                        function mx(t, e, n, i) { var o = n.writer, r = n.mapper.toViewElement(t); if (!r)
                            return; var s; if (i) {
                            s = Eh(o.createEditableElement(e, r.getAttributes()), o), o.insert(o.createPositionAfter(r), s), o.move(o.createRangeIn(r), o.createPositionAt(s, 0)), o.remove(o.createRangeOn(r));
                        }
                        else
                            s = o.rename(e, r); n.mapper.unbindViewElement(r), n.mapper.bindElements(t, s); }
                        function gx(t, e, n, i) { var o = t.cell, r = kx(t, e), s = n.mapper.toViewElement(o); s && s.name !== r && mx(o, r, n, i); }
                        function xx(t, e, n, i, o) { var r = o && o.asWidget, s = kx(t, e), a = r ? Eh(i.writer.createEditableElement(s), i.writer) : i.writer.createContainerElement(s), c = t.cell, l = c.getChild(0), d = 1 === c.childCount && "paragraph" === l.name; if (i.writer.insert(n, a), d && !function (t) { return !!__spread(t.getAttributeKeys()).length; }(l)) {
                            var t_366 = c.getChild(0), e_689 = i.writer.createPositionAt(a, "end");
                            if (i.consumable.consume(t_366, "insert"), o.asWidget) {
                                var n_286 = i.writer.createContainerElement("span");
                                i.mapper.bindElements(t_366, n_286), i.writer.insert(e_689, n_286), i.mapper.bindElements(c, a);
                            }
                            else
                                i.mapper.bindElements(c, a), i.mapper.bindElements(t_366, a);
                        }
                        else
                            i.mapper.bindElements(c, a); }
                        function bx(t, e, n, i) { i.consumable.consume(t, "insert"); var o = i.writer.createContainerElement("tr"); i.mapper.bindElements(t, o); var r = t.parent.getAttribute("headingRows") || 0, s = r > 0 && e >= r ? e - r : e, a = i.writer.createPositionAt(n, s); return i.writer.insert(a, o), o; }
                        function kx(t, e) { var n = t.row, i = t.column, o = e.headingColumns, r = e.headingRows; return r && r > n ? "th" : o && o > i ? "th" : "td"; }
                        function wx(t, e) { return t < e.headingRows ? "thead" : "tbody"; }
                        function vx(t, e, n) { var i = yx(t, e); return i || function (t, e, n) { var i = n.writer.createContainerElement(t), o = n.writer.createPositionAt(e, "tbody" == t ? "end" : 0); return n.writer.insert(o, i), i; }(t, e, n); }
                        function yx(t, e) {
                            var e_690, _j;
                            try {
                                for (var _q = __values(e.getChildren()), _z = _q.next(); !_z.done; _z = _q.next()) {
                                    var n_287 = _z.value;
                                    if (n_287.name == t)
                                        return n_287;
                                }
                            }
                            catch (e_690_1) { e_690 = { error: e_690_1 }; }
                            finally {
                                try {
                                    if (_z && !_z.done && (_j = _q.return)) _j.call(_q);
                                }
                                finally { if (e_690) throw e_690.error; }
                            }
                        }
                        function _x(t, e, n) { var i = yx(t, e); i && 0 === i.childCount && n.writer.remove(n.writer.createRangeOn(i)); }
                        function Cx(t, e, n, i) {
                            var e_691, _j;
                            try {
                                for (var t_367 = __values(t), t_367_1 = t_367.next(); !t_367_1.done; t_367_1 = t_367.next()) {
                                    var o_111 = t_367_1.value;
                                    var t_368 = n.mapper.toViewElement(o_111);
                                    t_368 && n.writer.move(n.writer.createRangeOn(t_368), n.writer.createPositionAt(e, i));
                                }
                            }
                            catch (e_691_1) { e_691 = { error: e_691_1 }; }
                            finally {
                                try {
                                    if (t_367_1 && !t_367_1.done && (_j = t_367.return)) _j.call(t_367);
                                }
                                finally { if (e_691) throw e_691.error; }
                            }
                        }
                        function Tx(t) {
                            var e_692, _j;
                            try {
                                for (var _q = __values(t.getChildren()), _z = _q.next(); !_z.done; _z = _q.next()) {
                                    var e_693 = _z.value;
                                    if ("table" === e_693.name)
                                        return e_693;
                                }
                            }
                            catch (e_692_1) { e_692 = { error: e_692_1 }; }
                            finally {
                                try {
                                    if (_z && !_z.done && (_j = _q.return)) _j.call(_q);
                                }
                                finally { if (e_692) throw e_692.error; }
                            }
                        }
                        var Ax = /** @class */ (function (_super) {
                            __extends(Ax, _super);
                            function Ax() {
                                return _super !== null && _super.apply(this, arguments) || this;
                            }
                            Ax.prototype.refresh = function () { var t = this.editor.model, e = t.document.selection, n = t.schema, i = function (t) { var e = t.parent; return e === e.root ? e : e.parent; }(e.getFirstPosition()); this.isEnabled = n.checkChild(i, "table"); };
                            Ax.prototype.execute = function (t) {
                                if (t === void 0) { t = {}; }
                                var e = this.editor.model, n = e.document.selection, i = this.editor.plugins.get("TableUtils"), o = parseInt(t.rows) || 2, r = parseInt(t.columns) || 2, s = Ph(n, e);
                                e.change(function (t) { var n = i.createTable(t, o, r); e.insertContent(n, s), t.setSelection(t.createPositionAt(n.getNodeByPath([0, 0, 0]), 0)); });
                            };
                            return Ax;
                        }(Md));
                        var Sx = /** @class */ (function (_super) {
                            __extends(Sx, _super);
                            function Sx(t, e) {
                                if (e === void 0) { e = {}; }
                                var _this = this;
                                _this = _super.call(this, t) || this, _this.order = e.order || "below";
                                return _this;
                            }
                            Sx.prototype.refresh = function () { var t = tx("table", this.editor.model.document.selection.getFirstPosition()); this.isEnabled = !!t; };
                            Sx.prototype.execute = function () { var t = this.editor, e = t.model.document.selection, n = t.plugins.get("TableUtils"), i = tx("tableCell", e.getFirstPosition()).parent, o = i.parent, r = o.getChildIndex(i), s = "below" === this.order ? r + 1 : r; n.insertRows(o, { rows: 1, at: s }); };
                            return Sx;
                        }(Md));
                        var Ex = /** @class */ (function (_super) {
                            __extends(Ex, _super);
                            function Ex(t, e) {
                                if (e === void 0) { e = {}; }
                                var _this = this;
                                _this = _super.call(this, t) || this, _this.order = e.order || "right";
                                return _this;
                            }
                            Ex.prototype.refresh = function () { var t = tx("table", this.editor.model.document.selection.getFirstPosition()); this.isEnabled = !!t; };
                            Ex.prototype.execute = function () { var t = this.editor, e = t.model.document.selection, n = t.plugins.get("TableUtils"), i = tx("tableCell", e.getFirstPosition()), o = i.parent.parent, r = n.getCellLocation(i).column, s = "right" === this.order ? r + 1 : r; n.insertColumns(o, { columns: 1, at: s }); };
                            return Ex;
                        }(Md));
                        var Px = /** @class */ (function (_super) {
                            __extends(Px, _super);
                            function Px(t, e) {
                                if (e === void 0) { e = {}; }
                                var _this = this;
                                _this = _super.call(this, t) || this, _this.direction = e.direction || "horizontally";
                                return _this;
                            }
                            Px.prototype.refresh = function () { var t = tx("tableCell", this.editor.model.document.selection.getFirstPosition()); this.isEnabled = !!t; };
                            Px.prototype.execute = function () { var t = tx("tableCell", this.editor.model.document.selection.getFirstPosition()), e = "horizontally" === this.direction, n = this.editor.plugins.get("TableUtils"); e ? n.splitCellHorizontally(t, 2) : n.splitCellVertically(t, 2); };
                            return Px;
                        }(Md));
                        var Ix = /** @class */ (function (_super) {
                            __extends(Ix, _super);
                            function Ix(t, e) {
                                var _this = this;
                                _this = _super.call(this, t) || this, _this.direction = e.direction, _this.isHorizontal = "right" == _this.direction || "left" == _this.direction;
                                return _this;
                            }
                            Ix.prototype.refresh = function () { var t = this._getMergeableCell(); this.value = t, this.isEnabled = !!t; };
                            Ix.prototype.execute = function () {
                                var _this = this;
                                var t = this.editor.model, e = tx("tableCell", t.document.selection.getFirstPosition()), n = this.value, i = this.direction;
                                t.change(function (t) { var o = "right" == i || "down" == i, r = o ? e : n, s = o ? n : e, a = s.parent; !function (t, e, n) { Nx(t) || (Nx(e) && n.remove(n.createRangeIn(e)), n.move(n.createRangeIn(t), n.createPositionAt(e, "end"))); n.remove(t); }(s, r, t); var c = _this.isHorizontal ? "colspan" : "rowspan", l = parseInt(e.getAttribute(c) || 1), d = parseInt(n.getAttribute(c) || 1); t.setAttribute(c, l + d, r), t.setSelection(t.createRangeIn(r)), a.childCount || function (t, e) {
                                    var e_694, _j;
                                    var n = t.parent, i = n.getChildIndex(t);
                                    try {
                                        for (var _q = __values(new sx(n, { endRow: i })), _z = _q.next(); !_z.done; _z = _q.next()) {
                                            var _0 = _z.value, t_369 = _0.cell, o_112 = _0.row, r_61 = _0.rowspan;
                                            var n_288 = o_112 + r_61 - 1 >= i;
                                            n_288 && ex("rowspan", r_61 - 1, t_369, e);
                                        }
                                    }
                                    catch (e_694_1) { e_694 = { error: e_694_1 }; }
                                    finally {
                                        try {
                                            if (_z && !_z.done && (_j = _q.return)) _j.call(_q);
                                        }
                                        finally { if (e_694) throw e_694.error; }
                                    }
                                    e.remove(t);
                                }(a, t); });
                            };
                            Ix.prototype._getMergeableCell = function () { var t = tx("tableCell", this.editor.model.document.selection.getFirstPosition()); if (!t)
                                return; var e = this.editor.plugins.get("TableUtils"), n = this.isHorizontal ? function (t, e, n) { var i = t.parent.parent, o = "right" == e ? t.nextSibling : t.previousSibling, r = i.getAttribute("headingColumns") || 0; if (!o)
                                return; var s = "right" == e ? t : o, a = "right" == e ? o : t, c = n.getCellLocation(s).column, l = n.getCellLocation(a).column, d = parseInt(s.getAttribute("colspan") || 1), u = parseInt(a.getAttribute("colspan") || 1); if (r && ("right" == e && l + u > r || "left" == e && c + d > r - 1))
                                return; return c + d === l ? o : void 0; }(t, this.direction, e) : function (t, e) { var n = t.parent, i = n.parent, o = i.getChildIndex(n); if ("down" == e && o === i.childCount - 1 || "up" == e && 0 === o)
                                return; var r = parseInt(t.getAttribute("rowspan") || 1), s = i.getAttribute("headingRows") || 0; if (s && ("down" == e && o + r === s || "up" == e && o === s))
                                return; var a = parseInt(t.getAttribute("rowspan") || 1), c = "down" == e ? o + a : o, l = __spread(new sx(i, { endRow: c })), d = l.find(function (e) { return e.cell === t; }).column, u = l.find(function (_j) {
                                var t = _j.row, n = _j.rowspan, i = _j.column;
                                return i === d && ("down" == e ? t === c : c === t + n);
                            }); return u && u.cell; }(t, this.direction); if (!n)
                                return; var i = this.isHorizontal ? "rowspan" : "colspan", o = parseInt(t.getAttribute(i) || 1); return parseInt(n.getAttribute(i) || 1) === o ? n : void 0; };
                            return Ix;
                        }(Md));
                        function Nx(t) { return 1 == t.childCount && t.getChild(0).is("paragraph") && t.getChild(0).isEmpty; }
                        var Mx = /** @class */ (function (_super) {
                            __extends(Mx, _super);
                            function Mx() {
                                return _super !== null && _super.apply(this, arguments) || this;
                            }
                            Mx.prototype.refresh = function () { var t = tx("tableCell", this.editor.model.document.selection.getFirstPosition()); this.isEnabled = !!t && t.parent.parent.childCount > 1; };
                            Mx.prototype.execute = function () { var t = this.editor.model, e = tx("tableCell", t.document.selection.getFirstPosition()).parent, n = e.parent, i = n.getChildIndex(e), o = n.getAttribute("headingRows") || 0; t.change(function (t) {
                                var e_695, _j;
                                o && i <= o && ex("headingRows", o - 1, n, t, 0);
                                var r = __spread(new sx(n, { endRow: i })), s = new Map;
                                r.filter(function (_j) {
                                    var t = _j.row, e = _j.rowspan;
                                    return t === i && e > 1;
                                }).forEach(function (_j) {
                                    var t = _j.column, e = _j.cell, n = _j.rowspan;
                                    return s.set(t, { cell: e, rowspanToSet: n - 1 });
                                }), r.filter(function (_j) {
                                    var t = _j.row, e = _j.rowspan;
                                    return t <= i - 1 && t + e > i;
                                }).forEach(function (_j) {
                                    var e = _j.cell, n = _j.rowspan;
                                    return ex("rowspan", n - 1, e, t);
                                });
                                var a = i + 1, c = new sx(n, { includeSpanned: !0, startRow: a, endRow: a });
                                var l;
                                try {
                                    for (var _q = __values(__spread(c)), _z = _q.next(); !_z.done; _z = _q.next()) {
                                        var _0 = _z.value, e_696 = _0.row, i_186 = _0.column, o_113 = _0.cell;
                                        if (s.has(i_186)) {
                                            var _1 = s.get(i_186), o_114 = _1.cell, r_62 = _1.rowspanToSet, a_18 = l ? t.createPositionAfter(l) : t.createPositionAt(n.getChild(e_696), 0);
                                            t.move(t.createRangeOn(o_114), a_18), ex("rowspan", r_62, o_114, t), l = o_114;
                                        }
                                        else
                                            l = o_113;
                                    }
                                }
                                catch (e_695_1) { e_695 = { error: e_695_1 }; }
                                finally {
                                    try {
                                        if (_z && !_z.done && (_j = _q.return)) _j.call(_q);
                                    }
                                    finally { if (e_695) throw e_695.error; }
                                }
                                t.remove(e);
                            }); };
                            return Mx;
                        }(Md));
                        var Ox = /** @class */ (function (_super) {
                            __extends(Ox, _super);
                            function Ox() {
                                return _super !== null && _super.apply(this, arguments) || this;
                            }
                            Ox.prototype.refresh = function () { var t = this.editor, e = t.model.document.selection, n = t.plugins.get("TableUtils"), i = tx("tableCell", e.getFirstPosition()); this.isEnabled = !!i && n.getColumns(i.parent.parent) > 1; };
                            Ox.prototype.execute = function () { var t = this.editor.model, e = tx("tableCell", t.document.selection.getFirstPosition()), n = e.parent, i = n.parent, o = i.getAttribute("headingColumns") || 0, r = i.getChildIndex(n), s = __spread(new sx(i)), a = s.find(function (t) { return t.cell === e; }).column; t.change(function (t) {
                                var e_697, _j;
                                o && r <= o && t.setAttribute("headingColumns", o - 1, i);
                                try {
                                    for (var s_39 = __values(s), s_39_1 = s_39.next(); !s_39_1.done; s_39_1 = s_39.next()) {
                                        var _q = s_39_1.value, e_698 = _q.cell, n_289 = _q.column, i_187 = _q.colspan;
                                        n_289 <= a && i_187 > 1 && n_289 + i_187 > a ? ex("colspan", i_187 - 1, e_698, t) : n_289 === a && t.remove(e_698);
                                    }
                                }
                                catch (e_697_1) { e_697 = { error: e_697_1 }; }
                                finally {
                                    try {
                                        if (s_39_1 && !s_39_1.done && (_j = s_39.return)) _j.call(s_39);
                                    }
                                    finally { if (e_697) throw e_697.error; }
                                }
                            }); };
                            return Ox;
                        }(Md));
                        var Rx = /** @class */ (function (_super) {
                            __extends(Rx, _super);
                            function Rx() {
                                return _super !== null && _super.apply(this, arguments) || this;
                            }
                            Rx.prototype.refresh = function () { var t = tx("tableCell", this.editor.model.document.selection.getFirstPosition()), e = !!t; this.isEnabled = e, this.value = e && this._isInHeading(t, t.parent.parent); };
                            Rx.prototype.execute = function (t) {
                                if (t === void 0) { t = {}; }
                                var e = this.editor.model, n = tx("tableCell", e.document.selection.getFirstPosition()).parent, i = n.parent, o = i.getAttribute("headingRows") || 0, r = n.index;
                                if (t.forceValue === this.value)
                                    return;
                                var s = this.value ? r : r + 1;
                                e.change(function (t) {
                                    var e_699, _j;
                                    if (s) {
                                        var e_701 = function (t, e, n) {
                                            var e_702, _j;
                                            var i = [], o = new sx(t, { startRow: e > n ? n : 0, endRow: e - 1 });
                                            try {
                                                for (var o_115 = __values(o), o_115_1 = o_115.next(); !o_115_1.done; o_115_1 = o_115.next()) {
                                                    var _q = o_115_1.value, t_370 = _q.row, n_290 = _q.rowspan, r_63 = _q.cell;
                                                    n_290 > 1 && t_370 + n_290 > e && i.push(r_63);
                                                }
                                            }
                                            catch (e_702_1) { e_702 = { error: e_702_1 }; }
                                            finally {
                                                try {
                                                    if (o_115_1 && !o_115_1.done && (_j = o_115.return)) _j.call(o_115);
                                                }
                                                finally { if (e_702) throw e_702.error; }
                                            }
                                            return i;
                                        }(i, s, o);
                                        try {
                                            for (var e_700 = __values(e_701), e_700_1 = e_700.next(); !e_700_1.done; e_700_1 = e_700.next()) {
                                                var n_291 = e_700_1.value;
                                                Dx(n_291, s, t);
                                            }
                                        }
                                        catch (e_699_1) { e_699 = { error: e_699_1 }; }
                                        finally {
                                            try {
                                                if (e_700_1 && !e_700_1.done && (_j = e_700.return)) _j.call(e_700);
                                            }
                                            finally { if (e_699) throw e_699.error; }
                                        }
                                    }
                                    ex("headingRows", s, i, t, 0);
                                });
                            };
                            Rx.prototype._isInHeading = function (t, e) { var n = parseInt(e.getAttribute("headingRows") || 0); return !!n && t.parent.index < n; };
                            return Rx;
                        }(Md));
                        function Dx(t, e, n) {
                            var e_703, _j;
                            var i = t.parent, o = i.parent, r = e - i.index, s = {}, a = parseInt(t.getAttribute("rowspan")) - r;
                            a > 1 && (s.rowspan = a);
                            var c = parseInt(t.getAttribute("colspan") || 1);
                            c > 1 && (s.colspan = c);
                            var l = o.getChildIndex(i), d = l + r, u = __spread(new sx(o, { startRow: l, endRow: d, includeSpanned: !0 }));
                            var h;
                            try {
                                for (var u_2 = __values(u), u_2_1 = u_2.next(); !u_2_1.done; u_2_1 = u_2.next()) {
                                    var _q = u_2_1.value, e_704 = _q.row, i_188 = _q.column, r_64 = _q.cell, a_19 = _q.cellIndex;
                                    if (r_64 === t && void 0 === h && (h = i_188), void 0 !== h && h === i_188 && e_704 === d) {
                                        var t_371 = o.getChild(e_704);
                                        nx(n, n.createPositionAt(t_371, a_19), s);
                                    }
                                }
                            }
                            catch (e_703_1) { e_703 = { error: e_703_1 }; }
                            finally {
                                try {
                                    if (u_2_1 && !u_2_1.done && (_j = u_2.return)) _j.call(u_2);
                                }
                                finally { if (e_703) throw e_703.error; }
                            }
                            ex("rowspan", r, t, n);
                        }
                        var jx = /** @class */ (function (_super) {
                            __extends(jx, _super);
                            function jx() {
                                return _super !== null && _super.apply(this, arguments) || this;
                            }
                            jx.prototype.refresh = function () { var t = tx("tableCell", this.editor.model.document.selection.getFirstPosition()), e = !!t; this.isEnabled = e, this.value = e && this._isInHeading(t, t.parent.parent); };
                            jx.prototype.execute = function (t) {
                                if (t === void 0) { t = {}; }
                                var e = this.editor.model, n = e.document.selection, i = this.editor.plugins.get("TableUtils"), o = tx("tableCell", n.getFirstPosition()), r = o.parent.parent, s = i.getCellLocation(o).column;
                                if (t.forceValue === this.value)
                                    return;
                                var a = this.value ? s : s + 1;
                                e.change(function (t) { ex("headingColumns", a, r, t, 0); });
                            };
                            jx.prototype._isInHeading = function (t, e) { var n = parseInt(e.getAttribute("headingColumns") || 0), i = this.editor.plugins.get("TableUtils"), o = i.getCellLocation(t).column; return !!n && o < n; };
                            return jx;
                        }(Md));
                        var Bx = /** @class */ (function (_super) {
                            __extends(Bx, _super);
                            function Bx() {
                                return _super !== null && _super.apply(this, arguments) || this;
                            }
                            Object.defineProperty(Bx, "pluginName", {
                                get: function () { return "TableUtils"; },
                                enumerable: true,
                                configurable: true
                            });
                            Bx.prototype.getCellLocation = function (t) {
                                var e_705, _j;
                                var e = t.parent, n = e.parent, i = n.getChildIndex(e), o = new sx(n, { startRow: i, endRow: i });
                                try {
                                    for (var o_116 = __values(o), o_116_1 = o_116.next(); !o_116_1.done; o_116_1 = o_116.next()) {
                                        var _q = o_116_1.value, e_706 = _q.cell, n_292 = _q.row, i_189 = _q.column;
                                        if (e_706 === t)
                                            return { row: n_292, column: i_189 };
                                    }
                                }
                                catch (e_705_1) { e_705 = { error: e_705_1 }; }
                                finally {
                                    try {
                                        if (o_116_1 && !o_116_1.done && (_j = o_116.return)) _j.call(o_116);
                                    }
                                    finally { if (e_705) throw e_705.error; }
                                }
                            };
                            Bx.prototype.createTable = function (t, e, n) { var i = t.createElement("table"); return Lx(t, i, 0, e, n), i; };
                            Bx.prototype.insertRows = function (t, e) {
                                var _this = this;
                                if (e === void 0) { e = {}; }
                                var n = this.editor.model, i = e.at || 0, o = e.rows || 1;
                                n.change(function (e) {
                                    var e_707, _j;
                                    var n = t.getAttribute("headingRows") || 0;
                                    if (n > i && e.setAttribute("headingRows", n + o, t), 0 === i || i === t.childCount)
                                        return void Lx(e, t, i, o, _this.getColumns(t));
                                    var r = new sx(t, { endRow: i });
                                    var s = 0;
                                    try {
                                        for (var r_65 = __values(r), r_65_1 = r_65.next(); !r_65_1.done; r_65_1 = r_65.next()) {
                                            var _q = r_65_1.value, t_372 = _q.row, n_293 = _q.rowspan, a_20 = _q.colspan, c_16 = _q.cell;
                                            t_372 < i && t_372 + n_293 > i && e.setAttribute("rowspan", n_293 + o, c_16), t_372 === i && (s += a_20);
                                        }
                                    }
                                    catch (e_707_1) { e_707 = { error: e_707_1 }; }
                                    finally {
                                        try {
                                            if (r_65_1 && !r_65_1.done && (_j = r_65.return)) _j.call(r_65);
                                        }
                                        finally { if (e_707) throw e_707.error; }
                                    }
                                    Lx(e, t, i, o, s);
                                });
                            };
                            Bx.prototype.insertColumns = function (t, e) {
                                var _this = this;
                                if (e === void 0) { e = {}; }
                                var n = this.editor.model, i = e.at || 0, o = e.columns || 1;
                                n.change(function (e) {
                                    var e_708, _j, e_709, _q;
                                    var n = t.getAttribute("headingColumns");
                                    i < n && e.setAttribute("headingColumns", n + o, t);
                                    var r = _this.getColumns(t);
                                    if (0 === i || r === i) {
                                        try {
                                            for (var _z = __values(t.getChildren()), _0 = _z.next(); !_0.done; _0 = _z.next()) {
                                                var n_294 = _0.value;
                                                Vx(o, e, e.createPositionAt(n_294, i ? "end" : 0));
                                            }
                                        }
                                        catch (e_708_1) { e_708 = { error: e_708_1 }; }
                                        finally {
                                            try {
                                                if (_0 && !_0.done && (_j = _z.return)) _j.call(_z);
                                            }
                                            finally { if (e_708) throw e_708.error; }
                                        }
                                        return;
                                    }
                                    var s = new sx(t, { column: i, includeSpanned: !0 });
                                    try {
                                        for (var s_40 = __values(s), s_40_1 = s_40.next(); !s_40_1.done; s_40_1 = s_40.next()) {
                                            var _1 = s_40_1.value, n_295 = _1.row, r_66 = _1.cell, a_21 = _1.cellIndex;
                                            var c_17 = parseInt(r_66.getAttribute("rowspan") || 1), l_6 = parseInt(r_66.getAttribute("colspan") || 1);
                                            if (r_66.index !== i && l_6 > 1) {
                                                if (e.setAttribute("colspan", l_6 + o, r_66), s.skipRow(n_295), c_17 > 1)
                                                    for (var t_373 = n_295 + 1; t_373 < n_295 + c_17; t_373++)
                                                        s.skipRow(t_373);
                                            }
                                            else {
                                                var i_190 = e.createPositionAt(t.getChild(n_295), a_21);
                                                Vx(o, e, i_190);
                                            }
                                        }
                                    }
                                    catch (e_709_1) { e_709 = { error: e_709_1 }; }
                                    finally {
                                        try {
                                            if (s_40_1 && !s_40_1.done && (_q = s_40.return)) _q.call(s_40);
                                        }
                                        finally { if (e_709) throw e_709.error; }
                                    }
                                });
                            };
                            Bx.prototype.splitCellVertically = function (t, e) {
                                if (e === void 0) { e = 2; }
                                var n = this.editor.model, i = t.parent.parent, o = parseInt(t.getAttribute("rowspan") || 1), r = parseInt(t.getAttribute("colspan") || 1);
                                n.change(function (n) {
                                    var e_710, _j;
                                    if (r > 1) {
                                        var _q = Fx(r, e), i_191 = _q.newCellsSpan, s_41 = _q.updatedSpan;
                                        ex("colspan", s_41, t, n);
                                        var a_22 = {};
                                        i_191 > 1 && (a_22.colspan = i_191), o > 1 && (a_22.rowspan = o), Vx(r > e ? e - 1 : r - 1, n, n.createPositionAfter(t), a_22);
                                    }
                                    if (r < e) {
                                        var s_42 = e - r, a_23 = __spread(new sx(i)), c_18 = a_23.find(function (_j) {
                                            var e = _j.cell;
                                            return e === t;
                                        }).column, l_8 = a_23.filter(function (_j) {
                                            var e = _j.cell, n = _j.colspan, i = _j.column;
                                            return e !== t && i === c_18 || i < c_18 && i + n > c_18;
                                        });
                                        try {
                                            for (var l_7 = __values(l_8), l_7_1 = l_7.next(); !l_7_1.done; l_7_1 = l_7.next()) {
                                                var _z = l_7_1.value, t_374 = _z.cell, e_711 = _z.colspan;
                                                n.setAttribute("colspan", e_711 + s_42, t_374);
                                            }
                                        }
                                        catch (e_710_1) { e_710 = { error: e_710_1 }; }
                                        finally {
                                            try {
                                                if (l_7_1 && !l_7_1.done && (_j = l_7.return)) _j.call(l_7);
                                            }
                                            finally { if (e_710) throw e_710.error; }
                                        }
                                        var d_3 = {};
                                        o > 1 && (d_3.rowspan = o), Vx(s_42, n, n.createPositionAfter(t), d_3);
                                        var u_3 = i.getAttribute("headingColumns") || 0;
                                        u_3 > c_18 && ex("headingColumns", u_3 + s_42, i, n);
                                    }
                                });
                            };
                            Bx.prototype.splitCellHorizontally = function (t, e) {
                                if (e === void 0) { e = 2; }
                                var n = this.editor.model, i = t.parent, o = i.parent, r = o.getChildIndex(i), s = parseInt(t.getAttribute("rowspan") || 1), a = parseInt(t.getAttribute("colspan") || 1);
                                n.change(function (n) {
                                    var e_712, _j, e_713, _q;
                                    if (s > 1) {
                                        var i_193 = __spread(new sx(o, { startRow: r, endRow: r + s - 1, includeSpanned: !0 })), _z = Fx(s, e), c_20 = _z.newCellsSpan, l_9 = _z.updatedSpan;
                                        ex("rowspan", l_9, t, n);
                                        var d_4 = i_193.find(function (_j) {
                                            var e = _j.cell;
                                            return e === t;
                                        }).column, u_4 = {};
                                        c_20 > 1 && (u_4.rowspan = c_20), a > 1 && (u_4.colspan = a);
                                        try {
                                            for (var i_192 = __values(i_193), i_192_1 = i_192.next(); !i_192_1.done; i_192_1 = i_192.next()) {
                                                var _0 = i_192_1.value, t_375 = _0.column, e_714 = _0.row, s_43 = _0.cellIndex;
                                                if (e_714 >= r + l_9 && t_375 === d_4 && (e_714 + r + l_9) % c_20 == 0) {
                                                    Vx(1, n, n.createPositionAt(o.getChild(e_714), s_43), u_4);
                                                }
                                            }
                                        }
                                        catch (e_712_1) { e_712 = { error: e_712_1 }; }
                                        finally {
                                            try {
                                                if (i_192_1 && !i_192_1.done && (_j = i_192.return)) _j.call(i_192);
                                            }
                                            finally { if (e_712) throw e_712.error; }
                                        }
                                    }
                                    if (s < e) {
                                        var i_194 = e - s, c_21 = __spread(new sx(o, { startRow: 0, endRow: r }));
                                        try {
                                            for (var c_19 = __values(c_21), c_19_1 = c_19.next(); !c_19_1.done; c_19_1 = c_19.next()) {
                                                var _1 = c_19_1.value, e_715 = _1.cell, o_117 = _1.rowspan, s_44 = _1.row;
                                                if (e_715 !== t && s_44 + o_117 > r) {
                                                    var t_376 = o_117 + i_194;
                                                    n.setAttribute("rowspan", t_376, e_715);
                                                }
                                            }
                                        }
                                        catch (e_713_1) { e_713 = { error: e_713_1 }; }
                                        finally {
                                            try {
                                                if (c_19_1 && !c_19_1.done && (_q = c_19.return)) _q.call(c_19);
                                            }
                                            finally { if (e_713) throw e_713.error; }
                                        }
                                        var l_10 = {};
                                        a > 1 && (l_10.colspan = a), Lx(n, o, r + 1, i_194, 1, l_10);
                                        var d_5 = o.getAttribute("headingRows") || 0;
                                        d_5 > r && ex("headingRows", d_5 + i_194, o, n);
                                    }
                                });
                            };
                            Bx.prototype.getColumns = function (t) { return __spread(t.getChild(0).getChildren()).reduce(function (t, e) { return t + parseInt(e.getAttribute("colspan") || 1); }, 0); };
                            return Bx;
                        }(Sd));
                        function Lx(t, e, n, i, o, r) {
                            if (r === void 0) { r = {}; }
                            for (var s_45 = 0; s_45 < i; s_45++) {
                                var i_195 = t.createElement("tableRow");
                                t.insert(i_195, e, n), Vx(o, t, t.createPositionAt(i_195, "end"), r);
                            }
                        }
                        function Vx(t, e, n, i) {
                            if (i === void 0) { i = {}; }
                            for (var o_118 = 0; o_118 < t; o_118++)
                                nx(e, n, i);
                        }
                        function Fx(t, e) { if (t < e)
                            return { newCellsSpan: 1, updatedSpan: 1 }; var n = Math.floor(t / e); return { newCellsSpan: n, updatedSpan: t - n * e + n }; }
                        function zx(t) { t.document.registerPostFixer(function (e) { return (function (t, e) {
                            var e_716, _j;
                            var n = e.document.differ.getChanges();
                            var i = !1;
                            var o = new Set;
                            try {
                                for (var n_296 = __values(n), n_296_1 = n_296.next(); !n_296_1.done; n_296_1 = n_296.next()) {
                                    var e_717 = n_296_1.value;
                                    var n_297 = void 0;
                                    "table" == e_717.name && "insert" == e_717.type && (n_297 = e_717.position.nodeAfter), "tableRow" != e_717.name && "tableCell" != e_717.name || (n_297 = tx("table", e_717.position)), qx(e_717) && (n_297 = tx("table", e_717.range.start)), n_297 && !o.has(n_297) && (i = Ux(n_297, t) || i, i = Hx(n_297, t) || i, o.add(n_297));
                                }
                            }
                            catch (e_716_1) { e_716 = { error: e_716_1 }; }
                            finally {
                                try {
                                    if (n_296_1 && !n_296_1.done && (_j = n_296.return)) _j.call(n_296);
                                }
                                finally { if (e_716) throw e_716.error; }
                            }
                            return i;
                        })(e, t); }); }
                        function Ux(t, e) {
                            var e_718, _j;
                            var n = !1;
                            var i = function (t) {
                                var e_719, _j;
                                var e = parseInt(t.getAttribute("headingRows") || 0), n = t.childCount, i = [];
                                try {
                                    for (var _q = __values(new sx(t)), _z = _q.next(); !_z.done; _z = _q.next()) {
                                        var _0 = _z.value, o_119 = _0.row, r_67 = _0.rowspan, s_46 = _0.cell;
                                        if (r_67 < 2)
                                            continue;
                                        var t_377 = o_119 < e, a_24 = t_377 ? e : n;
                                        if (o_119 + r_67 > a_24) {
                                            var t_378 = a_24 - o_119;
                                            i.push({ cell: s_46, rowspan: t_378 });
                                        }
                                    }
                                }
                                catch (e_719_1) { e_719 = { error: e_719_1 }; }
                                finally {
                                    try {
                                        if (_z && !_z.done && (_j = _q.return)) _j.call(_q);
                                    }
                                    finally { if (e_719) throw e_719.error; }
                                }
                                return i;
                            }(t);
                            if (i.length) {
                                n = !0;
                                try {
                                    for (var i_196 = __values(i), i_196_1 = i_196.next(); !i_196_1.done; i_196_1 = i_196.next()) {
                                        var t_379 = i_196_1.value;
                                        ex("rowspan", t_379.rowspan, t_379.cell, e, 1);
                                    }
                                }
                                catch (e_718_1) { e_718 = { error: e_718_1 }; }
                                finally {
                                    try {
                                        if (i_196_1 && !i_196_1.done && (_j = i_196.return)) _j.call(i_196);
                                    }
                                    finally { if (e_718) throw e_718.error; }
                                }
                            }
                            return n;
                        }
                        function Hx(t, e) {
                            var e_720, _j;
                            var n = !1;
                            var i = function (t) {
                                var e_721, _j;
                                var e = {};
                                try {
                                    for (var _q = __values(new sx(t, { includeSpanned: !0 })), _z = _q.next(); !_z.done; _z = _q.next()) {
                                        var n_298 = _z.value.row;
                                        e[n_298] || (e[n_298] = 0), e[n_298] += 1;
                                    }
                                }
                                catch (e_721_1) { e_721 = { error: e_721_1 }; }
                                finally {
                                    try {
                                        if (_z && !_z.done && (_j = _q.return)) _j.call(_q);
                                    }
                                    finally { if (e_721) throw e_721.error; }
                                }
                                return e;
                            }(t), o = i[0];
                            if (!Object.values(i).every(function (t) { return t === o; })) {
                                var o_120 = Object.values(i).reduce(function (t, e) { return e > t ? e : t; }, 0);
                                try {
                                    for (var _q = __values(Object.entries(i)), _z = _q.next(); !_z.done; _z = _q.next()) {
                                        var _0 = __read(_z.value, 2), r_68 = _0[0], s_47 = _0[1];
                                        var i_197 = o_120 - s_47;
                                        if (i_197) {
                                            for (var n_299 = 0; n_299 < i_197; n_299++)
                                                nx(e, e.createPositionAt(t.getChild(r_68), "end"));
                                            n = !0;
                                        }
                                    }
                                }
                                catch (e_720_1) { e_720 = { error: e_720_1 }; }
                                finally {
                                    try {
                                        if (_z && !_z.done && (_j = _q.return)) _j.call(_q);
                                    }
                                    finally { if (e_720) throw e_720.error; }
                                }
                            }
                            return n;
                        }
                        function qx(t) { var e = "attribute" === t.type, n = t.attributeKey; return e && ("headingRows" === n || "colspan" === n || "rowspan" === n); }
                        function Yx(t) { t.document.registerPostFixer(function (e) { return (function (t, e) {
                            var e_722, _j;
                            var n = e.document.differ.getChanges();
                            var i = !1;
                            try {
                                for (var n_300 = __values(n), n_300_1 = n_300.next(); !n_300_1.done; n_300_1 = n_300.next()) {
                                    var e_723 = n_300_1.value;
                                    "insert" == e_723.type && "table" == e_723.name && (i = Wx(e_723.position.nodeAfter, t) || i), "insert" == e_723.type && "tableRow" == e_723.name && (i = Jx(e_723.position.nodeAfter, t) || i), "insert" == e_723.type && "tableCell" == e_723.name && (i = $x(e_723.position.nodeAfter, t) || i), Gx(e_723) && (i = $x(e_723.position.parent, t) || i);
                                }
                            }
                            catch (e_722_1) { e_722 = { error: e_722_1 }; }
                            finally {
                                try {
                                    if (n_300_1 && !n_300_1.done && (_j = n_300.return)) _j.call(n_300);
                                }
                                finally { if (e_722) throw e_722.error; }
                            }
                            return i;
                        })(e, t); }); }
                        function Wx(t, e) {
                            var e_724, _j;
                            var n = !1;
                            try {
                                for (var _q = __values(t.getChildren()), _z = _q.next(); !_z.done; _z = _q.next()) {
                                    var i_198 = _z.value;
                                    n = Jx(i_198, e) || n;
                                }
                            }
                            catch (e_724_1) { e_724 = { error: e_724_1 }; }
                            finally {
                                try {
                                    if (_z && !_z.done && (_j = _q.return)) _j.call(_q);
                                }
                                finally { if (e_724) throw e_724.error; }
                            }
                            return n;
                        }
                        function Jx(t, e) {
                            var e_725, _j;
                            var n = !1;
                            try {
                                for (var _q = __values(t.getChildren()), _z = _q.next(); !_z.done; _z = _q.next()) {
                                    var i_199 = _z.value;
                                    n = $x(i_199, e) || n;
                                }
                            }
                            catch (e_725_1) { e_725 = { error: e_725_1 }; }
                            finally {
                                try {
                                    if (_z && !_z.done && (_j = _q.return)) _j.call(_q);
                                }
                                finally { if (e_725) throw e_725.error; }
                            }
                            return n;
                        }
                        function $x(t, e) {
                            var e_726, _j;
                            if (0 == t.childCount)
                                return e.insertElement("paragraph", t), !0;
                            var n = Array.from(t.getChildren()).filter(function (t) { return t.is("text"); });
                            try {
                                for (var n_301 = __values(n), n_301_1 = n_301.next(); !n_301_1.done; n_301_1 = n_301.next()) {
                                    var t_380 = n_301_1.value;
                                    e.wrap(e.createRangeOn(t_380), "paragraph");
                                }
                            }
                            catch (e_726_1) { e_726 = { error: e_726_1 }; }
                            finally {
                                try {
                                    if (n_301_1 && !n_301_1.done && (_j = n_301.return)) _j.call(n_301);
                                }
                                finally { if (e_726) throw e_726.error; }
                            }
                            return !!n.length;
                        }
                        function Gx(t) { return !(!t.position || !t.position.parent.is("tableCell")) && ("insert" == t.type && "$text" == t.name || "remove" == t.type); }
                        function Kx(t) { t.document.registerPostFixer(function () { return (function (t) {
                            var e_727, _j, e_728, _q;
                            var e = t.document.differ, n = new Set;
                            try {
                                for (var _z = __values(e.getChanges()), _0 = _z.next(); !_0.done; _0 = _z.next()) {
                                    var t_381 = _0.value;
                                    var e_729 = "insert" == t_381.type || "remove" == t_381.type ? t_381.position.parent : t_381.range.start.parent;
                                    e_729.is("tableCell") && Qx(e_729, t_381.type) && n.add(e_729);
                                }
                            }
                            catch (e_727_1) { e_727 = { error: e_727_1 }; }
                            finally {
                                try {
                                    if (_0 && !_0.done && (_j = _z.return)) _j.call(_z);
                                }
                                finally { if (e_727) throw e_727.error; }
                            }
                            if (n.size) {
                                try {
                                    for (var _1 = __values(n.values()), _2 = _1.next(); !_2.done; _2 = _1.next()) {
                                        var t_382 = _2.value;
                                        e.refreshItem(t_382);
                                    }
                                }
                                catch (e_728_1) { e_728 = { error: e_728_1 }; }
                                finally {
                                    try {
                                        if (_2 && !_2.done && (_q = _1.return)) _q.call(_1);
                                    }
                                    finally { if (e_728) throw e_728.error; }
                                }
                                return !0;
                            }
                            return !1;
                        })(t); }); }
                        function Qx(t, e) { if (!Array.from(t.getChildren()).some(function (t) { return t.is("paragraph"); }))
                            return !1; if ("attribute" == e) {
                            var e_730 = Array.from(t.getChild(0).getAttributeKeys()).length;
                            return 1 === t.childCount && e_730 < 2;
                        } return t.childCount <= ("insert" == e ? 2 : 1); }
                        n(201);
                        var Zx = /** @class */ (function (_super) {
                            __extends(Zx, _super);
                            function Zx() {
                                return _super !== null && _super.apply(this, arguments) || this;
                            }
                            Object.defineProperty(Zx, "pluginName", {
                                get: function () { return "TableEditing"; },
                                enumerable: true,
                                configurable: true
                            });
                            Zx.prototype.init = function () {
                                var _this = this;
                                var t = this.editor, e = t.model, n = e.schema, i = t.conversion;
                                n.register("table", { allowWhere: "$block", allowAttributes: ["headingRows", "headingColumns"], isLimit: !0, isObject: !0, isBlock: !0 }), n.register("tableRow", { allowIn: "table", isLimit: !0 }), n.register("tableCell", { allowIn: "tableRow", allowAttributes: ["colspan", "rowspan"], isLimit: !0 }), n.extend("$block", { allowIn: "tableCell" }), n.addChildCheck(function (t, e) { if ("table" == e.name && Array.from(t.getNames()).includes("table"))
                                    return !1; }), i.for("upcast").add(ix()), i.for("editingDowncast").add(dx({ asWidget: !0 })), i.for("dataDowncast").add(dx()), i.for("upcast").elementToElement({ model: "tableRow", view: "tr" }), i.for("editingDowncast").add(ux({ asWidget: !0 })), i.for("dataDowncast").add(ux()), i.for("downcast").add(function (t) { return t.on("remove:tableRow", function (t, e, n) {
                                    var e_731, _j;
                                    t.stop();
                                    var i = n.writer, o = n.mapper, r = o.toViewPosition(e.position).getLastMatchingPosition(function (t) { return !t.item.is("tr"); }).nodeAfter, s = r.parent, a = i.createRangeOn(r), c = i.remove(a);
                                    try {
                                        for (var _q = __values(i.createRangeIn(c).getItems()), _z = _q.next(); !_z.done; _z = _q.next()) {
                                            var t_383 = _z.value;
                                            o.unbindViewElement(t_383);
                                        }
                                    }
                                    catch (e_731_1) { e_731 = { error: e_731_1 }; }
                                    finally {
                                        try {
                                            if (_z && !_z.done && (_j = _q.return)) _j.call(_q);
                                        }
                                        finally { if (e_731) throw e_731.error; }
                                    }
                                    s.childCount || i.remove(i.createRangeOn(s));
                                }, { priority: "higher" }); }), i.for("upcast").add(ox("td")), i.for("upcast").add(ox("th")), i.for("editingDowncast").add(hx({ asWidget: !0 })), i.for("dataDowncast").add(hx()), i.attributeToAttribute({ model: "colspan", view: "colspan" }), i.attributeToAttribute({ model: "rowspan", view: "rowspan" }), i.for("editingDowncast").add(px({ asWidget: !0 })), i.for("dataDowncast").add(px()), i.for("editingDowncast").add(fx({ asWidget: !0 })), i.for("dataDowncast").add(fx()), t.commands.add("insertTable", new Ax(t)), t.commands.add("insertTableRowAbove", new Sx(t, { order: "above" })), t.commands.add("insertTableRowBelow", new Sx(t, { order: "below" })), t.commands.add("insertTableColumnLeft", new Ex(t, { order: "left" })), t.commands.add("insertTableColumnRight", new Ex(t, { order: "right" })), t.commands.add("removeTableRow", new Mx(t)), t.commands.add("removeTableColumn", new Ox(t)), t.commands.add("splitTableCellVertically", new Px(t, { direction: "vertically" })), t.commands.add("splitTableCellHorizontally", new Px(t, { direction: "horizontally" })), t.commands.add("mergeTableCellRight", new Ix(t, { direction: "right" })), t.commands.add("mergeTableCellLeft", new Ix(t, { direction: "left" })), t.commands.add("mergeTableCellDown", new Ix(t, { direction: "down" })), t.commands.add("mergeTableCellUp", new Ix(t, { direction: "up" })), t.commands.add("setTableColumnHeader", new jx(t)), t.commands.add("setTableRowHeader", new Rx(t)), zx(e), Kx(e), Yx(e), this.editor.keystrokes.set("Tab", function () {
                                    var t = [];
                                    for (var _j = 0; _j < arguments.length; _j++) {
                                        t[_j] = arguments[_j];
                                    }
                                    return _this._handleTabOnSelectedTable.apply(_this, __spread(t));
                                }, { priority: "low" }), this.editor.keystrokes.set("Tab", this._getTabHandler(!0), { priority: "low" }), this.editor.keystrokes.set("Shift+Tab", this._getTabHandler(!1), { priority: "low" });
                            };
                            Object.defineProperty(Zx, "requires", {
                                get: function () { return [Bx]; },
                                enumerable: true,
                                configurable: true
                            });
                            Zx.prototype._handleTabOnSelectedTable = function (t, e) { var n = this.editor, i = n.model.document.selection; if (!i.isCollapsed && 1 === i.rangeCount && i.getFirstRange().isFlat) {
                                var t_384 = i.getSelectedElement();
                                if (!t_384 || !t_384.is("table"))
                                    return;
                                e(), n.model.change(function (e) { e.setSelection(e.createRangeIn(t_384.getChild(0).getChild(0))); });
                            } };
                            Zx.prototype._getTabHandler = function (t) { var e = this.editor; return function (n, i) { var o = tx("tableCell", e.model.document.selection.getFirstPosition()); if (!o)
                                return; i(); var r = o.parent, s = r.parent, a = s.getChildIndex(r), c = r.getChildIndex(o), l = 0 === c; if (!t && l && 0 === a)
                                return; var d = c === r.childCount - 1, u = a === s.childCount - 1; if (t && u && d && (e.execute("insertTableRowBelow"), a === s.childCount - 1))
                                return; var h; if (t && d) {
                                var t_385 = s.getChild(a + 1);
                                h = t_385.getChild(0);
                            }
                            else if (!t && l) {
                                var t_386 = s.getChild(a - 1);
                                h = t_386.getChild(t_386.childCount - 1);
                            }
                            else
                                h = r.getChild(c + (t ? 1 : -1)); e.model.change(function (t) { t.setSelection(t.createRangeIn(h)); }); }; };
                            return Zx;
                        }(Sd));
                        n(203);
                        var Xx = /** @class */ (function (_super) {
                            __extends(Xx, _super);
                            function Xx(t) {
                                var _this = _super.call(this, t) || this;
                                var e = _this.bindTemplate;
                                _this.items = _this.createCollection(), _this.set("rows", 0), _this.set("columns", 0), _this.bind("label").to(_this, "columns", _this, "rows", function (t, e) { return e + " \u00D7 " + t; }), _this.setTemplate({ tag: "div", attributes: { class: ["ck"] }, children: [{ tag: "div", attributes: { class: ["ck-insert-table-dropdown__grid"] }, children: _this.items }, { tag: "div", attributes: { class: ["ck-insert-table-dropdown__label"] }, children: [{ text: e.to("label") }] }], on: { mousedown: e.to(function (t) { t.preventDefault(); }), click: e.to(function () { _this.fire("execute"); }) } });
                                var _loop_9 = function (t_387) {
                                    var e_732 = new tb;
                                    e_732.on("over", function () { var e = Math.floor(t_387 / 10), n = t_387 % 10; _this.set("rows", e + 1), _this.set("columns", n + 1); }), this_3.items.add(e_732);
                                };
                                var this_3 = this;
                                for (var t_387 = 0; t_387 < 100; t_387++) {
                                    _loop_9(t_387);
                                }
                                _this.on("change:columns", function () { _this._highlightGridBoxes(); }), _this.on("change:rows", function () { _this._highlightGridBoxes(); });
                                return _this;
                            }
                            Xx.prototype.focus = function () { };
                            Xx.prototype.focusLast = function () { };
                            Xx.prototype._highlightGridBoxes = function () { var t = this.rows, e = this.columns; this.items.map(function (n, i) { var o = Math.floor(i / 10) < t && i % 10 < e; n.set("isOn", o); }); };
                            return Xx;
                        }(Vl));
                        var tb = /** @class */ (function (_super) {
                            __extends(tb, _super);
                            function tb(t) {
                                var _this = _super.call(this, t) || this;
                                var e = _this.bindTemplate;
                                _this.set("isOn", !1), _this.setTemplate({ tag: "div", attributes: { class: ["ck-insert-table-dropdown-grid-box", e.if("isOn", "ck-on")] }, on: { mouseover: e.to("over") } });
                                return _this;
                            }
                            return tb;
                        }(Vl));
                        var eb = n(103), nb = n.n(eb), ib = n(104), ob = n.n(ib), rb = n(105), sb = n.n(rb), ab = n(106), cb = n.n(ab);
                        var lb = /** @class */ (function (_super) {
                            __extends(lb, _super);
                            function lb() {
                                return _super !== null && _super.apply(this, arguments) || this;
                            }
                            lb.prototype.init = function () {
                                var _this = this;
                                var t = this.editor, e = this.editor.t, n = "ltr" === t.locale.contentLanguageDirection;
                                t.ui.componentFactory.add("insertTable", function (n) { var i = t.commands.get("insertTable"), o = gd(n); o.bind("isEnabled").to(i), o.buttonView.set({ icon: nb.a, label: e("u"), tooltip: !0 }); var r = new Xx(n); return o.panelView.children.add(r), r.delegate("execute").to(o), o.buttonView.on("open", function () { r.rows = 0, r.columns = 0; }), o.on("execute", function () { t.execute("insertTable", { rows: r.rows, columns: r.columns }), t.editing.view.focus(); }), o; }), t.ui.componentFactory.add("tableColumn", function (t) { var i = [{ type: "switchbutton", model: { commandName: "setTableColumnHeader", label: e("v"), bindIsOn: !0 } }, { type: "separator" }, { type: "button", model: { commandName: n ? "insertTableColumnLeft" : "insertTableColumnRight", label: e("w") } }, { type: "button", model: { commandName: n ? "insertTableColumnRight" : "insertTableColumnLeft", label: e("x") } }, { type: "button", model: { commandName: "removeTableColumn", label: e("y") } }]; return _this._prepareDropdown(e("z"), ob.a, i, t); }), t.ui.componentFactory.add("tableRow", function (t) { var n = [{ type: "switchbutton", model: { commandName: "setTableRowHeader", label: e("aa"), bindIsOn: !0 } }, { type: "separator" }, { type: "button", model: { commandName: "insertTableRowBelow", label: e("ab") } }, { type: "button", model: { commandName: "insertTableRowAbove", label: e("ac") } }, { type: "button", model: { commandName: "removeTableRow", label: e("ad") } }]; return _this._prepareDropdown(e("ae"), sb.a, n, t); }), t.ui.componentFactory.add("mergeTableCells", function (t) { var i = [{ type: "button", model: { commandName: "mergeTableCellUp", label: e("af") } }, { type: "button", model: { commandName: n ? "mergeTableCellRight" : "mergeTableCellLeft", label: e("ag") } }, { type: "button", model: { commandName: "mergeTableCellDown", label: e("ah") } }, { type: "button", model: { commandName: n ? "mergeTableCellLeft" : "mergeTableCellRight", label: e("ai") } }, { type: "separator" }, { type: "button", model: { commandName: "splitTableCellVertically", label: e("aj") } }, { type: "button", model: { commandName: "splitTableCellHorizontally", label: e("ak") } }]; return _this._prepareDropdown(e("al"), cb.a, i, t); });
                            };
                            lb.prototype._prepareDropdown = function (t, e, n, i) {
                                var e_733, _j;
                                var o = this.editor, r = gd(i), s = [], a = new ro;
                                try {
                                    for (var n_302 = __values(n), n_302_1 = n_302.next(); !n_302_1.done; n_302_1 = n_302.next()) {
                                        var t_388 = n_302_1.value;
                                        db(t_388, o, s, a);
                                    }
                                }
                                catch (e_733_1) { e_733 = { error: e_733_1 }; }
                                finally {
                                    try {
                                        if (n_302_1 && !n_302_1.done && (_j = n_302.return)) _j.call(n_302);
                                    }
                                    finally { if (e_733) throw e_733.error; }
                                }
                                return bd(r, a), r.buttonView.set({ label: t, icon: e, tooltip: !0 }), r.bind("isEnabled").toMany(s, "isEnabled", function () {
                                    var t = [];
                                    for (var _j = 0; _j < arguments.length; _j++) {
                                        t[_j] = arguments[_j];
                                    }
                                    return t.some(function (t) { return t; });
                                }), this.listenTo(r, "execute", function (t) { o.execute(t.source.commandName), o.editing.view.focus(); }), r;
                            };
                            return lb;
                        }(Sd));
                        function db(t, e, n, i) { var o = t.model = new Zp(t.model), _j = t.model, r = _j.commandName, s = _j.bindIsOn; if ("separator" !== t.type) {
                            var t_389 = e.commands.get(r);
                            n.push(t_389), o.set({ commandName: r }), o.bind("isEnabled").to(t_389), s && o.bind("isOn").to(t_389, "value");
                        } o.set({ withText: !0 }), i.add(t); }
                        n(205);
                        var ub = ["left", "right", "center", "justify"];
                        function hb(t) { return ub.includes(t); }
                        function fb(t, e) { return "rtl" == e.contentLanguageDirection ? "right" === t : "left" === t; }
                        var pb = "alignment";
                        var mb = /** @class */ (function (_super) {
                            __extends(mb, _super);
                            function mb() {
                                return _super !== null && _super.apply(this, arguments) || this;
                            }
                            mb.prototype.refresh = function () { var t = this.editor.locale, e = ih(this.editor.model.document.selection.getSelectedBlocks()); this.isEnabled = !!e && this._canBeAligned(e), this.isEnabled && e.hasAttribute("alignment") ? this.value = e.getAttribute("alignment") : this.value = "rtl" === t.contentLanguageDirection ? "right" : "left"; };
                            mb.prototype.execute = function (t) {
                                var _this = this;
                                if (t === void 0) { t = {}; }
                                var e = this.editor, n = e.locale, i = e.model, o = i.document, r = t.value;
                                i.change(function (t) { var e = Array.from(o.selection.getSelectedBlocks()).filter(function (t) { return _this._canBeAligned(t); }), i = e[0].getAttribute("alignment"); fb(r, n) || i === r || !r ? function (t, e) {
                                    var e_734, _j;
                                    try {
                                        for (var t_390 = __values(t), t_390_1 = t_390.next(); !t_390_1.done; t_390_1 = t_390.next()) {
                                            var n_303 = t_390_1.value;
                                            e.removeAttribute(pb, n_303);
                                        }
                                    }
                                    catch (e_734_1) { e_734 = { error: e_734_1 }; }
                                    finally {
                                        try {
                                            if (t_390_1 && !t_390_1.done && (_j = t_390.return)) _j.call(t_390);
                                        }
                                        finally { if (e_734) throw e_734.error; }
                                    }
                                }(e, t) : function (t, e, n) {
                                    var e_735, _j;
                                    try {
                                        for (var t_391 = __values(t), t_391_1 = t_391.next(); !t_391_1.done; t_391_1 = t_391.next()) {
                                            var i_200 = t_391_1.value;
                                            e.setAttribute(pb, n, i_200);
                                        }
                                    }
                                    catch (e_735_1) { e_735 = { error: e_735_1 }; }
                                    finally {
                                        try {
                                            if (t_391_1 && !t_391_1.done && (_j = t_391.return)) _j.call(t_391);
                                        }
                                        finally { if (e_735) throw e_735.error; }
                                    }
                                }(e, t, r); });
                            };
                            mb.prototype._canBeAligned = function (t) { return this.editor.model.schema.checkAttribute(t, pb); };
                            return mb;
                        }(Md));
                        var gb = /** @class */ (function (_super) {
                            __extends(gb, _super);
                            function gb(t) {
                                var _this = this;
                                _this = _super.call(this, t) || this, t.config.define("alignment", { options: __spread(ub) });
                                return _this;
                            }
                            Object.defineProperty(gb, "pluginName", {
                                get: function () { return "AlignmentEditing"; },
                                enumerable: true,
                                configurable: true
                            });
                            gb.prototype.init = function () { var t = this.editor, e = t.locale, n = t.model.schema, i = t.config.get("alignment.options").filter(hb); n.extend("$block", { allowAttributes: "alignment" }), t.model.schema.setAttributeProperties("alignment", { isFormatting: !0 }); var o = function (t) {
                                var e_736, _j;
                                var e = { model: { key: "alignment", values: t.slice() }, view: {} };
                                try {
                                    for (var t_392 = __values(t), t_392_1 = t_392.next(); !t_392_1.done; t_392_1 = t_392.next()) {
                                        var n_304 = t_392_1.value;
                                        e.view[n_304] = { key: "style", value: { "text-align": n_304 } };
                                    }
                                }
                                catch (e_736_1) { e_736 = { error: e_736_1 }; }
                                finally {
                                    try {
                                        if (t_392_1 && !t_392_1.done && (_j = t_392.return)) _j.call(t_392);
                                    }
                                    finally { if (e_736) throw e_736.error; }
                                }
                                return e;
                            }(i.filter(function (t) { return !fb(t, e); })); t.conversion.attributeToAttribute(o), t.commands.add("alignment", new mb(t)); };
                            return gb;
                        }(Sd));
                        var xb = n(48), bb = n.n(xb), kb = n(49), wb = n.n(kb), vb = n(107), yb = n.n(vb), _b = n(108), Cb = n.n(_b);
                        var Tb = new Map([["left", bb.a], ["right", wb.a], ["center", yb.a], ["justify", Cb.a]]);
                        var Ab = /** @class */ (function (_super) {
                            __extends(Ab, _super);
                            function Ab() {
                                return _super !== null && _super.apply(this, arguments) || this;
                            }
                            Object.defineProperty(Ab.prototype, "localizedOptionTitles", {
                                get: function () { var t = this.editor.t; return { left: t("am"), right: t("an"), center: t("ao"), justify: t("ap") }; },
                                enumerable: true,
                                configurable: true
                            });
                            Object.defineProperty(Ab, "pluginName", {
                                get: function () { return "AlignmentUI"; },
                                enumerable: true,
                                configurable: true
                            });
                            Ab.prototype.init = function () {
                                var _this = this;
                                var t = this.editor, e = t.ui.componentFactory, n = t.t, i = t.config.get("alignment.options");
                                i.filter(hb).forEach(function (t) { return _this._addButton(t); }), e.add("alignment", function (t) { var o = gd(t), r = i.map(function (t) { return e.create("alignment:" + t); }); xd(o, r), o.buttonView.set({ label: n("aq"), tooltip: !0 }), o.toolbarView.isVertical = !0, o.toolbarView.ariaLabel = n("ar"), o.extendTemplate({ attributes: { class: "ck-alignment-dropdown" } }); var s = "rtl" === t.contentLanguageDirection ? wb.a : bb.a; return o.buttonView.bind("icon").toMany(r, "isOn", function () {
                                    var t = [];
                                    for (var _j = 0; _j < arguments.length; _j++) {
                                        t[_j] = arguments[_j];
                                    }
                                    var e = t.findIndex(function (t) { return t; });
                                    return e < 0 ? s : r[e].icon;
                                }), o.bind("isEnabled").toMany(r, "isEnabled", function () {
                                    var t = [];
                                    for (var _j = 0; _j < arguments.length; _j++) {
                                        t[_j] = arguments[_j];
                                    }
                                    return t.some(function (t) { return t; });
                                }), o; });
                            };
                            Ab.prototype._addButton = function (t) {
                                var _this = this;
                                var e = this.editor;
                                e.ui.componentFactory.add("alignment:" + t, function (n) { var i = e.commands.get("alignment"), o = new ad(n); return o.set({ label: _this.localizedOptionTitles[t], icon: Tb.get(t), tooltip: !0, isToggleable: !0 }), o.bind("isEnabled").to(i), o.bind("isOn").to(i, "value", function (e) { return e === t; }), _this.listenTo(o, "execute", function () { e.execute("alignment", { value: t }), e.editing.view.focus(); }), o; });
                            };
                            return Ab;
                        }(Sd));
                        var Sb = /** @class */ (function (_super) {
                            __extends(Sb, _super);
                            function Sb(t, e) {
                                var _this = this;
                                _this = _super.call(this, t) || this, _this.attributeKey = e;
                                return _this;
                            }
                            Sb.prototype.refresh = function () { var t = this.editor.model, e = t.document; this.value = e.selection.getAttribute(this.attributeKey), this.isEnabled = t.schema.checkAttributeInSelection(e.selection, this.attributeKey); };
                            Sb.prototype.execute = function (t) {
                                var _this = this;
                                if (t === void 0) { t = {}; }
                                var e = this.editor.model, n = e.document.selection, i = t.value;
                                e.change(function (t) {
                                    var e_737, _j;
                                    if (n.isCollapsed)
                                        i ? t.setSelectionAttribute(_this.attributeKey, i) : t.removeSelectionAttribute(_this.attributeKey);
                                    else {
                                        var o_122 = e.schema.getValidRanges(n.getRanges(), _this.attributeKey);
                                        try {
                                            for (var o_121 = __values(o_122), o_121_1 = o_121.next(); !o_121_1.done; o_121_1 = o_121.next()) {
                                                var e_738 = o_121_1.value;
                                                i ? t.setAttribute(_this.attributeKey, i, e_738) : t.removeAttribute(_this.attributeKey, e_738);
                                            }
                                        }
                                        catch (e_737_1) { e_737 = { error: e_737_1 }; }
                                        finally {
                                            try {
                                                if (o_121_1 && !o_121_1.done && (_j = o_121.return)) _j.call(o_121);
                                            }
                                            finally { if (e_737) throw e_737.error; }
                                        }
                                    }
                                });
                            };
                            return Sb;
                        }(Md));
                        n(109);
                        n(207);
                        var Eb = /** @class */ (function (_super) {
                            __extends(Eb, _super);
                            function Eb(t) {
                                var _this = this;
                                _this = _super.call(this, t) || this, _this.set("isEmpty", !0);
                                return _this;
                            }
                            Eb.prototype.add = function (t, e) { this.find(function (e) { return e.color === t.color; }) || (_super.prototype.add.call(this, t, e), this.set("isEmpty", !1)); };
                            Eb.prototype.remove = function (t) { var e = _super.prototype.remove.call(this, t); return 0 === this.length && this.set("isEmpty", !0), e; };
                            Eb.prototype.hasColor = function (t) { return !!this.find(function (e) { return e.color === t; }); };
                            return Eb;
                        }(ro));
                        li(Eb, Ui);
                        var Pb = n(29), Ib = n.n(Pb);
                        n(209);
                        var Nb = "fontSize", Mb = "fontFamily";
                        function Ob(t, e) {
                            var e_739, _j;
                            var n = { model: { key: t, values: [] }, view: {}, upcastAlso: {} };
                            try {
                                for (var e_740 = __values(e), e_740_1 = e_740.next(); !e_740_1.done; e_740_1 = e_740.next()) {
                                    var t_393 = e_740_1.value;
                                    n.model.values.push(t_393.model), n.view[t_393.model] = t_393.view, t_393.upcastAlso && (n.upcastAlso[t_393.model] = t_393.upcastAlso);
                                }
                            }
                            catch (e_739_1) { e_739 = { error: e_739_1 }; }
                            finally {
                                try {
                                    if (e_740_1 && !e_740_1.done && (_j = e_740.return)) _j.call(e_740);
                                }
                                finally { if (e_739) throw e_739.error; }
                            }
                            return n;
                        }
                        function Rb(t) { return "string" == typeof t ? { model: t.replace(/ /g, ""), label: t, hasBorder: !1, view: { name: "span", styles: { color: t } } } : { model: t.color.replace(/ /g, ""), label: t.label || t.color, hasBorder: void 0 !== t.hasBorder && t.hasBorder, view: { name: "span", styles: { color: "" + t.color } } }; }
                        var Db = /** @class */ (function (_super) {
                            __extends(Db, _super);
                            function Db(t) {
                                return _super.call(this, t, Nb) || this;
                            }
                            return Db;
                        }(Sb));
                        function jb(t) { return t.map(Lb).filter(function (t) { return !!t; }); }
                        var Bb = { tiny: { title: "Tiny", model: "tiny", view: { name: "span", classes: "text-tiny", priority: 7 } }, small: { title: "Small", model: "small", view: { name: "span", classes: "text-small", priority: 7 } }, big: { title: "Big", model: "big", view: { name: "span", classes: "text-big", priority: 7 } }, huge: { title: "Huge", model: "huge", view: { name: "span", classes: "text-huge", priority: 7 } } };
                        function Lb(t) { if ("object" == typeof t)
                            return t; if (Bb[t])
                            return Bb[t]; if ("default" === t)
                            return { model: void 0, title: "Default" }; var e = parseFloat(t); return isNaN(e) ? void 0 : function (t) { return { title: String(t), model: t, view: { name: "span", styles: { "font-size": t + "px" }, priority: 7 } }; }(e); }
                        var Vb = /** @class */ (function (_super) {
                            __extends(Vb, _super);
                            function Vb(t) {
                                var _this = this;
                                _this = _super.call(this, t) || this, t.config.define(Nb, { options: ["tiny", "small", "default", "big", "huge"] });
                                var e = jb(_this.editor.config.get("fontSize.options")).filter(function (t) { return t.model; }), n = Ob(Nb, e);
                                t.conversion.attributeToElement(n), t.commands.add(Nb, new Db(t));
                                return _this;
                            }
                            Object.defineProperty(Vb, "pluginName", {
                                get: function () { return "FontSizeEditing"; },
                                enumerable: true,
                                configurable: true
                            });
                            Vb.prototype.init = function () { var t = this.editor; t.model.schema.extend("$text", { allowAttributes: Nb }), t.model.schema.setAttributeProperties(Nb, { isFormatting: !0, copyOnEnter: !0 }); };
                            return Vb;
                        }(Sd));
                        var Fb = n(110), zb = n.n(Fb);
                        n(211);
                        var Ub = /** @class */ (function (_super) {
                            __extends(Ub, _super);
                            function Ub() {
                                return _super !== null && _super.apply(this, arguments) || this;
                            }
                            Ub.prototype.init = function () {
                                var _this = this;
                                var t = this.editor, e = t.t, n = this._getLocalizedOptions(), i = t.commands.get(Nb);
                                t.ui.componentFactory.add(Nb, function (o) { var r = gd(o); return bd(r, function (t, e) {
                                    var e_741, _j;
                                    var n = new ro;
                                    var _loop_10 = function (i_201) {
                                        var t_395 = { type: "button", model: new Zp({ commandName: Nb, commandParam: i_201.model, label: i_201.title, class: "ck-fontsize-option", withText: !0 }) };
                                        i_201.view && i_201.view.styles && t_395.model.set("labelStyle", "font-size:" + i_201.view.styles["font-size"]), i_201.view && i_201.view.classes && t_395.model.set("class", t_395.model.class + " " + i_201.view.classes), t_395.model.bind("isOn").to(e, "value", function (t) { return t === i_201.model; }), n.add(t_395);
                                    };
                                    try {
                                        for (var t_394 = __values(t), t_394_1 = t_394.next(); !t_394_1.done; t_394_1 = t_394.next()) {
                                            var i_201 = t_394_1.value;
                                            _loop_10(i_201);
                                        }
                                    }
                                    catch (e_741_1) { e_741 = { error: e_741_1 }; }
                                    finally {
                                        try {
                                            if (t_394_1 && !t_394_1.done && (_j = t_394.return)) _j.call(t_394);
                                        }
                                        finally { if (e_741) throw e_741.error; }
                                    }
                                    return n;
                                }(n, i)), r.buttonView.set({ label: e("as"), icon: zb.a, tooltip: !0 }), r.extendTemplate({ attributes: { class: ["ck-font-size-dropdown"] } }), r.bind("isEnabled").to(i), _this.listenTo(r, "execute", function (e) { t.execute(e.source.commandName, { value: e.source.commandParam }), t.editing.view.focus(); }), r; });
                            };
                            Ub.prototype._getLocalizedOptions = function () { var t = this.editor, e = t.t, n = { Default: e("at"), Tiny: e("au"), Small: e("av"), Big: e("aw"), Huge: e("ax") }; return jb(t.config.get(Nb).options).map(function (t) { var e = n[t.title]; return e && e != t.title && (t = Object.assign({}, t, { title: e })), t; }); };
                            return Ub;
                        }(Sd));
                        var Hb = /** @class */ (function (_super) {
                            __extends(Hb, _super);
                            function Hb(t) {
                                return _super.call(this, t, Mb) || this;
                            }
                            return Hb;
                        }(Sb));
                        function qb(t) { return t.map(Yb).filter(function (t) { return !!t; }); }
                        function Yb(t) { return "object" == typeof t ? t : "default" === t ? { title: "Default", model: void 0 } : "string" == typeof t ? function (t) { var e = t.replace(/"|'/g, "").split(","), n = e[0], i = e.map(Wb).join(", "); return { title: n, model: n, view: { name: "span", styles: { "font-family": i }, priority: 7 } }; }(t) : void 0; }
                        function Wb(t) { return (t = t.trim()).indexOf(" ") > 0 && (t = "'" + t + "'"), t; }
                        var Jb = /** @class */ (function (_super) {
                            __extends(Jb, _super);
                            function Jb(t) {
                                var _this = this;
                                _this = _super.call(this, t) || this, t.config.define(Mb, { options: ["default", "Arial, Helvetica, sans-serif", "Courier New, Courier, monospace", "Georgia, serif", "Lucida Sans Unicode, Lucida Grande, sans-serif", "Tahoma, Geneva, sans-serif", "Times New Roman, Times, serif", "Trebuchet MS, Helvetica, sans-serif", "Verdana, Geneva, sans-serif"] });
                                return _this;
                            }
                            Object.defineProperty(Jb, "pluginName", {
                                get: function () { return "FontFamilyEditing"; },
                                enumerable: true,
                                configurable: true
                            });
                            Jb.prototype.init = function () { var t = this.editor; t.model.schema.extend("$text", { allowAttributes: Mb }), t.model.schema.setAttributeProperties(Mb, { isFormatting: !0, copyOnEnter: !0 }); var e = qb(t.config.get("fontFamily.options")).filter(function (t) { return t.model; }), n = Ob(Mb, e); t.conversion.attributeToElement(n), t.commands.add(Mb, new Hb(t)); };
                            return Jb;
                        }(Sd));
                        var $b = n(111), Gb = n.n($b);
                        var Kb = /** @class */ (function (_super) {
                            __extends(Kb, _super);
                            function Kb() {
                                return _super !== null && _super.apply(this, arguments) || this;
                            }
                            Kb.prototype.init = function () {
                                var _this = this;
                                var t = this.editor, e = t.t, n = this._getLocalizedOptions(), i = t.commands.get(Mb);
                                t.ui.componentFactory.add(Mb, function (o) { var r = gd(o); return bd(r, function (t, e) {
                                    var e_742, _j;
                                    var n = new ro;
                                    var _loop_11 = function (i_202) {
                                        var t_397 = { type: "button", model: new Zp({ commandName: Mb, commandParam: i_202.model, label: i_202.title, withText: !0 }) };
                                        t_397.model.bind("isOn").to(e, "value", function (t) { return t === i_202.model; }), i_202.view && i_202.view.styles && t_397.model.set("labelStyle", "font-family: " + i_202.view.styles["font-family"]), n.add(t_397);
                                    };
                                    try {
                                        for (var t_396 = __values(t), t_396_1 = t_396.next(); !t_396_1.done; t_396_1 = t_396.next()) {
                                            var i_202 = t_396_1.value;
                                            _loop_11(i_202);
                                        }
                                    }
                                    catch (e_742_1) { e_742 = { error: e_742_1 }; }
                                    finally {
                                        try {
                                            if (t_396_1 && !t_396_1.done && (_j = t_396.return)) _j.call(t_396);
                                        }
                                        finally { if (e_742) throw e_742.error; }
                                    }
                                    return n;
                                }(n, i)), r.buttonView.set({ label: e("ay"), icon: Gb.a, tooltip: !0 }), r.extendTemplate({ attributes: { class: "ck-font-family-dropdown" } }), r.bind("isEnabled").to(i), _this.listenTo(r, "execute", function (e) { t.execute(e.source.commandName, { value: e.source.commandParam }), t.editing.view.focus(); }), r; });
                            };
                            Kb.prototype._getLocalizedOptions = function () { var t = this.editor, e = t.t; return qb(t.config.get(Mb).options).map(function (t) { return ("Default" === t.title && (t.title = e("at")), t); }); };
                            return Kb;
                        }(Sd));
                        var Qb = /** @class */ (function (_super) {
                            __extends(Qb, _super);
                            function Qb() {
                                return _super !== null && _super.apply(this, arguments) || this;
                            }
                            Qb.prototype.refresh = function () { var t = this.editor.model, e = t.document; this.value = e.selection.getAttribute("highlight"), this.isEnabled = t.schema.checkAttributeInSelection(e.selection, "highlight"); };
                            Qb.prototype.execute = function (t) {
                                var _this = this;
                                if (t === void 0) { t = {}; }
                                var e = this.editor.model, n = e.document.selection, i = t.value;
                                e.change(function (t) {
                                    var e_743, _j;
                                    var o = e.schema.getValidRanges(n.getRanges(), "highlight");
                                    if (n.isCollapsed) {
                                        var e_744 = n.getFirstPosition();
                                        if (n.hasAttribute("highlight")) {
                                            var n_305 = function (t) { return t.item.hasAttribute("highlight") && t.item.getAttribute("highlight") === _this.value; }, o_124 = e_744.getLastMatchingPosition(n_305, { direction: "backward" }), r_69 = e_744.getLastMatchingPosition(n_305), s_48 = t.createRange(o_124, r_69);
                                            i && _this.value !== i ? (t.setAttribute("highlight", i, s_48), t.setSelectionAttribute("highlight", i)) : (t.removeAttribute("highlight", s_48), t.removeSelectionAttribute("highlight"));
                                        }
                                        else
                                            i && t.setSelectionAttribute("highlight", i);
                                    }
                                    else
                                        try {
                                            for (var o_123 = __values(o), o_123_1 = o_123.next(); !o_123_1.done; o_123_1 = o_123.next()) {
                                                var e_745 = o_123_1.value;
                                                i ? t.setAttribute("highlight", i, e_745) : t.removeAttribute("highlight", e_745);
                                            }
                                        }
                                        catch (e_743_1) { e_743 = { error: e_743_1 }; }
                                        finally {
                                            try {
                                                if (o_123_1 && !o_123_1.done && (_j = o_123.return)) _j.call(o_123);
                                            }
                                            finally { if (e_743) throw e_743.error; }
                                        }
                                });
                            };
                            return Qb;
                        }(Md));
                        var Zb = /** @class */ (function (_super) {
                            __extends(Zb, _super);
                            function Zb(t) {
                                var _this = this;
                                _this = _super.call(this, t) || this, t.config.define("highlight", { options: [{ model: "yellowMarker", class: "marker-yellow", title: "Yellow marker", color: "var(--ck-highlight-marker-yellow)", type: "marker" }, { model: "greenMarker", class: "marker-green", title: "Green marker", color: "var(--ck-highlight-marker-green)", type: "marker" }, { model: "pinkMarker", class: "marker-pink", title: "Pink marker", color: "var(--ck-highlight-marker-pink)", type: "marker" }, { model: "blueMarker", class: "marker-blue", title: "Blue marker", color: "var(--ck-highlight-marker-blue)", type: "marker" }, { model: "redPen", class: "pen-red", title: "Red pen", color: "var(--ck-highlight-pen-red)", type: "pen" }, { model: "greenPen", class: "pen-green", title: "Green pen", color: "var(--ck-highlight-pen-green)", type: "pen" }] });
                                return _this;
                            }
                            Object.defineProperty(Zb, "pluginName", {
                                get: function () { return "HighlightEditing"; },
                                enumerable: true,
                                configurable: true
                            });
                            Zb.prototype.init = function () { var t = this.editor; t.model.schema.extend("$text", { allowAttributes: "highlight" }); var e = t.config.get("highlight.options"); t.conversion.attributeToElement(function (t) {
                                var e_746, _j;
                                var e = { model: { key: "highlight", values: [] }, view: {} };
                                try {
                                    for (var t_398 = __values(t), t_398_1 = t_398.next(); !t_398_1.done; t_398_1 = t_398.next()) {
                                        var n_306 = t_398_1.value;
                                        e.model.values.push(n_306.model), e.view[n_306.model] = { name: "mark", classes: n_306.class };
                                    }
                                }
                                catch (e_746_1) { e_746 = { error: e_746_1 }; }
                                finally {
                                    try {
                                        if (t_398_1 && !t_398_1.done && (_j = t_398.return)) _j.call(t_398);
                                    }
                                    finally { if (e_746) throw e_746.error; }
                                }
                                return e;
                            }(e)), t.commands.add("highlight", new Qb(t)); };
                            return Zb;
                        }(Sd));
                        var Xb = n(112), tk = n.n(Xb), ek = n(113), nk = n.n(ek);
                        n(213);
                        var ik = /** @class */ (function (_super) {
                            __extends(ik, _super);
                            function ik(t) {
                                var _this = _super.call(this, t) || this;
                                var e = _this.bindTemplate;
                                _this.set("icon"), _this.set("isEnabled", !0), _this.set("isOn", !1), _this.set("isToggleable", !1), _this.set("isVisible", !0), _this.set("keystroke"), _this.set("label"), _this.set("tabindex", -1), _this.set("tooltip"), _this.set("tooltipPosition", "s"), _this.set("type", "button"), _this.set("withText", !1), _this.children = _this.createCollection(), _this.actionView = _this._createActionView(), _this.arrowView = _this._createArrowView(), _this.keystrokes = new el, _this.focusTracker = new dl, _this.setTemplate({ tag: "div", attributes: { class: ["ck", "ck-splitbutton", e.if("isVisible", "ck-hidden", function (t) { return !t; }), _this.arrowView.bindTemplate.if("isOn", "ck-splitbutton_open")] }, children: _this.children });
                                return _this;
                            }
                            ik.prototype.render = function () {
                                var _this = this;
                                _super.prototype.render.call(this), this.children.add(this.actionView), this.children.add(this.arrowView), this.focusTracker.add(this.actionView.element), this.focusTracker.add(this.arrowView.element), this.keystrokes.listenTo(this.element), this.keystrokes.set("arrowright", function (t, e) { _this.focusTracker.focusedElement === _this.actionView.element && (_this.arrowView.focus(), e()); }), this.keystrokes.set("arrowleft", function (t, e) { _this.focusTracker.focusedElement === _this.arrowView.element && (_this.actionView.focus(), e()); });
                            };
                            ik.prototype.focus = function () { this.actionView.focus(); };
                            ik.prototype._createActionView = function () { var t = new ad; return t.bind("icon", "isEnabled", "isOn", "isToggleable", "keystroke", "label", "tabindex", "tooltip", "tooltipPosition", "type", "withText").to(this), t.extendTemplate({ attributes: { class: "ck-splitbutton__action" } }), t.delegate("execute").to(this), t; };
                            ik.prototype._createArrowView = function () { var t = new ad, e = t.bindTemplate; return t.icon = ld.a, t.extendTemplate({ attributes: { class: "ck-splitbutton__arrow", "aria-haspopup": !0, "aria-expanded": e.to("isOn", function (t) { return String(t); }) } }), t.bind("isEnabled").to(this), t.delegate("execute").to(this, "open"), t; };
                            return ik;
                        }(Vl));
                        n(215);
                        var ok = /** @class */ (function (_super) {
                            __extends(ok, _super);
                            function ok() {
                                return _super !== null && _super.apply(this, arguments) || this;
                            }
                            Object.defineProperty(ok.prototype, "localizedOptionTitles", {
                                get: function () { var t = this.editor.t; return { "Yellow marker": t("bd"), "Green marker": t("be"), "Pink marker": t("bf"), "Blue marker": t("bg"), "Red pen": t("bh"), "Green pen": t("bi") }; },
                                enumerable: true,
                                configurable: true
                            });
                            Object.defineProperty(ok, "pluginName", {
                                get: function () { return "HighlightUI"; },
                                enumerable: true,
                                configurable: true
                            });
                            ok.prototype.init = function () {
                                var e_747, _j;
                                var t = this.editor.config.get("highlight.options");
                                try {
                                    for (var t_399 = __values(t), t_399_1 = t_399.next(); !t_399_1.done; t_399_1 = t_399.next()) {
                                        var e_748 = t_399_1.value;
                                        this._addHighlighterButton(e_748);
                                    }
                                }
                                catch (e_747_1) { e_747 = { error: e_747_1 }; }
                                finally {
                                    try {
                                        if (t_399_1 && !t_399_1.done && (_j = t_399.return)) _j.call(t_399);
                                    }
                                    finally { if (e_747) throw e_747.error; }
                                }
                                this._addRemoveHighlightButton(), this._addDropdown(t);
                            };
                            ok.prototype._addRemoveHighlightButton = function () { var t = this.editor.t; this._addButton("removeHighlight", t("bj"), Ib.a); };
                            ok.prototype._addHighlighterButton = function (t) { var e = this.editor.commands.get("highlight"); this._addButton("highlight:" + t.model, t.title, rk(t.type), t.model, function (n) { n.bind("isEnabled").to(e, "isEnabled"), n.bind("isOn").to(e, "value", function (e) { return e === t.model; }), n.iconView.fillColor = t.color, n.isToggleable = !0; }); };
                            ok.prototype._addButton = function (t, e, n, i, o) {
                                var _this = this;
                                if (o === void 0) { o = (function () { }); }
                                var r = this.editor;
                                r.ui.componentFactory.add(t, function (t) { var s = new ad(t), a = _this.localizedOptionTitles[e] ? _this.localizedOptionTitles[e] : e; return s.set({ label: a, icon: n, tooltip: !0 }), s.on("execute", function () { r.execute("highlight", { value: i }), r.editing.view.focus(); }), o(s), s; });
                            };
                            ok.prototype._addDropdown = function (t) {
                                var _this = this;
                                var e = this.editor, n = e.t, i = e.ui.componentFactory, o = t[0], r = t.reduce(function (t, e) { return (t[e.model] = e, t); }, {});
                                i.add("highlight", function (s) { var a = e.commands.get("highlight"), c = gd(s, ik), l = c.buttonView; l.set({ tooltip: n("bk"), lastExecuted: o.model, commandValue: o.model, isToggleable: !0 }), l.bind("icon").to(a, "value", function (t) { return rk(u(t, "type")); }), l.bind("color").to(a, "value", function (t) { return u(t, "color"); }), l.bind("commandValue").to(a, "value", function (t) { return u(t, "model"); }), l.bind("isOn").to(a, "value", function (t) { return !!t; }), l.delegate("execute").to(c); var d = t.map(function (t) { var e = i.create("highlight:" + t.model); return _this.listenTo(e, "execute", function () { return c.buttonView.set({ lastExecuted: t.model }); }), e; }); function u(t, e) { var n = t && t !== l.lastExecuted ? t : l.lastExecuted; return r[n][e]; } return c.bind("isEnabled").toMany(d, "isEnabled", function () {
                                    var t = [];
                                    for (var _j = 0; _j < arguments.length; _j++) {
                                        t[_j] = arguments[_j];
                                    }
                                    return t.some(function (t) { return t; });
                                }), d.push(new Kl), d.push(i.create("removeHighlight")), xd(c, d), function (t) { t.buttonView.actionView.iconView.bind("fillColor").to(t.buttonView, "color"); }(c), c.toolbarView.ariaLabel = n("bl"), l.on("execute", function () { e.execute("highlight", { value: l.commandValue }), e.editing.view.focus(); }), c; });
                            };
                            return ok;
                        }(Sd));
                        function rk(t) { return "marker" === t ? tk.a : nk.a; }
                        var sk = n(114), ak = n.n(sk);
                        var ck = "removeFormat";
                        var lk = /** @class */ (function (_super) {
                            __extends(lk, _super);
                            function lk() {
                                return _super !== null && _super.apply(this, arguments) || this;
                            }
                            Object.defineProperty(lk, "pluginName", {
                                get: function () { return "RemoveFormatUI"; },
                                enumerable: true,
                                configurable: true
                            });
                            lk.prototype.init = function () {
                                var _this = this;
                                var t = this.editor, e = t.t;
                                t.ui.componentFactory.add(ck, function (n) { var i = t.commands.get(ck), o = new ad(n); return o.set({ label: e("az"), icon: ak.a, tooltip: !0 }), o.bind("isOn", "isEnabled").to(i, "value", "isEnabled"), _this.listenTo(o, "execute", function () { return t.execute(ck); }), o; });
                            };
                            return lk;
                        }(Sd));
                        var dk = /** @class */ (function (_super) {
                            __extends(dk, _super);
                            function dk() {
                                return _super !== null && _super.apply(this, arguments) || this;
                            }
                            dk.prototype.refresh = function () { var t = this.editor.model; this.isEnabled = !!ih(this._getFormattingItems(t.document.selection, t.schema)); };
                            dk.prototype.execute = function () {
                                var _this = this;
                                var t = this.editor.model, e = t.schema;
                                t.change(function (n) {
                                    var e_749, _j, e_750, _q, e_751, _z;
                                    try {
                                        for (var _0 = __values(_this._getFormattingItems(t.document.selection, e)), _1 = _0.next(); !_1.done; _1 = _0.next()) {
                                            var i_203 = _1.value;
                                            if (i_203.is("selection"))
                                                try {
                                                    for (var _2 = __values(_this._getFormattingAttributes(i_203, e)), _3 = _2.next(); !_3.done; _3 = _2.next()) {
                                                        var t_400 = _3.value;
                                                        n.removeSelectionAttribute(t_400);
                                                    }
                                                }
                                                catch (e_750_1) { e_750 = { error: e_750_1 }; }
                                                finally {
                                                    try {
                                                        if (_3 && !_3.done && (_q = _2.return)) _q.call(_2);
                                                    }
                                                    finally { if (e_750) throw e_750.error; }
                                                }
                                            else {
                                                var t_401 = n.createRangeOn(i_203);
                                                try {
                                                    for (var _4 = __values(_this._getFormattingAttributes(i_203, e)), _5 = _4.next(); !_5.done; _5 = _4.next()) {
                                                        var o_125 = _5.value;
                                                        n.removeAttribute(o_125, t_401);
                                                    }
                                                }
                                                catch (e_751_1) { e_751 = { error: e_751_1 }; }
                                                finally {
                                                    try {
                                                        if (_5 && !_5.done && (_z = _4.return)) _z.call(_4);
                                                    }
                                                    finally { if (e_751) throw e_751.error; }
                                                }
                                            }
                                        }
                                    }
                                    catch (e_749_1) { e_749 = { error: e_749_1 }; }
                                    finally {
                                        try {
                                            if (_1 && !_1.done && (_j = _0.return)) _j.call(_0);
                                        }
                                        finally { if (e_749) throw e_749.error; }
                                    }
                                });
                            };
                            dk.prototype._getFormattingItems = function (t, e) {
                                var e_752, _j, e_753, _q, n, _z, _0, e_754, _1, _2, t_402, _3, e_753_1, e_752_1, _4;
                                var _this = this;
                                return __generator(this, function (_5) {
                                    switch (_5.label) {
                                        case 0:
                                            n = function (t) { return !!ih(_this._getFormattingAttributes(t, e)); };
                                            _5.label = 1;
                                        case 1:
                                            _5.trys.push([1, 13, 14, 15]);
                                            _z = __values(t.getRanges()), _0 = _z.next();
                                            _5.label = 2;
                                        case 2:
                                            if (!!_0.done) return [3 /*break*/, 12];
                                            e_754 = _0.value;
                                            _5.label = 3;
                                        case 3:
                                            _5.trys.push([3, 9, 10, 11]);
                                            _1 = __values(e_754.getItems()), _2 = _1.next();
                                            _5.label = 4;
                                        case 4:
                                            if (!!_2.done) return [3 /*break*/, 8];
                                            t_402 = _2.value;
                                            _3 = n(t_402);
                                            if (!_3) return [3 /*break*/, 6];
                                            return [4 /*yield*/, t_402];
                                        case 5:
                                            _3 = (_5.sent());
                                            _5.label = 6;
                                        case 6:
                                            _3;
                                            _5.label = 7;
                                        case 7:
                                            _2 = _1.next();
                                            return [3 /*break*/, 4];
                                        case 8: return [3 /*break*/, 11];
                                        case 9:
                                            e_753_1 = _5.sent();
                                            e_753 = { error: e_753_1 };
                                            return [3 /*break*/, 11];
                                        case 10:
                                            try {
                                                if (_2 && !_2.done && (_q = _1.return)) _q.call(_1);
                                            }
                                            finally { if (e_753) throw e_753.error; }
                                            return [7 /*endfinally*/];
                                        case 11:
                                            _0 = _z.next();
                                            return [3 /*break*/, 2];
                                        case 12: return [3 /*break*/, 15];
                                        case 13:
                                            e_752_1 = _5.sent();
                                            e_752 = { error: e_752_1 };
                                            return [3 /*break*/, 15];
                                        case 14:
                                            try {
                                                if (_0 && !_0.done && (_j = _z.return)) _j.call(_z);
                                            }
                                            finally { if (e_752) throw e_752.error; }
                                            return [7 /*endfinally*/];
                                        case 15:
                                            _4 = n(t);
                                            if (!_4) return [3 /*break*/, 17];
                                            return [4 /*yield*/, t];
                                        case 16:
                                            _4 = (_5.sent());
                                            _5.label = 17;
                                        case 17:
                                            _4;
                                            return [2 /*return*/];
                                    }
                                });
                            };
                            dk.prototype._getFormattingAttributes = function (t, e) {
                                var e_755, _j, _q, _z, _0, n_307, t_403, _1, e_755_1;
                                return __generator(this, function (_2) {
                                    switch (_2.label) {
                                        case 0:
                                            _2.trys.push([0, 6, 7, 8]);
                                            _q = __values(t.getAttributes()), _z = _q.next();
                                            _2.label = 1;
                                        case 1:
                                            if (!!_z.done) return [3 /*break*/, 5];
                                            _0 = __read(_z.value, 1), n_307 = _0[0];
                                            t_403 = e.getAttributeProperties(n_307);
                                            _1 = t_403 && t_403.isFormatting;
                                            if (!_1) return [3 /*break*/, 3];
                                            return [4 /*yield*/, n_307];
                                        case 2:
                                            _1 = (_2.sent());
                                            _2.label = 3;
                                        case 3:
                                            _1;
                                            _2.label = 4;
                                        case 4:
                                            _z = _q.next();
                                            return [3 /*break*/, 1];
                                        case 5: return [3 /*break*/, 8];
                                        case 6:
                                            e_755_1 = _2.sent();
                                            e_755 = { error: e_755_1 };
                                            return [3 /*break*/, 8];
                                        case 7:
                                            try {
                                                if (_z && !_z.done && (_j = _q.return)) _j.call(_q);
                                            }
                                            finally { if (e_755) throw e_755.error; }
                                            return [7 /*endfinally*/];
                                        case 8: return [2 /*return*/];
                                    }
                                });
                            };
                            return dk;
                        }(Md));
                        var uk = /** @class */ (function (_super) {
                            __extends(uk, _super);
                            function uk() {
                                return _super !== null && _super.apply(this, arguments) || this;
                            }
                            Object.defineProperty(uk, "pluginName", {
                                get: function () { return "RemoveFormatEditing"; },
                                enumerable: true,
                                configurable: true
                            });
                            uk.prototype.init = function () { var t = this.editor; t.commands.add("removeFormat", new dk(t)); };
                            return uk;
                        }(Sd));
                        var hk = "strikethrough";
                        var fk = /** @class */ (function (_super) {
                            __extends(fk, _super);
                            function fk() {
                                return _super !== null && _super.apply(this, arguments) || this;
                            }
                            Object.defineProperty(fk, "pluginName", {
                                get: function () { return "StrikethroughEditing"; },
                                enumerable: true,
                                configurable: true
                            });
                            fk.prototype.init = function () { var t = this.editor; t.model.schema.extend("$text", { allowAttributes: hk }), t.model.schema.setAttributeProperties(hk, { isFormatting: !0, copyOnEnter: !0 }), t.conversion.attributeToElement({ model: hk, view: "s", upcastAlso: ["del", "strike", { styles: { "text-decoration": "line-through" } }] }), t.commands.add(hk, new Uu(t, hk)), t.keystrokes.set("CTRL+SHIFT+X", "strikethrough"); };
                            return fk;
                        }(Sd));
                        var pk = n(115), mk = n.n(pk);
                        var gk = "strikethrough";
                        var xk = /** @class */ (function (_super) {
                            __extends(xk, _super);
                            function xk() {
                                return _super !== null && _super.apply(this, arguments) || this;
                            }
                            xk.prototype.init = function () {
                                var _this = this;
                                var t = this.editor, e = t.t;
                                t.ui.componentFactory.add(gk, function (n) { var i = t.commands.get(gk), o = new ad(n); return o.set({ label: e("f"), icon: mk.a, keystroke: "CTRL+SHIFT+X", tooltip: !0, isToggleable: !0 }), o.bind("isOn", "isEnabled").to(i, "value", "isEnabled"), _this.listenTo(o, "execute", function () { return t.execute(gk); }), o; });
                            };
                            return xk;
                        }(Sd));
                        var bk = "underline";
                        var kk = /** @class */ (function (_super) {
                            __extends(kk, _super);
                            function kk() {
                                return _super !== null && _super.apply(this, arguments) || this;
                            }
                            Object.defineProperty(kk, "pluginName", {
                                get: function () { return "UnderlineEditing"; },
                                enumerable: true,
                                configurable: true
                            });
                            kk.prototype.init = function () { var t = this.editor; t.model.schema.extend("$text", { allowAttributes: bk }), t.model.schema.setAttributeProperties(bk, { isFormatting: !0, copyOnEnter: !0 }), t.conversion.attributeToElement({ model: bk, view: "u", upcastAlso: { styles: { "text-decoration": "underline" } } }), t.commands.add(bk, new Uu(t, bk)), t.keystrokes.set("CTRL+U", "underline"); };
                            return kk;
                        }(Sd));
                        var wk = n(116), vk = n.n(wk);
                        var yk = "underline";
                        var _k = /** @class */ (function (_super) {
                            __extends(_k, _super);
                            function _k() {
                                return _super !== null && _super.apply(this, arguments) || this;
                            }
                            _k.prototype.init = function () {
                                var _this = this;
                                var t = this.editor, e = t.t;
                                t.ui.componentFactory.add(yk, function (n) { var i = t.commands.get(yk), o = new ad(n); return o.set({ label: e("g"), icon: vk.a, keystroke: "CTRL+U", tooltip: !0, isToggleable: !0 }), o.bind("isOn", "isEnabled").to(i, "value", "isEnabled"), _this.listenTo(o, "execute", function () { return t.execute(yk); }), o; });
                            };
                            return _k;
                        }(Sd));
                        var Ck = n(117), Tk = n.n(Ck), Ak = n(118), Sk = n.n(Ak), Ek = /\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/, Pk = /^\w*$/;
                        var Ik = function (t, e) { if (Wt(t))
                            return !1; var n = typeof t; return !("number" != n && "symbol" != n && "boolean" != n && null != t && !ss(t)) || Pk.test(t) || !Ek.test(t) || null != e && t in Object(e); }, Nk = "Expected a function";
                        function Mk(t, e) { if ("function" != typeof t || null != e && "function" != typeof e)
                            throw new TypeError(Nk); var n = function () { var i = arguments, o = e ? e.apply(this, i) : i[0], r = n.cache; if (r.has(o))
                            return r.get(o); var s = t.apply(this, i); return n.cache = r.set(o, s) || r, s; }; return n.cache = new (Mk.Cache || Et), n; }
                        Mk.Cache = Et;
                        var Ok = Mk, Rk = 500;
                        var Dk = /[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g, jk = /\\(\\)?/g, Bk = function (t) { var e = Ok(t, function (t) { return n.size === Rk && n.clear(), t; }), n = e.cache; return e; }(function (t) { var e = []; return 46 === t.charCodeAt(0) && e.push(""), t.replace(Dk, function (t, n, i, o) { e.push(i ? o.replace(jk, "$1") : n || t); }), e; });
                        var Lk = function (t, e) { return Wt(t) ? t : Ik(t, e) ? [t] : Bk(uf(t)); }, Vk = 1 / 0;
                        var Fk = function (t) { if ("string" == typeof t || ss(t))
                            return t; var e = t + ""; return "0" == e && 1 / t == -Vk ? "-0" : e; };
                        var zk = function (t, e) { for (var n = 0, i = (e = Lk(e, t)).length; null != t && n < i;)
                            t = t[Fk(e[n++])]; return n && n == i ? t : void 0; };
                        var Uk = function (t, e, n) { var i = null == t ? void 0 : zk(t, e); return void 0 === i ? n : i; };
                        var Hk = /** @class */ (function () {
                            function Hk() {
                            }
                            Object.defineProperty(Hk, "DESCRIPTOR_NAME", {
                                get: function () { throw new Error("Must be implemented in child class!"); },
                                enumerable: true,
                                configurable: true
                            });
                            Object.defineProperty(Hk, "DESCRIPTOR", {
                                get: function () { throw new Error("Must be implemented in child class!"); },
                                enumerable: true,
                                configurable: true
                            });
                            return Hk;
                        }());
                        var qk = /** @class */ (function (_super) {
                            __extends(qk, _super);
                            function qk() {
                                return _super !== null && _super.apply(this, arguments) || this;
                            }
                            qk.prototype.toJSON = function () { throw new Error("Must be implemented in child class!"); };
                            Object.defineProperty(qk, "TYPE", {
                                get: function () { return 1e3; },
                                enumerable: true,
                                configurable: true
                            });
                            qk.fromJSON = function () { throw new Error("Must be implemented in child class!"); };
                            return qk;
                        }(Hk));
                        var Yk = /** @class */ (function (_super) {
                            __extends(Yk, _super);
                            function Yk(t, e, n) {
                                if (n === void 0) { n = []; }
                                var _this = this;
                                _this = _super.call(this) || this, _this.type = t, _this.socketId = e, _this.data = n;
                                return _this;
                            }
                            Yk.prototype.toJSON = function () { return { type: this.type, socketId: this.socketId, data: this.data }; };
                            Object.defineProperty(Yk, "DESCRIPTOR_NAME", {
                                get: function () { return "ChannelMessage"; },
                                enumerable: true,
                                configurable: true
                            });
                            Object.defineProperty(Yk, "DESCRIPTOR", {
                                get: function () { return { fields: { type: { type: "uint32", id: 1 }, socketId: { type: "string", id: 2 }, data: { type: "bytes", id: 3 } } }; },
                                enumerable: true,
                                configurable: true
                            });
                            Yk.fromJSON = function (t) { return new Yk(t.type, t.socketId, t.data); };
                            return Yk;
                        }(qk));
                        var Wk = n(30), Jk = n.n(Wk);
                        var $k = [/** @class */ (function (_super) {
                                __extends(class_1, _super);
                                function class_1() {
                                    return _super !== null && _super.apply(this, arguments) || this;
                                }
                                Object.defineProperty(class_1, "DESCRIPTOR_NAME", {
                                    get: function () { return "KeyValueDescriptor"; },
                                    enumerable: true,
                                    configurable: true
                                });
                                Object.defineProperty(class_1, "DESCRIPTOR", {
                                    get: function () { return { fields: { key: { type: "string", id: 1 }, value: { type: "string", id: 2 } } }; },
                                    enumerable: true,
                                    configurable: true
                                });
                                return class_1;
                            }(Hk)), /** @class */ (function (_super) {
                                __extends(class_2, _super);
                                function class_2() {
                                    return _super !== null && _super.apply(this, arguments) || this;
                                }
                                Object.defineProperty(class_2, "DESCRIPTOR_NAME", {
                                    get: function () { return "SessionsSocketDescriptor"; },
                                    enumerable: true,
                                    configurable: true
                                });
                                Object.defineProperty(class_2, "DESCRIPTOR", {
                                    get: function () { return { fields: { session: { type: "string", id: 1 }, user: { type: "string", id: 2 }, role: { id: 3, type: "string" } } }; },
                                    enumerable: true,
                                    configurable: true
                                });
                                return class_2;
                            }(Hk)), /** @class */ (function (_super) {
                                __extends(class_3, _super);
                                function class_3() {
                                    return _super !== null && _super.apply(this, arguments) || this;
                                }
                                Object.defineProperty(class_3, "DESCRIPTOR_NAME", {
                                    get: function () { return "OperationMetadataDescriptor"; },
                                    enumerable: true,
                                    configurable: true
                                });
                                Object.defineProperty(class_3, "DESCRIPTOR", {
                                    get: function () { return { fields: { userId: { type: "string", id: 1 }, type: { type: "string", id: 2, rule: "optional" } } }; },
                                    enumerable: true,
                                    configurable: true
                                });
                                return class_3;
                            }(Hk))], Gk = Wk.Root.fromJSON(function (t) { return { nested: t.reduce(function (t, e) { return (t[e.DESCRIPTOR_NAME] = e.DESCRIPTOR, t); }, {}) }; }($k));
                        var Kk = /** @class */ (function () {
                            function Kk() {
                            }
                            Kk.decode = function (t, e) { var n = Qk(e).decode("undefined" == typeof window ? t : new Uint8Array(t)); return e.fromJSON(n); };
                            Kk.encode = function (t) { var e = Qk(t.constructor), n = t.toJSON(), i = e.verify(n); if (i)
                                throw Error(i); return e.encode(e.create(n)).finish(); };
                            return Kk;
                        }());
                        function Qk(t) { return function (t) {
                            var _j;
                            Gk.lookup(t.DESCRIPTOR_NAME) || Gk.addJSON((_j = {}, _j[t.DESCRIPTOR_NAME] = t.DESCRIPTOR, _j));
                        }(t), Gk.lookupType(t.DESCRIPTOR_NAME); }
                        var Zk = /** @class */ (function () {
                            function Zk(t, e, n) {
                                var _this = this;
                                this._channelName = t, this._socket = n, n.on(this._channelName, function (t) { var n = Kk.decode(t, Yk); _this.fire(_this.getEventName(n.type, !0), n.data, n.socketId), n.socketId !== e.sessionId && _this.fire(_this.getEventName(n.type), n.data, n.socketId); });
                            }
                            Zk.prototype.remove = function () { this._socket.off(this._channelName); };
                            Zk.prototype.getEventName = function (t, e) {
                                if (e === void 0) { e = !1; }
                                var n = "";
                                return e && (n += "all:"), n += "event", t && (n += ":" + t), n;
                            };
                            return Zk;
                        }());
                        li(Zk, ni);
                        var Xk = Zk;
                        var tw = /** @class */ (function (_super) {
                            __extends(tw, _super);
                            function tw(t) {
                                var _this = this;
                                _this = _super.call(this) || this, _this.id = t;
                                return _this;
                            }
                            tw.prototype.toJSON = function () { return { id: this.id }; };
                            Object.defineProperty(tw, "TYPE", {
                                get: function () { return 21; },
                                enumerable: true,
                                configurable: true
                            });
                            Object.defineProperty(tw, "DESCRIPTOR_NAME", {
                                get: function () { return "GetUserMessage"; },
                                enumerable: true,
                                configurable: true
                            });
                            Object.defineProperty(tw, "DESCRIPTOR", {
                                get: function () { return { fields: { id: { type: "string", id: 1 } } }; },
                                enumerable: true,
                                configurable: true
                            });
                            tw.fromJSON = function (t) { return new tw(t.id); };
                            return tw;
                        }(qk));
                        var ew = /** @class */ (function (_super) {
                            __extends(ew, _super);
                            function ew(t) {
                                var _this = this;
                                _this = _super.call(this) || this, _this.attributes = t;
                                return _this;
                            }
                            ew.prototype.toJSON = function () {
                                var _this = this;
                                return { attributes: Object.keys(this.attributes).map(function (t) { return ({ key: t, value: JSON.stringify(_this.attributes[t]) }); }) };
                            };
                            Object.defineProperty(ew, "DESCRIPTOR_NAME", {
                                get: function () { return "GetUserResponse"; },
                                enumerable: true,
                                configurable: true
                            });
                            Object.defineProperty(ew, "DESCRIPTOR", {
                                get: function () { return { fields: { attributes: { rule: "repeated", type: "KeyValueDescriptor", id: 1 } } }; },
                                enumerable: true,
                                configurable: true
                            });
                            ew.fromJSON = function (t) { var e = t.attributes.reduce(function (t, e) { return (t[e.key] = e.value ? JSON.parse(e.value) : null, t); }, {}); return new ew(e); };
                            return ew;
                        }(qk));
                        var nw = /** @class */ (function () {
                            function nw(t) {
                                var _this = this;
                                var e_756, _j;
                                if (t === void 0) { t = {}; }
                                this._attributes = new Map;
                                var _loop_12 = function (e_757) {
                                    this_4._attributes.set(e_757, t[e_757]), Object.defineProperty(this_4, e_757, { enumerable: !0, configurable: !1, get: function () { return _this._attributes.get(e_757); } });
                                };
                                var this_4 = this;
                                try {
                                    for (var _q = __values(Object.keys(t)), _z = _q.next(); !_z.done; _z = _q.next()) {
                                        var e_757 = _z.value;
                                        _loop_12(e_757);
                                    }
                                }
                                catch (e_756_1) { e_756 = { error: e_756_1 }; }
                                finally {
                                    try {
                                        if (_z && !_z.done && (_j = _q.return)) _j.call(_q);
                                    }
                                    finally { if (e_756) throw e_756.error; }
                                }
                            }
                            nw.fromData = function (t) { return new nw(t); };
                            nw.get = function (t, e) {
                                return __awaiter(this, void 0, void 0, function () { var n, i_204, o_126, t_404; return __generator(this, function (_j) {
                                    switch (_j.label) {
                                        case 0:
                                            n = new tw(e);
                                            _j.label = 1;
                                        case 1:
                                            _j.trys.push([1, 3, , 4]);
                                            return [4 /*yield*/, t._sendRequest(nw._SERVICE, tw.TYPE, Kk.encode(n))];
                                        case 2:
                                            i_204 = _j.sent(), o_126 = Kk.decode(i_204, ew);
                                            return [2 /*return*/, new nw(o_126.attributes)];
                                        case 3:
                                            t_404 = _j.sent();
                                            return [2 /*return*/, new nw({ id: e })];
                                        case 4: return [2 /*return*/];
                                    }
                                }); });
                            };
                            Object.defineProperty(nw, "_SERVICE", {
                                get: function () { return 2; },
                                enumerable: true,
                                configurable: true
                            });
                            return nw;
                        }());
                        var iw = "6.0.1";
                        var ow = /** @class */ (function (_super) {
                            __extends(ow, _super);
                            function ow(t, e, n, i) {
                                if (n === void 0) { n = null; }
                                if (i === void 0) { i = {}; }
                                var _this = this;
                                _this = _super.call(this, "cloud-services-internal-error: " + t, e, i) || this, _this.code = n;
                                return _this;
                            }
                            ow.fromPublicError = function (t, e) { var n = t.message, _j = t.traceId, i = _j === void 0 ? "" : _j, _q = t.data, o = _q === void 0 ? {} : _q, _z = t.code, r = _z === void 0 ? null : _z; return new ow(n + " " + (i ? "Error Trace id: " + i + "." : ""), e, r, o); };
                            return ow;
                        }(Gn.b));
                        var rw = n(50);
                        var sw = /** @class */ (function (_super) {
                            __extends(sw, _super);
                            function sw(t, e, n) {
                                var _this = this;
                                _this = _super.call(this) || this, _this.flags = t, _this.rooms = e || [], _this.except = n || [];
                                return _this;
                            }
                            sw.prototype.toJSON = function () { return { flags: this.flags ? JSON.stringify(this.flags) : void 0, rooms: this.rooms && this.rooms.length ? this.rooms : void 0, except: this.except && this.except.length ? this.except : void 0 }; };
                            Object.defineProperty(sw, "TYPE", {
                                get: function () { return 11; },
                                enumerable: true,
                                configurable: true
                            });
                            Object.defineProperty(sw, "DESCRIPTOR_NAME", {
                                get: function () { return "PacketOptionsMessage"; },
                                enumerable: true,
                                configurable: true
                            });
                            Object.defineProperty(sw, "DESCRIPTOR", {
                                get: function () { return { fields: { flags: { type: "string", id: 1 }, rooms: { type: "string", id: 2, rule: "repeated" }, except: { type: "string", id: 3, rule: "repeated" } } }; },
                                enumerable: true,
                                configurable: true
                            });
                            sw.fromJSON = function (t) { return new sw(t.flags && JSON.parse(t.flags), t.rooms, t.except); };
                            return sw;
                        }(qk));
                        var aw = n(2);
                        var cw = /** @class */ (function (_super) {
                            __extends(cw, _super);
                            function cw(t, e) {
                                var _this = this;
                                _this = _super.call(this) || this, _this.data = t, _this.data1 = e;
                                return _this;
                            }
                            cw.prototype.toJSON = function () { return { data: this.data, data1: this.data1 }; };
                            Object.defineProperty(cw, "TYPE", {
                                get: function () { return aw.a.getPacketType(aw.a.TYPES.NUMBER, aw.a.TYPES.BUFFER); },
                                enumerable: true,
                                configurable: true
                            });
                            Object.defineProperty(cw, "DESCRIPTOR_NAME", {
                                get: function () { return "NumberBytesPacketDataMessage"; },
                                enumerable: true,
                                configurable: true
                            });
                            Object.defineProperty(cw, "DESCRIPTOR", {
                                get: function () { return { fields: { data: { type: "uint32", id: 1 }, data1: { type: "bytes", id: 2 } } }; },
                                enumerable: true,
                                configurable: true
                            });
                            cw.fromJSON = function (t) { return new cw(t.data, t.data1); };
                            cw.create = function (t, e) { return new cw(t, e); };
                            return cw;
                        }(qk));
                        var lw = /** @class */ (function (_super) {
                            __extends(lw, _super);
                            function lw(t, e) {
                                var _this = this;
                                _this = _super.call(this) || this, _this.data = t, _this.data1 = e;
                                return _this;
                            }
                            lw.prototype.toJSON = function () { return { data: this.data, data1: this.data1 }; };
                            Object.defineProperty(lw, "TYPE", {
                                get: function () { return aw.a.getPacketType(aw.a.TYPES.STRING, aw.a.TYPES.BUFFER); },
                                enumerable: true,
                                configurable: true
                            });
                            Object.defineProperty(lw, "DESCRIPTOR_NAME", {
                                get: function () { return "StringBytesPacketDataMessage"; },
                                enumerable: true,
                                configurable: true
                            });
                            Object.defineProperty(lw, "DESCRIPTOR", {
                                get: function () { return { fields: { data: { type: "string", id: 1 }, data1: { type: "bytes", id: 2 } } }; },
                                enumerable: true,
                                configurable: true
                            });
                            lw.fromJSON = function (t) { return new lw(t.data, t.data1); };
                            lw.create = function (t, e) { return new lw(t, e); };
                            return lw;
                        }(qk));
                        var dw = /** @class */ (function (_super) {
                            __extends(dw, _super);
                            function dw(t, e) {
                                var _this = this;
                                _this = _super.call(this) || this, _this.data = t, _this.data1 = e;
                                return _this;
                            }
                            dw.prototype.toJSON = function () { return { data: this.data, data1: this.data1 }; };
                            Object.defineProperty(dw, "TYPE", {
                                get: function () { return aw.a.getPacketType(aw.a.TYPES.BUFFER, aw.a.TYPES.BUFFER); },
                                enumerable: true,
                                configurable: true
                            });
                            Object.defineProperty(dw, "DESCRIPTOR_NAME", {
                                get: function () { return "BytesBytesPacketDataMessage"; },
                                enumerable: true,
                                configurable: true
                            });
                            Object.defineProperty(dw, "DESCRIPTOR", {
                                get: function () { return { fields: { data: { type: "bytes", id: 1 }, data1: { type: "bytes", id: 2 } } }; },
                                enumerable: true,
                                configurable: true
                            });
                            dw.fromJSON = function (t) { return new dw(t.data, t.data1); };
                            dw.create = function (t, e) { return new dw(t, e); };
                            return dw;
                        }(qk));
                        var uw = /** @class */ (function (_super) {
                            __extends(uw, _super);
                            function uw(t, e) {
                                var _this = this;
                                _this = _super.call(this) || this, _this.data = t, _this.data1 = e;
                                return _this;
                            }
                            uw.prototype.toJSON = function () { return { data: this.data, data1: this.data1 ? JSON.stringify(this.data1) : void 0 }; };
                            Object.defineProperty(uw, "TYPE", {
                                get: function () { return aw.a.getPacketType(aw.a.TYPES.STRING, aw.a.TYPES.OBJECT); },
                                enumerable: true,
                                configurable: true
                            });
                            Object.defineProperty(uw, "DESCRIPTOR_NAME", {
                                get: function () { return "StringObjectPacketDataMessage"; },
                                enumerable: true,
                                configurable: true
                            });
                            Object.defineProperty(uw, "DESCRIPTOR", {
                                get: function () { return { fields: { data: { type: "string", id: 1 }, data1: { type: "string", id: 2 } } }; },
                                enumerable: true,
                                configurable: true
                            });
                            uw.fromJSON = function (t) { return new uw(t.data, t.data1 && JSON.parse(t.data1)); };
                            uw.create = function (t, e) { return new uw(t, e); };
                            return uw;
                        }(qk));
                        var hw = /** @class */ (function (_super) {
                            __extends(hw, _super);
                            function hw(t, e) {
                                var _this = this;
                                _this = _super.call(this) || this, _this.data = t, _this.data1 = e;
                                return _this;
                            }
                            hw.prototype.toJSON = function () { return { data: this.data, data1: this.data1 ? JSON.stringify(this.data1) : void 0 }; };
                            Object.defineProperty(hw, "TYPE", {
                                get: function () { return aw.a.getPacketType(aw.a.TYPES.NUMBER, aw.a.TYPES.OBJECT); },
                                enumerable: true,
                                configurable: true
                            });
                            Object.defineProperty(hw, "DESCRIPTOR_NAME", {
                                get: function () { return "NumberObjectPacketDataMessage"; },
                                enumerable: true,
                                configurable: true
                            });
                            Object.defineProperty(hw, "DESCRIPTOR", {
                                get: function () { return { fields: { data: { type: "uint32", id: 1 }, data1: { type: "string", id: 2 } } }; },
                                enumerable: true,
                                configurable: true
                            });
                            hw.fromJSON = function (t) { return new hw(t.data, t.data1 && JSON.parse(t.data1)); };
                            hw.create = function (t, e) { return new hw(t, e); };
                            return hw;
                        }(qk));
                        var fw = /** @class */ (function (_super) {
                            __extends(fw, _super);
                            function fw(t, e) {
                                var _this = this;
                                _this = _super.call(this) || this, _this.data = t, _this.data1 = e;
                                return _this;
                            }
                            fw.prototype.toJSON = function () { return { data: this.data ? JSON.stringify(this.data) : void 0, data1: this.data1 ? JSON.stringify(this.data1) : void 0 }; };
                            Object.defineProperty(fw, "TYPE", {
                                get: function () { return aw.a.getPacketType(aw.a.TYPES.OBJECT, aw.a.TYPES.OBJECT); },
                                enumerable: true,
                                configurable: true
                            });
                            Object.defineProperty(fw, "DESCRIPTOR_NAME", {
                                get: function () { return "ObjectObjectPacketDataMessage"; },
                                enumerable: true,
                                configurable: true
                            });
                            Object.defineProperty(fw, "DESCRIPTOR", {
                                get: function () { return { fields: { data: { type: "string", id: 1 }, data1: { type: "string", id: 2 } } }; },
                                enumerable: true,
                                configurable: true
                            });
                            fw.fromJSON = function (t) { return new fw(t.data && JSON.parse(t.data), t.data1 && JSON.parse(t.data1)); };
                            fw.create = function (t, e) { return new fw(t, e); };
                            return fw;
                        }(qk));
                        var pw = /** @class */ (function (_super) {
                            __extends(pw, _super);
                            function pw(t, e) {
                                var _this = this;
                                _this = _super.call(this) || this, _this.data = t, _this.data1 = e;
                                return _this;
                            }
                            pw.prototype.toJSON = function () { return { data: this.data ? JSON.stringify(this.data) : void 0, data1: this.data1 }; };
                            Object.defineProperty(pw, "TYPE", {
                                get: function () { return aw.a.getPacketType(aw.a.TYPES.OBJECT, aw.a.TYPES.BUFFER); },
                                enumerable: true,
                                configurable: true
                            });
                            Object.defineProperty(pw, "DESCRIPTOR_NAME", {
                                get: function () { return "ObjectBufferPacketDataMessage"; },
                                enumerable: true,
                                configurable: true
                            });
                            Object.defineProperty(pw, "DESCRIPTOR", {
                                get: function () { return { fields: { data: { type: "string", id: 1 }, data1: { type: "bytes", id: 2 } } }; },
                                enumerable: true,
                                configurable: true
                            });
                            pw.fromJSON = function (t) { return new pw(t.data && JSON.parse(t.data), t.data1); };
                            pw.create = function (t, e) { return new pw(t, e); };
                            return pw;
                        }(qk));
                        var mw = /** @class */ (function (_super) {
                            __extends(mw, _super);
                            function mw(t, e) {
                                var _this = this;
                                _this = _super.call(this) || this, _this.data = t, _this.data1 = e;
                                return _this;
                            }
                            mw.prototype.toJSON = function () { return { data: this.data, data1: this.data1 }; };
                            Object.defineProperty(mw, "TYPE", {
                                get: function () { return aw.a.getPacketType(aw.a.TYPES.STRING, aw.a.TYPES.STRING); },
                                enumerable: true,
                                configurable: true
                            });
                            Object.defineProperty(mw, "DESCRIPTOR_NAME", {
                                get: function () { return "StringStringPacketDataMessage"; },
                                enumerable: true,
                                configurable: true
                            });
                            Object.defineProperty(mw, "DESCRIPTOR", {
                                get: function () { return { fields: { data: { type: "string", id: 1 }, data1: { type: "string", id: 2 } } }; },
                                enumerable: true,
                                configurable: true
                            });
                            mw.fromJSON = function (t) { return new mw(t.data, t.data1); };
                            mw.create = function (t, e) { return new mw(t, e); };
                            return mw;
                        }(qk));
                        var gw = /** @class */ (function (_super) {
                            __extends(gw, _super);
                            function gw(t, e) {
                                var _this = this;
                                _this = _super.call(this) || this, _this.data = t, _this.data1 = e;
                                return _this;
                            }
                            gw.prototype.toJSON = function () { return { data: this.data, data1: this.data1 }; };
                            Object.defineProperty(gw, "TYPE", {
                                get: function () { return aw.a.getPacketType(aw.a.TYPES.STRING, aw.a.TYPES.NUMBER); },
                                enumerable: true,
                                configurable: true
                            });
                            Object.defineProperty(gw, "DESCRIPTOR_NAME", {
                                get: function () { return "StringNumberPacketDataMessage"; },
                                enumerable: true,
                                configurable: true
                            });
                            Object.defineProperty(gw, "DESCRIPTOR", {
                                get: function () { return { fields: { data: { type: "string", id: 1 }, data1: { type: "uint32", id: 2 } } }; },
                                enumerable: true,
                                configurable: true
                            });
                            gw.fromJSON = function (t) { return new gw(t.data, t.data1); };
                            gw.create = function (t, e) { return new gw(t, e); };
                            return gw;
                        }(qk));
                        var xw = /** @class */ (function (_super) {
                            __extends(xw, _super);
                            function xw(t, e) {
                                var _this = this;
                                _this = _super.call(this) || this, _this.data = t, _this.data1 = e;
                                return _this;
                            }
                            xw.prototype.toJSON = function () { return { data: this.data, data1: this.data1 }; };
                            Object.defineProperty(xw, "TYPE", {
                                get: function () { return aw.a.getPacketType(aw.a.TYPES.NUMBER, aw.a.TYPES.NUMBER); },
                                enumerable: true,
                                configurable: true
                            });
                            Object.defineProperty(xw, "DESCRIPTOR_NAME", {
                                get: function () { return "NumberNumberPacketDataMessage"; },
                                enumerable: true,
                                configurable: true
                            });
                            Object.defineProperty(xw, "DESCRIPTOR", {
                                get: function () { return { fields: { data: { type: "uint32", id: 1 }, data1: { type: "uint32", id: 2 } } }; },
                                enumerable: true,
                                configurable: true
                            });
                            xw.fromJSON = function (t) { return new xw(t.data, t.data1); };
                            xw.create = function (t, e) { return new xw(t, e); };
                            return xw;
                        }(qk));
                        var bw = /** @class */ (function (_super) {
                            __extends(bw, _super);
                            function bw(t, e) {
                                var _this = this;
                                _this = _super.call(this) || this, _this.data = t, _this.data1 = e;
                                return _this;
                            }
                            bw.prototype.toJSON = function () { return { data: this.data, data1: this.data1 }; };
                            Object.defineProperty(bw, "TYPE", {
                                get: function () { return aw.a.getPacketType(aw.a.TYPES.NUMBER, aw.a.TYPES.STRING); },
                                enumerable: true,
                                configurable: true
                            });
                            Object.defineProperty(bw, "DESCRIPTOR_NAME", {
                                get: function () { return "NumberStringPacketDataMessage"; },
                                enumerable: true,
                                configurable: true
                            });
                            Object.defineProperty(bw, "DESCRIPTOR", {
                                get: function () { return { fields: { data: { type: "uint32", id: 1 }, data1: { type: "string", id: 2 } } }; },
                                enumerable: true,
                                configurable: true
                            });
                            bw.fromJSON = function (t) { return new bw(t.data, t.data1); };
                            bw.create = function (t, e) { return new bw(t, e); };
                            return bw;
                        }(qk));
                        var kw = [cw, lw, dw, uw, hw, fw, pw, mw, gw, xw, bw].reduce(function (t, e) { return (t[e.TYPE] = e, t); }, {});
                        var ww = /** @class */ (function (_super) {
                            __extends(ww, _super);
                            function ww(t, e, n, i, o) {
                                var _this = this;
                                _this = _super.call(this) || this, _this.type = t, _this.id = n, _this.nsp = i || "/", _this.data = e, _this.options = o;
                                return _this;
                            }
                            Object.defineProperty(ww.prototype, "packetData", {
                                get: function () { return [this.data.data, this.data.data1]; },
                                enumerable: true,
                                configurable: true
                            });
                            ww.prototype.toJSON = function () { var t = Kk.encode(this.options), e = Kk.encode(this.data); return { type: this.type + 10 * this.data.constructor.TYPE, id: this.id, nsp: "/" === this.nsp ? void 0 : this.nsp, data: e.length ? e : void 0, options: t.length ? t : void 0 }; };
                            Object.defineProperty(ww, "TYPE", {
                                get: function () { return 10; },
                                enumerable: true,
                                configurable: true
                            });
                            Object.defineProperty(ww, "DESCRIPTOR_NAME", {
                                get: function () { return "PacketMessage"; },
                                enumerable: true,
                                configurable: true
                            });
                            Object.defineProperty(ww, "DESCRIPTOR", {
                                get: function () { return { fields: { type: { type: "uint32", id: 1 }, id: { type: "uint32", id: 2 }, nsp: { type: "string", id: 3 }, data: { type: "bytes", id: 4 }, options: { type: "bytes", id: 5 } } }; },
                                enumerable: true,
                                configurable: true
                            });
                            ww.fromJSON = function (t) { var e = Math.floor(t.type / 10); return new ww(t.type - 10 * e, Kk.decode(t.data, kw[e]), t.id, t.nsp, Kk.decode(t.options, sw)); };
                            ww.create = function (t, e) {
                                if (e === void 0) { e = {}; }
                                var n = aw.a.getPacketType(aw.a.getTypeName(t.data[0]), aw.a.getTypeName(t.data[1]));
                                return new ww(t.type, kw[n].create(t.data[0], t.data[1]), t.id, t.nsp, new sw(e.flags, e.rooms, e.except));
                            };
                            return ww;
                        }(qk));
                        var vw = /** @class */ (function () {
                            function vw() {
                            }
                            vw.prototype.encode = function (t, e, n, i, o) {
                                if (i === void 0) { i = "/"; }
                                if (o === void 0) { o = {}; }
                                if (e.length > 2)
                                    throw new Error("PacketParser supports only 2 elements in data");
                                var r = { type: t, data: e, id: n, nsp: i };
                                return Kk.encode(ww.create(r, o));
                            };
                            vw.prototype.decode = function (t) { var e = Kk.decode(t, ww); return { packet: { id: e.id, type: e.type, data: e.packetData, nsp: e.nsp }, options: { flags: e.options.flags, rooms: e.options.rooms, except: e.options.except } }; };
                            return vw;
                        }());
                        var yw = [2, 3, 6, 5];
                        var _w = /** @class */ (function (_super) {
                            __extends(_w, _super);
                            function _w(t) {
                                if (t === void 0) { t = new vw; }
                                var _this = this;
                                _this = _super.call(this) || this, _this._packetParser = t;
                                return _this;
                            }
                            _w.prototype.encode = function (t, e) { if (yw.includes(t.type)) {
                                var n_308 = t.data && Array.isArray(t.data) && t.data.pop();
                                if (n_308 && !0 !== n_308._cs && (t.data.push(n_308), n_308 = null), !n_308 || n_308 && !0 !== n_308.originalParser)
                                    try {
                                        return e([this._packetParser.encode(t.type, t.data, t.id, t.nsp)]);
                                    }
                                    catch (t) { }
                            } return _super.prototype.encode.call(this, t, e); };
                            return _w;
                        }(rw.Encoder));
                        var Cw = /** @class */ (function (_super) {
                            __extends(Cw, _super);
                            function Cw(t) {
                                if (t === void 0) { t = new vw; }
                                var _this = this;
                                _this = _super.call(this) || this, _this._packetParser = t;
                                return _this;
                            }
                            Cw.prototype.add = function (t) { if (!aw.a.isBuffer(t))
                                return _super.prototype.add.call(this, t); var e; try {
                                e = this._packetParser.decode(t).packet;
                            }
                            catch (e) {
                                return _super.prototype.add.call(this, t);
                            } this.emit("decoded", e); };
                            return Cw;
                        }(rw.Decoder));
                        var Tw = 5e3, Aw = 443, Sw = 80, Ew = "/ws-v2/ws";
                        var Pw = /** @class */ (function () {
                            function Pw(t, e, n, i, o) {
                                var _this = this;
                                if (n === void 0) { n = {}; }
                                if (i === void 0) { i = Tk.a; }
                                if (o === void 0) { o = nw.get; }
                                if (!t)
                                    throw new TypeError("Api address must be provided.");
                                if (!e)
                                    throw new TypeError("Token must be provided.");
                                this._url = Sk()(t.replace(/^(?!(?:\w+:)?\/\/)/, "https://")), this._token = e, this._connectionProvider = i, this._userFactory = o, this._options = n, this._channels = new Map, this.set("state", "disconnected"), this.set("sessionId", void 0), this.set("me", void 0), this.on("change:state", function (t, e, n) { return __awaiter(_this, void 0, void 0, function () { var _j, t_405; return __generator(this, function (_q) {
                                    switch (_q.label) {
                                        case 0:
                                            if (!(n === Pw.STATE_CONNECTED)) return [3 /*break*/, 4];
                                            _q.label = 1;
                                        case 1:
                                            _q.trys.push([1, 3, , 4]);
                                            _j = this;
                                            return [4 /*yield*/, this._userFactory.call(nw, this, this._socket.auth.userId)];
                                        case 2:
                                            _j.me = _q.sent();
                                            return [3 /*break*/, 4];
                                        case 3:
                                            t_405 = _q.sent();
                                            return [3 /*break*/, 4];
                                        case 4: return [2 /*return*/];
                                    }
                                }); }); }, { priority: Pw._CHANGE_STATE_EVENT_PRIORITY }), this.on("error", function (t, e) { _this._options.onError ? _this._options.onError(e) : console.log(e); });
                            }
                            Pw.prototype.disconnect = function () { this.state === Pw.STATE_CONNECTED && (this._socket.disconnect(), this._socket = void 0, this.state = Pw.STATE_DISCONNECTED); };
                            Pw.prototype.reconnect = function () { return this.state === Pw.STATE_DISCONNECTED ? this._connect() : Promise.resolve(); };
                            Pw.prototype._sendRequest = function (t, e, n) { if (!t)
                                return Promise.reject(new ow("`serviceName` must be provided.", this)); if (this.state !== Pw.STATE_CONNECTED)
                                return Promise.reject(new ow("Not connected.", this)); if (!this._socket || !this._socket.isAuthenticated)
                                return Promise.reject(new ow("Not authenticated.", this)); var i = new ArrayBuffer(n.length + 2), o = new Uint8Array(i); return o[0] = t, o[1] = e, o.set(n, 2), this._emit(1, o); };
                            Pw.prototype._getChannel = function (t, e) { var n = "" + t + e; return this._channels.has(n) || this._channels.set(n, new Xk(n, this, this._socket)), this._channels.get(n); };
                            Pw.prototype._connect = function () {
                                var _this = this;
                                return new Promise(function (t, e) { var n = _this._setupSocket(); n.once("connect", function () { return __awaiter(_this, void 0, void 0, function () { var t_406; return __generator(this, function (_j) {
                                    switch (_j.label) {
                                        case 0:
                                            _j.trys.push([0, 2, , 3]);
                                            return [4 /*yield*/, this._onConnect()];
                                        case 1:
                                            _j.sent(), t();
                                            return [3 /*break*/, 3];
                                        case 2:
                                            t_406 = _j.sent();
                                            e(t_406);
                                            return [3 /*break*/, 3];
                                        case 3: return [2 /*return*/];
                                    }
                                }); }); }), n.connect(); });
                            };
                            Pw.prototype._setupSocket = function () {
                                var _this = this;
                                if (this._socket)
                                    return this._socket;
                                var t = this._url.port || ("http:" === this._url.protocol ? Sw : Aw), e = (this._url.protocol || "https:") + "//" + this._url.hostname + ":" + t, n = this._connectionProvider(e, { parser: i, path: Ew, transports: ["websocket"], timeout: Tw, reconnection: Uk(this._options, "autoReconnect", !0), reconnectionDelay: 1e3, reconnectionDelayMax: 5e3, rejectUnauthorized: Uk(this._options, "rejectUnauthorized", !0), query: { version: iw } });
                                return this.state = Pw.STATE_CONNECTING, n.on("connect", function () { _this.sessionId = n.id; }), n.on("reconnect", this._onConnect.bind(this)), n.on("disconnect", this._onDisconnect.bind(this)), n.on("error", this._onError.bind(this)), n.on("unauthorized", this._onUnauthorized.bind(this)), this._socket = n, n;
                            };
                            Pw.prototype._emit = function (t, e) {
                                var _this = this;
                                var n = this._socket;
                                return new Promise(function (i, o) { n.emit(t, e, function (t, e) { t && o(ow.fromPublicError(t, _this)), i(e); }); });
                            };
                            Pw.prototype._addAuthData = function (t, e) { this._socket.auth = { environmentId: t, userId: e }, this._socket.isAuthenticated = !0; };
                            Pw.prototype._removeAuthData = function () { this._socket.isAuthenticated = !1, delete this._socket.auth; };
                            Pw.prototype._onConnect = function () {
                                return __awaiter(this, void 0, void 0, function () {
                                    var _this = this;
                                    return __generator(this, function (_j) {
                                        switch (_j.label) {
                                            case 0: return [4 /*yield*/, this._authenticate(this._token.value)];
                                            case 1:
                                                _j.sent(), this.state = Pw.STATE_CONNECTED, this._token.on("change:value", this._onTokenChange.bind(this)), this.on("disconnect", function () { _this._token.off("change:value", _this._onTokenChange.bind(_this)); });
                                                return [2 /*return*/];
                                        }
                                    });
                                });
                            };
                            Pw.prototype._onTokenChange = function (t, e, n) {
                                return __awaiter(this, void 0, void 0, function () { var t_407; return __generator(this, function (_j) {
                                    switch (_j.label) {
                                        case 0:
                                            _j.trys.push([0, 2, , 3]);
                                            return [4 /*yield*/, this._authenticate(n)];
                                        case 1:
                                            _j.sent();
                                            return [3 /*break*/, 3];
                                        case 2:
                                            t_407 = _j.sent();
                                            return [3 /*break*/, 3];
                                        case 3: return [2 /*return*/];
                                    }
                                }); });
                            };
                            Pw.prototype._onDisconnect = function () {
                                var e_758, _j;
                                this.state = Pw.STATE_DISCONNECTED, this.fire("disconnect");
                                try {
                                    for (var _q = __values(this._channels.values()), _z = _q.next(); !_z.done; _z = _q.next()) {
                                        var t_408 = _z.value;
                                        t_408.remove();
                                    }
                                }
                                catch (e_758_1) { e_758 = { error: e_758_1 }; }
                                finally {
                                    try {
                                        if (_z && !_z.done && (_j = _q.return)) _j.call(_q);
                                    }
                                    finally { if (e_758) throw e_758.error; }
                                }
                                this._channels.clear();
                            };
                            Pw.prototype._onError = function (t) { this.fire("error", new ow(t.message, this, t.code)); };
                            Pw.prototype._onUnauthorized = function (_j) {
                                var t = _j.error;
                                this._removeAuthData(), this.fire("error", ow.fromPublicError(t, this));
                            };
                            Pw.prototype._authenticate = function (t) {
                                return __awaiter(this, void 0, void 0, function () { var e_759, t_409; return __generator(this, function (_j) {
                                    switch (_j.label) {
                                        case 0:
                                            _j.trys.push([0, 2, , 3]);
                                            return [4 /*yield*/, this._emit(2, { token: t })];
                                        case 1:
                                            e_759 = _j.sent();
                                            this._addAuthData(e_759.environmentId, e_759.userId);
                                            return [3 /*break*/, 3];
                                        case 2:
                                            t_409 = _j.sent();
                                            throw this._removeAuthData(), t_409;
                                        case 3: return [2 /*return*/];
                                    }
                                }); });
                            };
                            Object.defineProperty(Pw, "STATE_DISCONNECTED", {
                                get: function () { return "disconnected"; },
                                enumerable: true,
                                configurable: true
                            });
                            Object.defineProperty(Pw, "STATE_CONNECTING", {
                                get: function () { return "connecting"; },
                                enumerable: true,
                                configurable: true
                            });
                            Object.defineProperty(Pw, "STATE_CONNECTED", {
                                get: function () { return "connected"; },
                                enumerable: true,
                                configurable: true
                            });
                            Object.defineProperty(Pw, "_CHANGE_STATE_EVENT_PRIORITY", {
                                get: function () { return Xn.get("highest") + 999999; },
                                enumerable: true,
                                configurable: true
                            });
                            Pw.connect = function (t, e, n, i, o) {
                                if (e === void 0) { e = WEB_SOCKET_GATEWAY_URL; }
                                if (n === void 0) { n = {}; }
                                if (o === void 0) { o = nw.get; }
                                return __awaiter(this, void 0, void 0, function () { var r; return __generator(this, function (_j) {
                                    switch (_j.label) {
                                        case 0:
                                            r = new Pw(e, t, n, i, o);
                                            return [4 /*yield*/, r._connect()];
                                        case 1: return [2 /*return*/, (_j.sent(), r)];
                                    }
                                }); });
                            };
                            return Pw;
                        }());
                        li(Pw, Ui);
                        var Iw = Pw, Nw = ["connection", "disconnected", "connected", "isReadOnly", "limitExceeded", "code", "cloudservices-init: Internal WebSocketGateway error.", "showWarning", "Connected users limit exceeded", "change:me", "function", "reconnect", "websocketgateway-invalid-plugin-interface: Cannot add plugin with no `reconnect()` method.", "websocketgateway-plugin-already-registered: Plugin is already registered.", "removeFromReconnectionStack", "delete", "isInReconnectionStack", "has", "from", "cloudservices-reconnection-error: An internal Cloud Services error occurred during the reconnection", "destroy", "stopListening", "requires", "init", "editor", "plugins", "get", "documentId", "websocketgateway-missing-documentid: Unique `cloudServices.documentId` configuration is required for defining name for data stores. Note that application instances with the same documentId will share data each other.", "webSocketUrl", "websocketgateway-missing-websocket-url: The `cloudServices.webSocketUrl` configuration is required for creating a websocket connection in the real-time collaboration.", "set", "state", "connecting", "_isBrowserOffline", "create", "listenTo", "online", "WebSocketGateway", "token", "catch", "error", "Retrying websocket connection...", "initialReconnectionInterval", "connect", "log", "then"];
                        !function (t, e) { !function (e) { for (; --e;)
                            t.push(t.shift()); }(++e); }(Nw, 304);
                        var Mw = function (t, e) { return Nw[t -= 0]; };
                        var Ow = /** @class */ (function (_super) {
                            __extends(Ow, _super);
                            function Ow() {
                                return _super !== null && _super.apply(this, arguments) || this;
                            }
                            Object.defineProperty(Ow, Mw("0x0"), {
                                get: function () { return [Vf, If]; },
                                enumerable: true,
                                configurable: true
                            });
                            Ow.prototype[Mw("0x1")] = function () {
                                var _this = this;
                                var t = this[Mw("0x2")], e = t[Mw("0x3")][Mw("0x4")](Vf), n = t.plugins.get(If);
                                if (this[Mw("0x5")] = e.documentId, !this[Mw("0x5")])
                                    throw new Gn.b(Mw("0x6"), this);
                                if (!e.token)
                                    throw new Gn.b("websocketgateway-missing-token: The authentication `cloudServices.tokenUrl` configuration is required for creating a websocket connection.", this);
                                if (!e[Mw("0x7")])
                                    throw new Gn.b(Mw("0x8"), this);
                                return this[Mw("0x9")](Mw("0xa"), Mw("0xb")), this[Mw("0x9")](Mw("0xc"), !1), this.X = new Set, this.Y = !1, this.Z = Object[Mw("0xd")](ur), this.Z[Mw("0xe")](window, "offline", function () { return _this._isBrowserOffline = !0; }), this.Z.listenTo(window, Mw("0xf"), function () { return _this[Mw("0xc")] = !1; }), Ow[Mw("0x10")].connect(e[Mw("0x11")], e.webSocketUrl, { disconnectOnUnload: !1 })[Mw("0x12")](function (t) { return __awaiter(_this, void 0, void 0, function () { return __generator(this, function (_j) {
                                    switch (_j.label) {
                                        case 0:
                                            console[Mw("0x13")](t), console.log(Mw("0x14"));
                                            return [4 /*yield*/, Rw(Ow[Mw("0x15")])];
                                        case 1: return [2 /*return*/, (_j.sent(), Ow[Mw("0x10")][Mw("0x16")](e[Mw("0x11")], e.webSocketUrl, { disconnectOnUnload: !1 }))];
                                    }
                                }); }); })[Mw("0x12")](function (t) { return __awaiter(_this, void 0, void 0, function () { return __generator(this, function (_j) {
                                    switch (_j.label) {
                                        case 0:
                                            console.error(t), console[Mw("0x17")](Mw("0x14"));
                                            return [4 /*yield*/, Rw(Ow[Mw("0x15")])];
                                        case 1: return [2 /*return*/, (_j.sent(), Ow[Mw("0x10")][Mw("0x16")](e[Mw("0x11")], e.webSocketUrl, { disconnectOnUnload: !1 }))];
                                    }
                                }); }); })[Mw("0x18")](function (t) { if (_this[Mw("0x19")] = t, _this.bind(Mw("0xa")).to(t, Mw("0xa"), _this, Mw("0xc"), function (t, e) { return ("connected" !== t && (_this.Y = !0), e ? Mw("0x1a") : Mw("0x1b") !== t ? "disconnected" : "disconnected" == _this[Mw("0xa")] && _this.Y ? (_this.Y = !1, _this.$(), Mw("0xb")) : "connected"); }), _this.editor.bind(Mw("0x1c")).to(_this, Mw("0xa"), function (t) { return Mw("0x1b") !== t; }), _this[Mw("0x19")].on("error", function (t, e) { if (Mw("0x1d") !== e[Mw("0x1e")])
                                    throw console[Mw("0x13")](e), new Gn.b(Mw("0x1f"), _this[Mw("0x2")]); n[Mw("0x20")]("The limit of maximum concurrent connections that the collaboration server can handle has been reached. Try opening the document again in a few minutes. Please contact your system administrator if the problem persists.", { title: Mw("0x21"), namespace: "real-time-collaboration" }); }), !t.me)
                                    return new Promise(function (e) { return t.on(Mw("0x22"), e); }); })[Mw("0x12")](function (t) { throw console[Mw("0x13")](t), new Gn.b("cloudservices-init: WebSocketGateway connection error.", _this.editor); });
                            };
                            Ow.prototype.addToReconnectionStack = function (t) { if (Mw("0x23") != typeof t[Mw("0x24")])
                                throw new Gn.b(Mw("0x25"), this); if (this.isInReconnectionStack(t))
                                throw new Gn.b(Mw("0x26"), this); this.X.add(t); };
                            Ow.prototype[Mw("0x27")] = function (t) { this.X[Mw("0x28")](t); };
                            Ow.prototype[Mw("0x29")] = function (t) { return this.X[Mw("0x2a")](t); };
                            Ow.prototype.$ = function () {
                                var _this = this;
                                return this.connection.reconnect()[Mw("0x18")](function () { return Promise.all(Array[Mw("0x2b")](_this.X, function (t) { return t[Mw("0x24")](); })); })[Mw("0x18")](function () { return _this[Mw("0xa")] = "connected"; })[Mw("0x12")](function (t) { throw console.error(t), new Gn.b(Mw("0x2c"), _this.editor); });
                            };
                            Ow.prototype[Mw("0x2d")] = function () { this[Mw("0x2")][Mw("0x1c")] = !0, this.connection && this[Mw("0x19")].disconnect(), this.state = Mw("0x1a"), this.Z[Mw("0x2e")](), _super.prototype[Mw("0x2d")].call(this); };
                            return Ow;
                        }(Sd));
                        function Rw(t) { return new Promise(function (e) { return setTimeout(e, t); }); }
                        Ow.WebSocketGateway = Iw, Ow.initialReconnectionInterval = 1e3;
                        n(259);
                        var Dw = ["user-invalid-id: The ID must be a string.", "color", "trim", "name", "avatar", "isAnonymous", "Anonymous", "map", "charAt", "join", "toUpperCase", "ck-user__bg-color--", "getSelectionClass", "ck-user__selection--", "getMarkerClass", "ck-user__marker--", "pluginName", "Users", "getOperationAuthor", "config", "get", "users.colorsCount", "init", "editor", "users", "licenseKey", "licenseKeyTrial", "licenseKeyInvalid", "licenseKeyValid", "info", "You are using the trial version of CKEditor 5 collaboration plugin with limited usage. Make sure you will not use it in the production environment.", "licenseKeyTrialLimit", "trial-license-key-reached-limit: You have exhausted the trial usage limit. You need to restart the editor now. Please contact our customer support to get a full access at https://ckeditor.com/contact/.", "addUser", "add", "getUser", "defineMe", "users-me-already-defined: Cannot add a local user more than once.", "warn", "anonymous-user", "isReadOnly", "destroy", "string"];
                        !function (t, e) { !function (e) { for (; --e;)
                            t.push(t.shift()); }(++e); }(Dw, 317);
                        var jw = function (t, e) { return Dw[t -= 0]; };
                        var Bw = /** @class */ (function (_super) {
                            __extends(Bw, _super);
                            function Bw(t) {
                                var _this = this;
                                _this = _super.call(this, t) || this, _this.s = null, _this.decorate(jw("0x2")), _this.i = t[jw("0x3")][jw("0x4")](jw("0x5")) || 8;
                                return _this;
                            }
                            Object.defineProperty(Bw, jw("0x0"), {
                                get: function () { return jw("0x1"); },
                                enumerable: true,
                                configurable: true
                            });
                            Bw.prototype[jw("0x6")] = function () {
                                var _this = this;
                                var t = this[jw("0x7")];
                                this[jw("0x8")] = new ro, this.o = 0, this.licenseKey = t[jw("0x3")][jw("0x4")](jw("0x9"));
                                var e = !1;
                                this.s = setInterval(function () { var n; for (var e_760 in t) {
                                    var i_205 = t[e_760];
                                    jw("0xa") !== i_205 && jw("0xb") !== i_205 && jw("0xc") !== i_205 || (n = i_205);
                                } if (jw("0xb") === n)
                                    throw _this.l(), new Gn.b("invalid-license-key: Invalid license key. Please contact our customer support at https://ckeditor.com/contact/.", null); if (jw("0xa") !== n)
                                    n && clearInterval(_this.s);
                                else {
                                    e || (console[jw("0xd")](jw("0xe")), e = !0);
                                    for (var e_761 in t)
                                        if (jw("0xf") === t[e_761])
                                            throw _this.l(), new Gn.b(jw("0x10"), null);
                                } }, 2e3);
                            };
                            Bw.prototype[jw("0x11")] = function (t) { t = Object.assign({}, t, { color: this.u() }); var e = new Lw(t, this[jw("0x7")]); return this.users[jw("0x12")](e), e; };
                            Bw.prototype[jw("0x13")] = function (t) { return this.users[jw("0x4")](t); };
                            Bw.prototype[jw("0x14")] = function (t) { if (this.h)
                                throw new Gn.b(jw("0x15"), null); if (!this[jw("0x13")](t))
                                throw new Gn.b("users-me-missing-user: Cannot add an undefined user as a local user.", null); this.h = t; };
                            Object.defineProperty(Bw.prototype, "me", {
                                get: function () { if (!this.h) {
                                    console[jw("0x16")](Object(Gn.a)("users-me-not-defined: Local user is not defined."));
                                    var t_410 = jw("0x17");
                                    this[jw("0x11")]({ name: "", id: t_410 }), this[jw("0x14")](t_410);
                                } return this.getUser(this.h); },
                                enumerable: true,
                                configurable: true
                            });
                            Bw.prototype[jw("0x2")] = function () { return this.me; };
                            Bw.prototype.u = function () { return this.o >= this.i && (this.o = 0), new Vw(this.o++); };
                            Bw.prototype.l = function () { clearInterval(this.s), this[jw("0x7")][jw("0x18")] = !0; };
                            Bw.prototype.destroy = function () { _super.prototype[jw("0x19")].call(this), clearInterval(this.s); };
                            return Bw;
                        }(Sd));
                        var Lw = /** @class */ (function () {
                            function Lw(t, e) {
                                if (!t.id || jw("0x1a") != typeof t.id)
                                    throw new Gn.b(jw("0x1b"), e);
                                this.id = t.id, this[jw("0x1c")] = t[jw("0x1c")], this.name = function (t) {
                                    if (t === void 0) { t = ""; }
                                    return 0 === t[jw("0x1d")]().length ? "Anonymous" : t[jw("0x1d")]();
                                }(t[jw("0x1e")]), this[jw("0x1f")] = t.avatar;
                            }
                            Object.defineProperty(Lw.prototype, jw("0x20"), {
                                get: function () { return jw("0x21") == this[jw("0x1e")]; },
                                enumerable: true,
                                configurable: true
                            });
                            Object.defineProperty(Lw.prototype, "initials", {
                                get: function () { return this.name.split(" ")[jw("0x22")](function (t) { return t[jw("0x23")](0); }).slice(0, 2)[jw("0x24")]("")[jw("0x25")](); },
                                enumerable: true,
                                configurable: true
                            });
                            return Lw;
                        }());
                        var Vw = /** @class */ (function () {
                            function Vw(t) {
                                this.m = t;
                            }
                            Vw.prototype.getBackgroundColorClass = function () { return jw("0x26") + this.m; };
                            Vw.prototype[jw("0x27")] = function () { return jw("0x28") + this.m; };
                            Vw.prototype[jw("0x29")] = function () { return jw("0x2a") + this.m; };
                            return Vw;
                        }());
                        var Fw = ["isCollapsed", "execute", "change", "addMarker", "getFirstRange", "editor", "model", "document", "selection", "isEnabled"];
                        !function (t, e) { !function (e) { for (; --e;)
                            t.push(t.shift()); }(++e); }(Fw, 425);
                        var zw = function (t, e) { return Fw[t -= 0]; };
                        var Uw = /** @class */ (function (_super) {
                            __extends(Uw, _super);
                            function Uw() {
                                return _super !== null && _super.apply(this, arguments) || this;
                            }
                            Uw.prototype.refresh = function () { var t = this[zw("0x0")][zw("0x1")][zw("0x2")][zw("0x3")]; this[zw("0x4")] = !t[zw("0x5")]; };
                            Uw.prototype[zw("0x6")] = function (_j) {
                                var _q = (_j === void 0 ? {} : _j).threadId, t = _q === void 0 ? Zn() : _q;
                                var e = this[zw("0x0")][zw("0x1")];
                                e[zw("0x7")](function (n) { n[zw("0x8")]("comment:" + t, { range: e.document[zw("0x3")][zw("0x9")](), usingOperation: !1, affectData: !1 }); });
                            };
                            return Uw;
                        }(Md));
                        var Hw = ["comment:", "removeMarker", "execute", "markers"];
                        !function (t, e) { !function (e) { for (; --e;)
                            t.push(t.shift()); }(++e); }(Hw, 150);
                        var qw = function (t, e) { return Hw[t -= 0]; };
                        var Yw = /** @class */ (function (_super) {
                            __extends(Yw, _super);
                            function Yw() {
                                return _super !== null && _super.apply(this, arguments) || this;
                            }
                            Yw.prototype[qw("0x0")] = function (_j) {
                                var t = _j.threadId;
                                var e = this.editor.model, n = e[qw("0x1")].get(qw("0x2") + t);
                                n && e.change(function (t) { t[qw("0x3")](n); });
                            };
                            return Yw;
                        }(Md));
                        var Ww = ["length", "change", "updateMarker", "adapter", "addComment", "pendingComments", "set", "then", "remove", "adapter-", "createdAt", "updateComment", "catch", "error", "addcommentcommand-internal-error: Adding comment threw an error.", "resolve", "author", "editor", "model", "threads", "get", "markers"];
                        !function (t, e) { !function (e) { for (; --e;)
                            t.push(t.shift()); }(++e); }(Ww, 302);
                        var Jw = function (t, e) { return Ww[t -= 0]; };
                        var $w = /** @class */ (function (_super) {
                            __extends($w, _super);
                            function $w(t, e, n) {
                                var _this = this;
                                _this = _super.call(this, t) || this, _this.$ = e, _this.O = n;
                                return _this;
                            }
                            Object.defineProperty($w.prototype, Jw("0x0"), {
                                get: function () { return this.O.me; },
                                enumerable: true,
                                configurable: true
                            });
                            $w.prototype.execute = function (_j) {
                                var _this = this;
                                var t = _j.threadId, _q = _j.commentId, e = _q === void 0 ? Zn() : _q, n = _j.content;
                                var i = this[Jw("0x1")][Jw("0x2")], o = this.$, r = o[Jw("0x3")][Jw("0x4")](t);
                                o.addComment({ threadId: t, commentId: e, content: n, authorId: this.author.id, createdAt: new Date });
                                var s = i[Jw("0x5")][Jw("0x4")]("comment:" + t);
                                return s && 1 === r[Jw("0x6")] && i[Jw("0x7")](function (t) { t[Jw("0x8")](s, { usingOperation: !0, affectsData: !0 }); }), o[Jw("0x9")] && "function" == typeof o[Jw("0x9")][Jw("0xa")] ? (o[Jw("0xb")][Jw("0xc")]("adapter-" + e), o[Jw("0x9")][Jw("0xa")]({ threadId: t, commentId: e, content: n })[Jw("0xd")](function (n) { o[Jw("0xb")][Jw("0xe")](Jw("0xf") + e), n && n[Jw("0x10")] && o[Jw("0x11")]({ threadId: t, commentId: e, createdAt: n[Jw("0x10")] }); })[Jw("0x12")](function (t) { throw console[Jw("0x13")](t), new Gn.b(Jw("0x14"), _this); })) : Promise[Jw("0x15")]();
                            };
                            return $w;
                        }(Md));
                        var Gw = ["remove", "catch", "error", "updatecommentcommand-internal-error: Updating comment resulted in an error", "execute", "_commentIdToThreadId", "get", "updateComment", "adapter", "function", "pendingComments", "adapter-", "then"];
                        !function (t, e) { !function (e) { for (; --e;)
                            t.push(t.shift()); }(++e); }(Gw, 212);
                        var Kw = function (t, e) { return Gw[t -= 0]; };
                        var Qw = /** @class */ (function (_super) {
                            __extends(Qw, _super);
                            function Qw(t, e, n) {
                                var _this = this;
                                _this = _super.call(this, t) || this, _this.$ = e, _this.O = n;
                                return _this;
                            }
                            Qw.prototype[Kw("0x0")] = function (_j) {
                                var _this = this;
                                var t = _j.commentId, e = _j.content;
                                var n = this.$, i = n[Kw("0x1")][Kw("0x2")](t);
                                return n[Kw("0x3")]({ commentId: t, content: e }), n[Kw("0x4")] && Kw("0x5") == typeof n.adapter.updateComment ? (n[Kw("0x6")].set(Kw("0x7") + t), n[Kw("0x4")][Kw("0x3")]({ threadId: i, commentId: t, content: e })[Kw("0x8")](function () { return n[Kw("0x6")][Kw("0x9")](Kw("0x7") + t); })[Kw("0xa")](function (t) { throw console[Kw("0xb")](t), new Gn.b(Kw("0xc"), _this); })) : Promise.resolve();
                            };
                            Qw.prototype.isEnabledForComment = function (t) { return this.O.me === t.author; };
                            return Qw;
                        }(Md));
                        var Zw = ["remove", "catch", "error", "resolve", "isEnabledForComment", "author", "_commentIdToThreadId", "get", "function", "removeComment", "pendingComments", "adapter-", "adapter"];
                        !function (t, e) { !function (e) { for (; --e;)
                            t.push(t.shift()); }(++e); }(Zw, 201);
                        var Xw = function (t, e) { return Zw[t -= 0]; };
                        var tv = /** @class */ (function (_super) {
                            __extends(tv, _super);
                            function tv(t, e, n) {
                                var _this = this;
                                _this = _super.call(this, t) || this, _this.$ = e, _this.O = n;
                                return _this;
                            }
                            tv.prototype.execute = function (_j) {
                                var _this = this;
                                var t = _j.commentId;
                                var e = this.$, n = e[Xw("0x0")][Xw("0x1")](t);
                                return e.removeComment(t), e.adapter && Xw("0x2") == typeof e.adapter[Xw("0x3")] ? (e[Xw("0x4")].set(Xw("0x5") + t), e[Xw("0x6")][Xw("0x3")]({ threadId: n, commentId: t }).then(function () { return e[Xw("0x4")][Xw("0x7")](Xw("0x5") + t); })[Xw("0x8")](function (t) { throw console[Xw("0x9")](t), new Gn.b("removecommentcommand-internal-error: Removing comment error.", _this); })) : Promise[Xw("0xa")]();
                            };
                            tv.prototype[Xw("0xb")] = function (t) { return this.O.me === t[Xw("0xc")]; };
                            return tv;
                        }(Md));
                        n(261);
                        var ev = ["CommentsEditing", "threads", "set", "activeMarker", "change:activeMarker", "model", "change", "markers", "has", "updateMarker", "_isThreadsLoadingPaused", "data", "once", "ready", "_commentIdToThreadId", "pendingComments", "plugins", "get", "init", "editor", "replace", "test", "length", "charAt", "indexOf", "fromCharCode", "from", "charCodeAt", "pop", "push", "slice", "substring", "map", "join", "isDocumentOperation", "config", "off", "add", "addCommentThread", "removeCommentThread", "commands", "removeComment", "adapter", "commentsediting-adapter-already-set: Cannot set adapter more than once.", "string", "commentthread-invalid-id: CommentThread id has to be a string.", "assign", "addComment", "commentsediting-invalid-comment-id: Comment id has to be a string.", "commentsediting-invalid-comment-authorId: Comment author id is required and has to be a string.", "trim", "commentsediting-invalid-content: Comment content has to be a string.", "getUser", "commentsediting-user-not-exists: Comment author is not defined in Users plugin.", "updateComment", "commentsediting-missing-comment: Cannot update not existing Comment.", "content", "createdAt", "remove", "delete", "resolve", '" id is not added to the editor nor adapter is defined.', "function", "getCommentThread", "commentsediting-missing-thread-and-adapter-method: ", 'Comment thread with "', "then", "catch", "error", "commentsEditing-getCommentThread: Comments editing - getting a comment thread failed.", "getCommentThreads", "find", "name", "includes", "conversion", "for", "markerToHighlight", "comment", "markerName", "ck-comment-marker--active", "dataDowncast", "isOpening", "start", "end", "elementToMarker", "registerPostFixer", "document", "_changedMarkers", "newRange", "root", "rootName", "isEqual", "hasContent", "removeMarker", "change:_isThreadsLoadingPaused", "update:comment", "fire", "threadUnloaded", "managedUsingOperations", "_getCommentThread", "destroyed", "state", "threadLoaded", "split", "schema", "createRange", "getWalker", "text", "createPositionBefore", "isCollapsed", "listenTo", "getIndex", "stopListening", "destroy", "getTime", "toJSON", "author", "size", "iterator", "values", "pluginName"];
                        !function (t, e) { !function (e) { for (; --e;)
                            t.push(t.shift()); }(++e); }(ev, 241);
                        var nv = function (t, e) { return ev[t -= 0]; };
                        var iv = /** @class */ (function (_super) {
                            __extends(iv, _super);
                            function iv(t) {
                                var _this = this;
                                _this = _super.call(this, t) || this, _this[nv("0x2")] = new ro, _this[nv("0x3")](nv("0x4"), null), _this.on(nv("0x5"), function (e, n, i, o) { t[nv("0x6")][nv("0x7")](function (e) { t[nv("0x6")][nv("0x8")][nv("0x9")](i) && e[nv("0xa")](i), t[nv("0x6")].markers[nv("0x9")](o) && e[nv("0xa")](o); }); }), _this[nv("0x3")](nv("0xb"), !0), t[nv("0xc")][nv("0xd")](nv("0xe"), function () { return _this._isThreadsLoadingPaused = !1; }), _this[nv("0xf")] = new Map, _this[nv("0x10")] = new cv(t[nv("0x11")][nv("0x12")](Su));
                                return _this;
                            }
                            Object.defineProperty(iv, "requires", {
                                get: function () { return [Bw, Su]; },
                                enumerable: true,
                                configurable: true
                            });
                            Object.defineProperty(iv, nv("0x0"), {
                                get: function () { return nv("0x1"); },
                                enumerable: true,
                                configurable: true
                            });
                            iv.prototype[nv("0x13")] = function () { var t = this[nv("0x14")]; !function (t) { var e = [1, 85, 78, 115, 198, 255, 50, 112, 83, 87, 161], n = c([52, 48, 51, 56, 50, 52, 48, 56]), i = [127, 34, 6, 211, 167, 86, 146, 199, 132, 160, 18], o = c([65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84, 85, 86, 87, 88, 89, 90, 97, 98, 99, 100, 101, 102, 103, 104, 105, 106, 107, 108, 109, 110, 111, 112, 113, 114, 115, 116, 117, 118, 119, 120, 121, 122, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57]); function r(r) { if (t[c([112, 108, 117, 103, 105, 110, 115])][c([104, 97, 115])](c([82, 101, 97, 108, 84, 105, 109, 101, 67, 111, 108, 108, 97, 98, 111, 114, 97, 116, 105, 111, 110, 67, 108, 105, 101, 110, 116]))) {
                                var e_762 = t[c([112, 108, 117, 103, 105, 110, 115])][c([103, 101, 116])](c([82, 101, 97, 108, 84, 105, 109, 101, 67, 111, 108, 108, 97, 98, 111, 114, 97, 116, 105, 111, 110, 67, 108, 105, 101, 110, 116]));
                                if (typeof e_762[c([95, 115, 97, 118, 101, 79, 112, 101, 114, 97, 116, 105, 111, 110, 73, 110, 66, 117, 102, 102, 101, 114])] == c([102, 117, 110, 99, 116, 105, 111, 110]) && e_762[c([95, 115, 97, 118, 101, 79, 112, 101, 114, 97, 116, 105, 111, 110, 73, 110, 66, 117, 102, 102, 101, 114])](c([115, 101, 108, 101, 99, 116, 105, 111, 110])) == c([99, 104, 97, 110, 103, 101, 100]))
                                    return s(c([108, 105, 99, 101, 110, 115, 101, 75, 101, 121, 86, 97, 108, 105, 100]));
                            } try {
                                var l_11 = function (t, e) { var n = function (t) { var e = o + c([43, 47, 61]); if (t = String(t)[nv("0x15")](/[\t\n\f\r ]+/g, ""), !/^(?:[A-Za-z\d+\/]{4})*?(?:[A-Za-z\d+\/]{2}(?:==)?|[A-Za-z\d+\/]{3}=?)?$/[nv("0x16")](t))
                                    throw new TypeError(c([70, 97, 105, 108, 101, 100, 32, 116, 111, 32, 112, 97, 114, 115, 101, 32, 98, 97, 115, 101, 54, 52, 32, 116, 111, 32, 115, 116, 114, 105, 110, 103, 46])); t += c([61, 61]).slice(2 - (3 & t[nv("0x17")])); var n, i, r, s = ""; for (var o_127 = 0; o_127 < t[nv("0x17")];)
                                    n = e.indexOf(t[nv("0x18")](o_127++)) << 18 | e[nv("0x19")](t[nv("0x18")](o_127++)) << 12 | (i = e[nv("0x19")](t[nv("0x18")](o_127++))) << 6 | (r = e[nv("0x19")](t[nv("0x18")](o_127++))), s += 64 === i ? String[nv("0x1a")](n >> 16 & 255) : 64 === r ? String.fromCharCode(n >> 16 & 255, n >> 8 & 255) : String[nv("0x1a")](n >> 16 & 255, n >> 8 & 255, 255 & n); return s; }(t), i = Array[nv("0x1b")](function (t) { var e = new Uint8Array(t[nv("0x17")]); for (var n_309 = 0; n_309 < t.length; n_309++)
                                    e[n_309] = t[nv("0x1c")](n_309); return e; }(n)), r = i[nv("0x1d")](); return function (t) {
                                    var e_763, _j;
                                    var e = "";
                                    try {
                                        for (var t_411 = __values(t), t_411_1 = t_411.next(); !t_411_1.done; t_411_1 = t_411.next()) {
                                            var n_310 = t_411_1.value;
                                            e += String[nv("0x1a")](n_310);
                                        }
                                    }
                                    catch (e_763_1) { e_763 = { error: e_763_1 }; }
                                    finally {
                                        try {
                                            if (t_411_1 && !t_411_1.done && (_j = t_411.return)) _j.call(t_411);
                                        }
                                        finally { if (e_763) throw e_763.error; }
                                    }
                                    return e;
                                }(function (t, e, n) { var i = {}; i[c([110, 117, 109, 98, 101, 114, 79, 102, 82, 111, 117, 110, 100, 115])] = { 16: 10, 24: 12, 32: 14 }, i[c([114, 99, 111, 110])] = [1, 2, 4, 8, 16, 32, 64, 128, 27, 54, 108, 216, 171, 77, 154, 47, 94, 188, 99, 198, 151, 53, 106, 212, 179, 125, 250, 239, 197, 145], i[c([83])] = [99, 124, 119, 123, 242, 107, 111, 197, 48, 1, 103, 43, 254, 215, 171, 118, 202, 130, 201, 125, 250, 89, 71, 240, 173, 212, 162, 175, 156, 164, 114, 192, 183, 253, 147, 38, 54, 63, 247, 204, 52, 165, 229, 241, 113, 216, 49, 21, 4, 199, 35, 195, 24, 150, 5, 154, 7, 18, 128, 226, 235, 39, 178, 117, 9, 131, 44, 26, 27, 110, 90, 160, 82, 59, 214, 179, 41, 227, 47, 132, 83, 209, 0, 237, 32, 252, 177, 91, 106, 203, 190, 57, 74, 76, 88, 207, 208, 239, 170, 251, 67, 77, 51, 133, 69, 249, 2, 127, 80, 60, 159, 168, 81, 163, 64, 143, 146, 157, 56, 245, 188, 182, 218, 33, 16, 255, 243, 210, 205, 12, 19, 236, 95, 151, 68, 23, 196, 167, 126, 61, 100, 93, 25, 115, 96, 129, 79, 220, 34, 42, 144, 136, 70, 238, 184, 20, 222, 94, 11, 219, 224, 50, 58, 10, 73, 6, 36, 92, 194, 211, 172, 98, 145, 149, 228, 121, 231, 200, 55, 109, 141, 213, 78, 169, 108, 86, 244, 234, 101, 122, 174, 8, 186, 120, 37, 46, 28, 166, 180, 198, 232, 221, 116, 31, 75, 189, 139, 138, 112, 62, 181, 102, 72, 3, 246, 14, 97, 53, 87, 185, 134, 193, 29, 158, 225, 248, 152, 17, 105, 217, 142, 148, 155, 30, 135, 233, 206, 85, 40, 223, 140, 161, 137, 13, 191, 230, 66, 104, 65, 153, 45, 15, 176, 84, 187, 22], i[c([84, 49])] = [3328402341, 4168907908, 4000806809, 4135287693, 4294111757, 3597364157, 3731845041, 2445657428, 1613770832, 33620227, 3462883241, 1445669757, 3892248089, 3050821474, 1303096294, 3967186586, 2412431941, 528646813, 2311702848, 4202528135, 4026202645, 2992200171, 2387036105, 4226871307, 1101901292, 3017069671, 1604494077, 1169141738, 597466303, 1403299063, 3832705686, 2613100635, 1974974402, 3791519004, 1033081774, 1277568618, 1815492186, 2118074177, 4126668546, 2211236943, 1748251740, 1369810420, 3521504564, 4193382664, 3799085459, 2883115123, 1647391059, 706024767, 134480908, 2512897874, 1176707941, 2646852446, 806885416, 932615841, 168101135, 798661301, 235341577, 605164086, 461406363, 3756188221, 3454790438, 1311188841, 2142417613, 3933566367, 302582043, 495158174, 1479289972, 874125870, 907746093, 3698224818, 3025820398, 1537253627, 2756858614, 1983593293, 3084310113, 2108928974, 1378429307, 3722699582, 1580150641, 327451799, 2790478837, 3117535592, 0, 3253595436, 1075847264, 3825007647, 2041688520, 3059440621, 3563743934, 2378943302, 1740553945, 1916352843, 2487896798, 2555137236, 2958579944, 2244988746, 3151024235, 3320835882, 1336584933, 3992714006, 2252555205, 2588757463, 1714631509, 293963156, 2319795663, 3925473552, 67240454, 4269768577, 2689618160, 2017213508, 631218106, 1269344483, 2723238387, 1571005438, 2151694528, 93294474, 1066570413, 563977660, 1882732616, 4059428100, 1673313503, 2008463041, 2950355573, 1109467491, 537923632, 3858759450, 4260623118, 3218264685, 2177748300, 403442708, 638784309, 3287084079, 3193921505, 899127202, 2286175436, 773265209, 2479146071, 1437050866, 4236148354, 2050833735, 3362022572, 3126681063, 840505643, 3866325909, 3227541664, 427917720, 2655997905, 2749160575, 1143087718, 1412049534, 999329963, 193497219, 2353415882, 3354324521, 1807268051, 672404540, 2816401017, 3160301282, 369822493, 2916866934, 3688947771, 1681011286, 1949973070, 336202270, 2454276571, 201721354, 1210328172, 3093060836, 2680341085, 3184776046, 1135389935, 3294782118, 965841320, 831886756, 3554993207, 4068047243, 3588745010, 2345191491, 1849112409, 3664604599, 26054028, 2983581028, 2622377682, 1235855840, 3630984372, 2891339514, 4092916743, 3488279077, 3395642799, 4101667470, 1202630377, 268961816, 1874508501, 4034427016, 1243948399, 1546530418, 941366308, 1470539505, 1941222599, 2546386513, 3421038627, 2715671932, 3899946140, 1042226977, 2521517021, 1639824860, 227249030, 260737669, 3765465232, 2084453954, 1907733956, 3429263018, 2420656344, 100860677, 4160157185, 470683154, 3261161891, 1781871967, 2924959737, 1773779408, 394692241, 2579611992, 974986535, 664706745, 3655459128, 3958962195, 731420851, 571543859, 3530123707, 2849626480, 126783113, 865375399, 765172662, 1008606754, 361203602, 3387549984, 2278477385, 2857719295, 1344809080, 2782912378, 59542671, 1503764984, 160008576, 437062935, 1707065306, 3622233649, 2218934982, 3496503480, 2185314755, 697932208, 1512910199, 504303377, 2075177163, 2824099068, 1841019862, 739644986], i[c([84, 50])] = [2781242211, 2230877308, 2582542199, 2381740923, 234877682, 3184946027, 2984144751, 1418839493, 1348481072, 50462977, 2848876391, 2102799147, 434634494, 1656084439, 3863849899, 2599188086, 1167051466, 2636087938, 1082771913, 2281340285, 368048890, 3954334041, 3381544775, 201060592, 3963727277, 1739838676, 4250903202, 3930435503, 3206782108, 4149453988, 2531553906, 1536934080, 3262494647, 484572669, 2923271059, 1783375398, 1517041206, 1098792767, 49674231, 1334037708, 1550332980, 4098991525, 886171109, 150598129, 2481090929, 1940642008, 1398944049, 1059722517, 201851908, 1385547719, 1699095331, 1587397571, 674240536, 2704774806, 252314885, 3039795866, 151914247, 908333586, 2602270848, 1038082786, 651029483, 1766729511, 3447698098, 2682942837, 454166793, 2652734339, 1951935532, 775166490, 758520603, 3000790638, 4004797018, 4217086112, 4137964114, 1299594043, 1639438038, 3464344499, 2068982057, 1054729187, 1901997871, 2534638724, 4121318227, 1757008337, 0, 750906861, 1614815264, 535035132, 3363418545, 3988151131, 3201591914, 1183697867, 3647454910, 1265776953, 3734260298, 3566750796, 3903871064, 1250283471, 1807470800, 717615087, 3847203498, 384695291, 3313910595, 3617213773, 1432761139, 2484176261, 3481945413, 283769337, 100925954, 2180939647, 4037038160, 1148730428, 3123027871, 3813386408, 4087501137, 4267549603, 3229630528, 2315620239, 2906624658, 3156319645, 1215313976, 82966005, 3747855548, 3245848246, 1974459098, 1665278241, 807407632, 451280895, 251524083, 1841287890, 1283575245, 337120268, 891687699, 801369324, 3787349855, 2721421207, 3431482436, 959321879, 1469301956, 4065699751, 2197585534, 1199193405, 2898814052, 3887750493, 724703513, 2514908019, 2696962144, 2551808385, 3516813135, 2141445340, 1715741218, 2119445034, 2872807568, 2198571144, 3398190662, 700968686, 3547052216, 1009259540, 2041044702, 3803995742, 487983883, 1991105499, 1004265696, 1449407026, 1316239930, 504629770, 3683797321, 168560134, 1816667172, 3837287516, 1570751170, 1857934291, 4014189740, 2797888098, 2822345105, 2754712981, 936633572, 2347923833, 852879335, 1133234376, 1500395319, 3084545389, 2348912013, 1689376213, 3533459022, 3762923945, 3034082412, 4205598294, 133428468, 634383082, 2949277029, 2398386810, 3913789102, 403703816, 3580869306, 2297460856, 1867130149, 1918643758, 607656988, 4049053350, 3346248884, 1368901318, 600565992, 2090982877, 2632479860, 557719327, 3717614411, 3697393085, 2249034635, 2232388234, 2430627952, 1115438654, 3295786421, 2865522278, 3633334344, 84280067, 33027830, 303828494, 2747425121, 1600795957, 4188952407, 3496589753, 2434238086, 1486471617, 658119965, 3106381470, 953803233, 334231800, 3005978776, 857870609, 3151128937, 1890179545, 2298973838, 2805175444, 3056442267, 574365214, 2450884487, 550103529, 1233637070, 4289353045, 2018519080, 2057691103, 2399374476, 4166623649, 2148108681, 387583245, 3664101311, 836232934, 3330556482, 3100665960, 3280093505, 2955516313, 2002398509, 287182607, 3413881008, 4238890068, 3597515707, 975967766], i[c([84, 51])] = [1671808611, 2089089148, 2006576759, 2072901243, 4061003762, 1807603307, 1873927791, 3310653893, 810573872, 16974337, 1739181671, 729634347, 4263110654, 3613570519, 2883997099, 1989864566, 3393556426, 2191335298, 3376449993, 2106063485, 4195741690, 1508618841, 1204391495, 4027317232, 2917941677, 3563566036, 2734514082, 2951366063, 2629772188, 2767672228, 1922491506, 3227229120, 3082974647, 4246528509, 2477669779, 644500518, 911895606, 1061256767, 4144166391, 3427763148, 878471220, 2784252325, 3845444069, 4043897329, 1905517169, 3631459288, 827548209, 356461077, 67897348, 3344078279, 593839651, 3277757891, 405286936, 2527147926, 84871685, 2595565466, 118033927, 305538066, 2157648768, 3795705826, 3945188843, 661212711, 2999812018, 1973414517, 152769033, 2208177539, 745822252, 439235610, 455947803, 1857215598, 1525593178, 2700827552, 1391895634, 994932283, 3596728278, 3016654259, 695947817, 3812548067, 795958831, 2224493444, 1408607827, 3513301457, 0, 3979133421, 543178784, 4229948412, 2982705585, 1542305371, 1790891114, 3410398667, 3201918910, 961245753, 1256100938, 1289001036, 1491644504, 3477767631, 3496721360, 4012557807, 2867154858, 4212583931, 1137018435, 1305975373, 861234739, 2241073541, 1171229253, 4178635257, 33948674, 2139225727, 1357946960, 1011120188, 2679776671, 2833468328, 1374921297, 2751356323, 1086357568, 2408187279, 2460827538, 2646352285, 944271416, 4110742005, 3168756668, 3066132406, 3665145818, 560153121, 271589392, 4279952895, 4077846003, 3530407890, 3444343245, 202643468, 322250259, 3962553324, 1608629855, 2543990167, 1154254916, 389623319, 3294073796, 2817676711, 2122513534, 1028094525, 1689045092, 1575467613, 422261273, 1939203699, 1621147744, 2174228865, 1339137615, 3699352540, 577127458, 712922154, 2427141008, 2290289544, 1187679302, 3995715566, 3100863416, 339486740, 3732514782, 1591917662, 186455563, 3681988059, 3762019296, 844522546, 978220090, 169743370, 1239126601, 101321734, 611076132, 1558493276, 3260915650, 3547250131, 2901361580, 1655096418, 2443721105, 2510565781, 3828863972, 2039214713, 3878868455, 3359869896, 928607799, 1840765549, 2374762893, 3580146133, 1322425422, 2850048425, 1823791212, 1459268694, 4094161908, 3928346602, 1706019429, 2056189050, 2934523822, 135794696, 3134549946, 2022240376, 628050469, 779246638, 472135708, 2800834470, 3032970164, 3327236038, 3894660072, 3715932637, 1956440180, 522272287, 1272813131, 3185336765, 2340818315, 2323976074, 1888542832, 1044544574, 3049550261, 1722469478, 1222152264, 50660867, 4127324150, 236067854, 1638122081, 895445557, 1475980887, 3117443513, 2257655686, 3243809217, 489110045, 2662934430, 3778599393, 4162055160, 2561878936, 288563729, 1773916777, 3648039385, 2391345038, 2493985684, 2612407707, 505560094, 2274497927, 3911240169, 3460925390, 1442818645, 678973480, 3749357023, 2358182796, 2717407649, 2306869641, 219617805, 3218761151, 3862026214, 1120306242, 1756942440, 1103331905, 2578459033, 762796589, 252780047, 2966125488, 1425844308, 3151392187, 372911126], i[c([84, 52])] = [1667474886, 2088535288, 2004326894, 2071694838, 4075949567, 1802223062, 1869591006, 3318043793, 808472672, 16843522, 1734846926, 724270422, 4278065639, 3621216949, 2880169549, 1987484396, 3402253711, 2189597983, 3385409673, 2105378810, 4210693615, 1499065266, 1195886990, 4042263547, 2913856577, 3570689971, 2728590687, 2947541573, 2627518243, 2762274643, 1920112356, 3233831835, 3082273397, 4261223649, 2475929149, 640051788, 909531756, 1061110142, 4160160501, 3435941763, 875846760, 2779116625, 3857003729, 4059105529, 1903268834, 3638064043, 825316194, 353713962, 67374088, 3351728789, 589522246, 3284360861, 404236336, 2526454071, 84217610, 2593830191, 117901582, 303183396, 2155911963, 3806477791, 3958056653, 656894286, 2998062463, 1970642922, 151591698, 2206440989, 741110872, 437923380, 454765878, 1852748508, 1515908788, 2694904667, 1381168804, 993742198, 3604373943, 3014905469, 690584402, 3823320797, 791638366, 2223281939, 1398011302, 3520161977, 0, 3991743681, 538992704, 4244381667, 2981218425, 1532751286, 1785380564, 3419096717, 3200178535, 960056178, 1246420628, 1280103576, 1482221744, 3486468741, 3503319995, 4025428677, 2863326543, 4227536621, 1128514950, 1296947098, 859002214, 2240123921, 1162203018, 4193849577, 33687044, 2139062782, 1347481760, 1010582648, 2678045221, 2829640523, 1364325282, 2745433693, 1077985408, 2408548869, 2459086143, 2644360225, 943212656, 4126475505, 3166494563, 3065430391, 3671750063, 555836226, 269496352, 4294908645, 4092792573, 3537006015, 3452783745, 202118168, 320025894, 3974901699, 1600119230, 2543297077, 1145359496, 387397934, 3301201811, 2812801621, 2122220284, 1027426170, 1684319432, 1566435258, 421079858, 1936954854, 1616945344, 2172753945, 1330631070, 3705438115, 572679748, 707427924, 2425400123, 2290647819, 1179044492, 4008585671, 3099120491, 336870440, 3739122087, 1583276732, 185277718, 3688593069, 3772791771, 842159716, 976899700, 168435220, 1229577106, 101059084, 606366792, 1549591736, 3267517855, 3553849021, 2897014595, 1650632388, 2442242105, 2509612081, 3840161747, 2038008818, 3890688725, 3368567691, 926374254, 1835907034, 2374863873, 3587531953, 1313788572, 2846482505, 1819063512, 1448540844, 4109633523, 3941213647, 1701162954, 2054852340, 2930698567, 134748176, 3132806511, 2021165296, 623210314, 774795868, 471606328, 2795958615, 3031746419, 3334885783, 3907527627, 3722280097, 1953799400, 522133822, 1263263126, 3183336545, 2341176845, 2324333839, 1886425312, 1044267644, 3048588401, 1718004428, 1212733584, 50529542, 4143317495, 235803164, 1633788866, 892690282, 1465383342, 3115962473, 2256965911, 3250673817, 488449850, 2661202215, 3789633753, 4177007595, 2560144171, 286339874, 1768537042, 3654906025, 2391705863, 2492770099, 2610673197, 505291324, 2273808917, 3924369609, 3469625735, 1431699370, 673740880, 3755965093, 2358021891, 2711746649, 2307489801, 218961690, 3217021541, 3873845719, 1111672452, 1751693520, 1094828930, 2576986153, 757954394, 252645662, 2964376443, 1414855848, 3149649517, 370555436], i[c([85, 49])] = [0, 235474187, 470948374, 303765277, 941896748, 908933415, 607530554, 708780849, 1883793496, 2118214995, 1817866830, 1649639237, 1215061108, 1181045119, 1417561698, 1517767529, 3767586992, 4003061179, 4236429990, 4069246893, 3635733660, 3602770327, 3299278474, 3400528769, 2430122216, 2664543715, 2362090238, 2193862645, 2835123396, 2801107407, 3035535058, 3135740889, 3678124923, 3576870512, 3341394285, 3374361702, 3810496343, 3977675356, 4279080257, 4043610186, 2876494627, 2776292904, 3076639029, 3110650942, 2472011535, 2640243204, 2403728665, 2169303058, 1001089995, 899835584, 666464733, 699432150, 59727847, 226906860, 530400753, 294930682, 1273168787, 1172967064, 1475418501, 1509430414, 1942435775, 2110667444, 1876241833, 1641816226, 2910219766, 2743034109, 2976151520, 3211623147, 2505202138, 2606453969, 2302690252, 2269728455, 3711829422, 3543599269, 3240894392, 3475313331, 3843699074, 3943906441, 4178062228, 4144047775, 1306967366, 1139781709, 1374988112, 1610459739, 1975683434, 2076935265, 1775276924, 1742315127, 1034867998, 866637845, 566021896, 800440835, 92987698, 193195065, 429456164, 395441711, 1984812685, 2017778566, 1784663195, 1683407248, 1315562145, 1080094634, 1383856311, 1551037884, 101039829, 135050206, 437757123, 337553864, 1042385657, 807962610, 573804783, 742039012, 2531067453, 2564033334, 2328828971, 2227573024, 2935566865, 2700099354, 3001755655, 3168937228, 3868552805, 3902563182, 4203181171, 4102977912, 3736164937, 3501741890, 3265478751, 3433712980, 1106041591, 1340463100, 1576976609, 1408749034, 2043211483, 2009195472, 1708848333, 1809054150, 832877231, 1068351396, 766945465, 599762354, 159417987, 126454664, 361929877, 463180190, 2709260871, 2943682380, 3178106961, 3009879386, 2572697195, 2538681184, 2236228733, 2336434550, 3509871135, 3745345300, 3441850377, 3274667266, 3910161971, 3877198648, 4110568485, 4211818798, 2597806476, 2497604743, 2261089178, 2295101073, 2733856160, 2902087851, 3202437046, 2968011453, 3936291284, 3835036895, 4136440770, 4169408201, 3535486456, 3702665459, 3467192302, 3231722213, 2051518780, 1951317047, 1716890410, 1750902305, 1113818384, 1282050075, 1584504582, 1350078989, 168810852, 67556463, 371049330, 404016761, 841739592, 1008918595, 775550814, 540080725, 3969562369, 3801332234, 4035489047, 4269907996, 3569255213, 3669462566, 3366754619, 3332740144, 2631065433, 2463879762, 2160117071, 2395588676, 2767645557, 2868897406, 3102011747, 3069049960, 202008497, 33778362, 270040487, 504459436, 875451293, 975658646, 675039627, 641025152, 2084704233, 1917518562, 1615861247, 1851332852, 1147550661, 1248802510, 1484005843, 1451044056, 933301370, 967311729, 733156972, 632953703, 260388950, 25965917, 328671808, 496906059, 1206477858, 1239443753, 1543208500, 1441952575, 2144161806, 1908694277, 1675577880, 1842759443, 3610369226, 3644379585, 3408119516, 3307916247, 4011190502, 3776767469, 4077384432, 4245618683, 2809771154, 2842737049, 3144396420, 3043140495, 2673705150, 2438237621, 2203032232, 2370213795], i[c([85, 50])] = [0, 185469197, 370938394, 487725847, 741876788, 657861945, 975451694, 824852259, 1483753576, 1400783205, 1315723890, 1164071807, 1950903388, 2135319889, 1649704518, 1767536459, 2967507152, 3152976349, 2801566410, 2918353863, 2631447780, 2547432937, 2328143614, 2177544179, 3901806776, 3818836405, 4270639778, 4118987695, 3299409036, 3483825537, 3535072918, 3652904859, 2077965243, 1893020342, 1841768865, 1724457132, 1474502543, 1559041666, 1107234197, 1257309336, 598438867, 681933534, 901210569, 1052338372, 261314535, 77422314, 428819965, 310463728, 3409685355, 3224740454, 3710368113, 3593056380, 3875770207, 3960309330, 4045380933, 4195456072, 2471224067, 2554718734, 2237133081, 2388260884, 3212035895, 3028143674, 2842678573, 2724322336, 4138563181, 4255350624, 3769721975, 3955191162, 3667219033, 3516619604, 3431546947, 3347532110, 2933734917, 2782082824, 3099667487, 3016697106, 2196052529, 2313884476, 2499348523, 2683765030, 1179510461, 1296297904, 1347548327, 1533017514, 1786102409, 1635502980, 2087309459, 2003294622, 507358933, 355706840, 136428751, 53458370, 839224033, 957055980, 605657339, 790073846, 2373340630, 2256028891, 2607439820, 2422494913, 2706270690, 2856345839, 3075636216, 3160175349, 3573941694, 3725069491, 3273267108, 3356761769, 4181598602, 4063242375, 4011996048, 3828103837, 1033297158, 915985419, 730517276, 545572369, 296679730, 446754879, 129166120, 213705253, 1709610350, 1860738147, 1945798516, 2029293177, 1239331162, 1120974935, 1606591296, 1422699085, 4148292826, 4233094615, 3781033664, 3931371469, 3682191598, 3497509347, 3446004468, 3328955385, 2939266226, 2755636671, 3106780840, 2988687269, 2198438022, 2282195339, 2501218972, 2652609425, 1201765386, 1286567175, 1371368976, 1521706781, 1805211710, 1620529459, 2105887268, 1988838185, 533804130, 350174575, 164439672, 46346101, 870912086, 954669403, 636813900, 788204353, 2358957921, 2274680428, 2592523643, 2441661558, 2695033685, 2880240216, 3065962831, 3182487618, 3572145929, 3756299780, 3270937875, 3388507166, 4174560061, 4091327024, 4006521127, 3854606378, 1014646705, 930369212, 711349675, 560487590, 272786309, 457992840, 106852767, 223377554, 1678381017, 1862534868, 1914052035, 2031621326, 1211247597, 1128014560, 1580087799, 1428173050, 32283319, 182621114, 401639597, 486441376, 768917123, 651868046, 1003007129, 818324884, 1503449823, 1385356242, 1333838021, 1150208456, 1973745387, 2125135846, 1673061617, 1756818940, 2970356327, 3120694122, 2802849917, 2887651696, 2637442643, 2520393566, 2334669897, 2149987652, 3917234703, 3799141122, 4284502037, 4100872472, 3309594171, 3460984630, 3545789473, 3629546796, 2050466060, 1899603969, 1814803222, 1730525723, 1443857720, 1560382517, 1075025698, 1260232239, 575138148, 692707433, 878443390, 1062597235, 243256656, 91341917, 409198410, 325965383, 3403100636, 3252238545, 3704300486, 3620022987, 3874428392, 3990953189, 4042459122, 4227665663, 2460449204, 2578018489, 2226875310, 2411029155, 3198115200, 3046200461, 2827177882, 2743944855], i[c([85, 51])] = [0, 218828297, 437656594, 387781147, 875313188, 958871085, 775562294, 590424639, 1750626376, 1699970625, 1917742170, 2135253587, 1551124588, 1367295589, 1180849278, 1265195639, 3501252752, 3720081049, 3399941250, 3350065803, 3835484340, 3919042237, 4270507174, 4085369519, 3102249176, 3051593425, 2734591178, 2952102595, 2361698556, 2177869557, 2530391278, 2614737639, 3145456443, 3060847922, 2708326185, 2892417312, 2404901663, 2187128086, 2504130317, 2555048196, 3542330227, 3727205754, 3375740769, 3292445032, 3876557655, 3926170974, 4246310725, 4027744588, 1808481195, 1723872674, 1910319033, 2094410160, 1608975247, 1391201670, 1173430173, 1224348052, 59984867, 244860394, 428169201, 344873464, 935293895, 984907214, 766078933, 547512796, 1844882806, 1627235199, 2011214180, 2062270317, 1507497298, 1423022939, 1137477952, 1321699145, 95345982, 145085239, 532201772, 313773861, 830661914, 1015671571, 731183368, 648017665, 3175501286, 2957853679, 2807058932, 2858115069, 2305455554, 2220981195, 2474404304, 2658625497, 3575528878, 3625268135, 3473416636, 3254988725, 3778151818, 3963161475, 4213447064, 4130281361, 3599595085, 3683022916, 3432737375, 3247465558, 3802222185, 4020912224, 4172763771, 4122762354, 3201631749, 3017672716, 2764249623, 2848461854, 2331590177, 2280796200, 2431590963, 2648976442, 104699613, 188127444, 472615631, 287343814, 840019705, 1058709744, 671593195, 621591778, 1852171925, 1668212892, 1953757831, 2037970062, 1514790577, 1463996600, 1080017571, 1297403050, 3673637356, 3623636965, 3235995134, 3454686199, 4007360968, 3822090177, 4107101658, 4190530515, 2997825956, 3215212461, 2830708150, 2779915199, 2256734592, 2340947849, 2627016082, 2443058075, 172466556, 122466165, 273792366, 492483431, 1047239e3, 861968209, 612205898, 695634755, 1646252340, 1863638845, 2013908262, 1963115311, 1446242576, 1530455833, 1277555970, 1093597963, 1636604631, 1820824798, 2073724613, 1989249228, 1436590835, 1487645946, 1337376481, 1119727848, 164948639, 81781910, 331544205, 516552836, 1039717051, 821288114, 669961897, 719700128, 2973530695, 3157750862, 2871682645, 2787207260, 2232435299, 2283490410, 2667994737, 2450346104, 3647212047, 3564045318, 3279033885, 3464042516, 3980931627, 3762502690, 4150144569, 4199882800, 3070356634, 3121275539, 2904027272, 2686254721, 2200818878, 2384911031, 2570832044, 2486224549, 3747192018, 3528626907, 3310321856, 3359936201, 3950355702, 3867060991, 4049844452, 4234721005, 1739656202, 1790575107, 2108100632, 1890328081, 1402811438, 1586903591, 1233856572, 1149249077, 266959938, 48394827, 369057872, 418672217, 1002783846, 919489135, 567498868, 752375421, 209336225, 24197544, 376187827, 459744698, 945164165, 895287692, 574624663, 793451934, 1679968233, 1764313568, 2117360635, 1933530610, 1343127501, 1560637892, 1243112415, 1192455638, 3704280881, 3519142200, 3336358691, 3419915562, 3907448597, 3857572124, 4075877127, 4294704398, 3029510009, 3113855344, 2927934315, 2744104290, 2159976285, 2377486676, 2594734927, 2544078150], i[c([85, 52])] = [0, 151849742, 303699484, 454499602, 607398968, 758720310, 908999204, 1059270954, 1214797936, 1097159550, 1517440620, 1400849762, 1817998408, 1699839814, 2118541908, 2001430874, 2429595872, 2581445614, 2194319100, 2345119218, 3034881240, 3186202582, 2801699524, 2951971274, 3635996816, 3518358430, 3399679628, 3283088770, 4237083816, 4118925222, 4002861748, 3885750714, 1002142683, 850817237, 698445255, 548169417, 529487843, 377642221, 227885567, 77089521, 1943217067, 2061379749, 1640576439, 1757691577, 1474760595, 1592394909, 1174215055, 1290801793, 2875968315, 2724642869, 3111247143, 2960971305, 2405426947, 2253581325, 2638606623, 2487810577, 3808662347, 3926825029, 4044981591, 4162096729, 3342319475, 3459953789, 3576539503, 3693126241, 1986918061, 2137062819, 1685577905, 1836772287, 1381620373, 1532285339, 1078185097, 1229899655, 1040559837, 923313619, 740276417, 621982671, 439452389, 322734571, 137073913, 19308535, 3871163981, 4021308739, 4104605777, 4255800159, 3263785589, 3414450555, 3499326569, 3651041127, 2933202493, 2815956275, 3167684641, 3049390895, 2330014213, 2213296395, 2566595609, 2448830231, 1305906550, 1155237496, 1607244650, 1455525988, 1776460110, 1626319424, 2079897426, 1928707164, 96392454, 213114376, 396673818, 514443284, 562755902, 679998e3, 865136418, 983426092, 3708173718, 3557504664, 3474729866, 3323011204, 4180808110, 4030667424, 3945269170, 3794078908, 2507040230, 2623762152, 2272556026, 2390325492, 2975484382, 3092726480, 2738905026, 2857194700, 3973773121, 3856137295, 4274053469, 4157467219, 3371096953, 3252932727, 3673476453, 3556361835, 2763173681, 2915017791, 3064510765, 3215307299, 2156299017, 2307622919, 2459735317, 2610011675, 2081048481, 1963412655, 1846563261, 1729977011, 1480485785, 1362321559, 1243905413, 1126790795, 878845905, 1030690015, 645401037, 796197571, 274084841, 425408743, 38544885, 188821243, 3613494426, 3731654548, 3313212038, 3430322568, 4082475170, 4200115116, 3780097726, 3896688048, 2668221674, 2516901860, 2366882550, 2216610296, 3141400786, 2989552604, 2837966542, 2687165888, 1202797690, 1320957812, 1437280870, 1554391400, 1669664834, 1787304780, 1906247262, 2022837584, 265905162, 114585348, 499347990, 349075736, 736970802, 585122620, 972512814, 821712160, 2595684844, 2478443234, 2293045232, 2174754046, 3196267988, 3079546586, 2895723464, 2777952454, 3537852828, 3687994002, 3234156416, 3385345166, 4142626212, 4293295786, 3841024952, 3992742070, 174567692, 57326082, 410887952, 292596766, 777231668, 660510266, 1011452712, 893681702, 1108339068, 1258480242, 1343618912, 1494807662, 1715193156, 1865862730, 1948373848, 2100090966, 2701949495, 2818666809, 3004591147, 3122358053, 2235061775, 2352307457, 2535604243, 2653899549, 3915653703, 3764988233, 4219352155, 4067639125, 3444575871, 3294430577, 3746175075, 3594982253, 836553431, 953270745, 600235211, 718002117, 367585007, 484830689, 133361907, 251657213, 2041877159, 1891211689, 1806599355, 1654886325, 1568718495, 1418573201, 1335535747, 1184342925]; var o = new Uint8Array(16); for (var t_412 = 15; t_412 >= 0; --t_412)
                                    o[t_412] = n % 256, n = parseInt(n / 256); var r = null, s = 16; var a = new Uint8Array(e), l = [], d = []; !function () { var t = i[c([110, 117, 109, 98, 101, 114, 79, 102, 82, 111, 117, 110, 100, 115])][a[nv("0x17")]]; for (var e_764 = 0; e_764 <= t; e_764++)
                                    l[nv("0x1e")]([0, 0, 0, 0]), d[nv("0x1e")]([0, 0, 0, 0]); var e = 4 * (t + 1), n = a.length / 4, o = u(a); var r; for (var e_765 = 0; e_765 < n; e_765++)
                                    l[r = e_765 >> 2][e_765 % 4] = o[e_765], d[t - r][e_765 % 4] = o[e_765]; var s, h = 0, f = n; for (; f < e;) {
                                    s = o[n - 1], o[0] ^= i[c([83])][s >> 16 & 255] << 24 ^ i[c([83])][s >> 8 & 255] << 16 ^ i[c([83])][255 & s] << 8 ^ i[c([83])][s >> 24 & 255] ^ i[c([114, 99, 111, 110])][h] << 24, h += 1;
                                    for (var t_413 = 1; t_413 < n / 2; t_413++)
                                        o[t_413] ^= o[t_413 - 1];
                                    s = o[n / 2 - 1], o[n / 2] ^= i[c([83])][255 & s] ^ i[c([83])][s >> 8 & 255] << 8 ^ i[c([83])][s >> 16 & 255] << 16 ^ i[c([83])][s >> 24 & 255] << 24;
                                    for (var t_414 = n / 2 + 1; t_414 < n; t_414++)
                                        o[t_414] ^= o[t_414 - 1];
                                    var r_70 = void 0, a_25 = void 0, u_5 = 0;
                                    for (; u_5 < n && f < e;)
                                        a_25 = f % 4, l[r_70 = f >> 2][a_25] = o[u_5], d[t - r_70][a_25] = o[u_5++], f++;
                                } for (var e_766 = 1; e_766 < t; e_766++)
                                    for (var t_415 = 0; t_415 < 4; t_415++)
                                        s = d[e_766][t_415], d[e_766][t_415] = i[c([85, 49])][s >> 24 & 255] ^ i[c([85, 50])][s >> 16 & 255] ^ i[c([85, 51])][s >> 8 & 255] ^ i[c([85, 52])][255 & s]; }(); for (var e_767 = 0; e_767 < t[nv("0x17")]; e_767++)
                                    16 === s && (r = f(o), s = 0, h(o)), t[e_767] ^= r[s++]; return t; function u(t) { var e = []; for (var n_311 = 0; n_311 < t[nv("0x17")]; n_311 += 4)
                                    e[nv("0x1e")](t[n_311] << 24 | t[n_311 + 1] << 16 | t[n_311 + 2] << 8 | t[n_311 + 3]); return e; } function h(t) { for (var e_768 = 15; e_768 >= 0; e_768--) {
                                    if (255 !== t[e_768]) {
                                        t[e_768]++;
                                        break;
                                    }
                                    t[e_768] = 0;
                                } } function f(t) { var e = l[nv("0x17")] - 1, n = [0, 0, 0, 0]; var o = u(t); for (var t_416 = 0; t_416 < 4; t_416++)
                                    o[t_416] ^= l[0][t_416]; for (var t_417 = 1; t_417 < e; t_417++) {
                                    for (var e_769 = 0; e_769 < 4; e_769++)
                                        n[e_769] = i[c([84, 49])][o[e_769] >> 24 & 255] ^ i[c([84, 50])][o[(e_769 + 1) % 4] >> 16 & 255] ^ i[c([84, 51])][o[(e_769 + 2) % 4] >> 8 & 255] ^ i[c([84, 52])][255 & o[(e_769 + 3) % 4]] ^ l[t_417][e_769];
                                    o = n[nv("0x1f")]();
                                } var r = new Uint8Array(16); var s; for (var t_418 = 0; t_418 < 4; t_418++)
                                    s = l[e][t_418], r[4 * t_418] = 255 & (i[c([83])][o[t_418] >> 24 & 255] ^ s >> 24), r[4 * t_418 + 1] = 255 & (i[c([83])][o[(t_418 + 1) % 4] >> 16 & 255] ^ s >> 16), r[4 * t_418 + 2] = 255 & (i[c([83])][o[(t_418 + 2) % 4] >> 8 & 255] ^ s >> 8), r[4 * t_418 + 3] = 255 & (i[c([83])][255 & o[(t_418 + 3) % 4]] ^ s); return r; } }(i, e, i[nv("0x1d")]() + 256 * r)); }(r, new (window[c([85, 105, 110, 116, 56, 65, 114, 114, 97, 121])])(__spread(e, [29, 221, 175, 90, 231, 133, 239, 240, 75, 180], i))), d_6 = JSON.parse(l_11), u_6 = parseInt(d_6[c([49])]), h_1 = parseInt(d_6[c([51])]), f_1 = parseInt(d_6[c([52])]) || 0, p_1 = parseInt(d_6[c([53])]) || 0, m_1 = 2;
                                if (!(1 & f_1) || t[c([112, 108, 117, 103, 105, 110, 115])][c([104, 97, 115])](c([84, 114, 97, 99, 107, 67, 104, 97, 110, 103, 101, 115, 69, 100, 105, 116, 105, 110, 103])) && !(f_1 & m_1))
                                    return a(), s(c([108, 105, 99, 101, 110, 115, 101, 75, 101, 121, 73, 110, 118, 97, 108, 105, 100]));
                                if (p_1 && !window[c([111, 112, 101, 110])][c([99, 108, 111, 115, 101, 100])])
                                    return a(), s(c([108, 105, 99, 101, 110, 115, 101, 75, 101, 121, 73, 110, 118, 97, 108, 105, 100]));
                                if (parseInt(n) / 2 > u_6)
                                    return a(), s(c([108, 105, 99, 101, 110, 115, 101, 75, 101, 121, 73, 110, 118, 97, 108, 105, 100]));
                                if (t[c([112, 108, 117, 103, 105, 110, 115])][c([104, 97, 115])](c([84, 114, 97, 99, 107, 67, 104, 97, 110, 103, 101, 115, 69, 100, 105, 116, 105, 110, 103]))) {
                                    var e_770 = t[c([112, 108, 117, 103, 105, 110, 115])][c([103, 101, 116])](c([84, 114, 97, 99, 107, 67, 104, 97, 110, 103, 101, 115, 69, 100, 105, 116, 105, 110, 103]));
                                    if (parseInt(e_770[c([95, 101, 120, 101, 99, 117, 116, 101, 83, 117, 103, 103, 101, 115, 116, 105, 111, 110])]) / 2 > u_6)
                                        return a(), s(c([108, 105, 99, 101, 110, 115, 101, 75, 101, 121, 73, 110, 118, 97, 108, 105, 100]));
                                }
                                return s(c(h_1 ? [108, 105, 99, 101, 110, 115, 101, 75, 101, 121, 84, 114, 105, 97, 108] : [108, 105, 99, 101, 110, 115, 101, 75, 101, 121, 86, 97, 108, 105, 100]));
                            }
                            catch (t) {
                                return a(), s(c([108, 105, 99, 101, 110, 115, 101, 75, 101, 121, 73, 110, 118, 97, 108, 105, 100]));
                            } } function s(e) { var n = function () { var t = String(window[c([112, 101, 114, 102, 111, 114, 109, 97, 110, 99, 101])][c([110, 111, 119])]())[nv("0x15")](c([46]), ""); var e = ""; for (var n_312 = 0; n_312 < t[nv("0x17")]; n_312 += 2) {
                                var i_206 = parseInt(t[nv("0x20")](n_312, n_312 + 2));
                                i_206 >= o[nv("0x17")] && (i_206 -= o[nv("0x17")]), e += o[i_206];
                            } return e; }(); return t[n] = e, e; } function a() { t[c([109, 111, 100, 101, 108])][c([99, 104, 97, 110, 103, 101])] = (function () { }), t[c([109, 111, 100, 101, 108])][c([101, 110, 113, 117, 101, 117, 101, 67, 104, 97, 110, 103, 101])] = (function () { }), t[c([112, 108, 117, 103, 105, 110, 115])][c([103, 101, 116])](iv)[c([95, 99, 111, 109, 109, 101, 110, 116, 73, 100, 84, 111, 84, 104, 114, 101, 97, 100, 73, 100])][c([99, 108, 101, 97, 114])](); } function c(t) { return t[nv("0x21")](function (t) { return String[nv("0x1a")](t); })[nv("0x22")](""); } t[c([111, 110])](c([114, 101, 97, 100, 121]), function () { var e, n = 0; t[c([109, 111, 100, 101, 108])][c([111, 110])](c([97, 112, 112, 108, 121, 79, 112, 101, 114, 97, 116, 105, 111, 110]), function (i, o) { o[0][nv("0x23")] && n++, 6 === n ? e = r(t[nv("0x24")][nv("0x12")](c([108, 105, 99, 101, 110, 115, 101, 75, 101, 121]))) : e === c([108, 105, 99, 101, 110, 115, 101, 75, 101, 121, 84, 114, 105, 97, 108]) && 504 === n ? (a(), s(c([108, 105, 99, 101, 110, 115, 101, 75, 101, 121, 84, 114, 105, 97, 108, 76, 105, 109, 105, 116])), i[nv("0x25")]()) : e && e !== c([108, 105, 99, 101, 110, 115, 101, 75, 101, 121, 84, 114, 105, 97, 108]) && i[nv("0x25")](); }, { priority: c([104, 105, 103, 104, 101, 115, 116]) }); }); }(t); var e = t.plugins[nv("0x12")](Bw); t.commands[nv("0x26")](nv("0x27"), new Uw(t)), t.commands[nv("0x26")](nv("0x28"), new Yw(t)), t[nv("0x29")][nv("0x26")]("addComment", new $w(t, this, e)), t.commands[nv("0x26")]("updateComment", new Qw(t, this, e)), t[nv("0x29")].add(nv("0x2a"), new tv(t, this, e)), this.U(), this.P(); };
                            Object.defineProperty(iv.prototype, nv("0x2b"), {
                                set: function (t) { if (this.Z)
                                    throw new Gn.b(nv("0x2c"), this); this.Z = t; },
                                enumerable: true,
                                configurable: true
                            });
                            Object.defineProperty(iv.prototype, "adapter", {
                                get: function () { return this.Z; },
                                enumerable: true,
                                configurable: true
                            });
                            iv.prototype[nv("0x27")] = function (_j) {
                                var e_771, _q;
                                var t = _j.threadId, _z = _j.comments, e = _z === void 0 ? [] : _z;
                                if (nv("0x2d") != typeof t)
                                    throw new Gn.b(nv("0x2e"), this);
                                this.threads[nv("0x26")](new sv(t));
                                try {
                                    for (var e_772 = __values(e), e_772_1 = e_772.next(); !e_772_1.done; e_772_1 = e_772.next()) {
                                        var n_313 = e_772_1.value;
                                        this.addComment(Object[nv("0x2f")]({ threadId: t }, n_313));
                                    }
                                }
                                catch (e_771_1) { e_771 = { error: e_771_1 }; }
                                finally {
                                    try {
                                        if (e_772_1 && !e_772_1.done && (_q = e_772.return)) _q.call(e_772);
                                    }
                                    finally { if (e_771) throw e_771.error; }
                                }
                            };
                            iv.prototype[nv("0x30")] = function (_j) {
                                var t = _j.threadId, e = _j.commentId, n = _j.content, i = _j.authorId, o = _j.createdAt;
                                if (nv("0x2d") != typeof e)
                                    throw new Gn.b(nv("0x31"), this);
                                if (this[nv("0xf")].get(e))
                                    throw new Gn.b("commentsediting-duplicated-comment-id: Comment id has to be unique.", this);
                                if (nv("0x2d") != typeof i)
                                    throw new Gn.b(nv("0x32"), this);
                                if (nv("0x2d") != typeof n || !n[nv("0x33")]())
                                    throw new Gn.b(nv("0x34"), this);
                                var r = this[nv("0x2")][nv("0x12")](t);
                                if (!r)
                                    throw new Gn.b("commentsediting-missing-comment-thread: Cannot add Comment to not existing CommentThread.", this);
                                var s = this[nv("0x14")][nv("0x11")][nv("0x12")](Bw)[nv("0x35")](i);
                                if (!s)
                                    throw new Gn.b(nv("0x36"), this);
                                r[nv("0x26")](new av({ id: e, author: s, content: n, createdAt: o })), this._commentIdToThreadId.set(e, t);
                            };
                            iv.prototype[nv("0x37")] = function (_j) {
                                var t = _j.commentId, e = _j.content, n = _j.createdAt;
                                var i = this[nv("0xf")].get(t);
                                if (!i)
                                    throw new Gn.b(nv("0x38"), this);
                                if (e && (nv("0x2d") != typeof e || !e.trim()))
                                    throw new Gn.b(nv("0x34"), this);
                                var o = this[nv("0x2")][nv("0x12")](i)[nv("0x12")](t);
                                e && e != o[nv("0x39")] && (o.content = e), n && n != o.createdAt && (o[nv("0x3a")] = n);
                            };
                            iv.prototype[nv("0x2a")] = function (t) { var e = this[nv("0xf")].get(t); if (!e)
                                throw new Gn.b("commentsediting-missing-comment: Cannot remove not existing Comment.", this); var n = this.threads[nv("0x12")](e); n[nv("0x3b")](n[nv("0x12")](t)), this[nv("0xf")][nv("0x3c")](t); };
                            iv.prototype._getCommentThread = function (t) {
                                var _this = this;
                                var e = this.threads[nv("0x12")](t);
                                if (e)
                                    return Promise[nv("0x3d")](e);
                                if (!this[nv("0x2b")])
                                    throw new Gn.b('commentsediting-missing-thread-and-adapter: Comment thread with "' + t + nv("0x3e"), this);
                                if (nv("0x3f") != typeof this.adapter[nv("0x40")])
                                    throw new Gn.b(nv("0x41") + (nv("0x42") + t + '" id is not added to the editor nor adapter.getCommentThread() is defined.'), this);
                                return this[nv("0x2b")][nv("0x40")](t)[nv("0x43")](function (e) { if (e)
                                    return _this.addCommentThread(e), _this[nv("0x2")][nv("0x12")](t); })[nv("0x44")](function (t) { throw console[nv("0x45")](t), new Gn.b(nv("0x46"), _this[nv("0x14")]); });
                            };
                            iv.prototype[nv("0x47")] = function () {
                                var e_773, _j, t, _loop_13, _q, _z, e_774, e_773_1;
                                return __generator(this, function (_0) {
                                    switch (_0.label) {
                                        case 0:
                                            t = Array.from(this[nv("0x14")][nv("0x6")][nv("0x8")]);
                                            _loop_13 = function (e_774) {
                                                var _j;
                                                return __generator(this, function (_q) {
                                                    switch (_q.label) {
                                                        case 0:
                                                            _j = e_774[nv("0x17")] && t[nv("0x48")](function (t) { return t[nv("0x49")][nv("0x4a")](e_774.id); });
                                                            if (!_j) return [3 /*break*/, 2];
                                                            return [4 /*yield*/, e_774.toJSON()];
                                                        case 1:
                                                            _j = (_q.sent());
                                                            _q.label = 2;
                                                        case 2:
                                                            _j;
                                                            return [2 /*return*/];
                                                    }
                                                });
                                            };
                                            _0.label = 1;
                                        case 1:
                                            _0.trys.push([1, 6, 7, 8]);
                                            _q = __values(this[nv("0x2")]), _z = _q.next();
                                            _0.label = 2;
                                        case 2:
                                            if (!!_z.done) return [3 /*break*/, 5];
                                            e_774 = _z.value;
                                            return [5 /*yield**/, _loop_13(e_774)];
                                        case 3:
                                            _0.sent();
                                            _0.label = 4;
                                        case 4:
                                            _z = _q.next();
                                            return [3 /*break*/, 2];
                                        case 5: return [3 /*break*/, 8];
                                        case 6:
                                            e_773_1 = _0.sent();
                                            e_773 = { error: e_773_1 };
                                            return [3 /*break*/, 8];
                                        case 7:
                                            try {
                                                if (_z && !_z.done && (_j = _q.return)) _j.call(_q);
                                            }
                                            finally { if (e_773) throw e_773.error; }
                                            return [7 /*endfinally*/];
                                        case 8: return [2 /*return*/];
                                    }
                                });
                            };
                            iv.prototype.U = function () {
                                var _this = this;
                                var t = this.editor;
                                t[nv("0x4b")][nv("0x4c")]("editingDowncast")[nv("0x4d")]({ model: nv("0x4e"), view: function (t) { var e = ov(t[nv("0x4f")]).id, n = ["ck-comment-marker"]; return _this[nv("0x4")] === t[nv("0x4f")] && n[nv("0x1e")](nv("0x50")), { classes: n, attributes: { "data-comment": e } }; } }), t[nv("0x4b")][nv("0x4c")](nv("0x51")).markerToElement({ model: nv("0x4e"), view: function (e, n) { var i = t[nv("0x6")][nv("0x8")][nv("0x12")](e[nv("0x4f")]), o = ov(e[nv("0x4f")]).id; if (i.affectsData)
                                        return n.createUIElement(nv("0x4e"), { id: o, type: e[nv("0x52")] ? nv("0x53") : nv("0x54") }); } }), t[nv("0x4b")].for("upcast")[nv("0x55")]({ view: { name: "comment", attribute: { id: /^\w/ } }, model: function (t) { return "comment:" + t.getAttribute("id"); } });
                            };
                            iv.prototype.P = function () {
                                var _this = this;
                                var t = this[nv("0x14")], e = new Set, n = new Set;
                                t.model.document[nv("0x56")](function (i) {
                                    var e_775, _j;
                                    var o = !1;
                                    try {
                                        for (var _q = __values(t[nv("0x6")][nv("0x57")].differ[nv("0x58")]), _z = _q.next(); !_z.done; _z = _q.next()) {
                                            var _0 = __read(_z.value, 2), r_71 = _0[0], s_49 = _0[1];
                                            var _1 = ov(r_71), a_26 = _1.group, c_22 = _1.id;
                                            var l_12 = s_49[nv("0x59")];
                                            if ("comment" != a_26 || !l_12)
                                                continue;
                                            var d_7 = n[nv("0x9")](c_22), u_7 = "$graveyard" == l_12[nv("0x5a")][nv("0x5b")];
                                            u_7 || !(l_12 = rv(l_12, t[nv("0x6")])) || l_12[nv("0x5c")](s_49[nv("0x59")]) ? l_12 && (!d_7 || !u_7 && t[nv("0x6")][nv("0x5d")](l_12)) ? d_7 || u_7 || (n[nv("0x26")](c_22), _this[nv("0xb")] ? e.add(r_71) : _this.X(r_71)) : (i[nv("0x5e")](r_71), o = !0) : (i.updateMarker(r_71, { range: l_12 }), o = !0);
                                        }
                                    }
                                    catch (e_775_1) { e_775 = { error: e_775_1 }; }
                                    finally {
                                        try {
                                            if (_z && !_z.done && (_j = _q.return)) _j.call(_q);
                                        }
                                        finally { if (e_775) throw e_775.error; }
                                    }
                                    return o;
                                }), this.on(nv("0x5f"), function (t, n, i) {
                                    var e_776, _j;
                                    if (!i && e.size)
                                        try {
                                            for (var e_777 = __values(e), e_777_1 = e_777.next(); !e_777_1.done; e_777_1 = e_777.next()) {
                                                var t_419 = e_777_1.value;
                                                _this.X(t_419), e[nv("0x3c")](t_419);
                                            }
                                        }
                                        catch (e_776_1) { e_776 = { error: e_776_1 }; }
                                        finally {
                                            try {
                                                if (e_777_1 && !e_777_1.done && (_j = e_777.return)) _j.call(e_777);
                                            }
                                            finally { if (e_776) throw e_776.error; }
                                        }
                                }), this.listenTo(t.model.markers, nv("0x60"), function (t, i, o, r) { if (r)
                                    return; var s = ov(i[nv("0x49")]).id, a = _this[nv("0x2")][nv("0x12")](s); n[nv("0x3c")](s), e[nv("0x3c")](i[nv("0x49")]), a && (a[nv("0x17")] || _this.threads[nv("0x3b")](s), _this[nv("0x61")](nv("0x62"), a)); });
                            };
                            iv.prototype.X = function (t) {
                                var _this = this;
                                var e = this[nv("0x14")].model.markers[nv("0x12")](t), n = ov(t).id;
                                e[nv("0x63")] || this[nv("0x27")]({ threadId: n }), this[nv("0x64")](n)[nv("0x43")](function (t) { nv("0x65") != _this[nv("0x14")][nv("0x66")] && (t ? _this[nv("0x61")](nv("0x67"), t) : _this[nv("0x14")].execute(nv("0x28"), { threadId: n })); });
                            };
                            return iv;
                        }(Sd));
                        function ov(t) { var e = t[nv("0x68")](":"); return { group: e[0], id: e[1] }; }
                        function rv(t, e) {
                            var e_778, _j;
                            var n = e[nv("0x69")], i = e[nv("0x6a")](t[nv("0x53")]);
                            try {
                                for (var _q = __values(t[nv("0x6b")]()), _z = _q.next(); !_z.done; _z = _q.next()) {
                                    var o_128 = _z.value;
                                    var t_420 = o_128.type, r_72 = o_128.item, s_50 = o_128.nextPosition;
                                    if (nv("0x6c") == t_420 || n.isObject(r_72)) {
                                        var t_421 = e[nv("0x6d")](r_72);
                                        i[nv("0x6e")] && (i.start = t_421), i[nv("0x54")] = s_50;
                                    }
                                }
                            }
                            catch (e_778_1) { e_778 = { error: e_778_1 }; }
                            finally {
                                try {
                                    if (_z && !_z.done && (_j = _q.return)) _j.call(_q);
                                }
                                finally { if (e_778) throw e_778.error; }
                            }
                            return i[nv("0x6e")] ? null : i;
                        }
                        var sv = /** @class */ (function (_super) {
                            __extends(sv, _super);
                            function sv(t) {
                                var _this = this;
                                _this = _super.call(this) || this, _this.id = t;
                                return _this;
                            }
                            sv.prototype.add = function (t) {
                                var _this = this;
                                return this[nv("0x6f")](t, "change", function (e, n) { if ("createdAt" == n) {
                                    var e_779 = _this.Y(t);
                                    e_779 - 1 != _this[nv("0x70")](t) && e_779 + 1 != _this[nv("0x70")](t) && (_this[nv("0x3b")](t), _this[nv("0x26")](t));
                                } _this[nv("0x61")](nv("0x7")); }), t[nv("0x3a")] ? _super.prototype[nv("0x26")].call(this, t, this.Y(t)) : _super.prototype[nv("0x26")].call(this, t);
                            };
                            sv.prototype[nv("0x3b")] = function (t) { return this[nv("0x71")](t), t[nv("0x72")](), _super.prototype[nv("0x3b")].call(this, t); };
                            sv.prototype.Y = function (t) { var e = this.find(function (e) { return new Date(e[nv("0x3a")])[nv("0x73")]() > new Date(t[nv("0x3a")])[nv("0x73")](); }); return e ? this.getIndex(e) : this.length; };
                            sv.prototype[nv("0x74")] = function () { return { threadId: this.id, comments: this[nv("0x21")](function (t) { return t[nv("0x74")](); }) }; };
                            return sv;
                        }(ro));
                        var av = /** @class */ (function () {
                            function av(t) {
                                this.id = t.id, this.author = t.author, this[nv("0x3")](nv("0x39"), t[nv("0x39")]), this[nv("0x3")](nv("0x3a"), t.createdAt);
                            }
                            av.prototype.toJSON = function () { return { commentId: this.id, content: this[nv("0x39")], createdAt: this[nv("0x3a")], authorId: this[nv("0x75")].id }; };
                            av.prototype[nv("0x72")] = function () { this[nv("0x71")](); };
                            return av;
                        }());
                        li(av, Ui);
                        var cv = /** @class */ (function () {
                            function cv(t) {
                                this.tt = t, this.et = new Set;
                            }
                            cv.prototype[nv("0x3")] = function (t) { this.et.add(t), this.nt || (this.nt = this.tt[nv("0x26")]("Unsaved changes in comments.")); };
                            cv.prototype[nv("0x3b")] = function (t) { this.et[nv("0x3c")](t), this.nt && !this.et[nv("0x76")] && (this.tt[nv("0x3b")](this.nt), this.nt = null); };
                            cv.prototype[Symbol[nv("0x77")]] = function () { return this.et[nv("0x78")]()[Symbol[nv("0x77")]](); };
                            return cv;
                        }());
                        var lv = ["change:isEnabled", "pluginName", "CommentsOnly", "requires", "editor", "config", "get", "commentsOnly", "includes", "constructor", "forceDisabled", "commentsOnlyMode", "document", "listenTo", "cut", "stop", "clipboardInput", "highest", "delete", "commands", "clearForceDisabled", "stopListening", "editing", "view", "set"];
                        !function (t, e) { !function (e) { for (; --e;)
                            t.push(t.shift()); }(++e); }(lv, 174);
                        var dv = function (t, e) { return lv[t -= 0]; };
                        var uv = /** @class */ (function (_super) {
                            __extends(uv, _super);
                            function uv(t) {
                                var _this = this;
                                _this = _super.call(this, t) || this, _this.Ot = [$w, Qw, tv, Uw, Yw], _this[dv("0x0")]("isEnabled", !1), _this.on(dv("0x1"), function (t, e, n) { n ? _this.Mt() : _this.It(); });
                                return _this;
                            }
                            Object.defineProperty(uv, dv("0x2"), {
                                get: function () { return dv("0x3"); },
                                enumerable: true,
                                configurable: true
                            });
                            Object.defineProperty(uv, dv("0x4"), {
                                get: function () { return [iv]; },
                                enumerable: true,
                                configurable: true
                            });
                            uv.prototype.afterInit = function () { this.isEnabled = !!this[dv("0x5")][dv("0x6")][dv("0x7")](dv("0x8")); };
                            uv.prototype.Mt = function () {
                                var e_780, _j;
                                try {
                                    for (var _q = __values(this[dv("0x5")].commands.commands()), _z = _q.next(); !_z.done; _z = _q.next()) {
                                        var t_422 = _z.value;
                                        this.Ot[dv("0x9")](t_422[dv("0xa")]) || t_422[dv("0xb")](dv("0xc"));
                                    }
                                }
                                catch (e_780_1) { e_780 = { error: e_780_1 }; }
                                finally {
                                    try {
                                        if (_z && !_z.done && (_j = _q.return)) _j.call(_q);
                                    }
                                    finally { if (e_780) throw e_780.error; }
                                }
                                var t = this[dv("0x5")].editing.view[dv("0xd")];
                                this[dv("0xe")](t, dv("0xf"), function (t) { return t[dv("0x10")](); }, { priority: "highest" }), this.listenTo(t, dv("0x11"), function (t) { return t[dv("0x10")](); }, { priority: dv("0x12") }), this[dv("0xe")](t, dv("0x13"), function (t) { return t.stop(); }, { priority: "highest" });
                            };
                            uv.prototype.It = function () {
                                var e_781, _j;
                                try {
                                    for (var _q = __values(this[dv("0x5")][dv("0x14")][dv("0x14")]()), _z = _q.next(); !_z.done; _z = _q.next()) {
                                        var t_423 = _z.value;
                                        this.Ot[dv("0x9")](t_423.constructor) || t_423[dv("0x15")](dv("0xc"));
                                    }
                                }
                                catch (e_781_1) { e_781 = { error: e_781_1 }; }
                                finally {
                                    try {
                                        if (_z && !_z.done && (_j = _q.return)) _j.call(_q);
                                    }
                                    finally { if (e_781) throw e_781.error; }
                                }
                                this[dv("0x16")](this[dv("0x5")][dv("0x17")][dv("0x18")][dv("0xd")]);
                            };
                            return uv;
                        }(Sd));
                        var hv = ["load", "sessionId", "getUserBySessionId", "getUserSessions", "push", "role", "getUser", "addUser", "defineMe", "orderNumber", "Sessions", "requires", "init", "editor", "plugins", "get", "sessions", "add", "user", "reader", "isReadOnly", "commentator", "listenTo", "remove", "connected", "connectedUsers", "clear", "connection"];
                        !function (t, e) { !function (e) { for (; --e;)
                            t.push(t.shift()); }(++e); }(hv, 486);
                        var fv = function (t, e) { return hv[t -= 0]; };
                        var pv = /** @class */ (function (_super) {
                            __extends(pv, _super);
                            function pv() {
                                return _super !== null && _super.apply(this, arguments) || this;
                            }
                            Object.defineProperty(pv, "pluginName", {
                                get: function () { return fv("0x0"); },
                                enumerable: true,
                                configurable: true
                            });
                            Object.defineProperty(pv, fv("0x1"), {
                                get: function () { return [Ow, Bw]; },
                                enumerable: true,
                                configurable: true
                            });
                            pv.prototype[fv("0x2")] = function () {
                                var _this = this;
                                var t = this[fv("0x3")], e = t[fv("0x4")][fv("0x5")](Ow);
                                this[fv("0x6")] = new ro, this.connectedUsers = new ro, this.H = 0, this.J = t.plugins[fv("0x5")](Bw), this.listenTo(this[fv("0x6")], fv("0x7"), function (e, n) { if (n[fv("0x8")].id === _this.J.me.id)
                                    switch (n.role) {
                                        case fv("0x9"):
                                            t[fv("0xa")] = !0;
                                            break;
                                        case fv("0xb"): t.plugins.has(uv) && (t[fv("0x4")].get(uv).isEnabled = !0);
                                    } _this.o(n[fv("0x8")]); }), this[fv("0xc")](this[fv("0x6")], fv("0xd"), function (t, e) { return _this.h(e.user); }), this.listenTo(e, "change:state", function (t, e, n) {
                                    var e_782, _j;
                                    if (fv("0xe") != n)
                                        _this[fv("0xf")][fv("0x10")]();
                                    else
                                        try {
                                            for (var _q = __values(_this.sessions), _z = _q.next(); !_z.done; _z = _q.next()) {
                                                var t_424 = _z.value;
                                                _this.o(t_424[fv("0x8")]);
                                            }
                                        }
                                        catch (e_782_1) { e_782 = { error: e_782_1 }; }
                                        finally {
                                            try {
                                                if (_z && !_z.done && (_j = _q.return)) _j.call(_q);
                                            }
                                            finally { if (e_782) throw e_782.error; }
                                        }
                                }), this.K(e[fv("0x11")].me, !0);
                            };
                            pv.prototype[fv("0x12")] = function (t) {
                                var _this = this;
                                var e_783, _j;
                                this[fv("0xc")](t, fv("0x7"), function (t, e) { return _this.L(e); }), this.listenTo(t, fv("0xd"), function (t, e) { return _this.M(e); });
                                try {
                                    for (var t_425 = __values(t), t_425_1 = t_425.next(); !t_425_1.done; t_425_1 = t_425.next()) {
                                        var e_784 = t_425_1.value;
                                        this.L(e_784);
                                    }
                                }
                                catch (e_783_1) { e_783 = { error: e_783_1 }; }
                                finally {
                                    try {
                                        if (t_425_1 && !t_425_1.done && (_j = t_425.return)) _j.call(t_425);
                                    }
                                    finally { if (e_783) throw e_783.error; }
                                }
                            };
                            Object.defineProperty(pv.prototype, "mySessionId", {
                                get: function () { return this[fv("0x3")].plugins[fv("0x5")](Ow)[fv("0x11")][fv("0x13")]; },
                                enumerable: true,
                                configurable: true
                            });
                            pv.prototype[fv("0x14")] = function (t) {
                                var e_785, _j;
                                try {
                                    for (var _q = __values(this[fv("0x6")]), _z = _q.next(); !_z.done; _z = _q.next()) {
                                        var e_786 = _z.value;
                                        if (e_786.id == t)
                                            return e_786[fv("0x8")];
                                    }
                                }
                                catch (e_785_1) { e_785 = { error: e_785_1 }; }
                                finally {
                                    try {
                                        if (_z && !_z.done && (_j = _q.return)) _j.call(_q);
                                    }
                                    finally { if (e_785) throw e_785.error; }
                                }
                            };
                            pv.prototype[fv("0x15")] = function (t) {
                                var e_787, _j;
                                var e = [];
                                try {
                                    for (var _q = __values(this.sessions), _z = _q.next(); !_z.done; _z = _q.next()) {
                                        var n_314 = _z.value;
                                        n_314[fv("0x8")] === t && e[fv("0x16")](n_314.id);
                                    }
                                }
                                catch (e_787_1) { e_787 = { error: e_787_1 }; }
                                finally {
                                    try {
                                        if (_z && !_z.done && (_j = _q.return)) _j.call(_q);
                                    }
                                    finally { if (e_787) throw e_787.error; }
                                }
                                return e;
                            };
                            pv.prototype.getUserRole = function (t) {
                                var e_788, _j;
                                try {
                                    for (var _q = __values(this.sessions), _z = _q.next(); !_z.done; _z = _q.next()) {
                                        var e_789 = _z.value;
                                        if (e_789[fv("0x8")] === t)
                                            return e_789[fv("0x17")];
                                    }
                                }
                                catch (e_788_1) { e_788 = { error: e_788_1 }; }
                                finally {
                                    try {
                                        if (_z && !_z.done && (_j = _q.return)) _j.call(_q);
                                    }
                                    finally { if (e_788) throw e_788.error; }
                                }
                            };
                            pv.prototype.L = function (t) { var e = t.user; this[fv("0x6")][fv("0x7")]({ id: t.id, user: this.J[fv("0x18")](e.id) || this.K(e), role: t[fv("0x17")] }); };
                            pv.prototype.M = function (t) { this[fv("0x6")][fv("0xd")](t.id); };
                            pv.prototype.o = function (t) { this.connectedUsers[fv("0x5")](t.id) || this[fv("0xf")][fv("0x7")](t); };
                            pv.prototype.h = function (t) { this.connectedUsers[fv("0x5")](t.id) && this.getUserSessions(t) < 2 && this[fv("0xf")].remove(t.id); };
                            pv.prototype.K = function (t, e) { var n = this.J[fv("0x19")](t); return e && this.J[fv("0x1a")](t.id), n[fv("0x1b")] = this.H++, n; };
                            return pv;
                        }(Sd));
                        n(263);
                        var mv = ["userPositionMarker", "innerHTML", '&#8203;<span class="ck-user__marker-line"><span class="ck-user__marker-dot"></span></span>', "getCustomProperty", "getAttribute", "data-session-id", "priority", "orderNumber", "markerToHighlight", "user:range", "update:user", "delete", "name", "change:range", "$graveyard", "rootName", "root", "has", "deletionPosition", "fromRange", "set", "end", "detach", "document", "change", "size", "enqueueChange", "transparent", "updateMarker", "createUserMarkerOperations", "user:position:", "getFirstRange", "selection", "getFirstPosition", "addMarker", "requires", "pluginName", "UserMarkers", "editor", "plugins", "get", "conversion", "for", "editingDowncast", "markerToElement", "user:position", "markerName", "split", "mySessionId", "model", "schema", "markerRange", "start", "$text", "ck-user__marker ", "color", "markers", "parent", "contenteditable", "createUIElement", "span", "setCustomProperty"];
                        !function (t, e) { !function (e) { for (; --e;)
                            t.push(t.shift()); }(++e); }(mv, 407);
                        var gv = function (t, e) { return mv[t -= 0]; };
                        var xv = /** @class */ (function (_super) {
                            __extends(xv, _super);
                            function xv() {
                                return _super !== null && _super.apply(this, arguments) || this;
                            }
                            Object.defineProperty(xv, gv("0x0"), {
                                get: function () { return [pv]; },
                                enumerable: true,
                                configurable: true
                            });
                            Object.defineProperty(xv, gv("0x1"), {
                                get: function () { return gv("0x2"); },
                                enumerable: true,
                                configurable: true
                            });
                            xv.prototype.init = function () { var t = this[gv("0x3")], e = t[gv("0x4")][gv("0x5")](pv); t[gv("0x6")][gv("0x7")](gv("0x8"))[gv("0x9")]({ model: gv("0xa"), view: function (n, i) { return (function (t, e, n, i) { var o = t[gv("0xb")][gv("0xc")](":")[2], r = n.getUserBySessionId(o); if (!r || o === n[gv("0xd")])
                                    return; if (!i[gv("0xe")][gv("0xf")].checkChild(t[gv("0x10")][gv("0x11")], gv("0x12")))
                                    return; var s = { class: gv("0x13") + r[gv("0x14")].getMarkerClass(), "data-name": r.name, "data-session-id": o }, a = i[gv("0xe")][gv("0x15")][gv("0x5")](t[gv("0xb")]).getStart()[gv("0x16")]; i[gv("0xe")][gv("0xf")].isLimit(a) && !i[gv("0xe")].hasContent(a) && (s[gv("0x17")] = !1); var c = function (t, e) { var n = t[gv("0x18")](gv("0x19"), e); return t[gv("0x1a")](gv("0x1b"), !0, n), n.render = function (t) { var e = this.toDomElement(t); return e[gv("0x1c")] = gv("0x1d"), e; }, n.isSimilar = function (t) { return this.getCustomProperty(gv("0x1b")) && t[gv("0x1e")](gv("0x1b")) && this[gv("0x1f")](gv("0x20")) == t[gv("0x1f")](gv("0x20")); }, n; }(e, s); return c[gv("0x21")] = 1e3 + r[gv("0x22")], c; })(n, i, e, t); } }), t[gv("0x6")][gv("0x7")]("editingDowncast")[gv("0x23")]({ model: gv("0x24"), view: function (t) { return (function (t, e) { var n = t[gv("0xb")][gv("0xc")](":")[2]; if (n === e[gv("0xd")])
                                    return; var i = e.getUserBySessionId(n); return i ? { id: n, classes: ["ck-user__selection", i[gv("0x14")].getSelectionClass()], attributes: { "data-session-id": n }, priority: 2e3 + i[gv("0x22")] } : { id: n }; })(t, e); } }), function (t) { var e = t[gv("0xe")], n = new Map, i = t[gv("0x4")].get(pv); e[gv("0x15")].on(gv("0x25"), function (t, o, r, s) { s ? o[gv("0x27")][gv("0xc")](":")[2] !== i[gv("0xd")] && o.on(gv("0x28"), function (t, i, r) { if (gv("0x29") != i.root[gv("0x2a")] && gv("0x29") == o.getRange()[gv("0x2b")][gv("0x2a")] && !n[gv("0x2c")](o.name)) {
                                var t_426 = e[gv("0xf")].getNearestSelectionRange(r[gv("0x2d")]);
                                if (t_426) {
                                    var i_207 = aa[gv("0x2e")](t_426);
                                    n[gv("0x2f")](o.name, i_207), i_207.on(gv("0x28"), function (t, r, s) { if ("$graveyard" == i_207[gv("0x2b")][gv("0x2a")]) {
                                        var t_427 = e.schema.getNearestSelectionRange(s[gv("0x2d")]);
                                        t_427 ? (i_207[gv("0x11")] = t_427[gv("0x11")], i_207[gv("0x30")] = t_427[gv("0x30")]) : (n[gv("0x26")](o[gv("0x27")]), i_207[gv("0x31")]());
                                    } });
                                }
                            } }) : n[gv("0x26")](o[gv("0x27")]); }), e[gv("0x32")].on(gv("0x33"), function () { n[gv("0x34")] > 0 && e[gv("0x35")](gv("0x36"), function (t) {
                                var e_790, _j;
                                try {
                                    for (var n_315 = __values(n), n_315_1 = n_315.next(); !n_315_1.done; n_315_1 = n_315.next()) {
                                        var _q = __read(n_315_1.value, 2), i_208 = _q[0], o_129 = _q[1];
                                        "$graveyard" == e[gv("0x15")].get(i_208).getRange()[gv("0x2b")][gv("0x2a")] && (t[gv("0x37")](i_208, { range: o_129 }), o_129[gv("0x31")]());
                                    }
                                }
                                catch (e_790_1) { e_790 = { error: e_790_1 }; }
                                finally {
                                    try {
                                        if (n_315_1 && !n_315_1.done && (_j = n_315.return)) _j.call(n_315);
                                    }
                                    finally { if (e_790) throw e_790.error; }
                                }
                                n.clear();
                            }); }); }(t); };
                            xv.prototype[gv("0x38")] = function () { var t = this[gv("0x3")], e = t.model.document, n = t[gv("0x4")][gv("0x5")](pv); t.model.enqueueChange(gv("0x36"), function (i) { var o = "user:range:" + n[gv("0xd")], r = gv("0x39") + n[gv("0xd")], s = t.model.markers[gv("0x5")](o), a = t[gv("0xe")].markers[gv("0x5")](r), c = e.selection[gv("0x3a")](), l = t[gv("0xe")].createRange(e[gv("0x3b")][gv("0x3c")]()); s ? i[gv("0x37")](o, { range: c }) : i.addMarker(o, { range: c, usingOperation: !0 }), a ? i.updateMarker(r, { range: l }) : i[gv("0x3d")](r, { range: l, usingOperation: !0 }); }); };
                            return xv;
                        }(Sd));
                        var bv = ["decode", "registerDescriptor", "nested", "fromJSON", "getDescriptor", "protobuffactory-cannot-get-descriptor-before-build: Cannot get descriptor before build.", "verify", "encode", "create", "decompress", "toObject"];
                        !function (t, e) { !function (e) { for (; --e;)
                            t.push(t.shift()); }(++e); }(bv, 111);
                        var kv = function (t, e) { return bv[t -= 0]; };
                        var wv = /** @class */ (function () {
                            function wv() {
                                this.D = { nested: {} };
                            }
                            wv.prototype[kv("0x0")] = function (t, e) { this.D[kv("0x1")][t] = e; };
                            wv.prototype.build = function () { this.j = Jk.a.Root[kv("0x2")](this.D); };
                            wv.prototype[kv("0x3")] = function (t) { if (!this.j)
                                throw new Gn.b(kv("0x4"), this); return new vv(this.j.lookupType(t)); };
                            return wv;
                        }());
                        var vv = /** @class */ (function () {
                            function vv(t) {
                                this.C = t;
                            }
                            vv.prototype.compress = function (t) { var e = this.C[kv("0x5")](t); if (e)
                                throw Error(e); return this.C[kv("0x6")](this.C[kv("0x7")](t)).finish(); };
                            vv.prototype[kv("0x8")] = function (t) { return this.C[kv("0x9")](this.C[kv("0xa")](t), { oneofs: !0 }); };
                            return vv;
                        }());
                        var yv = ["Element", "string", "bool", "repeated", "uint32", "Position"];
                        !function (t, e) { !function (e) { for (; --e;)
                            t.push(t.shift()); }(++e); }(yv, 349);
                        var _v = function (t, e) { return yv[t -= 0]; }, Cv = { Position: { fields: { root: { type: _v("0x0"), id: 1 }, rootMain: { type: _v("0x1"), id: 2 }, rootGraveyard: { type: _v("0x1"), id: 3 }, path: { rule: _v("0x2"), type: _v("0x3"), id: 4 }, stickiness: { type: _v("0x0"), id: 5 } } }, Range: { fields: { start: { type: "Position", id: 1 }, end: { type: _v("0x4"), id: 2 } } }, Element: { fields: { name: { type: _v("0x0"), id: 1 }, children: { rule: "repeated", type: _v("0x5"), id: 2 }, data: { type: _v("0x0"), id: 3 }, attributesBoolean: { keyType: _v("0x0"), type: "bool", id: 4 }, attributesJson: { type: "string", id: 5 } } } }, Tv = ["$graveyard", "rootGraveyard", "rootMain", "nodes", "length", "root", "path", "main"];
                        !function (t, e) { !function (e) { for (; --e;)
                            t.push(t.shift()); }(++e); }(Tv, 252);
                        var Av = function (t, e) { return Tv[t -= 0]; };
                        function Sv(t, e) { var n = ma(t); return n.path[n.path[Av("0x0")] - 1] += e, n; }
                        function Ev(t, e) { return t.root === e[Av("0x1")] && dc(t[Av("0x2")], e[Av("0x2")]); }
                        function Pv(t) { Nv(t, function (t) { return (Av("0x3") == t[Av("0x1")] ? (t.rootMain = !0, delete t.root) : Av("0x4") == t[Av("0x1")] && (t[Av("0x5")] = !0, delete t[Av("0x1")]), t); }); }
                        function Iv(t) { Nv(t, function (t) { return (t[Av("0x6")] ? (t[Av("0x1")] = Av("0x3"), delete t[Av("0x6")]) : t.rootGraveyard && (t[Av("0x1")] = Av("0x4"), delete t[Av("0x5")]), t); }); }
                        function Nv(t, e) { for (var n_316 in t) {
                            var i_209 = t[n_316];
                            Av("0x7") !== n_316 && z(i_209) && (i_209[Av("0x2")] && (i_209[Av("0x1")] || i_209[Av("0x6")] || i_209[Av("0x5")]) ? t[n_316] = e(i_209) : Nv(i_209, e));
                        } return t; }
                        var Mv = ["types", "decompress", "operationName", "_protobufDescriptor", "compress", "shift", "buffers", "push"];
                        !function (t, e) { !function (e) { for (; --e;)
                            t.push(t.shift()); }(++e); }(Mv, 330);
                        var Ov = function (t, e) { return Mv[t -= 0]; };
                        var Rv = /** @class */ (function () {
                            function Rv(t, e, n) {
                                this.id = t, this[Ov("0x0")] = e, this[Ov("0x1")] = n;
                            }
                            Rv.prototype[Ov("0x2")] = function (t, e) { var n = e[Ov("0x3")](); Pv(n), t[Ov("0x4")][Ov("0x5")](this._protobufDescriptor[Ov("0x2")](n)), t[Ov("0x6")][Ov("0x5")](this.id); };
                            Rv.prototype[Ov("0x7")] = function (t, e) { e[Ov("0x6")].shift(); var n = this[Ov("0x1")][Ov("0x7")](e[Ov("0x4")][Ov("0x3")]()); Iv(n), n.__className = this[Ov("0x0")], t[Ov("0x5")](n); };
                            return Rv;
                        }());
                        var Dv = ["_protobufDescriptor", "shift", "__className", "operationName", "stringify", "Json", "Boolean", "description", "Range", "string", "bool", "compress", "oldValue", "buffers", "push", "decompress"];
                        !function (t, e) { !function (e) { for (; --e;)
                            t.push(t.shift()); }(++e); }(Dv, 183);
                        var jv = function (t, e) { return Dv[t -= 0]; };
                        var Bv = /** @class */ (function (_super) {
                            __extends(Bv, _super);
                            function Bv() {
                                return _super !== null && _super.apply(this, arguments) || this;
                            }
                            Object.defineProperty(Bv, jv("0x0"), {
                                get: function () { return { fields: { range: { type: jv("0x1"), id: 1 }, key: { type: jv("0x2"), id: 2 }, oldValueBoolean: { type: "bool", id: 3 }, oldValueJson: { type: jv("0x2"), id: 4 }, newValueBoolean: { type: jv("0x3"), id: 5 }, newValueJson: { type: "string", id: 6 }, wasUndone: { type: jv("0x3"), id: 7 } } }; },
                                enumerable: true,
                                configurable: true
                            });
                            Bv.prototype[jv("0x4")] = function (t, e) { var n = e.shift(); Lv(jv("0x5"), n), Lv("newValue", n), Pv(n), t[jv("0x6")][jv("0x7")](this._protobufDescriptor[jv("0x4")](n)), t.types[jv("0x7")](this.id); };
                            Bv.prototype[jv("0x8")] = function (t, e) { var n = e.types, i = e.buffers, o = this[jv("0x9")].decompress(i[jv("0xa")]()); n[jv("0xa")](), Vv(jv("0x5"), o), Vv("newValue", o), Iv(o), o[jv("0xb")] = this[jv("0xc")], t.push(o); };
                            return Bv;
                        }(Rv));
                        function Lv(t, e) { var n = e[t]; "boolean" == typeof n ? e[t + "Boolean"] = n : e[t + "Json"] = JSON[jv("0xd")](n); }
                        function Vv(t, e) { var n = t + jv("0xe"); e[n] ? (e[t] = JSON.parse(e[n]), delete e[n]) : (e[t] = e[t + jv("0xf")], delete e[t + "Boolean"]); }
                        var Fv = ["push", "_protobufDescriptor", "parse", "__className", "operationName", "keys", "boolean", "description", "repeated", "bool", "compress", "shift", "attributes", "attributesBoolean", "attributesJson", "stringify", "children", "nodes", "buffers"];
                        !function (t, e) { !function (e) { for (; --e;)
                            t.push(t.shift()); }(++e); }(Fv, 387);
                        var zv = function (t, e) { return Fv[t -= 0]; };
                        var Uv = /** @class */ (function (_super) {
                            __extends(Uv, _super);
                            function Uv() {
                                return _super !== null && _super.apply(this, arguments) || this;
                            }
                            Object.defineProperty(Uv, zv("0x0"), {
                                get: function () { return { fields: { position: { type: "Position", id: 1 }, nodes: { rule: zv("0x1"), type: "Element", id: 2 }, shouldReceiveAttributes: { type: "bool", id: 3 }, wasUndone: { type: zv("0x2"), id: 4 } } }; },
                                enumerable: true,
                                configurable: true
                            });
                            Uv.prototype[zv("0x3")] = function (t, e) { var n = e[zv("0x4")](); !function t(e) {
                                var e_791, _j;
                                try {
                                    for (var e_792 = __values(e), e_792_1 = e_792.next(); !e_792_1.done; e_792_1 = e_792.next()) {
                                        var n_317 = e_792_1.value;
                                        if (n_317[zv("0x5")]) {
                                            var t_428 = n_317[zv("0x5")];
                                            Hv(t_428) ? n_317[zv("0x6")] = t_428 : n_317[zv("0x7")] = JSON[zv("0x8")](t_428);
                                        }
                                        n_317[zv("0x9")] && t(n_317[zv("0x9")]);
                                    }
                                }
                                catch (e_791_1) { e_791 = { error: e_791_1 }; }
                                finally {
                                    try {
                                        if (e_792_1 && !e_792_1.done && (_j = e_792.return)) _j.call(e_792);
                                    }
                                    finally { if (e_791) throw e_791.error; }
                                }
                            }(n[zv("0xa")]), Pv(n), t[zv("0xb")][zv("0xc")](this[zv("0xd")][zv("0x3")](n)), t.types.push(this.id); };
                            Uv.prototype.decompress = function (t, e) { var n = e.types, i = e.buffers, o = this._protobufDescriptor.decompress(i[zv("0x4")]()); n[zv("0x4")](), o[zv("0xa")] || (o.nodes = []), function t(e) {
                                var e_793, _j;
                                try {
                                    for (var e_794 = __values(e), e_794_1 = e_794.next(); !e_794_1.done; e_794_1 = e_794.next()) {
                                        var n_318 = e_794_1.value;
                                        (n_318[zv("0x6")] || n_318[zv("0x7")]) && (n_318.attributesBoolean ? (n_318[zv("0x5")] = n_318.attributesBoolean, delete n_318[zv("0x6")]) : (n_318[zv("0x5")] = JSON[zv("0xe")](n_318[zv("0x7")]), delete n_318[zv("0x7")])), n_318[zv("0x9")] && t(n_318[zv("0x9")]);
                                    }
                                }
                                catch (e_793_1) { e_793 = { error: e_793_1 }; }
                                finally {
                                    try {
                                        if (e_794_1 && !e_794_1.done && (_j = e_794.return)) _j.call(e_794);
                                    }
                                    finally { if (e_793) throw e_793.error; }
                                }
                            }(o[zv("0xa")]), Iv(o), o[zv("0xf")] = this[zv("0x10")], t[zv("0xc")](o); };
                            return Uv;
                        }(Rv));
                        function Hv(t) { return Object[zv("0x11")](t).every(function (e) { return zv("0x12") == typeof t[e]; }); }
                        var qv = ["description", "string", "Range", "bool", "decompress", "length", "oldRange", "newRange"];
                        !function (t, e) { !function (e) { for (; --e;)
                            t.push(t.shift()); }(++e); }(qv, 368);
                        var Yv = function (t, e) { return qv[t -= 0]; };
                        var Wv = /** @class */ (function (_super) {
                            __extends(Wv, _super);
                            function Wv() {
                                return _super !== null && _super.apply(this, arguments) || this;
                            }
                            Object.defineProperty(Wv, Yv("0x0"), {
                                get: function () { return { fields: { name: { type: Yv("0x1"), id: 1 }, oldRange: { type: Yv("0x2"), id: 2 }, newRange: { type: "Range", id: 3 }, affectsData: { type: Yv("0x3"), id: 4 }, wasUndone: { type: "bool", id: 5 } } }; },
                                enumerable: true,
                                configurable: true
                            });
                            Wv.prototype[Yv("0x4")] = function (t, e) { _super.prototype[Yv("0x4")].call(this, t, e); var n = t[t[Yv("0x5")] - 1]; n.oldRange || (n[Yv("0x6")] = null), n[Yv("0x7")] || (n.newRange = null); };
                            return Wv;
                        }(Rv));
                        var Jv = ["Position", "uint32", "bool"];
                        !function (t, e) { !function (e) { for (; --e;)
                            t.push(t.shift()); }(++e); }(Jv, 288);
                        var $v = function (t, e) { return Jv[t -= 0]; };
                        var Gv = /** @class */ (function (_super) {
                            __extends(Gv, _super);
                            function Gv() {
                                return _super !== null && _super.apply(this, arguments) || this;
                            }
                            Object.defineProperty(Gv, "description", {
                                get: function () { return { fields: { sourcePosition: { type: $v("0x0"), id: 1 }, targetPosition: { type: $v("0x0"), id: 2 }, graveyardPosition: { type: $v("0x0"), id: 3 }, howMany: { type: $v("0x1"), id: 4 }, wasUndone: { type: $v("0x2"), id: 5 } } }; },
                                enumerable: true,
                                configurable: true
                            });
                            return Gv;
                        }(Rv));
                        var Kv = ["Position", "uint32", "bool"];
                        !function (t, e) { !function (e) { for (; --e;)
                            t.push(t.shift()); }(++e); }(Kv, 495);
                        var Qv = function (t, e) { return Kv[t -= 0]; };
                        var Zv = /** @class */ (function (_super) {
                            __extends(Zv, _super);
                            function Zv() {
                                return _super !== null && _super.apply(this, arguments) || this;
                            }
                            Object.defineProperty(Zv, "description", {
                                get: function () { return { fields: { sourcePosition: { type: Qv("0x0"), id: 1 }, howMany: { type: Qv("0x1"), id: 2 }, targetPosition: { type: Qv("0x0"), id: 3 }, wasUndone: { type: Qv("0x2"), id: 4 } } }; },
                                enumerable: true,
                                configurable: true
                            });
                            return Zv;
                        }(Rv));
                        var Xv = ["bool", "description", "Position", "string"];
                        !function (t, e) { !function (e) { for (; --e;)
                            t.push(t.shift()); }(++e); }(Xv, 253);
                        var ty = function (t, e) { return Xv[t -= 0]; };
                        var ey = /** @class */ (function (_super) {
                            __extends(ey, _super);
                            function ey() {
                                return _super !== null && _super.apply(this, arguments) || this;
                            }
                            Object.defineProperty(ey, ty("0x0"), {
                                get: function () { return { fields: { position: { type: ty("0x1"), id: 1 }, oldName: { type: ty("0x2"), id: 2 }, newName: { type: ty("0x2"), id: 3 }, wasUndone: { type: ty("0x3"), id: 4 } } }; },
                                enumerable: true,
                                configurable: true
                            });
                            return ey;
                        }(Rv));
                        var ny = ["range", "string", "description", "fields"];
                        !function (t, e) { !function (e) { for (; --e;)
                            t.push(t.shift()); }(++e); }(ny, 398);
                        var iy = function (t, e) { return ny[t -= 0]; };
                        var oy = /** @class */ (function (_super) {
                            __extends(oy, _super);
                            function oy() {
                                return _super !== null && _super.apply(this, arguments) || this;
                            }
                            Object.defineProperty(oy, iy("0x0"), {
                                get: function () { var t = Bv[iy("0x0")]; return delete t[iy("0x1")][iy("0x2")], t[iy("0x1")].root = { type: iy("0x3"), id: 1 }, t; },
                                enumerable: true,
                                configurable: true
                            });
                            return oy;
                        }(Bv));
                        var ry = ["Position", "uint32", "bool"];
                        !function (t, e) { !function (e) { for (; --e;)
                            t.push(t.shift()); }(++e); }(ry, 108);
                        var sy = function (t, e) { return ry[t -= 0]; };
                        var ay = /** @class */ (function (_super) {
                            __extends(ay, _super);
                            function ay() {
                                return _super !== null && _super.apply(this, arguments) || this;
                            }
                            Object.defineProperty(ay, "description", {
                                get: function () { return { fields: { splitPosition: { type: "Position", id: 1 }, graveyardPosition: { type: sy("0x0"), id: 2 }, howMany: { type: sy("0x1"), id: 3 }, insertionPosition: { type: sy("0x0"), id: 4 }, wasUndone: { type: sy("0x2"), id: 5 } } }; },
                                enumerable: true,
                                configurable: true
                            });
                            return ay;
                        }(Rv));
                        var cy = ["types", "push", "decompress", "shift", "compress"];
                        !function (t, e) { !function (e) { for (; --e;)
                            t.push(t.shift()); }(++e); }(cy, 329);
                        var ly = function (t, e) { return cy[t -= 0]; };
                        var dy = /** @class */ (function (_super) {
                            __extends(dy, _super);
                            function dy() {
                                return _super !== null && _super.apply(this, arguments) || this;
                            }
                            dy.prototype[ly("0x0")] = function (t, e) { e.shift(), t[ly("0x1")][ly("0x2")](this.id); };
                            dy.prototype[ly("0x3")] = function (t, e) { e.types[ly("0x4")](), t[ly("0x2")]({ __className: this.operationName }); };
                            return dy;
                        }(Rv));
                        var uy = ["__className", "name", "startsWith", "replace", "length", "compress"];
                        !function (t, e) { !function (e) { for (; --e;)
                            t.push(t.shift()); }(++e); }(uy, 203);
                        var hy = function (t, e) { return uy[t -= 0]; };
                        var fy = /** @class */ (function (_super) {
                            __extends(fy, _super);
                            function fy(t, e, n, i) {
                                var _this = this;
                                _this = _super.call(this, t, e, n) || this, _this.R = i + ":";
                                return _this;
                            }
                            fy.prototype[hy("0x0")] = function (t, e) { return !("MarkerOperation" != e[0][hy("0x1")] || !e[0][hy("0x2")][hy("0x3")](this.R) || (e[0].name = e[0][hy("0x2")][hy("0x4")](new RegExp("^" + this.R), ""), _super.prototype[hy("0x0")].call(this, t, e), 0)); };
                            fy.prototype.decompress = function (t, e) { _super.prototype.decompress.call(this, t, e); var n = t[t[hy("0x5")] - 1]; n[hy("0x2")] = this.R + n[hy("0x2")]; };
                            return fy;
                        }(Wv));
                        var py = ["types", "shift", "push", "decompress"];
                        !function (t, e) { !function (e) { for (; --e;)
                            t.push(t.shift()); }(++e); }(py, 216);
                        var my = function (t, e) { return py[t -= 0]; };
                        var gy = /** @class */ (function () {
                            function gy(t, e) {
                                this.id = t, this.s = e;
                            }
                            gy.prototype.compress = function (t, e) { var n; for (; e.length > 1 && this.o(e[0], e[1]);)
                                n ? (n = this.h(e.shift(), n), t[my("0x0")].push(0)) : (n = ma(e[my("0x1")]()), t[my("0x0")][my("0x2")](this.id)); return !!n && (n = this.h(e.shift(), n), t.types.push(0), t.buffers[my("0x2")](this.i(n)), !0); };
                            gy.prototype[my("0x3")] = function (t, e) { var n = this.l(e); for (; 0 == e[my("0x0")][0];)
                                e[my("0x0")][my("0x1")](), t.push(this.m(n)); t.push(n); };
                            return gy;
                        }());
                        var xy = ["keys", "every", "_getCompressorByName", "InsertOperation", "decompress", "wasUndone", "nodes", "data", "from", "substr", "position", "length", "attributes"];
                        !function (t, e) { !function (e) { for (; --e;)
                            t.push(t.shift()); }(++e); }(xy, 136);
                        var by = function (t, e) { return xy[t -= 0]; };
                        var ky = /** @class */ (function (_super) {
                            __extends(ky, _super);
                            function ky() {
                                return _super !== null && _super.apply(this, arguments) || this;
                            }
                            ky.prototype.h = function (t, e) { return e[by("0x0")][0][by("0x1")] += t[by("0x0")][0][by("0x1")], e; };
                            ky.prototype.m = function (t) { var e = ma(t), n = e.nodes[0], i = t.nodes[0], o = Array[by("0x2")](i[by("0x1")])[0], r = o.length; return n[by("0x1")] = o, i.data = i[by("0x1")][by("0x3")](r), t[by("0x4")] = Sv(t[by("0x4")], r), e; };
                            ky.prototype.o = function (t, e) { if (wy(t) && wy(e)) {
                                var n_319 = t.nodes[0].data[by("0x5")], i_210 = Ev(Sv(t[by("0x4")], n_319), e[by("0x4")]), o_130 = t[by("0x0")][0], r_73 = e[by("0x0")][0];
                                return i_210 && function (t, e) { var n = Object.keys(t[by("0x6")] || {}), i = Object[by("0x7")](e[by("0x6")] || {}); return n.length === i.length && n[by("0x8")](function (n) { return e[by("0x6")][n] && e.attributes[n] === t.attributes[n]; }); }(o_130, r_73);
                            } return !1; };
                            ky.prototype.i = function (t) { var e = { types: [], buffers: [], baseVersion: 0 }; return this.s[by("0x9")](by("0xa")).compress(e, [t]), e.buffers[0]; };
                            ky.prototype.l = function (t) { var e = []; return this.s[by("0x9")](by("0xa"))[by("0xb")](e, t), e[0]; };
                            return ky;
                        }(gy));
                        function wy(t) { return by("0xa") == t.__className && 1 == t[by("0x0")].length && t[by("0x0")][0][by("0x1")] && !t[by("0xc")] && 1 == Array[by("0x2")](t.nodes[0][by("0x1")])[by("0x5")]; }
                        var vy = ["_getCompressorByName", "MoveOperation", "compress", "buffers", "decompress", "__className", "root", "wasUndone", "howMany", "sourcePosition", "targetPosition"];
                        !function (t, e) { !function (e) { for (; --e;)
                            t.push(t.shift()); }(++e); }(vy, 294);
                        var yy = function (t, e) { return vy[t -= 0]; };
                        var _y = /** @class */ (function (_super) {
                            __extends(_y, _super);
                            function _y() {
                                return _super !== null && _super.apply(this, arguments) || this;
                            }
                            _y.prototype.h = function (t, e) { return e[yy("0x0")]++, e[yy("0x1")] = ma(t.sourcePosition), e; };
                            _y.prototype.m = function (t) { var e = ma(t); return t[yy("0x0")]--, e[yy("0x0")] = 1, e[yy("0x1")] = Sv(e.sourcePosition, t[yy("0x0")]), e; };
                            _y.prototype.o = function (t, e) { return !(!Cy(t) || !Cy(e)) && Ev(Sv(t[yy("0x1")], -1), e[yy("0x1")]) && Ev(t.targetPosition, e[yy("0x2")]); };
                            _y.prototype.i = function (t) { var e = { types: [], buffers: [], baseVersion: 0 }; return this.s[yy("0x3")](yy("0x4"))[yy("0x5")](e, [t]), e[yy("0x6")][0]; };
                            _y.prototype.l = function (t) { var e = []; return this.s[yy("0x3")](yy("0x4"))[yy("0x7")](e, t), e[0]; };
                            return _y;
                        }(gy));
                        function Cy(t) { return yy("0x4") == t[yy("0x8")] && "$graveyard" == t[yy("0x2")][yy("0x9")] && 1 == t[yy("0x0")] && !t[yy("0xa")]; }
                        var Ty = ["sourcePosition", "targetPosition", "_getCompressorByName", "MoveOperation", "compress", "buffers", "decompress", "$graveyard", "root", "wasUndone", "howMany"];
                        !function (t, e) { !function (e) { for (; --e;)
                            t.push(t.shift()); }(++e); }(Ty, 296);
                        var Ay = function (t, e) { return Ty[t -= 0]; };
                        var Sy = /** @class */ (function (_super) {
                            __extends(Sy, _super);
                            function Sy() {
                                return _super !== null && _super.apply(this, arguments) || this;
                            }
                            Sy.prototype.h = function (t, e) { return e[Ay("0x0")]++, e; };
                            Sy.prototype.m = function (t) { var e = ma(t); return e[Ay("0x0")] = 1, t.howMany--, e; };
                            Sy.prototype.o = function (t, e) { return !(!Ey(t) || !Ey(e)) && Ev(t[Ay("0x1")], e[Ay("0x1")]) && Ev(t[Ay("0x2")], e[Ay("0x2")]); };
                            Sy.prototype.i = function (t) { var e = { types: [], buffers: [], baseVersion: 0 }; return this.s[Ay("0x3")](Ay("0x4"))[Ay("0x5")](e, [t]), e[Ay("0x6")][0]; };
                            Sy.prototype.l = function (t) { var e = []; return this.s[Ay("0x3")](Ay("0x4"))[Ay("0x7")](e, t), e[0]; };
                            return Sy;
                        }(gy));
                        function Ey(t) { return Ay("0x4") == t.__className && Ay("0x8") == t.targetPosition[Ay("0x9")] && 1 == t.howMany && !t[Ay("0xa")]; }
                        var Py = ["types", "push", "buffers", "decompress", "stickiness", "toNone", "user:position:", "split", "_getCompressorByName", "compress", "MarkerOperation", "__className", "name", "user:", "startsWith", "shift", "oldRange", "newRange", "start", "end"];
                        !function (t, e) { !function (e) { for (; --e;)
                            t.push(t.shift()); }(++e); }(Py, 189);
                        var Iy = function (t, e) { return Py[t -= 0]; };
                        var Ny = /** @class */ (function (_super) {
                            __extends(Ny, _super);
                            function Ny() {
                                return _super !== null && _super.apply(this, arguments) || this;
                            }
                            Ny.prototype[Iy("0x0")] = function (t, e) { if (!function (t, e) { return !(!t || !e) && (Iy("0x1") == t[Iy("0x2")] && Iy("0x1") == e[Iy("0x2")] && !(!t[Iy("0x3")].startsWith(Iy("0x4")) || !e[Iy("0x3")][Iy("0x5")](Iy("0x4")) || t[Iy("0x3")] == e.name)); }(e[0], e[1]))
                                return !1; var n = e[Iy("0x6")](); return n[Iy("0x7")] = null, n.newRange && Ev(n[Iy("0x8")][Iy("0x9")], n.newRange[Iy("0xa")]) && (n.newRange[Iy("0xa")] = null), e[Iy("0x6")](), t[Iy("0xb")][Iy("0xc")](this.id), t[Iy("0xb")].push(0), t[Iy("0xd")].push(this.i(n)), !0; };
                            Ny.prototype[Iy("0xe")] = function (t, e) { var n = this.l(e); n[Iy("0x8")] && !n[Iy("0x8")][Iy("0xa")] && (n.newRange[Iy("0xa")] = ma(n[Iy("0x8")][Iy("0x9")])); var i = ma(n); i[Iy("0x8")] && (i.newRange[Iy("0x9")][Iy("0xf")] = Iy("0x10"), i[Iy("0x8")][Iy("0xa")] = ma(i[Iy("0x8")][Iy("0x9")])), i.name = Iy("0x11") + i[Iy("0x3")][Iy("0x12")](":")[2], e.types[Iy("0x6")](), t[Iy("0xc")](n), t[Iy("0xc")](i); };
                            Ny.prototype.i = function (t) { var e = { types: [], buffers: [], baseVersion: 0 }; return this.s[Iy("0x13")](Iy("0x1"))[Iy("0x0")](e, [t]), e.buffers[0]; };
                            Ny.prototype.l = function (t) { var e = []; return this.s[Iy("0x13")]("MarkerOperation")[Iy("0xe")](e, t), e[0]; };
                            return Ny;
                        }(gy));
                        var My = ["description", "InsertOperation", "MergeOperation", "RenameOperation", "RootAttributeOperation", "build", "NoOperation", "MarkerOperation", "getDescriptor", "CommentMarkerOperation", "SuggestionMarkerOperation", "suggestion", "ForwardDeletingAction", "UserSelectionAction", "set", "_getCompressorByName", "compress", "no-operations-provided: The operations set is empty, no operations provided.", "baseVersion", "length", "TypingAction", "__className", "decompress", "types", "get", "forEach", "registerDescriptor", "Position", "Range", "Element"];
                        !function (t, e) { !function (e) { for (; --e;)
                            t.push(t.shift()); }(++e); }(My, 146);
                        var Oy = function (t, e) { return My[t -= 0]; };
                        var Ry = /** @class */ (function () {
                            function Ry() {
                                this.p = new Map, this.O = new Map, this.g = new wv, this.g[Oy("0x0")](Oy("0x1"), Cv[Oy("0x1")]), this.g.registerDescriptor(Oy("0x2"), Cv[Oy("0x2")]), this.g[Oy("0x0")]("Element", Cv[Oy("0x3")]), this.g[Oy("0x0")]("AttributeOperation", Bv[Oy("0x4")]), this.g[Oy("0x0")](Oy("0x5"), Uv[Oy("0x4")]), this.g.registerDescriptor("MarkerOperation", Wv[Oy("0x4")]), this.g[Oy("0x0")](Oy("0x6"), Gv.description), this.g[Oy("0x0")]("MoveOperation", Zv[Oy("0x4")]), this.g[Oy("0x0")](Oy("0x7"), ey[Oy("0x4")]), this.g.registerDescriptor(Oy("0x8"), oy[Oy("0x4")]), this.g[Oy("0x0")]("SplitOperation", ay[Oy("0x4")]), this.g[Oy("0x9")](), this.u(1, "NoOperation", new dy(1, Oy("0xa"))), this.M(10, "AttributeOperation", Bv), this.M(11, "InsertOperation", Uv), this.M(12, Oy("0xb"), Wv), this.M(13, "MergeOperation", Gv), this.M(14, "MoveOperation", Zv), this.M(15, Oy("0x7"), ey), this.M(16, Oy("0x8"), oy), this.M(17, "SplitOperation", ay);
                                var t = this.g[Oy("0xc")](Oy("0xb"));
                                this.u(18, Oy("0xd"), new fy(18, "MarkerOperation", t, "comment")), this.u(19, Oy("0xe"), new fy(19, "MarkerOperation", t, Oy("0xf"))), this.k(100, "TypingAction", ky), this.k(101, "DeletingAction", _y), this.k(102, Oy("0x10"), Sy), this.k(103, Oy("0x11"), Ny);
                            }
                            Ry.prototype.M = function (t, e, n) { var i = new n(t, e, this.g[Oy("0xc")](e)); this.u(t, e, i); };
                            Ry.prototype.k = function (t, e, n) { var i = new n(t, this); this.u(t, e, i); };
                            Ry.prototype.u = function (t, e, n) { this.p[Oy("0x12")](t, n), this.O[Oy("0x12")](e, n); };
                            Ry.prototype[Oy("0x13")] = function (t) { return this.O.get(t); };
                            Ry.prototype[Oy("0x14")] = function (t) { if (!t || !t[0])
                                throw new Gn.b(Oy("0x15"), this); var e = { types: [], buffers: [], baseVersion: t[0][Oy("0x16")] }; for (; t[Oy("0x17")];)
                                this[Oy("0x13")](Oy("0x11"))[Oy("0x14")](e, t) || this[Oy("0x13")](Oy("0x18"))[Oy("0x14")](e, t) || this._getCompressorByName("DeletingAction")[Oy("0x14")](e, t) || this._getCompressorByName("ForwardDeletingAction").compress(e, t) || this[Oy("0x13")]("CommentMarkerOperation")[Oy("0x14")](e, t) || this[Oy("0x13")]("SuggestionMarkerOperation")[Oy("0x14")](e, t) || this[Oy("0x13")](t[0][Oy("0x19")])[Oy("0x14")](e, t); return e; };
                            Ry.prototype[Oy("0x1a")] = function (t) { var e = []; for (; t[Oy("0x1b")][Oy("0x17")];)
                                this.p[Oy("0x1c")](t[Oy("0x1b")][0]).decompress(e, t); return e[Oy("0x1d")](function (e, n) { return e.baseVersion = t[Oy("0x16")] + n; }), e; };
                            return Ry;
                        }());
                        var Dy = n(119), jy = n.n(Dy);
                        var By = /** @class */ (function (_super) {
                            __extends(By, _super);
                            function By(t, e) {
                                if (e === void 0) { e = []; }
                                var _this = this;
                                _this = _super.call(this) || this, _this.channel = t, _this.sockets = e;
                                return _this;
                            }
                            By.prototype.toJSON = function () { return { channel: this.channel, sockets: this.sockets.map(function (t) { return ({ user: t.userId, session: t.id, role: t.role }); }) }; };
                            Object.defineProperty(By, "DESCRIPTOR_NAME", {
                                get: function () { return "SessionsConnectResponse"; },
                                enumerable: true,
                                configurable: true
                            });
                            Object.defineProperty(By, "DESCRIPTOR", {
                                get: function () { return { fields: { channel: { type: "string", id: 1 }, sockets: { rule: "repeated", type: "SessionsSocketDescriptor", id: 2 } } }; },
                                enumerable: true,
                                configurable: true
                            });
                            By.fromJSON = function (t) { return new By(t.channel, t.sockets.map(function (t) { return ({ id: t.session, userId: t.user, role: t.role }); })); };
                            return By;
                        }(qk));
                        var Ly = /** @class */ (function (_super) {
                            __extends(Ly, _super);
                            function Ly(t, e) {
                                var _this = this;
                                _this = _super.call(this) || this, _this.id = t, _this.sessionType = e;
                                return _this;
                            }
                            Ly.prototype.toJSON = function () { return { id: this.id, sessionType: this.sessionType }; };
                            Object.defineProperty(Ly, "TYPE", {
                                get: function () { return 31; },
                                enumerable: true,
                                configurable: true
                            });
                            Object.defineProperty(Ly, "DESCRIPTOR_NAME", {
                                get: function () { return "SessionsConnectMessage"; },
                                enumerable: true,
                                configurable: true
                            });
                            Object.defineProperty(Ly, "DESCRIPTOR", {
                                get: function () { return { fields: { id: { type: "string", id: 1 }, sessionType: { type: "uint32", id: 2 } } }; },
                                enumerable: true,
                                configurable: true
                            });
                            Ly.fromJSON = function (t) { return new Ly(t.id, t.sessionType); };
                            return Ly;
                        }(qk));
                        var Vy = /** @class */ (function (_super) {
                            __extends(Vy, _super);
                            function Vy(t, e, n) {
                                var _this = this;
                                _this = _super.call(this) || this, _this.id = t, _this.userId = e, _this.role = n;
                                return _this;
                            }
                            Vy.prototype.toJSON = function () { return { id: this.id, userId: this.userId, role: this.role }; };
                            Object.defineProperty(Vy, "TYPE", {
                                get: function () { return 32; },
                                enumerable: true,
                                configurable: true
                            });
                            Object.defineProperty(Vy, "DESCRIPTOR_NAME", {
                                get: function () { return "SocketConnectMessage"; },
                                enumerable: true,
                                configurable: true
                            });
                            Object.defineProperty(Vy, "DESCRIPTOR", {
                                get: function () { return { fields: { id: { type: "string", id: 1 }, userId: { type: "string", id: 2 }, role: { type: "string", id: 3 } } }; },
                                enumerable: true,
                                configurable: true
                            });
                            Vy.fromJSON = function (t) { return new Vy(t.id, t.userId, t.role); };
                            return Vy;
                        }(qk));
                        var Fy = /** @class */ (function (_super) {
                            __extends(Fy, _super);
                            function Fy(t) {
                                var _this = this;
                                _this = _super.call(this) || this, _this.id = t;
                                return _this;
                            }
                            Fy.prototype.toJSON = function () { return { id: this.id }; };
                            Object.defineProperty(Fy, "TYPE", {
                                get: function () { return 33; },
                                enumerable: true,
                                configurable: true
                            });
                            Object.defineProperty(Fy, "DESCRIPTOR_NAME", {
                                get: function () { return "SocketDisconnectMessage"; },
                                enumerable: true,
                                configurable: true
                            });
                            Object.defineProperty(Fy, "DESCRIPTOR", {
                                get: function () { return { fields: { id: { type: "string", id: 1 } } }; },
                                enumerable: true,
                                configurable: true
                            });
                            Fy.fromJSON = function (t) { return new Fy(t.id); };
                            return Fy;
                        }(qk));
                        var zy = /** @class */ (function (_super) {
                            __extends(zy, _super);
                            function zy(t, e) {
                                var _this = this;
                                _this = _super.call(this, { idProperty: "id" }) || this, _this._id = t, _this._serviceName = e, _this._queue = [], _this._handlers = new Map, _this._wsGateway = void 0, _this._channel = void 0;
                                return _this;
                            }
                            zy.prototype.connect = function (t) {
                                return __awaiter(this, void 0, void 0, function () {
                                    var e_795, _j, e, n, t_430, t_429, i, i_211, i_211_1, t_431;
                                    var _this = this;
                                    return __generator(this, function (_q) {
                                        switch (_q.label) {
                                            case 0:
                                                this._wsGateway = t, this.stopListening(t, "change:state");
                                                e = new Ly(this._id, this._serviceName);
                                                _q.label = 1;
                                            case 1:
                                                _q.trys.push([1, 3, , 4]);
                                                return [4 /*yield*/, this._wsGateway._sendRequest(Hy, Ly.TYPE, Kk.encode(e))];
                                            case 2:
                                                t_430 = _q.sent();
                                                n = Kk.decode(t_430, By);
                                                return [3 /*break*/, 4];
                                            case 3:
                                                t_429 = _q.sent();
                                                n = new By(this._id, []);
                                                return [3 /*break*/, 4];
                                            case 4:
                                                this._connectToChannel(this._wsGateway, n.channel, this._serviceName);
                                                return [4 /*yield*/, function (t, e) {
                                                        return __awaiter(this, void 0, void 0, function () {
                                                            var i;
                                                            var _this = this;
                                                            return __generator(this, function (_j) {
                                                                switch (_j.label) {
                                                                    case 0:
                                                                        i = n["sockets"].map(function (e) { return __awaiter(_this, void 0, void 0, function () { var n, i, _j, _q; return __generator(this, function (_z) {
                                                                            switch (_z.label) {
                                                                                case 0:
                                                                                    n = { id: e.id, role: e.role }, i = e.userId;
                                                                                    _j = n;
                                                                                    if (!i) return [3 /*break*/, 2];
                                                                                    return [4 /*yield*/, nw.get(t, i)];
                                                                                case 1:
                                                                                    _q = _z.sent();
                                                                                    return [3 /*break*/, 3];
                                                                                case 2:
                                                                                    _q = new nw;
                                                                                    _z.label = 3;
                                                                                case 3: return [2 /*return*/, (_j.user = _q, n)];
                                                                            }
                                                                        }); }); });
                                                                        return [4 /*yield*/, Promise.all(i)];
                                                                    case 1: return [2 /*return*/, _j.sent()];
                                                                }
                                                            });
                                                        });
                                                    }(this._wsGateway)];
                                            case 5:
                                                i = _q.sent();
                                                try {
                                                    for (i_211 = __values(i), i_211_1 = i_211.next(); !i_211_1.done; i_211_1 = i_211.next()) {
                                                        t_431 = i_211_1.value;
                                                        _super.prototype.add.call(this, t_431);
                                                    }
                                                }
                                                catch (e_795_1) { e_795 = { error: e_795_1 }; }
                                                finally {
                                                    try {
                                                        if (i_211_1 && !i_211_1.done && (_j = i_211.return)) _j.call(i_211);
                                                    }
                                                    finally { if (e_795) throw e_795.error; }
                                                }
                                                this._connected = !0, this.fire("connected"), this.listenTo(this._wsGateway, "change:state", function () {
                                                    var t = [];
                                                    for (var _j = 0; _j < arguments.length; _j++) {
                                                        t[_j] = arguments[_j];
                                                    }
                                                    return _this._onWsGatewayStateChange.apply(_this, __spread(t));
                                                }, { priority: Iw._CHANGE_STATE_EVENT_PRIORITY });
                                                return [4 /*yield*/, this._runQueue()];
                                            case 6:
                                                _q.sent();
                                                return [2 /*return*/];
                                        }
                                    });
                                });
                            };
                            zy.prototype.disconnect = function (t) {
                                if (t === void 0) { t = !0; }
                                if (this._connected) {
                                    for (this._connected = !1, this._queue = []; this.length;)
                                        _super.prototype.remove.call(this, 0);
                                    this._channel && (this.stopListening(this._channel), this._channel = void 0), this._wsGateway && t && (this.stopListening(this._wsGateway), this._wsGateway = void 0), this.fire("disconnected"), t && this.stopListening();
                                }
                            };
                            zy.prototype._connectToChannel = function (t, e, n) {
                                var _this = this;
                                this._channel = t._getChannel(n, e), this._addHandler(this._channel, Vy.TYPE, function (e, n) { return __awaiter(_this, void 0, void 0, function () { var i, e_796, _j, _q; return __generator(this, function (_z) {
                                    switch (_z.label) {
                                        case 0:
                                            i = Kk.decode(n, Vy);
                                            if (!(-1 === this.getIndex(i.id))) return [3 /*break*/, 3];
                                            e_796 = { id: i.id, role: i.role };
                                            _j = i.userId;
                                            if (!_j) return [3 /*break*/, 2];
                                            _q = e_796;
                                            return [4 /*yield*/, nw.get(t, i.userId)];
                                        case 1:
                                            _j = (_q.user = _z.sent());
                                            _z.label = 2;
                                        case 2:
                                            _j, _super.prototype.add.call(this, e_796);
                                            _z.label = 3;
                                        case 3: return [2 /*return*/];
                                    }
                                }); }); }), this._addHandler(this._channel, Fy.TYPE, function (t, e) { return __awaiter(_this, void 0, void 0, function () { var n; return __generator(this, function (_j) {
                                    n = Kk.decode(e, Fy);
                                    -1 !== this.getIndex(n.id) && _super.prototype.remove.call(this, n.id);
                                    return [2 /*return*/];
                                }); }); });
                            };
                            zy.prototype._onWsGatewayStateChange = function (t, e, n) {
                                return __awaiter(this, void 0, void 0, function () { var _j; return __generator(this, function (_q) {
                                    switch (_q.label) {
                                        case 0:
                                            n === Iw.STATE_DISCONNECTED && this.disconnect(!1);
                                            _j = n === Iw.STATE_CONNECTED;
                                            if (!_j) return [3 /*break*/, 2];
                                            return [4 /*yield*/, this.connect(this._wsGateway)];
                                        case 1:
                                            _j = (_q.sent());
                                            _q.label = 2;
                                        case 2:
                                            _j;
                                            return [2 /*return*/];
                                    }
                                }); });
                            };
                            zy.prototype._runQueue = function () {
                                return __awaiter(this, void 0, void 0, function () { var t, e_797, n_320, _j; return __generator(this, function (_q) {
                                    switch (_q.label) {
                                        case 0:
                                            if (this._isRunning || !this._connected)
                                                return [2 /*return*/];
                                            this._isRunning = !0;
                                            _q.label = 1;
                                        case 1:
                                            if (!(t = this._queue.shift())) return [3 /*break*/, 5];
                                            e_797 = t.event.name, n_320 = this._handlers.get(e_797);
                                            _j = n_320;
                                            if (!_j) return [3 /*break*/, 3];
                                            return [4 /*yield*/, n_320(t.event, t.data, t.socketId)];
                                        case 2:
                                            _j = (_q.sent());
                                            _q.label = 3;
                                        case 3:
                                            _j;
                                            _q.label = 4;
                                        case 4: return [3 /*break*/, 1];
                                        case 5:
                                            this._isRunning = !1;
                                            return [2 /*return*/];
                                    }
                                }); });
                            };
                            zy.prototype._addHandler = function (t, e, n) {
                                var _this = this;
                                var i = t.getEventName(e, !0);
                                this.listenTo(t, i, function (t, e, n) { return __awaiter(_this, void 0, void 0, function () { return __generator(this, function (_j) {
                                    switch (_j.label) {
                                        case 0:
                                            this._queue.push({ event: t, data: e, socketId: n });
                                            return [4 /*yield*/, this._runQueue()];
                                        case 1:
                                            _j.sent();
                                            return [2 /*return*/];
                                    }
                                }); }); }), this._handlers.set(i, n);
                            };
                            return zy;
                        }(ro));
                        zy.prototype.add = void 0, zy.prototype.remove = void 0;
                        var Uy = zy;
                        var Hy = 3;
                        var qy = /** @class */ (function () {
                            function qy() {
                            }
                            qy.getConnectedSessions = function (t, e, n) {
                                return __awaiter(this, void 0, void 0, function () { var i; return __generator(this, function (_j) {
                                    switch (_j.label) {
                                        case 0:
                                            i = new Uy(e, n);
                                            return [4 /*yield*/, i.connect(t)];
                                        case 1: return [2 /*return*/, (_j.sent(), i)];
                                    }
                                }); });
                            };
                            return qy;
                        }());
                        var Yy = /** @class */ (function (_super) {
                            __extends(Yy, _super);
                            function Yy(t, e, n, i) {
                                var _this = this;
                                _this = _super.call(this) || this, _this.id = t, _this.buffers = e, _this.types = n, _this.editorFingerprint = i;
                                return _this;
                            }
                            Yy.prototype.toJSON = function () { return { id: this.id, buffers: this.buffers, types: this.types, editorFingerprint: this.editorFingerprint }; };
                            Object.defineProperty(Yy, "TYPE", {
                                get: function () { return 11; },
                                enumerable: true,
                                configurable: true
                            });
                            Object.defineProperty(Yy, "DESCRIPTOR_NAME", {
                                get: function () { return "CollaborativeEditingConnectMessage"; },
                                enumerable: true,
                                configurable: true
                            });
                            Object.defineProperty(Yy, "DESCRIPTOR", {
                                get: function () { return { fields: { id: { type: "string", id: 1 }, editorFingerprint: { type: "string", id: 2 }, buffers: { rule: "repeated", type: "bytes", id: 3 }, types: { rule: "repeated", type: "uint32", id: 4 } } }; },
                                enumerable: true,
                                configurable: true
                            });
                            Yy.fromJSON = function (t) { return new Yy(t.id, t.buffers, t.types, t.editorFingerprint); };
                            return Yy;
                        }(qk));
                        var Wy = /** @class */ (function () {
                            function Wy() {
                            }
                            Wy.prepareMetadataForOperations = function (t, e) {
                                var e_798, _j;
                                if (!(t && t.length && e && e.length))
                                    return [];
                                var n = [];
                                var i = 0;
                                try {
                                    for (var t_432 = __values(t), t_432_1 = t_432.next(); !t_432_1.done; t_432_1 = t_432.next()) {
                                        var o_131 = t_432_1.value;
                                        if (0 !== o_131) {
                                            if (!e[i])
                                                throw new Error("Missing metadata for a operation");
                                            n.push(e[i]), i++;
                                        }
                                        else
                                            n.push(n[n.length - 1]);
                                    }
                                }
                                catch (e_798_1) { e_798 = { error: e_798_1 }; }
                                finally {
                                    try {
                                        if (t_432_1 && !t_432_1.done && (_j = t_432.return)) _j.call(t_432);
                                    }
                                    finally { if (e_798) throw e_798.error; }
                                }
                                return n;
                            };
                            Wy.removeUnnecessaryMetadata = function (t, e) { if (!(t && t.length && e && e.length))
                                return []; var n = []; for (var i_212 = 0; i_212 < t.length; i_212++)
                                if (0 !== t[i_212]) {
                                    if (!e[i_212])
                                        throw new Error("Missing metadata for a operation");
                                    n.push(e[i_212]);
                                } return n; };
                            return Wy;
                        }());
                        var Jy = /** @class */ (function (_super) {
                            __extends(Jy, _super);
                            function Jy(t, e, n, i, o) {
                                if (o === void 0) { o = []; }
                                var _this = this;
                                _this = _super.call(this) || this, _this.id = t, _this.buffers = e, _this.types = n, _this.baseVersion = i, _this.metadata = o;
                                return _this;
                            }
                            Object.defineProperty(Jy.prototype, "data", {
                                get: function () { return { buffers: this.buffers, types: this.types, baseVersion: this.baseVersion }; },
                                enumerable: true,
                                configurable: true
                            });
                            Jy.prototype.toJSON = function () { return { id: this.id, buffers: this.buffers, types: this.types, baseVersion: this.baseVersion, metadata: Wy.removeUnnecessaryMetadata(this.types, this.metadata) }; };
                            Object.defineProperty(Jy, "TYPE", {
                                get: function () { return 13; },
                                enumerable: true,
                                configurable: true
                            });
                            Object.defineProperty(Jy, "DESCRIPTOR_NAME", {
                                get: function () { return "CollaborativeEditingUpdateMessage"; },
                                enumerable: true,
                                configurable: true
                            });
                            Object.defineProperty(Jy, "DESCRIPTOR", {
                                get: function () { return { fields: { id: { type: "string", id: 1 }, baseVersion: { type: "uint32", id: 2 }, buffers: { rule: "repeated", type: "bytes", id: 3 }, types: { rule: "repeated", type: "uint32", id: 4 }, metadata: { rule: "repeated", type: "OperationMetadataDescriptor", id: 6 } } }; },
                                enumerable: true,
                                configurable: true
                            });
                            Jy.fromJSON = function (t) { return new Jy(t.id, t.buffers, t.types, t.baseVersion, Wy.prepareMetadataForOperations(t.types, t.metadata).map(function (t) { return "function" != typeof t.toJSON ? t : t.toJSON(); })); };
                            return Jy;
                        }(qk));
                        var $y = /** @class */ (function (_super) {
                            __extends($y, _super);
                            function $y(t, e, n) {
                                var _this = this;
                                _this = _super.call(this) || this, _this.id = t, _this.editorFingerprint = n, _this.lastKnowVersion = e;
                                return _this;
                            }
                            $y.prototype.toJSON = function () { return { id: this.id, editorFingerprint: this.editorFingerprint, lastKnowVersion: this.lastKnowVersion }; };
                            Object.defineProperty($y, "TYPE", {
                                get: function () { return 12; },
                                enumerable: true,
                                configurable: true
                            });
                            Object.defineProperty($y, "DESCRIPTOR_NAME", {
                                get: function () { return "CollaborativeEditingReconnectMessage"; },
                                enumerable: true,
                                configurable: true
                            });
                            Object.defineProperty($y, "DESCRIPTOR", {
                                get: function () { return { fields: { id: { type: "string", id: 1 }, editorFingerprint: { type: "string", id: 2 }, lastKnowVersion: { type: "uint32", id: 3 } } }; },
                                enumerable: true,
                                configurable: true
                            });
                            $y.fromJSON = function (t) { return new $y(t.id, t.lastKnowVersion, t.editorFingerprint); };
                            return $y;
                        }(qk));
                        var Gy = /** @class */ (function (_super) {
                            __extends(Gy, _super);
                            function Gy(t, e, n, i) {
                                if (e === void 0) { e = []; }
                                if (n === void 0) { n = []; }
                                if (i === void 0) { i = []; }
                                var _this = this;
                                _this = _super.call(this) || this, _this.version = t, _this.buffers = e, _this.types = n, _this.metadata = i;
                                return _this;
                            }
                            Object.defineProperty(Gy.prototype, "wereChangesApplied", {
                                get: function () { return !(this.types && this.types.length); },
                                enumerable: true,
                                configurable: true
                            });
                            Object.defineProperty(Gy.prototype, "data", {
                                get: function () { return { buffers: this.buffers, types: this.types, baseVersion: this.version - this.types.length }; },
                                enumerable: true,
                                configurable: true
                            });
                            Gy.prototype.toJSON = function () { return { version: this.version, buffers: this.buffers, types: this.types, metadata: Wy.removeUnnecessaryMetadata(this.types, this.metadata) }; };
                            Object.defineProperty(Gy, "DESCRIPTOR_NAME", {
                                get: function () { return "CollaborativeEditingResponse"; },
                                enumerable: true,
                                configurable: true
                            });
                            Object.defineProperty(Gy, "DESCRIPTOR", {
                                get: function () { return { fields: { version: { type: "uint32", id: 1 }, buffers: { rule: "repeated", type: "bytes", id: 2 }, types: { rule: "repeated", type: "uint32", id: 3 }, metadata: { rule: "repeated", type: "OperationMetadataDescriptor", id: 5 } } }; },
                                enumerable: true,
                                configurable: true
                            });
                            Gy.fromJSON = function (t) { return new Gy(t.version, t.buffers, t.types, Wy.prepareMetadataForOperations(t.types, t.metadata).map(function (t) { return "function" != typeof t.toJSON ? t : t.toJSON(); })); };
                            return Gy;
                        }(qk));
                        var Ky = /** @class */ (function (_super) {
                            __extends(Ky, _super);
                            function Ky(t, e, n, i, o, r) {
                                if (n === void 0) { n = []; }
                                if (i === void 0) { i = []; }
                                if (o === void 0) { o = 0; }
                                if (r === void 0) { r = []; }
                                var _this = this;
                                _this = _super.call(this) || this, _this.channel = t, _this.version = e, _this.buffers = n, _this.types = i, _this.offset = o, _this.metadata = r;
                                return _this;
                            }
                            Object.defineProperty(Ky.prototype, "wereChangesApplied", {
                                get: function () { return !(this.types && this.types.length); },
                                enumerable: true,
                                configurable: true
                            });
                            Object.defineProperty(Ky.prototype, "data", {
                                get: function () { return { buffers: this.buffers, types: this.types, baseVersion: this.version - this.types.length }; },
                                enumerable: true,
                                configurable: true
                            });
                            Ky.prototype.toJSON = function () { return { channel: this.channel, version: this.version, buffers: this.buffers, types: this.types, offset: this.offset, metadata: Wy.removeUnnecessaryMetadata(this.types, this.metadata) }; };
                            Object.defineProperty(Ky, "DESCRIPTOR_NAME", {
                                get: function () { return "CollaborativeEditingConnectResponse"; },
                                enumerable: true,
                                configurable: true
                            });
                            Object.defineProperty(Ky, "DESCRIPTOR", {
                                get: function () { return { fields: { channel: { type: "string", id: 1 }, offset: { type: "uint32", id: 2 }, version: { type: "uint32", id: 3 }, buffers: { rule: "repeated", type: "bytes", id: 4 }, types: { rule: "repeated", type: "uint32", id: 5 }, metadata: { rule: "repeated", type: "OperationMetadataDescriptor", id: 7 } } }; },
                                enumerable: true,
                                configurable: true
                            });
                            Ky.fromJSON = function (t) { return new Ky(t.channel, t.version, t.buffers, t.types, t.offset, Wy.prepareMetadataForOperations(t.types, t.metadata).map(function (t) { return "function" != typeof t.toJSON ? t : t.toJSON(); })); };
                            return Ky;
                        }(qk));
                        var Qy = 1;
                        var Zy = /** @class */ (function () {
                            function Zy(t, e) {
                                if (!t)
                                    throw new TypeError('Param "editorFingerprint" must be provided.');
                                this._id = e || jy.a.v4(), this._isConnected = !1, this._editorFingerprint = t, this._wsGateway = void 0, this._channel = void 0;
                            }
                            Zy.prototype.getId = function () { return this._id; };
                            Zy.prototype.isConnected = function () { return this._isConnected; };
                            Zy.prototype.connect = function (t, e) {
                                if (e === void 0) { e = {}; }
                                var n = new Yy(this.getId(), e.buffers, e.types, this._editorFingerprint);
                                return this._connect(t, n);
                            };
                            Zy.prototype.reconnect = function (t, e) { if (this.isConnected())
                                throw new ow("Cannot reconnect to already connected service.", t); return this._connect(t, new $y(this.getId(), e, this._editorFingerprint)); };
                            Zy.prototype.disconnect = function () { this._isConnected && (this._isConnected = !1, this._wsGateway && (this.stopListening(this._wsGateway), this._wsGateway = void 0), this._channel && (this.stopListening(this._channel), this._channel = void 0), this._connectedSessions && (this._connectedSessions.disconnect(), this._connectedSessions = void 0), this.fire("disconnected"), this.stopListening()); };
                            Zy.prototype.sendOperations = function (t, e) {
                                return __awaiter(this, void 0, void 0, function () { var n, i, o; return __generator(this, function (_j) {
                                    switch (_j.label) {
                                        case 0:
                                            if (!t || !t.types || !t.types.length)
                                                return [2 /*return*/, Promise.reject(new ow("Cannot send empty update.", this._wsGateway))];
                                            n = parseInt(e);
                                            if (!Number.isInteger(n) || n < 0)
                                                return [2 /*return*/, Promise.reject(new ow("Base version not provided.", this._wsGateway))];
                                            i = new Jy(this.getId(), t.buffers, t.types, e);
                                            return [4 /*yield*/, this._wsGateway._sendRequest(Qy, Jy.TYPE, Kk.encode(i))];
                                        case 1:
                                            o = _j.sent();
                                            return [2 /*return*/, Kk.decode(o, Gy)];
                                    }
                                }); });
                            };
                            Zy.prototype.getConnectedSessions = function () {
                                return __awaiter(this, void 0, void 0, function () { var _j, _q; return __generator(this, function (_z) {
                                    switch (_z.label) {
                                        case 0:
                                            if (!this._isConnected)
                                                throw new ow("Collaborative Editing Service is not connected.", this);
                                            _j = this._connectedSessions;
                                            if (_j) return [3 /*break*/, 2];
                                            _q = this;
                                            return [4 /*yield*/, qy.getConnectedSessions(this._wsGateway, this._id, Qy)];
                                        case 1:
                                            _j = (_q._connectedSessions = _z.sent());
                                            _z.label = 2;
                                        case 2: return [2 /*return*/, (_j, this._connectedSessions)];
                                    }
                                }); });
                            };
                            Zy.prototype._connect = function (t, e) {
                                return __awaiter(this, void 0, void 0, function () {
                                    var n, i;
                                    var _this = this;
                                    return __generator(this, function (_j) {
                                        switch (_j.label) {
                                            case 0:
                                                if (this.isConnected())
                                                    return [2 /*return*/, Promise.resolve()];
                                                if (t.state !== Iw.STATE_CONNECTED)
                                                    throw new ow("Web socket gateway is not connected.", t);
                                                this._wsGateway = t, this.stopListening(t, "change:state");
                                                return [4 /*yield*/, t._sendRequest(Qy, e.constructor.TYPE, Kk.encode(e))];
                                            case 1:
                                                n = _j.sent(), i = Kk.decode(n, Ky);
                                                return [2 /*return*/, (this.listenTo(t, "change:state", function () {
                                                        var t = [];
                                                        for (var _j = 0; _j < arguments.length; _j++) {
                                                            t[_j] = arguments[_j];
                                                        }
                                                        return _this._onWsGatewayStateChange.apply(_this, __spread(t));
                                                    }, { priority: Iw._CHANGE_STATE_EVENT_PRIORITY }), this._connectToChannel(t, i.channel), this._isConnected = !0, this.fire("connected"), i)];
                                        }
                                    });
                                });
                            };
                            Zy.prototype._connectToChannel = function (t, e) {
                                var _this = this;
                                this._channel = t._getChannel(Zy._SERVICE, e), this.listenTo(this._channel, this._channel.getEventName(Jy.TYPE), function (t, e) { var n = Kk.decode(e, Jy); _this.fire("operationsReceived", n.baseVersion, n.data, n.metadata); });
                            };
                            Zy.prototype._onWsGatewayStateChange = function (t, e, n) { n === Iw.STATE_DISCONNECTED && this.disconnect(); };
                            Zy.getConnectedSessions = function (t, e) {
                                return __awaiter(this, void 0, void 0, function () { return __generator(this, function (_j) {
                                    return [2 /*return*/, qy.getConnectedSessions(t, e, Qy)];
                                }); });
                            };
                            Object.defineProperty(Zy, "_SERVICE", {
                                get: function () { return Qy; },
                                enumerable: true,
                                configurable: true
                            });
                            return Zy;
                        }());
                        li(Zy, ni);
                        var Xy = Zy;
                        var t_ = {};
                        t_[uc.className] = uc, t_[pc.className] = pc, t_[mc.className] = mc, t_[fc.className] = fc, t_[iu.className] = iu, t_[ec.className] = ec, t_[gc.className] = gc, t_[xc.className] = xc, t_[kc.className] = kc, t_[bc.className] = bc;
                        var e_ = /** @class */ (function () {
                            function e_() {
                            }
                            e_.fromJSON = function (t, e) { return t_[t.__className].fromJSON(t, e); };
                            return e_;
                        }());
                        var n_ = n(120), i_ = ["pluginName", "cloudDocumentVersion", "lastSyncVersion", "offset", "init", "editor", "plugins", "get", "listenTo", "getUser", "_authorId", "return", "stop", "service", "CollaborativeEditingService", "model", "set", "_isPendingUpdate", "change:range", "_sendBufferedOperationsDelayed", "getConnectedSessions", "connection", "load", "catch", "realtimecollaborationclient-init-session-connection-error", "applyOperation", "_saveOperationInBuffer", "reconnect", "assign", "data", "destroy", "length", "suppressErrorInCollaboration", "apply", "addToReconnectionStack", "version", "realtimecollaborationclient-initservice-incorrect-server-operation", "realtimecollaborationclient-init-document-already-initialized: Trying to set initial data to initialized document.", "connect", "then", "sessions", "add", "isReadOnly", "ready", "realtimecollaborationclient-init-connection-failed", "high", "keys", "roots", "has", "getRoot", "createPositionAt", "push", "markers", "createRange", "createPositionFromPath", "start", "path", "slice", "end", "wereChangesApplied", "changed", "_bufferedOperations", "marker", "affectsData", "size", "createUserMarkerOperations", "from", "wasUndone", "history", "sendOperations", "realtimecollaborationclient-sendbufferedoperations", "error", "delete", "metadata", "realtimecollaborationclient-handleserverresponse", "enqueueChange", "transparent", "batch", "addOperation", "Sending data to the server.", "remove", "compress", "map", "toJSON", "decompress", "type", "userId", "requires"];
                        !function (t, e) { !function (e) { for (; --e;)
                            t.push(t.shift()); }(++e); }(i_, 439);
                        var o_ = function (t, e) { return i_[t -= 0]; };
                        var r_ = 1;
                        var s_ = /** @class */ (function (_super) {
                            __extends(s_, _super);
                            function s_() {
                                return _super !== null && _super.apply(this, arguments) || this;
                            }
                            Object.defineProperty(s_, o_("0x0"), {
                                get: function () { return [Ow, pv, xv, Su, Bw]; },
                                enumerable: true,
                                configurable: true
                            });
                            Object.defineProperty(s_, o_("0x1"), {
                                get: function () { return "RealTimeCollaborationClient"; },
                                enumerable: true,
                                configurable: true
                            });
                            Object.defineProperty(s_.prototype, o_("0x2"), {
                                get: function () { return this[o_("0x3")] + this[o_("0x4")]; },
                                enumerable: true,
                                configurable: true
                            });
                            s_.prototype[o_("0x5")] = function () {
                                var _this = this;
                                var t = this[o_("0x6")], e = t[o_("0x7")][o_("0x8")](Bw);
                                this[o_("0x9")](e, "getOperationAuthor", function (t, n) { var i = n[0]; i._authorId && (t.return = e[o_("0xa")](i[o_("0xb")]), t.stop()), null === i[o_("0xb")] && (t[o_("0xc")] = null, t[o_("0xd")]()); }, { priority: "high" }), this.l = t[o_("0x7")].get(Su), this.p = t.plugins[o_("0x8")](Ow);
                                var n = this.p.documentId;
                                this[o_("0xe")] = new (s_[o_("0xf")])(n_.a, n), this[o_("0x3")] = 0, this[o_("0x4")] = 0, this.u = this[o_("0x6")][o_("0x10")].document, this.g = new Ry, this._bufferedOperations = new Set, this.k = new WeakSet, this[o_("0x11")](o_("0x12"), !1), this._ = null, this.O = !1, this.v = null, this.listenTo(t[o_("0x10")].document.selection, o_("0x13"), function (t, e) { e.directChange && (_this.O = !0, _this.S() && _this[o_("0x14")]()); }), s_[o_("0xf")][o_("0x15")](this.p[o_("0x16")], n).then(function (e) { return t[o_("0x7")][o_("0x8")](pv)[o_("0x17")](e); })[o_("0x18")](function (t) { return _this.A(o_("0x19"), t); }), this.D(), this.T(), this.editor[o_("0x10")].on(o_("0x1a"), function (t, e) { var n = e[0]; n.isDocumentOperation && (_this[o_("0x1b")](n), _this.B() && _this[o_("0x14")]()); }), this.C();
                            };
                            s_.prototype[o_("0x1c")] = function () {
                                return __awaiter(this, void 0, void 0, function () { var t, e; return __generator(this, function (_j) {
                                    switch (_j.label) {
                                        case 0:
                                            t = this.editor[o_("0x7")][o_("0x8")](Ow);
                                            return [4 /*yield*/, this.service[o_("0x1c")](t[o_("0x16")], this[o_("0x3")])];
                                        case 1:
                                            e = _j.sent();
                                            this.P([], Object[o_("0x1d")]({}, e, { data: e[o_("0x1e")], wereChangesApplied: !1 }), o_("0x1c")), this[o_("0x12")] = !1;
                                            return [2 /*return*/];
                                    }
                                }); });
                            };
                            s_.prototype[o_("0x1f")] = function () { _super.prototype[o_("0x1f")].call(this), this[o_("0x6")].plugins[o_("0x8")](Ow).removeFromReconnectionStack(this), clearTimeout(this.v); };
                            s_.prototype.D = function () {
                                var _this = this;
                                var t = this[o_("0x6")][o_("0x1e")][o_("0x11")];
                                this[o_("0x6")].data[o_("0x11")] = (function () {
                                    var e = [];
                                    for (var _j = 0; _j < arguments.length; _j++) {
                                        e[_j] = arguments[_j];
                                    }
                                    if (!e[e[o_("0x20")] - 1][o_("0x21")])
                                        throw new Gn.b("realtimecollaborationclient-editor-setdata-and-editor-data-set-are-forbidden-in-real-time-collaboration:Trying to use `editor.setData()` or `editor.data.set()` in real-time collaboration.", _this);
                                    t[o_("0x22")](_this.editor[o_("0x1e")], e);
                                });
                            };
                            s_.prototype.T = function () {
                                var _this = this;
                                this.p[o_("0x23")](this), this.service.on("operationsReceived", function (t, e, n, i) { if (!_this[o_("0x12")] && _this.u[o_("0x24")] == e) {
                                    var t_433 = _this.R(n);
                                    _this.U(t_433, i), _this[o_("0x3")] = e + t_433[o_("0x20")], _this.j(t_433) || _this.A(o_("0x25"));
                                } }), this[o_("0xe")].on("error", function (t, e) { _this.A("realtimecollaborationclient-initservice-internal-error", e); });
                            };
                            s_.prototype.C = function () {
                                var _this = this;
                                var t = this[o_("0x6")][o_("0x7")][o_("0x8")](pv);
                                this[o_("0x6")][o_("0x1e")].on("init", function (e, _j) {
                                    var _q = __read(_j, 1), n = _q[0];
                                    if (_this.u[o_("0x24")])
                                        throw new Gn.b(o_("0x26"), _this);
                                    e[o_("0xd")]();
                                    var i = _this.I(n);
                                    _this.N(), e[o_("0xc")] = _this[o_("0xe")][o_("0x27")](_this.p[o_("0x16")], _this.W(i))[o_("0x28")](function (e) { _this.q(), _this[o_("0x9")](t[o_("0x29")], o_("0x2a"), function () { _this[o_("0x6")][o_("0x2b")] || 2 != t.sessions[o_("0x20")] || (_this.O = !0, _this[o_("0x14")]()); }), _this.F(e, i), _this.editor.data.fire(o_("0x2c")); })[o_("0x18")](function (t) { return _this.A(o_("0x2d"), t); });
                                }, { priority: o_("0x2e") });
                            };
                            s_.prototype.I = function (t) {
                                var e_799, _j, e_800, _q;
                                var e = this[o_("0x6")].model, n = [];
                                var i = 0;
                                var o = "string" == typeof t ? { main: t } : t;
                                try {
                                    for (var _z = __values(Object[o_("0x2f")](o)), _0 = _z.next(); !_0.done; _0 = _z.next()) {
                                        var t_434 = _0.value;
                                        if (!this.u[o_("0x30")][o_("0x31")](t_434))
                                            throw new Gn.b("realtimecollaborationclient-init-non-existent-root: Attempting to init data on a non-existing root.", this);
                                        var r_74 = this[o_("0x6")][o_("0x1e")].parse(o[t_434]), s_51 = this.u[o_("0x32")](t_434), a_27 = new pc(e[o_("0x33")](s_51, 0), r_74, i++);
                                        n[o_("0x34")](a_27);
                                        try {
                                            for (var _1 = __values(r_74[o_("0x35")]), _2 = _1.next(); !_2.done; _2 = _1.next()) {
                                                var _3 = __read(_2.value, 2), t_435 = _3[0], o_132 = _3[1];
                                                var r_75 = e[o_("0x36")](e[o_("0x37")](s_51, o_132[o_("0x38")][o_("0x39")][o_("0x3a")]()), e[o_("0x37")](s_51, o_132[o_("0x3b")].path[o_("0x3a")]())), a_28 = new mc(t_435, null, r_75, e.markers, !0, i++);
                                                n[o_("0x34")](a_28);
                                            }
                                        }
                                        catch (e_800_1) { e_800 = { error: e_800_1 }; }
                                        finally {
                                            try {
                                                if (_2 && !_2.done && (_q = _1.return)) _q.call(_1);
                                            }
                                            finally { if (e_800) throw e_800.error; }
                                        }
                                    }
                                }
                                catch (e_799_1) { e_799 = { error: e_799_1 }; }
                                finally {
                                    try {
                                        if (_0 && !_0.done && (_j = _z.return)) _j.call(_z);
                                    }
                                    finally { if (e_799) throw e_799.error; }
                                }
                                return n;
                            };
                            s_.prototype.F = function (t, e) { var n; this[o_("0x4")] = t[o_("0x4")]; var i = t[o_("0x3c")]; i ? n = e : (n = this.R(t[o_("0x1e")]), this.U(n, t.metadata)), this[o_("0x3")] = t[o_("0x24")], this.V(n, i); };
                            s_.prototype.A = function (t, e) { throw this[o_("0x12")] = !0, e && console.error(e), new Gn.b(t, this.editor); };
                            s_.prototype._saveOperationInBuffer = function (t) { if ("selection" === t)
                                return o_("0x3d"); this.k[o_("0x31")](t) || (this.k.add(t), this[o_("0x3e")][o_("0x2a")](t), this._ || o_("0x3f") == t.type && !t[o_("0x40")] || this.N()); };
                            s_.prototype.S = function () { var t = this[o_("0x6")][o_("0x7")][o_("0x8")](pv).sessions; return !this[o_("0x6")][o_("0x2b")] && t[o_("0x20")] > 1 && this.O; };
                            s_.prototype.B = function () { return this._bufferedOperations[o_("0x41")] > 0 || this.S(); };
                            s_.prototype.G = function () {
                                return __awaiter(this, void 0, void 0, function () {
                                    var e_801, _j, t, e, e_802, e_802_1, t_436, n, i;
                                    return __generator(this, function (_q) {
                                        switch (_q.label) {
                                            case 0:
                                                t = this[o_("0x6")][o_("0x7")][o_("0x8")](xv);
                                                if (this.S() && (t[o_("0x42")](), this.O = !1), !this.B())
                                                    return [2 /*return*/, Promise.resolve()];
                                                e = Array[o_("0x43")](this[o_("0x3e")]);
                                                try {
                                                    for (e_802 = __values(e), e_802_1 = e_802.next(); !e_802_1.done; e_802_1 = e_802.next()) {
                                                        t_436 = e_802_1.value;
                                                        t_436[o_("0x44")] = this.u[o_("0x45")].isUndoneOperation(t_436);
                                                    }
                                                }
                                                catch (e_801_1) { e_801 = { error: e_801_1 }; }
                                                finally {
                                                    try {
                                                        if (e_802_1 && !e_802_1.done && (_j = e_802.return)) _j.call(e_802);
                                                    }
                                                    finally { if (e_801) throw e_801.error; }
                                                }
                                                n = r_++;
                                                return [4 /*yield*/, this[o_("0xe")][o_("0x46")](this.W(e), this[o_("0x3")])];
                                            case 1:
                                                i = _q.sent();
                                                try {
                                                    return [2 /*return*/, this.P(e, i, n)];
                                                }
                                                catch (t) {
                                                    return [2 /*return*/, this.A(o_("0x47"), t)];
                                                }
                                                return [2 /*return*/];
                                        }
                                    });
                                });
                            };
                            s_.prototype[o_("0x14")] = function (t) {
                                var _this = this;
                                if (t === void 0) { t = !1; }
                                !t && this._isPendingUpdate || (this[o_("0x12")] = !0, clearTimeout(this.v), this.v = setTimeout(function () { _this.G()[o_("0x28")](function (t) { t && (_this.q(), _this[o_("0x12")] = !1); })[o_("0x18")](function (t) { throw _this.q(), _this._isPendingUpdate = !1, t; }); }, 300));
                            };
                            s_.prototype.P = function (t, e, n) {
                                var e_803, _j;
                                if (e[o_("0x48")])
                                    throw e[o_("0x48")];
                                var i = !1;
                                if (e[o_("0x3c")]) {
                                    try {
                                        for (var t_437 = __values(t), t_437_1 = t_437.next(); !t_437_1.done; t_437_1 = t_437.next()) {
                                            var e_804 = t_437_1.value;
                                            this[o_("0x3e")][o_("0x49")](e_804), delete e_804.wasUndone;
                                        }
                                    }
                                    catch (e_803_1) { e_803 = { error: e_803_1 }; }
                                    finally {
                                        try {
                                            if (t_437_1 && !t_437_1.done && (_j = t_437.return)) _j.call(t_437);
                                        }
                                        finally { if (e_803) throw e_803.error; }
                                    }
                                    i = !0;
                                }
                                else {
                                    var t_438 = this.R(e[o_("0x1e")]);
                                    this.U(t_438, e[o_("0x4a")]), i = this.j(t_438, e[o_("0x24")]);
                                }
                                return i ? (this.lastSyncVersion = e[o_("0x24")], !this.B() || (this[o_("0x14")](!0), !1)) : this.A(o_("0x4b"));
                            };
                            s_.prototype.j = function (t, e) {
                                var e_805, _j;
                                try {
                                    var n_321 = Array.from(this._bufferedOperations), i_213 = { document: this.u, useRelations: !1, padWithNoOps: !0 }, _q = cu(t, n_321, i_213), o_134 = _q.operationsA, r_76 = _q.operationsB, s_52 = _q.originalOperations;
                                    a_(o_134, this.u[o_("0x24")]), a_(r_76, e);
                                    try {
                                        for (var o_133 = __values(o_134), o_133_1 = o_133.next(); !o_133_1.done; o_133_1 = o_133.next()) {
                                            var t_439 = o_133_1.value;
                                            var e_806 = s_52[o_("0x8")](t_439);
                                            t_439[o_("0xb")] = e_806 ? e_806._authorId : null;
                                        }
                                    }
                                    catch (e_805_1) { e_805 = { error: e_805_1 }; }
                                    finally {
                                        try {
                                            if (o_133_1 && !o_133_1.done && (_j = o_133.return)) _j.call(o_133);
                                        }
                                        finally { if (e_805) throw e_805.error; }
                                    }
                                    this[o_("0x3e")] = new Set(r_76), this.V(o_134);
                                }
                                catch (t) {
                                    return console[o_("0x48")](t), !1;
                                }
                                return !0;
                            };
                            s_.prototype.V = function (t, e) {
                                var _this = this;
                                if (e === void 0) { e = !1; }
                                this[o_("0x6")][o_("0x10")][o_("0x4c")](o_("0x4d"), function (e) {
                                    var e_807, _j;
                                    try {
                                        for (var t_440 = __values(t), t_440_1 = t_440.next(); !t_440_1.done; t_440_1 = t_440.next()) {
                                            var n_322 = t_440_1.value;
                                            _this.k[o_("0x2a")](n_322), e[o_("0x4e")][o_("0x4f")](n_322), _this[o_("0x6")][o_("0x10")][o_("0x1a")](n_322);
                                        }
                                    }
                                    catch (e_807_1) { e_807 = { error: e_807_1 }; }
                                    finally {
                                        try {
                                            if (t_440_1 && !t_440_1.done && (_j = t_440.return)) _j.call(t_440);
                                        }
                                        finally { if (e_807) throw e_807.error; }
                                    }
                                });
                            };
                            s_.prototype.N = function () { this._ = this.l[o_("0x2a")](o_("0x50")); };
                            s_.prototype.q = function () { this._ && (this.l[o_("0x51")](this._), this._ = null); };
                            s_.prototype.W = function (t) { return this.g[o_("0x52")](t[o_("0x53")](function (t) { return t[o_("0x54")](); })); };
                            s_.prototype.R = function (t) {
                                var _this = this;
                                return this.g[o_("0x55")](t)[o_("0x53")](function (t) { var e = e_.fromJSON(t, _this.u); return e[o_("0x44")] = t[o_("0x44")], e; });
                            };
                            s_.prototype.U = function (t, e) { for (var n_323 = 0; n_323 < t[o_("0x20")]; n_323++)
                                o_("0x5") != e[n_323][o_("0x56")] ? t[n_323]._authorId = e[n_323][o_("0x57")] : t[n_323][o_("0xb")] = null; };
                            return s_;
                        }(Sd));
                        function a_(t, e) {
                            var e_808, _j;
                            try {
                                for (var t_441 = __values(t), t_441_1 = t_441.next(); !t_441_1.done; t_441_1 = t_441.next()) {
                                    var n_324 = t_441_1.value;
                                    n_324.baseVersion = e++;
                                }
                            }
                            catch (e_808_1) { e_808 = { error: e_808_1 }; }
                            finally {
                                try {
                                    if (t_441_1 && !t_441_1.done && (_j = t_441.return)) _j.call(t_441);
                                }
                                finally { if (e_808) throw e_808.error; }
                            }
                        }
                        s_[o_("0xf")] = Xy;
                        var c_ = ["RealTimeCollaborativeEditing", "requires", "pluginName"];
                        !function (t, e) { !function (e) { for (; --e;)
                            t.push(t.shift()); }(++e); }(c_, 256);
                        var l_ = function (t, e) { return c_[t -= 0]; };
                        var d_ = /** @class */ (function (_super) {
                            __extends(d_, _super);
                            function d_(t, e, n, i, o, r) {
                                var _this = this;
                                _this = _super.call(this) || this, _this.commentThreadId = e, _this.content = n, _this.documentId = t, _this.commentId = i || "", _this.createdAt = o ? new Date(o) : "", _this.userId = r || "";
                                return _this;
                            }
                            d_.prototype.toJSON = function () { return { commentThreadId: this.commentThreadId, content: this.content, documentId: this.documentId, commentId: this.commentId, createdAt: this.createdAt instanceof Date ? this.createdAt.toISOString() : this.createdAt, userId: this.userId }; };
                            Object.defineProperty(d_, "TYPE", {
                                get: function () { return 91; },
                                enumerable: true,
                                configurable: true
                            });
                            Object.defineProperty(d_, "DESCRIPTOR_NAME", {
                                get: function () { return "CommentsV2AddCommentMessage"; },
                                enumerable: true,
                                configurable: true
                            });
                            Object.defineProperty(d_, "DESCRIPTOR", {
                                get: function () { return { fields: { commentThreadId: { type: "string", id: 1 }, content: { type: "string", id: 2 }, documentId: { type: "string", id: 3 }, commentId: { type: "string", id: 4 }, createdAt: { type: "string", id: 5 }, userId: { type: "string", id: 6 } } }; },
                                enumerable: true,
                                configurable: true
                            });
                            d_.fromJSON = function (t) { return new d_(t.documentId, t.commentThreadId, t.content, t.commentId ? t.commentId : null, t.createdAt ? new Date(t.createdAt) : null, t.userId ? t.userId : null); };
                            return d_;
                        }(qk));
                        var u_ = /** @class */ (function (_super) {
                            __extends(u_, _super);
                            function u_(t, e, n) {
                                var _this = this;
                                _this = _super.call(this) || this, _this.commentThreadId = t, _this.commentId = e, _this.createdAt = new Date(n);
                                return _this;
                            }
                            u_.prototype.toJSON = function () { return { commentThreadId: this.commentThreadId, commentId: this.commentId, createdAt: this.createdAt.toISOString() }; };
                            Object.defineProperty(u_, "DESCRIPTOR_NAME", {
                                get: function () { return "CommentsV2AddCommentResponse"; },
                                enumerable: true,
                                configurable: true
                            });
                            Object.defineProperty(u_, "DESCRIPTOR", {
                                get: function () { return { fields: { commentThreadId: { type: "string", id: 1 }, commentId: { type: "string", id: 2 }, createdAt: { type: "string", id: 3 } } }; },
                                enumerable: true,
                                configurable: true
                            });
                            u_.fromJSON = function (t) { return new u_(t.commentThreadId, t.commentId, t.createdAt); };
                            return u_;
                        }(qk));
                        var h_ = /** @class */ (function (_super) {
                            __extends(h_, _super);
                            function h_(t) {
                                var _this = this;
                                _this = _super.call(this) || this, _this.documentId = t;
                                return _this;
                            }
                            h_.prototype.toJSON = function () { return { documentId: this.documentId }; };
                            Object.defineProperty(h_, "TYPE", {
                                get: function () { return 92; },
                                enumerable: true,
                                configurable: true
                            });
                            Object.defineProperty(h_, "DESCRIPTOR_NAME", {
                                get: function () { return "CommentsV2ConnectMessage"; },
                                enumerable: true,
                                configurable: true
                            });
                            Object.defineProperty(h_, "DESCRIPTOR", {
                                get: function () { return { fields: { documentId: { type: "string", id: 1 } } }; },
                                enumerable: true,
                                configurable: true
                            });
                            h_.fromJSON = function (t) { return new h_(t.documentId); };
                            return h_;
                        }(qk));
                        var f_ = /** @class */ (function (_super) {
                            __extends(f_, _super);
                            function f_(t, e) {
                                var _this = this;
                                _this = _super.call(this) || this, _this.channel = t, _this.threads = e;
                                return _this;
                            }
                            f_.prototype.toJSON = function () { return { channel: this.channel, threads: this.threads.map(function (t) { return JSON.stringify(t); }) }; };
                            Object.defineProperty(f_, "DESCRIPTOR_NAME", {
                                get: function () { return "CommentsV2ConnectResponse"; },
                                enumerable: true,
                                configurable: true
                            });
                            Object.defineProperty(f_, "DESCRIPTOR", {
                                get: function () { return { fields: { channel: { type: "string", id: 1 }, threads: { type: "string", rule: "repeated", id: 2 } } }; },
                                enumerable: true,
                                configurable: true
                            });
                            f_.fromJSON = function (t) { return new f_(t.channel, t.threads.map(function (t) { return JSON.parse(t); })); };
                            return f_;
                        }(qk));
                        var p_ = /** @class */ (function (_super) {
                            __extends(p_, _super);
                            function p_(t, e, n) {
                                var _this = this;
                                _this = _super.call(this) || this, _this.commentThreadId = e, _this.commentId = n, _this.documentId = t;
                                return _this;
                            }
                            p_.prototype.toJSON = function () { return { documentId: this.documentId, commentThreadId: this.commentThreadId, commentId: this.commentId }; };
                            Object.defineProperty(p_, "TYPE", {
                                get: function () { return 95; },
                                enumerable: true,
                                configurable: true
                            });
                            Object.defineProperty(p_, "DESCRIPTOR_NAME", {
                                get: function () { return "CommentsV2RemoveCommentMessage"; },
                                enumerable: true,
                                configurable: true
                            });
                            Object.defineProperty(p_, "DESCRIPTOR", {
                                get: function () { return { fields: { commentThreadId: { type: "string", id: 1 }, commentId: { type: "string", id: 2 }, documentId: { type: "string", id: 3 } } }; },
                                enumerable: true,
                                configurable: true
                            });
                            p_.fromJSON = function (t) { return new p_(t.documentId, t.commentThreadId, t.commentId); };
                            return p_;
                        }(qk));
                        var m_ = /** @class */ (function (_super) {
                            __extends(m_, _super);
                            function m_(t, e, n, i) {
                                var _this = this;
                                _this = _super.call(this) || this, _this.commentThreadId = e, _this.commentId = n, _this.content = i, _this.documentId = t;
                                return _this;
                            }
                            m_.prototype.toJSON = function () { return { documentId: this.documentId, commentThreadId: this.commentThreadId, commentId: this.commentId, content: this.content }; };
                            Object.defineProperty(m_, "TYPE", {
                                get: function () { return 96; },
                                enumerable: true,
                                configurable: true
                            });
                            Object.defineProperty(m_, "DESCRIPTOR_NAME", {
                                get: function () { return "CommentsV2UpdateCommentMessage"; },
                                enumerable: true,
                                configurable: true
                            });
                            Object.defineProperty(m_, "DESCRIPTOR", {
                                get: function () { return { fields: { commentThreadId: { type: "string", id: 1 }, commentId: { type: "string", id: 2 }, content: { type: "string", id: 3 }, documentId: { type: "string", id: 4 } } }; },
                                enumerable: true,
                                configurable: true
                            });
                            m_.fromJSON = function (t) { return new m_(t.documentId, t.commentThreadId, t.commentId, t.content); };
                            return m_;
                        }(qk));
                        var g_ = /** @class */ (function (_super) {
                            __extends(g_, _super);
                            function g_(t, e) {
                                var _this = this;
                                _this = _super.call(this) || this, _this.commentThreadId = t, _this.documentId = e;
                                return _this;
                            }
                            g_.prototype.toJSON = function () { return { commentThreadId: this.commentThreadId, documentId: this.documentId }; };
                            Object.defineProperty(g_, "TYPE", {
                                get: function () { return 93; },
                                enumerable: true,
                                configurable: true
                            });
                            Object.defineProperty(g_, "DESCRIPTOR_NAME", {
                                get: function () { return "CommentsV2GetCommentThreadMessage"; },
                                enumerable: true,
                                configurable: true
                            });
                            Object.defineProperty(g_, "DESCRIPTOR", {
                                get: function () { return { fields: { commentThreadId: { type: "string", id: 1 }, documentId: { type: "string", id: 2 } } }; },
                                enumerable: true,
                                configurable: true
                            });
                            g_.fromJSON = function (t) { return new g_(t.commentThreadId, t.documentId); };
                            return g_;
                        }(qk));
                        var x_ = /** @class */ (function (_super) {
                            __extends(x_, _super);
                            function x_(t, e) {
                                var _this = this;
                                _this = _super.call(this) || this, _this.commentThreadId = t, _this.comments = e;
                                return _this;
                            }
                            x_.prototype.toJSON = function () { return { commentThreadId: this.commentThreadId, comments: this.comments.map(function (t) { return JSON.stringify(t); }) }; };
                            Object.defineProperty(x_, "DESCRIPTOR_NAME", {
                                get: function () { return "CommentsV2GetCommentThreadResponse"; },
                                enumerable: true,
                                configurable: true
                            });
                            Object.defineProperty(x_, "DESCRIPTOR", {
                                get: function () { return { fields: { commentThreadId: { type: "string", id: 1 }, comments: { type: "string", rule: "repeated", id: 2 } } }; },
                                enumerable: true,
                                configurable: true
                            });
                            x_.fromJSON = function (t) { return new x_(t.commentThreadId, t.comments.map(function (t) { return JSON.parse(t); })); };
                            return x_;
                        }(qk));
                        var b_ = /** @class */ (function (_super) {
                            __extends(b_, _super);
                            function b_(t) {
                                var _this = this;
                                _this = _super.call(this) || this, _this.documentId = t;
                                return _this;
                            }
                            b_.prototype.toJSON = function () { return { documentId: this.documentId }; };
                            Object.defineProperty(b_, "TYPE", {
                                get: function () { return 94; },
                                enumerable: true,
                                configurable: true
                            });
                            Object.defineProperty(b_, "DESCRIPTOR_NAME", {
                                get: function () { return "CommentsV2GetDocumentThreadsMessage"; },
                                enumerable: true,
                                configurable: true
                            });
                            Object.defineProperty(b_, "DESCRIPTOR", {
                                get: function () { return { fields: { documentId: { type: "string", id: 1 } } }; },
                                enumerable: true,
                                configurable: true
                            });
                            b_.fromJSON = function (t) { return new b_(t.documentId); };
                            return b_;
                        }(qk));
                        var k_ = /** @class */ (function (_super) {
                            __extends(k_, _super);
                            function k_(t) {
                                var _this = this;
                                _this = _super.call(this) || this, _this.threads = t;
                                return _this;
                            }
                            k_.prototype.toJSON = function () { return { threads: this.threads.map(function (t) { return JSON.stringify(t); }) }; };
                            Object.defineProperty(k_, "DESCRIPTOR_NAME", {
                                get: function () { return "CommentsV2GetDocumentThreadsResponse"; },
                                enumerable: true,
                                configurable: true
                            });
                            Object.defineProperty(k_, "DESCRIPTOR", {
                                get: function () { return { fields: { threads: { type: "string", rule: "repeated", id: 1 } } }; },
                                enumerable: true,
                                configurable: true
                            });
                            k_.fromJSON = function (t) { return new k_(t.threads.map(function (t) { return JSON.parse(t); })); };
                            return k_;
                        }(qk));
                        var w_ = 9;
                        var v_ = /** @class */ (function () {
                            function v_(t) {
                                this._wsGateway = null, this._isConnected = !1, this._documentId = t;
                            }
                            v_.prototype.connect = function (t) {
                                return __awaiter(this, void 0, void 0, function () {
                                    var e, n, _j, i, o;
                                    var _this = this;
                                    return __generator(this, function (_q) {
                                        switch (_q.label) {
                                            case 0:
                                                if (this._isConnected)
                                                    return [2 /*return*/, Promise.resolve()];
                                                if (t.state !== Iw.STATE_CONNECTED)
                                                    throw new ow("Web socket gateway is not connected.", t);
                                                e = new h_(this._documentId);
                                                this._wsGateway = t, this.stopListening(t, "change:state");
                                                return [4 /*yield*/, t._sendRequest(w_, e.constructor.TYPE, Kk.encode(e))];
                                            case 1:
                                                n = _q.sent(), _j = Kk.decode(n, f_), i = _j.channel, o = _j.threads;
                                                return [2 /*return*/, (this.listenTo(t, "change:state", function () {
                                                        var t = [];
                                                        for (var _j = 0; _j < arguments.length; _j++) {
                                                            t[_j] = arguments[_j];
                                                        }
                                                        return _this._onWsGatewayStateChange.apply(_this, __spread(t));
                                                    }, { priority: Iw._CHANGE_STATE_EVENT_PRIORITY }), this._connectToChannel(t, i), this._isConnected = !0, this.fire("connected"), o)];
                                        }
                                    });
                                });
                            };
                            v_.prototype.disconnect = function () { this._isConnected && (this._isConnected = !1, this._wsGateway && (this.stopListening(this._wsGateway), this._wsGateway = void 0), this._channel && (this.stopListening(this._channel), this._channel = void 0), this._connectedSessions && (this._connectedSessions.disconnect(), this._connectedSessions = void 0), this.fire("disconnected"), this.stopListening()); };
                            v_.prototype.addComment = function (t, e, n) {
                                return __awaiter(this, void 0, void 0, function () { var i, o; return __generator(this, function (_j) {
                                    switch (_j.label) {
                                        case 0:
                                            i = new d_(this._documentId, t, n, e);
                                            return [4 /*yield*/, this._wsGateway._sendRequest(w_, d_.TYPE, Kk.encode(i))];
                                        case 1:
                                            o = _j.sent();
                                            return [2 /*return*/, Kk.decode(o, u_)];
                                    }
                                }); });
                            };
                            v_.prototype.updateComment = function (t, e, n) { var i = new m_(this._documentId, t, e, n); return this._wsGateway._sendRequest(w_, m_.TYPE, Kk.encode(i)); };
                            v_.prototype.removeComment = function (t, e) { var n = new p_(this._documentId, t, e); return this._wsGateway._sendRequest(w_, p_.TYPE, Kk.encode(n)); };
                            v_.prototype.getCommentThread = function (t, e) {
                                if (e === void 0) { e = 1; }
                                return __awaiter(this, void 0, void 0, function () { var n, o_135, n_325, i; return __generator(this, function (_j) {
                                    switch (_j.label) {
                                        case 0:
                                            n = new g_(t, this._documentId);
                                            _j.label = 1;
                                        case 1:
                                            _j.trys.push([1, 3, , 7]);
                                            return [4 /*yield*/, this._wsGateway._sendRequest(w_, g_.TYPE, Kk.encode(n))];
                                        case 2:
                                            o_135 = _j.sent();
                                            return [2 /*return*/, Kk.decode(o_135, x_)];
                                        case 3:
                                            n_325 = _j.sent();
                                            if (!(n_325 instanceof ow && "404" === n_325.code && e < 5)) return [3 /*break*/, 6];
                                            return [4 /*yield*/, (i = 100 * e, new Promise(function (t) { setTimeout(t, i); }))];
                                        case 4:
                                            _j.sent();
                                            return [4 /*yield*/, this.getCommentThread(t, e + 1)];
                                        case 5: return [2 /*return*/, _j.sent()];
                                        case 6:
                                            if (n_325 instanceof ow)
                                                throw n_325;
                                            throw new ow(n_325.message, this._wsGateway);
                                        case 7: return [2 /*return*/];
                                    }
                                }); });
                            };
                            v_.prototype.getDocumentThreads = function () {
                                return __awaiter(this, void 0, void 0, function () { var t, e; return __generator(this, function (_j) {
                                    switch (_j.label) {
                                        case 0:
                                            t = new b_(this._documentId);
                                            return [4 /*yield*/, this._wsGateway._sendRequest(w_, b_.TYPE, Kk.encode(t))];
                                        case 1:
                                            e = _j.sent();
                                            return [2 /*return*/, Kk.decode(e, k_)];
                                    }
                                }); });
                            };
                            v_.prototype.getConnectedSessions = function () {
                                return __awaiter(this, void 0, void 0, function () { var _j, _q; return __generator(this, function (_z) {
                                    switch (_z.label) {
                                        case 0:
                                            if (!this._isConnected)
                                                throw new ow("Comments Service is not connected.", this);
                                            _j = this._connectedSessions;
                                            if (_j) return [3 /*break*/, 2];
                                            _q = this;
                                            return [4 /*yield*/, qy.getConnectedSessions(this._wsGateway, this._documentId, w_)];
                                        case 1:
                                            _j = (_q._connectedSessions = _z.sent());
                                            _z.label = 2;
                                        case 2: return [2 /*return*/, (_j, this._connectedSessions)];
                                    }
                                }); });
                            };
                            v_.prototype._connectToChannel = function (t, e) {
                                var _this = this;
                                this._channel = t._getChannel(v_._SERVICE, e), this.listenTo(this._channel, this._channel.getEventName(d_.TYPE), function (t, e) { var n = Kk.decode(e, d_); _this.fire("commentAdded", n); }), this.listenTo(this._channel, this._channel.getEventName(p_.TYPE), function (t, e) { var n = Kk.decode(e, p_); _this.fire("commentRemoved", n); }), this.listenTo(this._channel, this._channel.getEventName(m_.TYPE), function (t, e) { var n = Kk.decode(e, m_); _this.fire("commentUpdated", n); });
                            };
                            v_.prototype._onWsGatewayStateChange = function (t, e, n) { n === Iw.STATE_DISCONNECTED && this.disconnect(); };
                            Object.defineProperty(v_, "_SERVICE", {
                                get: function () { return w_; },
                                enumerable: true,
                                configurable: true
                            });
                            Object.defineProperty(v_.prototype, "isConnected", {
                                get: function () { return this._isConnected; },
                                enumerable: true,
                                configurable: true
                            });
                            return v_;
                        }());
                        li(v_, ni);
                        var y_ = v_, __ = ["commentRemoved", "removeComment", "connect", "addComment", "push", "all", "commentId", "userId", "requires", "init", "editor", "get", "plugins", "_commentsService", "CommentsService", "data", "once", "ready", "listenTo", "connected", "adapter", "getCommentThread", "then", "comments", "map", "updateComment", "createdAt", "commentAdded", "has", "addCommentThread", "commentThreadId", "commentUpdated"];
                        !function (t, e) { !function (e) { for (; --e;)
                            t.push(t.shift()); }(++e); }(__, 488);
                        var C_ = function (t, e) { return __[t -= 0]; };
                        var T_ = /** @class */ (function (_super) {
                            __extends(T_, _super);
                            function T_() {
                                return _super !== null && _super.apply(this, arguments) || this;
                            }
                            Object.defineProperty(T_, C_("0x0"), {
                                get: function () { return [Ow, iv, Bw, s_]; },
                                enumerable: true,
                                configurable: true
                            });
                            T_.prototype[C_("0x1")] = function () {
                                var _this = this;
                                var t = this[C_("0x2")].plugins[C_("0x3")](Ow), e = this[C_("0x2")][C_("0x4")][C_("0x3")](iv), n = t.connection, i = t.documentId;
                                return this[C_("0x5")] = new (T_[C_("0x6")])(i), this.editor[C_("0x7")][C_("0x8")](C_("0x9"), function () { _this[C_("0xa")](t, "change:state", function (t, n, i) { e._isThreadsLoadingPaused = C_("0xb") !== i; }); }), e[C_("0xc")] = { getCommentThread: function (t) { return _this[C_("0x5")][C_("0xd")](t)[C_("0xe")](function (t) { return _this.m([t])[C_("0xe")](function () { return ({ threadId: t.commentThreadId, comments: t[C_("0xf")][C_("0x10")](A_) }); }); }); }, addComment: function (_j) {
                                        var t = _j.threadId, n = _j.commentId, i = _j.content;
                                        return _this[C_("0x5")].addComment(t, n, i)[C_("0xe")](function (t) { e[C_("0x11")]({ commentId: n, createdAt: t[C_("0x12")] }); });
                                    }, updateComment: function (_j) {
                                        var t = _j.threadId, e = _j.commentId, n = _j.content;
                                        return _this[C_("0x5")][C_("0x11")](t, e, n);
                                    }, removeComment: function (_j) {
                                        var t = _j.threadId, e = _j.commentId;
                                        return _this[C_("0x5")].removeComment(t, e);
                                    } }, this._commentsService.on(C_("0x13"), function (t, n) { e.threads[C_("0x14")](n.commentThreadId) || e[C_("0x15")]({ threadId: n[C_("0x16")] }), e.addComment(A_(n)); }), this._commentsService.on(C_("0x17"), function (t, _j) {
                                    var n = _j.commentId, i = _j.content;
                                    e.updateComment({ commentId: n, content: i });
                                }), this[C_("0x5")].on(C_("0x18"), function (t, _j) {
                                    var n = _j.commentId;
                                    e[C_("0x19")](n);
                                }), this[C_("0x5")][C_("0x1a")](n).then(function (t) { return _this.m(t)[C_("0xe")](function () {
                                    var e_809, _j, e_810, _q;
                                    try {
                                        for (var t_442 = __values(t), t_442_1 = t_442.next(); !t_442_1.done; t_442_1 = t_442.next()) {
                                            var n_326 = t_442_1.value;
                                            e[C_("0x15")]({ threadId: n_326.commentThreadId });
                                            try {
                                                for (var _z = __values(n_326[C_("0xf")]), _0 = _z.next(); !_0.done; _0 = _z.next()) {
                                                    var t_443 = _0.value;
                                                    e[C_("0x1b")](A_(t_443));
                                                }
                                            }
                                            catch (e_810_1) { e_810 = { error: e_810_1 }; }
                                            finally {
                                                try {
                                                    if (_0 && !_0.done && (_q = _z.return)) _q.call(_z);
                                                }
                                                finally { if (e_810) throw e_810.error; }
                                            }
                                        }
                                    }
                                    catch (e_809_1) { e_809 = { error: e_809_1 }; }
                                    finally {
                                        try {
                                            if (t_442_1 && !t_442_1.done && (_j = t_442.return)) _j.call(t_442);
                                        }
                                        finally { if (e_809) throw e_809.error; }
                                    }
                                }); });
                            };
                            T_.prototype.m = function (t) {
                                var e_811, _j, e_812, _q;
                                var e = this[C_("0x2")][C_("0x4")].get(Bw), n = this[C_("0x2")].plugins[C_("0x3")](Ow).connection, i = [];
                                try {
                                    for (var t_444 = __values(t), t_444_1 = t_444.next(); !t_444_1.done; t_444_1 = t_444.next()) {
                                        var n_328 = t_444_1.value.comments;
                                        try {
                                            for (var n_327 = __values(n_328), n_327_1 = n_327.next(); !n_327_1.done; n_327_1 = n_327.next()) {
                                                var t_445 = n_327_1.value.userId;
                                                e.getUser(t_445) || i.includes(t_445) || i[C_("0x1c")](t_445);
                                            }
                                        }
                                        catch (e_812_1) { e_812 = { error: e_812_1 }; }
                                        finally {
                                            try {
                                                if (n_327_1 && !n_327_1.done && (_q = n_327.return)) _q.call(n_327);
                                            }
                                            finally { if (e_812) throw e_812.error; }
                                        }
                                    }
                                }
                                catch (e_811_1) { e_811 = { error: e_811_1 }; }
                                finally {
                                    try {
                                        if (t_444_1 && !t_444_1.done && (_j = t_444.return)) _j.call(t_444);
                                    }
                                    finally { if (e_811) throw e_811.error; }
                                }
                                return Promise[C_("0x1d")](i[C_("0x10")](function (t) { return nw[C_("0x3")](n, t)[C_("0xe")](function (n) { e.getUser(t) || e.addUser(n); }); }));
                            };
                            return T_;
                        }(Sd));
                        function A_(t) { return { threadId: t.commentThreadId, commentId: t[C_("0x1e")], content: t.content, createdAt: t[C_("0x12")], authorId: t[C_("0x1f")] }; }
                        T_[C_("0x6")] = y_;
                        var S_ = n(121), E_ = n.n(S_), P_ = ["cancel", "attributes", "type", "class", "attributeName", "childList", "observe", "disconnect"];
                        !function (t, e) { !function (e) { for (; --e;)
                            t.push(t.shift()); }(++e); }(P_, 465);
                        var I_ = function (t, e) { return P_[t -= 0]; };
                        function N_(t) { var e = fm(t, 30), n = new MutationObserver(function (t) {
                            var e_813, _j;
                            try {
                                for (var t_446 = __values(t), t_446_1 = t_446.next(); !t_446_1.done; t_446_1 = t_446.next()) {
                                    var n_329 = t_446_1.value;
                                    (I_("0x0") == n_329[I_("0x1")] && I_("0x2") == n_329[I_("0x3")] || I_("0x4") == n_329[I_("0x1")]) && e();
                                }
                            }
                            catch (e_813_1) { e_813 = { error: e_813_1 }; }
                            finally {
                                try {
                                    if (t_446_1 && !t_446_1.done && (_j = t_446.return)) _j.call(t_446);
                                }
                                finally { if (e_813) throw e_813.error; }
                            }
                        }); return { attach: function (t) { n[I_("0x5")](t, { attributes: !0, childList: !0, subtree: !0 }); }, detach: function () { n[I_("0x6")](), e[I_("0x7")](); } }; }
                        var M_ = ["ck-annotation-wrapper--active", "element", "render", "add", "destroy", "detach", "mainView", "narrowView", "focusTracker", "keystrokes", "Esc", "fire", "set", "targetRect", "height", "active", "updateHeight", "content", "createCollection", "bindTemplate", "setTemplate", "ck-rounded-corners"];
                        !function (t, e) { !function (e) { for (; --e;)
                            t.push(t.shift()); }(++e); }(M_, 160);
                        var O_ = function (t, e) { return M_[t -= 0]; };
                        var R_ = /** @class */ (function (_super) {
                            __extends(R_, _super);
                            function R_(t, e, n) {
                                var _this = this;
                                _this = _super.call(this, t) || this, _this.id = Zn(), _this[O_("0x0")] = e, _this[O_("0x1")] = n, _this[O_("0x2")] = new dl, _this[O_("0x3")] = new el, _this[O_("0x3")].set(O_("0x4"), function () { return _this[O_("0x5")](O_("0x4")); }), _this[O_("0x6")](O_("0x7"), { top: 0, right: 0, bottom: 0, left: 0 }), _this[O_("0x6")](O_("0x8"), 0), _this[O_("0x6")](O_("0x9")), _this.K = N_(function () { return _this[O_("0xa")](); }), _this[O_("0xb")] = _this[O_("0xc")](), _this[O_("0xb")].add(_this.mainView);
                                var i = _this[O_("0xd")];
                                _this[O_("0xe")]({ tag: "div", attributes: { class: ["ck", "ck-annotation-wrapper", O_("0xf"), i.if(O_("0x9"), O_("0x10"))], tabindex: -1 }, children: _this.content });
                                return _this;
                            }
                            R_.prototype[O_("0xa")] = function () { var t = this[O_("0x11")].clientHeight; t && (this.height = t); };
                            R_.prototype[O_("0x12")] = function () { _super.prototype[O_("0x12")].call(this), this[O_("0x2")][O_("0x13")](this[O_("0x11")]), this[O_("0x3")].listenTo(this.element), this.K.attach(this[O_("0x11")]); };
                            R_.prototype[O_("0x14")] = function () { this[O_("0xb")].clear(), this.keystrokes.destroy(), this[O_("0x2")][O_("0x14")](), this.K[O_("0x15")](), _super.prototype[O_("0x14")].call(this); };
                            return R_;
                        }(Vl));
                        n(267);
                        var D_ = ["InlineAnnotations", "editing", "view", "get", "init", "editor", "plugins", "register", "inline", "keystrokes", "set", "Esc", "isAttached", "visibleView", "items", "has", "add", "afterInit", "uiType", "destroy", "detach", "attach", "inlineannotations-attach-already-attached: Cannot attach the same annotations twice.", "listenTo", "focusTracker", "change:isFocused", "remove", "change:selectedViews", "includes", "delete", "getAnnotationView", "mainView", "change:activeView", "change:visibleView", "stopListening", "change:height", "activeView", "update", "updatePosition", "document", "clear", "refreshActiveView", "inlineannotations-detach-not-attached: Cannot detach not attached annotations.", "hasView", "showStack", "getMarkers", "getMarkerDomElement", "requires", "pluginName"];
                        !function (t, e) { !function (e) { for (; --e;)
                            t.push(t.shift()); }(++e); }(D_, 243);
                        var j_ = function (t, e) { return D_[t -= 0]; };
                        var B_ = /** @class */ (function (_super) {
                            __extends(B_, _super);
                            function B_(t) {
                                var _this = this;
                                _this = _super.call(this, t) || this, t[j_("0x3")][j_("0x4")].addObserver(Uf), _this.isAttached = !1, _this.k = new Set, _this.v = t.plugins[j_("0x5")](fp);
                                return _this;
                            }
                            Object.defineProperty(B_, j_("0x0"), {
                                get: function () { return [F_, fp]; },
                                enumerable: true,
                                configurable: true
                            });
                            Object.defineProperty(B_, j_("0x1"), {
                                get: function () { return j_("0x2"); },
                                enumerable: true,
                                configurable: true
                            });
                            B_.prototype[j_("0x6")] = function () {
                                var _this = this;
                                this.A = this[j_("0x7")][j_("0x8")][j_("0x5")](F_), this.A[j_("0x9")](j_("0xa"), this), this[j_("0x7")][j_("0xb")][j_("0xc")](j_("0xd"), function (t, e) { var n = _this.v, i = _this.A; _this[j_("0xe")] && n[j_("0xf")] && i[j_("0x10")][j_("0x11")](n.visibleView) && (_this.k[j_("0x12")](n[j_("0xf")]), _this.I(n[j_("0xf")]), e()); });
                            };
                            B_.prototype[j_("0x13")] = function () { this.A[j_("0x14")] || this.A.switchTo("inline"); };
                            B_.prototype[j_("0x15")] = function () { this.isAttached && this[j_("0x16")](); };
                            B_.prototype[j_("0x17")] = function () {
                                var _this = this;
                                var t = this.A, e = this.v;
                                if (this.isAttached)
                                    throw new Gn.b(j_("0x18"), this);
                                this[j_("0x19")](this.editor.ui[j_("0x1a")], j_("0x1b"), function (e, n, i) {
                                    var e_814, _j;
                                    if (!i)
                                        try {
                                            for (var _q = __values(t[j_("0x10")]), _z = _q.next(); !_z.done; _z = _q.next()) {
                                                var e_815 = _z.value;
                                                _this.I(e_815);
                                            }
                                        }
                                        catch (e_814_1) { e_814 = { error: e_814_1 }; }
                                        finally {
                                            try {
                                                if (_z && !_z.done && (_j = _q.return)) _j.call(_q);
                                            }
                                            finally { if (e_814) throw e_814.error; }
                                        }
                                }), this[j_("0x19")](t[j_("0x10")], j_("0x1c"), function (t, e) { _this.I(e); }), this[j_("0x19")](t, j_("0x1d"), function (e, n, i, o) {
                                    var e_816, _j, e_817, _q, e_818, _z;
                                    try {
                                        for (var o_136 = __values(o), o_136_1 = o_136.next(); !o_136_1.done; o_136_1 = o_136.next()) {
                                            var e_819 = o_136_1.value;
                                            i[j_("0x1e")](e_819) || _this.k[j_("0x1f")](t[j_("0x20")](e_819));
                                        }
                                    }
                                    catch (e_816_1) { e_816 = { error: e_816_1 }; }
                                    finally {
                                        try {
                                            if (o_136_1 && !o_136_1.done && (_j = o_136.return)) _j.call(o_136);
                                        }
                                        finally { if (e_816) throw e_816.error; }
                                    }
                                    try {
                                        for (var _0 = __values(t[j_("0x10")]), _1 = _0.next(); !_1.done; _1 = _0.next()) {
                                            var e_820 = _1.value;
                                            i[j_("0x1e")](e_820[j_("0x21")]) || _this.I(e_820);
                                        }
                                    }
                                    catch (e_817_1) { e_817 = { error: e_817_1 }; }
                                    finally {
                                        try {
                                            if (_1 && !_1.done && (_q = _0.return)) _q.call(_0);
                                        }
                                        finally { if (e_817) throw e_817.error; }
                                    }
                                    try {
                                        for (var i_214 = __values(i), i_214_1 = i_214.next(); !i_214_1.done; i_214_1 = i_214.next()) {
                                            var e_821 = i_214_1.value;
                                            _this.V(t.getAnnotationView(e_821));
                                        }
                                    }
                                    catch (e_818_1) { e_818 = { error: e_818_1 }; }
                                    finally {
                                        try {
                                            if (i_214_1 && !i_214_1.done && (_z = i_214.return)) _z.call(i_214);
                                        }
                                        finally { if (e_818) throw e_818.error; }
                                    }
                                }), this[j_("0x19")](t, j_("0x22"), function (n, i, o) { o && e[j_("0xf")] && _this.V(t[j_("0x20")](o), !0); }), this[j_("0x19")](e, j_("0x23"), function (n, i, o, r) { r && _this[j_("0x24")](r), o && t.items.has(o) && (_this[j_("0x19")](o, j_("0x25"), function () { return e.updatePosition(); }), _this[j_("0x19")](o, j_("0xd"), function () { _this.k.add(o), _this.I(o), _this.editor[j_("0x3")][j_("0x4")].focus(); }), t[j_("0x26")] !== o.mainView && (t.activeView = o[j_("0x21")])); }), this[j_("0x19")](this[j_("0x7")].ui, j_("0x27"), function () { e.visibleView && t[j_("0x10")][j_("0x11")](e[j_("0xf")]) && e[j_("0x28")](); }), this[j_("0x19")](this[j_("0x7")][j_("0x3")].view[j_("0x29")], "mousedown", function () { _this.k[j_("0x2a")](), _this.A[j_("0x2b")](); }), this[j_("0xe")] = !0;
                            };
                            B_.prototype.detach = function () {
                                var e_822, _j;
                                if (!this[j_("0xe")])
                                    throw new Gn.b(j_("0x2c"), this);
                                var t = this.A, e = this.v;
                                try {
                                    for (var _q = __values(t.selectedViews), _z = _q.next(); !_z.done; _z = _q.next()) {
                                        var e_823 = _z.value;
                                        this.I(t[j_("0x20")](e_823));
                                    }
                                }
                                catch (e_822_1) { e_822 = { error: e_822_1 }; }
                                finally {
                                    try {
                                        if (_z && !_z.done && (_j = _q.return)) _j.call(_q);
                                    }
                                    finally { if (e_822) throw e_822.error; }
                                }
                                this.stopListening(t.items), this[j_("0x24")](t), this[j_("0x24")](e), this[j_("0x24")](this[j_("0x7")].ui), this[j_("0x24")](this[j_("0x7")].ui.focusTracker), this[j_("0x24")](this[j_("0x7")].editing[j_("0x4")][j_("0x29")]), this.isAttached = !1;
                            };
                            B_.prototype.V = function (t, e) {
                                var _this = this;
                                this[j_("0x7")].ui.focusTracker.isFocused && (this.k[j_("0x11")](t) || (this.v[j_("0x2d")](t) || this.v[j_("0x12")]({ stackId: t.id, view: t, position: { target: function () { return _this._(t[j_("0x21")]); } } }), e && this.v[j_("0x2e")](t.id)));
                            };
                            B_.prototype.I = function (t) { this.v.hasView(t) && this.v.remove(t); };
                            B_.prototype._ = function (t) { var e = this.A[j_("0x2f")](t)[0]; return e ? this.A[j_("0x30")](e) : {}; };
                            return B_;
                        }(Sd));
                        var L_ = ["selectedViews", "_throttledOrderUpdate", "editor", "model", "document", "registerPostFixer", "refreshActiveView", "listenTo", "selection", "change:range", "editing", "view", "change:isFocused", "focusTracker", "addEventListener", "resize", "register", "has", "annotations-register-already-registered: UI of a given name already registered.", "attach", "function", "detach", "annotations-register-invalid-interface: UI plugin does not have both #attach and #detach methods.", "switchTo", "annotations-switchto-missing-ui: UI of a given name has been not registered.", "get", "add", "annotations-duplicated-item: Given view already added to the annotations.", "isArray", "addMarker", "render", "element", "bind", "active", "getMarkers", "targetRect", "remove", "getAnnotationView", "_markerToView", "delete", "splice", "length", "before", "getRange", "compareWith", "hasMarker", "removeMarker", "indexOf", "pop", "isFocused", "includes", "getMarkerDomElement", "mapper", "markerNameToElements", "name", "values", "domConverter", "mapViewToDom", "destroy", "removeEventListener", "cancel", "map", "markers", "push", "sort", "end", "start", "isAfter", "isBefore", "isTouching", "mainView", "from", "getIndex", "max", "top", "left", "requires", "pluginName", "uiType", "items", "set", "activeView"];
                        !function (t, e) { !function (e) { for (; --e;)
                            t.push(t.shift()); }(++e); }(L_, 240);
                        var V_ = function (t, e) { return L_[t -= 0]; };
                        var F_ = /** @class */ (function (_super) {
                            __extends(F_, _super);
                            function F_(t) {
                                var _this = this;
                                _this = _super.call(this, t) || this, _this[V_("0x2")] = "", _this[V_("0x3")] = new ro, _this[V_("0x4")](V_("0x5"), null), _this[V_("0x4")](V_("0x6"), []), _this._markerToView = new Map, _this.i = new Map, _this.s = new Map, _this.o = new Map, _this[V_("0x7")] = fm(function () { _this.h(), _this.u(); }, 400, { leading: !1 });
                                return _this;
                            }
                            Object.defineProperty(F_, V_("0x0"), {
                                get: function () { return [B_]; },
                                enumerable: true,
                                configurable: true
                            });
                            Object.defineProperty(F_, V_("0x1"), {
                                get: function () { return "Annotations"; },
                                enumerable: true,
                                configurable: true
                            });
                            F_.prototype.init = function () {
                                var _this = this;
                                var t = this[V_("0x8")];
                                t[V_("0x9")][V_("0xa")][V_("0xb")](function () { return _this[V_("0xc")](); }), this[V_("0xd")](t.model[V_("0xa")][V_("0xe")], V_("0xf"), function (t, _j) {
                                    var e = _j.directChange;
                                    e && (_this[V_("0x5")] = null);
                                }), this.listenTo(t[V_("0x10")][V_("0x11")][V_("0xa")], V_("0x12"), function (t, e, n) { n && _this[V_("0xc")](); }), this[V_("0xd")](t.ui[V_("0x13")], "change:isFocused", function (t, e, n) { n || (_this[V_("0x5")] = null); }), this[V_("0xd")](t.ui, "update", this._throttledOrderUpdate), window[V_("0x14")](V_("0x15"), this._throttledOrderUpdate);
                            };
                            F_.prototype[V_("0x16")] = function (t, e) { if (this.o[V_("0x17")](t))
                                throw new Gn.b(V_("0x18"), this); if ("function" != typeof e[V_("0x19")] || V_("0x1a") != typeof e[V_("0x1b")])
                                throw new Gn.b(V_("0x1c"), this); this.o[V_("0x4")](t, e); };
                            F_.prototype[V_("0x1d")] = function (t) { if (!this.o[V_("0x17")](t))
                                throw new Gn.b(V_("0x1e"), this); this[V_("0x2")] !== t && (this.uiType && this.o[V_("0x1f")](this[V_("0x2")])[V_("0x1b")](), this[V_("0x2")] = t, this.o[V_("0x1f")](this[V_("0x2")])[V_("0x19")]()); };
                            F_.prototype[V_("0x20")] = function (t, e, n) {
                                var _this = this;
                                var e_824, _j;
                                if (this.s[V_("0x17")](t))
                                    throw new Gn.b(V_("0x21"), this);
                                Array[V_("0x22")](n) || (n = [n]);
                                try {
                                    for (var n_330 = __values(n), n_330_1 = n_330.next(); !n_330_1.done; n_330_1 = n_330.next()) {
                                        var e_825 = n_330_1.value;
                                        this[V_("0x23")](t, e_825);
                                    }
                                }
                                catch (e_824_1) { e_824 = { error: e_824_1 }; }
                                finally {
                                    try {
                                        if (n_330_1 && !n_330_1.done && (_j = n_330.return)) _j.call(n_330);
                                    }
                                    finally { if (e_824) throw e_824.error; }
                                }
                                var i = new R_(this[V_("0x8")].locale, t, e);
                                i[V_("0x24")](), this.editor.ui[V_("0x13")][V_("0x20")](i[V_("0x25")]), i[V_("0x26")](V_("0x27")).to(this, V_("0x5"), function (e) { return e === t; }), i[V_("0x13")].on(V_("0x12"), function (e, n, i) { i && (_this[V_("0x5")] = t); }), this.l(i, this[V_("0x28")](t)[0]);
                                var o = this.g(i[V_("0x29")]);
                                this[V_("0x3")][V_("0x20")](i, o), this.s[V_("0x4")](t, i);
                            };
                            F_.prototype[V_("0x2a")] = function (t) {
                                var e_826, _j;
                                if (!this.s[V_("0x17")](t))
                                    return;
                                this.activeView === t && (this[V_("0x5")] = null);
                                var e = this[V_("0x2b")](t);
                                this[V_("0x8")].ui[V_("0x13")][V_("0x2a")](e.element);
                                try {
                                    for (var _q = __values(this[V_("0x28")](t)), _z = _q.next(); !_z.done; _z = _q.next()) {
                                        var e_827 = _z.value;
                                        this[V_("0x2c")][V_("0x2d")](e_827);
                                    }
                                }
                                catch (e_826_1) { e_826 = { error: e_826_1 }; }
                                finally {
                                    try {
                                        if (_z && !_z.done && (_j = _q.return)) _j.call(_q);
                                    }
                                    finally { if (e_826) throw e_826.error; }
                                }
                                this.i.delete(t), this.s[V_("0x2d")](e), this[V_("0x3")][V_("0x2a")](e), e.destroy();
                            };
                            F_.prototype[V_("0x23")] = function (t, e) { var n = []; if (this.i[V_("0x17")](t)) {
                                var i_215 = e.getRange().start;
                                (n = this[V_("0x28")](t))[V_("0x2e")](function (t, e) { for (var n_331 = 0; n_331 < e[V_("0x2f")]; n_331++)
                                    if (V_("0x30") !== e[n_331][V_("0x31")]().start[V_("0x32")](t))
                                        return n_331; return e[V_("0x2f")]; }(i_215, n), 0, e);
                            }
                            else
                                n = [e]; this._markerToView.set(e, t), this.i[V_("0x4")](t, n); };
                            F_.prototype[V_("0x33")] = function (t) { return this._markerToView[V_("0x17")](t); };
                            F_.prototype[V_("0x34")] = function (t) { var e = this._markerToView[V_("0x1f")](t), n = this[V_("0x28")](e); n[V_("0x2e")](n[V_("0x35")](t), 1), this._markerToView[V_("0x2d")](t); };
                            F_.prototype.setMarkers = function (t, e) {
                                var e_828, _j;
                                var n = this[V_("0x28")](t);
                                for (; n[V_("0x2f")];) {
                                    var t_447 = n[V_("0x36")]();
                                    this[V_("0x2c")].delete(t_447);
                                }
                                try {
                                    for (var e_829 = __values(e), e_829_1 = e_829.next(); !e_829_1.done; e_829_1 = e_829.next()) {
                                        var n_332 = e_829_1.value;
                                        this.addMarker(t, n_332);
                                    }
                                }
                                catch (e_828_1) { e_828 = { error: e_828_1 }; }
                                finally {
                                    try {
                                        if (e_829_1 && !e_829_1.done && (_j = e_829.return)) _j.call(e_829);
                                    }
                                    finally { if (e_828) throw e_828.error; }
                                }
                            };
                            F_.prototype[V_("0xc")] = function () { this[V_("0x6")] = this.m(); var t = this[V_("0x2b")](this[V_("0x5")]); t && t.focusTracker[V_("0x37")] || this[V_("0x6")][V_("0x38")](this[V_("0x5")]) || (this[V_("0x5")] = this[V_("0x6")][0] || null); };
                            F_.prototype[V_("0x2b")] = function (t) { return this.s.get(t); };
                            F_.prototype[V_("0x28")] = function (t) { return this.i[V_("0x1f")](t); };
                            F_.prototype[V_("0x39")] = function (t) { var e = this.editor[V_("0x10")], n = ih(e[V_("0x3a")][V_("0x3b")](t[V_("0x3c")])[V_("0x3d")]()); return e[V_("0x11")][V_("0x3e")][V_("0x3f")](n); };
                            F_.prototype.destroy = function () { _super.prototype[V_("0x40")].call(this), window[V_("0x41")](V_("0x15"), this[V_("0x7")]), this[V_("0x7")][V_("0x42")](), this[V_("0x3")][V_("0x43")](function (t) { return t[V_("0x40")](); }); };
                            F_.prototype.m = function () {
                                var _this = this;
                                var e_830, _j, e_831, _q;
                                var t = [];
                                try {
                                    for (var _z = __values(this[V_("0x8")][V_("0x9")][V_("0xa")][V_("0xe")][V_("0x44")]), _0 = _z.next(); !_0.done; _0 = _z.next()) {
                                        var e_832 = _0.value;
                                        this[V_("0x2c")][V_("0x17")](e_832) && t.push(this[V_("0x2c")][V_("0x1f")](e_832));
                                    }
                                }
                                catch (e_830_1) { e_830 = { error: e_830_1 }; }
                                finally {
                                    try {
                                        if (_0 && !_0.done && (_j = _z.return)) _j.call(_z);
                                    }
                                    finally { if (e_830) throw e_830.error; }
                                }
                                var e = this.editor.model.document[V_("0xe")];
                                if (e.isCollapsed)
                                    try {
                                        for (var _1 = __values(this.p(e.getFirstPosition())), _2 = _1.next(); !_2.done; _2 = _1.next()) {
                                            var n_333 = _2.value;
                                            t[V_("0x45")](n_333);
                                        }
                                    }
                                    catch (e_831_1) { e_831 = { error: e_831_1 }; }
                                    finally {
                                        try {
                                            if (_2 && !_2.done && (_q = _1.return)) _q.call(_1);
                                        }
                                        finally { if (e_831) throw e_831.error; }
                                    }
                                return t[V_("0x46")](function (t, e) { var n = _this.getMarkers(t), i = _this[V_("0x28")](e), o = n[0][V_("0x31")]().start, r = n[n[V_("0x2f")] - 1][V_("0x31")]()[V_("0x47")], s = i[0].getRange()[V_("0x48")], a = i[i[V_("0x2f")] - 1][V_("0x31")]()[V_("0x47")]; return o[V_("0x49")](s) && r[V_("0x4a")](a) ? -1 : o[V_("0x4a")](s) && r[V_("0x49")](a) ? 1 : 0; });
                            };
                            F_.prototype.p = function (t) {
                                var e_833, _j;
                                var e = [];
                                try {
                                    for (var _q = __values(this.i), _z = _q.next(); !_z.done; _z = _q.next()) {
                                        var _0 = __read(_z.value, 2), n_334 = _0[0], i_216 = _0[1];
                                        if (!(i_216[V_("0x2f")] < 2))
                                            for (var o_137 = 1; o_137 < i_216.length; o_137++) {
                                                var r_77 = i_216[o_137 - 1][V_("0x31")](), s_53 = i_216[o_137][V_("0x31")]();
                                                r_77[V_("0x47")][V_("0x4b")](t) && s_53[V_("0x48")][V_("0x4b")](t) && e[V_("0x45")](n_334);
                                            }
                                    }
                                }
                                catch (e_833_1) { e_833 = { error: e_833_1 }; }
                                finally {
                                    try {
                                        if (_z && !_z.done && (_j = _q.return)) _j.call(_q);
                                    }
                                    finally { if (e_833) throw e_833.error; }
                                }
                                return e;
                            };
                            F_.prototype.h = function () {
                                var e_834, _j;
                                try {
                                    for (var _q = __values(this.items), _z = _q.next(); !_z.done; _z = _q.next()) {
                                        var t_448 = _z.value;
                                        this.l(t_448);
                                    }
                                }
                                catch (e_834_1) { e_834 = { error: e_834_1 }; }
                                finally {
                                    try {
                                        if (_z && !_z.done && (_j = _q.return)) _j.call(_q);
                                    }
                                    finally { if (e_834) throw e_834.error; }
                                }
                            };
                            F_.prototype.l = function (t, e) { e || (e = this.getMarkers(t[V_("0x4c")])[0]), t[V_("0x29")] = new As(this[V_("0x39")](e)); };
                            F_.prototype.u = function () { var t = Array[V_("0x4d")](this[V_("0x3")]).sort(function (t, e) { return z_(t[V_("0x29")], e.targetRect); }); for (var e_835 = t[V_("0x2f")] - 1; e_835 > 0; e_835--) {
                                var n_335 = t[e_835];
                                e_835 !== this[V_("0x3")][V_("0x4e")](n_335) && (this[V_("0x3")][V_("0x2a")](n_335), this.items[V_("0x20")](n_335, e_835));
                            } };
                            F_.prototype.g = function (t) {
                                var e_836, _j;
                                var e = 0;
                                try {
                                    for (var _q = __values(this[V_("0x3")]), _z = _q.next(); !_z.done; _z = _q.next()) {
                                        var n_336 = _z.value;
                                        var i_217 = this.getMarkers(n_336[V_("0x4c")])[0];
                                        if (i_217) {
                                            var n_337 = this[V_("0x39")](i_217);
                                            if (z_(t, new As(n_337)) < 0)
                                                return e;
                                        }
                                        e++;
                                    }
                                }
                                catch (e_836_1) { e_836 = { error: e_836_1 }; }
                                finally {
                                    try {
                                        if (_z && !_z.done && (_j = _q.return)) _j.call(_q);
                                    }
                                    finally { if (e_836) throw e_836.error; }
                                }
                                return Math[V_("0x4f")](0, e);
                            };
                            return F_;
                        }(Sd));
                        function z_(t, e) { return t[V_("0x50")] < e[V_("0x50")] ? -1 : t[V_("0x50")] === e[V_("0x50")] && t[V_("0x51")] < e.left ? -1 : t.top === e[V_("0x50")] && t[V_("0x51")] === e.left ? 0 : 1; }
                        var U_ = n(122), H_ = n.n(U_), q_ = ["setTemplate", "span", "ck-annotation-counter__badge", "ck-annotation-counter__badge--edit-mode", "children", "bindTemplate", "set", "isEdit", "number", "bind", "_badge", "...", "extendTemplate", "ck-annotation-counter", "counterView"];
                        !function (t, e) { !function (e) { for (; --e;)
                            t.push(t.shift()); }(++e); }(q_, 275);
                        var Y_ = function (t, e) { return q_[t -= 0]; };
                        var W_ = /** @class */ (function (_super) {
                            __extends(W_, _super);
                            function W_(t) {
                                var _this = _super.call(this, t) || this;
                                var e = _this[Y_("0x0")];
                                _this[Y_("0x1")](Y_("0x2"), !1), _this[Y_("0x1")](Y_("0x3"), 0), _this[Y_("0x4")](Y_("0x5")).to(_this, Y_("0x2"), _this, Y_("0x3"), function (t, e) { return t ? Y_("0x6") : e; }), _this[Y_("0x1")]("annotationType", ""), _this.icon = H_.a, _this[Y_("0x7")]({ attributes: { class: [Y_("0x8")] } }), _this[Y_("0x9")] = new Vl, _this[Y_("0x9")][Y_("0xa")]({ tag: Y_("0xb"), attributes: { class: [Y_("0xc"), e.to("annotationType", function (t) { return "ck-annotation-counter__badge--" + t; }), e.if(Y_("0x2"), Y_("0xd"))] }, children: [{ text: e.to(Y_("0x5")) }] }), _this[Y_("0xe")].add(_this[Y_("0x9")]);
                                return _this;
                            }
                            return W_;
                        }(ad));
                        var J_ = ["label", "extendTemplate", "ck-thread__remove-confirm-", "execute", "fire", "bindTemplate", "Yes", "cancelView", "cancel", "set", "message", "Are you sure?", "div", "ck-thread__remove-confirm-actions", "submitView"];
                        !function (t, e) { !function (e) { for (; --e;)
                            t.push(t.shift()); }(++e); }(J_, 485);
                        var $_ = function (t, e) { return J_[t -= 0]; };
                        var G_ = ["element", "destroy", "remove", "isConfirm", "appendChild", "registerChild", "submit", "fire", "confirmView", "locale", "render", "message", "once", "cancel", "stopListening"];
                        !function (t, e) { !function (e) { for (; --e;)
                            t.push(t.shift()); }(++e); }(G_, 353);
                        var K_ = function (t, e) { return G_[t -= 0]; }, Q_ = { showConfirm: function (t, e) {
                                var _this = this;
                                return this[K_("0x0")] = new /** @class */ (function (_super) {
                                    __extends(class_4, _super);
                                    function class_4(t) {
                                        var _this = _super.call(this, t) || this;
                                        var e = _this[$_("0x0")];
                                        _this.submitView = _this.Nt(t, $_("0x1"), Zf.a, "submit"), _this[$_("0x2")] = _this.Nt(t, "No", tp.a, $_("0x3")), _this[$_("0x4")]($_("0x5"), $_("0x6")), _this.setTemplate({ tag: "div", attributes: { class: ["ck-thread__remove-confirm"] }, children: [{ tag: $_("0x7"), attributes: { class: "ck-thread__remove-confirm-inner" }, children: [{ tag: "p", children: [{ text: e.to($_("0x5")) }] }, { tag: "div", attributes: { class: $_("0x8") }, children: [_this[$_("0x9")], _this[$_("0x2")]] }] }] });
                                        return _this;
                                    }
                                    class_4.prototype.Nt = function (t, e, n, i) {
                                        var _this = this;
                                        var o = new ad(t);
                                        return o[$_("0xa")] = e, o.icon = n, o[$_("0xb")]({ attributes: { class: $_("0xc") + i } }), o.on($_("0xd"), function () { return _this[$_("0xe")](i); }), o;
                                    };
                                    return class_4;
                                }(Vl))(this[K_("0x1")]), this[K_("0x0")][K_("0x2")](), this[K_("0x0")][K_("0x3")] = t, this.confirmView[K_("0x4")](K_("0x5"), function () { _this[K_("0x0")][K_("0x6")](_this[K_("0x7")]), _this[K_("0x0")][K_("0x8")](), _this[K_("0x0")][K_("0x7")][K_("0x9")](), _this.deregisterChild(_this.confirmView), _this[K_("0x0")] = void 0, _this[K_("0xa")] = !1; }), e[K_("0xb")](this.confirmView[K_("0x7")]), this[K_("0xc")](this.confirmView), this.set(K_("0xa"), !0), new Promise(function (t) { return _this[K_("0x0")].on(K_("0xd"), t); });
                            }, cancelConfirm: function () { this[K_("0xa")] && this[K_("0x0")][K_("0xe")](K_("0x5")); } }, Z_ = (n(269), ["avatar", "ck-user__avatar", "setTemplate", "div", "url('", "ck ck-user__name ck-user__name--hidden", "ck ck-user__name", "initials", "name", "isAnonymous", "push"]);
                        !function (t, e) { !function (e) { for (; --e;)
                            t.push(t.shift()); }(++e); }(Z_, 448);
                        var X_ = function (t, e) { return Z_[t -= 0]; };
                        var tC = /** @class */ (function (_super) {
                            __extends(tC, _super);
                            function tC(t, e) {
                                var _this = this;
                                _this = _super.call(this, t) || this, _this[X_("0x0")] = e[X_("0x0")];
                                var n = ["ck", "ck-user__img"];
                                e[X_("0x1")] && n[X_("0x2")]("ck-user__anonymous"), e[X_("0x3")] && n[X_("0x2")](X_("0x4")), _this[X_("0x5")]({ tag: X_("0x6"), attributes: { class: ["ck", "ck-user"], "data-user-id": e.id }, children: [{ tag: X_("0x6"), attributes: { class: n, style: { "background-image": e[X_("0x3")] ? X_("0x7") + e[X_("0x3")] + "')" : "" } } }, { tag: X_("0x6"), attributes: { class: e[X_("0x3")] ? X_("0x8") : X_("0x9") }, children: [{ text: e[X_("0xa")] }] }] });
                                return _this;
                            }
                            return tC;
                        }(Vl));
                        var eC = n(123), nC = n.n(eC), iC = ["isConfirm", "ck-comment--remove-confirmation", "ck-comment", "isEdit", "ck-comment--edit", "nextAction", "ck-comment--", "div", "ck-comment__main", "ck-annotation__main", "ck-comment__info", "ck-annotation__info", "ck-comment__info-name", "ck-annotation__info-name", "time", "ck-comment__actions", "ck-annotation__actions", "ck-comment__actions--hidden", "ck-annotation__actions--hidden", "ck-annotation__content-wrapper", "locale", "label", "Edit", "icon", "Remove", "ck-comment--remove", "mouseenter", "focus", "listenTo", "blur", "render", "editButton", "element", "edit", "remove", "set", "createdAt", "content", "createCollection", "removeButton", "userView", "extendTemplate", "ck-comment__user", "bindTemplate", "setTemplate", "ck-comment__wrapper"];
                        !function (t, e) { !function (e) { for (; --e;)
                            t.push(t.shift()); }(++e); }(iC, 495);
                        var oC = function (t, e) { return iC[t -= 0]; };
                        var rC = /** @class */ (function (_super) {
                            __extends(rC, _super);
                            function rC(t, _j) {
                                var e = _j.author, n = _j.commentId, i = _j.formatDateTime;
                                var _this = this;
                                _this = _super.call(this, t) || this, _this[oC("0x0")]("isEdit", !1), _this.set("nextAction", null), _this[oC("0x0")](oC("0x1"), null), _this[oC("0x2")] = _this[oC("0x3")](), _this.editButton = _this.At(), _this[oC("0x4")] = _this.Et(), _this[oC("0x5")] = new tC(t, e), _this.userView[oC("0x6")]({ attributes: { class: [oC("0x7"), "ck-annotation__user"] } });
                                var o = _this[oC("0x8")];
                                _this[oC("0x9")]({ tag: "li", attributes: { class: [oC("0xa"), o.if(oC("0xb"), oC("0xc"))], tabindex: -1 }, children: [{ tag: "div", attributes: { class: [oC("0xd"), "ck-annotation", o.if(oC("0xe"), oC("0xf")), o.to(oC("0x10"), function (t) { return t ? oC("0x11") + t : ""; })], "data-author-id": e.id, "data-comment-id": n }, children: [_this[oC("0x5")], { tag: oC("0x12"), attributes: { class: [oC("0x13"), oC("0x14")] }, children: [{ tag: "div", attributes: { class: [oC("0x15"), oC("0x16")] }, children: [{ tag: "span", children: [{ text: _this.userView.name }], attributes: { class: [oC("0x17"), oC("0x18")] } }, { tag: oC("0x19"), attributes: { datetime: o.to("createdAt"), class: ["ck-comment__info-time", "ck-annotation__info-time"] }, children: [{ text: o.to("createdAt", function (t) { return i(t); }) }] }] }, { tag: oC("0x12"), attributes: { class: [oC("0x1a"), oC("0x1b"), o.if(oC("0xe"), oC("0x1c")), o.if(oC("0xe"), oC("0x1d"))] }, children: [_this.editButton, _this.removeButton] }, { tag: oC("0x12"), attributes: { class: [oC("0x1e")] }, children: _this.content }] }] }] });
                                return _this;
                            }
                            rC.prototype.At = function () { var t = new ad(this[oC("0x1f")]); return t[oC("0x20")] = oC("0x21"), t[oC("0x22")] = Fm.a, t.extendTemplate({ attributes: { class: oC("0xf") } }), t; };
                            rC.prototype.Et = function () { var t = new ad(this[oC("0x1f")]); return t[oC("0x20")] = oC("0x23"), t.icon = nC.a, t[oC("0x6")]({ attributes: { class: oC("0x24") } }), t; };
                            rC.prototype.Bt = function (t, e) {
                                var _this = this;
                                this.listenTo(t, oC("0x25"), function () { return _this.nextAction = e; }), this.listenTo(t, oC("0x26"), function () { return _this[oC("0x10")] = e; }), this[oC("0x27")](t, "mouseleave", function () { return _this[oC("0x10")] = null; }), this[oC("0x27")](t, oC("0x28"), function () { return _this[oC("0x10")] = null; });
                            };
                            rC.prototype[oC("0x29")] = function () { _super.prototype.render.call(this), this.Bt(this[oC("0x2a")][oC("0x2b")], oC("0x2c")), this.Bt(this[oC("0x4")][oC("0x2b")], oC("0x2d")); };
                            return rC;
                        }(Vl));
                        li(rC, Q_);
                        var sC = ["content", "set", "setTemplate", "div", "ck-annotation__content", "render", "change:content", "element", "innerHTML"];
                        !function (t, e) { !function (e) { for (; --e;)
                            t.push(t.shift()); }(++e); }(sC, 145);
                        var aC = function (t, e) { return sC[t -= 0]; };
                        var cC = /** @class */ (function (_super) {
                            __extends(cC, _super);
                            function cC(t) {
                                var _this = this;
                                _this = _super.call(this, t) || this, _this[aC("0x0")]("content", ""), _this[aC("0x1")]({ tag: aC("0x2"), attributes: { class: ["ck-comment__content", aC("0x3")] } });
                                return _this;
                            }
                            cC.prototype[aC("0x4")] = function () {
                                var _this = this;
                                _super.prototype[aC("0x4")].call(this), this.on(aC("0x5"), function (t, e, n) { _this[aC("0x6")].innerHTML = n; }), this[aC("0x6")][aC("0x7")] = this[aC("0x8")];
                            };
                            return cC;
                        }(Vl));
                        var lC = ["main", "createCollection", "setTemplate", "div", "ck-rounded-corners", "ck-comment__input", "comment", "uiLanguageDirection", "uiLanguage", "ck-editor__main", "presentation", "render", "add", "editable", "element", "focus", "text", "Comment editor", "ck-editor__aria-label_", "ck-voice-label"];
                        !function (t, e) { !function (e) { for (; --e;)
                            t.push(t.shift()); }(++e); }(lC, 220);
                        var dC = function (t, e) { return lC[t -= 0]; };
                        var uC = /** @class */ (function (_super) {
                            __extends(uC, _super);
                            function uC(t, e) {
                                var _this = _super.call(this, t) || this;
                                var n = Zn();
                                _this[dC("0x0")] = _this[dC("0x1")](), _this.editable = new ql(t, e), _this.ii = _this.ei(n), _this[dC("0x2")]({ tag: dC("0x3"), attributes: { class: ["ck-reset", "ck-editor", dC("0x4"), dC("0x5")], role: dC("0x6"), dir: t[dC("0x7")], lang: t[dC("0x8")], "aria-labelledby": "cke-editor__aria-label_" + n }, children: [_this.ii, { tag: "div", attributes: { class: dC("0x9"), role: dC("0xa") }, children: _this[dC("0x0")] }] });
                                return _this;
                            }
                            uC.prototype[dC("0xb")] = function () { _super.prototype[dC("0xb")].call(this), this.main[dC("0xc")](this[dC("0xd")]); };
                            uC.prototype.focus = function () { this[dC("0xd")][dC("0xe")][dC("0xf")](); };
                            uC.prototype.ei = function (t) { var e = new zl; return e[dC("0x10")] = dC("0x11"), e.extendTemplate({ attributes: { id: dC("0x12") + t, class: dC("0x13") } }), e; };
                            return uC;
                        }(Fl));
                        var hC = ["document", "getRoot", "name", "rootName", "render", "element", "add", "bind", "isFocused", "focusTracker", "fire", "ready", "destroy", "view", "locale", "editor", "editable"];
                        !function (t, e) { !function (e) { for (; --e;)
                            t.push(t.shift()); }(++e); }(hC, 115);
                        var fC = function (t, e) { return hC[t -= 0]; };
                        var pC = /** @class */ (function (_super) {
                            __extends(pC, _super);
                            function pC(t) {
                                var _this = this;
                                _this = _super.call(this, t) || this, _this[fC("0x0")] = new uC(t[fC("0x1")], t.editing[fC("0x0")]);
                                return _this;
                            }
                            Object.defineProperty(pC.prototype, "element", {
                                get: function () { return this.view.element; },
                                enumerable: true,
                                configurable: true
                            });
                            pC.prototype.init = function () { var t = this[fC("0x2")].editing[fC("0x0")], e = this[fC("0x0")][fC("0x3")], n = t[fC("0x4")][fC("0x5")](); e[fC("0x6")] = n[fC("0x7")], this[fC("0x0")][fC("0x8")](); var i = e[fC("0x9")]; this.setEditableElement(e[fC("0x6")], i), this.focusTracker[fC("0xa")](i), this.view[fC("0x3")][fC("0xb")](fC("0xc")).to(this[fC("0xd")]), t.attachDomRoot(i), this[fC("0xe")](fC("0xf")); };
                            pC.prototype.destroy = function () { this.view[fC("0x10")](), _super.prototype[fC("0x10")].call(this); };
                            return pC;
                        }(ul));
                        var mC = ["defaultPlugins", "set", "model", "document", "data", "initPlugins", "then", "init", "fire", "ready", "destroy", "focus", "change", "getRoot", "getChild", "childCount", "setSelection", "editing", "view", "name", "placeholderElement", "placeholder", "plugins"];
                        !function (t, e) { !function (e) { for (; --e;)
                            t.push(t.shift()); }(++e); }(mC, 114);
                        var gC = function (t, e) { return mC[t -= 0]; };
                        var xC = /** @class */ (function (_super) {
                            __extends(xC, _super);
                            function xC(t) {
                                if (t === void 0) { t = {}; }
                                var _this = this;
                                t[gC("0x0")] || (t[gC("0x0")] = xC[gC("0x1")]), _this = _super.call(this, t) || this, _this.ui = new pC(_this), _this[gC("0x2")]("placeholder", ""), _this[gC("0x3")][gC("0x4")].on("change", function () { return _this.at(); }, { priority: "low" }), _this.on("change:placeholder", function () { return _this.at(); }), _this[gC("0x3")][gC("0x4")].createRoot(), _this[gC("0x5")].processor = new al;
                                return _this;
                            }
                            xC.prototype.create = function () {
                                var _this = this;
                                return this[gC("0x6")]()[gC("0x7")](function () { return _this.ui[gC("0x8")](); })[gC("0x7")](function () { return _this[gC("0x5")].init(""); })[gC("0x7")](function () { return _this[gC("0x9")](gC("0xa")); });
                            };
                            xC.prototype[gC("0xb")] = function () {
                                var _this = this;
                                return _super.prototype.destroy.call(this)[gC("0x7")](function () { return _this.ui[gC("0xb")](); });
                            };
                            xC.prototype[gC("0xc")] = function () {
                                var _this = this;
                                this[gC("0x3")][gC("0xd")](function (t) { var e = _this[gC("0x3")].document[gC("0xe")](), n = e[gC("0xf")](e[gC("0x10")] - 1); t[gC("0x11")](n, "end"), _this[gC("0x12")][gC("0x13")][gC("0xc")](); });
                            };
                            xC.prototype.at = function () { var t = this[gC("0x12")][gC("0x13")], e = t[gC("0x4")][gC("0xe")](), n = e[gC("0xf")](0); e[gC("0x10")] > 1 || !n || "p" != n[gC("0x14")] ? this[gC("0x15")] && (function (t, e) { var n = e.document; t.change(function (t) { if (!hl.has(n))
                                return; var i = hl.get(n), o = i.get(e); t.removeAttribute("data-placeholder", o.hostElement), pl(t, o.hostElement), i.delete(e); }); }(t, this[gC("0x15")]), this[gC("0x15")] = void 0) : (fl({ view: t, element: n, text: this[gC("0x16")] }), this[gC("0x15")] = n); };
                            return xC;
                        }(il));
                        li(xC, Ui), li(xC, ol), xC[gC("0x1")] = [Au, Fu, Yp, Gu, nh, Cg];
                        var bC = ["execute", "submit", "length", "Comment content is too long. Your comment has a ", " characters but the limit is a 4000 characters.", "high", "render", "listenTo", "add", "create", "then", "insertBefore", "element", "firstChild", "model", "document", "change", "editor", "focus", "destroy", "extendTemplate", "ck-comment__input-actions--submit", "label", "Submit", "bind", "isEnabled", "disabledSubmit", "trim", "locale", "ck-comment__input-actions--cancel", "Cancel", "view", "forEach", "tab", "focusNext", "low", "keystrokes", "focusTracker", "set", "value", "placeholder", "cancelButtonView", "setTemplate", "div", "ck-comment__input-actions", "submitButtonView", "Esc", "fire"];
                        !function (t, e) { !function (e) { for (; --e;)
                            t.push(t.shift()); }(++e); }(bC, 132);
                        var kC = function (t, e) { return bC[t -= 0]; };
                        var wC = /** @class */ (function (_super) {
                            __extends(wC, _super);
                            function wC(t, e) {
                                var _this = this;
                                _this = _super.call(this, t) || this, _this.editor = new xC(e), _this[kC("0x0")] = new el, _this[kC("0x1")] = new dl, _this[kC("0x2")](kC("0x3"), ""), _this[kC("0x2")]("disabledSubmit", !1), _this[kC("0x2")](kC("0x4"), ""), _this.submitButtonView = _this.yt(), _this[kC("0x5")] = _this.xt(), _this[kC("0x6")]({ tag: "div", attributes: { class: ["ck-comment__input-wrapper"] }, children: [{ tag: kC("0x7"), attributes: { class: [kC("0x8")] }, children: [_this[kC("0x9")], _this[kC("0x5")]] }] }), _this[kC("0x0")][kC("0x2")](kC("0xa"), function (t, e) { _this[kC("0x5")][kC("0xb")](kC("0xc")), e(); }), _this.on(kC("0xd"), function (t, e) { e[kC("0xe")] > 4e3 && (alert(kC("0xf") + e[kC("0xe")] + kC("0x10")), t.stop()); }, { priority: kC("0x11") });
                                return _this;
                            }
                            wC.prototype.render = function () {
                                var _this = this;
                                _super.prototype[kC("0x12")].call(this);
                                var _j = this, t = _j.editor, e = _j.element;
                                this[kC("0x0")][kC("0x13")](e), this[kC("0x1")][kC("0x14")](e), t[kC("0x15")]()[kC("0x16")](function () { e[kC("0x17")](t.ui[kC("0x18")], e[kC("0x19")]), t[kC("0x1a")][kC("0x1b")].on(kC("0x1c"), function () { return _this[kC("0x3")] = t.getData(); }), t.bind(kC("0x4")).to(_this), _this.St(t), _this.fire("editorReady"); });
                            };
                            wC.prototype.focus = function () { this[kC("0x1d")][kC("0x1e")](); };
                            wC.prototype.destroy = function () {
                                var _this = this;
                                return this.isRendered ? this[kC("0x1d")][kC("0x1f")]()[kC("0x16")](function () { return _super.prototype[kC("0x1f")].call(_this); }) : Promise.resolve(_super.prototype[kC("0x1f")].call(this));
                            };
                            wC.prototype.yt = function () {
                                var _this = this;
                                var t = new ad(this.locale);
                                return t[kC("0x20")]({ attributes: { class: [kC("0x21")] } }), t[kC("0x22")] = kC("0x23"), t.icon = Zf.a, t.on(kC("0xc"), function () { return _this[kC("0xb")](kC("0xd"), _this[kC("0x3")]); }), t[kC("0x24")](kC("0x25")).to(this, kC("0x3"), this, kC("0x26"), function (t, e) { return !e && !!t[kC("0x27")](); }), t;
                            };
                            wC.prototype.xt = function () {
                                var _this = this;
                                var t = new ad(this[kC("0x28")]);
                                return t[kC("0x20")]({ attributes: { class: [kC("0x29")] } }), t[kC("0x22")] = kC("0x2a"), t.icon = tp.a, t.on(kC("0xc"), function () { _this[kC("0x1d")].setData(""), _this[kC("0xb")]("cancel"); }), t;
                            };
                            wC.prototype.St = function (t) { var e = this[kC("0x1")], n = new kl; [t.ui[kC("0x2b")], this[kC("0x9")], this[kC("0x5")]][kC("0x2c")](function (t) { n.add(t), e[kC("0x14")](t[kC("0x18")]); }); var i = new $l({ focusables: n, focusTracker: e }); this.keystrokes.set(kC("0x2d"), function (t, e) { i[kC("0x2e")](), e(); }, { priority: kC("0x2f") }), this.keystrokes[kC("0x2")]("shift + tab", function (t, e) { i.focusPrevious(), e(); }, { priority: "low" }); };
                            return wC;
                        }(Vl));
                        var vC = ["indexOf", "join", "...", "replace", "split", "length", "startsWith", "match", "push", "slice"];
                        !function (t, e) { !function (e) { for (; --e;)
                            t.push(t.shift()); }(++e); }(vC, 442);
                        var yC = function (t, e) { return vC[t -= 0]; };
                        function _C(t, _j) {
                            var e = _j.limit, _q = _j.suffix, n = _q === void 0 ? yC("0x0") : _q;
                            var i = [];
                            var o = 0;
                            var r = t[yC("0x1")](/</g, "\n<")[yC("0x1")](/>/g, ">\n")[yC("0x1")](/^\n/g, "").replace(/\n$/g, "")[yC("0x2")]("\n");
                            for (var t_449 = 0; t_449 < r[yC("0x3")]; t_449++) {
                                var s_54 = r[t_449];
                                var a_29 = CC(s_54);
                                if (s_54[yC("0x4")]("<")) {
                                    if (o >= e) {
                                        var t_450 = s_54[yC("0x5")](/[a-zA-Z]+/)[0];
                                        s_54[yC("0x4")]("</") ? (i[yC("0x3")] && (s_54 = ""), i.pop()) : (i[yC("0x6")](t_450), s_54 = "");
                                    }
                                }
                                else if (o >= e)
                                    s_54 = "";
                                else if (o + a_29[yC("0x3")] >= e) {
                                    var t_451 = e - o;
                                    if (" " === a_29[t_451 - 1])
                                        t_451--;
                                    else {
                                        var e_837 = a_29[yC("0x7")](t_451)[yC("0x8")](" ");
                                        -1 !== e_837 ? t_451 += e_837 : t_451 = s_54.length;
                                    }
                                    s_54 = a_29.slice(0, t_451)[yC("0x9")]("") + n, o = e;
                                }
                                else
                                    o += a_29.length;
                                r[t_449] = s_54;
                            }
                            return r[yC("0x9")]("\n")[yC("0x1")](/\n/g, "");
                        }
                        function CC(t) { var e = []; for (var n_338 = 0; n_338 < t.length; n_338++) {
                            var i_218 = t.substring(n_338)[yC("0x5")](/^&[a-z0-9#]+;/);
                            if (i_218) {
                                var t_452 = i_218[0];
                                e.push(t_452), n_338 += t_452[yC("0x3")] - 1;
                            }
                            else
                                e[yC("0x6")](t[n_338]);
                        } return e; }
                        var TC = ["bind", "isVisible", "isEnabled", "isEnabledForComment", "editButton", "execute", "removeButton", "showConfirm", "Delete comment?", "element", "updateComment", "submit", "comment-controller-update-comment-command-disabled: Cannot edit comment when `updateComment` command is disabled.", "cancel", "once", "editorReady", "editor", "setData", "focus", "commentcontroller-permision-denied: Permission denied for editing comment.", "remove", "add", "localeData", "placeholder", "Reply...", "isCollapsed", "view", "comment", "max", "createElement", "div", "innerHTML", "textContent", "content", "expand", "collapse", "isEdit", "destroy", "stopListening", "resolve", "then", "locale"];
                        !function (t, e) { !function (e) { for (; --e;)
                            t.push(t.shift()); }(++e); }(TC, 274);
                        var AC = function (t, e) { return TC[t -= 0]; };
                        var SC = 200, EC = 140;
                        var PC = /** @class */ (function () {
                            function PC(t, e, n, i) {
                                var _this = this;
                                this[AC("0x0")] = t, this.comment = e, this.it = n, this.st = i, this[AC("0x1")] = AC("0x2"), this.set(AC("0x3"), !1), this.set("isEdit", !1), this[AC("0x4")] = this.ot(), this.on("change:isEdit", function (t, e, n) { return _this.rt(n); });
                            }
                            Object.defineProperty(PC.prototype, "id", {
                                get: function () { return this[AC("0x5")].id; },
                                enumerable: true,
                                configurable: true
                            });
                            Object.defineProperty(PC.prototype, "weight", {
                                get: function () { return Math[AC("0x6")](function (t) { var e = document[AC("0x7")](AC("0x8")); return e[AC("0x9")] = t, e[AC("0xa")].length; }(this.comment[AC("0xb")]), SC); },
                                enumerable: true,
                                configurable: true
                            });
                            PC.prototype[AC("0xc")] = function () { this[AC("0x3")] = !1; };
                            PC.prototype[AC("0xd")] = function () { this[AC("0xe")] || (this[AC("0x3")] = !0); };
                            PC.prototype[AC("0xf")] = function () {
                                var _this = this;
                                return this[AC("0x10")](), this[AC("0x4")][AC("0xf")](), Promise[AC("0x11")]()[AC("0x12")](function () { return _this.view[AC("0xb")].get(0)[AC("0xf")](); });
                            };
                            PC.prototype.ot = function () {
                                var _this = this;
                                var t = new rC(this[AC("0x0")][AC("0x13")], { author: this[AC("0x5")].author, commentId: this[AC("0x5")].id, formatDateTime: this.localeData.formatDateTime }), _j = this.it, e = _j.updateComment, n = _j.removeComment;
                                return t[AC("0x14")]("isEdit").to(this), t[AC("0x14")]("createdAt").to(this[AC("0x5")]), t.content.add(this.ht()), t.editButton[AC("0x14")](AC("0x15")).to(e, AC("0x16"), function (t) { return t && e[AC("0x17")](_this[AC("0x5")]); }), t[AC("0x18")].on(AC("0x19"), function () { return _this[AC("0xe")] = !0; }), t[AC("0x1a")][AC("0x14")](AC("0x15")).to(n, AC("0x16"), function (t) { return t && n[AC("0x17")](_this[AC("0x5")]); }), t[AC("0x1a")].on("execute", function () { t[AC("0x1b")](AC("0x1c"), t[AC("0x1d")]).then(function () { n[AC("0x19")]({ commentId: _this.id }); }); }), t;
                            };
                            PC.prototype.ht = function () { var t = new cC(this[AC("0x0")].locale); return t[AC("0x14")](AC("0xb")).to(this[AC("0x5")], AC("0xb"), this, "isCollapsed", function (t, e) { return e ? _C(t, { limit: EC }) : t; }), t; };
                            PC.prototype.ct = function () {
                                var _this = this;
                                var t = new wC(this[AC("0x0")][AC("0x13")], this.st), e = this.it[AC("0x1e")];
                                return t[AC("0x1")] = this[AC("0x1")], t.bind("disabledSubmit").to(e, AC("0x16"), function (t) { return !t; }), t.on(AC("0x1f"), function (t, n) { if (!e[AC("0x16")])
                                    throw new Gn.b(AC("0x20"), _this); e[AC("0x19")]({ commentId: _this.id, content: n }), _this[AC("0xe")] = !1, _this.dt(); }), t.on(AC("0x21"), function () { _this[AC("0xe")] = !1, _this.dt(); }), t[AC("0x22")](AC("0x23"), function () { t[AC("0x24")][AC("0x25")](_this[AC("0x5")][AC("0xb")]), t[AC("0x26")](); }), t;
                            };
                            PC.prototype.rt = function (t) { var e = this.it.updateComment; if (t && !e[AC("0x17")](this[AC("0x5")]))
                                throw new Gn.b(AC("0x27"), this); if (t && !e[AC("0x16")])
                                throw new Gn.b(AC("0x20"), this); this[AC("0x4")][AC("0xb")][AC("0x28")](0)[AC("0xf")](), t ? this[AC("0x4")][AC("0xb")][AC("0x29")](this.ct()) : this[AC("0x4")][AC("0xb")].add(this.ht()); };
                            PC.prototype.dt = function () { this[AC("0x4")].element[AC("0x26")](); };
                            return PC;
                        }());
                        li(PC, Ui);
                        var IC = ["active", "visibleInput", "visibleActions", "nextAction", "focusTracker", "comments", "createCollection", "userView", "ck-thread__user", "bindTemplate", "div", "ck-thread", "isConfirm", "ck-thread--remove-confirmation", "ck-thread--", "ck-thread__container", "ck-comment__input-container", "ck-comment__input-container--active", "ck-comment__input-container--active-actions", "commentInputView", "render", "add", "element", "containerElement", "querySelector", ".ck-thread__container", "destroy", "then", "locale", "extendTemplate", "ck-thread__input", "extend", "template", "children", "set"];
                        !function (t, e) { !function (e) { for (; --e;)
                            t.push(t.shift()); }(++e); }(IC, 139);
                        var NC = function (t, e) { return IC[t -= 0]; };
                        var MC = /** @class */ (function (_super) {
                            __extends(MC, _super);
                            function MC(t, e, n, i) {
                                var _this = this;
                                _this = _super.call(this, t) || this, _this[NC("0x0")](NC("0x1"), !1), _this[NC("0x0")](NC("0x2"), !1), _this[NC("0x0")](NC("0x3"), !1), _this.set(NC("0x4"), null), _this[NC("0x5")] = new dl, _this[NC("0x6")] = _this[NC("0x7")](), _this.commentInputView = _this.ct(i), _this[NC("0x8")] = new tC(t, e), _this[NC("0x8")].extendTemplate({ attributes: { class: NC("0x9") } });
                                var o = _this[NC("0xa")];
                                _this.setTemplate({ tag: NC("0xb"), attributes: { class: [NC("0xc"), o.if(NC("0x1"), "ck-thread--active"), o.if(NC("0xd"), NC("0xe")), o.to("nextAction", function (t) { return t ? NC("0xf") + t : ""; })], "data-thread-id": n, tabindex: -1 }, children: [{ tag: NC("0xb"), attributes: { class: NC("0x10") }, children: [{ tag: "ul", attributes: { class: ["ck-thread__comments"] }, children: _this[NC("0x6")] }, { tag: NC("0xb"), attributes: { class: [NC("0x11"), o.if(NC("0x2"), NC("0x12")), o.if("visibleActions", NC("0x13"))] }, children: [_this[NC("0x8")], _this[NC("0x14")]] }] }] });
                                return _this;
                            }
                            MC.prototype[NC("0x15")] = function () { _super.prototype[NC("0x15")].call(this), this[NC("0x5")][NC("0x16")](this[NC("0x17")]), this[NC("0x18")] = this.element[NC("0x19")](NC("0x1a")); };
                            MC.prototype[NC("0x1b")] = function () {
                                var _this = this;
                                return this[NC("0x14")][NC("0x1b")]()[NC("0x1c")](function () { return _super.prototype[NC("0x1b")].call(_this); });
                            };
                            MC.prototype.ct = function (t) { var e = new wC(this[NC("0x1d")], t), n = this[NC("0xa")]; return e[NC("0x1e")]({ attributes: { class: NC("0x1f") } }), vl[NC("0x20")](e[NC("0x21")][NC("0x22")][0], { attributes: { class: [n.if(NC("0x3"), "ck-comment__input-actions--active")] } }), e; };
                            return MC;
                        }(Vl));
                        li(MC, Q_);
                        var OC = ["count", "setTemplate", "ck-thread__comment-count", " Comment", "set"];
                        !function (t, e) { !function (e) { for (; --e;)
                            t.push(t.shift()); }(++e); }(OC, 329);
                        var RC = function (t, e) { return OC[t -= 0]; };
                        var DC = /** @class */ (function (_super) {
                            __extends(DC, _super);
                            function DC(t) {
                                var _this = this;
                                _this = _super.call(this, t) || this, _this[RC("0x0")](RC("0x1"));
                                var e = _this.bindTemplate;
                                _this[RC("0x2")]({ tag: "li", attributes: { class: RC("0x3") }, children: [{ text: e.to("count", function (t) { return 1 == t ? t + RC("0x4") : t + " Comments"; }) }] });
                                return _this;
                            }
                            return DC;
                        }(Vl));
                        var jC = ["every", "commentthreadcontroller-comment-already-collapsed: Cannot collapse collapsed comment.", "last", "expand", "get", "collapsed", "addComment", "author", "using", "locale", "bind", "count", "commentInputView", "placeholder", "submit", "editor", "setData", "low", "cancel", "change:value", "disabledSubmit", "isEnabled", "value", "has", "removeAllRanges", "element", "focus", "cancelConfirm", "find", "localeData", "thread", "commentControllers", "bindTo", "change:isEdit", "visibleCommentControllers", "add", "length", "isEdit", "set", "isCollapsed", "active", "visibleInput", "visibleActions", "view", "collapse", "removeCommentThread", "change:isEnabled", "change:active", "change", "listenTo", "remove", "destroy", "removeComment", "execute", "focusTracker", "isFocused", "totalWeight", "reduce", "from"];
                        !function (t, e) { !function (e) { for (; --e;)
                            t.push(t.shift()); }(++e); }(jC, 147);
                        var BC = function (t, e) { return jC[t -= 0]; };
                        var LC = 500, VC = 2;
                        var FC = /** @class */ (function () {
                            function FC(t, e, n, i) {
                                var _this = this;
                                this[BC("0x0")] = t, this[BC("0x1")] = e, this.it = n, this[BC("0x2")] = new ro, this.commentControllers[BC("0x3")](this[BC("0x1")]).using(function (e) { var o = new PC(t, e, n, i); return o.on(BC("0x4"), function () { return _this.lt(); }), o; }), this[BC("0x5")] = function (t) {
                                    var e_838, _j;
                                    var e = new ro;
                                    try {
                                        for (var t_453 = __values(t), t_453_1 = t_453.next(); !t_453_1.done; t_453_1 = t_453.next()) {
                                            var n_339 = t_453_1.value;
                                            e[BC("0x6")](n_339);
                                        }
                                    }
                                    catch (e_838_1) { e_838 = { error: e_838_1 }; }
                                    finally {
                                        try {
                                            if (t_453_1 && !t_453_1.done && (_j = t_453.return)) _j.call(t_453);
                                        }
                                        finally { if (e_838) throw e_838.error; }
                                    }
                                    return e;
                                }(this[BC("0x2")]), this.set(BC("0x7"), this[BC("0x2")][BC("0x7")]), this.set(BC("0x8"), !1), this[BC("0x9")](BC("0xa"), !1), this.set(BC("0xb"), !1), this[BC("0x9")](BC("0xc"), !1), this[BC("0x9")](BC("0xd"), !1), this[BC("0xe")] = this.ut(i), this[BC("0xf")](), this.listenTo(this.it[BC("0x10")], BC("0x11"), function () { _this.pt(); }), this.on(BC("0x12"), function (t, e, n) { _this.ft(), n || _this.pt(); }), this.listenTo(this[BC("0x1")], BC("0x13"), function () { _this.ft(); }), this[BC("0x14")](this[BC("0x2")], BC("0x6"), function (t, e) { _this.length = _this[BC("0x2")][BC("0x7")], _this.vt(e); }), this[BC("0x14")](this[BC("0x2")], BC("0x15"), function (t, e) { _this.length = _this[BC("0x2")][BC("0x7")], _this.bt(e), e[BC("0x16")](), _this.lt(); }), this[BC("0x14")](this.it[BC("0x17")], BC("0x18"), function () { _this[BC("0xe")][BC("0x19")][BC("0x1a")] && _this.dt(); }, { priority: "low" });
                            }
                            Object.defineProperty(FC.prototype, "id", {
                                get: function () { return this.thread.id; },
                                enumerable: true,
                                configurable: true
                            });
                            Object.defineProperty(FC.prototype, BC("0x1b"), {
                                get: function () { return Array.from(this.commentControllers)[BC("0x1c")](function (t, e) { return t + e.weight; }, 0); },
                                enumerable: true,
                                configurable: true
                            });
                            Object.defineProperty(FC.prototype, "gt", {
                                get: function () { return !this.active && this[BC("0x1b")] > LC && Array[BC("0x1d")](this.commentControllers)[BC("0x1e")](function (t) { return !t[BC("0x8")]; }); },
                                enumerable: true,
                                configurable: true
                            });
                            FC.prototype[BC("0xf")] = function () { if (this[BC("0xa")])
                                throw new Gn.b(BC("0x1f"), this); var t = this[BC("0x7")] - VC; for (var e_839 = 1; e_839 <= t; e_839++)
                                this[BC("0x5")][BC("0x15")](this[BC("0x2")].get(e_839)); this[BC("0x5")].length < this.length && this.wt(), this[BC("0x1b")] > LC && (this[BC("0x5")].first[BC("0xf")](), this[BC("0x5")][BC("0x20")][BC("0xf")](), this[BC("0xa")] = !0); };
                            FC.prototype[BC("0x21")] = function () {
                                var e_840, _j;
                                this.visibleCommentControllers[BC("0x22")](BC("0x23")) && this.Ct();
                                for (var t_454 = 0; t_454 < this[BC("0x7")]; t_454++) {
                                    var e_841 = this.commentControllers[BC("0x22")](t_454);
                                    this[BC("0x5")][BC("0x22")](t_454) != e_841 && this[BC("0x5")].add(e_841, t_454);
                                }
                                try {
                                    for (var _q = __values(this[BC("0x2")]), _z = _q.next(); !_z.done; _z = _q.next()) {
                                        var t_455 = _z.value;
                                        t_455[BC("0x21")]();
                                    }
                                }
                                catch (e_840_1) { e_840 = { error: e_840_1 }; }
                                finally {
                                    try {
                                        if (_z && !_z.done && (_j = _q.return)) _j.call(_q);
                                    }
                                    finally { if (e_840) throw e_840.error; }
                                }
                                this[BC("0xa")] = !1;
                            };
                            FC.prototype[BC("0x16")] = function () { return this.stopListening(), Promise.all(__spread([this[BC("0xe")]], this[BC("0x2")]).map(function (t) { return t.destroy(); })); };
                            FC.prototype.ut = function (t) {
                                var _this = this;
                                var e = new MC(this[BC("0x0")].locale, this.it[BC("0x24")][BC("0x25")], this.id, t);
                                return e.bind(BC("0xb"), BC("0xc"), BC("0xd")).to(this), e.comments[BC("0x3")](this[BC("0x5")])[BC("0x26")](function (t) { if (BC("0x23") === t.id) {
                                    var t_456 = new DC(_this[BC("0x0")][BC("0x27")]);
                                    return t_456[BC("0x28")](BC("0x29")).to(_this, BC("0x7"), function (t) { return t - VC; }), t_456;
                                } return t.view; }), this._t(e[BC("0x2a")]), e;
                            };
                            FC.prototype._t = function (t) {
                                var _this = this;
                                t[BC("0x2b")] = "Reply...", t.on(BC("0x2c"), function (e, n) { _this.it[BC("0x24")].execute({ threadId: _this.id, content: n }), t[BC("0x2d")][BC("0x2e")](""); }, { priority: "high" }), t.on(BC("0x2c"), function () { _this.dt(); }, { priority: BC("0x2f") }), t.on(BC("0x30"), function () { _this.dt(); }, { priority: BC("0x2f") }), t.on(BC("0x31"), function () { return _this.lt(); }), t.bind(BC("0x32")).to(this.it[BC("0x24")], BC("0x33"), function (t) { return !t; }), this[BC("0x28")]("visibleInput").to(this, "active", this.it.addComment, BC("0x33"), t, BC("0x34"), function (t, e, n) { var i = !!n; return i || !i && t && e; }), this[BC("0x28")](BC("0xd")).to(t[BC("0x19")], BC("0x1a"), t, "value", function (t, e) { return t || !!e; });
                            };
                            FC.prototype.ft = function () { this.isCollapsed && !this.gt ? this.expand() : !this.isCollapsed && this.gt && this.collapse(); };
                            FC.prototype.vt = function (t) { this[BC("0x5")][BC("0x6")](t), this[BC("0xa")] ? (t[BC("0xf")](), this[BC("0x5")][BC("0x35")](BC("0x23")) || this.wt(), this[BC("0x5")][BC("0x15")](this[BC("0x5")].length - 2)) : this.gt && this.collapse(); };
                            FC.prototype.bt = function (t) { var e = !1; if (this[BC("0x5")][BC("0x22")](t.id) && (this[BC("0x5")][BC("0x15")](t), e = !0), !this[BC("0xa")])
                                return; if (!this.gt)
                                return void this[BC("0x21")](); var n = this[BC("0x5")].getIndex(BC("0x23")), i = n > -1; i && this[BC("0x7")] <= VC && this.Ct(), e && i && (0 === n ? this[BC("0x5")][BC("0x6")](this.commentControllers.first, 0) : this[BC("0x5")].add(this[BC("0x2")][BC("0x20")])); };
                            FC.prototype.wt = function () { this.visibleCommentControllers[BC("0x6")]({ kt: BC("0x23"), id: BC("0x23") }, 1); };
                            FC.prototype.Ct = function () { this[BC("0x5")][BC("0x15")](BC("0x23")); };
                            FC.prototype.dt = function () { document.getSelection()[BC("0x36")](), this[BC("0xe")][BC("0x37")][BC("0x38")](); };
                            FC.prototype.pt = function () {
                                var e_842, _j;
                                this.view.cancelConfirm();
                                try {
                                    for (var _q = __values(this[BC("0x2")]), _z = _q.next(); !_z.done; _z = _q.next()) {
                                        var t_457 = _z.value;
                                        t_457.view[BC("0x39")]();
                                    }
                                }
                                catch (e_842_1) { e_842 = { error: e_842_1 }; }
                                finally {
                                    try {
                                        if (_z && !_z.done && (_j = _q.return)) _j.call(_q);
                                    }
                                    finally { if (e_842) throw e_842.error; }
                                }
                            };
                            FC.prototype.lt = function () { this[BC("0x8")] = !!this[BC("0xe")][BC("0x2a")][BC("0x34")] || !!this[BC("0x2")][BC("0x3a")](function (t) { return t[BC("0x8")]; }); };
                            return FC;
                        }());
                        li(FC, Ui);
                        var zC = n(124), UC = n.n(zC), HC = n(42), qC = n.n(HC), YC = ["dateTimeFormat", "function", "invalid-date-time-format: Date format must be a function.", "[Today] hh:mmA", "[Last] dddd hh:mmA", "MM-DD-YYYY hh:mmA", "config", "get", "locale"];
                        !function (t, e) { !function (e) { for (; --e;)
                            t.push(t.shift()); }(++e); }(YC, 384);
                        var WC = function (t, e) { return YC[t -= 0]; };
                        function JC(t) { var e = t[WC("0x0")][WC("0x1")](WC("0x2")) || {}; if (void 0 !== e[WC("0x3")] && WC("0x4") != typeof e[WC("0x3")])
                            throw new Gn.b(WC("0x5"), t); return function (t) { var n = new Date, i = qC()(n, t); return e[WC("0x3")] ? e[WC("0x3")](t) : UC()(t, 0 === i ? WC("0x6") : 1 === i ? "[Yesterday] hh:mmA" : WC(i < 7 ? "0x7" : "0x8")); }; }
                        n(283), n(285), n(287), n(289);
                        var $C = ["comment", "addCommentThread", "tooltip", "Comment", "icon", "bind", "execute", "editor", "removeCommentThread", "addComment", "removeComment", "config", "locale", "commentInputView", "length", "once", "change:length", "editorReady", "placeholder", "Reply...", "Write a comment...", "submit", "editing", "cancel", "stop", "change:active", "value", "change:isEdit", "annotationType", "isEdit", "registerChild", "commands", "unbind", "isVisible", "isEnabled", "from", "commentControllers", "every", "isEnabledForComment", "nextAction", "removeButton", "Delete comment thread?", "containerElement", "high", "init", "plugins", "get", "threadLoaded", "model", "comment:", "_modelToController", "set", "view", "add", "element", "focus", "activeView", "listenTo", "threadUnloaded", "delete", "pendingComments", "remove", "has", "active", "activeMarker"];
                        !function (t, e) { !function (e) { for (; --e;)
                            t.push(t.shift()); }(++e); }($C, 499);
                        var GC = function (t, e) { return $C[t -= 0]; };
                        var KC = /** @class */ (function (_super) {
                            __extends(KC, _super);
                            function KC(t) {
                                var _this = this;
                                _this = _super.call(this, t) || this, _this._modelToController = new Map, _this.ee = new Map;
                                return _this;
                            }
                            Object.defineProperty(KC, "requires", {
                                get: function () { return [F_, iv]; },
                                enumerable: true,
                                configurable: true
                            });
                            KC.prototype[GC("0x0")] = function () {
                                var _this = this;
                                var t = this.editor, e = t[GC("0x1")].get(iv), n = this.editor[GC("0x1")][GC("0x2")](F_);
                                this.listenTo(e, GC("0x3"), function (e, i) { var o = _this.te(i), r = t[GC("0x4")].markers[GC("0x2")](GC("0x5") + i.id), s = _this.oe(o); _this[GC("0x6")].set(i, o), _this.ee[GC("0x7")](o[GC("0x8")], o), n[GC("0x9")](o[GC("0x8")], s, r), o.length || (o[GC("0x8")][GC("0xa")][GC("0xb")](), n[GC("0xc")] = o.view); }), this[GC("0xd")](e, GC("0xe"), function (t, i) { var o = _this[GC("0x6")][GC("0x2")](i); o && (n.remove(o[GC("0x8")]), o.destroy(), _this._modelToController[GC("0xf")](i), _this.ee[GC("0xf")](o.view), e[GC("0x10")][GC("0x11")](o.id)); }), this[GC("0xd")](n, "change:activeView", function (t, n, i, o) { if (o && _this.ee.has(o) && (_this.ee[GC("0x2")](o).active = !1), i && _this.ee[GC("0x12")](i)) {
                                    var t_458 = _this.ee.get(i);
                                    t_458[GC("0x13")] = !0, e[GC("0x14")] = GC("0x5") + t_458.id;
                                }
                                else
                                    e[GC("0x14")] = null; }), t.ui.componentFactory[GC("0x9")](GC("0x15"), function (e) { var n = new ad(e), i = t.commands.get(GC("0x16")); return n.label = "Inline comment", n[GC("0x17")] = GC("0x18"), n[GC("0x19")] = E_.a, n[GC("0x1a")]("isEnabled").to(i), _this[GC("0xd")](n, GC("0x1b"), function () { return i[GC("0x1b")](); }), n; });
                            };
                            KC.prototype.te = function (t) { var e = this[GC("0x1c")], n = e[GC("0x1")][GC("0x2")](iv), i = e.commands, o = { addCommentThread: i.get(GC("0x16")), removeCommentThread: i[GC("0x2")](GC("0x1d")), addComment: i[GC("0x2")](GC("0x1e")), updateComment: i.get("updateComment"), removeComment: i.get(GC("0x1f")) }, r = e[GC("0x20")][GC("0x2")]("comments.editorConfig"), s = { locale: e[GC("0x21")], formatDateTime: JC(e) }, a = new FC(s, t, o, r), c = a[GC("0x8")][GC("0x22")]; return a[GC("0x23")] ? QC(this[GC("0x1c")], a) : (a[GC("0x24")](GC("0x25"), function () { return QC(e, a); }), c.once(GC("0x26"), function () { return c.focus(); })), c[GC("0x1a")](GC("0x27")).to(a, GC("0x23"), function (t) { return GC(t ? "0x28" : "0x29"); }), c.on(GC("0x2a"), function (t) { 1 === a[GC("0x23")] && (e[GC("0x2b")][GC("0x8")][GC("0xb")](), t.stop()); }), c.on(GC("0x2c"), function (t) { a[GC("0x23")] || (e.execute(GC("0x1d"), { threadId: a.id }), e[GC("0x2b")][GC("0x8")][GC("0xb")](), t[GC("0x2d")]()); }), a.on(GC("0x2e"), function (t, n, i) { i || a[GC("0x23")] || c[GC("0x2f")] || e[GC("0x1b")]("removeCommentThread", { threadId: a.id }); }), a.on(GC("0x30"), function (t, e, i) { i ? n[GC("0x10")][GC("0x7")](a.id) : n[GC("0x10")].remove(a.id); }), a; };
                            KC.prototype.oe = function (t) { var e = new W_; return e[GC("0x31")] = GC("0x15"), e[GC("0x1a")]("number").to(t, GC("0x23")), e.bind(GC("0x32")).to(t, GC("0x32"), t, GC("0x23"), function (t, e) { return !e || t; }), t[GC("0x8")][GC("0x33")](e), e; };
                            return KC;
                        }(Sd));
                        function QC(t, e) { var n = e.commentControllers[GC("0x2")](0), i = t[GC("0x34")][GC("0x2")](GC("0x1d")), o = t[GC("0x34")][GC("0x2")](GC("0x1f")); n[GC("0x27")] = GC("0x29"), n[GC("0x8")].removeButton[GC("0x35")](), n.view.removeButton[GC("0x1a")](GC("0x36")).to(i, GC("0x37"), e, "length", function (t) { return t && Array[GC("0x38")](e[GC("0x39")])[GC("0x3a")](function (t) { return o[GC("0x3b")](t[GC("0x15")]); }); }), e.view[GC("0x1a")](GC("0x3c")).to(n.view, GC("0x3c"), function (t) { return "remove" === t ? GC("0x11") : null; }), n[GC("0x8")][GC("0x3d")].on(GC("0x1b"), function (n) { n.stop(), e[GC("0x8")].showConfirm(GC("0x3e"), e.view[GC("0x3f")]).then(function () { t.execute("removeCommentThread", { threadId: e.id }), t[GC("0x2b")].view[GC("0xb")](); }); }, { priority: GC("0x40") }); }
                        n(291);
                        var ZC = ["set", "minHeight", "class", "list", "createCollection", "setTemplate", "div", "ck-sidebar", "ck-reset", "bindTemplate"];
                        !function (t, e) { !function (e) { for (; --e;)
                            t.push(t.shift()); }(++e); }(ZC, 439);
                        var XC = function (t, e) { return ZC[t -= 0]; };
                        var tT = Yl("px");
                        var eT = /** @class */ (function (_super) {
                            __extends(eT, _super);
                            function eT(t) {
                                var _this = _super.call(this, t) || this;
                                var e = _this[XC("0x0")];
                                _this[XC("0x1")](XC("0x2"), 0), _this[XC("0x1")](XC("0x3"), ""), _this[XC("0x4")] = _this[XC("0x5")](), _this[XC("0x6")]({ tag: XC("0x7"), attributes: { class: ["ck", XC("0x8"), XC("0x9"), e.to(XC("0x3"))], style: { minHeight: e.to(XC("0x2"), function (t) { return t ? tT(t + 10) : null; }) }, tabindex: -1 }, children: _this[XC("0x4")] });
                                return _this;
                            }
                            return eT;
                        }(Vl));
                        var nT = ["top", "height", "bind", "bottom", "targetTop", "isAnimationDisabled", "updateHeight", "content", "createCollection", "bindTemplate", "setTemplate", "div", "ck-sidebar-item--no-animation", "render", "element", "clientHeight", "resetTop", "destroy", "set"];
                        !function (t, e) { !function (e) { for (; --e;)
                            t.push(t.shift()); }(++e); }(nT, 322);
                        var iT = function (t, e) { return nT[t -= 0]; };
                        var oT = Yl("px");
                        var rT = /** @class */ (function (_super) {
                            __extends(rT, _super);
                            function rT(t) {
                                var _this = this;
                                _this = _super.call(this, t) || this, _this[iT("0x0")](iT("0x1")), _this[iT("0x0")](iT("0x2"), 0), _this[iT("0x3")](iT("0x4")).to(_this, iT("0x1"), _this, iT("0x2"), function (t, e) { return (t || 0) + e; }), _this.set(iT("0x5"), 0), _this.on("change:targetTop", function () { return _this.resetTop(); }), _this[iT("0x0")](iT("0x6"), !1), _this.K = N_(function () { return _this[iT("0x7")](); }), _this[iT("0x8")] = _this[iT("0x9")]();
                                var e = _this[iT("0xa")];
                                _this[iT("0xb")]({ tag: iT("0xc"), attributes: { class: ["ck-sidebar-item", e.to("isAnimationDisabled", function (t) { return t ? iT("0xd") : ""; })], style: { top: e.to("top", oT) } }, children: _this[iT("0x8")] });
                                return _this;
                            }
                            rT.prototype.render = function () { _super.prototype[iT("0xe")].call(this), this.K.attach(this[iT("0xf")]); };
                            rT.prototype[iT("0x7")] = function () { var t = this.element[iT("0x10")]; t && (this[iT("0x2")] = t); };
                            rT.prototype[iT("0x11")] = function () { this.top = this[iT("0x5")]; };
                            rT.prototype[iT("0x12")] = function () { this.content.clear(), this.K.detach(), _super.prototype.destroy.call(this); };
                            return rT;
                        }(Vl));
                        var sT = ["_annotationViewToSidebarItemView", "content", "bind", "targetRect", "top", "change:top", "length", "activeView", "change:bottom", "resetTop", "destroy", "delete", "registerChild", "change:_lastItem", "minHeight", "bottom", "getIndex", "updateHeight", "parentNode", "push", "requires", "pluginName", "Sidebar", "set", "_lastItem", "view", "container", "plugins", "get", "Annotations", "editor", "config", "sidebar.container", "setContainer", "sidebar-setcontainer-invalid-element: Container element is not a HTMLElement.", "addViewToContainer", "appendChild", "element", "class", "change:activeView", "getAnnotationView", "getSidebarItemView", "listenTo", "remove", "update", "removeViewFromContainer", "stopListening", "items", "list", "clear", "createSidebarItemView", "mainView", "sidebar-invalid-layout: Missing positioned container for the editor with a sidebar.", "locale"];
                        !function (t, e) { !function (e) { for (; --e;)
                            t.push(t.shift()); }(++e); }(sT, 290);
                        var aT = function (t, e) { return sT[t -= 0]; };
                        var cT = /** @class */ (function (_super) {
                            __extends(cT, _super);
                            function cT(t) {
                                var _this = this;
                                _this = _super.call(this, t) || this, _this[aT("0x3")](aT("0x4")), _this[aT("0x5")] = _this.M(), _this[aT("0x3")](aT("0x6"), null), _this.H = 25, _this.T = new Map, _this._annotationViewToSidebarItemView = new Map;
                                return _this;
                            }
                            Object.defineProperty(cT, aT("0x0"), {
                                get: function () { return [F_]; },
                                enumerable: true,
                                configurable: true
                            });
                            Object.defineProperty(cT, aT("0x1"), {
                                get: function () { return aT("0x2"); },
                                enumerable: true,
                                configurable: true
                            });
                            cT.prototype.init = function () { this.A = this.editor[aT("0x7")][aT("0x8")](aT("0x9")); var t = this[aT("0xa")][aT("0xb")].get(aT("0xc")); t && this.setContainer(t); };
                            cT.prototype[aT("0xd")] = function (t) { if (!Wn(t))
                                throw new Gn.b(aT("0xe"), this); this.container = t; };
                            cT.prototype[aT("0xf")] = function (_j) {
                                var _this = this;
                                var _q = _j === void 0 ? {} : _j, _z = _q.viewClass, t = _z === void 0 ? "" : _z, _0 = _q.spaceBetweenItems, e = _0 === void 0 ? 25 : _0;
                                var n = this[aT("0xa")], i = n[aT("0x7")].get(F_);
                                if (!Wn(this[aT("0x6")]))
                                    throw new Gn.b("sidebar-addviewtocontainer-missing-container: Missing container element.", this);
                                this.container[aT("0x10")](this[aT("0x5")][aT("0x11")]), this[aT("0x5")][aT("0x12")] = t, this.H = e, this.listenTo(i, aT("0x13"), function (t, e, n) { if (n) {
                                    var t_459 = i[aT("0x14")](n), e_843 = _this[aT("0x15")](t_459);
                                    e_843 && e_843.resetTop();
                                } }), this[aT("0x16")](i.items, aT("0x17"), function (t, e, n) { _this.R(e, n); }), n.ui[aT("0x18")]();
                            };
                            cT.prototype[aT("0x19")] = function () {
                                var e_844, _j;
                                var t = this.A;
                                this[aT("0x1a")](t.items), this[aT("0x1a")](t, aT("0x13")), this.view[aT("0x11")][aT("0x17")]();
                                try {
                                    for (var _q = __values(t[aT("0x1b")]), _z = _q.next(); !_z.done; _z = _q.next()) {
                                        var e_845 = _z.value;
                                        this.R(e_845);
                                    }
                                }
                                catch (e_844_1) { e_844 = { error: e_844_1 }; }
                                finally {
                                    try {
                                        if (_z && !_z.done && (_j = _q.return)) _j.call(_q);
                                    }
                                    finally { if (e_844) throw e_844.error; }
                                }
                                this.view[aT("0x1c")][aT("0x1d")](), this[aT("0x5")][aT("0x12")] = "", this[aT("0x4")] = null, this.q = null;
                            };
                            cT.prototype[aT("0x1e")] = function (t, e) {
                                var _this = this;
                                e || (e = t);
                                var n = this.A, i = t[aT("0x1f")], o = n.getMarkers(i)[0], r = this[aT("0x6")], s = this.A.getMarkerDomElement(o), a = this.F(r, s);
                                if (!a)
                                    throw new Gn.b(aT("0x20"), this);
                                var c = new rT(this.editor[aT("0x21")]);
                                this.T[aT("0x3")](c, t), this[aT("0x22")][aT("0x3")](t, c), c[aT("0x23")].add(e), c[aT("0x24")]("targetTop").to(t, aT("0x25"), function (t) { var e = new As(a).top, n = new As(_this[aT("0x5")].element)[aT("0x26")] - e; return t.top - e - n; }), this[aT("0x16")](c, aT("0x27"), fm(function () { if (!c[aT("0x23")][aT("0x28")])
                                    return; var t = _this.W(c); if (!t)
                                    return; var e = _this.T[aT("0x8")](t); n[aT("0x29")] === e[aT("0x1f")] ? _this.j(t, c) : _this.D(c, t); }, 10, { leading: !1 })), this[aT("0x16")](c, aT("0x2a"), fm(function () { if (!c[aT("0x23")].length)
                                    return; var t = _this.G(c); if (!t)
                                    return; var e = _this.T[aT("0x8")](t); n[aT("0x29")] === e[aT("0x1f")] ? _this.D(t, c) : _this.j(c, t); }, 10, { leading: !1 }));
                                var l = this.W(c);
                                return l && this.j(l, c) || c[aT("0x2b")](), this.J(), c;
                            };
                            cT.prototype[aT("0x15")] = function (t) { return this[aT("0x22")][aT("0x8")](t); };
                            cT.prototype.R = function (t, e) { var n = this[aT("0x15")](t); if (this[aT("0x1a")](n), n[aT("0x2c")](), this[aT("0x22")][aT("0x2d")](t), this.T[aT("0x2d")](n), void 0 === e)
                                return; var i = this.A[aT("0x1b")][aT("0x8")](e - 1), o = this.A[aT("0x1b")][aT("0x8")](e); i && this[aT("0x15")](i)[aT("0x2b")](), o && this[aT("0x15")](o)[aT("0x2b")](), this.J(); };
                            cT.prototype.M = function () { var t = new eT(this[aT("0xa")][aT("0x21")]); return this[aT("0xa")].ui[aT("0x5")][aT("0x2e")](t), this.on(aT("0x2f"), function (e, n, i, o) { o && t.unbind(aT("0x30")), i ? t.bind(aT("0x30")).to(i, aT("0x31")) : t.minHeight = null; }), t; };
                            cT.prototype.J = function () { var t = this[aT("0x15")](this.A[aT("0x1b")].last); t !== this._lastItem && (this[aT("0x4")] = t); };
                            cT.prototype.W = function (t) { var e = this.A[aT("0x1b")], n = this.T[aT("0x8")](t), i = e[aT("0x8")](e[aT("0x32")](n) - 1); return this[aT("0x15")](i); };
                            cT.prototype.G = function (t) { var e = this.A[aT("0x1b")], n = this.T[aT("0x8")](t), i = e.get(e[aT("0x32")](n) + 1); return this[aT("0x15")](i); };
                            cT.prototype.D = function (t, e) { t.updateHeight(); var n = dT(e.bottom + this.H, t[aT("0x26")]); return !!n && (e[aT("0x26")] -= n, !0); };
                            cT.prototype.j = function (t, e) { t[aT("0x33")](); var n = dT(t[aT("0x31")] + this.H, e[aT("0x26")]); return !!n && (e[aT("0x26")] += n, !0); };
                            cT.prototype.F = function (t, e) { if (!this.q) {
                                var n_340 = lT(t), i_219 = lT(e);
                                this.q = function (t, e) { for (var n_341 = 0; n_341 < t[aT("0x28")]; n_341++)
                                    for (var i_220 = 0; i_220 < e[aT("0x28")]; i_220++)
                                        if (t[n_341] === e[i_220])
                                            return t[n_341]; }(n_340, i_219);
                            } return this.q; };
                            return cT;
                        }(Sd));
                        function lT(t) { var e = []; var n = t; for (; null !== n;)
                            (n = td(n[aT("0x34")])) && e[aT("0x35")](n); return e; }
                        function dT(t, e) { return Math.max(t - e, 0); }
                        var uT = ["plugins", "get", "Sidebar", "register", "wideSidebar", "attach", "isAttached", "set:container", "listenTo", "change:container", "off", "addViewToContainer", "ck-sidebar--wide", "view", "list", "items", "createSidebarItemView", "detach", "destroy", "requires", "pluginName", "init", "editor"];
                        !function (t, e) { !function (e) { for (; --e;)
                            t.push(t.shift()); }(++e); }(uT, 272);
                        var hT = function (t, e) { return uT[t -= 0]; };
                        var fT = /** @class */ (function (_super) {
                            __extends(fT, _super);
                            function fT(t) {
                                var _this = this;
                                _this = _super.call(this, t) || this, _this.isAttached = !1;
                                return _this;
                            }
                            Object.defineProperty(fT, hT("0x0"), {
                                get: function () { return [cT, F_]; },
                                enumerable: true,
                                configurable: true
                            });
                            Object.defineProperty(fT, hT("0x1"), {
                                get: function () { return "WideSidebar"; },
                                enumerable: true,
                                configurable: true
                            });
                            fT.prototype[hT("0x2")] = function () { var t = this[hT("0x3")][hT("0x4")][hT("0x5")]("Annotations"), e = this[hT("0x3")][hT("0x4")][hT("0x5")](hT("0x6")); t[hT("0x7")](hT("0x8"), this), e.container && t.switchTo(hT("0x8")); };
                            fT.prototype[hT("0x9")] = function () {
                                var _this = this;
                                var t = this.editor[hT("0x4")][hT("0x5")](hT("0x6")), e = this[hT("0x3")][hT("0x4")][hT("0x5")]("Annotations");
                                if (this[hT("0xa")])
                                    throw new Gn.b("widesidebar-attach-already-attached: Cannot attach wide sidebar twice.", this);
                                this.isAttached = !0, this.listenTo(t, hT("0xb"), function () { _this.detach(), _this[hT("0xc")](t, hT("0xd"), function (t) { t[hT("0xe")](), _this[hT("0x9")](); }); }), t[hT("0xf")]({ viewClass: hT("0x10") }), t[hT("0x11")][hT("0x12")].bindTo(e[hT("0x13")]).using(function (e) { return t[hT("0x14")](e); });
                            };
                            fT.prototype[hT("0x15")] = function () { if (!this[hT("0xa")])
                                throw new Gn.b("widesidebar-detach-not-attached: Cannot detach not attached sidebar.", this); var t = this[hT("0x3")][hT("0x4")][hT("0x5")](hT("0x6")); t.removeViewFromContainer(), this.stopListening(t), this.isAttached = !1; };
                            fT.prototype[hT("0x16")] = function () { this[hT("0xa")] && this.detach(); };
                            return fT;
                        }(Sd));
                        n(293);
                        var pT = ["Esc", "isAttached", "isVisible", "first", "narrowsidebar-attach-already-attached: Cannot attach narrow sidebar twice.", "set:container", "change:container", "off", "attach", "addViewToContainer", "ck-sidebar--narrow", "list", "bindTo", "items", "using", "narrowView", "listenTo", "execute", "clear", "content", "activeView", "mainView", "render", "change:activeView", "getAnnotationView", "isAnimationDisabled", "getSidebarItemView", "high", "editing", "document", "mousedown", "change:selectedViews", "includes", "delete", "update", "detach", "narrowsidebar-detach-not-attached: Cannot detach not attached sidebar.", "Sidebar", "removeViewFromContainer", "stopListening", "destroy", "element", "southArrowNorthEast", "northArrowSouth", "southArrowNorthWest", "northArrowSouthWest", "focus", "change:height", "requires", "NarrowSidebar", "view", "addObserver", "init", "editor", "plugins", "get", "Annotations", "register", "narrowSidebar", "balloonPanelView", "locale", "body", "add", "focusTracker", "keystrokes"];
                        !function (t, e) { !function (e) { for (; --e;)
                            t.push(t.shift()); }(++e); }(pT, 113);
                        var mT = function (t, e) { return pT[t -= 0]; };
                        var gT = /** @class */ (function (_super) {
                            __extends(gT, _super);
                            function gT(t) {
                                var _this = this;
                                _this = _super.call(this, t) || this, t.editing[mT("0x2")][mT("0x3")](Uf), _this.isAttached = !1, _this.k = new Set;
                                return _this;
                            }
                            Object.defineProperty(gT, mT("0x0"), {
                                get: function () { return [cT, F_]; },
                                enumerable: true,
                                configurable: true
                            });
                            Object.defineProperty(gT, "pluginName", {
                                get: function () { return mT("0x1"); },
                                enumerable: true,
                                configurable: true
                            });
                            gT.prototype[mT("0x4")] = function () {
                                var _this = this;
                                this[mT("0x5")][mT("0x6")][mT("0x7")](mT("0x8"))[mT("0x9")](mT("0xa"), this), this[mT("0xb")] = new op(this.editor[mT("0xc")]), this[mT("0x5")].ui[mT("0x2")][mT("0xd")][mT("0xe")](this.balloonPanelView), this[mT("0x5")].ui[mT("0xf")][mT("0xe")](this[mT("0xb")].element), this[mT("0x5")][mT("0x10")].set(mT("0x11"), function (t, e) { _this[mT("0x12")] && _this[mT("0xb")][mT("0x13")] && (_this.k[mT("0xe")](_this[mT("0xb")].content[mT("0x14")]), _this.S(), e()); });
                            };
                            gT.prototype.attach = function () {
                                var _this = this;
                                var t = this[mT("0x5")][mT("0x6")].get("Sidebar"), e = this[mT("0x5")][mT("0x6")][mT("0x7")](mT("0x8")), n = this[mT("0xb")];
                                if (this[mT("0x12")])
                                    throw new Gn.b(mT("0x15"), this);
                                this[mT("0x12")] = !0, this.listenTo(t, mT("0x16"), function () { _this.detach(), _this.listenTo(t, mT("0x17"), function (t) { t[mT("0x18")](), _this[mT("0x19")](); }); }), t[mT("0x1a")]({ viewClass: mT("0x1b"), spaceBetweenItems: 5 }), t[mT("0x2")][mT("0x1c")][mT("0x1d")](e[mT("0x1e")])[mT("0x1f")](function (i) { var o = t.createSidebarItemView(i, i[mT("0x20")]); return o[mT("0x21")](i[mT("0x20")], mT("0x22"), function () { _this.k[mT("0x23")](), n[mT("0x24")][mT("0x14")] !== i ? (_this.B(i), i.element.focus(), e[mT("0x25")] = i[mT("0x26")]) : _this.S(!0); }), o[mT("0x27")](), o; }), this.listenTo(e, mT("0x28"), function (n, i, o, r) { if (r) {
                                    var n_342 = e[mT("0x29")](r);
                                    t.getSidebarItemView(n_342)[mT("0x2a")] = !1;
                                } if (o) {
                                    var n_343 = e[mT("0x29")](o);
                                    t[mT("0x2b")](n_343)[mT("0x2a")] = !0;
                                } }, { priority: mT("0x2c") }), this[mT("0x21")](this.editor[mT("0x2d")][mT("0x2")][mT("0x2e")], mT("0x2f"), function () { return _this.k[mT("0x23")](); }), this[mT("0x21")](e, mT("0x28"), function (n, i, o) { var r = e[mT("0x29")](o), s = t.getSidebarItemView(r); o && s ? _this.B(r) : _this.S(); }), this[mT("0x21")](e, mT("0x30"), function (t, n, i, o) {
                                    var e_846, _j;
                                    try {
                                        for (var o_138 = __values(o), o_138_1 = o_138.next(); !o_138_1.done; o_138_1 = o_138.next()) {
                                            var t_460 = o_138_1.value;
                                            i[mT("0x31")](t_460) || _this.k[mT("0x32")](e[mT("0x29")](t_460));
                                        }
                                    }
                                    catch (e_846_1) { e_846 = { error: e_846_1 }; }
                                    finally {
                                        try {
                                            if (o_138_1 && !o_138_1.done && (_j = o_138.return)) _j.call(o_138);
                                        }
                                        finally { if (e_846) throw e_846.error; }
                                    }
                                }), this[mT("0x21")](this[mT("0x5")].ui, mT("0x33"), function () { n[mT("0x13")] && _this.C(); });
                            };
                            gT.prototype[mT("0x34")] = function () { if (!this.isAttached)
                                throw new Gn.b(mT("0x35"), this); var t = this[mT("0x5")][mT("0x6")][mT("0x7")](mT("0x36")), e = this[mT("0x5")][mT("0x6")][mT("0x7")](mT("0x8")); this.S(), t[mT("0x37")](), this[mT("0x38")](t), this[mT("0x38")](e), this[mT("0x38")](this[mT("0x5")].ui), this[mT("0x38")](this[mT("0x5")][mT("0x2d")][mT("0x2")][mT("0x2e")]), this[mT("0x12")] = !1; };
                            gT.prototype[mT("0x39")] = function () { this[mT("0x12")] && this[mT("0x34")](); };
                            gT.prototype.B = function (t) { if (this.k.has(t))
                                return; var e = this[mT("0xb")][mT("0x24")][mT("0x14")]; e !== t ? (e && this.L(e), this.N(t), this[mT("0xb")][mT("0x24")][mT("0x23")](), this[mT("0xb")][mT("0x24")][mT("0xe")](t), this.C()) : this.C(); };
                            gT.prototype.C = function () { var t = this[mT("0xb")][mT("0x24")].first[mT("0x20")][mT("0x3a")], e = function () { var t = op.defaultPositions; return [t[mT("0x3b")], t.northArrowSouthEast, t.southArrowNorth, t[mT("0x3c")], t[mT("0x3d")], t[mT("0x3e")]]; }(); this[mT("0xb")].pin({ target: t, positions: e }); };
                            gT.prototype.S = function (t) { var e = this.balloonPanelView, n = e.content[mT("0x14")]; n && (this.L(n), e.unpin(), e.content[mT("0x23")](), t && this.editor[mT("0x2d")][mT("0x2")][mT("0x3f")]()); };
                            gT.prototype.N = function (t) {
                                var _this = this;
                                this.listenTo(t, mT("0x40"), function () { return _this.C(); }), this[mT("0x21")](t, mT("0x11"), function () { _this.k[mT("0xe")](t), _this.S(!0); });
                            };
                            gT.prototype.L = function (t) { this.stopListening(t); };
                            return gT;
                        }(Sd));
                        var xT = ["updateComment", "removeComment", "getCommentThreads", "requires", "Comments", "init", "editor", "licenseKey", "adapter", "plugins", "get", "addCommentThread", "addComment"];
                        !function (t, e) { !function (e) { for (; --e;)
                            t.push(t.shift()); }(++e); }(xT, 159);
                        var bT = function (t, e) { return xT[t -= 0]; };
                        var kT = /** @class */ (function (_super) {
                            __extends(kT, _super);
                            function kT() {
                                return _super !== null && _super.apply(this, arguments) || this;
                            }
                            Object.defineProperty(kT, bT("0x0"), {
                                get: function () { return [iv, uv, KC, fT, gT]; },
                                enumerable: true,
                                configurable: true
                            });
                            Object.defineProperty(kT, "pluginName", {
                                get: function () { return bT("0x1"); },
                                enumerable: true,
                                configurable: true
                            });
                            kT.prototype[bT("0x2")] = function () { this.licenseKey = this[bT("0x3")].config.get(bT("0x4")); };
                            Object.defineProperty(kT.prototype, bT("0x5"), {
                                set: function (t) { this[bT("0x3")][bT("0x6")][bT("0x7")](iv).adapter = t; },
                                enumerable: true,
                                configurable: true
                            });
                            Object.defineProperty(kT.prototype, "adapter", {
                                get: function () { return this[bT("0x3")].plugins[bT("0x7")](iv)[bT("0x5")]; },
                                enumerable: true,
                                configurable: true
                            });
                            kT.prototype[bT("0x8")] = function () {
                                var _j;
                                var t = [];
                                for (var _q = 0; _q < arguments.length; _q++) {
                                    t[_q] = arguments[_q];
                                }
                                (_j = this[bT("0x3")].plugins[bT("0x7")](iv))[bT("0x8")].apply(_j, __spread(t));
                            };
                            kT.prototype[bT("0x9")] = function () {
                                var _j;
                                var t = [];
                                for (var _q = 0; _q < arguments.length; _q++) {
                                    t[_q] = arguments[_q];
                                }
                                (_j = this.editor.plugins[bT("0x7")](iv))[bT("0x9")].apply(_j, __spread(t));
                            };
                            kT.prototype.updateComment = function () {
                                var _j;
                                var t = [];
                                for (var _q = 0; _q < arguments.length; _q++) {
                                    t[_q] = arguments[_q];
                                }
                                (_j = this[bT("0x3")].plugins.get(iv))[bT("0xa")].apply(_j, __spread(t));
                            };
                            kT.prototype[bT("0xb")] = function () {
                                var _j;
                                var t = [];
                                for (var _q = 0; _q < arguments.length; _q++) {
                                    t[_q] = arguments[_q];
                                }
                                (_j = this[bT("0x3")][bT("0x6")].get(iv))[bT("0xb")].apply(_j, __spread(t));
                            };
                            kT.prototype[bT("0xc")] = function () { return this[bT("0x3")][bT("0x6")][bT("0x7")](iv)[bT("0xc")](); };
                            return kT;
                        }(Sd));
                        var wT = ["requires", "RealTimeCollaborativeComments"];
                        !function (t, e) { !function (e) { for (; --e;)
                            t.push(t.shift()); }(++e); }(wT, 106);
                        var vT = function (t, e) { return wT[t -= 0]; };
                        var yT = /** @class */ (function (_super) {
                            __extends(yT, _super);
                            function yT() {
                                return _super !== null && _super.apply(this, arguments) || this;
                            }
                            Object.defineProperty(yT, vT("0x0"), {
                                get: function () { return [T_, s_, kT]; },
                                enumerable: true,
                                configurable: true
                            });
                            Object.defineProperty(yT, "pluginName", {
                                get: function () { return vT("0x1"); },
                                enumerable: true,
                                configurable: true
                            });
                            return yT;
                        }(Sd));
                        var _T = /** @class */ (function (_super) {
                            __extends(_T, _super);
                            function _T(t, e, n, i, o) {
                                if (i === void 0) { i = {}; }
                                if (o === void 0) { o = null; }
                                var _this = this;
                                _this = _super.call(this) || this, _this.id = t, _this.documentId = e, _this.type = n, _this.data = i, _this.originalSuggestionId = o;
                                return _this;
                            }
                            _T.prototype.toJSON = function () { return { id: this.id, documentId: this.documentId, type: this.type, data: JSON.stringify(this.data), originalSuggestionId: this.originalSuggestionId }; };
                            Object.defineProperty(_T, "TYPE", {
                                get: function () { return 101; },
                                enumerable: true,
                                configurable: true
                            });
                            Object.defineProperty(_T, "DESCRIPTOR_NAME", {
                                get: function () { return "TrackChangesAddSuggestionMessage"; },
                                enumerable: true,
                                configurable: true
                            });
                            Object.defineProperty(_T, "DESCRIPTOR", {
                                get: function () { return { fields: { id: { type: "string", id: 1 }, documentId: { type: "string", id: 2 }, type: { type: "string", id: 3 }, data: { type: "string", id: 4 }, originalSuggestionId: { type: "string", id: 5 } } }; },
                                enumerable: true,
                                configurable: true
                            });
                            _T.fromJSON = function (t) { return new _T(t.id, t.documentId, t.type, JSON.parse(t.data), t.originalSuggestionId || null); };
                            return _T;
                        }(qk));
                        var CT = /** @class */ (function (_super) {
                            __extends(CT, _super);
                            function CT(t, e, n, i, o, r, s) {
                                if (s === void 0) { s = {}; }
                                var _this = this;
                                _this = _super.call(this) || this, _this.id = t, _this.authorId = e, _this.type = n, _this.createdAt = new Date(i), _this.hasComments = o, _this.state = r, _this.data = s;
                                return _this;
                            }
                            CT.prototype.toJSON = function () { return { id: this.id, authorId: this.authorId, type: this.type, createdAt: this.createdAt.toISOString(), data: JSON.stringify(this.data), hasComments: this.hasComments, state: this.state }; };
                            Object.defineProperty(CT, "DESCRIPTOR_NAME", {
                                get: function () { return "TrackChangesAddSuggestionResponse"; },
                                enumerable: true,
                                configurable: true
                            });
                            Object.defineProperty(CT, "DESCRIPTOR", {
                                get: function () { return { fields: { id: { type: "string", id: 1 }, authorId: { type: "string", id: 2 }, type: { type: "string", id: 3 }, createdAt: { type: "string", id: 4 }, data: { type: "string", id: 5 }, hasComments: { type: "bool", id: 6 }, state: { type: "string", id: 7 } } }; },
                                enumerable: true,
                                configurable: true
                            });
                            CT.fromJSON = function (t) { return new CT(t.id, t.authorId, t.type, t.createdAt, t.hasComments, t.state, JSON.parse(t.data)); };
                            return CT;
                        }(qk));
                        var TT = /** @class */ (function (_super) {
                            __extends(TT, _super);
                            function TT(t, e) {
                                var _this = this;
                                _this = _super.call(this) || this, _this.id = t, _this.documentId = e;
                                return _this;
                            }
                            TT.prototype.toJSON = function () { return { id: this.id, documentId: this.documentId }; };
                            Object.defineProperty(TT, "TYPE", {
                                get: function () { return 103; },
                                enumerable: true,
                                configurable: true
                            });
                            Object.defineProperty(TT, "DESCRIPTOR_NAME", {
                                get: function () { return "TrackChangesGetSuggestionMessage"; },
                                enumerable: true,
                                configurable: true
                            });
                            Object.defineProperty(TT, "DESCRIPTOR", {
                                get: function () { return { fields: { id: { type: "string", id: 1 }, documentId: { type: "string", id: 2 } } }; },
                                enumerable: true,
                                configurable: true
                            });
                            TT.fromJSON = function (t) { return new TT(t.id, t.documentId); };
                            return TT;
                        }(qk));
                        var AT = /** @class */ (function (_super) {
                            __extends(AT, _super);
                            function AT(t, e, n, i, o, r, s) {
                                if (s === void 0) { s = {}; }
                                var _this = this;
                                _this = _super.call(this) || this, _this.id = t, _this.authorId = e, _this.type = n, _this.createdAt = new Date(i), _this.hasComments = o, _this.state = r, _this.data = s;
                                return _this;
                            }
                            AT.prototype.toJSON = function () { return { id: this.id, authorId: this.authorId, type: this.type, createdAt: this.createdAt.toISOString(), data: JSON.stringify(this.data), hasComments: this.hasComments, state: this.state }; };
                            Object.defineProperty(AT, "DESCRIPTOR_NAME", {
                                get: function () { return "TrackChangesGetSuggestionResponse"; },
                                enumerable: true,
                                configurable: true
                            });
                            Object.defineProperty(AT, "DESCRIPTOR", {
                                get: function () { return { fields: { id: { type: "string", id: 1 }, authorId: { type: "string", id: 2 }, type: { type: "string", id: 3 }, createdAt: { type: "string", id: 4 }, data: { type: "string", id: 5 }, hasComments: { type: "bool", id: 6 }, state: { type: "string", id: 7 } } }; },
                                enumerable: true,
                                configurable: true
                            });
                            AT.fromJSON = function (t) { return new AT(t.id, t.authorId, t.type, t.createdAt, t.hasComments, t.state, JSON.parse(t.data)); };
                            return AT;
                        }(qk));
                        var ST = /** @class */ (function (_super) {
                            __extends(ST, _super);
                            function ST(t) {
                                var _this = this;
                                _this = _super.call(this) || this, _this.documentId = t;
                                return _this;
                            }
                            ST.prototype.toJSON = function () { return { documentId: this.documentId }; };
                            Object.defineProperty(ST, "TYPE", {
                                get: function () { return 102; },
                                enumerable: true,
                                configurable: true
                            });
                            Object.defineProperty(ST, "DESCRIPTOR_NAME", {
                                get: function () { return "TrackChangesGetAllSuggestionMessage"; },
                                enumerable: true,
                                configurable: true
                            });
                            Object.defineProperty(ST, "DESCRIPTOR", {
                                get: function () { return { fields: { documentId: { type: "string", id: 1 } } }; },
                                enumerable: true,
                                configurable: true
                            });
                            ST.fromJSON = function (t) { return new ST(t.documentId); };
                            return ST;
                        }(qk));
                        var ET = /** @class */ (function (_super) {
                            __extends(ET, _super);
                            function ET(t) {
                                var _this = this;
                                _this = _super.call(this) || this, _this.suggestions = t;
                                return _this;
                            }
                            ET.prototype.toJSON = function () { return { suggestions: this.suggestions.map(function (t) { return JSON.stringify(t); }) }; };
                            Object.defineProperty(ET, "DESCRIPTOR_NAME", {
                                get: function () { return "TrackChangesGetAllSuggestionsResponse"; },
                                enumerable: true,
                                configurable: true
                            });
                            Object.defineProperty(ET, "DESCRIPTOR", {
                                get: function () { return { fields: { suggestions: { type: "string", rule: "repeated", id: 1 } } }; },
                                enumerable: true,
                                configurable: true
                            });
                            ET.fromJSON = function (t) { return new ET(t.suggestions.map(PT)); };
                            return ET;
                        }(qk));
                        function PT(t) { var e = JSON.parse(t); return e.createdAt = new Date(e.createdAt), e; }
                        var IT = /** @class */ (function (_super) {
                            __extends(IT, _super);
                            function IT(t, e, n, i, o) {
                                var _this = this;
                                _this = _super.call(this) || this, _this.id = t, _this.documentId = e, _this.hasComments = n, _this.isHasCommentsModified = i, _this.state = o;
                                return _this;
                            }
                            IT.prototype.toJSON = function () { return { id: this.id, documentId: this.documentId, hasComments: this.hasComments, isHasCommentsModified: this.isHasCommentsModified, state: this.state }; };
                            Object.defineProperty(IT, "TYPE", {
                                get: function () { return 104; },
                                enumerable: true,
                                configurable: true
                            });
                            Object.defineProperty(IT, "DESCRIPTOR_NAME", {
                                get: function () { return "TrackChangesUpdateSuggestionMessage"; },
                                enumerable: true,
                                configurable: true
                            });
                            Object.defineProperty(IT, "DESCRIPTOR", {
                                get: function () { return { fields: { id: { type: "string", id: 1 }, documentId: { type: "string", id: 2 }, hasComments: { type: "bool", id: 3 }, isHasCommentsModified: { type: "bool", id: 4 }, state: { type: "string", id: 5 } } }; },
                                enumerable: true,
                                configurable: true
                            });
                            IT.fromJSON = function (t) { return new IT(t.id, t.documentId, t.hasComments, t.isHasCommentsModified, t.state); };
                            return IT;
                        }(qk));
                        var NT = ["clearForceDisabled", "value", "refresh", "isEnabled", "execute", "editor", "commands", "forceDisabled", "TrackChangesCommand", "has"];
                        !function (t, e) { !function (e) { for (; --e;)
                            t.push(t.shift()); }(++e); }(NT, 431);
                        var MT = function (t, e) { return NT[t -= 0]; };
                        var OT = /** @class */ (function (_super) {
                            __extends(OT, _super);
                            function OT(t, e) {
                                var _this = this;
                                _this = _super.call(this, t) || this, _this.m = e, _this[MT("0x0")] = !1, _this[MT("0x1")]();
                                return _this;
                            }
                            OT.prototype.refresh = function () { this[MT("0x2")] = !0; };
                            OT.prototype[MT("0x3")] = function () { this[MT("0x0")] = !this.value, this[MT("0x0")] ? this.C() : this.p(); };
                            OT.prototype.C = function () {
                                var e_847, _j;
                                try {
                                    for (var _q = __values(this[MT("0x4")].commands[MT("0x5")]()), _z = _q.next(); !_z.done; _z = _q.next()) {
                                        var t_461 = _z.value;
                                        this.m.has(t_461) || t_461[MT("0x6")](MT("0x7"));
                                    }
                                }
                                catch (e_847_1) { e_847 = { error: e_847_1 }; }
                                finally {
                                    try {
                                        if (_z && !_z.done && (_j = _q.return)) _j.call(_q);
                                    }
                                    finally { if (e_847) throw e_847.error; }
                                }
                            };
                            OT.prototype.p = function () {
                                var e_848, _j;
                                try {
                                    for (var _q = __values(this[MT("0x4")][MT("0x5")].commands()), _z = _q.next(); !_z.done; _z = _q.next()) {
                                        var t_462 = _z.value;
                                        this.m[MT("0x8")](t_462) || t_462[MT("0x9")](MT("0x7"));
                                    }
                                }
                                catch (e_848_1) { e_848 = { error: e_848_1 }; }
                                finally {
                                    try {
                                        if (_z && !_z.done && (_j = _q.return)) _j.call(_q);
                                    }
                                    finally { if (e_848) throw e_848.error; }
                                }
                            };
                            return OT;
                        }(Md));
                        var RT = ["model", "change", "getAllAdjacentSuggestions", "accept", "execute", "track-changes-accept-suggestion-not-found: Suggestion to accept does not exist."];
                        !function (t, e) { !function (e) { for (; --e;)
                            t.push(t.shift()); }(++e); }(RT, 196);
                        var DT = function (t, e) { return RT[t -= 0]; };
                        var jT = /** @class */ (function (_super) {
                            __extends(jT, _super);
                            function jT(t, e) {
                                var _this = this;
                                _this = _super.call(this, t) || this, _this.o = e, _this.refresh();
                                return _this;
                            }
                            jT.prototype.refresh = function () { this.isEnabled = !0; };
                            jT.prototype[DT("0x0")] = function (t) { var e = this.o.get(t); if (!e)
                                throw new Gn.b(DT("0x1"), this); this.editor[DT("0x2")][DT("0x3")](function () {
                                var e_849, _j;
                                try {
                                    for (var _q = __values(e[DT("0x4")]()), _z = _q.next(); !_z.done; _z = _q.next()) {
                                        var t_463 = _z.value;
                                        t_463[DT("0x5")]();
                                    }
                                }
                                catch (e_849_1) { e_849 = { error: e_849_1 }; }
                                finally {
                                    try {
                                        if (_z && !_z.done && (_j = _q.return)) _j.call(_q);
                                    }
                                    finally { if (e_849) throw e_849.error; }
                                }
                            }); };
                            return jT;
                        }(Md));
                        var BT = ["getAllAdjacentSuggestions", "discard", "isEnabled", "execute", "get", "model", "change"];
                        !function (t, e) { !function (e) { for (; --e;)
                            t.push(t.shift()); }(++e); }(BT, 289);
                        var LT = function (t, e) { return BT[t -= 0]; };
                        var VT = /** @class */ (function (_super) {
                            __extends(VT, _super);
                            function VT(t, e) {
                                var _this = this;
                                _this = _super.call(this, t) || this, _this.o = e, _this.refresh();
                                return _this;
                            }
                            VT.prototype.refresh = function () { this[LT("0x0")] = !0; };
                            VT.prototype[LT("0x1")] = function (t) { var e = this.o[LT("0x2")](t); if (!e)
                                throw new Gn.b("track-changes-discard-suggestion-not-found: Suggestion to discard does not exist.", this); this.editor[LT("0x3")][LT("0x4")](function () {
                                var e_850, _j;
                                try {
                                    for (var _q = __values(e[LT("0x5")]()), _z = _q.next(); !_z.done; _z = _q.next()) {
                                        var t_464 = _z.value;
                                        t_464[LT("0x6")]();
                                    }
                                }
                                catch (e_850_1) { e_850 = { error: e_850_1 }; }
                                finally {
                                    try {
                                        if (_z && !_z.done && (_j = _q.return)) _j.call(_q);
                                    }
                                    finally { if (e_850) throw e_850.error; }
                                }
                            }); };
                            return VT;
                        }(Md));
                        var FT = ["sort", "deletion", "type"];
                        !function (t, e) { !function (e) { for (; --e;)
                            t.push(t.shift()); }(++e); }(FT, 132);
                        var zT = function (t, e) { return FT[t -= 0]; };
                        function UT(t) { return t[zT("0x0")](function (t, e) { return zT("0x1") == t[zT("0x2")] && zT("0x1") != e[zT("0x2")] ? -1 : "deletion" != t[zT("0x2")] && "deletion" == e[zT("0x2")] ? 1 : 0; }); }
                        var HT = ["refresh", "isEnabled", "from", "values", "some", "isInContent", "execute", "editor", "model", "change"];
                        !function (t, e) { !function (e) { for (; --e;)
                            t.push(t.shift()); }(++e); }(HT, 460);
                        var qT = function (t, e) { return HT[t -= 0]; };
                        var YT = /** @class */ (function (_super) {
                            __extends(YT, _super);
                            function YT(t, e, n) {
                                var _this = this;
                                _this = _super.call(this, t) || this, _this.s = e, _this.o = n, _this[qT("0x0")]();
                                return _this;
                            }
                            YT.prototype.refresh = function () { var t = this.s; this.isEnabled = t[qT("0x1")] && Array[qT("0x2")](this.o[qT("0x3")]())[qT("0x4")](function (t) { return t[qT("0x5")]; }); };
                            YT.prototype[qT("0x6")] = function () {
                                var _this = this;
                                this[qT("0x7")][qT("0x8")][qT("0x9")](function () {
                                    var e_851, _j;
                                    var t = UT(Array[qT("0x2")](_this.o[qT("0x3")]()));
                                    try {
                                        for (var t_465 = __values(t), t_465_1 = t_465.next(); !t_465_1.done; t_465_1 = t_465.next()) {
                                            var e_852 = t_465_1.value;
                                            e_852.isInContent && _this.s[qT("0x6")](e_852.id);
                                        }
                                    }
                                    catch (e_851_1) { e_851 = { error: e_851_1 }; }
                                    finally {
                                        try {
                                            if (t_465_1 && !t_465_1.done && (_j = t_465.return)) _j.call(t_465);
                                        }
                                        finally { if (e_851) throw e_851.error; }
                                    }
                                });
                            };
                            return YT;
                        }(Md));
                        var WT = ["getMarkers", "getRange", "isIntersecting", "isCollapsed", "next", "isTouching", "start", "add", "from", "getRanges", "isInContent"];
                        !function (t, e) { !function (e) { for (; --e;)
                            t.push(t.shift()); }(++e); }(WT, 481);
                        var JT = function (t, e) { return WT[t -= 0]; };
                        function $T(t, e) {
                            var e_853, _j, e_854, _q, e_855, _z;
                            var n = Array[JT("0x0")](t[JT("0x1")]()), i = new Set;
                            try {
                                for (var e_856 = __values(e), e_856_1 = e_856.next(); !e_856_1.done; e_856_1 = e_856.next()) {
                                    var o_139 = e_856_1.value;
                                    if (o_139[JT("0x2")])
                                        try {
                                            for (var n_344 = __values(n), n_344_1 = n_344.next(); !n_344_1.done; n_344_1 = n_344.next()) {
                                                var e_857 = n_344_1.value;
                                                try {
                                                    for (var _0 = __values(o_139[JT("0x3")]()), _1 = _0.next(); !_1.done; _1 = _0.next()) {
                                                        var n_345 = _1.value;
                                                        var r_78 = n_345[JT("0x4")]();
                                                        (e_857[JT("0x5")](r_78) || t[JT("0x6")] && o_139[JT("0x7")] && r_78.end[JT("0x8")](e_857[JT("0x9")])) && i[JT("0xa")](o_139);
                                                    }
                                                }
                                                catch (e_855_1) { e_855 = { error: e_855_1 }; }
                                                finally {
                                                    try {
                                                        if (_1 && !_1.done && (_z = _0.return)) _z.call(_0);
                                                    }
                                                    finally { if (e_855) throw e_855.error; }
                                                }
                                            }
                                        }
                                        catch (e_854_1) { e_854 = { error: e_854_1 }; }
                                        finally {
                                            try {
                                                if (n_344_1 && !n_344_1.done && (_q = n_344.return)) _q.call(n_344);
                                            }
                                            finally { if (e_854) throw e_854.error; }
                                        }
                                }
                            }
                            catch (e_853_1) { e_853 = { error: e_853_1 }; }
                            finally {
                                try {
                                    if (e_856_1 && !e_856_1.done && (_j = e_856.return)) _j.call(e_856);
                                }
                                finally { if (e_853) throw e_853.error; }
                            }
                            return i;
                        }
                        var GT = ["isEnabled", "editor", "execute", "refresh", "model", "selection", "from"];
                        !function (t, e) { !function (e) { for (; --e;)
                            t.push(t.shift()); }(++e); }(GT, 241);
                        var KT = function (t, e) { return GT[t -= 0]; };
                        var QT = /** @class */ (function (_super) {
                            __extends(QT, _super);
                            function QT(t, e, n) {
                                var _this = this;
                                _this = _super.call(this, t) || this, _this.s = e, _this.o = n, _this.i = new Set, _this[KT("0x0")]();
                                return _this;
                            }
                            QT.prototype[KT("0x0")] = function () { var t = this.s, e = this.editor[KT("0x1")].document[KT("0x2")], n = Array[KT("0x3")](this.o.values()); this.i = $T(e, n), this[KT("0x4")] = t.isEnabled && !!this.i.size; };
                            QT.prototype.execute = function () {
                                var _this = this;
                                this[KT("0x5")][KT("0x1")].change(function () {
                                    var e_858, _j;
                                    var t = UT(Array[KT("0x3")](_this.i));
                                    try {
                                        for (var t_466 = __values(t), t_466_1 = t_466.next(); !t_466_1.done; t_466_1 = t_466.next()) {
                                            var e_859 = t_466_1.value;
                                            _this.s[KT("0x6")](e_859.id);
                                        }
                                    }
                                    catch (e_858_1) { e_858 = { error: e_858_1 }; }
                                    finally {
                                        try {
                                            if (t_466_1 && !t_466_1.done && (_j = t_466.return)) _j.call(t_466);
                                        }
                                        finally { if (e_858) throw e_858.error; }
                                    }
                                });
                            };
                            return QT;
                        }(Md));
                        var ZT = ["from", "values", "isInContent", "editor", "change", "execute", "refresh", "isEnabled"];
                        !function (t, e) { !function (e) { for (; --e;)
                            t.push(t.shift()); }(++e); }(ZT, 294);
                        var XT = function (t, e) { return ZT[t -= 0]; };
                        var tA = /** @class */ (function (_super) {
                            __extends(tA, _super);
                            function tA(t, e, n) {
                                var _this = this;
                                _this = _super.call(this, t) || this, _this.h = e, _this.o = n, _this.refresh();
                                return _this;
                            }
                            tA.prototype[XT("0x0")] = function () { var t = this.h; this[XT("0x1")] = t.isEnabled && Array[XT("0x2")](this.o[XT("0x3")]()).some(function (t) { return t[XT("0x4")]; }); };
                            tA.prototype.execute = function () {
                                var _this = this;
                                this[XT("0x5")].model[XT("0x6")](function () {
                                    var e_860, _j;
                                    try {
                                        for (var _q = __values(_this.o[XT("0x3")]()), _z = _q.next(); !_z.done; _z = _q.next()) {
                                            var t_467 = _z.value;
                                            t_467[XT("0x4")] && _this.h[XT("0x7")](t_467.id);
                                        }
                                    }
                                    catch (e_860_1) { e_860 = { error: e_860_1 }; }
                                    finally {
                                        try {
                                            if (_z && !_z.done && (_j = _q.return)) _j.call(_q);
                                        }
                                        finally { if (e_860) throw e_860.error; }
                                    }
                                });
                            };
                            return tA;
                        }(Md));
                        var eA = ["execute", "refresh", "editor", "model", "selection", "from", "values", "isEnabled", "size", "change"];
                        !function (t, e) { !function (e) { for (; --e;)
                            t.push(t.shift()); }(++e); }(eA, 441);
                        var nA = function (t, e) { return eA[t -= 0]; };
                        var iA = /** @class */ (function (_super) {
                            __extends(iA, _super);
                            function iA(t, e, n) {
                                var _this = this;
                                _this = _super.call(this, t) || this, _this.h = e, _this.o = n, _this.i = new Set, _this[nA("0x0")]();
                                return _this;
                            }
                            iA.prototype[nA("0x0")] = function () { var t = this.h, e = this[nA("0x1")][nA("0x2")].document[nA("0x3")], n = Array[nA("0x4")](this.o[nA("0x5")]()); this.i = $T(e, n), this[nA("0x6")] = t[nA("0x6")] && !!this.i[nA("0x7")]; };
                            iA.prototype.execute = function () {
                                var _this = this;
                                this[nA("0x1")].model[nA("0x8")](function () {
                                    var e_861, _j;
                                    try {
                                        for (var _q = __values(_this.i), _z = _q.next(); !_z.done; _z = _q.next()) {
                                            var t_468 = _z.value;
                                            _this.h[nA("0x9")](t_468.id);
                                        }
                                    }
                                    catch (e_861_1) { e_861 = { error: e_861_1 }; }
                                    finally {
                                        try {
                                            if (_z && !_z.done && (_j = _q.return)) _j.call(_q);
                                        }
                                        finally { if (e_861) throw e_861.error; }
                                    }
                                });
                            };
                            return iA;
                        }(Md));
                        var oA = ["type", "change", "isIntersectingWithRange", "getRanges", "map", "getRange", "_onDiscard", "getAllAdjacentSuggestions", "push", "getMultiRangeId", "substr", "subType", "author", "data", "onDiscard", "set", "createdAt", "next", "commentThread", "decorate", "accept", "discard", "head", "hasComments", "length", "isMultiRange", "size", "from", "isInContent", "getFirstMarker", "addMarkerName", "add", "getMarkers", "getMarkerNames", "removeMarkers", "removeMarker", "suggestion:"];
                        !function (t, e) { !function (e) { for (; --e;)
                            t.push(t.shift()); }(++e); }(oA, 307);
                        var rA = function (t, e) { return oA[t -= 0]; };
                        var sA = /** @class */ (function () {
                            function sA(t, e) {
                                this.id = e.id, this.type = e.type, this[rA("0x0")] = e[rA("0x0")] || null, this[rA("0x1")] = e[rA("0x1")], this[rA("0x2")] = null, this.k = t, this.M = e.onAccept, this._onDiscard = e[rA("0x3")], this.A = new Set, this[rA("0x4")](rA("0x5"), null), this.set("previous", null), this[rA("0x4")](rA("0x6"), null), this[rA("0x4")](rA("0x7"), null), this[rA("0x8")](rA("0x9")), this[rA("0x8")](rA("0xa"));
                            }
                            Object.defineProperty(sA.prototype, rA("0xb"), {
                                get: function () { var t = this; for (; t.previous;)
                                    t = t.previous; return t; },
                                enumerable: true,
                                configurable: true
                            });
                            Object.defineProperty(sA.prototype, rA("0xc"), {
                                get: function () { return !!this[rA("0x7")] && this[rA("0x7")][rA("0xd")] > 0; },
                                enumerable: true,
                                configurable: true
                            });
                            Object.defineProperty(sA.prototype, rA("0xe"), {
                                get: function () { return 0 != this.A[rA("0xf")] && 6 == Array[rA("0x10")](this.A)[0].split(":")[rA("0xd")]; },
                                enumerable: true,
                                configurable: true
                            });
                            Object.defineProperty(sA.prototype, rA("0x11"), {
                                get: function () { return null !== this[rA("0x12")](); },
                                enumerable: true,
                                configurable: true
                            });
                            sA.prototype[rA("0x13")] = function (t) { this.A[rA("0x14")](t); };
                            sA.prototype.getMarkerNames = function () { return Array[rA("0x10")](this.A); };
                            sA.prototype[rA("0x15")] = function () {
                                var _this = this;
                                return this[rA("0x16")]().map(function (t) { return _this.k.markers.get(t); }).filter(function (t) { return t; });
                            };
                            sA.prototype.getFirstMarker = function () { return this.getMarkers()[0] || null; };
                            sA.prototype[rA("0x17")] = function () {
                                var _this = this;
                                this.k.change(function (t) {
                                    var e_862, _j;
                                    try {
                                        for (var _q = __values(_this.getMarkers()), _z = _q.next(); !_z.done; _z = _q.next()) {
                                            var e_863 = _z.value;
                                            t[rA("0x18")](e_863);
                                        }
                                    }
                                    catch (e_862_1) { e_862 = { error: e_862_1 }; }
                                    finally {
                                        try {
                                            if (_z && !_z.done && (_j = _q.return)) _j.call(_q);
                                        }
                                        finally { if (e_862) throw e_862.error; }
                                    }
                                }), this.A.clear();
                            };
                            sA.prototype.addRange = function (t) { var e = rA("0x19") + this[rA("0x1a")] + ":" + this[rA("0x0")] + ":" + this.id + ":" + this.author.id + ":" + sA.getMultiRangeId(); this[rA("0x13")](e), this.k[rA("0x1b")](function (n) { n.addMarker(e, { range: t, usingOperation: !0, affectsData: !0 }); }); };
                            sA.prototype[rA("0x1c")] = function (t) {
                                var e_864, _j;
                                try {
                                    for (var _q = __values(this[rA("0x1d")]()), _z = _q.next(); !_z.done; _z = _q.next()) {
                                        var e_865 = _z.value;
                                        if (e_865.isIntersecting(t))
                                            return !0;
                                    }
                                }
                                catch (e_864_1) { e_864 = { error: e_864_1 }; }
                                finally {
                                    try {
                                        if (_z && !_z.done && (_j = _q.return)) _j.call(_q);
                                    }
                                    finally { if (e_864) throw e_864.error; }
                                }
                                return !1;
                            };
                            sA.prototype[rA("0x1d")] = function () { return this[rA("0x15")]()[rA("0x1e")](function (t) { return t[rA("0x1f")](); }); };
                            sA.prototype.getFirstRange = function () { return this[rA("0x12")]().getRange(); };
                            sA.prototype.accept = function () { this.M(this.getRanges(), this[rA("0x2")]), this[rA("0x17")](); };
                            sA.prototype[rA("0xa")] = function () { this[rA("0x20")](this[rA("0x1d")](), this[rA("0x2")]), this.removeMarkers(); };
                            sA.prototype[rA("0x21")] = function () { var t = []; var e = this[rA("0xb")]; for (; e;)
                                t[rA("0x22")](e), e = e[rA("0x6")]; return t; };
                            sA[rA("0x23")] = function () { return Zn()[rA("0x24")](1, 5); };
                            return sA;
                        }());
                        li(sA, Ui);
                        var aA = ["type", "add", "remove", "registerDescriptionCallback", "registerElementLabel", "set", "getItemLabel", "get", "item", "textProxy", "indexOf", "Container", "pop", "text", "data", "isObject", "elementEnd", "Object", "name", "quantity", "skip", "checkChild", "$text", "elementStart", "nextSibling", "previousSibling", "isEmpty", "EmptyContainer", "replace", "$1 $2", "Replace", "with", " spaces", "Add", "match", "Remove", "removeEmptyContainer", "addObject", "removeObject", "addEmptyContainer", "addContainer", "removeContainer", "Split", "Merge", "getDescriptions", "push", "getFirstRange", "isEqual", "start", "length", "insertion"];
                        !function (t, e) { !function (e) { for (; --e;)
                            t.push(t.shift()); }(++e); }(aA, 299);
                        var cA = function (t, e) { return aA[t -= 0]; };
                        var lA = /** @class */ (function () {
                            function lA(t) {
                                this.v = [], this.$ = new Map, this.S = t;
                            }
                            lA.prototype[cA("0x0")] = function (t) {
                                var e_866, _j;
                                var e = [];
                                for (var n_346 = 0; n_346 < t.length; n_346++) {
                                    var i_221 = t[n_346];
                                    var o_140 = !1;
                                    try {
                                        for (var _q = __values(this.v), _z = _q.next(); !_z.done; _z = _q.next()) {
                                            var t_469 = _z.value;
                                            var n_347 = t_469(i_221);
                                            if (n_347) {
                                                e[cA("0x1")](n_347), o_140 = !0;
                                                break;
                                            }
                                        }
                                    }
                                    catch (e_866_1) { e_866 = { error: e_866_1 }; }
                                    finally {
                                        try {
                                            if (_z && !_z.done && (_j = _q.return)) _j.call(_q);
                                        }
                                        finally { if (e_866) throw e_866.error; }
                                    }
                                    if (!o_140) {
                                        this.j(e, i_221);
                                        var o_141 = t[n_346 + 1];
                                        if (o_141 && !i_221[cA("0x2")]().end[cA("0x3")](o_141[cA("0x2")]()[cA("0x4")])) {
                                            var t_470 = e[e[cA("0x5")] - 1], n_348 = cA("0x6") == i_221[cA("0x7")] ? cA("0x8") : cA("0x9");
                                            t_470 && "text" == t_470[cA("0x7")] && (t_470[n_348] += "\n");
                                        }
                                    }
                                }
                                return this.O(e);
                            };
                            lA.prototype[cA("0xa")] = function (t) { this.v[cA("0x1")](t); };
                            lA.prototype[cA("0xb")] = function (t, e) { this.$[cA("0xc")](t, e); };
                            lA.prototype[cA("0xd")] = function (t) { return this.$[cA("0xe")](t) || t; };
                            lA.prototype.j = function (t, e) {
                                var e_867, _j;
                                var n = e[cA("0x2")]().getWalker(), i = cA("0x6") == e.type ? cA("0x8") : cA("0x9");
                                var _loop_14 = function (e_868) {
                                    var o_142 = e_868[cA("0xf")], r_79 = t[t.length - 1];
                                    if (o_142.is(cA("0x10")))
                                        r_79 && r_79[cA("0x7")][cA("0x11")](cA("0x12")) > -1 && t[cA("0x13")](), r_79 && cA("0x14") == r_79[cA("0x7")] ? r_79[i] += o_142[cA("0x15")] : t[cA("0x1")]({ type: cA("0x14"), add: "add" == i ? o_142[cA("0x15")] : "", remove: cA("0x9") == i ? o_142[cA("0x15")] : "" });
                                    else if (this_5.S[cA("0x16")](o_142)) {
                                        if (r_79 && r_79[cA("0x7")][cA("0x11")](cA("0x12")) > -1 && t[cA("0x13")](), cA("0x17") == e_868[cA("0x7")])
                                            return "continue";
                                        r_79 && r_79.type == i + cA("0x18") && r_79[cA("0x19")] == o_142[cA("0x19")] ? r_79[cA("0x1a")]++ : t[cA("0x1")]({ type: i + cA("0x18"), name: o_142.name, quantity: 1 }), n[cA("0x1b")](function (t) { return !("elementEnd" == t.type && t[cA("0xf")] == o_142); });
                                    }
                                    else if (this_5.S[cA("0x1c")](o_142, cA("0x1d"))) {
                                        if (cA("0x8") == i && cA("0x1e") == e_868[cA("0x7")] || cA("0x9") == i && cA("0x17") == e_868[cA("0x7")])
                                            return "continue";
                                        if (r_79 && -1 == r_79[cA("0x7")][cA("0x11")](cA("0x12"))) {
                                            "text" == r_79.type && (r_79[i] += "\n");
                                            return "continue";
                                        }
                                        var n_350 = void 0;
                                        if (n_350 = cA("0x8") == i ? o_142[cA("0x1f")] && !this_5.S[cA("0x16")](o_142.nextSibling) ? o_142[cA("0x1f")] : null : o_142[cA("0x20")] && !this_5.S[cA("0x16")](o_142[cA("0x20")]) ? o_142[cA("0x20")] : null, o_142[cA("0x21")] || n_350 && n_350[cA("0x21")]) {
                                            var e_869 = n_350 && n_350[cA("0x21")] ? n_350[cA("0x19")] : o_142[cA("0x19")];
                                            r_79 && r_79[cA("0x7")] == i + cA("0x22") && r_79[cA("0x19")] == e_869 ? r_79.quantity++ : t[cA("0x1")]({ type: i + "EmptyContainer", name: e_869, quantity: 1 });
                                        }
                                        else
                                            t[cA("0x1")]({ type: i + "Container", name: o_142[cA("0x19")] });
                                    }
                                };
                                var this_5 = this;
                                try {
                                    for (var n_349 = __values(n), n_349_1 = n_349.next(); !n_349_1.done; n_349_1 = n_349.next()) {
                                        var e_868 = n_349_1.value;
                                        _loop_14(e_868);
                                    }
                                }
                                catch (e_867_1) { e_867 = { error: e_867_1 }; }
                                finally {
                                    try {
                                        if (n_349_1 && !n_349_1.done && (_j = n_349.return)) _j.call(n_349);
                                    }
                                    finally { if (e_867) throw e_867.error; }
                                }
                            };
                            lA.prototype.O = function (t) {
                                var e_870, _j;
                                var e = [];
                                var n;
                                try {
                                    for (var t_471 = __values(t), t_471_1 = t_471.next(); !t_471_1.done; t_471_1 = t_471.next()) {
                                        var i_222 = t_471_1.value;
                                        switch (i_222[cA("0x7")]) {
                                            case cA("0x14"):
                                                if (i_222.add = i_222[cA("0x8")][cA("0x23")](/(\S)\u000A+(\S)/g, cA("0x24"))[cA("0x23")](/\u000A/g, ""), i_222[cA("0x9")] = i_222[cA("0x9")][cA("0x23")](/(\S)\u000A+(\S)/g, "$1 $2")[cA("0x23")](/\u000A/g, ""), "" != i_222[cA("0x8")] && "" != i_222[cA("0x9")]) {
                                                    e[cA("0x1")]([{ label: cA("0x25"), description: '"' + i_222[cA("0x9")] + '"' }, { label: cA("0x26"), description: '"' + i_222[cA("0x8")] + '"' }]);
                                                    continue;
                                                }
                                                if (null != i_222[cA("0x8")].match(/^ +$/)) {
                                                    var t_472 = i_222[cA("0x8")][cA("0x5")] > 1 ? i_222[cA("0x8")].length + cA("0x27") : "space";
                                                    e.push([{ label: cA("0x28"), description: t_472 }]);
                                                    continue;
                                                }
                                                if (null != i_222[cA("0x9")][cA("0x29")](/^ +$/)) {
                                                    var t_473 = i_222[cA("0x9")][cA("0x5")] > 1 ? i_222.remove[cA("0x5")] + cA("0x27") : "space";
                                                    e.push([{ label: "Remove", description: t_473 }]);
                                                    continue;
                                                }
                                                if ("" != i_222[cA("0x8")]) {
                                                    e[cA("0x1")]([{ label: cA("0x28"), description: '"' + i_222.add + '"' }]);
                                                    continue;
                                                }
                                                e[cA("0x1")]([{ label: cA("0x2a"), description: '"' + i_222[cA("0x9")] + '"' }]);
                                                continue;
                                            case "addEmptyContainer":
                                            case cA("0x2b"):
                                            case cA("0x2c"):
                                            case cA("0x2d"):
                                                if (n = cA("0x2c") == i_222.type || cA("0x2e") == i_222[cA("0x7")] ? "Add" : cA("0x2a"), i_222[cA("0x1a")] > 1) {
                                                    e[cA("0x1")]([{ label: n + " " + i_222[cA("0x1a")] + " " + this[cA("0xd")](i_222[cA("0x19")]) + "s" }]);
                                                    continue;
                                                }
                                                e.push([{ label: n + " " + this[cA("0xd")](i_222[cA("0x19")]) }]);
                                                continue;
                                            case cA("0x2f"):
                                            case cA("0x30"):
                                                n = "addContainer" == i_222[cA("0x7")] ? cA("0x31") : cA("0x32"), e[cA("0x1")]([{ label: n + " " + this.getItemLabel(i_222[cA("0x19")]) }]);
                                                continue;
                                        }
                                        e[cA("0x1")](i_222);
                                    }
                                }
                                catch (e_870_1) { e_870 = { error: e_870_1 }; }
                                finally {
                                    try {
                                        if (t_471_1 && !t_471_1.done && (_j = t_471.return)) _j.call(t_471);
                                    }
                                    finally { if (e_870) throw e_870.error; }
                                }
                                return e;
                            };
                            return lA;
                        }());
                        n(82), n(83);
                        var dA = ["editor", "enableCommand", "input", "requires", "init"];
                        !function (t, e) { !function (e) { for (; --e;)
                            t.push(t.shift()); }(++e); }(dA, 128);
                        var uA = function (t, e) { return dA[t -= 0]; };
                        var hA = /** @class */ (function (_super) {
                            __extends(hA, _super);
                            function hA() {
                                return _super !== null && _super.apply(this, arguments) || this;
                            }
                            Object.defineProperty(hA, uA("0x0"), {
                                get: function () { return [Zd]; },
                                enumerable: true,
                                configurable: true
                            });
                            hA.prototype[uA("0x1")] = function () { this[uA("0x2")].plugins.get("TrackChangesEditing")[uA("0x3")](uA("0x4")); };
                            return hA;
                        }(Sd));
                        var fA = ["get", "TrackChangesEditing", "delete", "commands", "enableCommand", "forwardDelete", "createSelection", "model", "document", "isCollapsed", "forward", "unit", "root", "rootName", "createRange", "start", "end", "enqueueChange", "buffer", "lock", "setSelection", "unlock", "downcastDispatcher", "addMarker:suggestion:deletion", "consumable", "markerRange", "getWalker", "schema", "item", "elementStart", "type", "isObject", "skip", "elementEnd", "isBlock", "isLimit", "createUIElement", "span", "ck-suggestion-marker-merge", "mapper", "toViewPosition", "previousPosition", "markerName", "writer", "ck-suggestion-marker--active", "insert", "editing", "removeMarker:suggestion:deletion", "markerNameToElements", "uiElement", "unbindElementFromMarkerName", "remove", "high", "requires", "init", "editor", "plugins"];
                        !function (t, e) { !function (e) { for (; --e;)
                            t.push(t.shift()); }(++e); }(fA, 338);
                        var pA = function (t, e) { return fA[t -= 0]; };
                        var mA = /** @class */ (function (_super) {
                            __extends(mA, _super);
                            function mA() {
                                return _super !== null && _super.apply(this, arguments) || this;
                            }
                            Object.defineProperty(mA, pA("0x0"), {
                                get: function () { return [eu]; },
                                enumerable: true,
                                configurable: true
                            });
                            mA.prototype[pA("0x1")] = function () { var t = this[pA("0x2")], e = t[pA("0x3")][pA("0x4")](pA("0x5")); e.enableCommand(pA("0x6")); var n = t[pA("0x7")][pA("0x4")]("forwardDelete"); e[pA("0x8")](pA("0x9"), function (e, i) { var o = t.model[pA("0xa")](t[pA("0xb")][pA("0xc")].selection); o[pA("0xd")] && t[pA("0xb")].modifySelection(o, { direction: pA("0xe"), unit: i[pA("0xf")] }); var r = o.getFirstRange(), s = aa.fromRange(r); var a; e(i), a = "$graveyard" == s[pA("0x10")][pA("0x11")] ? t[pA("0xb")][pA("0x12")](r[pA("0x13")]) : t[pA("0xb")][pA("0x12")](s[pA("0x13")], s[pA("0x14")]), s.detach(), t[pA("0xb")][pA("0x15")](n.buffer.batch, function (t) { n[pA("0x16")][pA("0x17")](), t[pA("0x18")](t[pA("0x12")](a[pA("0x14")])), n.buffer[pA("0x19")](); }); }), t.editing[pA("0x1a")].on(pA("0x1b"), function (n, i, o) {
                                var e_871, _j;
                                if (!o[pA("0x1c")].test(i[pA("0x1d")], n.name))
                                    return;
                                var r = i[pA("0x1d")][pA("0x1e")](), s = t[pA("0xb")][pA("0x1f")];
                                var _loop_15 = function (t_474) {
                                    var n_351 = t_474[pA("0x20")];
                                    if (pA("0x21") == t_474[pA("0x22")] && s[pA("0x23")](n_351) && r[pA("0x24")](function (t) { return !("elementEnd" == t[pA("0x22")] && t[pA("0x20")] == n_351); }), pA("0x25") == t_474.type && s[pA("0x26")](n_351) && !s[pA("0x27")](n_351)) {
                                        var n_352 = o.writer[pA("0x28")](pA("0x29"), { class: pA("0x2a") }), r_81 = o[pA("0x2b")][pA("0x2c")](t_474[pA("0x2d")]);
                                        e.activeMarkers.includes(i[pA("0x2e")]) && o[pA("0x2f")].addClass(pA("0x30"), n_352), o.writer[pA("0x31")](r_81, n_352), o[pA("0x2b")].bindElementToMarker(n_352, i[pA("0x2e")]);
                                    }
                                };
                                try {
                                    for (var r_80 = __values(r), r_80_1 = r_80.next(); !r_80_1.done; r_80_1 = r_80.next()) {
                                        var t_474 = r_80_1.value;
                                        _loop_15(t_474);
                                    }
                                }
                                catch (e_871_1) { e_871 = { error: e_871_1 }; }
                                finally {
                                    try {
                                        if (r_80_1 && !r_80_1.done && (_j = r_80.return)) _j.call(r_80);
                                    }
                                    finally { if (e_871) throw e_871.error; }
                                }
                            }, { priority: "high" }), t[pA("0x32")][pA("0x1a")].on(pA("0x33"), function (t, e, n) {
                                var e_872, _j;
                                var i = n[pA("0x2b")][pA("0x34")](e.markerName);
                                if (i)
                                    try {
                                        for (var i_223 = __values(i), i_223_1 = i_223.next(); !i_223_1.done; i_223_1 = i_223.next()) {
                                            var t_475 = i_223_1.value;
                                            t_475.is(pA("0x35")) && (n[pA("0x2b")][pA("0x36")](t_475, e[pA("0x2e")]), n[pA("0x2f")][pA("0x37")](t_475));
                                        }
                                    }
                                    catch (e_872_1) { e_872 = { error: e_872_1 }; }
                                    finally {
                                        try {
                                            if (i_223_1 && !i_223_1.done && (_j = i_223.return)) _j.call(i_223);
                                        }
                                        finally { if (e_872) throw e_872.error; }
                                    }
                            }, { priority: pA("0x38") }); };
                            return mA;
                        }(Sd));
                        var gA = ["markerRange", "name", "getWalker", "item", "elementStart", "elementEnd", "isBlock", "writer", "createUIElement", "span", "ck-suggestion-marker-split", "toViewPosition", "previousPosition", "activeMarkers", "includes", "markerName", "ck-suggestion-marker--active", "insert", "bindElementToMarker", "high", "removeMarker:suggestion:insertion", "mapper", "markerNameToElements", "unbindElementFromMarkerName", "remove", "requires", "init", "editor", "plugins", "get", "TrackChangesEditing", "enableCommand", "model", "change", "document", "selection", "getFirstPosition", "isCollapsed", "fromRange", "getFirstRange", "start", "parent", "isAtStart", "end", "schema", "isLimit", "createPositionAt", "nextSibling", "createRange", "markInsertion", "setSelection", "detach", "editing", "downcastDispatcher", "addMarker:suggestion:insertion", "consumable", "test"];
                        !function (t, e) { !function (e) { for (; --e;)
                            t.push(t.shift()); }(++e); }(gA, 424);
                        var xA = function (t, e) { return gA[t -= 0]; };
                        var bA = /** @class */ (function (_super) {
                            __extends(bA, _super);
                            function bA() {
                                return _super !== null && _super.apply(this, arguments) || this;
                            }
                            Object.defineProperty(bA, xA("0x0"), {
                                get: function () { return [Ld]; },
                                enumerable: true,
                                configurable: true
                            });
                            bA.prototype[xA("0x1")] = function () { var t = this[xA("0x2")], e = t[xA("0x3")][xA("0x4")](xA("0x5")); e[xA("0x6")]("enter", function (n) { t[xA("0x7")][xA("0x8")](function (i) { var o = t.model[xA("0x9")][xA("0xa")], r = o[xA("0xb")](), s = o[xA("0xc")], a = aa[xA("0xd")](o[xA("0xe")]()), c = a[xA("0xf")][xA("0x10")], l = a.end[xA("0x10")], d = !(a[xA("0xf")][xA("0x11")] && a[xA("0x12")].isAtEnd), u = c == l, h = !(t[xA("0x7")][xA("0x13")][xA("0x14")](c) || t[xA("0x7")][xA("0x13")].isLimit(l)) && (s || d && u); if (n(), h) {
                                var n_353 = t.model[xA("0x15")](r[xA("0x10")][xA("0x16")], 0), o_143 = i[xA("0x17")](r, n_353);
                                e[xA("0x18")](o_143);
                            }
                            else
                                i[xA("0x19")](i.createRange(a[xA("0x12")])); a[xA("0x1a")](); }); }), t[xA("0x1b")][xA("0x1c")].on(xA("0x1d"), function (n, i, o) {
                                var e_873, _j;
                                if (!o[xA("0x1e")][xA("0x1f")](i[xA("0x20")], n[xA("0x21")]))
                                    return;
                                var r = i[xA("0x20")][xA("0x22")](), s = t[xA("0x7")].schema;
                                var _loop_16 = function (t_476) {
                                    var n_354 = t_476[xA("0x23")];
                                    if (xA("0x24") == t_476.type && s.isObject(n_354) && r.skip(function (t) { return !(xA("0x25") == t.type && t.item == n_354); }), "elementEnd" == t_476.type && s[xA("0x26")](n_354) && !s[xA("0x14")](n_354)) {
                                        var n_355 = o[xA("0x27")][xA("0x28")](xA("0x29"), { class: xA("0x2a") }), r_83 = o.mapper[xA("0x2b")](t_476[xA("0x2c")]);
                                        e[xA("0x2d")][xA("0x2e")](i[xA("0x2f")]) && o[xA("0x27")].addClass(xA("0x30"), n_355), o[xA("0x27")][xA("0x31")](r_83, n_355), o.mapper[xA("0x32")](n_355, i[xA("0x2f")]);
                                    }
                                };
                                try {
                                    for (var r_82 = __values(r), r_82_1 = r_82.next(); !r_82_1.done; r_82_1 = r_82.next()) {
                                        var t_476 = r_82_1.value;
                                        _loop_16(t_476);
                                    }
                                }
                                catch (e_873_1) { e_873 = { error: e_873_1 }; }
                                finally {
                                    try {
                                        if (r_82_1 && !r_82_1.done && (_j = r_82.return)) _j.call(r_82);
                                    }
                                    finally { if (e_873) throw e_873.error; }
                                }
                            }, { priority: xA("0x33") }), t[xA("0x1b")].downcastDispatcher.on(xA("0x34"), function (t, e, n) {
                                var e_874, _j;
                                var i = n[xA("0x35")][xA("0x36")](e[xA("0x2f")]);
                                if (i)
                                    try {
                                        for (var i_224 = __values(i), i_224_1 = i_224.next(); !i_224_1.done; i_224_1 = i_224.next()) {
                                            var t_477 = i_224_1.value;
                                            t_477.hasClass(xA("0x2a")) && (n[xA("0x35")][xA("0x37")](t_477, e[xA("0x2f")]), n[xA("0x27")][xA("0x38")](t_477));
                                        }
                                    }
                                    catch (e_874_1) { e_874 = { error: e_874_1 }; }
                                    finally {
                                        try {
                                            if (i_224_1 && !i_224_1.done && (_j = i_224.return)) _j.call(i_224);
                                        }
                                        finally { if (e_874) throw e_874.error; }
                                    }
                            }, { priority: xA("0x33") }); };
                            return bA;
                        }(Sd));
                        var kA = ["plugins", "has", "UndoEditing", "enableCommand", "undo", "redo", "afterInit", "editor", "get"];
                        !function (t, e) { !function (e) { for (; --e;)
                            t.push(t.shift()); }(++e); }(kA, 375);
                        var wA = function (t, e) { return kA[t -= 0]; };
                        var vA = /** @class */ (function (_super) {
                            __extends(vA, _super);
                            function vA() {
                                return _super !== null && _super.apply(this, arguments) || this;
                            }
                            vA.prototype[wA("0x0")] = function () { var t = this[wA("0x1")], e = t.plugins[wA("0x2")]("TrackChangesEditing"); t[wA("0x3")][wA("0x4")](wA("0x5")) && (e[wA("0x6")](wA("0x7")), e[wA("0x6")](wA("0x8"))); };
                            return vA;
                        }(Sd));
                        var yA = ["requires", "init", "plugins", "get", "TrackChangesEditing", "enableCommand", "addCommentThread", "addComment", "updateComment", "removeComment"];
                        !function (t, e) { !function (e) { for (; --e;)
                            t.push(t.shift()); }(++e); }(yA, 340);
                        var _A = function (t, e) { return yA[t -= 0]; };
                        var CA = /** @class */ (function (_super) {
                            __extends(CA, _super);
                            function CA() {
                                return _super !== null && _super.apply(this, arguments) || this;
                            }
                            Object.defineProperty(CA, _A("0x0"), {
                                get: function () { return [iv]; },
                                enumerable: true,
                                configurable: true
                            });
                            CA.prototype[_A("0x1")] = function () { var t = this.editor[_A("0x2")][_A("0x3")](_A("0x4")); t[_A("0x5")](_A("0x6")), t[_A("0x5")]("removeCommentThread"), t[_A("0x5")](_A("0x7")), t[_A("0x5")](_A("0x8")), t[_A("0x5")](_A("0x9")); };
                            return CA;
                        }(Sd));
                        n(297);
                        var TA = ["alt", "getAttribute", "newValue", "config", "image.styles", "name", "title", "_descriptionFactory", "registerDescriptionCallback", "commandName", "Format", "set image style to ", "commandParams", "remove image text alternative", "editor", "plugins", "get", "TrackChangesEditing", "has", "ImageEditing", "imageInsert", "ImageUploadEditing", "enableCommand", "imageUpload", "ImageStyleEditing", "commands", "imageStyle", "document", "selection", "nodeAfter", "hasAttribute", "defaultStyle", "value", "model", "markBlockFormat", "ImageTextAlternativeEditing", "imageTextAlternative", "getFirstRange", "start"];
                        !function (t, e) { !function (e) { for (; --e;)
                            t.push(t.shift()); }(++e); }(TA, 365);
                        var AA = function (t, e) { return TA[t -= 0]; };
                        var SA = /** @class */ (function (_super) {
                            __extends(SA, _super);
                            function SA() {
                                return _super !== null && _super.apply(this, arguments) || this;
                            }
                            SA.prototype.afterInit = function () {
                                var e_875, _j;
                                var t = this[AA("0x0")], e = t[AA("0x1")][AA("0x2")](AA("0x3"));
                                if (!t[AA("0x1")][AA("0x4")](AA("0x5")))
                                    return;
                                e.enableCommand(AA("0x6")), t[AA("0x1")][AA("0x4")](AA("0x7")) && e[AA("0x8")](AA("0x9")), t[AA("0x1")][AA("0x4")](AA("0xa")) && e[AA("0x8")]("imageStyle", function (n, i) { var o = t[AA("0xb")][AA("0x2")](AA("0xc")), r = t.model[AA("0xd")][AA("0xe")].getFirstRange().start[AA("0xf")]; (r[AA("0x10")](AA("0xc")) ? r.getAttribute(AA("0xc")) : o[AA("0x11")]) != i[AA("0x12")] && t[AA("0x13")].change(function () { e[AA("0x14")](r, { commandName: AA("0xc"), commandParams: [i] }); }); }), t[AA("0x1")][AA("0x4")](AA("0x15")) && e.enableCommand(AA("0x16"), function (n, i) { var o = t[AA("0x13")].document[AA("0xe")][AA("0x17")]()[AA("0x18")][AA("0xf")]; (o[AA("0x10")](AA("0x19")) ? o[AA("0x1a")](AA("0x19")) : "") != i[AA("0x1b")] && t[AA("0x13")].change(function () { e[AA("0x14")](o, { commandName: AA("0x16"), commandParams: [i] }); }); });
                                var n = {}, i = Em(this[AA("0x0")][AA("0x1c")].get(AA("0x1d")));
                                try {
                                    for (var i_225 = __values(i), i_225_1 = i_225.next(); !i_225_1.done; i_225_1 = i_225.next()) {
                                        var t_478 = i_225_1.value;
                                        n[t_478[AA("0x1e")]] = t_478[AA("0x1f")].toLowerCase();
                                    }
                                }
                                catch (e_875_1) { e_875 = { error: e_875_1 }; }
                                finally {
                                    try {
                                        if (i_225_1 && !i_225_1.done && (_j = i_225.return)) _j.call(i_225);
                                    }
                                    finally { if (e_875) throw e_875.error; }
                                }
                                e[AA("0x20")][AA("0x21")](function (t) { var e = t.data; if (e) {
                                    if ("imageStyle" == e[AA("0x22")])
                                        return [{ label: AA("0x23"), description: AA("0x24") + n[e[AA("0x25")][0][AA("0x12")]] }];
                                    if ("imageTextAlternative" == e[AA("0x22")])
                                        return [{ label: AA("0x23"), description: "" != e[AA("0x25")][0].newValue ? 'set image text alternative to "' + e[AA("0x25")][0][AA("0x1b")] + '"' : AA("0x26") }];
                                } });
                            };
                            return SA;
                        }(Sd));
                        n(299);
                        var EA = ["nextSibling", "getChildren", "map", "createRangeOn", "markMultiRangeInsertion", "insertTableColumnLeft", "insertTableColumnRight", "parent", "getCellLocation", "cell", "removeTableColumn", "substr", "toLowerCase", "span", "min", "tableCell", "removeTableRow", "filter", "markMultiRangeDeletion", "subType", "getAttribute", "addRange", "setTableRowHeader", "headingRows", "index", "forceValue", "getChild", "createPositionAfter", "createRange", "createPositionBefore", "headingColumns", "isBefore", "markBlockFormat", "setTableColumnHeader", "mergeTableCellUp", "mergeTableCellRight", "mergeTableCellDown", "mergeTableCellLeft", "splitTableCellHorizontally", "commands", "horizontally", "direction", "downcastDispatcher", "addMarker:suggestion", "markerName", "getSuggestion", "data", "start", "nodeAfter", "stop", "consumable", "consume", "markerRange", "name", "getItems", "toViewElement", "addClass", "ck-suggestion-marker-", "mapper", "bindElementToMarker", "activeMarkers", "includes", "writer", "ck-suggestion-marker--active", "removeClass", "editing", "commandName", "end", "highest", "removeMarker:suggestion", "-cell", "unbindElementFromMarkerName", "_descriptionFactory", "registerDescriptionCallback", "insertion", "type", "Add", "Remove", "table row", "table column", "minRow", "maxColumn", "minColumn", "row", "column", "Format", "change to ", "commandParams", "table header", "regular ", "merge cell ", "_suggestionFactory", "registerCustomCallback", "formatBlock", "splitTableCellVertically", "split cell ", "max", "isInContent", "getFirstRange", "hasAttribute", "registerPostFixer", "insert", "position", "set:isEnabled", "value", "return", "createRangeIn", "rootName", "refresh", "push", "execute", "$graveyard", "root", "setSelection", "detach", "fromRange", "createBatch", "createPositionAt", "enqueueChange", "isEqual", "some", "accept", "discard", "deletion", "join", "TableUtils", "MAX_SAFE_INTEGER", "MIN_SAFE_INTEGER", "rowspan", "colspan", "getSuggestions", "getRanges", "containsRange", "author", "size", "afterInit", "editor", "plugins", "has", "TableEditing", "get", "TrackChangesEditing", "model", "document", "change:data", "from", "differ", "getChangedMarkers", "_splitMarkerName", "oldRange", "tableRow", "tableColumn", "add", "low", "enableCommand", "insertTable", "insertTableRowAbove", "change", "selection", "getFirstPosition", "getAncestors", "find", "previousSibling"];
                        !function (t, e) { !function (e) { for (; --e;)
                            t.push(t.shift()); }(++e); }(EA, 461);
                        var PA = function (t, e) { return EA[t -= 0]; };
                        var IA = /** @class */ (function (_super) {
                            __extends(IA, _super);
                            function IA() {
                                return _super !== null && _super.apply(this, arguments) || this;
                            }
                            IA.prototype[PA("0x0")] = function () {
                                var _this = this;
                                var e_876, _j, e_877, _q, e_878, _z, e_879, _0, e_880, _1, e_881, _2, e_882, _3, e_883, _4;
                                var t = this[PA("0x1")];
                                if (!t[PA("0x2")][PA("0x3")](PA("0x4")))
                                    return;
                                var e = t[PA("0x2")][PA("0x5")](PA("0x6")), n = t.plugins.get("TableUtils");
                                this.u = new Set, t[PA("0x7")][PA("0x8")].on(PA("0x9"), function () {
                                    var e_884, _j;
                                    var n = Array[PA("0xa")](t.model.document[PA("0xb")][PA("0xc")]());
                                    try {
                                        for (var n_356 = __values(n), n_356_1 = n_356.next(); !n_356_1.done; n_356_1 = n_356.next()) {
                                            var _q = n_356_1.value, t_479 = _q.name, i_226 = _q.data;
                                            var _z = e[PA("0xd")](t_479), n_357 = _z.group, o_144 = _z.id, r_84 = _z.subType;
                                            if ("suggestion" != n_357)
                                                continue;
                                            if (null != i_226[PA("0xe")])
                                                continue;
                                            var s_55 = e.getSuggestion(o_144);
                                            PA("0xf") != r_84 && PA("0x10") != r_84 || _this.u[PA("0x11")](s_55);
                                        }
                                    }
                                    catch (e_884_1) { e_884 = { error: e_884_1 }; }
                                    finally {
                                        try {
                                            if (n_356_1 && !n_356_1.done && (_j = n_356.return)) _j.call(n_356);
                                        }
                                        finally { if (e_884) throw e_884.error; }
                                    }
                                }, { priority: PA("0x12") }), e[PA("0x13")](PA("0x14"));
                                var _loop_17 = function (n_358) {
                                    e[PA("0x13")](n_358, function (i) { t[PA("0x7")][PA("0x16")](function (o) { i(); var r = t[PA("0x7")][PA("0x8")][PA("0x17")][PA("0x18")]()[PA("0x19")]()[PA("0x1a")](function (t) { return t.is(PA("0xf")); }), s = "insertTableRowAbove" == n_358 ? r[PA("0x1b")] : r[PA("0x1c")], a = Array[PA("0xa")](s[PA("0x1d")]())[PA("0x1e")](function (t) { return o[PA("0x1f")](t); }); e[PA("0x20")](a, PA("0xf")); }); });
                                };
                                try {
                                    for (var _5 = __values([PA("0x15"), "insertTableRowBelow"]), _6 = _5.next(); !_6.done; _6 = _5.next()) {
                                        var n_358 = _6.value;
                                        _loop_17(n_358);
                                    }
                                }
                                catch (e_876_1) { e_876 = { error: e_876_1 }; }
                                finally {
                                    try {
                                        if (_6 && !_6.done && (_j = _5.return)) _j.call(_5);
                                    }
                                    finally { if (e_876) throw e_876.error; }
                                }
                                var _loop_18 = function (i_227) {
                                    e[PA("0x13")](i_227, function (o) { t.model[PA("0x16")](function (r) { o(); var s = t[PA("0x7")][PA("0x8")].selection.getFirstPosition()[PA("0x19")]().find(function (t) { return t.is("tableCell"); }), a = s[PA("0x23")][PA("0x23")], c = n[PA("0x24")](s).column, l = new sx(a, { startRow: 0, column: PA("0x21") == i_227 ? c - 1 : c + 1, includeSpanned: !1 }), d = Array[PA("0xa")](l)[PA("0x1e")](function (t) { return r[PA("0x1f")](t[PA("0x25")]); }); e.markMultiRangeInsertion(d, PA("0x10")); }); });
                                };
                                try {
                                    for (var _7 = __values([PA("0x21"), PA("0x22")]), _8 = _7.next(); !_8.done; _8 = _7.next()) {
                                        var i_227 = _8.value;
                                        _loop_18(i_227);
                                    }
                                }
                                catch (e_877_1) { e_877 = { error: e_877_1 }; }
                                finally {
                                    try {
                                        if (_8 && !_8.done && (_q = _7.return)) _q.call(_7);
                                    }
                                    finally { if (e_877) throw e_877.error; }
                                }
                                var _loop_19 = function (i_228) {
                                    var o_145 = i_228[PA("0x27")](11), r_85 = o_145[PA("0x28")](), s_56 = r_85.substr(0, 3) + PA("0x29"), a_30 = "table" + o_145, c_23 = PA("0x2a") + o_145, l_13 = "max" + o_145;
                                    e[PA("0x13")](i_228, function () { t.model[PA("0x16")](function (o) {
                                        var e_885, _j;
                                        var d = t.model[PA("0x8")][PA("0x17")][PA("0x18")]().getAncestors().find(function (t) { return t.is(PA("0x2b")); });
                                        var u;
                                        if (PA("0x2c") == i_228) {
                                            var t_480 = n.getCellLocation(d).row;
                                            u = { startRow: t_480, endRow: t_480, includeSpanned: !0 };
                                        }
                                        else {
                                            var t_481 = n.getCellLocation(d).column;
                                            u = { startRow: 0, column: t_481, includeSpanned: !0 };
                                        }
                                        var h = new sx(d[PA("0x23")][PA("0x23")], u), f = Array[PA("0xa")](h), p = f.filter(function (t) { return t[PA("0x25")].hasAttribute(s_56); }), m = f[PA("0x2d")](function (t) { return !t[PA("0x25")].hasAttribute(s_56); })[PA("0x1e")](function (t) { return o[PA("0x1f")](t[PA("0x25")]); }), g = e[PA("0x2e")](m, a_30);
                                        if (g && ("tableRow" == g[PA("0x2f")] || PA("0x10") == g.subType)) {
                                            var t_482 = _this.T(g);
                                            try {
                                                for (var p_2 = __values(p), p_2_1 = p_2.next(); !p_2_1.done; p_2_1 = p_2.next()) {
                                                    var e_886 = p_2_1.value;
                                                    var i_229 = o[PA("0x1f")](e_886.cell), a_31 = n.getCellLocation(e_886[PA("0x25")]), d_8 = e_886[PA("0x25")][PA("0x30")](s_56) - 1, u_8 = t_482[c_23], h_2 = t_482[l_13];
                                                    u_8 <= a_31[r_85] && a_31[r_85] + d_8 <= h_2 && g[PA("0x31")](i_229);
                                                }
                                            }
                                            catch (e_885_1) { e_885 = { error: e_885_1 }; }
                                            finally {
                                                try {
                                                    if (p_2_1 && !p_2_1.done && (_j = p_2.return)) _j.call(p_2);
                                                }
                                                finally { if (e_885) throw e_885.error; }
                                            }
                                        }
                                    }); });
                                };
                                try {
                                    for (var _9 = __values(["removeTableRow", PA("0x26")]), _10 = _9.next(); !_10.done; _10 = _9.next()) {
                                        var i_228 = _10.value;
                                        _loop_19(i_228);
                                    }
                                }
                                catch (e_878_1) { e_878 = { error: e_878_1 }; }
                                finally {
                                    try {
                                        if (_10 && !_10.done && (_z = _9.return)) _z.call(_9);
                                    }
                                    finally { if (e_878) throw e_878.error; }
                                }
                                e[PA("0x13")](PA("0x32"), function (n, i) { var o = t[PA("0x7")].document[PA("0x17")][PA("0x18")]()[PA("0x19")]()[PA("0x1a")](function (t) { return t.is(PA("0xf")); }), r = o.parent, s = r[PA("0x30")](PA("0x33")) || 0, a = o[PA("0x34")], c = i && null !== i[PA("0x35")] ? i[PA("0x35")] : s <= a; var l; if (c) {
                                    var e_887 = r[PA("0x36")](s);
                                    if (o[PA("0x34")] < e_887[PA("0x34")])
                                        return;
                                    l = t.model.createRange(t.model.createPositionBefore(e_887.getChild(0)), t[PA("0x7")][PA("0x37")](o[PA("0x36")](o.childCount - 1)));
                                }
                                else {
                                    var e_888 = r[PA("0x36")](s - 1);
                                    if (!e_888)
                                        return;
                                    l = t[PA("0x7")][PA("0x38")](t.model[PA("0x39")](o[PA("0x36")](0)), t.model.createPositionAfter(e_888[PA("0x36")](e_888.childCount - 1)));
                                } t[PA("0x7")].change(function () { e.markBlockFormat(l, { commandName: PA("0x32"), commandParams: [{ forceValue: c }] }, [], PA("0x32")); }); }), e.enableCommand("setTableColumnHeader", function (i, o) { var r = t[PA("0x7")][PA("0x8")][PA("0x17")][PA("0x18")]()[PA("0x19")]()[PA("0x1a")](function (t) { return t.is(PA("0x2b")); }), s = r[PA("0x23")][PA("0x23")], a = s[PA("0x30")](PA("0x3a")) || 0, c = n[PA("0x24")](r).column, l = o && null !== o[PA("0x35")] ? o[PA("0x35")] : a <= c; var d; var u = s.getChild(0), h = new sx(s, { startRow: 0, column: c, includeSpanned: !1 }), f = Array[PA("0xa")](h)[0].cell; if (l) {
                                    var e_889 = u[PA("0x36")](a);
                                    if (f[PA("0x3b")](e_889))
                                        return;
                                    d = t[PA("0x7")][PA("0x38")](t.model[PA("0x39")](e_889), t[PA("0x7")][PA("0x37")](f));
                                }
                                else {
                                    var e_890 = u[PA("0x36")](a - 1);
                                    if (!e_890)
                                        return;
                                    d = t.model.createRange(t.model.createPositionBefore(f), t[PA("0x7")][PA("0x37")](e_890));
                                } t.model.change(function () { e[PA("0x3c")](d, { commandName: PA("0x3d"), commandParams: [{ forceValue: l }] }, [], "setTableColumnHeader"); }); });
                                var _loop_20 = function (n_359) {
                                    var i_230 = t.commands[PA("0x5")](n_359);
                                    e[PA("0x13")](n_359, function () { var o = t[PA("0x7")][PA("0x8")].selection.getFirstPosition()[PA("0x19")]()[PA("0x1a")](function (t) { return t.is(PA("0x2b")); }), r = i_230.value; t[PA("0x7")].change(function (t) { e[PA("0x3c")](t[PA("0x1f")](o), { commandName: n_359, commandParams: [] }, [r], n_359); }); });
                                };
                                try {
                                    for (var _11 = __values([PA("0x3e"), PA("0x3f"), PA("0x40"), PA("0x41")]), _12 = _11.next(); !_12.done; _12 = _11.next()) {
                                        var n_359 = _12.value;
                                        _loop_20(n_359);
                                    }
                                }
                                catch (e_879_1) { e_879 = { error: e_879_1 }; }
                                finally {
                                    try {
                                        if (_12 && !_12.done && (_0 = _11.return)) _0.call(_11);
                                    }
                                    finally { if (e_879) throw e_879.error; }
                                }
                                var _loop_21 = function (i_231) {
                                    var o_146 = t[PA("0x43")][PA("0x5")](i_231);
                                    e[PA("0x13")](i_231, function () { var r = t[PA("0x7")].document[PA("0x17")][PA("0x18")]()[PA("0x19")]()[PA("0x1a")](function (t) { return t.is(PA("0x2b")); }), s = r[PA("0x23")][PA("0x23")], _j = n[PA("0x24")](r), a = _j.column, c = _j.row; var l = []; if (PA("0x44") == o_146[PA("0x45")]) {
                                        var t_483 = new sx(s, { startRow: c, endRow: c, includeSpanned: !0 });
                                        l = Array[PA("0xa")](t_483)[PA("0x1e")](function (t) { return t[PA("0x25")]; });
                                    }
                                    else {
                                        var t_484 = new sx(s, { column: a, includeSpanned: !0 });
                                        l = Array[PA("0xa")](t_484)[PA("0x1e")](function (t) { return t.cell; });
                                    } t.model[PA("0x16")](function (t) { e[PA("0x3c")](t[PA("0x1f")](r), { commandName: i_231, commandParams: [] }, l, i_231); }); });
                                };
                                try {
                                    for (var _13 = __values(["splitTableCellVertically", PA("0x42")]), _14 = _13.next(); !_14.done; _14 = _13.next()) {
                                        var i_231 = _14.value;
                                        _loop_21(i_231);
                                    }
                                }
                                catch (e_880_1) { e_880 = { error: e_880_1 }; }
                                finally {
                                    try {
                                        if (_14 && !_14.done && (_1 = _13.return)) _1.call(_13);
                                    }
                                    finally { if (e_880) throw e_880.error; }
                                }
                                t.editing[PA("0x46")].on(PA("0x47"), function (t, n, i) {
                                    var e_891, _j;
                                    var _q = e[PA("0xd")](n[PA("0x48")]), o = _q.type, r = _q.subType, s = _q.id, a = e[PA("0x49")](s);
                                    if (a[PA("0x4a")] && PA("0x3d") == a[PA("0x4a")].commandName)
                                        return;
                                    var c = n.markerRange[PA("0x4b")][PA("0x4c")];
                                    if (!c || !c.is(PA("0xf")) && !c.is(PA("0x2b")))
                                        return;
                                    if (n.item)
                                        return void t[PA("0x4d")]();
                                    if (!i[PA("0x4e")][PA("0x4f")](n[PA("0x50")], t[PA("0x51")]))
                                        return;
                                    var l = Array[PA("0xa")](n[PA("0x50")][PA("0x52")]())[PA("0x2d")](function (t) { return t.is("tableCell"); });
                                    try {
                                        for (var l_14 = __values(l), l_14_1 = l_14.next(); !l_14_1.done; l_14_1 = l_14.next()) {
                                            var t_485 = l_14_1.value;
                                            var s_57 = i.mapper[PA("0x53")](t_485);
                                            "formatBlock" == o ? i.writer[PA("0x54")](PA("0x55") + o + "-cell", s_57) : i.writer[PA("0x54")](PA("0x55") + o + "-" + r, s_57), i[PA("0x56")][PA("0x57")](s_57, n[PA("0x48")]), e[PA("0x58")][PA("0x59")](n.markerName) ? i[PA("0x5a")].addClass(PA("0x5b"), s_57) : i[PA("0x5a")][PA("0x5c")](PA("0x5b"), s_57);
                                        }
                                    }
                                    catch (e_891_1) { e_891 = { error: e_891_1 }; }
                                    finally {
                                        try {
                                            if (l_14_1 && !l_14_1.done && (_j = l_14.return)) _j.call(l_14);
                                        }
                                        finally { if (e_891) throw e_891.error; }
                                    }
                                }, { priority: "highest" }), t[PA("0x5d")].downcastDispatcher.on(PA("0x47"), function (t, i, o) {
                                    var e_892, _j;
                                    var _q = e[PA("0xd")](i[PA("0x48")]), r = _q.type, s = _q.id, a = e[PA("0x49")](s);
                                    if (!a[PA("0x4a")] || PA("0x3d") != a.data[PA("0x5e")])
                                        return;
                                    if (i.item)
                                        return void t[PA("0x4d")]();
                                    if (!o[PA("0x4e")].consume(i[PA("0x50")], t.name))
                                        return;
                                    var c = i[PA("0x50")][PA("0x4b")][PA("0x4c")], l = i[PA("0x50")][PA("0x5f")].nodeBefore, d = c[PA("0x23")][PA("0x23")], u = n.getCellLocation(c).column, h = n[PA("0x24")](l).column;
                                    for (var t_486 = u; t_486 <= h; t_486++) {
                                        var n_361 = new sx(d, { column: t_486, includeSpanned: !1 });
                                        try {
                                            for (var n_360 = __values(n_361), n_360_1 = n_360.next(); !n_360_1.done; n_360_1 = n_360.next()) {
                                                var t_487 = n_360_1.value;
                                                var n_362 = t_487[PA("0x25")], s_58 = o[PA("0x56")][PA("0x53")](n_362);
                                                o[PA("0x5a")][PA("0x54")](PA("0x55") + r + "-cell", s_58), o[PA("0x56")][PA("0x57")](s_58, i[PA("0x48")]), e.activeMarkers.includes(i[PA("0x48")]) ? o[PA("0x5a")][PA("0x54")]("ck-suggestion-marker--active", s_58) : o.writer[PA("0x5c")](PA("0x5b"), s_58);
                                            }
                                        }
                                        catch (e_892_1) { e_892 = { error: e_892_1 }; }
                                        finally {
                                            try {
                                                if (n_360_1 && !n_360_1.done && (_j = n_360.return)) _j.call(n_360);
                                            }
                                            finally { if (e_892) throw e_892.error; }
                                        }
                                    }
                                }, { priority: PA("0x60") }), t[PA("0x5d")][PA("0x46")].on(PA("0x61"), function (t, n, i) {
                                    var e_893, _j;
                                    var _q = e[PA("0xd")](n[PA("0x48")]), o = _q.type, r = _q.subType, s = i[PA("0x56")].markerNameToElements(n[PA("0x48")]);
                                    if (s)
                                        try {
                                            for (var s_59 = __values(s), s_59_1 = s_59.next(); !s_59_1.done; s_59_1 = s_59.next()) {
                                                var t_488 = s_59_1.value;
                                                (t_488.is("td") || t_488.is("th")) && ("formatBlock" == o ? i.writer[PA("0x5c")](PA("0x55") + o + PA("0x62"), t_488) : i[PA("0x5a")][PA("0x5c")](PA("0x55") + o + "-" + r, t_488), i.writer.removeClass("ck-suggestion-marker--active", t_488), i[PA("0x56")][PA("0x63")](t_488, n[PA("0x48")]));
                                            }
                                        }
                                        catch (e_893_1) { e_893 = { error: e_893_1 }; }
                                        finally {
                                            try {
                                                if (s_59_1 && !s_59_1.done && (_j = s_59.return)) _j.call(s_59);
                                            }
                                            finally { if (e_893) throw e_893.error; }
                                        }
                                }, { priority: PA("0x60") }), e[PA("0x64")][PA("0x65")](function (t) { if (PA("0xf") == t[PA("0x2f")] || "tableColumn" == t[PA("0x2f")]) {
                                    var e_894 = PA("0x66") == t[PA("0x67")] ? PA("0x68") : PA("0x69"), n_363 = PA("0xf") == t[PA("0x2f")] ? PA("0x6a") : PA("0x6b"), i_232 = _this.T(t), o_147 = PA("0xf") == t.subType ? i_232.maxRow - i_232[PA("0x6c")] + 1 : i_232[PA("0x6d")] - i_232[PA("0x6e")] + 1;
                                    return [{ label: 1 == o_147 ? e_894 + " " + n_363 : e_894 + " " + o_147 + " " + n_363 + "s" }];
                                } }), e[PA("0x64")][PA("0x65")](function (t) { var e = t.data; if (e && (PA("0x32") == e.commandName || PA("0x3d") == e.commandName)) {
                                    var t_489 = "setTableRowHeader" == e.commandName ? PA("0x6f") : PA("0x70");
                                    return [{ label: PA("0x71"), description: PA("0x72") + (e[PA("0x73")][0][PA("0x35")] ? PA("0x74") : PA("0x75") + t_489) }];
                                } });
                                var _loop_22 = function (t_490) {
                                    e[PA("0x64")][PA("0x65")](function (e) { var n = e.data; if (n && n.commandName == t_490)
                                        return [{ label: "Format", description: PA("0x76") + t_490[PA("0x27")](14)[PA("0x28")]() }]; }), e[PA("0x77")][PA("0x78")](PA("0x79"), t_490, "accept", o);
                                };
                                try {
                                    for (var _15 = __values([PA("0x3e"), PA("0x3f"), PA("0x40"), "mergeTableCellLeft"]), _16 = _15.next(); !_16.done; _16 = _15.next()) {
                                        var t_490 = _16.value;
                                        _loop_22(t_490);
                                    }
                                }
                                catch (e_881_1) { e_881 = { error: e_881_1 }; }
                                finally {
                                    try {
                                        if (_16 && !_16.done && (_2 = _15.return)) _2.call(_15);
                                    }
                                    finally { if (e_881) throw e_881.error; }
                                }
                                var _loop_23 = function (t_491) {
                                    e[PA("0x64")][PA("0x65")](function (e) { var n = e.data; if (n && n.commandName == t_491)
                                        return [{ label: PA("0x71"), description: PA("0x7b") + t_491[PA("0x27")](14).toLowerCase() }]; }), e[PA("0x77")][PA("0x78")](PA("0x79"), t_491, "accept", o);
                                };
                                try {
                                    for (var _17 = __values([PA("0x7a"), PA("0x42")]), _18 = _17.next(); !_18.done; _18 = _17.next()) {
                                        var t_491 = _18.value;
                                        _loop_23(t_491);
                                    }
                                }
                                catch (e_882_1) { e_882 = { error: e_882_1 }; }
                                finally {
                                    try {
                                        if (_18 && !_18.done && (_3 = _17.return)) _3.call(_17);
                                    }
                                    finally { if (e_882) throw e_882.error; }
                                }
                                var i = function (t, e) {
                                    var e_895, _j;
                                    var i = e[PA("0x1f")](t), o = t[PA("0x23")][PA("0x23")], r = n.getCellLocation(t);
                                    try {
                                        for (var _q = __values(_this.u), _z = _q.next(); !_z.done; _z = _q.next()) {
                                            var e_896 = _z.value;
                                            var n_364 = e_896[PA("0x2f")][PA("0x27")](5), s_60 = n_364[PA("0x28")](), a_32 = s_60.substr(0, 3) + "span", c_24 = PA("0x2a") + n_364, l_15 = PA("0x7c") + n_364;
                                            if (!e_896[PA("0x7d")])
                                                continue;
                                            if (o != e_896[PA("0x7e")]().start[PA("0x23")][PA("0x23")])
                                                continue;
                                            if (e_896.isIntersectingWithRange(i))
                                                continue;
                                            var d_9 = t[PA("0x7f")](a_32) ? t[PA("0x30")](a_32) - 1 : 0, u_9 = _this.T(e_896), h_3 = u_9[c_24], f_2 = u_9[l_15];
                                            h_3 <= r[s_60] && r[s_60] + d_9 <= f_2 && e_896[PA("0x31")](i);
                                        }
                                    }
                                    catch (e_895_1) { e_895 = { error: e_895_1 }; }
                                    finally {
                                        try {
                                            if (_z && !_z.done && (_j = _q.return)) _j.call(_q);
                                        }
                                        finally { if (e_895) throw e_895.error; }
                                    }
                                };
                                t[PA("0x7")][PA("0x8")][PA("0x80")](function (e) {
                                    var e_897, _j, e_898, _q;
                                    try {
                                        for (var _z = __values(t.model.document[PA("0xb")].getChanges()), _0 = _z.next(); !_0.done; _0 = _z.next()) {
                                            var n_365 = _0.value;
                                            if (PA("0x81") == n_365[PA("0x67")])
                                                if ("tableRow" == n_365[PA("0x51")])
                                                    try {
                                                        for (var _1 = __values(n_365.position[PA("0x4c")][PA("0x1d")]()), _2 = _1.next(); !_2.done; _2 = _1.next()) {
                                                            var t_492 = _2.value;
                                                            i(t_492, e);
                                                        }
                                                    }
                                                    catch (e_898_1) { e_898 = { error: e_898_1 }; }
                                                    finally {
                                                        try {
                                                            if (_2 && !_2.done && (_q = _1.return)) _q.call(_1);
                                                        }
                                                        finally { if (e_898) throw e_898.error; }
                                                    }
                                                else
                                                    PA("0x2b") == n_365[PA("0x51")] && i(n_365[PA("0x82")].nodeAfter, e);
                                        }
                                    }
                                    catch (e_897_1) { e_897 = { error: e_897_1 }; }
                                    finally {
                                        try {
                                            if (_0 && !_0.done && (_j = _z.return)) _j.call(_z);
                                        }
                                        finally { if (e_897) throw e_897.error; }
                                    }
                                });
                                var _loop_24 = function (e_899) {
                                    var n_366 = t[PA("0x43")][PA("0x5")](e_899);
                                    n_366.on(PA("0x83"), function (e, i, o) { if (o) {
                                        var i_233 = t.model.document.selection[PA("0x18")]()[PA("0x19")]()[PA("0x1a")](function (t) { return t.is(PA("0x2b")); });
                                        _this.R(n_366[PA("0x84")], i_233) || (e[PA("0x85")] = !1, e.stop());
                                    } }, { priority: PA("0x12") });
                                };
                                try {
                                    for (var _19 = __values([PA("0x3e"), PA("0x40"), PA("0x41"), PA("0x3f")]), _20 = _19.next(); !_20.done; _20 = _19.next()) {
                                        var e_899 = _20.value;
                                        _loop_24(e_899);
                                    }
                                }
                                catch (e_883_1) { e_883 = { error: e_883_1 }; }
                                finally {
                                    try {
                                        if (_20 && !_20.done && (_4 = _19.return)) _4.call(_19);
                                    }
                                    finally { if (e_883) throw e_883.error; }
                                }
                                function o(e, n) { t[PA("0x7")][PA("0x16")](function (i) { var o = n.commandName, r = n.commandParams; var s = e[0][PA("0x5f")].nodeBefore; r && r[0] && !1 === r[0][PA("0x35")] && (s = e[0].start[PA("0x4c")]); var a = i[PA("0x86")](s); if ("$graveyard" == a.root[PA("0x87")])
                                    return; var c = aa.fromRange(t[PA("0x7")][PA("0x8")][PA("0x17")].getFirstRange()); i.setSelection(a), t.commands[PA("0x5")](o)[PA("0x88")](), r[PA("0x89")]({ forceDefaultExecution: !0 }), t[PA("0x8a")].apply(t, __spread([o], r)), PA("0x8b") != c[PA("0x8c")][PA("0x87")] && i[PA("0x8d")](c), c[PA("0x8e")](); }); }
                                function r(e) {
                                    var e_900, _j, e_901, _q, e_902, _z;
                                    var n = aa[PA("0x8f")](t.model[PA("0x8")][PA("0x17")][PA("0x7e")]()), i = [];
                                    try {
                                        for (var e_903 = __values(e), e_903_1 = e_903.next(); !e_903_1.done; e_903_1 = e_903.next()) {
                                            var t_493 = e_903_1.value;
                                            try {
                                                for (var _0 = __values(t_493[PA("0x52")]({ shallow: !0 })), _1 = _0.next(); !_1.done; _1 = _0.next()) {
                                                    var e_904 = _1.value;
                                                    i[PA("0x89")](e_904);
                                                }
                                            }
                                            catch (e_901_1) { e_901 = { error: e_901_1 }; }
                                            finally {
                                                try {
                                                    if (_1 && !_1.done && (_q = _0.return)) _q.call(_0);
                                                }
                                                finally { if (e_901) throw e_901.error; }
                                            }
                                        }
                                    }
                                    catch (e_900_1) { e_900 = { error: e_900_1 }; }
                                    finally {
                                        try {
                                            if (e_903_1 && !e_903_1.done && (_j = e_903.return)) _j.call(e_903);
                                        }
                                        finally { if (e_900) throw e_900.error; }
                                    }
                                    var o = new Set, r = t[PA("0x7")][PA("0x90")]();
                                    var _loop_25 = function (e_905) {
                                        var n_367 = e_905[PA("0x23")];
                                        o[PA("0x3")](n_367) || (o[PA("0x11")](n_367), t[PA("0x7")].enqueueChange(r, function (n) { n[PA("0x8d")](n[PA("0x91")](e_905, 0)), t[PA("0x43")].get("removeTableRow").refresh(), t[PA("0x8a")]("removeTableRow", { forceDefaultExecution: !0 }); }));
                                    };
                                    try {
                                        for (var i_234 = __values(i), i_234_1 = i_234.next(); !i_234_1.done; i_234_1 = i_234.next()) {
                                            var e_905 = i_234_1.value;
                                            _loop_25(e_905);
                                        }
                                    }
                                    catch (e_902_1) { e_902 = { error: e_902_1 }; }
                                    finally {
                                        try {
                                            if (i_234_1 && !i_234_1.done && (_z = i_234.return)) _z.call(i_234);
                                        }
                                        finally { if (e_902) throw e_902.error; }
                                    }
                                    t[PA("0x7")][PA("0x92")](r, function (t) { PA("0x8b") != n[PA("0x8c")][PA("0x87")] && t[PA("0x8d")](n), n[PA("0x8e")](); });
                                }
                                function s(e) { t[PA("0x7")][PA("0x16")](function (n) {
                                    var e_906, _j, e_907, _q, e_908, _z;
                                    var i = aa[PA("0x8f")](t[PA("0x7")][PA("0x8")].selection[PA("0x7e")]()), o = [];
                                    try {
                                        for (var e_909 = __values(e), e_909_1 = e_909.next(); !e_909_1.done; e_909_1 = e_909.next()) {
                                            var t_494 = e_909_1.value;
                                            try {
                                                for (var _0 = __values(t_494[PA("0x52")]({ shallow: !0 })), _1 = _0.next(); !_1.done; _1 = _0.next()) {
                                                    var e_910 = _1.value;
                                                    o.push(e_910);
                                                }
                                            }
                                            catch (e_907_1) { e_907 = { error: e_907_1 }; }
                                            finally {
                                                try {
                                                    if (_1 && !_1.done && (_q = _0.return)) _q.call(_0);
                                                }
                                                finally { if (e_907) throw e_907.error; }
                                            }
                                        }
                                    }
                                    catch (e_906_1) { e_906 = { error: e_906_1 }; }
                                    finally {
                                        try {
                                            if (e_909_1 && !e_909_1.done && (_j = e_909.return)) _j.call(e_909);
                                        }
                                        finally { if (e_906) throw e_906.error; }
                                    }
                                    try {
                                        for (var o_148 = __values(o), o_148_1 = o_148.next(); !o_148_1.done; o_148_1 = o_148.next()) {
                                            var e_911 = o_148_1.value;
                                            "$graveyard" != e_911[PA("0x8c")].rootName && (n[PA("0x8d")](n.createPositionAt(e_911, 0)), t[PA("0x43")].get(PA("0x26")).refresh(), t[PA("0x8a")]("removeTableColumn", { forceDefaultExecution: !0 }));
                                        }
                                    }
                                    catch (e_908_1) { e_908 = { error: e_908_1 }; }
                                    finally {
                                        try {
                                            if (o_148_1 && !o_148_1.done && (_z = o_148.return)) _z.call(o_148);
                                        }
                                        finally { if (e_908) throw e_908.error; }
                                    }
                                    PA("0x8b") != i.root[PA("0x87")] && n[PA("0x8d")](i), i.detach();
                                }); }
                                function a(t, e) { return e.every(function (e) { return t.some(function (t) { return t[PA("0x5f")][PA("0x93")](e[PA("0x4b")]) || e[PA("0x5f")][PA("0x93")](t.start); }); }); }
                                function c(t, e) { return t[PA("0x94")](function (t) { return e[PA("0x94")](function (e) { return t[PA("0x5f")].isTouching(e[PA("0x4b")]); }); }); }
                                e[PA("0x77")][PA("0x78")](PA("0x79"), "setTableRowHeader", PA("0x95"), o), e[PA("0x77")][PA("0x78")]("formatBlock", PA("0x3d"), "accept", o), e[PA("0x77")][PA("0x78")](PA("0x66"), PA("0xf"), PA("0x96"), r), e[PA("0x77")][PA("0x78")](PA("0x97"), PA("0xf"), PA("0x95"), r), e[PA("0x77")][PA("0x78")]("insertion", PA("0x10"), PA("0x96"), s), e._suggestionFactory[PA("0x78")]("deletion", PA("0x10"), "accept", s), e[PA("0x77")].registerCustomCallback("insertion", PA("0x10"), PA("0x98"), a), e._suggestionFactory.registerCustomCallback("deletion", "tableColumn", PA("0x98"), a), e[PA("0x77")][PA("0x78")](PA("0x66"), PA("0xf"), PA("0x98"), c), e[PA("0x77")][PA("0x78")]("deletion", PA("0xf"), "join", c);
                            };
                            IA.prototype.T = function (t) {
                                var e_912, _j;
                                var e = this[PA("0x1")][PA("0x2")][PA("0x5")](PA("0x99"));
                                var n = Number[PA("0x9a")], i = Number[PA("0x9b")], o = Number[PA("0x9a")], r = Number[PA("0x9b")];
                                try {
                                    for (var _q = __values(t.getRanges()), _z = _q.next(); !_z.done; _z = _q.next()) {
                                        var s_61 = _z.value;
                                        var t_495 = s_61[PA("0x4b")].nodeAfter, _0 = e[PA("0x24")](t_495), a_33 = _0.row, c_25 = _0.column, l_16 = t_495.hasAttribute(PA("0x9c")) ? t_495.getAttribute(PA("0x9c")) - 1 : 0, d_10 = t_495[PA("0x7f")](PA("0x9d")) ? t_495[PA("0x30")](PA("0x9d")) - 1 : 0;
                                        n = a_33 < n ? a_33 : n, i = a_33 + l_16 > i ? a_33 + l_16 : i, o = c_25 < o ? c_25 : o, r = c_25 + d_10 > r ? c_25 + d_10 : r;
                                    }
                                }
                                catch (e_912_1) { e_912 = { error: e_912_1 }; }
                                finally {
                                    try {
                                        if (_z && !_z.done && (_j = _q.return)) _j.call(_q);
                                    }
                                    finally { if (e_912) throw e_912.error; }
                                }
                                return { minRow: n, maxRow: i, minColumn: o, maxColumn: r };
                            };
                            IA.prototype.R = function (t, e) {
                                var e_913, _j, e_914, _q, e_915, _z;
                                var n = this[PA("0x1")][PA("0x2")].get(PA("0x6")), i = this[PA("0x1")].model[PA("0x1f")](t), o = this[PA("0x1")][PA("0x7")][PA("0x1f")](e), r = new Set, s = new Set;
                                try {
                                    for (var _0 = __values(n[PA("0x9e")]()), _1 = _0.next(); !_1.done; _1 = _0.next()) {
                                        var t_496 = _1.value;
                                        if (("insertion" == t_496[PA("0x67")] || "deletion" == t_496[PA("0x67")]) && t_496[PA("0x7d")])
                                            try {
                                                for (var _2 = __values(t_496[PA("0x9f")]()), _3 = _2.next(); !_3.done; _3 = _2.next()) {
                                                    var e_916 = _3.value;
                                                    e_916[PA("0xa0")](i, !0) && r[PA("0x11")](t_496[PA("0x67")] + ":" + t_496.author.id), e_916[PA("0xa0")](o, !0) && s.add(t_496[PA("0x67")] + ":" + t_496[PA("0xa1")].id);
                                                }
                                            }
                                            catch (e_914_1) { e_914 = { error: e_914_1 }; }
                                            finally {
                                                try {
                                                    if (_3 && !_3.done && (_q = _2.return)) _q.call(_2);
                                                }
                                                finally { if (e_914) throw e_914.error; }
                                            }
                                    }
                                }
                                catch (e_913_1) { e_913 = { error: e_913_1 }; }
                                finally {
                                    try {
                                        if (_1 && !_1.done && (_j = _0.return)) _j.call(_0);
                                    }
                                    finally { if (e_913) throw e_913.error; }
                                }
                                if (r.size != s[PA("0xa2")])
                                    return !1;
                                try {
                                    for (var r_86 = __values(r), r_86_1 = r_86.next(); !r_86_1.done; r_86_1 = r_86.next()) {
                                        var t_497 = r_86_1.value;
                                        if (!s[PA("0x3")](t_497))
                                            return !1;
                                    }
                                }
                                catch (e_915_1) { e_915 = { error: e_915_1 }; }
                                finally {
                                    try {
                                        if (r_86_1 && !r_86_1.done && (_z = r_86.return)) _z.call(r_86);
                                    }
                                    finally { if (e_915) throw e_915.error; }
                                }
                                return !0;
                            };
                            return IA;
                        }(Sd));
                        n(301);
                        var NA = ["get", "TrackChangesEditing", "enableCommand", "mediaEmbed", "editor", "MediaEmbedEditing"];
                        !function (t, e) { !function (e) { for (; --e;)
                            t.push(t.shift()); }(++e); }(NA, 214);
                        var MA = function (t, e) { return NA[t -= 0]; };
                        var OA = /** @class */ (function (_super) {
                            __extends(OA, _super);
                            function OA() {
                                return _super !== null && _super.apply(this, arguments) || this;
                            }
                            OA.prototype.afterInit = function () { var t = this[MA("0x0")]; t.plugins.has(MA("0x1")) && t.plugins[MA("0x2")](MA("0x3"))[MA("0x4")](MA("0x5")); };
                            return OA;
                        }(Sd));
                        var RA = ["getAttribute", "listIndent", "getItems", "push", "createRangeOn", "listItem"];
                        !function (t, e) { !function (e) { for (; --e;)
                            t.push(t.shift()); }(++e); }(RA, 248);
                        var DA = function (t, e) { return RA[t -= 0]; };
                        function jA(t, e, n) {
                            var e_917, _j;
                            var i = [];
                            try {
                                for (var _q = __values(e[DA("0x0")]()), _z = _q.next(); !_z.done; _z = _q.next()) {
                                    var o_149 = _z.value;
                                    o_149.hasAttribute(t) && i[DA("0x1")](n[DA("0x2")](o_149));
                                }
                            }
                            catch (e_917_1) { e_917 = { error: e_917_1 }; }
                            finally {
                                try {
                                    if (_z && !_z.done && (_j = _q.return)) _j.call(_q);
                                }
                                finally { if (e_917) throw e_917.error; }
                            }
                            return i;
                        }
                        function BA(t) { var e = []; if (t.is(DA("0x3"))) {
                            var n_368 = t.nextSibling;
                            for (; n_368 && n_368.is(DA("0x3")) && n_368[DA("0x4")](DA("0x5")) > 0;)
                                e[DA("0x1")](n_368), n_368 = n_368.nextSibling;
                        } return e; }
                        var LA = ["markInlineFormat", "_descriptionFactory", "registerDescriptionCallback", "commandParams", "add", "remove", "commandName", "BoldEditing", "ItalicEditing", "UnderlineEditing", "CodeEditing", "StrikethroughEditing", "SubscriptEditing", "SuperscriptEditing", "editor", "get", "TrackChangesEditing", "plugins", "has", "toLowerCase", "forceValue", "value", "model", "document", "getFirstRange", "isCollapsed", "change"];
                        !function (t, e) { !function (e) { for (; --e;)
                            t.push(t.shift()); }(++e); }(LA, 358);
                        var VA = function (t, e) { return LA[t -= 0]; };
                        var FA = [VA("0x0"), VA("0x1"), VA("0x2"), VA("0x3"), VA("0x4"), VA("0x5"), VA("0x6")];
                        var zA = /** @class */ (function (_super) {
                            __extends(zA, _super);
                            function zA() {
                                return _super !== null && _super.apply(this, arguments) || this;
                            }
                            zA.prototype.afterInit = function () {
                                var e_918, _j;
                                var t = this[VA("0x7")], e = t.plugins[VA("0x8")](VA("0x9"));
                                var _loop_26 = function (n_369) {
                                    if (!t[VA("0xa")][VA("0xb")](n_369))
                                        return "continue";
                                    var i_235 = n_369.slice(0, -7)[VA("0xc")](), o_150 = t.commands[VA("0x8")](i_235);
                                    e.enableCommand(i_235, function (n, r) {
                                        if (r === void 0) { r = {}; }
                                        var s = void 0 !== r.forceValue ? r[VA("0xd")] : !o_150[VA("0xe")], a = t[VA("0xf")][VA("0x10")].selection[VA("0x11")]();
                                        a[VA("0x12")] ? n(r) : t[VA("0xf")][VA("0x13")](function () {
                                            var e_919, _j;
                                            var n = s ? [a] : jA(i_235, a, t[VA("0xf")]);
                                            try {
                                                for (var n_370 = __values(n), n_370_1 = n_370.next(); !n_370_1.done; n_370_1 = n_370.next()) {
                                                    var t_498 = n_370_1.value;
                                                    e[VA("0x14")](t_498, { commandName: i_235, commandParams: [{ forceValue: s }] });
                                                }
                                            }
                                            catch (e_919_1) { e_919 = { error: e_919_1 }; }
                                            finally {
                                                try {
                                                    if (n_370_1 && !n_370_1.done && (_j = n_370.return)) _j.call(n_370);
                                                }
                                                finally { if (e_919) throw e_919.error; }
                                            }
                                        });
                                    }), e[VA("0x15")][VA("0x16")](function (t) { var e = t.data; if (e && e.commandName == i_235)
                                        return [{ label: "Format", description: (e[VA("0x17")][0][VA("0xd")] ? VA("0x18") : VA("0x19")) + " " + e[VA("0x1a")] }]; });
                                };
                                try {
                                    for (var FA_1 = __values(FA), FA_1_1 = FA_1.next(); !FA_1_1.done; FA_1_1 = FA_1.next()) {
                                        var n_369 = FA_1_1.value;
                                        _loop_26(n_369);
                                    }
                                }
                                catch (e_918_1) { e_918 = { error: e_918_1 }; }
                                finally {
                                    try {
                                        if (FA_1_1 && !FA_1_1.done && (_j = FA_1.return)) _j.call(FA_1);
                                    }
                                    finally { if (e_918) throw e_918.error; }
                                }
                            };
                            return zA;
                        }(Sd));
                        var UA = ["commandName", "Format", "change to ", "afterInit", "HeadingEditing", "get", "TrackChangesEditing", "enableCommand", "value", "from", "editor", "selection", "filter", "parent", "isObject", "model", "markBlockFormat", "heading", "blockName", "config", "heading.options", "paragraph", "_descriptionFactory", "registerElementLabel", "title", "toLowerCase", "formatBlock"];
                        !function (t, e) { !function (e) { for (; --e;)
                            t.push(t.shift()); }(++e); }(UA, 462);
                        var HA = function (t, e) { return UA[t -= 0]; };
                        var qA = /** @class */ (function (_super) {
                            __extends(qA, _super);
                            function qA() {
                                return _super !== null && _super.apply(this, arguments) || this;
                            }
                            qA.prototype[HA("0x0")] = function () {
                                var _this = this;
                                var e_920, _j;
                                var t = this.editor;
                                if (!t.plugins.has(HA("0x1")))
                                    return;
                                var e = t.plugins[HA("0x2")](HA("0x3"));
                                e[HA("0x4")]("heading", function (n, i) { var o = i[HA("0x5")], r = Array[HA("0x6")](_this[HA("0x7")].model.document[HA("0x8")].getSelectedBlocks())[HA("0x9")](function (t) { return (function (t, e, n) { return n.checkChild(t[HA("0xa")], e) && !n[HA("0xb")](t) && t.name != e; })(t, o, _this[HA("0x7")].model.schema); }); t[HA("0xc")].change(function () {
                                    var e_921, _j;
                                    try {
                                        for (var r_87 = __values(r), r_87_1 = r_87.next(); !r_87_1.done; r_87_1 = r_87.next()) {
                                            var t_499 = r_87_1.value;
                                            e[HA("0xd")](t_499, { commandName: HA("0xe"), commandParams: [i], formatGroupId: HA("0xf") }, BA(t_499));
                                        }
                                    }
                                    catch (e_921_1) { e_921 = { error: e_921_1 }; }
                                    finally {
                                        try {
                                            if (r_87_1 && !r_87_1.done && (_j = r_87.return)) _j.call(r_87);
                                        }
                                        finally { if (e_921) throw e_921.error; }
                                    }
                                }); });
                                try {
                                    for (var _q = __values(t[HA("0x10")][HA("0x2")](HA("0x11"))), _z = _q.next(); !_z.done; _z = _q.next()) {
                                        var n_371 = _z.value;
                                        HA("0x12") != n_371[HA("0xc")] && e[HA("0x13")][HA("0x14")](n_371[HA("0xc")], n_371[HA("0x15")][HA("0x16")]());
                                    }
                                }
                                catch (e_920_1) { e_920 = { error: e_920_1 }; }
                                finally {
                                    try {
                                        if (_z && !_z.done && (_j = _q.return)) _j.call(_q);
                                    }
                                    finally { if (e_920) throw e_920.error; }
                                }
                                e._descriptionFactory.registerDescriptionCallback(function (t) { var n = t.type, i = t.data; if (HA("0x17") == n && "heading" == i[HA("0x18")]) {
                                    var t_500 = i.commandParams[0][HA("0x5")];
                                    return [{ label: HA("0x19"), description: HA("0x1a") + e[HA("0x13")].getItemLabel(t_500) }];
                                } });
                            };
                            return qA;
                        }(Sd));
                        var YA = ["document", "linkHref", "getFirstRange", "_descriptionFactory", "commandName", "Format", 'set link to "', "commandParams", "remove link", "afterInit", "editor", "plugins", "has", "LinkEditing", "get", "TrackChangesEditing", "enableCommand", "link", "model", "selection", "isCollapsed", "getFirstPosition", "getAttribute", "getRanges", "change", "markInlineFormat", "unlink"];
                        !function (t, e) { !function (e) { for (; --e;)
                            t.push(t.shift()); }(++e); }(YA, 225);
                        var WA = function (t, e) { return YA[t -= 0]; };
                        var JA = /** @class */ (function (_super) {
                            __extends(JA, _super);
                            function JA() {
                                return _super !== null && _super.apply(this, arguments) || this;
                            }
                            JA.prototype[WA("0x0")] = function () {
                                var _this = this;
                                var t = this[WA("0x1")];
                                if (!t[WA("0x2")][WA("0x3")](WA("0x4")))
                                    return;
                                var e = t[WA("0x2")][WA("0x5")](WA("0x6"));
                                e[WA("0x7")](WA("0x8"), function (n, i) { var o = t[WA("0x9")].document[WA("0xa")]; var r = []; if (o[WA("0xb")]) {
                                    if (!o.hasAttribute("linkHref"))
                                        return void n(i);
                                    r = [Lh(o[WA("0xc")](), o[WA("0xd")]("linkHref"), t[WA("0x9")])];
                                }
                                else
                                    r = o[WA("0xe")](); t[WA("0x9")][WA("0xf")](function () {
                                    var e_922, _j;
                                    try {
                                        for (var r_88 = __values(r), r_88_1 = r_88.next(); !r_88_1.done; r_88_1 = r_88.next()) {
                                            var t_501 = r_88_1.value;
                                            e[WA("0x10")](t_501, { commandName: "link", commandParams: [i] });
                                        }
                                    }
                                    catch (e_922_1) { e_922 = { error: e_922_1 }; }
                                    finally {
                                        try {
                                            if (r_88_1 && !r_88_1.done && (_j = r_88.return)) _j.call(r_88);
                                        }
                                        finally { if (e_922) throw e_922.error; }
                                    }
                                }); }), e[WA("0x7")](WA("0x11"), function () { var n = _this[WA("0x1")].model, i = n[WA("0x12")][WA("0xa")]; n.change(function () {
                                    var e_923, _j;
                                    var n = [];
                                    n = i[WA("0xb")] ? [Lh(i[WA("0xc")](), i[WA("0xd")](WA("0x13")), t.model)] : jA(WA("0x13"), i[WA("0x14")](), t[WA("0x9")]);
                                    try {
                                        for (var n_372 = __values(n), n_372_1 = n_372.next(); !n_372_1.done; n_372_1 = n_372.next()) {
                                            var t_502 = n_372_1.value;
                                            e.markInlineFormat(t_502, { commandName: WA("0x11"), commandParams: [] });
                                        }
                                    }
                                    catch (e_923_1) { e_923 = { error: e_923_1 }; }
                                    finally {
                                        try {
                                            if (n_372_1 && !n_372_1.done && (_j = n_372.return)) _j.call(n_372);
                                        }
                                        finally { if (e_923) throw e_923.error; }
                                    }
                                }); }), e[WA("0x15")].registerDescriptionCallback(function (t) { var e = t.data; if (e)
                                    return WA("0x8") == e[WA("0x16")] ? [{ label: WA("0x17"), description: WA("0x18") + (e[WA("0x19")][0] || "#") + '"' }] : WA("0x11") == e[WA("0x16")] ? [{ label: WA("0x17"), description: WA("0x1a") }] : void 0; });
                            };
                            return JA;
                        }(Sd));
                        var $A = ["afterInit", "editor", "has", "Paragraph", "plugins", "get", "TrackChangesEditing", "enableCommand", "model", "document", "selection", "from", "filter", "checkChild", "parent", "paragraph", "isObject", "name", "change", "_descriptionFactory", "registerDescriptionCallback", "commandName", "Format"];
                        !function (t, e) { !function (e) { for (; --e;)
                            t.push(t.shift()); }(++e); }($A, 299);
                        var GA = function (t, e) { return $A[t -= 0]; };
                        var KA = /** @class */ (function (_super) {
                            __extends(KA, _super);
                            function KA() {
                                return _super !== null && _super.apply(this, arguments) || this;
                            }
                            KA.prototype[GA("0x0")] = function () {
                                var _this = this;
                                var t = this[GA("0x1")];
                                if (!t.plugins[GA("0x2")](GA("0x3")))
                                    return;
                                var e = t[GA("0x4")][GA("0x5")](GA("0x6"));
                                e[GA("0x7")]("paragraph", function (n, i) {
                                    if (i === void 0) { i = {}; }
                                    var o = t[GA("0x8")][GA("0x9")], r = i[GA("0xa")] || o[GA("0xa")], s = Array[GA("0xb")](r.getSelectedBlocks())[GA("0xc")](function (t) { return (function (t, e) { return e[GA("0xd")](t[GA("0xe")], GA("0xf")) && !e[GA("0x10")](t) && GA("0xf") != t[GA("0x11")]; })(t, _this[GA("0x1")].model.schema); });
                                    t[GA("0x8")][GA("0x12")](function () {
                                        var e_924, _j;
                                        try {
                                            for (var s_62 = __values(s), s_62_1 = s_62.next(); !s_62_1.done; s_62_1 = s_62.next()) {
                                                var t_503 = s_62_1.value;
                                                e.markBlockFormat(t_503, { commandName: GA("0xf"), commandParams: [], formatGroupId: "blockName" }, BA(t_503));
                                            }
                                        }
                                        catch (e_924_1) { e_924 = { error: e_924_1 }; }
                                        finally {
                                            try {
                                                if (s_62_1 && !s_62_1.done && (_j = s_62.return)) _j.call(s_62);
                                            }
                                            finally { if (e_924) throw e_924.error; }
                                        }
                                    });
                                }), e[GA("0x13")][GA("0x14")](function (t) { var e = t.data; if (e && GA("0xf") == e[GA("0x15")])
                                    return [{ label: GA("0x16"), description: "change to paragraph" }]; });
                            };
                            return KA;
                        }(Sd));
                        var QA = ["TrackChangesEditing", "blockQuote", "enableCommand", "model", "selection", "forceValue", "value", "from", "getSelectedBlocks", "filter", "checkChild", "parent", "schema", "createPositionBefore", "nextSibling", "push", "createRange", "isObject", "createPositionAfter", "createPositionAt", "end", "change", "markBlockFormat", "_descriptionFactory", "block quote", "commandName", "Format", "commandParams", "add", "remove", " block quote", "length", "before", "afterInit", "editor", "plugins", "BlockQuoteEditing", "get"];
                        !function (t, e) { !function (e) { for (; --e;)
                            t.push(t.shift()); }(++e); }(QA, 299);
                        var ZA = function (t, e) { return QA[t -= 0]; };
                        var XA = /** @class */ (function (_super) {
                            __extends(XA, _super);
                            function XA() {
                                return _super !== null && _super.apply(this, arguments) || this;
                            }
                            XA.prototype[ZA("0x0")] = function () {
                                var _this = this;
                                var t = this[ZA("0x1")];
                                if (!t[ZA("0x2")].has(ZA("0x3")))
                                    return;
                                var e = t[ZA("0x2")][ZA("0x4")](ZA("0x5")), n = this[ZA("0x1")].commands[ZA("0x4")](ZA("0x6"));
                                e[ZA("0x7")]("blockQuote", function (i, o) {
                                    if (o === void 0) { o = {}; }
                                    var r = _this[ZA("0x1")][ZA("0x8")].document[ZA("0x9")], s = o && void 0 !== o[ZA("0xa")] ? o.forceValue : !n[ZA("0xb")];
                                    var a = [];
                                    if (s) {
                                        var e_925 = Array[ZA("0xc")](r[ZA("0xd")]())[ZA("0xe")](function (t) { return tS(t) || function (t, e) { var n = e[ZA("0xf")](t[ZA("0x10")], "blockQuote"), i = e[ZA("0xf")](["$root", ZA("0x6")], t); return n && i; }(t, _this[ZA("0x1")][ZA("0x8")][ZA("0x11")]); });
                                        a = [function (t, e) { var n = e[ZA("0x11")], i = t[t[ZA("0x24")] - 1], o = e[ZA("0x18")](t[0], ZA("0x25")), r = n[ZA("0x16")](i) ? e[ZA("0x17")](i) : e[ZA("0x18")](i, "end"); return e[ZA("0x15")](o, r); }(e_925, t[ZA("0x8")])];
                                    }
                                    else {
                                        var e_926 = Array.from(r[ZA("0xd")]())[ZA("0xe")](function (t) { return tS(t); });
                                        a = function (t, e) { var n, i = 0; var o = [], r = e[ZA("0x11")]; for (; i < t.length;) {
                                            var s_63 = t[i], a_34 = t[i + 1];
                                            n || (n = e[ZA("0x12")](s_63)), a_34 && s_63[ZA("0x13")] == a_34 || (o[ZA("0x14")](e[ZA("0x15")](n, r[ZA("0x16")](s_63) ? e[ZA("0x17")](s_63) : e[ZA("0x18")](s_63, ZA("0x19")))), n = null), i++;
                                        } return o; }(e_926, t.model);
                                    }
                                    t[ZA("0x8")][ZA("0x1a")](function () {
                                        var e_927, _j;
                                        try {
                                            for (var a_35 = __values(a), a_35_1 = a_35.next(); !a_35_1.done; a_35_1 = a_35.next()) {
                                                var t_504 = a_35_1.value;
                                                e[ZA("0x1b")](t_504, { commandName: ZA("0x6"), commandParams: [{ forceValue: s }] });
                                            }
                                        }
                                        catch (e_927_1) { e_927 = { error: e_927_1 }; }
                                        finally {
                                            try {
                                                if (a_35_1 && !a_35_1.done && (_j = a_35.return)) _j.call(a_35);
                                            }
                                            finally { if (e_927) throw e_927.error; }
                                        }
                                    });
                                }), e[ZA("0x1c")].registerElementLabel(ZA("0x6"), ZA("0x1d")), e._descriptionFactory.registerDescriptionCallback(function (t) { var e = t.data; if (e && ZA("0x6") == e[ZA("0x1e")])
                                    return [{ label: ZA("0x1f"), description: (e[ZA("0x20")][0][ZA("0xa")] ? ZA("0x21") : ZA("0x22")) + ZA("0x23") }]; });
                            };
                            return XA;
                        }(Sd));
                        function tS(t) { return ZA("0x6") == t[ZA("0x10")].name; }
                        var eS = ["todoList", "indentList", "outdentList", "todoListCheck", "_selectedElements", "todoListChecked", "value", "_descriptionFactory", "list item", "commandName", "getFirstRange", "to-do", "replace", "Format", "start", "nodeAfter", "change list to ", " list", "change to ", " list item", "indent list item", "commandParams", "forceValue", "uncheck", "previousSibling", "push", "editor", "plugins", "has", "ListEditing", "get", "TrackChangesEditing", "TodoListEditing", "selection", "commands", "from", "filter", "checkChild", "parent", "isObject", "getAttribute", "listType", "listItem", "add", "schema", "model", "findIndex", "name", "document", "getSelectedBlocks", "createRange", "createPositionAt", "before", "length", "end", "change", "markBlockFormat", "listIndent", "nextSibling", "enableCommand", "numberedList"];
                        !function (t, e) { !function (e) { for (; --e;)
                            t.push(t.shift()); }(++e); }(eS, 331);
                        var nS = function (t, e) { return eS[t -= 0]; };
                        var iS = /** @class */ (function (_super) {
                            __extends(iS, _super);
                            function iS() {
                                return _super !== null && _super.apply(this, arguments) || this;
                            }
                            iS.prototype.afterInit = function () { var t = this[nS("0x0")]; if (!t[nS("0x1")][nS("0x2")](nS("0x3")))
                                return; var e = t[nS("0x1")][nS("0x4")](nS("0x5")), n = t.plugins.has(nS("0x6")); function i(n) { return function () { var i = t.model.document[nS("0x7")]; if (t[nS("0x8")][nS("0x4")](n).value)
                                return void t.execute("paragraph", {}); var o = n.slice(0, -4), r = function (t, e, n) {
                                var e_928, _j;
                                var i = Array[nS("0x9")](t)[nS("0xa")](function (t) { return (function (t, e) { return e[nS("0xb")](t[nS("0xc")], "listItem") && !e[nS("0xd")](t); })(t, n); });
                                i = i[nS("0xa")](function (t) { return !t.is("listItem") || t[nS("0xe")](nS("0xf")) != e; });
                                var o = new Set;
                                try {
                                    for (var i_236 = __values(i), i_236_1 = i_236.next(); !i_236_1.done; i_236_1 = i_236.next()) {
                                        var t_505 = i_236_1.value;
                                        t_505.is(nS("0x10")) ? o[nS("0x11")](oS(t_505)) : o[nS("0x11")](t_505);
                                    }
                                }
                                catch (e_928_1) { e_928 = { error: e_928_1 }; }
                                finally {
                                    try {
                                        if (i_236_1 && !i_236_1.done && (_j = i_236.return)) _j.call(i_236);
                                    }
                                    finally { if (e_928) throw e_928.error; }
                                }
                                return Array.from(o);
                            }(i.getSelectedBlocks(), o, t.model[nS("0x12")]); t[nS("0x13")].change(function () {
                                var e_929, _j;
                                try {
                                    for (var r_89 = __values(r), r_89_1 = r_89.next(); !r_89_1.done; r_89_1 = r_89.next()) {
                                        var t_506 = r_89_1.value;
                                        e.markBlockFormat(t_506, { commandName: n, commandParams: [], formatGroupId: "blockName" }, rS(t_506));
                                    }
                                }
                                catch (e_929_1) { e_929 = { error: e_929_1 }; }
                                finally {
                                    try {
                                        if (r_89_1 && !r_89_1.done && (_j = r_89.return)) _j.call(r_89);
                                    }
                                    finally { if (e_929) throw e_929.error; }
                                }
                            }); }; } function o(n) { return function () { var i = function (t) { var e = (t = Array[nS("0x9")](t))[nS("0x14")](function (t) { return nS("0x10") != t[nS("0x15")]; }); return e > -1 && (t = t.slice(0, e)), t; }(t[nS("0x13")][nS("0x16")].selection[nS("0x17")]()), o = t[nS("0x13")][nS("0x18")](t[nS("0x13")][nS("0x19")](i[0], nS("0x1a")), t[nS("0x13")][nS("0x19")](i[i[nS("0x1b")] - 1], nS("0x1c"))); t.model[nS("0x1d")](function () { e[nS("0x1e")](o, { commandName: n, commandParams: [], formatGroupId: "listIndent" }, function (t) {
                                var e_930, _j;
                                var e = new Set;
                                try {
                                    for (var t_507 = __values(t), t_507_1 = t_507.next(); !t_507_1.done; t_507_1 = t_507.next()) {
                                        var n_373 = t_507_1.value;
                                        var t_508 = n_373.nextSibling;
                                        for (; t_508 && t_508.getAttribute(nS("0x1f")) > n_373[nS("0xe")](nS("0x1f"));)
                                            e[nS("0x11")](t_508), t_508 = t_508[nS("0x20")];
                                    }
                                }
                                catch (e_930_1) { e_930 = { error: e_930_1 }; }
                                finally {
                                    try {
                                        if (t_507_1 && !t_507_1.done && (_j = t_507.return)) _j.call(t_507);
                                    }
                                    finally { if (e_930) throw e_930.error; }
                                }
                                return Array[nS("0x9")](e);
                            }(i)); }); }; } e[nS("0x21")](nS("0x22"), i(nS("0x22"))), e.enableCommand("bulletedList", i("bulletedList")), n && e.enableCommand(nS("0x23"), i(nS("0x23"))), e[nS("0x21")](nS("0x24"), o(nS("0x24"))), e[nS("0x21")]("outdentList", o(nS("0x25"))), n && e[nS("0x21")](nS("0x26"), function () { var n = t[nS("0x8")].get("todoListCheck"), i = Array[nS("0x9")](n[nS("0x27")]); i[nS("0xa")](function (t) { return t[nS("0xe")](nS("0x28")) != n[nS("0x29")]; }), t[nS("0x13")][nS("0x1d")](function () {
                                var e_931, _j;
                                try {
                                    for (var i_237 = __values(i), i_237_1 = i_237.next(); !i_237_1.done; i_237_1 = i_237.next()) {
                                        var t_509 = i_237_1.value;
                                        e[nS("0x1e")](t_509, { commandName: nS("0x26"), commandParams: [{ forceValue: !n.value }] });
                                    }
                                }
                                catch (e_931_1) { e_931 = { error: e_931_1 }; }
                                finally {
                                    try {
                                        if (i_237_1 && !i_237_1.done && (_j = i_237.return)) _j.call(i_237);
                                    }
                                    finally { if (e_931) throw e_931.error; }
                                }
                            }); }), e[nS("0x2a")].registerElementLabel(nS("0x10"), nS("0x2b")), e[nS("0x2a")].registerDescriptionCallback(function (t) { var e = t.data; if (e) {
                                if (nS("0x22") == e[nS("0x2c")] || "bulletedList" == e[nS("0x2c")] || nS("0x23") == e.commandName) {
                                    var n_374 = t[nS("0x2d")](), i_238 = nS("0x23") == e[nS("0x2c")] ? nS("0x2e") : e.commandName[nS("0x2f")]("List", "");
                                    var o_151;
                                    return [{ label: nS("0x30"), description: o_151 = nS("0x10") == n_374[nS("0x31")][nS("0x32")][nS("0x15")] ? nS("0x33") + i_238 + nS("0x34") : nS("0x35") + i_238 + nS("0x36") }];
                                }
                                if ("indentList" == e[nS("0x2c")] || nS("0x25") == e[nS("0x2c")])
                                    return [{ label: nS("0x30"), description: nS("0x24") == e[nS("0x2c")] ? nS("0x37") : "outdent list item" }];
                                if (nS("0x26") == e[nS("0x2c")])
                                    return [{ label: nS("0x30"), description: (e[nS("0x38")][0][nS("0x39")] ? "check" : nS("0x3a")) + " to-do list item" }];
                            } }); };
                            return iS;
                        }(Sd));
                        function oS(t) { var e = t[nS("0xe")](nS("0x1f")); if (0 == e)
                            return t; var n = t; for (; t[nS("0x3b")] && t[nS("0x3b")].is("listItem");) {
                            var i_239 = t[nS("0x3b")][nS("0xe")](nS("0x1f"));
                            if (i_239 == e)
                                n = t[nS("0x3b")];
                            else if (i_239 < e)
                                break;
                            t = t.previousSibling;
                        } return n; }
                        function rS(t) { var e = []; if (t.is("listItem") && t.getAttribute(nS("0x1f")) > 0) {
                            var n_375 = t.nextSibling;
                            for (; n_375 && nS("0x10") == n_375[nS("0x15")] && n_375[nS("0xe")](nS("0x1f")) == t.getAttribute("listIndent");)
                                e[nS("0x3c")](n_375), n_375 = n_375[nS("0x20")];
                        } return e; }
                        var sS = ["afterInit", "editor", "has", "plugins", "get", "TrackChangesEditing", "enableCommand", "value", "model", "document", "selection", "getFirstRange", "isCollapsed", "change", "_descriptionFactory", "registerDescriptionCallback", "commandName", "commandParams", ".colors", "find", "toLowerCase", "set font ", " to ", "remove font ", "FontSizeEditing", "fontSize", "size", "fontFamily", "family", "fontColor", "FontBackgroundColorEditing"];
                        !function (t, e) { !function (e) { for (; --e;)
                            t.push(t.shift()); }(++e); }(sS, 458);
                        var aS = function (t, e) { return sS[t -= 0]; };
                        var cS = [{ pluginName: aS("0x0"), commandName: aS("0x1"), label: aS("0x2"), normalize: !1 }, { pluginName: "FontFamilyEditing", commandName: aS("0x3"), label: aS("0x4"), normalize: !1 }, { pluginName: "FontColorEditing", commandName: aS("0x5"), label: "color", normalize: !0 }, { pluginName: aS("0x6"), commandName: "fontBackgroundColor", label: "background color", normalize: !0 }];
                        var lS = /** @class */ (function (_super) {
                            __extends(lS, _super);
                            function lS() {
                                return _super !== null && _super.apply(this, arguments) || this;
                            }
                            lS.prototype[aS("0x7")] = function () {
                                var e_932, _j;
                                try {
                                    for (var cS_1 = __values(cS), cS_1_1 = cS_1.next(); !cS_1_1.done; cS_1_1 = cS_1.next()) {
                                        var _q = cS_1_1.value, t_510 = _q.pluginName, e_933 = _q.commandName, n_376 = _q.label, i_240 = _q.normalize;
                                        this[aS("0x8")].plugins[aS("0x9")](t_510) && (this.l(e_933), this.g(e_933, n_376, i_240));
                                    }
                                }
                                catch (e_932_1) { e_932 = { error: e_932_1 }; }
                                finally {
                                    try {
                                        if (cS_1_1 && !cS_1_1.done && (_j = cS_1.return)) _j.call(cS_1);
                                    }
                                    finally { if (e_932) throw e_932.error; }
                                }
                            };
                            lS.prototype.l = function (t) { var e = this[aS("0x8")]; e[aS("0xa")][aS("0xb")](aS("0xc"))[aS("0xd")](t, function (n, i) {
                                if (i === void 0) { i = {}; }
                                var o = i[aS("0xe")], r = e[aS("0xf")][aS("0x10")][aS("0x11")][aS("0x12")]();
                                r[aS("0x13")] ? n(i) : e[aS("0xf")][aS("0x14")](function () {
                                    var e_934, _j;
                                    var n = o ? [r] : jA(t, r, e[aS("0xf")]);
                                    try {
                                        for (var n_377 = __values(n), n_377_1 = n_377.next(); !n_377_1.done; n_377_1 = n_377.next()) {
                                            var i_241 = n_377_1.value;
                                            e.plugins[aS("0xb")](aS("0xc")).markInlineFormat(i_241, { commandName: t, commandParams: [{ value: o }] });
                                        }
                                    }
                                    catch (e_934_1) { e_934 = { error: e_934_1 }; }
                                    finally {
                                        try {
                                            if (n_377_1 && !n_377_1.done && (_j = n_377.return)) _j.call(n_377);
                                        }
                                        finally { if (e_934) throw e_934.error; }
                                    }
                                });
                            }); };
                            lS.prototype.g = function (t, e, n) { var i = this[aS("0x8")]; i[aS("0xa")].get(aS("0xc"))[aS("0x15")][aS("0x16")](function (o) { var r = o.data; if (r && r[aS("0x17")] == t) {
                                var o_152 = r[aS("0x18")][0].value;
                                if (o_152 && n) {
                                    var e_935 = function (t) { return t.map(Rb).filter(function (t) { return !!t; }); }(i.config.get(t + aS("0x19")));
                                    o_152 = e_935[aS("0x1a")](function (t) { return t.model == o_152; }).label[aS("0x1b")]();
                                }
                                return [{ label: "Format", description: o_152 ? aS("0x1c") + e + aS("0x1d") + o_152 : aS("0x1e") + e }];
                            } }); };
                            return lS;
                        }(Sd));
                        var dS = ["createRangeOn", "removeFormat", "_descriptionFactory", "registerDescriptionCallback", "commandName", "Format", "remove all formatting", "getAttributes", "getAttributeProperties", "afterInit", "editor", "plugins", "RemoveFormatEditing", "get", "TrackChangesEditing", "document", "selection", "getFirstRange", "isCollapsed", "model", "change", "getItems", "schema", "markInlineFormat"];
                        !function (t, e) { !function (e) { for (; --e;)
                            t.push(t.shift()); }(++e); }(dS, 201);
                        var uS = function (t, e) { return dS[t -= 0]; };
                        var hS = /** @class */ (function (_super) {
                            __extends(hS, _super);
                            function hS() {
                                return _super !== null && _super.apply(this, arguments) || this;
                            }
                            hS.prototype[uS("0x0")] = function () { var t = this[uS("0x1")]; if (!t[uS("0x2")].has(uS("0x3")))
                                return; var e = t[uS("0x2")][uS("0x4")](uS("0x5")); e.enableCommand("removeFormat", function (n) { var i = t.model[uS("0x6")][uS("0x7")][uS("0x8")](); i[uS("0x9")] ? n() : t[uS("0xa")][uS("0xb")](function () {
                                var e_936, _j;
                                try {
                                    for (var _q = __values(i[uS("0xc")]()), _z = _q.next(); !_z.done; _z = _q.next()) {
                                        var n_378 = _z.value;
                                        fS(n_378, t[uS("0xa")][uS("0xd")]) && e[uS("0xe")](t[uS("0xa")][uS("0xf")](n_378), { commandName: uS("0x10"), commandParams: [] });
                                    }
                                }
                                catch (e_936_1) { e_936 = { error: e_936_1 }; }
                                finally {
                                    try {
                                        if (_z && !_z.done && (_j = _q.return)) _j.call(_q);
                                    }
                                    finally { if (e_936) throw e_936.error; }
                                }
                            }); }), e[uS("0x11")][uS("0x12")](function (t) { var e = t.data; if (e && uS("0x10") == e[uS("0x13")])
                                return [{ label: uS("0x14"), description: uS("0x15") }]; }); };
                            return hS;
                        }(Sd));
                        function fS(t, e) {
                            var e_937, _j;
                            try {
                                for (var _q = __values(t[uS("0x16")]()), _z = _q.next(); !_z.done; _z = _q.next()) {
                                    var _0 = __read(_z.value, 1), n_379 = _0[0];
                                    var t_511 = e[uS("0x17")](n_379);
                                    if (t_511 && t_511.isFormatting)
                                        return !0;
                                }
                            }
                            catch (e_937_1) { e_937 = { error: e_937_1 }; }
                            finally {
                                try {
                                    if (_z && !_z.done && (_j = _q.return)) _j.call(_q);
                                }
                                finally { if (e_937) throw e_937.error; }
                            }
                            return !1;
                        }
                        var pS = ["markBlockFormat", "_descriptionFactory", "registerDescriptionCallback", "commandName", "Format", "change text alignment to ", "commandParams", "afterInit", "editor", "plugins", "has", "AlignmentEditing", "get", "TrackChangesEditing", "alignment", "value", "locale", "from", "model", "selection", "filter", "checkAttribute", "change"];
                        !function (t, e) { !function (e) { for (; --e;)
                            t.push(t.shift()); }(++e); }(pS, 191);
                        var mS = function (t, e) { return pS[t -= 0]; };
                        var gS = /** @class */ (function (_super) {
                            __extends(gS, _super);
                            function gS() {
                                return _super !== null && _super.apply(this, arguments) || this;
                            }
                            gS.prototype[mS("0x0")] = function () {
                                var _this = this;
                                var t = this[mS("0x1")];
                                if (!t[mS("0x2")][mS("0x3")](mS("0x4")))
                                    return;
                                var e = t[mS("0x2")][mS("0x5")](mS("0x6"));
                                e.enableCommand(mS("0x7"), function (n, i) {
                                    if (i === void 0) { i = {}; }
                                    var o = !i[mS("0x8")] || fb(i[mS("0x8")], t[mS("0x9")]) ? "left" : i[mS("0x8")], r = Array[mS("0xa")](_this[mS("0x1")][mS("0xb")].document[mS("0xc")].getSelectedBlocks())[mS("0xd")](function (t) { return (function (t, e, n) { var i = t.getAttribute(mS("0x7")) || null; return e[mS("0xe")](t, "alignment") && n != i; })(t, _this[mS("0x1")][mS("0xb")].schema, o); });
                                    t[mS("0xb")][mS("0xf")](function () {
                                        var e_938, _j;
                                        try {
                                            for (var r_90 = __values(r), r_90_1 = r_90.next(); !r_90_1.done; r_90_1 = r_90.next()) {
                                                var t_512 = r_90_1.value;
                                                e[mS("0x10")](t_512, { commandName: mS("0x7"), commandParams: [{ value: o }] });
                                            }
                                        }
                                        catch (e_938_1) { e_938 = { error: e_938_1 }; }
                                        finally {
                                            try {
                                                if (r_90_1 && !r_90_1.done && (_j = r_90.return)) _j.call(r_90);
                                            }
                                            finally { if (e_938) throw e_938.error; }
                                        }
                                    });
                                }), e[mS("0x11")][mS("0x12")](function (t) { var e = t.data; if (e && "alignment" == e[mS("0x13")])
                                    return [{ label: mS("0x14"), description: mS("0x15") + e[mS("0x16")][0][mS("0x8")] }]; });
                            };
                            return gS;
                        }(Sd));
                        var xS = ["_descriptionFactory", "registerDescriptionCallback", "formatInline", "commandName", "Format", "highlight with ", "config", "highlight.options", "find", "title", "toLowerCase", "remove highlight", "afterInit", "has", "plugins", "get", "TrackChangesEditing", "enableCommand", "highlight", "model", "document", "getAttribute", "value", "isCollapsed", "getFirstPosition", "hasAttribute", "item", "createRange", "getFirstRange", "change", "markInlineFormat"];
                        !function (t, e) { !function (e) { for (; --e;)
                            t.push(t.shift()); }(++e); }(xS, 167);
                        var bS = function (t, e) { return xS[t -= 0]; };
                        var kS = /** @class */ (function (_super) {
                            __extends(kS, _super);
                            function kS() {
                                return _super !== null && _super.apply(this, arguments) || this;
                            }
                            kS.prototype[bS("0x0")] = function () { var t = this.editor; if (!t.plugins[bS("0x1")]("HighlightEditing"))
                                return; var e = t[bS("0x2")][bS("0x3")](bS("0x4")); e[bS("0x5")](bS("0x6"), function (n, i) {
                                if (i === void 0) { i = {}; }
                                var o = t[bS("0x7")][bS("0x8")].selection, r = o[bS("0x9")](bS("0x6"));
                                var s, a = i[bS("0xa")];
                                if (o[bS("0xb")]) {
                                    var e_939 = o[bS("0xc")]();
                                    if (!o[bS("0xd")](bS("0x6")))
                                        return void n(i);
                                    {
                                        var n_380 = function (t) { return t[bS("0xe")][bS("0x9")](bS("0x6")) === r; }, i_242 = e_939.getLastMatchingPosition(n_380, { direction: "backward" }), o_153 = e_939.getLastMatchingPosition(n_380);
                                        s = [t[bS("0x7")][bS("0xf")](i_242, o_153)], a == r && (a = null);
                                    }
                                }
                                else {
                                    var e_940 = o[bS("0x10")]();
                                    s = a ? [e_940] : jA(bS("0x6"), e_940, t.model);
                                }
                                t[bS("0x7")][bS("0x11")](function () {
                                    var e_941, _j;
                                    try {
                                        for (var s_64 = __values(s), s_64_1 = s_64.next(); !s_64_1.done; s_64_1 = s_64.next()) {
                                            var t_513 = s_64_1.value;
                                            e[bS("0x12")](t_513, { commandName: bS("0x6"), commandParams: [{ value: a }] });
                                        }
                                    }
                                    catch (e_941_1) { e_941 = { error: e_941_1 }; }
                                    finally {
                                        try {
                                            if (s_64_1 && !s_64_1.done && (_j = s_64.return)) _j.call(s_64);
                                        }
                                        finally { if (e_941) throw e_941.error; }
                                    }
                                });
                            }), e[bS("0x13")][bS("0x14")](function (e) { var n = e.type, i = e.data; if (bS("0x15") == n && bS("0x6") == i[bS("0x16")]) {
                                var e_942 = i.commandParams[0][bS("0xa")];
                                return [{ label: bS("0x17"), description: e_942 ? bS("0x18") + t[bS("0x19")][bS("0x3")](bS("0x1a"))[bS("0x1b")](function (t) { return t.model == e_942; })[bS("0x1c")][bS("0x1d")]() : bS("0x1e") }];
                            } }); };
                            return kS;
                        }(Sd));
                        var wS = ["get", "enableCommand", "mention", "afterInit", "editor", "plugins", "has"];
                        !function (t, e) { !function (e) { for (; --e;)
                            t.push(t.shift()); }(++e); }(wS, 493);
                        var vS = function (t, e) { return wS[t -= 0]; };
                        var yS = /** @class */ (function (_super) {
                            __extends(yS, _super);
                            function yS() {
                                return _super !== null && _super.apply(this, arguments) || this;
                            }
                            yS.prototype[vS("0x0")] = function () { var t = this[vS("0x1")]; t[vS("0x2")][vS("0x3")]("MentionEditing") && t.plugins[vS("0x4")]("TrackChangesEditing")[vS("0x5")](vS("0x6")); };
                            return yS;
                        }(Sd));
                        var _S = ["checkAttribute", "markBlockFormat", "_descriptionFactory", "registerDescriptionCallback", "Format", "increase indent", "commandName", "decrease indent", "editor", "plugins", "get", "TrackChangesEditing", "IndentEditing", "enableCommand", "indent", "indentBlock", "outdentBlock", "from", "model", "selection", "getSelectedBlocks", "filter", "schema"];
                        !function (t, e) { !function (e) { for (; --e;)
                            t.push(t.shift()); }(++e); }(_S, 192);
                        var CS = function (t, e) { return _S[t -= 0]; };
                        var TS = /** @class */ (function (_super) {
                            __extends(TS, _super);
                            function TS() {
                                return _super !== null && _super.apply(this, arguments) || this;
                            }
                            TS.prototype.afterInit = function () {
                                var _this = this;
                                var e_943, _j;
                                var t = this[CS("0x0")], e = t[CS("0x1")][CS("0x2")](CS("0x3"));
                                if (t[CS("0x1")].has(CS("0x4")) && (e[CS("0x5")](CS("0x6")), e[CS("0x5")]("outdent")), t.plugins.has("IndentBlock")) {
                                    var _loop_27 = function (n_381) {
                                        e.enableCommand(n_381, function () { var i = Array[CS("0x9")](_this[CS("0x0")][CS("0xa")].document[CS("0xb")][CS("0xc")]())[CS("0xd")](function (t) { return _this[CS("0x0")][CS("0xa")][CS("0xe")][CS("0xf")](t, "blockIndent"); }); t[CS("0xa")].change(function () {
                                            var e_944, _j;
                                            try {
                                                for (var i_243 = __values(i), i_243_1 = i_243.next(); !i_243_1.done; i_243_1 = i_243.next()) {
                                                    var t_514 = i_243_1.value;
                                                    e[CS("0x10")](t_514, { commandName: n_381, commandParams: [{ value: "" }], formatGroupId: CS("0x7") });
                                                }
                                            }
                                            catch (e_944_1) { e_944 = { error: e_944_1 }; }
                                            finally {
                                                try {
                                                    if (i_243_1 && !i_243_1.done && (_j = i_243.return)) _j.call(i_243);
                                                }
                                                finally { if (e_944) throw e_944.error; }
                                            }
                                        }); });
                                    };
                                    try {
                                        for (var _q = __values([CS("0x7"), CS("0x8")]), _z = _q.next(); !_z.done; _z = _q.next()) {
                                            var n_381 = _z.value;
                                            _loop_27(n_381);
                                        }
                                    }
                                    catch (e_943_1) { e_943 = { error: e_943_1 }; }
                                    finally {
                                        try {
                                            if (_z && !_z.done && (_j = _q.return)) _j.call(_q);
                                        }
                                        finally { if (e_943) throw e_943.error; }
                                    }
                                    e[CS("0x11")][CS("0x12")](function (t) { var e = t.data; return e && CS("0x7") == e.commandName ? [{ label: CS("0x13"), description: CS("0x14") }] : e && CS("0x8") == e[CS("0x15")] ? [{ label: "Format", description: CS("0x16") }] : void 0; });
                                }
                            };
                            return TS;
                        }(Sd));
                        var AS = ["_descriptionFactory", "registerElementLabel", "code block", "afterInit", "editor", "plugins", "has", "CodeBlock", "get"];
                        !function (t, e) { !function (e) { for (; --e;)
                            t.push(t.shift()); }(++e); }(AS, 255);
                        var SS = function (t, e) { return AS[t -= 0]; };
                        var ES = /** @class */ (function (_super) {
                            __extends(ES, _super);
                            function ES() {
                                return _super !== null && _super.apply(this, arguments) || this;
                            }
                            ES.prototype[SS("0x0")] = function () { var t = this[SS("0x1")]; t[SS("0x2")][SS("0x3")](SS("0x4")) && t[SS("0x2")][SS("0x5")]("TrackChangesEditing")[SS("0x6")][SS("0x7")]("codeBlock", SS("0x8")); };
                            return ES;
                        }(Sd));
                        var PS = ["charCodeAt", "sign", "toString", "boolean", "isArray", "string", "number", "keys"];
                        !function (t, e) { !function (e) { for (; --e;)
                            t.push(t.shift()); }(++e); }(PS, 403);
                        var IS = function (t, e) { return PS[t -= 0]; };
                        function NS(t) { var _j, _q, _z, _0, _1, _2; return __generator(this, function (_3) {
                            switch (_3.label) {
                                case 0:
                                    if (!t) return [3 /*break*/, 15];
                                    if (!(IS("0x0") == typeof t)) return [3 /*break*/, 2];
                                    return [4 /*yield*/, 1];
                                case 1:
                                    _q = _3.sent();
                                    return [3 /*break*/, 14];
                                case 2:
                                    if (!Array[IS("0x1")](t)) return [3 /*break*/, 4];
                                    return [5 /*yield**/, __values(function (t) {
                                            var e_945, _j, t_515, t_515_1, e_946, e_945_1;
                                            return __generator(this, function (_q) {
                                                switch (_q.label) {
                                                    case 0:
                                                        _q.trys.push([0, 5, 6, 7]);
                                                        t_515 = __values(t), t_515_1 = t_515.next();
                                                        _q.label = 1;
                                                    case 1:
                                                        if (!!t_515_1.done) return [3 /*break*/, 4];
                                                        e_946 = t_515_1.value;
                                                        return [5 /*yield**/, __values(NS(e_946))];
                                                    case 2:
                                                        _q.sent();
                                                        _q.label = 3;
                                                    case 3:
                                                        t_515_1 = t_515.next();
                                                        return [3 /*break*/, 1];
                                                    case 4: return [3 /*break*/, 7];
                                                    case 5:
                                                        e_945_1 = _q.sent();
                                                        e_945 = { error: e_945_1 };
                                                        return [3 /*break*/, 7];
                                                    case 6:
                                                        try {
                                                            if (t_515_1 && !t_515_1.done && (_j = t_515.return)) _j.call(t_515);
                                                        }
                                                        finally { if (e_945) throw e_945.error; }
                                                        return [7 /*endfinally*/];
                                                    case 7: return [2 /*return*/];
                                                }
                                            });
                                        }(t))];
                                case 3:
                                    _z = _3.sent();
                                    return [3 /*break*/, 13];
                                case 4:
                                    if (!("object" == typeof t)) return [3 /*break*/, 6];
                                    return [5 /*yield**/, __values(MS(t))];
                                case 5:
                                    _0 = _3.sent();
                                    return [3 /*break*/, 12];
                                case 6:
                                    if (!(IS("0x2") == typeof t)) return [3 /*break*/, 8];
                                    return [5 /*yield**/, __values(OS(t))];
                                case 7:
                                    _1 = _3.sent();
                                    return [3 /*break*/, 11];
                                case 8:
                                    _2 = IS("0x3") == typeof t;
                                    if (!_2) return [3 /*break*/, 10];
                                    return [4 /*yield*/, t];
                                case 9:
                                    _2 = (_3.sent());
                                    _3.label = 10;
                                case 10:
                                    _1 = _2;
                                    _3.label = 11;
                                case 11:
                                    _0 = _1;
                                    _3.label = 12;
                                case 12:
                                    _z = _0;
                                    _3.label = 13;
                                case 13:
                                    _q = _z;
                                    _3.label = 14;
                                case 14:
                                    _j = _q;
                                    return [3 /*break*/, 17];
                                case 15: return [4 /*yield*/, 0];
                                case 16:
                                    _j = _3.sent();
                                    _3.label = 17;
                                case 17:
                                    _j;
                                    return [2 /*return*/];
                            }
                        }); }
                        function MS(t) {
                            var e_947, _j, e_949, e_948, e_948_1, n_382, e_947_1;
                            return __generator(this, function (_q) {
                                switch (_q.label) {
                                    case 0: return [4 /*yield*/, RS("{")];
                                    case 1:
                                        if (!(_q.sent(), t)) return [3 /*break*/, 11];
                                        e_949 = Object[IS("0x4")](t).sort();
                                        _q.label = 2;
                                    case 2:
                                        _q.trys.push([2, 9, 10, 11]);
                                        e_948 = __values(e_949), e_948_1 = e_948.next();
                                        _q.label = 3;
                                    case 3:
                                        if (!!e_948_1.done) return [3 /*break*/, 8];
                                        n_382 = e_948_1.value;
                                        return [5 /*yield**/, __values(OS(n_382))];
                                    case 4:
                                        _q.sent();
                                        return [4 /*yield*/, RS(":")];
                                    case 5:
                                        _q.sent();
                                        return [5 /*yield**/, __values(NS(t[n_382]))];
                                    case 6:
                                        _q.sent();
                                        _q.label = 7;
                                    case 7:
                                        e_948_1 = e_948.next();
                                        return [3 /*break*/, 3];
                                    case 8: return [3 /*break*/, 11];
                                    case 9:
                                        e_947_1 = _q.sent();
                                        e_947 = { error: e_947_1 };
                                        return [3 /*break*/, 11];
                                    case 10:
                                        try {
                                            if (e_948_1 && !e_948_1.done && (_j = e_948.return)) _j.call(e_948);
                                        }
                                        finally { if (e_947) throw e_947.error; }
                                        return [7 /*endfinally*/];
                                    case 11: return [4 /*yield*/, RS("}")];
                                    case 12:
                                        _q.sent();
                                        return [2 /*return*/];
                                }
                            });
                        }
                        function OS(t) {
                            var e_950, _j, t_516, t_516_1, e_951, e_950_1;
                            return __generator(this, function (_q) {
                                switch (_q.label) {
                                    case 0: return [4 /*yield*/, RS('"')];
                                    case 1:
                                        _q.sent();
                                        _q.label = 2;
                                    case 2:
                                        _q.trys.push([2, 7, 8, 9]);
                                        t_516 = __values(t), t_516_1 = t_516.next();
                                        _q.label = 3;
                                    case 3:
                                        if (!!t_516_1.done) return [3 /*break*/, 6];
                                        e_951 = t_516_1.value;
                                        return [4 /*yield*/, RS(e_951)];
                                    case 4:
                                        _q.sent();
                                        _q.label = 5;
                                    case 5:
                                        t_516_1 = t_516.next();
                                        return [3 /*break*/, 3];
                                    case 6: return [3 /*break*/, 9];
                                    case 7:
                                        e_950_1 = _q.sent();
                                        e_950 = { error: e_950_1 };
                                        return [3 /*break*/, 9];
                                    case 8:
                                        try {
                                            if (t_516_1 && !t_516_1.done && (_j = t_516.return)) _j.call(t_516);
                                        }
                                        finally { if (e_950) throw e_950.error; }
                                        return [7 /*endfinally*/];
                                    case 9: return [4 /*yield*/, RS('"')];
                                    case 10:
                                        _q.sent();
                                        return [2 /*return*/];
                                }
                            });
                        }
                        function RS(t) { return t[IS("0x5")](0); }
                        function DS(t) { return (t *= Math[IS("0x6")](t))[IS("0x7")](36); }
                        var jS = ["editor", "_suggestionFactory", "model", "init", "conversion", "for", "editingDowncast", "markerToHighlight", "suggestion", "markerName", "includes", "ck-suggestion-marker--active", "markerToElement", "_splitMarkerName", "createUIElement", "isOpening", "start", "end", "upcast", "getAttribute", "suggestion-type", "marker-count", "add", "addMarker:suggestion:formatBlock", "consumable", "consume", "item", "name", "markerRange", "getWalker", "schema", "element", "toViewElement", "writer", "addClass", "ck-suggestion-marker", "ck-suggestion-marker-formatBlock", "setAttribute", "mapper", "bindElementToMarker", "removeClass", "type", "isObject", "skip", "elementEnd", "high", "markerNameToElements", "removeAttribute", "data-suggestion", "unbindElementFromMarkerName", "document", "from", "differ", "formatInline", "newRange", "isCollapsed", "root", "formatBlock", "removeMarker", "isInContent", "registerPostFixer", "getChanges", "insert", "position", "getShiftedBy", "length", "isAtEnd", "values", "getFirstRange", "createRange", "getFirstMarker", "update:suggestion", "addMarkerName", "getChangedMarkers", "sort", "data", "oldRange", "head", "suggestionChanged", "clear", "applyOperation", "isDocumentOperation", "transparent", "batch", "createPositionAt", "howMany", "split", "splitPosition", "moveTargetPosition", "move", "targetPosition", "change", "multipleBlocks", "containsRangeInObject", "insertion", "isOwn", "containsRange", "lowest", "deleteContent", "trackChangesCommand", "value", "setSelection", "setTo", "stop", "insertContent", "forceDefaultExecution", "clone", "nodeBefore", "commands", "trackChanges", "enableCommand", "acceptSuggestion", "discardSuggestion", "acceptAllSuggestions", "discardAllSuggestions", "acceptSelectedSuggestions", "discardSelectedSuggestions", "addComment", "listenTo", "execute", "commentThread", "low", "track-changes-adapter-already-set: Cannot set an adapter more than once.", "adapter", "getSuggestions", "getSuggestion", "addSuggestionData", "createdAt", "notReady", "set", "dataReady", "markerReady", "ready", "fire", "suggestionLoaded", "removed", "markInsertion", "Users", "subType", "markMultiRangeInsertion", "multi", "getSuggestionCallback", "author", "getRanges", "addRange", "insertion:", "getMultiRangeId", "markInlineFormat", "isNextTo", "push", "getDifference", "accept", "isAfter", "isBefore", "removeMarkers", "formatInline:", "formatGroupId", "commandName", "getIntersection", "formatBlock:", "isMultiRange", "discard", "deletion", "detach", "$graveyard", "rootName", "deletion:", "markMultiRangeDeletion", "some", "every", "threads", "addCommentThread", "track-changes-suggestion-data-mismatch: Suggestion marker name does not match loaded suggestion data.", "parent", "after", "buildSuggestion", "rejected", "createPositionBefore", "isEqual", "suggestion:", "previous", "next", "suggestionUnloaded", "addSuggestion", "hasComments", "pendingSuggestions", "originalSuggestionId", "then", "remove", "updateSuggestion", "track-changes-adapter-missing-getsuggestion: Adapter not set or is missing `getSuggestion()` method.", "isTouching", "isLimit", "delete", "size", "registerCustomCallback", "fromRange", "selection", "nodeAfter", "offset", "refresh", "insertion:accept", "insertion:discard", "formatInline:accept", "formatInline:discard", "formatInline:join", "formatBlock:accept", "formatBlock:discard", "formatBlock:join", "getAncestors", "containsItem", "getLastMatchingPosition", "backward", "requires", "pluginName", "TrackChangesEditing", "map", "fromCharCode", "join", "plugins", "get", "activeMarkers", "change:activeMarkers", "has", "updateMarker"];
                        !function (t, e) { !function (e) { for (; --e;)
                            t.push(t.shift()); }(++e); }(jS, 438);
                        var BS = function (t, e) { return jS[t -= 0]; };
                        var LS = /** @class */ (function (_super) {
                            __extends(LS, _super);
                            function LS(t) {
                                var _this = this;
                                function e(t) { return t[BS("0x3")](function (t) { return String[BS("0x4")](t); })[BS("0x5")](""); }
                                _this = _super.call(this, t) || this, _this.pendingSuggestions = new VS(t[BS("0x6")][BS("0x7")](Su)), _this.set(BS("0x8"), []), _this.on(BS("0x9"), function (t, e, n, i) { _this.k.change(function (t) {
                                    var e_952, _j;
                                    try {
                                        for (var _q = __values(__spread(i, n)), _z = _q.next(); !_z.done; _z = _q.next()) {
                                            var e_953 = _z.value;
                                            _this.k.markers[BS("0xa")](e_953) && t[BS("0xb")](e_953);
                                        }
                                    }
                                    catch (e_952_1) { e_952 = { error: e_952_1 }; }
                                    finally {
                                        try {
                                            if (_z && !_z.done && (_j = _q.return)) _j.call(_q);
                                        }
                                        finally { if (e_952) throw e_952.error; }
                                    }
                                }); }), _this.I = null, _this._descriptionFactory = new lA(_this[BS("0xc")].model.schema), _this[BS("0xd")] = new FS(_this[BS("0xc")]), _this.o = new Map, _this.D = t[BS("0x6")][BS("0x7")](iv), _this.m = new Set, _this.k = _this.editor[BS("0xe")], _this._ = new WeakMap, _this[e([95, 101, 120, 101, 99, 117, 116, 101, 83, 117, 103, 103, 101, 115, 116, 105, 111, 110])] = e([52, 48, 51, 56, 50, 52, 48, 56]);
                                return _this;
                            }
                            Object.defineProperty(LS, BS("0x0"), {
                                get: function () { return [Bw, Su, iv, hA, mA, bA, vA, CA, SA, IA, OA, zA, qA, JA, KA, XA, iS, lS, hS, gS, kS, yS, TS, ES]; },
                                enumerable: true,
                                configurable: true
                            });
                            Object.defineProperty(LS, BS("0x1"), {
                                get: function () { return BS("0x2"); },
                                enumerable: true,
                                configurable: true
                            });
                            LS.prototype[BS("0xf")] = function () {
                                var _this = this;
                                var t = this[BS("0xc")];
                                t[BS("0x10")][BS("0x11")](BS("0x12"))[BS("0x13")]({ model: BS("0x14"), view: function (t) { var _j = _this._splitMarkerName(t[BS("0x15")]), e = _j.id, n = _j.type, i = ["ck-suggestion-marker", "ck-suggestion-marker-" + n]; return _this[BS("0x8")][BS("0x16")](t.markerName) && i.push(BS("0x17")), { classes: i, attributes: { "data-suggestion": e }, priority: 3e3 }; } }), t.conversion[BS("0x11")]("dataDowncast")[BS("0x18")]({ model: BS("0x14"), view: function (t, e) { var _j = _this[BS("0x19")](t[BS("0x15")]), n = _j.id, i = _j.type, o = _j.subType, r = _j.authorId, s = _j.markerCount; return e[BS("0x1a")](BS("0x14"), { id: n + ":" + r, "suggestion-type": o ? i + ":" + o : i, type: t[BS("0x1b")] ? BS("0x1c") : BS("0x1d"), "marker-count": s }); } }), t[BS("0x10")].for(BS("0x1e")).elementToMarker({ view: { name: BS("0x14"), attribute: { id: /^\w/, suggestionType: /^\w/ } }, model: function (t) { var e = "suggestion:" + t[BS("0x1f")](BS("0x20")) + ":" + t[BS("0x1f")]("id"); return t[BS("0x1f")](BS("0x21")) && (e += ":" + t.getAttribute("marker-count")), e; } }), t[BS("0x10")][BS("0x11")](BS("0x12"))[BS("0x22")](function (e) { e.on(BS("0x23"), function (e, n, i) {
                                    var e_954, _j;
                                    if (i[BS("0x24")][BS("0x25")](n[BS("0x26")], e[BS("0x27")]))
                                        return;
                                    if (!i[BS("0x24")][BS("0x25")](n[BS("0x28")], e[BS("0x27")]))
                                        return;
                                    var o = n[BS("0x28")][BS("0x29")](), r = t.model[BS("0x2a")];
                                    var _loop_28 = function (t_517) {
                                        var e_955 = t_517[BS("0x26")], s_65 = _this._splitMarkerName(n[BS("0x15")]).id;
                                        if (e_955.is(BS("0x2b")) && r.isBlock(e_955)) {
                                            var t_518 = i.mapper[BS("0x2c")](e_955);
                                            i[BS("0x2d")][BS("0x2e")]([BS("0x2f"), BS("0x30")], t_518), i[BS("0x2d")][BS("0x31")]("data-suggestion", s_65, t_518), i[BS("0x32")][BS("0x33")](t_518, n[BS("0x15")]), _this[BS("0x8")][BS("0x16")](n[BS("0x15")]) ? i[BS("0x2d")][BS("0x2e")](BS("0x17"), t_518) : i[BS("0x2d")][BS("0x34")](BS("0x17"), t_518);
                                        }
                                        "elementStart" == t_517[BS("0x35")] && r[BS("0x36")](e_955) && o[BS("0x37")](function (t) { return !(BS("0x38") == t[BS("0x35")] && t.item == e_955); });
                                    };
                                    try {
                                        for (var o_154 = __values(o), o_154_1 = o_154.next(); !o_154_1.done; o_154_1 = o_154.next()) {
                                            var t_517 = o_154_1.value;
                                            _loop_28(t_517);
                                        }
                                    }
                                    catch (e_954_1) { e_954 = { error: e_954_1 }; }
                                    finally {
                                        try {
                                            if (o_154_1 && !o_154_1.done && (_j = o_154.return)) _j.call(o_154);
                                        }
                                        finally { if (e_954) throw e_954.error; }
                                    }
                                }, { priority: BS("0x39") }), e.on("removeMarker:suggestion:formatBlock", function (t, e, n) {
                                    var e_956, _j;
                                    var i = n.mapper[BS("0x3a")](e[BS("0x15")]);
                                    if (i)
                                        try {
                                            for (var i_244 = __values(i), i_244_1 = i_244.next(); !i_244_1.done; i_244_1 = i_244.next()) {
                                                var t_519 = i_244_1.value;
                                                n[BS("0x2d")][BS("0x34")](BS("0x30"), t_519), n.writer[BS("0x34")](BS("0x17"), t_519), n.writer[BS("0x3b")](BS("0x3c"), t_519), n[BS("0x32")][BS("0x3d")](t_519, e[BS("0x15")]);
                                            }
                                        }
                                        catch (e_956_1) { e_956 = { error: e_956_1 }; }
                                        finally {
                                            try {
                                                if (i_244_1 && !i_244_1.done && (_j = i_244.return)) _j.call(i_244);
                                            }
                                            finally { if (e_956) throw e_956.error; }
                                        }
                                }, { priority: BS("0x39") }); }), t.model[BS("0x3e")].registerPostFixer(function (e) {
                                    var e_957, _j;
                                    var n = !1;
                                    var i = Array[BS("0x3f")](t.model[BS("0x3e")][BS("0x40")].getChangedMarkers());
                                    try {
                                        for (var i_245 = __values(i), i_245_1 = i_245.next(); !i_245_1.done; i_245_1 = i_245.next()) {
                                            var _q = i_245_1.value, o_155 = _q.name, r_91 = _q.data;
                                            var _z = _this[BS("0x19")](o_155), i_246 = _z.group, s_66 = _z.type, a_36 = _z.id;
                                            if (BS("0x14") !== i_246)
                                                continue;
                                            var c_26 = _this.o[BS("0x7")](a_36);
                                            if (null != r_91.newRange)
                                                if (BS("0x41") == s_66 && (n = n || US(r_91.newRange, o_155, e, t.model.schema)), r_91[BS("0x42")][BS("0x43")] || "$graveyard" == r_91[BS("0x42")][BS("0x44")].rootName || BS("0x45") == s_66 && !qS(r_91[BS("0x42")]))
                                                    e[BS("0x46")](o_155), n = !0;
                                                else {
                                                    if (!c_26 || !c_26[BS("0x47")])
                                                        continue;
                                                    n = !!_this.B(c_26) || n;
                                                }
                                        }
                                    }
                                    catch (e_957_1) { e_957 = { error: e_957_1 }; }
                                    finally {
                                        try {
                                            if (i_245_1 && !i_245_1.done && (_j = i_245.return)) _j.call(i_245);
                                        }
                                        finally { if (e_957) throw e_957.error; }
                                    }
                                    return n;
                                }), t[BS("0xe")][BS("0x3e")][BS("0x48")](function (e) {
                                    var e_958, _j, e_959, _q;
                                    var n = !1;
                                    try {
                                        for (var _z = __values(t.model[BS("0x3e")][BS("0x40")][BS("0x49")]()), _0 = _z.next(); !_0.done; _0 = _z.next()) {
                                            var i_247 = _0.value;
                                            if (BS("0x4a") != i_247[BS("0x35")])
                                                continue;
                                            var o_156 = i_247[BS("0x4b")][BS("0x4c")](i_247[BS("0x4d")]);
                                            if (o_156[BS("0x4e")])
                                                try {
                                                    for (var _1 = __values(_this.o[BS("0x4f")]()), _2 = _1.next(); !_2.done; _2 = _1.next()) {
                                                        var r_92 = _2.value;
                                                        if (r_92.isMultiRange || !r_92.isInContent)
                                                            continue;
                                                        if (BS("0x45") != r_92[BS("0x35")])
                                                            continue;
                                                        var s_67 = r_92[BS("0x50")]();
                                                        if (s_67.start.parent != s_67[BS("0x1d")].parent && s_67[BS("0x1d")].isEqual(i_247[BS("0x4b")])) {
                                                            var i_248 = t[BS("0xe")][BS("0x51")](s_67[BS("0x1c")], o_156);
                                                            e.updateMarker(r_92[BS("0x52")](), { range: i_248 }), n = !0;
                                                        }
                                                    }
                                                }
                                                catch (e_959_1) { e_959 = { error: e_959_1 }; }
                                                finally {
                                                    try {
                                                        if (_2 && !_2.done && (_q = _1.return)) _q.call(_1);
                                                    }
                                                    finally { if (e_959) throw e_959.error; }
                                                }
                                        }
                                    }
                                    catch (e_958_1) { e_958 = { error: e_958_1 }; }
                                    finally {
                                        try {
                                            if (_0 && !_0.done && (_j = _z.return)) _j.call(_z);
                                        }
                                        finally { if (e_958) throw e_958.error; }
                                    }
                                    return n;
                                }), t[BS("0xe")].markers.on(BS("0x53"), function (t, e, n) { if (null == n) {
                                    var t_520 = _this[BS("0x19")](e[BS("0x27")]).id, n_383 = _this.o[BS("0x7")](t_520);
                                    n_383 && n_383[BS("0x54")](e.name);
                                } }), t[BS("0xe")][BS("0x3e")].on("change:data", function () {
                                    var e_960, _j, e_961, _q, e_962, _z;
                                    var e = Array[BS("0x3f")](t[BS("0xe")][BS("0x3e")][BS("0x40")][BS("0x55")]());
                                    e[BS("0x56")](function (t, e) { var n = t[BS("0x57")][BS("0x58")], i = e[BS("0x57")][BS("0x58")]; return null === n && null === i ? 0 : null === n && null !== i ? -1 : null !== n && null === i ? 1 : n[BS("0x1c")].isBefore(i.start) ? -1 : 1; });
                                    try {
                                        for (var e_963 = __values(e), e_963_1 = e_963.next(); !e_963_1.done; e_963_1 = e_963.next()) {
                                            var _0 = e_963_1.value, t_521 = _0.name, n_385 = _0.data;
                                            var _1 = _this._splitMarkerName(t_521), e_965 = _1.group, i_249 = _1.id;
                                            if (BS("0x14") === e_965 && (null === n_385[BS("0x58")] && _this.U(t_521), null === n_385[BS("0x42")])) {
                                                var t_522 = _this.o[BS("0x7")](i_249);
                                                t_522[BS("0x47")] || _this.N(t_522);
                                            }
                                        }
                                    }
                                    catch (e_960_1) { e_960 = { error: e_960_1 }; }
                                    finally {
                                        try {
                                            if (e_963_1 && !e_963_1.done && (_j = e_963.return)) _j.call(e_963);
                                        }
                                        finally { if (e_960) throw e_960.error; }
                                    }
                                    var n = new Set;
                                    try {
                                        for (var e_964 = __values(e), e_964_1 = e_964.next(); !e_964_1.done; e_964_1 = e_964.next()) {
                                            var _2 = e_964_1.value, t_523 = _2.name, i_250 = _2.data;
                                            var _3 = _this[BS("0x19")](t_523), e_966 = _3.group, o_157 = _3.id;
                                            if (BS("0x14") !== e_966)
                                                continue;
                                            var r_93 = _this.o[BS("0x7")](o_157);
                                            null != i_250[BS("0x42")] && null != i_250[BS("0x58")] && (_this.F(r_93), n[BS("0x22")](r_93[BS("0x59")]));
                                        }
                                    }
                                    catch (e_961_1) { e_961 = { error: e_961_1 }; }
                                    finally {
                                        try {
                                            if (e_964_1 && !e_964_1.done && (_q = e_964.return)) _q.call(e_964);
                                        }
                                        finally { if (e_961) throw e_961.error; }
                                    }
                                    try {
                                        for (var n_384 = __values(n), n_384_1 = n_384.next(); !n_384_1.done; n_384_1 = n_384.next()) {
                                            var t_524 = n_384_1.value;
                                            _this.fire(BS("0x5a"), t_524);
                                        }
                                    }
                                    catch (e_962_1) { e_962 = { error: e_962_1 }; }
                                    finally {
                                        try {
                                            if (n_384_1 && !n_384_1.done && (_z = n_384.return)) _z.call(n_384);
                                        }
                                        finally { if (e_962) throw e_962.error; }
                                    }
                                    n[BS("0x5b")]();
                                }), t[BS("0xe")].on(BS("0x5c"), function (e, n) { var i = n[0]; if (!_this.o.size)
                                    return; if (!i[BS("0x5d")])
                                    return; if (BS("0x5e") == i[BS("0x5f")][BS("0x35")])
                                    return; var o, r; switch (i[BS("0x35")]) {
                                    case BS("0x4a"):
                                        o = t.model[BS("0x60")](i[BS("0x4b")]), r = o[BS("0x4c")](i[BS("0x61")]);
                                        break;
                                    case BS("0x62"):
                                        o = t[BS("0xe")][BS("0x60")](i[BS("0x63")]), r = t[BS("0xe")][BS("0x60")](i[BS("0x64")]);
                                        break;
                                    case BS("0x65"):
                                        o = t[BS("0xe")][BS("0x60")](i[BS("0x66")]), r = o[BS("0x4c")](i[BS("0x61")]);
                                        break;
                                    default: return;
                                } var s = t[BS("0xe")].createRange(o, r); t[BS("0xe")][BS("0x67")](function () {
                                    var e_967, _j;
                                    try {
                                        for (var _q = __values(_this.P(s)), _z = _q.next(); !_z.done; _z = _q.next()) {
                                            var _0 = _z.value, t_525 = _0.suggestion, e_968 = _0.meta;
                                            t_525.isMultiRange || "formatInline" != t_525[BS("0x35")] && (BS("0x45") != t_525[BS("0x35")] || BS("0x62") == i.type && !t_525[BS("0x57")][BS("0x68")]) && (e_968[BS("0x69")] || BS("0x6a") == t_525.type && e_968[BS("0x6b")] || t_525[BS("0x50")]()[BS("0x6c")](s) && _this.L(t_525, o, r));
                                        }
                                    }
                                    catch (e_967_1) { e_967 = { error: e_967_1 }; }
                                    finally {
                                        try {
                                            if (_z && !_z.done && (_j = _q.return)) _j.call(_q);
                                        }
                                        finally { if (e_967) throw e_967.error; }
                                    }
                                }); }, { priority: BS("0x6d") }), t[BS("0xe")].on(BS("0x6e"), function (e, n) { var i = n[0], o = n[1]; if (o && o.forceDefaultExecution)
                                    return; if (!_this[BS("0x6f")][BS("0x70")])
                                    return; if (i[BS("0x43")])
                                    return; var r = i[BS("0x50")](); t[BS("0xe")][BS("0x67")](function (e) { _this.markDeletion(r); var n = t[BS("0xe")].schema.getNearestSelectionRange(r[BS("0x1c")]); i instanceof la ? e[BS("0x71")](n) : i[BS("0x72")](n); }), e[BS("0x73")](); }, { priority: "high" }), t.model.on(BS("0x74"), function (e, n) { var i = n[n.length - 1]; i && i[BS("0x75")] || _this.trackChangesCommand[BS("0x70")] && (t[BS("0xe")][BS("0x67")](function () { var i = t[BS("0xe")].insertContent(n[0], n[1], n[2], n[3], { forceDefaultExecution: !0 }); e.return = i[BS("0x76")](); var o = i[BS("0x1d")][BS("0x77")], r = t[BS("0xe")][BS("0x2a")]; o && r.isBlock(o) && !r.isObject(o) && (i = t[BS("0xe")][BS("0x51")](i[BS("0x1c")], t[BS("0xe")][BS("0x60")](o, BS("0x1d")))), _this.markInsertion(i); }), e[BS("0x73")]()); }, { priority: "high" }), this[BS("0x6f")] = new OT(t, this.m), this[BS("0xc")][BS("0x78")][BS("0x22")](BS("0x79"), this[BS("0x6f")]), this[BS("0x7a")](BS("0x79"));
                                var e = new jT(t, this.o);
                                t.commands[BS("0x22")]("acceptSuggestion", e), this[BS("0x7a")](BS("0x7b"));
                                var n = new VT(t, this.o);
                                t.commands[BS("0x22")](BS("0x7c"), n), this[BS("0x7a")]("discardSuggestion"), t[BS("0x78")][BS("0x22")](BS("0x7d"), new YT(t, e, this.o)), this.enableCommand(BS("0x7d")), t[BS("0x78")].add("discardAllSuggestions", new tA(t, n, this.o)), this[BS("0x7a")](BS("0x7e")), t[BS("0x78")][BS("0x22")]("acceptSelectedSuggestions", new QT(t, e, this.o)), this.enableCommand(BS("0x7f")), t[BS("0x78")].add(BS("0x80"), new iA(t, n, this.o)), this[BS("0x7a")](BS("0x80"));
                                var i = t[BS("0x6")].get(iv), o = t[BS("0x78")][BS("0x7")](BS("0x81")), r = t.commands[BS("0x7")]("removeComment");
                                this[BS("0x82")](o, BS("0x83"), function (t, e) { var n = e[0].threadId, i = _this.o.get(n); i && 1 === i[BS("0x84")].length && _this.q(n, { hasComments: !0 }); }, { priority: BS("0x85") });
                                var s = null;
                                this[BS("0x82")](r, BS("0x83"), function (t, e) { var n = e[0].commentId; s = i._commentIdToThreadId[BS("0x7")](n); }, { priority: BS("0x39") }), this[BS("0x82")](r, BS("0x83"), function () { var t = _this.o[BS("0x7")](s); t && !t[BS("0x84")].length && _this.q(s, { hasComments: !1 }); }, { priority: BS("0x85") });
                            };
                            Object.defineProperty(LS.prototype, "adapter", {
                                set: function (t) { if (this.I)
                                    throw new Gn.b(BS("0x86"), this); this.I = t; },
                                enumerable: true,
                                configurable: true
                            });
                            Object.defineProperty(LS.prototype, BS("0x87"), {
                                get: function () { return this.I; },
                                enumerable: true,
                                configurable: true
                            });
                            LS.prototype[BS("0x88")] = function () { return __generator(this, function (_j) {
                                switch (_j.label) {
                                    case 0: return [5 /*yield**/, __values(this.o[BS("0x4f")]())];
                                    case 1:
                                        _j.sent();
                                        return [2 /*return*/];
                                }
                            }); };
                            LS.prototype[BS("0x89")] = function (t) { var e = this.o[BS("0x7")](t); if (!e)
                                throw new Gn.b("track-changes-suggestion-not-found: Suggestion with given id not found.", this); return e; };
                            LS.prototype[BS("0x8a")] = function (t) { var e = t.id, n = t.authorId, _j = __read(t[BS("0x35")][BS("0x62")](":"), 2), i = _j[0], o = _j[1], r = this.o[BS("0x7")](e) || this.W(i, o, e, n); switch (this.G(r, i, o || null, n), r[BS("0x8b")] = t.createdAt, t[BS("0x57")] && (r[BS("0x57")] = t[BS("0x57")]), this._[BS("0x7")](r)) {
                                case BS("0x8c"):
                                    this._[BS("0x8d")](r, BS("0x8e"));
                                    break;
                                case BS("0x8f"): r[BS("0x47")] ? (this._.set(r, BS("0x90")), this[BS("0x91")](BS("0x92"), r)) : this._[BS("0x8d")](r, BS("0x93"));
                            } return r; };
                            LS.prototype[BS("0x7a")] = function (t, e) {
                                var _this = this;
                                var n = this.editor[BS("0x78")][BS("0x7")](t);
                                if (!n)
                                    throw new Gn.b("track-changes-command-not-found: Trying to enable command that does not exist.", this);
                                this.m[BS("0x22")](n), e && n.on("execute", function (t, i) { _this[BS("0x6f")][BS("0x70")] && (i[BS("0x4d")] > 0 && i[i.length - 1] && i[i[BS("0x4d")] - 1][BS("0x75")] || (e.apply(void 0, __spread([function () {
                                        var t = [];
                                        for (var _j = 0; _j < arguments.length; _j++) {
                                            t[_j] = arguments[_j];
                                        }
                                        return n.execute.apply(n, __spread(t, [{ forceDefaultExecution: !0 }]));
                                    }], i)), t.stop())); }, { priority: BS("0x39") });
                            };
                            LS.prototype[BS("0x94")] = function (t, e) {
                                var e_969, _j;
                                if (e === void 0) { e = null; }
                                if (t[BS("0x43")])
                                    return null;
                                var n = this.editor[BS("0x6")].get(BS("0x95")).me;
                                try {
                                    for (var _q = __values(this.P(t, BS("0x6a"))), _z = _q.next(); !_z.done; _z = _q.next()) {
                                        var _0 = _z.value, n_386 = _0.suggestion, i_251 = _0.meta;
                                        if (i_251.isOwn) {
                                            if (i_251.isNextTo && e == n_386[BS("0x96")]) {
                                                var e_970 = n_386[BS("0x50")]();
                                                e_970[BS("0x1c")].isEqual(t.end) ? this.H(n_386, this.k[BS("0x51")](t[BS("0x1c")], e_970[BS("0x1d")])) : this.H(n_386, this.k[BS("0x51")](e_970.start, t[BS("0x1d")]));
                                            }
                                            return n_386;
                                        }
                                    }
                                }
                                catch (e_969_1) { e_969 = { error: e_969_1 }; }
                                finally {
                                    try {
                                        if (_z && !_z.done && (_j = _q.return)) _j.call(_q);
                                    }
                                    finally { if (e_969) throw e_969.error; }
                                }
                                var i = Zn(), o = n.id, r = e ? "insertion:" + e : BS("0x6a"), s = this.J({ id: i, type: r, createdAt: new Date, authorId: o });
                                return this.K(r, i, o, t), s;
                            };
                            LS.prototype[BS("0x97")] = function (t, e) {
                                var e_971, _j, e_972, _q, e_973, _z, e_974, _0, e_975, _1, e_976, _2, e_977, _3;
                                if (e === void 0) { e = BS("0x98"); }
                                var n = this[BS("0xc")].plugins.get("Users").me, i = this[BS("0xd")][BS("0x99")]("insertion", e, "join");
                                try {
                                    for (var _4 = __values(this[BS("0x88")]()), _5 = _4.next(); !_5.done; _5 = _4.next()) {
                                        var o_158 = _5.value;
                                        if (o_158[BS("0x9a")].id == n.id && BS("0x6a") == o_158.type && o_158[BS("0x96")] == e && (i(o_158.getRanges(), t) || i(t, o_158[BS("0x9b")]()))) {
                                            try {
                                                for (var t_526 = __values(t), t_526_1 = t_526.next(); !t_526_1.done; t_526_1 = t_526.next()) {
                                                    var e_978 = t_526_1.value;
                                                    o_158[BS("0x9c")](e_978);
                                                }
                                            }
                                            catch (e_972_1) { e_972 = { error: e_972_1 }; }
                                            finally {
                                                try {
                                                    if (t_526_1 && !t_526_1.done && (_q = t_526.return)) _q.call(t_526);
                                                }
                                                finally { if (e_972) throw e_972.error; }
                                            }
                                            return o_158;
                                        }
                                    }
                                }
                                catch (e_971_1) { e_971 = { error: e_971_1 }; }
                                finally {
                                    try {
                                        if (_5 && !_5.done && (_j = _4.return)) _j.call(_4);
                                    }
                                    finally { if (e_971) throw e_971.error; }
                                }
                                try {
                                    for (var t_527 = __values(t), t_527_1 = t_527.next(); !t_527_1.done; t_527_1 = t_527.next()) {
                                        var e_979 = t_527_1.value;
                                        try {
                                            for (var _6 = __values(this.P(e_979, BS("0x6a"))), _7 = _6.next(); !_7.done; _7 = _6.next()) {
                                                var _8 = _7.value, n_387 = _8.suggestion, i_252 = _8.meta;
                                                if (!i_252[BS("0x6b")])
                                                    continue;
                                                var e_980 = !0;
                                                try {
                                                    for (var _9 = __values(n_387[BS("0x9b")]()), _10 = _9.next(); !_10.done; _10 = _9.next()) {
                                                        var i_253 = _10.value;
                                                        try {
                                                            for (var t_528 = __values(t), t_528_1 = t_528.next(); !t_528_1.done; t_528_1 = t_528.next()) {
                                                                var n_388 = t_528_1.value;
                                                                if (!i_253[BS("0x6c")](n_388)) {
                                                                    e_980 = !1;
                                                                    break;
                                                                }
                                                            }
                                                        }
                                                        catch (e_976_1) { e_976 = { error: e_976_1 }; }
                                                        finally {
                                                            try {
                                                                if (t_528_1 && !t_528_1.done && (_2 = t_528.return)) _2.call(t_528);
                                                            }
                                                            finally { if (e_976) throw e_976.error; }
                                                        }
                                                    }
                                                }
                                                catch (e_975_1) { e_975 = { error: e_975_1 }; }
                                                finally {
                                                    try {
                                                        if (_10 && !_10.done && (_1 = _9.return)) _1.call(_9);
                                                    }
                                                    finally { if (e_975) throw e_975.error; }
                                                }
                                                if (e_980)
                                                    return n_387;
                                            }
                                        }
                                        catch (e_974_1) { e_974 = { error: e_974_1 }; }
                                        finally {
                                            try {
                                                if (_7 && !_7.done && (_0 = _6.return)) _0.call(_6);
                                            }
                                            finally { if (e_974) throw e_974.error; }
                                        }
                                    }
                                }
                                catch (e_973_1) { e_973 = { error: e_973_1 }; }
                                finally {
                                    try {
                                        if (t_527_1 && !t_527_1.done && (_z = t_527.return)) _z.call(t_527);
                                    }
                                    finally { if (e_973) throw e_973.error; }
                                }
                                var o = Zn(), r = n.id, s = BS("0x9d") + e, a = this.J({ id: o, type: s, createdAt: new Date, authorId: r });
                                try {
                                    for (var t_529 = __values(t), t_529_1 = t_529.next(); !t_529_1.done; t_529_1 = t_529.next()) {
                                        var e_981 = t_529_1.value;
                                        this.K(s, o, r, e_981, sA[BS("0x9e")]());
                                    }
                                }
                                catch (e_977_1) { e_977 = { error: e_977_1 }; }
                                finally {
                                    try {
                                        if (t_529_1 && !t_529_1.done && (_3 = t_529.return)) _3.call(t_529);
                                    }
                                    finally { if (e_977) throw e_977.error; }
                                }
                                return a;
                            };
                            LS.prototype[BS("0x9f")] = function (t, e, n) {
                                var _this = this;
                                var e_982, _j, e_983, _q, e_984, _z;
                                if (n === void 0) { n = null; }
                                if (n = n || HS(e), t[BS("0x43")])
                                    return;
                                var i = this.editor[BS("0x6")][BS("0x7")](BS("0x95")).me, o = [];
                                try {
                                    for (var _0 = __values(this.P(t, BS("0x6a"))), _1 = _0.next(); !_1.done; _1 = _0.next()) {
                                        var _2 = _1.value, e_985 = _2.suggestion, n_389 = _2.meta;
                                        n_389[BS("0x6b")] && !n_389[BS("0xa0")] && o[BS("0xa1")].apply(o, __spread(e_985[BS("0x9b")]()));
                                    }
                                }
                                catch (e_982_1) { e_982 = { error: e_982_1 }; }
                                finally {
                                    try {
                                        if (_1 && !_1.done && (_j = _0.return)) _j.call(_0);
                                    }
                                    finally { if (e_982) throw e_982.error; }
                                }
                                var r = function (t, e) {
                                    var e_986, _j;
                                    var n = [];
                                    try {
                                        for (var e_987 = __values(e), e_987_1 = e_987.next(); !e_987_1.done; e_987_1 = e_987.next()) {
                                            var i_254 = e_987_1.value;
                                            var e_988 = t.getIntersection(i_254);
                                            n.push(e_988);
                                        }
                                    }
                                    catch (e_986_1) { e_986 = { error: e_986_1 }; }
                                    finally {
                                        try {
                                            if (e_987_1 && !e_987_1.done && (_j = e_987.return)) _j.call(e_987);
                                        }
                                        finally { if (e_986) throw e_986.error; }
                                    }
                                    return n;
                                }(t, o), s = function (t, e) {
                                    var e_989, _j;
                                    var n = [t];
                                    try {
                                        for (var e_990 = __values(e), e_990_1 = e_990.next(); !e_990_1.done; e_990_1 = e_990.next()) {
                                            var t_530 = e_990_1.value;
                                            var e_991 = 0;
                                            for (; e_991 < n[BS("0x4d")];) {
                                                var i_255 = n[e_991][BS("0xa2")](t_530);
                                                n.splice.apply(n, __spread([e_991, 1], i_255)), e_991 += i_255[BS("0x4d")];
                                            }
                                        }
                                    }
                                    catch (e_989_1) { e_989 = { error: e_989_1 }; }
                                    finally {
                                        try {
                                            if (e_990_1 && !e_990_1.done && (_j = e_990.return)) _j.call(e_990);
                                        }
                                        finally { if (e_989) throw e_989.error; }
                                    }
                                    return n;
                                }(t, o);
                                r.length && this.k[BS("0x67")](function () {
                                    var e_992, _j;
                                    try {
                                        for (var r_94 = __values(r), r_94_1 = r_94.next(); !r_94_1.done; r_94_1 = r_94.next()) {
                                            var t_531 = r_94_1.value;
                                            _this[BS("0xd")][BS("0x99")](BS("0x41"), n, BS("0xa3"))([t_531], e);
                                        }
                                    }
                                    catch (e_992_1) { e_992 = { error: e_992_1 }; }
                                    finally {
                                        try {
                                            if (r_94_1 && !r_94_1.done && (_j = r_94.return)) _j.call(r_94);
                                        }
                                        finally { if (e_992) throw e_992.error; }
                                    }
                                });
                                try {
                                    for (var s_68 = __values(s), s_68_1 = s_68.next(); !s_68_1.done; s_68_1 = s_68.next()) {
                                        var t_532 = s_68_1.value;
                                        var o_159 = null, r_95 = t_532[BS("0x1c")], s_69 = t_532[BS("0x1d")];
                                        try {
                                            for (var _3 = __values(this.P(t_532, "formatInline")), _4 = _3.next(); !_4.done; _4 = _3.next()) {
                                                var _5 = _4.value, e_993 = _5.suggestion, i_256 = _5.meta;
                                                if (!i_256[BS("0x6b")])
                                                    continue;
                                                if (e_993[BS("0x96")] != n)
                                                    continue;
                                                var a_37 = e_993[BS("0x50")]();
                                                if (a_37[BS("0x6c")](t_532, !0))
                                                    return;
                                                r_95 = r_95.isBefore(a_37.start) ? r_95 : a_37[BS("0x1c")], s_69 = s_69[BS("0xa4")](a_37.end) ? s_69 : a_37.end, o_159 ? a_37[BS("0x1c")][BS("0xa5")](o_159.getFirstRange()[BS("0x1c")]) ? (o_159[BS("0xa6")](), o_159 = e_993) : e_993[BS("0xa6")]() : o_159 = e_993;
                                            }
                                        }
                                        catch (e_984_1) { e_984 = { error: e_984_1 }; }
                                        finally {
                                            try {
                                                if (_4 && !_4.done && (_z = _3.return)) _z.call(_3);
                                            }
                                            finally { if (e_984) throw e_984.error; }
                                        }
                                        var a_38 = this.k[BS("0x51")](r_95, s_69);
                                        if (o_159)
                                            this.H(o_159, a_38);
                                        else {
                                            var t_533 = Zn(), o_160 = i.id;
                                            this.J({ id: t_533, type: BS("0xa7") + n, data: e, createdAt: new Date, authorId: o_160 }), this.K(BS("0xa7") + n, t_533, o_160, a_38);
                                        }
                                    }
                                }
                                catch (e_983_1) { e_983 = { error: e_983_1 }; }
                                finally {
                                    try {
                                        if (s_68_1 && !s_68_1.done && (_q = s_68.return)) _q.call(s_68);
                                    }
                                    finally { if (e_983) throw e_983.error; }
                                }
                            };
                            LS.prototype.markBlockFormat = function (t, e, n, i) {
                                var _this = this;
                                var e_994, _j, e_995, _q;
                                if (n === void 0) { n = []; }
                                if (i === void 0) { i = null; }
                                e[BS("0xa8")] || (e[BS("0xa8")] = e[BS("0xa9")]), e[BS("0x68")] = t instanceof Ks, i = i || HS(e);
                                var o = n.map(function (t) { return YS(t, _this.k); }), r = t instanceof Ks ? t : YS(t, this.k);
                                o[BS("0xa1")](r);
                                var s = !0;
                                try {
                                    for (var o_161 = __values(o), o_161_1 = o_161.next(); !o_161_1.done; o_161_1 = o_161.next()) {
                                        var t_534 = o_161_1.value;
                                        if (!this.V(t_534)) {
                                            s = !1;
                                            break;
                                        }
                                    }
                                }
                                catch (e_994_1) { e_994 = { error: e_994_1 }; }
                                finally {
                                    try {
                                        if (o_161_1 && !o_161_1.done && (_j = o_161.return)) _j.call(o_161);
                                    }
                                    finally { if (e_994) throw e_994.error; }
                                }
                                if (s)
                                    return void this[BS("0xd")][BS("0x99")](BS("0x45"), i, "accept")([r], e);
                                var a = null, c = r[BS("0x1c")], l = r.end;
                                try {
                                    for (var _z = __values(this.P(r, BS("0x45"))), _0 = _z.next(); !_0.done; _0 = _z.next()) {
                                        var _1 = _0.value, t_535 = _1.suggestion, n_390 = _1.meta;
                                        if (!n_390[BS("0x6b")] || n_390.isNextTo || n_390[BS("0x69")] || n_390.isInsideObject)
                                            continue;
                                        if (t_535[BS("0x57")][BS("0xa8")] != e.formatGroupId)
                                            continue;
                                        var o_162 = t_535[BS("0x50")]();
                                        if (t_535[BS("0x96")] == i) {
                                            if (o_162[BS("0x6c")](r, !0))
                                                return;
                                            c = c[BS("0xa5")](o_162.start) ? c : o_162[BS("0x1c")], l = l[BS("0xa4")](o_162[BS("0x1d")]) ? l : o_162[BS("0x1d")], a ? o_162[BS("0x1c")][BS("0xa5")](a[BS("0x50")]()[BS("0x1c")]) ? (a[BS("0xa6")](), a = t_535) : t_535.removeMarkers() : a = t_535;
                                        }
                                        else {
                                            var e_996 = r[BS("0xaa")](o_162);
                                            this.X(t_535, e_996);
                                        }
                                    }
                                }
                                catch (e_995_1) { e_995 = { error: e_995_1 }; }
                                finally {
                                    try {
                                        if (_0 && !_0.done && (_q = _z.return)) _q.call(_z);
                                    }
                                    finally { if (e_995) throw e_995.error; }
                                }
                                var d = this[BS("0xc")][BS("0x6")][BS("0x7")](BS("0x95")).me, u = Zn(), h = d.id;
                                a ? this.H(a, this.k[BS("0x51")](c, l)) : (this.J({ id: u, type: BS("0xab") + i, data: e, createdAt: new Date, authorId: h }), this.K(BS("0xab") + i, u, h, this.k[BS("0x51")](c, l)));
                            };
                            LS.prototype.markDeletion = function (t, e) {
                                var e_997, _j, e_998, _q, e_999, _z;
                                if (e === void 0) { e = null; }
                                if (t[BS("0x43")])
                                    return null;
                                var n = this.editor[BS("0x6")][BS("0x7")](BS("0x95")).me, i = new aa(t[BS("0x1c")], t[BS("0x1d")]);
                                try {
                                    for (var _0 = __values(this.P(i, "insertion")), _1 = _0.next(); !_1.done; _1 = _0.next()) {
                                        var _2 = _1.value, t_536 = _2.suggestion, n_391 = _2.meta;
                                        if (n_391[BS("0x6b")] && !n_391.isNextTo)
                                            if (t_536[BS("0xac")]) {
                                                var n_392 = t_536[BS("0x9b")]();
                                                if (n_392.every(function (t) { return i.containsRange(t, !0); }) && t_536[BS("0xad")](), n_392.some(function (t) { return t[BS("0x6c")](i, !0); }))
                                                    return this[BS("0xd")][BS("0x99")](BS("0xae"), e, BS("0xa3"))([i]), null;
                                            }
                                            else {
                                                var e_1000 = i[BS("0xaa")](t_536[BS("0x50")]());
                                                t_536._onDiscard([e_1000]);
                                            }
                                    }
                                }
                                catch (e_997_1) { e_997 = { error: e_997_1 }; }
                                finally {
                                    try {
                                        if (_1 && !_1.done && (_j = _0.return)) _j.call(_0);
                                    }
                                    finally { if (e_997) throw e_997.error; }
                                }
                                if (i[BS("0xaf")](), i[BS("0x43")] || BS("0xb0") == i[BS("0x44")][BS("0xb1")])
                                    return null;
                                var o = null, r = i[BS("0x1c")], s = i[BS("0x1d")];
                                try {
                                    for (var _3 = __values(this.P(i, BS("0xae"))), _4 = _3.next(); !_4.done; _4 = _3.next()) {
                                        var _5 = _4.value, t_537 = _5.suggestion, e_1001 = _5.meta;
                                        if (e_1001[BS("0x6b")])
                                            if (t_537[BS("0xac")]) {
                                                var e_1002 = !0;
                                                try {
                                                    for (var _6 = __values(t_537[BS("0x9b")]()), _7 = _6.next(); !_7.done; _7 = _6.next()) {
                                                        var n_393 = _7.value;
                                                        if (n_393[BS("0x6c")](i, !0))
                                                            return t_537;
                                                        i[BS("0x6c")](n_393) || (e_1002 = !1);
                                                    }
                                                }
                                                catch (e_999_1) { e_999 = { error: e_999_1 }; }
                                                finally {
                                                    try {
                                                        if (_7 && !_7.done && (_z = _6.return)) _z.call(_6);
                                                    }
                                                    finally { if (e_999) throw e_999.error; }
                                                }
                                                e_1002 && t_537[BS("0xad")]();
                                            }
                                            else {
                                                var e_1003 = t_537[BS("0x50")]();
                                                if (e_1003[BS("0x6c")](i, !0))
                                                    return t_537;
                                                r = r[BS("0xa5")](e_1003[BS("0x1c")]) ? r : e_1003[BS("0x1c")], s = s[BS("0xa4")](e_1003[BS("0x1d")]) ? s : e_1003.end, o ? e_1003[BS("0x1c")][BS("0xa5")](o[BS("0x50")]().start) ? (o.removeMarkers(), o = t_537) : t_537[BS("0xa6")]() : o = t_537;
                                            }
                                    }
                                }
                                catch (e_998_1) { e_998 = { error: e_998_1 }; }
                                finally {
                                    try {
                                        if (_4 && !_4.done && (_q = _3.return)) _q.call(_3);
                                    }
                                    finally { if (e_998) throw e_998.error; }
                                }
                                if (o)
                                    return this.H(o, this.k.createRange(r, s)), o;
                                {
                                    var t_538 = Zn(), i_257 = this.k[BS("0x51")](r, s), o_163 = n.id, a_39 = e ? BS("0xb2") + e : "deletion", c_27 = this.J({ id: t_538, type: a_39, createdAt: new Date, authorId: o_163 });
                                    return this.K(a_39, t_538, o_163, i_257), c_27;
                                }
                            };
                            LS.prototype[BS("0xb3")] = function (t, e) {
                                var e_1004, _j, e_1005, _q, e_1006, _z, e_1007, _0, e_1008, _1, e_1009, _2, e_1010, _3, e_1011, _4, e_1012, _5, e_1013, _6;
                                if (e === void 0) { e = BS("0x98"); }
                                var n = this[BS("0xc")][BS("0x6")][BS("0x7")](BS("0x95")).me, i = t[BS("0x3")](function (t) { return new aa(t.start, t[BS("0x1d")]); }), o = new Set;
                                try {
                                    for (var i_258 = __values(i), i_258_1 = i_258.next(); !i_258_1.done; i_258_1 = i_258.next()) {
                                        var t_540 = i_258_1.value;
                                        try {
                                            for (var _7 = __values(this.P(t_540, "insertion")), _8 = _7.next(); !_8.done; _8 = _7.next()) {
                                                var _9 = _8.value, e_1014 = _9.suggestion, n_394 = _9.meta;
                                                n_394[BS("0x6b")] && !n_394[BS("0xa0")] && o[BS("0x22")](e_1014);
                                            }
                                        }
                                        catch (e_1005_1) { e_1005 = { error: e_1005_1 }; }
                                        finally {
                                            try {
                                                if (_8 && !_8.done && (_q = _7.return)) _q.call(_7);
                                            }
                                            finally { if (e_1005) throw e_1005.error; }
                                        }
                                    }
                                }
                                catch (e_1004_1) { e_1004 = { error: e_1004_1 }; }
                                finally {
                                    try {
                                        if (i_258_1 && !i_258_1.done && (_j = i_258.return)) _j.call(i_258);
                                    }
                                    finally { if (e_1004) throw e_1004.error; }
                                }
                                var _loop_29 = function (n_395) {
                                    if (n_395[BS("0xac")]) {
                                        var o_166 = n_395[BS("0x9b")]();
                                        if (o_166.every(function (t) { return i.some(function (e) { return e.containsRange(t, !0); }); }) && n_395[BS("0xad")](), i.every(function (t) { return o_166.some(function (e) { return e[BS("0x6c")](t, !0); }); }))
                                            return { value: (this_6[BS("0xd")][BS("0x99")]("deletion", e, "accept")(t), null) };
                                    }
                                    else {
                                        var t_541 = n_395[BS("0x50")]();
                                        if (i[BS("0xb4")](function (e) { return e[BS("0x6c")](t_541, !0); }) && n_395[BS("0xad")](), i[BS("0xb5")](function (e) { return t_541.containsRange(e, !0); }))
                                            return { value: (this_6[BS("0xd")].getSuggestionCallback(BS("0xae"), e, BS("0xa3"))(i), null) };
                                    }
                                };
                                var this_6 = this;
                                try {
                                    for (var o_164 = __values(o), o_164_1 = o_164.next(); !o_164_1.done; o_164_1 = o_164.next()) {
                                        var n_395 = o_164_1.value;
                                        var state_2 = _loop_29(n_395);
                                        if (typeof state_2 === "object")
                                            return state_2.value;
                                    }
                                }
                                catch (e_1006_1) { e_1006 = { error: e_1006_1 }; }
                                finally {
                                    try {
                                        if (o_164_1 && !o_164_1.done && (_z = o_164.return)) _z.call(o_164);
                                    }
                                    finally { if (e_1006) throw e_1006.error; }
                                }
                                var r = this[BS("0xd")][BS("0x99")]("deletion", e, BS("0x5"));
                                var s = null;
                                try {
                                    for (var _10 = __values(this[BS("0x88")]()), _11 = _10.next(); !_11.done; _11 = _10.next()) {
                                        var i_261 = _11.value;
                                        if (i_261.author.id == n.id && i_261[BS("0x47")] && BS("0xae") == i_261.type && i_261[BS("0x96")] == e && (r(i_261[BS("0x9b")](), t) || r(t, i_261[BS("0x9b")]())))
                                            if (s) {
                                                if (i_261[BS("0x84")] && i_261[BS("0x84")][BS("0x4d")])
                                                    continue;
                                                try {
                                                    for (var _12 = __values(i_261[BS("0x9b")]()), _13 = _12.next(); !_13.done; _13 = _12.next()) {
                                                        var t_542 = _13.value;
                                                        s[BS("0x9c")](t_542);
                                                    }
                                                }
                                                catch (e_1008_1) { e_1008 = { error: e_1008_1 }; }
                                                finally {
                                                    try {
                                                        if (_13 && !_13.done && (_1 = _12.return)) _1.call(_12);
                                                    }
                                                    finally { if (e_1008) throw e_1008.error; }
                                                }
                                                i_261[BS("0xa6")]();
                                            }
                                            else {
                                                s = i_261;
                                                try {
                                                    for (var t_539 = __values(t), t_539_1 = t_539.next(); !t_539_1.done; t_539_1 = t_539.next()) {
                                                        var e_1015 = t_539_1.value;
                                                        i_261[BS("0x9c")](e_1015);
                                                    }
                                                }
                                                catch (e_1009_1) { e_1009 = { error: e_1009_1 }; }
                                                finally {
                                                    try {
                                                        if (t_539_1 && !t_539_1.done && (_2 = t_539.return)) _2.call(t_539);
                                                    }
                                                    finally { if (e_1009) throw e_1009.error; }
                                                }
                                            }
                                    }
                                }
                                catch (e_1007_1) { e_1007 = { error: e_1007_1 }; }
                                finally {
                                    try {
                                        if (_11 && !_11.done && (_0 = _10.return)) _0.call(_10);
                                    }
                                    finally { if (e_1007) throw e_1007.error; }
                                }
                                if (s)
                                    return s;
                                o.clear();
                                try {
                                    for (var i_259 = __values(i), i_259_1 = i_259.next(); !i_259_1.done; i_259_1 = i_259.next()) {
                                        var t_543 = i_259_1.value;
                                        try {
                                            for (var _14 = __values(this.P(t_543, "deletion")), _15 = _14.next(); !_15.done; _15 = _14.next()) {
                                                var _16 = _15.value, e_1016 = _16.suggestion, n_396 = _16.meta;
                                                n_396[BS("0x6b")] && o.add(e_1016);
                                            }
                                        }
                                        catch (e_1011_1) { e_1011 = { error: e_1011_1 }; }
                                        finally {
                                            try {
                                                if (_15 && !_15.done && (_4 = _14.return)) _4.call(_14);
                                            }
                                            finally { if (e_1011) throw e_1011.error; }
                                        }
                                    }
                                }
                                catch (e_1010_1) { e_1010 = { error: e_1010_1 }; }
                                finally {
                                    try {
                                        if (i_259_1 && !i_259_1.done && (_3 = i_259.return)) _3.call(i_259);
                                    }
                                    finally { if (e_1010) throw e_1010.error; }
                                }
                                var _loop_30 = function (t_544) {
                                    var e_1017 = t_544[BS("0x9b")]();
                                    if (i[BS("0xb5")](function (t) { return e_1017.some(function (e) { return e[BS("0x6c")](t, !0); }); }))
                                        return { value: t_544 };
                                    e_1017[BS("0xb5")](function (t) { return i[BS("0xb4")](function (e) { return e[BS("0x6c")](t, !0); }); }) && t_544[BS("0xad")]();
                                };
                                try {
                                    for (var o_165 = __values(o), o_165_1 = o_165.next(); !o_165_1.done; o_165_1 = o_165.next()) {
                                        var t_544 = o_165_1.value;
                                        var state_3 = _loop_30(t_544);
                                        if (typeof state_3 === "object")
                                            return state_3.value;
                                    }
                                }
                                catch (e_1012_1) { e_1012 = { error: e_1012_1 }; }
                                finally {
                                    try {
                                        if (o_165_1 && !o_165_1.done && (_5 = o_165.return)) _5.call(o_165);
                                    }
                                    finally { if (e_1012) throw e_1012.error; }
                                }
                                var a = Zn(), c = n.id, l = "deletion:" + e, d = this.J({ id: a, type: l, createdAt: new Date, authorId: c });
                                try {
                                    for (var i_260 = __values(i), i_260_1 = i_260.next(); !i_260_1.done; i_260_1 = i_260.next()) {
                                        var t_545 = i_260_1.value;
                                        t_545[BS("0xaf")](), t_545[BS("0x43")] || BS("0xb0") == t_545[BS("0x44")].rootName || this.K(l, a, c, t_545, sA[BS("0x9e")]());
                                    }
                                }
                                catch (e_1013_1) { e_1013 = { error: e_1013_1 }; }
                                finally {
                                    try {
                                        if (i_260_1 && !i_260_1.done && (_6 = i_260.return)) _6.call(i_260);
                                    }
                                    finally { if (e_1013) throw e_1013.error; }
                                }
                                return d;
                            };
                            LS.prototype.H = function (t, e) { var n = t[BS("0x52")](); this.k[BS("0x67")](function (t) { t.updateMarker(n, { range: e }); }); };
                            LS.prototype.Y = function (t) { this.D[BS("0xb6")].has(t) || this.D[BS("0xb7")]({ threadId: t }), this.o.get(t).commentThread = this.D[BS("0xb6")][BS("0x7")](t); };
                            LS.prototype.G = function (t, e, n, i) { if (t.type != e || t[BS("0x96")] != n || t.author.id != i)
                                throw this[BS("0xc")].isReadOnly = !0, new Gn.b(BS("0xb8"), this); };
                            LS.prototype.X = function (t, e) { var n = t.getFirstRange(); if (e.isEqual(n))
                                t[BS("0xa6")]();
                            else if (n[BS("0x6c")](e)) {
                                var i_262 = this.k[BS("0x60")](e.start[BS("0x77")], BS("0x1d"));
                                this.H(t, this.k.createRange(n[BS("0x1c")], i_262));
                                var o_167 = Zn(), r_96 = t[BS("0x9a")].id, s_70 = t[BS("0x35")] + ":" + t.subType;
                                this.J({ id: o_167, type: s_70, createdAt: new Date, authorId: r_96, data: t[BS("0x57")] });
                                var a_40 = this.k[BS("0x60")](e[BS("0x1d")][BS("0xb9")], BS("0xba")), c_28 = this.k[BS("0x51")](a_40, n[BS("0x1d")]);
                                this.K(s_70, o_167, r_96, c_28);
                            }
                            else if (n.containsPosition(e.start)) {
                                var i_263 = this.k.createPositionAt(e[BS("0x1c")][BS("0x77")], "end");
                                this.H(t, this.k[BS("0x51")](n[BS("0x1c")], i_263));
                            }
                            else {
                                var i_264 = this.k[BS("0x60")](e[BS("0x1d")].parent, BS("0xba"));
                                this.H(t, this.k[BS("0x51")](i_264, n[BS("0x1d")]));
                            } };
                            LS.prototype.V = function (t) {
                                var e_1018, _j, e_1019, _q;
                                try {
                                    for (var _z = __values(this.P(t, "insertion")), _0 = _z.next(); !_0.done; _0 = _z.next()) {
                                        var _1 = _0.value, e_1020 = _1.suggestion, n_397 = _1.meta;
                                        if (!n_397[BS("0x6b")])
                                            continue;
                                        var i_266 = e_1020[BS("0x9b")]();
                                        try {
                                            for (var i_265 = __values(i_266), i_265_1 = i_265.next(); !i_265_1.done; i_265_1 = i_265.next()) {
                                                var e_1021 = i_265_1.value;
                                                if (!t[BS("0xa2")](e_1021)[BS("0x4d")])
                                                    return !0;
                                            }
                                        }
                                        catch (e_1019_1) { e_1019 = { error: e_1019_1 }; }
                                        finally {
                                            try {
                                                if (i_265_1 && !i_265_1.done && (_q = i_265.return)) _q.call(i_265);
                                            }
                                            finally { if (e_1019) throw e_1019.error; }
                                        }
                                    }
                                }
                                catch (e_1018_1) { e_1018 = { error: e_1018_1 }; }
                                finally {
                                    try {
                                        if (_0 && !_0.done && (_j = _z.return)) _j.call(_z);
                                    }
                                    finally { if (e_1018) throw e_1018.error; }
                                }
                                return !1;
                            };
                            LS.prototype.Z = function (t) { var e = this[BS("0xc")][BS("0x6")][BS("0x7")](BS("0x95")).getUser(t); if (!e)
                                throw new Gn.b("track-changes-user-not-found: User with given id not found.", this); return e; };
                            LS.prototype.W = function (t, e, n, i) {
                                var _this = this;
                                var o = this.Z(i), r = this[BS("0xd")][BS("0xbb")](t, e, n, o);
                                return this[BS("0x82")](r, BS("0xa3"), function () { _this.q(n, { state: "accepted" }); }, { priority: BS("0x39") }), this[BS("0x82")](r, BS("0xad"), function () { _this.q(n, { state: BS("0xbc") }); }, { priority: BS("0x39") }), this.o[BS("0x8d")](n, r), this._[BS("0x8d")](r, "notReady"), r;
                            };
                            LS.prototype[BS("0x19")] = function (t) { var e = t[BS("0x62")](":"); return { group: e[0], type: e[1], subType: e[BS("0x4d")] >= 5 ? e[2] : null, id: e.length < 5 ? e[2] : e[3], authorId: e[BS("0x4d")] < 5 ? e[3] : e[4], markerCount: 6 == e[BS("0x4d")] ? e[5] : null }; };
                            LS.prototype.L = function (t, e, n) { var i = t[BS("0x50")](), o = i.start, r = i[BS("0x1d")]; this.H(t, this.k.createRange(o, e)); var s = Zn(), a = t[BS("0x9a")].id, c = t[BS("0x35")] + (t[BS("0x96")] ? ":" + t[BS("0x96")] : ""); this.J({ id: s, type: c, createdAt: new Date, authorId: a, originalSuggestionId: t.id, data: t[BS("0x57")] }), BS("0x45") == t[BS("0x35")] && (n = this.k[BS("0xbd")](n[BS("0xb9")])), this.K(c, s, a, this.k[BS("0x51")](n, r)); };
                            LS.prototype.P = function (t, e) {
                                var e_1022, _j, e_1023, _q;
                                if (e === void 0) { e = null; }
                                var n = [], i = this.k[BS("0x2a")], o = this[BS("0xc")].plugins[BS("0x7")](BS("0x95")).me;
                                try {
                                    for (var _z = __values(this.getSuggestions()), _0 = _z.next(); !_0.done; _0 = _z.next()) {
                                        var r_97 = _0.value;
                                        if (r_97[BS("0x47")] && (!e || r_97[BS("0x35")] == e))
                                            try {
                                                for (var _1 = __values(r_97[BS("0x9b")]()), _2 = _1.next(); !_2.done; _2 = _1.next()) {
                                                    var e_1024 = _2.value;
                                                    var s_71 = t[BS("0x1c")][BS("0xbe")](e_1024[BS("0x1d")]) || t[BS("0x1d")].isEqual(e_1024[BS("0x1c")]);
                                                    if (s_71 || t[BS("0xaa")](e_1024)) {
                                                        var a_41 = t[BS("0x6c")](e_1024) && zS(i, e_1024.start, t), c_29 = e_1024[BS("0x6c")](t) && zS(i, t[BS("0x1c")], e_1024);
                                                        n[BS("0xa1")]({ suggestion: r_97, meta: { isOwn: o == r_97[BS("0x9a")], isNextTo: s_71, isInsideObject: a_41, containsRangeInObject: c_29 } });
                                                        break;
                                                    }
                                                }
                                            }
                                            catch (e_1023_1) { e_1023 = { error: e_1023_1 }; }
                                            finally {
                                                try {
                                                    if (_2 && !_2.done && (_q = _1.return)) _q.call(_1);
                                                }
                                                finally { if (e_1023) throw e_1023.error; }
                                            }
                                    }
                                }
                                catch (e_1022_1) { e_1022 = { error: e_1022_1 }; }
                                finally {
                                    try {
                                        if (_0 && !_0.done && (_j = _z.return)) _j.call(_z);
                                    }
                                    finally { if (e_1022) throw e_1022.error; }
                                }
                                return n;
                            };
                            LS.prototype.K = function (t, e, n, i, o) {
                                if (o === void 0) { o = null; }
                                this.k[BS("0x67")](function (r) { var s = BS("0xbf") + t + ":" + e + ":" + n; o && (s = s + ":" + o), r.addMarker(s, { range: i, usingOperation: !0, affectsData: !0 }); });
                            };
                            LS.prototype.N = function (t) { var e = t[BS("0xc0")], n = t[BS("0xc1")]; t.previous = null, null != e && (e.next = null), t[BS("0xc1")] = null, "ready" == this._.get(t) && (this._[BS("0x8d")](t, BS("0x93")), this.fire(BS("0xc2"), t, e, n)), null != n && (n[BS("0xc0")] = null); };
                            LS.prototype.J = function (t) {
                                var _this = this;
                                var e = t.id, n = this[BS("0x8a")](t);
                                if (this.Y(e), this.I && this.I[BS("0xc3")]) {
                                    var i_267 = n[BS("0xc4")], o_168 = n.subType ? n.type + ":" + n[BS("0x96")] : n[BS("0x35")];
                                    this[BS("0xc5")][BS("0x8d")](e);
                                    var r_98 = { id: e, type: o_168, hasComments: i_267, data: t[BS("0x57")] || null, originalSuggestionId: t[BS("0xc6")] || null };
                                    this.I[BS("0xc3")](r_98)[BS("0xc7")](function (t) { _this[BS("0xc5")][BS("0xc8")](e), t && t[BS("0x8b")] && (_this.o[BS("0x7")](e)[BS("0x8b")] = t[BS("0x8b")]); });
                                }
                                return n;
                            };
                            LS.prototype.q = function (t, e) {
                                var _this = this;
                                this.I && this.I[BS("0xc9")] && (this.pendingSuggestions[BS("0x8d")](t), this.I.updateSuggestion(t, e)[BS("0xc7")](function () { _this.pendingSuggestions[BS("0xc8")](t); }));
                            };
                            LS.prototype.tt = function (t) { if (!this.I || !this.I.getSuggestion)
                                throw new Gn.b(BS("0xca"), this); return this.I[BS("0x89")](t); };
                            LS.prototype.U = function (t) {
                                var _this = this;
                                var _j = this._splitMarkerName(t), e = _j.id, n = _j.type, i = _j.subType, o = _j.authorId, r = this.o[BS("0x7")](e) || this.W(n, i, e, o);
                                switch ((this.G(r, n, i, o), this._[BS("0x7")](r))) {
                                    case BS("0x8c"):
                                        this.tt(e)[BS("0xc7")](function (t) { _this.addSuggestionData(t); var n = Promise.resolve(); t[BS("0xc4")] && (n = _this.D._getCommentThread(e)), n[BS("0xc7")](function () { return _this.Y(e); }); }), this._[BS("0x8d")](r, BS("0x8f"));
                                        break;
                                    case "removed": this.q(e, { state: "open" });
                                    case "dataReady":
                                        this._[BS("0x8d")](r, "ready"), this.Y(e), this[BS("0x91")](BS("0x92"), r);
                                        break;
                                    case BS("0x90"): this[BS("0x91")](BS("0x5a"), r);
                                }
                                r[BS("0x54")](t), this.F(r);
                            };
                            LS.prototype.F = function (t) {
                                var e_1025, _j;
                                if (BS("0x41") == t[BS("0x35")] || "formatBlock" == t[BS("0x35")])
                                    return;
                                if (t.isMultiRange)
                                    return;
                                var e = !0;
                                try {
                                    for (var _q = __values(this[BS("0x88")]()), _z = _q.next(); !_z.done; _z = _q.next()) {
                                        var n_398 = _z.value;
                                        if (!n_398[BS("0xac")] && n_398 != t && n_398[BS("0x47")] && BS("0x41") != n_398.type && BS("0x45") != n_398[BS("0x35")] && n_398.author.id == t[BS("0x9a")].id) {
                                            if (this.it(n_398, t)) {
                                                if (t[BS("0x84")] && t[BS("0x84")][BS("0x4d")])
                                                    continue;
                                                n_398[BS("0xc1")] = t, t.previous = n_398, e = !1;
                                            }
                                            if (this.it(t, n_398)) {
                                                if (n_398[BS("0x84")] && n_398[BS("0x84")][BS("0x4d")])
                                                    continue;
                                                t[BS("0xc1")] = n_398, n_398[BS("0xc0")] = t;
                                            }
                                        }
                                    }
                                }
                                catch (e_1025_1) { e_1025 = { error: e_1025_1 }; }
                                finally {
                                    try {
                                        if (_z && !_z.done && (_j = _q.return)) _j.call(_q);
                                    }
                                    finally { if (e_1025) throw e_1025.error; }
                                }
                                t[BS("0xc0")] && e && (t[BS("0xc0")][BS("0xc1")] = null, t[BS("0xc0")] = null);
                            };
                            LS.prototype.it = function (t, e) {
                                var e_1026, _j;
                                var n = t[BS("0x50")](), i = e[BS("0x50")]();
                                if (n[BS("0x1d")][BS("0xbe")](i[BS("0x1c")]))
                                    return !0;
                                if (t[BS("0x35")] != e.type)
                                    return !1;
                                if (!n[BS("0x1d")][BS("0xcb")](i[BS("0x1c")]))
                                    return !1;
                                var o = new Ws({ boundaries: this.editor[BS("0xe")][BS("0x51")](n[BS("0x1d")], i[BS("0x1c")]) });
                                try {
                                    for (var o_169 = __values(o), o_169_1 = o_169.next(); !o_169_1.done; o_169_1 = o_169.next()) {
                                        var t_546 = o_169_1.value;
                                        if (BS("0x38") == t_546[BS("0x35")] && this.editor.model[BS("0x2a")][BS("0xcc")](t_546[BS("0x26")]))
                                            return !1;
                                    }
                                }
                                catch (e_1026_1) { e_1026 = { error: e_1026_1 }; }
                                finally {
                                    try {
                                        if (o_169_1 && !o_169_1.done && (_j = o_169.return)) _j.call(o_169);
                                    }
                                    finally { if (e_1026) throw e_1026.error; }
                                }
                                return !0;
                            };
                            LS.prototype.B = function (t) {
                                var e_1027, _j;
                                try {
                                    for (var _q = __values(this.o[BS("0x4f")]()), _z = _q.next(); !_z.done; _z = _q.next()) {
                                        var e_1028 = _z.value;
                                        if (e_1028 == t || !e_1028.isInContent)
                                            continue;
                                        if (e_1028.type != t[BS("0x35")] || e_1028.author.id != t[BS("0x9a")].id || e_1028[BS("0x96")] != t.subType)
                                            continue;
                                        var n_399 = this[BS("0xd")][BS("0x99")](t[BS("0x35")], t[BS("0x96")], BS("0x5"));
                                        if (n_399(e_1028[BS("0x9b")](), t[BS("0x9b")]())) {
                                            if (t[BS("0x84")] && t[BS("0x84")][BS("0x4d")])
                                                continue;
                                            return this.et(e_1028, t), !0;
                                        }
                                        if (n_399(t[BS("0x9b")](), e_1028.getRanges())) {
                                            if (e_1028[BS("0x84")] && e_1028[BS("0x84")][BS("0x4d")])
                                                continue;
                                            return this.et(t, e_1028), !0;
                                        }
                                    }
                                }
                                catch (e_1027_1) { e_1027 = { error: e_1027_1 }; }
                                finally {
                                    try {
                                        if (_z && !_z.done && (_j = _q.return)) _j.call(_q);
                                    }
                                    finally { if (e_1027) throw e_1027.error; }
                                }
                                return !1;
                            };
                            LS.prototype.et = function (t, e) {
                                var e_1029, _j;
                                if (t[BS("0xac")])
                                    try {
                                        for (var _q = __values(e[BS("0x9b")]()), _z = _q.next(); !_z.done; _z = _q.next()) {
                                            var n_400 = _z.value;
                                            t[BS("0x9c")](n_400);
                                        }
                                    }
                                    catch (e_1029_1) { e_1029 = { error: e_1029_1 }; }
                                    finally {
                                        try {
                                            if (_z && !_z.done && (_j = _q.return)) _j.call(_q);
                                        }
                                        finally { if (e_1029) throw e_1029.error; }
                                    }
                                else {
                                    var n_401 = e.getFirstRange().end;
                                    this.H(t, this.k[BS("0x51")](t[BS("0x50")]()[BS("0x1c")], n_401));
                                }
                                e.removeMarkers();
                            };
                            return LS;
                        }(Sd));
                        li(LS, ni);
                        var VS = /** @class */ (function () {
                            function VS(t) {
                                this.st = t, this.ot = new Set, this.nt = null;
                            }
                            VS.prototype[BS("0x8d")] = function (t) { this.ot.add(t), this.nt || (this.nt = this.st.add("Unsaved changes in track changes.")); };
                            VS.prototype[BS("0xc8")] = function (t) { this.ot[BS("0xcd")](t), this.nt && !this.ot[BS("0xce")] && (this.st[BS("0xc8")](this.nt), this.nt = null); };
                            return VS;
                        }());
                        var FS = /** @class */ (function () {
                            function FS(t) {
                                this.rt = t, this.k = t[BS("0xe")], this.v = new Map, this.ct = new Map, this.at();
                            }
                            FS.prototype[BS("0xbb")] = function (t, e, n, i) { return new sA(this.k, { type: t, subType: e, id: n, author: i, onAccept: this[BS("0x99")](t, e, BS("0xa3")), onDiscard: this[BS("0x99")](t, e, BS("0xad")) }); };
                            FS.prototype[BS("0xcf")] = function (t, e, n, i) { var o = t + ":" + e + ":" + n; this.v[BS("0x8d")](o, i); };
                            FS.prototype[BS("0x99")] = function (t, e, n) { var i = t + ":" + e + ":" + n; return this.v.get(i) || this.ct[BS("0x7")](t + ":" + n); };
                            FS.prototype.at = function () {
                                var _this = this;
                                var t = function () { }, e = function (t) { t[BS("0x56")](function (t, e) { return t[BS("0x1c")][BS("0xa5")](e[BS("0x1c")]) ? 1 : -1; }), _this.k[BS("0x67")](function (e) {
                                    var e_1030, _j;
                                    try {
                                        for (var t_547 = __values(t), t_547_1 = t_547.next(); !t_547_1.done; t_547_1 = t_547.next()) {
                                            var n_402 = t_547_1.value;
                                            var t_548 = e.createSelection(n_402);
                                            _this.k[BS("0x6e")](t_548, { forceDefaultExecution: !0, doNotAutoparagraph: !0 });
                                        }
                                    }
                                    catch (e_1030_1) { e_1030 = { error: e_1030_1 }; }
                                    finally {
                                        try {
                                            if (t_547_1 && !t_547_1.done && (_j = t_547.return)) _j.call(t_547);
                                        }
                                        finally { if (e_1030) throw e_1030.error; }
                                    }
                                }); }, n = function (t, e) { _this.k[BS("0x67")](function (n) {
                                    var _j;
                                    var i = e.commandName, o = e.commandParams, r = t[0];
                                    if (BS("0xb0") == r[BS("0x44")][BS("0xb1")])
                                        return;
                                    var s = aa[BS("0xd0")](_this.k[BS("0x3e")][BS("0xd1")][BS("0x50")]());
                                    !function (t) { return t.end.parent == t[BS("0x1c")][BS("0xd2")] && 0 == t.end[BS("0xd3")]; }(r) ? n.setSelection(r) : n[BS("0x71")](_this.k[BS("0x51")](r.end)), _this.rt.commands[BS("0x7")](i)[BS("0xd4")](), o.push({ forceDefaultExecution: !0 }), (_j = _this.rt)[BS("0x83")].apply(_j, __spread([i], o)), BS("0xb0") != s[BS("0x44")][BS("0xb1")] && n[BS("0x71")](s), s[BS("0xaf")]();
                                }); }, i = function (t, e) { return 1 == t[BS("0x4d")] && 1 == e[BS("0x4d")] && t[0].end[BS("0xbe")](e[0].start); };
                                this.ct[BS("0x8d")](BS("0xd5"), t), this.ct[BS("0x8d")](BS("0xd6"), e), this.ct[BS("0x8d")]("insertion:join", i), this.ct.set("deletion:accept", e), this.ct[BS("0x8d")]("deletion:discard", t), this.ct.set("deletion:join", i), this.ct[BS("0x8d")](BS("0xd7"), n), this.ct[BS("0x8d")](BS("0xd8"), t), this.ct[BS("0x8d")](BS("0xd9"), i), this.ct[BS("0x8d")](BS("0xda"), n), this.ct.set(BS("0xdb"), t), this.ct[BS("0x8d")](BS("0xdc"), i);
                            };
                            return FS;
                        }());
                        function zS(t, e, n) {
                            var e_1031, _j;
                            try {
                                for (var _q = __values(e[BS("0xb9")][BS("0xdd")]({ includeSelf: !0, parentFirst: !0 })), _z = _q.next(); !_z.done; _z = _q.next()) {
                                    var i_268 = _z.value;
                                    if (i_268[BS("0x44")] == i_268)
                                        return !1;
                                    if (!n[BS("0xde")](i_268))
                                        return !1;
                                    if (t[BS("0x36")](i_268) || t[BS("0xcc")](i_268))
                                        return !0;
                                }
                            }
                            catch (e_1031_1) { e_1031 = { error: e_1031_1 }; }
                            finally {
                                try {
                                    if (_z && !_z.done && (_j = _q.return)) _j.call(_q);
                                }
                                finally { if (e_1031) throw e_1031.error; }
                            }
                        }
                        function US(t, e, n, i) { var o = t[BS("0x1c")][BS("0xdf")](function (t) { return !t[BS("0x26")].is("textProxy") && !i[BS("0x36")](t.item); }), r = t[BS("0x1d")][BS("0xdf")](function (t) { return !t.item.is("textProxy") && !i[BS("0x36")](t[BS("0x26")]); }, { direction: BS("0xe0") }); if (!t[BS("0x1c")].isEqual(o) || !t.end[BS("0xbe")](r)) {
                            var t_549 = n.createRange(o, r);
                            return n[BS("0xb")](e, { range: t_549 }), !0;
                        } return !1; }
                        function HS(t) { return function (t) {
                            var e_1032, _j, _q, _z;
                            var e = 0, n = 0;
                            try {
                                for (var _0 = __values(MS(t)), _1 = _0.next(); !_1.done; _1 = _0.next()) {
                                    var i_269 = _1.value;
                                    e = (e << 5) - e + i_269, e &= e, (_q = [n, e], _z = __read(_q, 2), e = _z[0], n = _z[1], _q);
                                }
                            }
                            catch (e_1032_1) { e_1032 = { error: e_1032_1 }; }
                            finally {
                                try {
                                    if (_1 && !_1.done && (_j = _0.return)) _j.call(_0);
                                }
                                finally { if (e_1032) throw e_1032.error; }
                            }
                            return DS(e) + DS(n);
                        }(t); }
                        function qS(t) { var e = t.start[BS("0xd2")]; return e && e.is(BS("0x2b")); }
                        function YS(t, e) { return e[BS("0x51")](e[BS("0x60")](t, "before"), e[BS("0x2a")][BS("0x36")](t) ? e.createPositionAfter(t) : e.createPositionAt(t, BS("0x1d"))); }
                        var WS = ["get", "TrackChangesService", "adapter", "then", "open", "state", "update", "resolve", "getAll", "addSuggestionData", "editor", "plugins", "getUser", "add", "from", "map", "addUser", "requires", "init"];
                        !function (t, e) { !function (e) { for (; --e;)
                            t.push(t.shift()); }(++e); }(WS, 492);
                        var JS = function (t, e) { return WS[t -= 0]; };
                        var $S = /** @class */ (function (_super) {
                            __extends($S, _super);
                            function $S() {
                                return _super !== null && _super.apply(this, arguments) || this;
                            }
                            Object.defineProperty($S, JS("0x0"), {
                                get: function () { return [T_, LS]; },
                                enumerable: true,
                                configurable: true
                            });
                            $S.prototype[JS("0x1")] = function () {
                                var _this = this;
                                var t = this.editor.plugins.get(Ow), e = this.editor.plugins[JS("0x2")](LS), n = t.connection, i = t.documentId;
                                return this.tt = new ($S[JS("0x3")])(i, n), e[JS("0x4")] = { getSuggestion: function (t) { return _this.tt.get(t).then(function (t) { return _this.m([t])[JS("0x5")](function () { return t; }); }); }, addSuggestion: function (_j) {
                                        var t = _j.id, e = _j.type, n = _j.data, i = _j.originalSuggestionId;
                                        return _this.tt.add(t, e, n, i);
                                    }, updateSuggestion: function (t, e) { return JS("0x6") !== e[JS("0x7")] ? _this.tt[JS("0x8")](t, e) : Promise[JS("0x9")](); } }, this.tt[JS("0xa")]()[JS("0x5")](function (t) { return _this.m(t).then(function () {
                                    var e_1033, _j;
                                    try {
                                        for (var t_550 = __values(t), t_550_1 = t_550.next(); !t_550_1.done; t_550_1 = t_550.next()) {
                                            var n_403 = t_550_1.value;
                                            e[JS("0xb")](n_403);
                                        }
                                    }
                                    catch (e_1033_1) { e_1033 = { error: e_1033_1 }; }
                                    finally {
                                        try {
                                            if (t_550_1 && !t_550_1.done && (_j = t_550.return)) _j.call(t_550);
                                        }
                                        finally { if (e_1033) throw e_1033.error; }
                                    }
                                }); });
                            };
                            $S.prototype.m = function (t) {
                                var e_1034, _j;
                                var e = this[JS("0xc")][JS("0xd")][JS("0x2")](Bw), n = this[JS("0xc")].plugins[JS("0x2")](Ow).connection, i = new Set;
                                try {
                                    for (var t_551 = __values(t), t_551_1 = t_551.next(); !t_551_1.done; t_551_1 = t_551.next()) {
                                        var n_404 = t_551_1.value.authorId;
                                        e[JS("0xe")](n_404) || i[JS("0xf")](n_404);
                                    }
                                }
                                catch (e_1034_1) { e_1034 = { error: e_1034_1 }; }
                                finally {
                                    try {
                                        if (t_551_1 && !t_551_1.done && (_j = t_551.return)) _j.call(t_551);
                                    }
                                    finally { if (e_1034) throw e_1034.error; }
                                }
                                return Promise.all(Array[JS("0x10")](i)[JS("0x11")](function (t) { return nw.get(n, t).then(function (n) { e.getUser(t) || e[JS("0x12")](n); }); }));
                            };
                            return $S;
                        }(Sd));
                        $S[JS("0x3")] = /** @class */ (function () {
                            function class_5(t, e) {
                                this._wsGateway = e, this._documentId = t;
                            }
                            class_5.prototype.add = function (t, e, n, i) {
                                if (i === void 0) { i = null; }
                                return __awaiter(this, void 0, void 0, function () { var o, r; return __generator(this, function (_j) {
                                    switch (_j.label) {
                                        case 0:
                                            o = new _T(t, this._documentId, e, n, i);
                                            return [4 /*yield*/, this._wsGateway._sendRequest(10, _T.TYPE, Kk.encode(o))];
                                        case 1:
                                            r = _j.sent();
                                            return [2 /*return*/, Kk.decode(r, CT)];
                                    }
                                }); });
                            };
                            class_5.prototype.get = function (t, e) {
                                if (e === void 0) { e = 1; }
                                return __awaiter(this, void 0, void 0, function () { var n, o_170, n_405, i; return __generator(this, function (_j) {
                                    switch (_j.label) {
                                        case 0:
                                            n = new TT(t, this._documentId);
                                            _j.label = 1;
                                        case 1:
                                            _j.trys.push([1, 3, , 7]);
                                            return [4 /*yield*/, this._wsGateway._sendRequest(10, TT.TYPE, Kk.encode(n))];
                                        case 2:
                                            o_170 = _j.sent();
                                            return [2 /*return*/, Kk.decode(o_170, AT)];
                                        case 3:
                                            n_405 = _j.sent();
                                            if (!(n_405 instanceof ow && "404" === n_405.code && e < 5)) return [3 /*break*/, 6];
                                            return [4 /*yield*/, (i = 100 * e, new Promise(function (t) { setTimeout(t, i); }))];
                                        case 4:
                                            _j.sent();
                                            return [4 /*yield*/, this.get(t, e + 1)];
                                        case 5: return [2 /*return*/, _j.sent()];
                                        case 6:
                                            if (n_405 instanceof ow)
                                                throw n_405;
                                            throw new ow(n_405.message, this._wsGateway);
                                        case 7: return [2 /*return*/];
                                    }
                                }); });
                            };
                            class_5.prototype.getAll = function () {
                                return __awaiter(this, void 0, void 0, function () { var t, e, n; return __generator(this, function (_j) {
                                    switch (_j.label) {
                                        case 0:
                                            t = new ST(this._documentId);
                                            return [4 /*yield*/, this._wsGateway._sendRequest(10, ST.TYPE, Kk.encode(t))];
                                        case 1:
                                            e = _j.sent(), n = Kk.decode(e, ET).suggestions;
                                            return [2 /*return*/, n];
                                    }
                                }); });
                            };
                            class_5.prototype.update = function (t, e) {
                                if (e === void 0) { e = {}; }
                                var n = e.hasComments, i = e.state, o = void 0 !== n, r = new IT(t, this._documentId, n, o, i);
                                return this._wsGateway._sendRequest(10, IT.TYPE, Kk.encode(r));
                            };
                            Object.defineProperty(class_5, "_SERVICE", {
                                get: function () { return 10; },
                                enumerable: true,
                                configurable: true
                            });
                            return class_5;
                        }());
                        var GS = ["extendTemplate", "ck-suggestion__user", "ck-annotation__user", "bindTemplate", "div", "ck-suggestion-wrapper", "ck-suggestion-wraper--active", "ck-suggestion", "ck-annotation", "ck-suggestion-", "ck-suggestion__main", "ck-annotation__main", "ck-suggestion__info", "ck-annotation__info", "span", "name", "ck-suggestion__info-name", "ck-annotation__info-name", "time", "ck-comment__info-time", "ck-annotation__info-time", "ck-suggestion__actions", "ck-annotation__actions", "render", "element", "querySelector", ".ck-annotation__content-wrapper", "set", "isActive", "createdAt", "type", "innerHTML", "acceptButton", "Accept suggestion", "ck-suggestion--accept", "discardButton", "Reject suggestion", "ck-suggestion--discard", "userView"];
                        !function (t, e) { !function (e) { for (; --e;)
                            t.push(t.shift()); }(++e); }(GS, 378);
                        var KS = function (t, e) { return GS[t -= 0]; };
                        var QS = /** @class */ (function (_super) {
                            __extends(QS, _super);
                            function QS(t, _j) {
                                var e = _j.author, n = _j.suggestionId, i = _j.formatDateTime;
                                var _this = this;
                                _this = _super.call(this, t) || this, _this[KS("0x0")](KS("0x1"), !1), _this[KS("0x0")](KS("0x2"), null), _this[KS("0x0")](KS("0x3"), ""), _this.set("content", ""), _this.on("change:content", function (t, e, n) { _this._t[KS("0x4")] = n; }), _this[KS("0x5")] = _this.bt(KS("0x6"), Zf.a, KS("0x7")), _this[KS("0x8")] = _this.bt(KS("0x9"), tp.a, KS("0xa")), _this[KS("0xb")] = new tC(t, e), _this[KS("0xb")][KS("0xc")]({ attributes: { class: [KS("0xd"), KS("0xe")] } });
                                var o = _this[KS("0xf")];
                                _this.setTemplate({ tag: KS("0x10"), attributes: { class: [KS("0x11"), o.if(KS("0x1"), KS("0x12"))] }, children: [{ tag: "div", attributes: { class: [KS("0x13"), KS("0x14"), o.to("type", function (t) { return KS("0x15") + t; })], "data-author-id": e.id, "data-suggestion-id": n }, children: [_this[KS("0xb")], { tag: KS("0x10"), attributes: { class: [KS("0x16"), KS("0x17")] }, children: [{ tag: "div", attributes: { class: [KS("0x18"), KS("0x19")] }, children: [{ tag: KS("0x1a"), children: [{ text: _this.userView[KS("0x1b")] }], attributes: { class: [KS("0x1c"), KS("0x1d")] } }, { tag: KS("0x1e"), attributes: { datetime: o.to(KS("0x2")), class: [KS("0x1f"), KS("0x20")] }, children: [{ text: o.to("createdAt", function (t) { return i(t); }) }] }] }, { tag: KS("0x10"), attributes: { class: [KS("0x21"), KS("0x22")] }, children: [_this[KS("0x5")], _this[KS("0x8")]] }, { tag: KS("0x10"), attributes: { class: ["ck-annotation__content-wrapper"] } }] }] }] });
                                return _this;
                            }
                            QS.prototype[KS("0x23")] = function () { _super.prototype[KS("0x23")].call(this), this._t = this[KS("0x24")][KS("0x25")](KS("0x26")); };
                            QS.prototype.bt = function (t, e, n) { var i = new ad(this.locale); return i[KS("0x0")]({ label: t, icon: e, tooltip: !0 }), i[KS("0xc")]({ attributes: { class: n } }), i; };
                            return QS;
                        }(Vl));
                        var ZS = ["author", "formatDateTime", "render", "bind", "type", "isArray", "length", "label", "startsWith", "formatBlock", "formatInline", "format", "Replace", "Remove", "Merge", "deletion", "createdAt", "description", "<p>", "</span> ", "trim", "acceptButton", "execute", "discardButton", "isEnabled", "destroy", "stopListening", "createElement", "span", "innerText", "innerHTML", "suggestion", "isActive", "set", "view", "localeData"];
                        !function (t, e) { !function (e) { for (; --e;)
                            t.push(t.shift()); }(++e); }(ZS, 463);
                        var XS = function (t, e) { return ZS[t -= 0]; };
                        var tE = /** @class */ (function () {
                            function tE(t, e, n, i) {
                                this.localeData = t, this[XS("0x0")] = e, this.vt = n, this.At = i, this.set(XS("0x1"), !1), this.set("isEdit", !1), this[XS("0x2")]("description", []), this[XS("0x3")] = this.xt();
                            }
                            tE.prototype.xt = function () {
                                var _this = this;
                                var t = new QS(this[XS("0x4")].locale, { author: this[XS("0x0")][XS("0x5")], suggestionId: this[XS("0x0")].id, formatDateTime: this.localeData[XS("0x6")] });
                                return t[XS("0x7")](), t[XS("0x8")](XS("0x1")).to(this), t[XS("0x8")](XS("0x9")).to(this, "description", function (t) { return (function (t, e) { var n = Array[XS("0xa")](t) && t[XS("0xb")] ? t[0][XS("0xc")] : ""; function i(t) { return n[XS("0xd")](t); } return XS("0xe") == e || XS("0xf") == e ? XS("0x10") : i(XS("0x11")) ? "replace" : i(XS("0x12")) || i(XS("0x13")) ? XS("0x14") : i("Add") || i("Split") ? "insertion" : e; })(t[0], _this[XS("0x0")][XS("0x9")]); }), t[XS("0x8")](XS("0x15")).to(this[XS("0x0")]), t[XS("0x8")]("content").to(this, XS("0x16"), this, "isActive", function (t, e) {
                                    var e_1035, _j, e_1036, _q;
                                    var n = "";
                                    try {
                                        for (var t_552 = __values(t), t_552_1 = t_552.next(); !t_552_1.done; t_552_1 = t_552.next()) {
                                            var e_1038 = t_552_1.value;
                                            n += XS("0x17");
                                            try {
                                                for (var e_1037 = __values(e_1038), e_1037_1 = e_1037.next(); !e_1037_1.done; e_1037_1 = e_1037.next()) {
                                                    var t_553 = e_1037_1.value;
                                                    n += '<span class="ck-suggestion-type">' + t_553[XS("0xc")] + XS("0x18"), t_553.description && (n += '<span class="ck-suggestion-content">' + eE(t_553.description) + XS("0x18"));
                                                }
                                            }
                                            catch (e_1036_1) { e_1036 = { error: e_1036_1 }; }
                                            finally {
                                                try {
                                                    if (e_1037_1 && !e_1037_1.done && (_q = e_1037.return)) _q.call(e_1037);
                                                }
                                                finally { if (e_1036) throw e_1036.error; }
                                            }
                                            n = n[XS("0x19")](), n += "</p>";
                                        }
                                    }
                                    catch (e_1035_1) { e_1035 = { error: e_1035_1 }; }
                                    finally {
                                        try {
                                            if (t_552_1 && !t_552_1.done && (_j = t_552.return)) _j.call(t_552);
                                        }
                                        finally { if (e_1035) throw e_1035.error; }
                                    }
                                    return e ? n : _C(n, { limit: 140 });
                                }), t[XS("0x1a")][XS("0x8")]("isEnabled").to(this.vt), t[XS("0x1a")].on(XS("0x1b"), function () { return _this.vt[XS("0x1b")](_this[XS("0x0")].id); }), t[XS("0x1c")][XS("0x8")](XS("0x1d")).to(this.At), t[XS("0x1c")].on(XS("0x1b"), function () { return _this.At[XS("0x1b")](_this[XS("0x0")].id); }), t;
                            };
                            tE.prototype[XS("0x1e")] = function () { this[XS("0x1f")](), this.view[XS("0x1e")](); };
                            return tE;
                        }());
                        function eE(t) { var e = document[XS("0x20")](XS("0x21")); return e[XS("0x22")] = t, e[XS("0x23")]; }
                        li(tE, Ui);
                        var nE = n(125), iE = n.n(nE), oE = ["plugins", "get", "_suggestionControllerToThreadController", "init", "TrackChangesEditing", "listenTo", "suggestionLoaded", "refreshActiveView", "set", "change:previous", "isInContent", "head", "previous", "suggestionUnloaded", "stopListening", "cancel", "_modelToController", "suggestionChanged", "model", "markers", "hasMarker", "removeMarker", "change:activeView", "_viewToController", "has", "isActive", "getAllAdjacentSuggestions", "activeMarkers", "reduce", "getMarkerNames", "add", "trackChanges", "commands", "buttonView", "Track changes", "bind", "value", "execute", "separator", "button", "acceptAllSuggestions", "Accept all selected suggestions", "acceptSelectedSuggestions", "Discard all suggestions", "Discard all selected suggestions", "discardSelectedSuggestions", "type", "commandName", "isEnabled", "source", "filter", "acceptSuggestion", "discardSuggestion", "locale", "description", "_descriptionFactory", "getDescriptions", "commentThread", "once", "change:commentThread", "view", "push", "getMarkers", "remove", "delete", "destroy", "pendingSuggestions", "addCommentThread", "removeCommentThread", "updateComment", "removeComment", "comments.editorConfig", "isEdit", "active", "registerChild", "element", "appendChild", "annotationType", "suggestion-", "number", "length", "requires", "editor"];
                        !function (t, e) { !function (e) { for (; --e;)
                            t.push(t.shift()); }(++e); }(oE, 330);
                        var rE = function (t, e) { return oE[t -= 0]; };
                        var sE = /** @class */ (function (_super) {
                            __extends(sE, _super);
                            function sE(t) {
                                var _this = this;
                                _this = _super.call(this, t) || this, _this.ht = _this[rE("0x1")][rE("0x2")][rE("0x3")](F_), _this._modelToController = new Map, _this._viewToController = new Map, _this[rE("0x4")] = new Map, _this.dt = new Map;
                                return _this;
                            }
                            Object.defineProperty(sE, rE("0x0"), {
                                get: function () { return [F_, LS, iv]; },
                                enumerable: true,
                                configurable: true
                            });
                            sE.prototype[rE("0x5")] = function () {
                                var _this = this;
                                var t = this[rE("0x1")], e = t[rE("0x2")][rE("0x3")](rE("0x6"));
                                this[rE("0x7")](e, rE("0x8"), function (t, e) { var n = !1; var i = xs(function (t) { n || t ? n && t && (_this.lt(e), _this.ht[rE("0x9")](), n = !1) : (_this.gt(e), _this.ht[rE("0x9")](), n = !0); }, 10); if (_this.dt[rE("0xa")](e, i), _this[rE("0x7")](e, rE("0xb"), function (t, n, o, r) { e[rE("0xc")] && (null == o ? (_this.ut(r[rE("0xd")]), i(!1)) : (_this.ut(o[rE("0xd")]), i(!0))); }), null !== e[rE("0xe")])
                                    return _this.ut(e[rE("0xd")]), void _this.ht[rE("0x9")](); i(!1); }), this[rE("0x7")](e, rE("0xf"), function (t, e, n) { _this[rE("0x10")](e, "change:previous"), _this.dt[rE("0x3")](e)[rE("0x11")](), _this.dt.delete(e); var i = n ? n[rE("0xd")] : e, o = _this[rE("0x12")][rE("0x3")](i); null !== n && _this.ut(i), null === n && o && _this.lt(e); }), this.listenTo(e, rE("0x13"), function (t, e) { _this.ut(e), _this.ht[rE("0x9")](); }), this[rE("0x7")](this[rE("0x1")][rE("0x14")][rE("0x15")], "update:suggestion", function (t, e, n, i) { null === i && _this.ht[rE("0x16")](e) && _this.ht[rE("0x17")](e); }), this[rE("0x7")](this.ht, rE("0x18"), function (t, n, i, o) { if (o && _this[rE("0x19")][rE("0x1a")](o) && (_this[rE("0x19")][rE("0x3")](o)[rE("0x1b")] = !1), i && _this[rE("0x19")][rE("0x1a")](i)) {
                                    var t_554 = _this[rE("0x19")][rE("0x3")](i), n_406 = t_554.suggestion[rE("0x1c")]();
                                    t_554[rE("0x1b")] = !0, e[rE("0x1d")] = n_406[rE("0x1e")](function (t, e) { return (e[rE("0xc")] && t.push.apply(t, __spread(e[rE("0x1f")]())), t); }, []);
                                }
                                else
                                    e.activeMarkers = []; }), t.ui.componentFactory[rE("0x20")](rE("0x21"), function (e) {
                                    var e_1039, _j;
                                    var n = gd(e, ik), i = t[rE("0x22")][rE("0x3")](rE("0x21"));
                                    n[rE("0x23")][rE("0xa")]({ tooltip: rE("0x24"), label: rE("0x24"), icon: iE.a }), n[rE("0x23")][rE("0x25")]("isOn").to(i, rE("0x26")), n[rE("0x23")].on(rE("0x27"), function () { return i[rE("0x27")](); });
                                    var o = new ro, r = [{ type: "switchbutton", model: { withText: !0, label: rE("0x24"), commandName: rE("0x21") } }, { type: rE("0x28") }, { type: rE("0x29"), model: { withText: !0, label: "Accept all suggestions", commandName: rE("0x2a") } }, { type: rE("0x29"), model: { withText: !0, label: rE("0x2b"), commandName: rE("0x2c") } }, { type: rE("0x29"), model: { withText: !0, label: rE("0x2d"), commandName: "discardAllSuggestions" } }, { type: rE("0x29"), model: { withText: !0, label: rE("0x2e"), commandName: rE("0x2f") } }];
                                    try {
                                        for (var r_99 = __values(r), r_99_1 = r_99.next(); !r_99_1.done; r_99_1 = r_99.next()) {
                                            var e_1040 = r_99_1.value;
                                            var n_407 = { type: e_1040[rE("0x30")] };
                                            if (e_1040[rE("0x14")]) {
                                                var i_270 = new Zp(e_1040[rE("0x14")]), o_171 = t[rE("0x22")].get(i_270[rE("0x31")]);
                                                i_270[rE("0x25")]("isOn", "isEnabled").to(o_171, rE("0x26"), rE("0x32")), n_407[rE("0x14")] = i_270;
                                            }
                                            o.add(n_407);
                                        }
                                    }
                                    catch (e_1039_1) { e_1039 = { error: e_1039_1 }; }
                                    finally {
                                        try {
                                            if (r_99_1 && !r_99_1.done && (_j = r_99.return)) _j.call(r_99);
                                        }
                                        finally { if (e_1039) throw e_1039.error; }
                                    }
                                    return bd(n, o), n[rE("0x25")](rE("0x32")).to(i, rE("0x32")), n.on(rE("0x27"), function (e) { return t[rE("0x27")](e[rE("0x33")][rE("0x31")]); }), n;
                                });
                            };
                            sE.prototype.gt = function (t) {
                                var _this = this;
                                var e_1041, _j;
                                var e = this[rE("0x1")], n = t[rE("0x1c")]()[rE("0x34")](function (t) { return t[rE("0xc")]; }), i = e.commands[rE("0x3")](rE("0x35")), o = e[rE("0x22")][rE("0x3")](rE("0x36")), r = { locale: e[rE("0x37")], formatDateTime: JC(e) }, s = new tE(r, t, i, o), a = this.pt(s);
                                s[rE("0x38")] = e[rE("0x2")].get(rE("0x6"))[rE("0x39")][rE("0x3a")](n), t[rE("0x3b")] ? (this.kt(s, t[rE("0x3b")]), this.ft(a, s)) : t[rE("0x3c")](rE("0x3d"), function () { _this.kt(s, t[rE("0x3b")]), _this.ft(a, s); }), this._modelToController[rE("0xa")](t, s), this[rE("0x19")][rE("0xa")](s[rE("0x3e")], s);
                                var c = [];
                                try {
                                    for (var n_408 = __values(n), n_408_1 = n_408.next(); !n_408_1.done; n_408_1 = n_408.next()) {
                                        var t_555 = n_408_1.value;
                                        c[rE("0x3f")].apply(c, __spread(t_555[rE("0x40")]()));
                                    }
                                }
                                catch (e_1041_1) { e_1041 = { error: e_1041_1 }; }
                                finally {
                                    try {
                                        if (n_408_1 && !n_408_1.done && (_j = n_408.return)) _j.call(n_408);
                                    }
                                    finally { if (e_1041) throw e_1041.error; }
                                }
                                this.ht[rE("0x20")](s.view, a, c);
                            };
                            sE.prototype.lt = function (t) { var e = this[rE("0x1")][rE("0x2")].get(rE("0x6")), n = this[rE("0x12")][rE("0x3")](t), i = this._suggestionControllerToThreadController[rE("0x3")](n); this.ht[rE("0x41")](n.view), this[rE("0x12")][rE("0x42")](t), this[rE("0x19")][rE("0x42")](n[rE("0x3e")]), i && (i[rE("0x43")](), e[rE("0x44")][rE("0x41")](i.id), this[rE("0x4")].delete(n)), n.destroy(); };
                            sE.prototype.ut = function (t) {
                                var e_1042, _j;
                                if (!this[rE("0x12")][rE("0x1a")](t))
                                    return;
                                var e = this[rE("0x12")][rE("0x3")](t), n = t[rE("0x1c")](), i = this[rE("0x1")][rE("0x2")][rE("0x3")](rE("0x6"))._descriptionFactory[rE("0x3a")](n), o = [];
                                try {
                                    for (var n_409 = __values(n), n_409_1 = n_409.next(); !n_409_1.done; n_409_1 = n_409.next()) {
                                        var t_556 = n_409_1.value;
                                        o.push.apply(o, __spread(t_556[rE("0x40")]()));
                                    }
                                }
                                catch (e_1042_1) { e_1042 = { error: e_1042_1 }; }
                                finally {
                                    try {
                                        if (n_409_1 && !n_409_1.done && (_j = n_409.return)) _j.call(n_409);
                                    }
                                    finally { if (e_1042) throw e_1042.error; }
                                }
                                this.ht.setMarkers(e.view, o), e.description = i;
                            };
                            sE.prototype.kt = function (t, e) { var n = this.editor, i = n.plugins[rE("0x3")](rE("0x6")), o = n[rE("0x22")], r = { addCommentThread: o[rE("0x3")](rE("0x45")), removeCommentThread: o.get(rE("0x46")), addComment: o[rE("0x3")]("addComment"), updateComment: o[rE("0x3")](rE("0x47")), removeComment: o[rE("0x3")](rE("0x48")) }, s = { locale: n.locale, formatDateTime: JC(n) }, a = new FC(s, e, r, n.config[rE("0x3")](rE("0x49"))); t[rE("0x25")](rE("0x4a")).to(a), a[rE("0x25")](rE("0x4b")).to(t, rE("0x1b")), a[rE("0x3e")].render(), a.on("change:isEdit", function (t, e, n) { n ? i[rE("0x44")][rE("0xa")](a.id) : i[rE("0x44")][rE("0x41")](a.id); }), t[rE("0x3e")][rE("0x4c")](a[rE("0x3e")]), t[rE("0x3e")][rE("0x4d")][rE("0x4e")](a[rE("0x3e")].element), this._suggestionControllerToThreadController[rE("0xa")](t, a); };
                            sE.prototype.pt = function (t) { var e = new W_(this[rE("0x37")]); return e[rE("0x25")](rE("0x4f")).to(t[rE("0x3e")], "type", function (t) { return rE("0x50") + t; }), e[rE("0x51")] = 1, t[rE("0x3e")].registerChild(e), e; };
                            sE.prototype.ft = function (t, e) { var n = this[rE("0x4")][rE("0x3")](e); t[rE("0x25")](rE("0x4a")).to(n), t[rE("0x25")](rE("0x51")).to(n, rE("0x52"), function (t) { return t + 1; }); };
                            sE.prototype[rE("0x43")] = function () {
                                var e_1043, _j;
                                _super.prototype.destroy.call(this);
                                try {
                                    for (var _q = __values(this.dt.values()), _z = _q.next(); !_z.done; _z = _q.next()) {
                                        var t_557 = _z.value;
                                        t_557[rE("0x11")]();
                                    }
                                }
                                catch (e_1043_1) { e_1043 = { error: e_1043_1 }; }
                                finally {
                                    try {
                                        if (_z && !_z.done && (_j = _q.return)) _j.call(_q);
                                    }
                                    finally { if (e_1043) throw e_1043.error; }
                                }
                                this.dt.clear();
                            };
                            return sE;
                        }(Sd));
                        var aE = ["addSuggestionData", "getSuggestions", "isInContent", "getSuggestion", "subType", "type", "author", "createdAt", "hasComments", "data", "requires", "pluginName", "TrackChanges", "adapter", "editor", "plugins", "get", "addSuggestion"];
                        !function (t, e) { !function (e) { for (; --e;)
                            t.push(t.shift()); }(++e); }(aE, 244);
                        var cE = function (t, e) { return aE[t -= 0]; };
                        var lE = /** @class */ (function (_super) {
                            __extends(lE, _super);
                            function lE() {
                                return _super !== null && _super.apply(this, arguments) || this;
                            }
                            Object.defineProperty(lE, cE("0x0"), {
                                get: function () { return [LS, sE, kT, fT, gT]; },
                                enumerable: true,
                                configurable: true
                            });
                            Object.defineProperty(lE, cE("0x1"), {
                                get: function () { return cE("0x2"); },
                                enumerable: true,
                                configurable: true
                            });
                            Object.defineProperty(lE.prototype, cE("0x3"), {
                                set: function (t) { this[cE("0x4")][cE("0x5")].get(LS)[cE("0x3")] = t; },
                                enumerable: true,
                                configurable: true
                            });
                            Object.defineProperty(lE.prototype, cE("0x3"), {
                                get: function () { return this.editor.plugins[cE("0x6")](LS)[cE("0x3")]; },
                                enumerable: true,
                                configurable: true
                            });
                            lE.prototype[cE("0x7")] = function (t) { return this[cE("0x4")][cE("0x5")][cE("0x6")](LS)[cE("0x8")](t); };
                            lE.prototype[cE("0x9")] = function () {
                                var e_1044, _j, _q, _z, t_558, _0, e_1044_1;
                                return __generator(this, function (_1) {
                                    switch (_1.label) {
                                        case 0:
                                            _1.trys.push([0, 6, 7, 8]);
                                            _q = __values(this.editor[cE("0x5")][cE("0x6")](LS)[cE("0x9")]()), _z = _q.next();
                                            _1.label = 1;
                                        case 1:
                                            if (!!_z.done) return [3 /*break*/, 5];
                                            t_558 = _z.value;
                                            _0 = t_558[cE("0xa")];
                                            if (!_0) return [3 /*break*/, 3];
                                            return [4 /*yield*/, dE(t_558)];
                                        case 2:
                                            _0 = (_1.sent());
                                            _1.label = 3;
                                        case 3:
                                            _0;
                                            _1.label = 4;
                                        case 4:
                                            _z = _q.next();
                                            return [3 /*break*/, 1];
                                        case 5: return [3 /*break*/, 8];
                                        case 6:
                                            e_1044_1 = _1.sent();
                                            e_1044 = { error: e_1044_1 };
                                            return [3 /*break*/, 8];
                                        case 7:
                                            try {
                                                if (_z && !_z.done && (_j = _q.return)) _j.call(_q);
                                            }
                                            finally { if (e_1044) throw e_1044.error; }
                                            return [7 /*endfinally*/];
                                        case 8: return [2 /*return*/];
                                    }
                                });
                            };
                            lE.prototype[cE("0xb")] = function (t) { return dE(this.editor[cE("0x5")][cE("0x6")](LS)[cE("0xb")](t)); };
                            return lE;
                        }(Sd));
                        function dE(t) { return { id: t.id, type: t[cE("0xc")] ? t[cE("0xd")] + ":" + t[cE("0xc")] : t[cE("0xd")], authorId: t[cE("0xe")].id, createdAt: t[cE("0xf")], hasComments: t[cE("0x10")], data: t[cE("0x11")] }; }
                        var uE = ["pluginName", "RealTimeCollaborativeTrackChanges", "requires"];
                        !function (t, e) { !function (e) { for (; --e;)
                            t.push(t.shift()); }(++e); }(uE, 284);
                        var hE = function (t, e) { return uE[t -= 0]; };
                        var fE = ["setTemplate", "ck-presence-list__counter", "isHidden", "ck-presence-list__counter--hidden", " connected users", "bindTemplate", "set", "usersCount"];
                        !function (t, e) { !function (e) { for (; --e;)
                            t.push(t.shift()); }(++e); }(fE, 285);
                        var pE = function (t, e) { return fE[t -= 0]; };
                        var mE = /** @class */ (function (_super) {
                            __extends(mE, _super);
                            function mE(t) {
                                var _this = _super.call(this, t) || this;
                                var e = _this[pE("0x0")];
                                _this[pE("0x1")](pE("0x2"), 0), _this[pE("0x1")]("isHidden", !0), _this[pE("0x3")]({ tag: "div", attributes: { class: ["ck", pE("0x4"), e.if(pE("0x5"), pE("0x6"))] }, children: [{ text: e.to(pE("0x2"), function (t) { return 1 === t ? "1 connected user (me)" : t + pE("0x7"); }) }] });
                                return _this;
                            }
                            return mE;
                        }(Vl));
                        var gE = ["createCollection", "bindTemplate", "setTemplate", "div", "execute", "items"];
                        !function (t, e) { !function (e) { for (; --e;)
                            t.push(t.shift()); }(++e); }(gE, 377);
                        var xE = function (t, e) { return gE[t -= 0]; };
                        var bE = /** @class */ (function (_super) {
                            __extends(bE, _super);
                            function bE(t) {
                                var _this = this;
                                _this = _super.call(this, t) || this, _this[xE("0x0")] = _this[xE("0x1")]();
                                var e = _this[xE("0x2")];
                                _this[xE("0x3")]({ tag: xE("0x4"), attributes: { class: ["ck", "ck-presence-list__list"] }, children: _this[xE("0x0")], on: { click: e.to(function () { return _this.fire(xE("0x5")); }) } });
                                return _this;
                            }
                            return bE;
                        }(Vl));
                        n(303);
                        var kE = ["inlineListView", "bindTemplate", "locale", "setTemplate", "div", "ck-reset", "ck-rounded-corners", "isCollapsed", "counterView"];
                        !function (t, e) { !function (e) { for (; --e;)
                            t.push(t.shift()); }(++e); }(kE, 253);
                        var wE = function (t, e) { return kE[t -= 0]; };
                        var vE = /** @class */ (function (_super) {
                            __extends(vE, _super);
                            function vE(t) {
                                var _this = _super.call(this, t) || this;
                                var e = _this[wE("0x0")];
                                _this.set("isCollapsed", !0), _this.counterView = new mE(_this[wE("0x1")]), _this.inlineListView = new bE(t), _this[wE("0x2")]({ tag: wE("0x3"), attributes: { class: ["ck", "ck-presence-list", wE("0x4"), wE("0x5"), e.if(wE("0x6"), "ck-presence-list--collapsed")] }, children: [_this[wE("0x7")], _this[wE("0x8")]] });
                                return _this;
                            }
                            return vE;
                        }(Vl));
                        var yE = ["div", "ck-presence-list__dropdown-list-wrapper", "setTemplate", "ck-presence-list__dropdown-list"];
                        !function (t, e) { !function (e) { for (; --e;)
                            t.push(t.shift()); }(++e); }(yE, 162);
                        var _E = function (t, e) { return yE[t -= 0]; };
                        var CE = /** @class */ (function (_super) {
                            __extends(CE, _super);
                            function CE(t) {
                                var _this = this;
                                _this = _super.call(this, t) || this, _this.items = _this.createCollection(), _this[_E("0x0")]({ tag: "div", attributes: { class: ["ck", _E("0x1")] }, children: [{ tag: _E("0x2"), attributes: { class: ["ck", _E("0x3")] }, children: _this.items }] });
                                return _this;
                            }
                            return CE;
                        }(Vl));
                        var TE = ["userView", "div", "ck-presence-list__dropdown-list-item", "ck-presence-list__marker", "getBackgroundColorClass", "true", "button", "execute", "setTemplate", "bindTemplate"];
                        !function (t, e) { !function (e) { for (; --e;)
                            t.push(t.shift()); }(++e); }(TE, 209);
                        var AE = function (t, e) { return TE[t -= 0]; };
                        var SE = /** @class */ (function (_super) {
                            __extends(SE, _super);
                            function SE(t, e, n) {
                                var _this = _super.call(this, t) || this;
                                var i = _this[AE("0x0")];
                                _this[AE("0x1")] = new tC(t, e);
                                var o = { tag: AE("0x2"), attributes: { class: ["ck", AE("0x3")] }, children: [_this[AE("0x1")], { tag: "span", attributes: { class: ["ck", "ck-user__full-name"] }, children: [{ text: e.name }] }, { tag: "span", attributes: { class: ["ck", AE("0x4"), e.color[AE("0x5")](1)], "aria-hidden": AE("0x6") } }] };
                                n && (o.tag = AE("0x7"), o.on = { click: i.to(function () { return _this.fire(AE("0x8")); }) }), _this[AE("0x9")](o);
                                return _this;
                            }
                            return SE;
                        }(Vl));
                        var EE = ["span", "ck-tooltip__text", "text", "bindTemplate", "ck-tooltip", "position", "ck-tooltip_"];
                        !function (t, e) { !function (e) { for (; --e;)
                            t.push(t.shift()); }(++e); }(EE, 143);
                        var PE = function (t, e) { return EE[t -= 0]; };
                        var IE = /** @class */ (function (_super) {
                            __extends(IE, _super);
                            function IE(t) {
                                var _this = _super.call(this, t) || this;
                                var e = _this[PE("0x0")];
                                _this.setTemplate({ tag: "span", attributes: { class: ["ck", PE("0x1"), e.to(PE("0x2"), function (t) { return PE("0x3") + t; })] }, children: [{ tag: PE("0x4"), attributes: { class: [PE("0x5")] }, children: [{ tag: "span", class: ["ck-tooltip__text__inner"], children: [{ text: e.to(PE("0x6")) }] }] }] });
                                return _this;
                            }
                            return IE;
                        }(sd));
                        var NE = ["userView", "markerView", "tooltipView", "text", "name", "div", "ck-presence-list__list-item", "tag", "button", "fire", "execute", "span", "ck-presence-list__marker", "color", "true", "bindTemplate"];
                        !function (t, e) { !function (e) { for (; --e;)
                            t.push(t.shift()); }(++e); }(NE, 239);
                        var ME = function (t, e) { return NE[t -= 0]; };
                        var OE = /** @class */ (function (_super) {
                            __extends(OE, _super);
                            function OE(t, e, n) {
                                var _this = _super.call(this, t) || this;
                                var i = _this[ME("0x0")];
                                _this[ME("0x1")] = new tC(t, e), _this[ME("0x2")] = new RE(t, e), _this[ME("0x3")] = new IE(t), _this[ME("0x3")][ME("0x4")] = _this[ME("0x1")][ME("0x5")];
                                var o = { tag: ME("0x6"), attributes: { class: ["ck", ME("0x7")] }, children: [_this.userView, _this[ME("0x2")], _this[ME("0x3")]] };
                                n && (o[ME("0x8")] = ME("0x9"), o.on = { click: i.to(function () { return _this[ME("0xa")](ME("0xb")); }) }), _this.setTemplate(o);
                                return _this;
                            }
                            return OE;
                        }(Vl));
                        var RE = /** @class */ (function (_super) {
                            __extends(RE, _super);
                            function RE(t, e) {
                                var _this = this;
                                _this = _super.call(this, t) || this, _this.setTemplate({ tag: ME("0xc"), attributes: { class: ["ck", ME("0xd"), e[ME("0xe")].getBackgroundColorClass()], "aria-hidden": ME("0xf") } });
                                return _this;
                            }
                            return RE;
                        }(Vl));
                        var DE = ["config", "get", "presenceList.collapseAt", "requires", "init", "editor", "plugins", "set", "usersCount", "lastConnectedUsers", "balloonPanelView", "view", "presenceDropdownView", "connectedUsers", "listenTo", "add", "remove", "locale", "counterView", "bind", "isHidden", "hideDropdown", "items", "bindTo", "using", "onClick", "execute", "inlineListView", "isCollapsed", "showDropdown", "render", "isVisible", "presenceList.container", "element", "registerChild", "body", "length", "from", "reverse", "content", "unpin", "destroy", "isRendered", "define", "presenceList", "number"];
                        !function (t, e) { !function (e) { for (; --e;)
                            t.push(t.shift()); }(++e); }(DE, 227);
                        var jE = function (t, e) { return DE[t -= 0]; };
                        var BE = 5;
                        var LE = /** @class */ (function (_super) {
                            __extends(LE, _super);
                            function LE(t) {
                                var _this = this;
                                if (_this = _super.call(this, t) || this, t.config[jE("0x0")](jE("0x1"), { collapseAt: 6 }), jE("0x2") != typeof t[jE("0x3")][jE("0x4")](jE("0x5")))
                                    throw new Gn.b("presenceList: collapseAt must be a number.", _this);
                                if (t[jE("0x3")][jE("0x4")](jE("0x5")) < 1)
                                    throw new Gn.b("presenceList: collapseAt must be higher than 0.", _this);
                                return _this;
                            }
                            Object.defineProperty(LE, jE("0x6"), {
                                get: function () { return [pv]; },
                                enumerable: true,
                                configurable: true
                            });
                            LE.prototype[jE("0x7")] = function () {
                                var _this = this;
                                var e_1045, _j;
                                var t = this[jE("0x8")];
                                this.i = t[jE("0x9")][jE("0x4")](pv), this[jE("0xa")](jE("0xb"), 0), this[jE("0xc")] = new ro, this[jE("0xd")] = new op, this[jE("0xd")].class = "ck ck-presence-list__balloon", this[jE("0xe")] = this.s(), this[jE("0xf")] = void 0;
                                try {
                                    for (var _q = __values(this.i[jE("0x10")]), _z = _q.next(); !_z.done; _z = _q.next()) {
                                        var t_559 = _z.value;
                                        this.o(t_559);
                                    }
                                }
                                catch (e_1045_1) { e_1045 = { error: e_1045_1 }; }
                                finally {
                                    try {
                                        if (_z && !_z.done && (_j = _q.return)) _j.call(_q);
                                    }
                                    finally { if (e_1045) throw e_1045.error; }
                                }
                                this[jE("0x11")](this.i.connectedUsers, jE("0x12"), function (t, e) { _this.o(e); }), this.listenTo(this.i[jE("0x10")], jE("0x13"), function (t, e) { _this.h(e); });
                            };
                            LE.prototype.s = function () {
                                var _this = this;
                                var t = this[jE("0x8")], e = new vE(this[jE("0x8")][jE("0x14")]), n = this[jE("0xd")];
                                if (!Wn(t.config[jE("0x4")]("presenceList.container")))
                                    throw new Gn.b("presenceList: Missing container element.", this);
                                return e[jE("0x15")][jE("0x16")](jE("0xb")).to(this), e[jE("0x16")]("isCollapsed").to(this, "usersCount", function (n) { var i = n >= t.config.get(jE("0x5")); return e.counterView[jE("0x17")] = !(1 == n || i), i || _this[jE("0x18")](), i; }), e.inlineListView[jE("0x19")][jE("0x1a")](this.lastConnectedUsers)[jE("0x1b")](function (e) { var n = t[jE("0x3")].get(jE("0x1")), i = new OE(t[jE("0x14")], e, n[jE("0x1c")]); return n[jE("0x1c")] && _this[jE("0x11")](i, jE("0x1d"), function () { _this[jE("0xe")].isCollapsed || n[jE("0x1c")](e, i.element); }), i; }), this.listenTo(e[jE("0x1e")], "execute", function () { _this.presenceDropdownView ? _this[jE("0x18")]() : _this[jE("0xe")][jE("0x1f")] && _this[jE("0x20")](); }), e[jE("0x21")](), n[jE("0x21")](), md({ emitter: e, activator: function () { return n[jE("0x22")]; }, contextElements: [n.element, e[jE("0x1e")].element], callback: function () { return _this.hideDropdown(); } }), t[jE("0x3")][jE("0x4")](jE("0x23")).appendChild(e[jE("0x24")]), t.ui[jE("0xe")][jE("0x25")](e), this[jE("0x8")].ui[jE("0xe")][jE("0x26")][jE("0x12")](n), e;
                            };
                            LE.prototype.o = function (t) { this[jE("0xb")]++, this[jE("0xc")].length == BE && this[jE("0xc")][jE("0x13")](0), this[jE("0xc")][jE("0x12")](t); };
                            LE.prototype.h = function (t) {
                                var e_1046, _j;
                                if (this[jE("0xb")]--, this[jE("0xc")].get(t.id) && (this[jE("0xc")].remove(t.id), this[jE("0xc")][jE("0x27")] < this.usersCount))
                                    try {
                                        for (var _q = __values(Array[jE("0x28")](this.i[jE("0x10")])[jE("0x29")]()), _z = _q.next(); !_z.done; _z = _q.next()) {
                                            var t_560 = _z.value;
                                            if (!this[jE("0xc")][jE("0x4")](t_560.id))
                                                return void this[jE("0xc")][jE("0x12")](t_560, 0);
                                        }
                                    }
                                    catch (e_1046_1) { e_1046 = { error: e_1046_1 }; }
                                    finally {
                                        try {
                                            if (_z && !_z.done && (_j = _q.return)) _j.call(_q);
                                        }
                                        finally { if (e_1046) throw e_1046.error; }
                                    }
                            };
                            LE.prototype[jE("0x20")] = function () {
                                var _this = this;
                                if (this[jE("0xf")])
                                    return;
                                this.presenceDropdownView = new CE;
                                var t = this[jE("0x8")][jE("0x3")][jE("0x4")]("presenceList");
                                this[jE("0xf")][jE("0x19")][jE("0x1a")](this.i.connectedUsers)[jE("0x1b")](function (e) { var n = new SE(_this.editor[jE("0x14")], e, !!t[jE("0x1c")]); return t.onClick && _this.listenTo(n, "execute", function () { t[jE("0x1c")](e, n.element); }), n; }), this[jE("0xd")][jE("0x2a")][jE("0x12")](this[jE("0xf")]), this[jE("0xd")].pin({ target: this[jE("0xe")].inlineListView[jE("0x24")] });
                            };
                            LE.prototype[jE("0x18")] = function () { this[jE("0xf")] && (this.balloonPanelView[jE("0x2b")](), this[jE("0xd")][jE("0x2a")][jE("0x13")](this[jE("0xf")]), this[jE("0xf")].destroy(), this.presenceDropdownView = void 0); };
                            LE.prototype[jE("0x2c")] = function () { _super.prototype[jE("0x2c")].call(this), this[jE("0xe")] && this[jE("0xe")][jE("0x2d")] && this[jE("0xe")][jE("0x24")][jE("0x13")](); };
                            return LE;
                        }(Sd));
                        var VE = ["pluginName", "PresenceList", "requires"];
                        !function (t, e) { !function (e) { for (; --e;)
                            t.push(t.shift()); }(++e); }(VE, 182);
                        var FE = function (t, e) { return VE[t -= 0]; };
                        n.d(e, "default", function () { return zE; });
                        var zE = /** @class */ (function (_super) {
                            __extends(zE, _super);
                            function zE() {
                                return _super !== null && _super.apply(this, arguments) || this;
                            }
                            return zE;
                        }(Ad));
                        zE.builtinPlugins = [/** @class */ (function (_super) {
                                __extends(class_6, _super);
                                function class_6() {
                                    return _super !== null && _super.apply(this, arguments) || this;
                                }
                                Object.defineProperty(class_6, "requires", {
                                    get: function () { return [gb, Ab]; },
                                    enumerable: true,
                                    configurable: true
                                });
                                Object.defineProperty(class_6, "pluginName", {
                                    get: function () { return "Alignment"; },
                                    enumerable: true,
                                    configurable: true
                                });
                                return class_6;
                            }(Sd)), Fu, /** @class */ (function (_super) {
                                __extends(class_7, _super);
                                function class_7() {
                                    return _super !== null && _super.apply(this, arguments) || this;
                                }
                                Object.defineProperty(class_7, "requires", {
                                    get: function () { return [ch, uh]; },
                                    enumerable: true,
                                    configurable: true
                                });
                                Object.defineProperty(class_7, "pluginName", {
                                    get: function () { return "BlockQuote"; },
                                    enumerable: true,
                                    configurable: true
                                });
                                return class_7;
                            }(Sd)), Gu, /** @class */ (function (_super) {
                                __extends(class_8, _super);
                                function class_8() {
                                    return _super !== null && _super.apply(this, arguments) || this;
                                }
                                Object.defineProperty(class_8, "pluginName", {
                                    get: function () { return "CKFinder"; },
                                    enumerable: true,
                                    configurable: true
                                });
                                Object.defineProperty(class_8, "requires", {
                                    get: function () { return [Of, ph, Du]; },
                                    enumerable: true,
                                    configurable: true
                                });
                                return class_8;
                            }(Sd)), /** @class */ (function (_super) {
                                __extends(class_9, _super);
                                function class_9() {
                                    return _super !== null && _super.apply(this, arguments) || this;
                                }
                                Object.defineProperty(class_9, "requires", {
                                    get: function () { return [Ff, vp, Up]; },
                                    enumerable: true,
                                    configurable: true
                                });
                                Object.defineProperty(class_9, "pluginName", {
                                    get: function () { return "EasyImage"; },
                                    enumerable: true,
                                    configurable: true
                                });
                                return class_9;
                            }(Sd)), Au, /** @class */ (function (_super) {
                                __extends(class_10, _super);
                                function class_10() {
                                    return _super !== null && _super.apply(this, arguments) || this;
                                }
                                Object.defineProperty(class_10, "requires", {
                                    get: function () { return [Jb, Kb]; },
                                    enumerable: true,
                                    configurable: true
                                });
                                Object.defineProperty(class_10, "pluginName", {
                                    get: function () { return "FontFamily"; },
                                    enumerable: true,
                                    configurable: true
                                });
                                return class_10;
                            }(Sd)), /** @class */ (function (_super) {
                                __extends(class_11, _super);
                                function class_11() {
                                    return _super !== null && _super.apply(this, arguments) || this;
                                }
                                Object.defineProperty(class_11, "requires", {
                                    get: function () { return [Vb, Ub]; },
                                    enumerable: true,
                                    configurable: true
                                });
                                Object.defineProperty(class_11, "pluginName", {
                                    get: function () { return "FontSize"; },
                                    enumerable: true,
                                    configurable: true
                                });
                                return class_11;
                            }(Sd)), /** @class */ (function (_super) {
                                __extends(class_12, _super);
                                function class_12() {
                                    return _super !== null && _super.apply(this, arguments) || this;
                                }
                                Object.defineProperty(class_12, "requires", {
                                    get: function () { return [Qp, Xp]; },
                                    enumerable: true,
                                    configurable: true
                                });
                                Object.defineProperty(class_12, "pluginName", {
                                    get: function () { return "Heading"; },
                                    enumerable: true,
                                    configurable: true
                                });
                                return class_12;
                            }(Sd)), /** @class */ (function (_super) {
                                __extends(class_13, _super);
                                function class_13() {
                                    return _super !== null && _super.apply(this, arguments) || this;
                                }
                                Object.defineProperty(class_13, "requires", {
                                    get: function () { return [Zb, ok]; },
                                    enumerable: true,
                                    configurable: true
                                });
                                Object.defineProperty(class_13, "pluginName", {
                                    get: function () { return "Highlight"; },
                                    enumerable: true,
                                    configurable: true
                                });
                                return class_13;
                            }(Sd)), vp, /** @class */ (function (_super) {
                                __extends(class_14, _super);
                                function class_14() {
                                    return _super !== null && _super.apply(this, arguments) || this;
                                }
                                Object.defineProperty(class_14, "requires", {
                                    get: function () { return [nm]; },
                                    enumerable: true,
                                    configurable: true
                                });
                                Object.defineProperty(class_14, "pluginName", {
                                    get: function () { return "ImageCaption"; },
                                    enumerable: true,
                                    configurable: true
                                });
                                return class_14;
                            }(Sd)), /** @class */ (function (_super) {
                                __extends(class_15, _super);
                                function class_15() {
                                    return _super !== null && _super.apply(this, arguments) || this;
                                }
                                Object.defineProperty(class_15, "requires", {
                                    get: function () { return [pm]; },
                                    enumerable: true,
                                    configurable: true
                                });
                                Object.defineProperty(class_15, "pluginName", {
                                    get: function () { return "ImageResize"; },
                                    enumerable: true,
                                    configurable: true
                                });
                                class_15.prototype.init = function () { var t = this.editor, e = new mm(t); this._registerSchema(), this._registerConverters(), t.commands.add("imageResize", e), t.editing.downcastDispatcher.on("insert:image", function (n, i, o) { var r = o.mapper.toViewElement(i.item), s = t.plugins.get(pm).attachTo({ unit: t.config.get("image.resizeUnit") || "%", modelElement: i.item, viewElement: r, downcastWriter: o.writer, getHandleHost: function (t) { return t.querySelector("img"); }, getResizeHost: function (t) { return t; }, isCentered: function () { var t = i.item.getAttribute("imageStyle"); return !t || "full" == t || "alignCenter" == t; }, onCommit: function (e) { t.execute("imageResize", { width: e }); } }); s.on("updateSize", function () { r.hasClass("image_resized") || t.editing.view.change(function (t) { t.addClass("image_resized", r); }); }), s.bind("isEnabled").to(e); }, { priority: "low" }); };
                                class_15.prototype._registerSchema = function () { this.editor.model.schema.extend("image", { allowAttributes: "width" }); };
                                class_15.prototype._registerConverters = function () { var t = this.editor; t.conversion.for("downcast").add(function (t) { return t.on("attribute:width:image", function (t, e, n) { if (!n.consumable.consume(e.item, t.name))
                                    return; var i = n.writer, o = n.mapper.toViewElement(e.item); null !== e.attributeNewValue ? (i.setStyle("width", e.attributeNewValue, o), i.addClass("image_resized", o)) : (i.removeStyle("width", o), i.removeClass("image_resized", o)); }); }), t.conversion.for("upcast").attributeToAttribute({ view: { name: "figure", styles: { width: /.+/ } }, model: { key: "width", value: function (t) { return t.getStyle("width"); } } }); };
                                return class_15;
                            }(Sd)), /** @class */ (function (_super) {
                                __extends(class_16, _super);
                                function class_16() {
                                    return _super !== null && _super.apply(this, arguments) || this;
                                }
                                Object.defineProperty(class_16, "requires", {
                                    get: function () { return [Im, Nm]; },
                                    enumerable: true,
                                    configurable: true
                                });
                                Object.defineProperty(class_16, "pluginName", {
                                    get: function () { return "ImageStyle"; },
                                    enumerable: true,
                                    configurable: true
                                });
                                return class_16;
                            }(Sd)), /** @class */ (function (_super) {
                                __extends(class_17, _super);
                                function class_17() {
                                    return _super !== null && _super.apply(this, arguments) || this;
                                }
                                Object.defineProperty(class_17, "requires", {
                                    get: function () { return [Mm]; },
                                    enumerable: true,
                                    configurable: true
                                });
                                Object.defineProperty(class_17, "pluginName", {
                                    get: function () { return "ImageToolbar"; },
                                    enumerable: true,
                                    configurable: true
                                });
                                class_17.prototype.afterInit = function () { var t = this.editor, e = t.t; t.plugins.get(Mm).register("image", { ariaLabel: e("b"), items: t.config.get("image.toolbar") || [], getRelatedElement: Nh }); };
                                return class_17;
                            }(Sd)), Up, nh, /** @class */ (function (_super) {
                                __extends(class_18, _super);
                                function class_18() {
                                    return _super !== null && _super.apply(this, arguments) || this;
                                }
                                Object.defineProperty(class_18, "requires", {
                                    get: function () { return [Pf, Ym]; },
                                    enumerable: true,
                                    configurable: true
                                });
                                Object.defineProperty(class_18, "pluginName", {
                                    get: function () { return "Link"; },
                                    enumerable: true,
                                    configurable: true
                                });
                                return class_18;
                            }(Sd)), Cg, /** @class */ (function (_super) {
                                __extends(class_19, _super);
                                function class_19() {
                                    return _super !== null && _super.apply(this, arguments) || this;
                                }
                                Object.defineProperty(class_19, "requires", {
                                    get: function () { return [jg, Ug, Lg, qf]; },
                                    enumerable: true,
                                    configurable: true
                                });
                                Object.defineProperty(class_19, "pluginName", {
                                    get: function () { return "MediaEmbed"; },
                                    enumerable: true,
                                    configurable: true
                                });
                                return class_19;
                            }(Sd)), Yp, /** @class */ (function (_super) {
                                __extends(class_20, _super);
                                function class_20() {
                                    return _super !== null && _super.apply(this, arguments) || this;
                                }
                                Object.defineProperty(class_20, "pluginName", {
                                    get: function () { return "PasteFromOffice"; },
                                    enumerable: true,
                                    configurable: true
                                });
                                Object.defineProperty(class_20, "requires", {
                                    get: function () { return [Nd]; },
                                    enumerable: true,
                                    configurable: true
                                });
                                class_20.prototype.init = function () { var t = this.editor, e = []; e.push(new Xg), e.push(new Wg), t.plugins.get("Clipboard").on("inputTransformation", function (t, n) { if (n.isTransformedWithPasteFromOffice)
                                    return; var i = n.dataTransfer.getData("text/html"), o = e.find(function (t) { return t.isActive(i); }); o && (o.execute(n), n.isTransformedWithPasteFromOffice = !0); }, { priority: "high" }); };
                                return class_20;
                            }(Sd)), /** @class */ (function (_super) {
                                __extends(class_21, _super);
                                function class_21() {
                                    return _super !== null && _super.apply(this, arguments) || this;
                                }
                                Object.defineProperty(class_21, FE("0x0"), {
                                    get: function () { return [pv, LE]; },
                                    enumerable: true,
                                    configurable: true
                                });
                                Object.defineProperty(class_21, FE("0x1"), {
                                    get: function () { return FE("0x2"); },
                                    enumerable: true,
                                    configurable: true
                                });
                                return class_21;
                            }(Sd)), /** @class */ (function (_super) {
                                __extends(class_22, _super);
                                function class_22() {
                                    return _super !== null && _super.apply(this, arguments) || this;
                                }
                                Object.defineProperty(class_22, l_("0x0"), {
                                    get: function () { return [s_]; },
                                    enumerable: true,
                                    configurable: true
                                });
                                Object.defineProperty(class_22, l_("0x1"), {
                                    get: function () { return l_("0x2"); },
                                    enumerable: true,
                                    configurable: true
                                });
                                return class_22;
                            }(Sd)), yT, /** @class */ (function (_super) {
                                __extends(class_23, _super);
                                function class_23() {
                                    return _super !== null && _super.apply(this, arguments) || this;
                                }
                                Object.defineProperty(class_23, hE("0x0"), {
                                    get: function () { return [yT, $S, lE]; },
                                    enumerable: true,
                                    configurable: true
                                });
                                Object.defineProperty(class_23, hE("0x1"), {
                                    get: function () { return hE("0x2"); },
                                    enumerable: true,
                                    configurable: true
                                });
                                return class_23;
                            }(Sd)), /** @class */ (function (_super) {
                                __extends(class_24, _super);
                                function class_24() {
                                    return _super !== null && _super.apply(this, arguments) || this;
                                }
                                Object.defineProperty(class_24, "requires", {
                                    get: function () { return [uk, lk]; },
                                    enumerable: true,
                                    configurable: true
                                });
                                Object.defineProperty(class_24, "pluginName", {
                                    get: function () { return "RemoveFormat"; },
                                    enumerable: true,
                                    configurable: true
                                });
                                return class_24;
                            }(Sd)), /** @class */ (function (_super) {
                                __extends(class_25, _super);
                                function class_25() {
                                    return _super !== null && _super.apply(this, arguments) || this;
                                }
                                Object.defineProperty(class_25, "requires", {
                                    get: function () { return [fk, xk]; },
                                    enumerable: true,
                                    configurable: true
                                });
                                Object.defineProperty(class_25, "pluginName", {
                                    get: function () { return "Strikethrough"; },
                                    enumerable: true,
                                    configurable: true
                                });
                                return class_25;
                            }(Sd)), /** @class */ (function (_super) {
                                __extends(class_26, _super);
                                function class_26() {
                                    return _super !== null && _super.apply(this, arguments) || this;
                                }
                                Object.defineProperty(class_26, "requires", {
                                    get: function () { return [Zx, lb, qf]; },
                                    enumerable: true,
                                    configurable: true
                                });
                                Object.defineProperty(class_26, "pluginName", {
                                    get: function () { return "Table"; },
                                    enumerable: true,
                                    configurable: true
                                });
                                return class_26;
                            }(Sd)), /** @class */ (function (_super) {
                                __extends(class_27, _super);
                                function class_27() {
                                    return _super !== null && _super.apply(this, arguments) || this;
                                }
                                Object.defineProperty(class_27, "requires", {
                                    get: function () { return [Mm]; },
                                    enumerable: true,
                                    configurable: true
                                });
                                Object.defineProperty(class_27, "pluginName", {
                                    get: function () { return "TableToolbar"; },
                                    enumerable: true,
                                    configurable: true
                                });
                                class_27.prototype.afterInit = function () { var t = this.editor, e = t.t, n = t.plugins.get(Mm), i = t.config.get("table.contentToolbar"), o = t.config.get("table.tableToolbar"); i && n.register("tableContent", { ariaLabel: e("c"), items: i, getRelatedElement: lx }), o && n.register("table", { ariaLabel: e("c"), items: o, getRelatedElement: cx }); };
                                return class_27;
                            }(Sd)), /** @class */ (function (_super) {
                                __extends(class_28, _super);
                                function class_28() {
                                    return _super !== null && _super.apply(this, arguments) || this;
                                }
                                Object.defineProperty(class_28, "requires", {
                                    get: function () { return [kk, _k]; },
                                    enumerable: true,
                                    configurable: true
                                });
                                Object.defineProperty(class_28, "pluginName", {
                                    get: function () { return "Underline"; },
                                    enumerable: true,
                                    configurable: true
                                });
                                return class_28;
                            }(Sd)), Du], zE.defaultConfig = { toolbar: ["heading", "|", "fontsize", "fontfamily", "|", "bold", "italic", "underline", "strikethrough", "removeFormat", "highlight", "|", "alignment", "|", "numberedList", "bulletedList", "|", "link", "blockquote", "imageUpload", "insertTable", "mediaEmbed", "|", "undo", "redo", "|", "comment", "|", "trackChanges"], image: { toolbar: ["imageStyle:full", "imageStyle:side", "|", "imageTextAlternative", "|", "comment"] }, table: { contentToolbar: ["tableColumn", "tableRow", "mergeTableCells"], tableToolbar: ["comment"] }, mediaEmbed: { toolbar: ["comment"] } };
                    }]).default;
            });
            /***/ 
        }),
        /***/ 0: 
        /*!***************************!*\
          !*** multi ./src/main.ts ***!
          \***************************/
        /*! no static exports found */
        /***/ (function (module, exports, __webpack_require__) {
            module.exports = __webpack_require__(/*! /private/tmp/release-collaboration-samples/real-time-collaboration-for-angular/src/main.ts */ "./src/main.ts");
            /***/ 
        })
    }, [[0, "runtime", "vendor"]]]);
